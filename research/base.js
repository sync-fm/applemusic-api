var kU = Object.defineProperty; var DU = (n, e, t) => e in n ? kU(n, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : n[e] = t; var He = (n, e, t) => (DU(n, typeof e != "symbol" ? e + "" : e, t), t); function wze() { import.meta.url, import("_").catch(() => 1); async function* n() { } } (function () { const e = document.createElement("link").relList; if (e && e.supports && e.supports("modulepreload")) return; for (const r of document.querySelectorAll('link[rel="modulepreload"]')) i(r); new MutationObserver(r => { for (const s of r) if (s.type === "childList") for (const o of s.addedNodes) o.tagName === "LINK" && o.rel === "modulepreload" && i(o) }).observe(document, { childList: !0, subtree: !0 }); function t(r) { const s = {}; return r.integrity && (s.integrity = r.integrity), r.referrerPolicy && (s.referrerPolicy = r.referrerPolicy), r.crossOrigin === "use-credentials" ? s.credentials = "include" : r.crossOrigin === "anonymous" ? s.credentials = "omit" : s.credentials = "same-origin", s } function i(r) { if (r.ep) return; r.ep = !0; const s = t(r); fetch(r.href, s) } })(); function j() { } const SU = n => n; function fe(n, e) { for (const t in e) n[t] = e[t]; return n } function CU(n) { return !!n && (typeof n == "object" || typeof n == "function") && typeof n.then == "function" } function EP(n) { return n() } function pv() { return Object.create(null) } function Ot(n) { n.forEach(EP) } function Ft(n) { return typeof n == "function" } function ht(n, e) { return n != n ? e == e : n !== e || n && typeof n == "object" || typeof n == "function" } let $c; function ji(n, e) { return n === e ? !0 : ($c || ($c = document.createElement("a")), $c.href = e, n === $c.href) } function _v(n) { return n.split(",").map(e => e.trim().split(" ").filter(Boolean)) } function IP(n, e) { const t = _v(n.srcset), i = _v(e || ""); return i.length === t.length && i.every(([r, s], o) => s === t[o][1] && (ji(t[o][0], r) || ji(r, t[o][0]))) } function ye(n, e) { return n != n ? e == e : n !== e } function PU(n) { return Object.keys(n).length === 0 } function yn(n, ...e) { if (n == null) { for (const i of e) i(void 0); return j } const t = n.subscribe(...e); return t.unsubscribe ? () => t.unsubscribe() : t } function $t(n) { let e; return yn(n, t => e = t)(), e } function ce(n, e, t) { n.$$.on_destroy.push(yn(e, t)) } function We(n, e, t, i) { if (n) { const r = MP(n, e, t, i); return n[0](r) } } function MP(n, e, t, i) { return n[1] && i ? fe(t.ctx.slice(), n[1](i(e))) : t.ctx } function Ke(n, e, t, i) { if (n[2] && i) { const r = n[2](i(t)); if (e.dirty === void 0) return r; if (typeof r == "object") { const s = [], o = Math.max(e.dirty.length, r.length); for (let a = 0; a < o; a += 1)s[a] = e.dirty[a] | r[a]; return s } return e.dirty | r } return e.dirty } function Je(n, e, t, i, r, s) { if (r) { const o = MP(e, t, i, s); n.p(o, r) } } function Ye(n) { if (n.ctx.length > 32) { const e = [], t = n.ctx.length / 32; for (let i = 0; i < t; i++)e[i] = -1; return e } return -1 } function Ie(n) { const e = {}; for (const t in n) t[0] !== "$" && (e[t] = n[t]); return e } function vv(n, e) { const t = {}; e = new Set(e); for (const i in n) !e.has(i) && i[0] !== "$" && (t[i] = n[i]); return t } function wn(n) { const e = {}; for (const t in n) e[t] = !0; return e } function AU(n) { let e = !1; return function (...t) { e || (e = !0, n.call(this, ...t)) } } function ys(n) { return n == null ? "" : n } function ni(n, e, t) { return n.set(t), e } function Ut(n) { return n && Ft(n.destroy) ? n.destroy : j } function bv(n) { const e = typeof n == "string" && n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/); return e ? [parseFloat(e[1]), e[2] || "px"] : [n, "px"] } const EU = ["", !0, 1, "true", "contenteditable"], LP = typeof window < "u"; let IU = LP ? () => window.performance.now() : () => Date.now(), d0 = LP ? n => requestAnimationFrame(n) : j; const qa = new Set; function TP(n) { qa.forEach(e => { e.c(n) || (qa.delete(e), e.f()) }), qa.size !== 0 && d0(TP) } function MU(n) { let e; return qa.size === 0 && d0(TP), { promise: new Promise(t => { qa.add(e = { c: n, f: t }) }), abort() { qa.delete(e) } } } const RP = typeof window < "u" ? window : typeof globalThis < "u" ? globalThis : global; let bf = !1; function LU() { bf = !0 } function TU() { bf = !1 } function RU(n, e, t, i) { for (; n < e;) { const r = n + (e - n >> 1); t(r) <= i ? n = r + 1 : e = r } return n } function FU(n) { if (n.hydrate_init) return; n.hydrate_init = !0; let e = n.childNodes; if (n.nodeName === "HEAD") { const l = []; for (let u = 0; u < e.length; u++) { const c = e[u]; c.claim_order !== void 0 && l.push(c) } e = l } const t = new Int32Array(e.length + 1), i = new Int32Array(e.length); t[0] = -1; let r = 0; for (let l = 0; l < e.length; l++) { const u = e[l].claim_order, c = (r > 0 && e[t[r]].claim_order <= u ? r + 1 : RU(1, r, f => e[t[f]].claim_order, u)) - 1; i[l] = t[c] + 1; const d = c + 1; t[d] = l, r = Math.max(d, r) } const s = [], o = []; let a = e.length - 1; for (let l = t[r] + 1; l != 0; l = i[l - 1]) { for (s.push(e[l - 1]); a >= l; a--)o.push(e[a]); a-- } for (; a >= 0; a--)o.push(e[a]); s.reverse(), o.sort((l, u) => l.claim_order - u.claim_order); for (let l = 0, u = 0; l < o.length; l++) { for (; u < s.length && o[l].claim_order >= s[u].claim_order;)u++; const c = u < s.length ? s[u] : null; n.insertBefore(o[l], c) } } function FP(n, e) { n.appendChild(e) } function OP(n) { if (!n) return document; const e = n.getRootNode ? n.getRootNode() : n.ownerDocument; return e && e.host ? e : n.ownerDocument } function OU(n) { const e = L("style"); return e.textContent = "/* empty */", NU(OP(n), e), e.sheet } function NU(n, e) { return FP(n.head || n, e), e.sheet } function A(n, e) { if (bf) { for (FU(n), (n.actual_end_child === void 0 || n.actual_end_child !== null && n.actual_end_child.parentNode !== n) && (n.actual_end_child = n.firstChild); n.actual_end_child !== null && n.actual_end_child.claim_order === void 0;)n.actual_end_child = n.actual_end_child.nextSibling; e !== n.actual_end_child ? (e.claim_order !== void 0 || e.parentNode !== n) && n.insertBefore(e, n.actual_end_child) : n.actual_end_child = e.nextSibling } else (e.parentNode !== n || e.nextSibling !== null) && n.appendChild(e) } function BU(n, e, t) { n.insertBefore(e, t || null) } function I(n, e, t) { bf && !t ? A(n, e) : (e.parentNode !== n || e.nextSibling != t) && n.insertBefore(e, t || null) } function _(n) { n.parentNode && n.parentNode.removeChild(n) } function ln(n, e) { for (let t = 0; t < n.length; t += 1)n[t] && n[t].d(e) } function L(n) { return document.createElement(n) } function ve(n) { return document.createElementNS("http://www.w3.org/2000/svg", n) } function le(n) { return document.createTextNode(n) } function Y() { return le(" ") } function re() { return le("") } function Me(n, e, t, i) { return n.addEventListener(e, t, i), () => n.removeEventListener(e, t, i) } function Ui(n) { return function (e) { return e.preventDefault(), n.call(this, e) } } function Vi(n) { return function (e) { return e.stopPropagation(), n.call(this, e) } } function Za(n) { return function (e) { e.target === this && n.call(this, e) } } function p(n, e, t) { t == null ? n.removeAttribute(e) : n.getAttribute(e) !== t && n.setAttribute(e, t) } const UU = ["width", "height"]; function Fi(n, e) { const t = Object.getOwnPropertyDescriptors(n.__proto__); for (const i in e) e[i] == null ? n.removeAttribute(i) : i === "style" ? n.style.cssText = e[i] : i === "__value" ? n.value = n[i] = e[i] : t[i] && t[i].set && UU.indexOf(i) === -1 ? n[i] = e[i] : p(n, i, e[i]) } function Le(n, e) { for (const t in e) p(n, t, e[t]) } function HU(n, e) { Object.keys(e).forEach(t => { Xe(n, t, e[t]) }) } function Xe(n, e, t) { const i = e.toLowerCase(); i in n ? n[i] = typeof n[i] == "boolean" && t === "" ? !0 : t : e in n ? n[e] = typeof n[e] == "boolean" && t === "" ? !0 : t : p(n, e, t) } function yv(n) { return /-/.test(n) ? HU : Fi } function $U(n, e, t) { n.setAttributeNS("http://www.w3.org/1999/xlink", e, t) } function Wr(n) { return n.dataset.svelteH } function E(n) { return Array.from(n.childNodes) } function NP(n) { n.claim_info === void 0 && (n.claim_info = { last_index: 0, total_claimed: 0 }) } function BP(n, e, t, i, r = !1) { NP(n); const s = (() => { for (let o = n.claim_info.last_index; o < n.length; o++) { const a = n[o]; if (e(a)) { const l = t(a); return l === void 0 ? n.splice(o, 1) : n[o] = l, r || (n.claim_info.last_index = o), a } } for (let o = n.claim_info.last_index - 1; o >= 0; o--) { const a = n[o]; if (e(a)) { const l = t(a); return l === void 0 ? n.splice(o, 1) : n[o] = l, r ? l === void 0 && n.claim_info.last_index-- : n.claim_info.last_index = o, a } } return i() })(); return s.claim_order = n.claim_info.total_claimed, n.claim_info.total_claimed += 1, s } function UP(n, e, t, i) { return BP(n, r => r.nodeName === e, r => { const s = []; for (let o = 0; o < r.attributes.length; o++) { const a = r.attributes[o]; t[a.name] || s.push(a.name) } s.forEach(o => r.removeAttribute(o)) }, () => i(e)) } function T(n, e, t) { return UP(n, e, t, L) } function be(n, e, t) { return UP(n, e, t, ve) } function ue(n, e) { return BP(n, t => t.nodeType === 3, t => { const i = "" + e; if (t.data.startsWith(i)) { if (t.data.length !== i.length) return t.splitText(i.length) } else t.data = i }, () => le(e), !0) } function X(n) { return ue(n, " ") } function wv(n, e, t) { for (let i = t; i < n.length; i += 1) { const r = n[i]; if (r.nodeType === 8 && r.textContent.trim() === e) return i } return -1 } function hr(n, e) { const t = wv(n, "HTML_TAG_START", 0), i = wv(n, "HTML_TAG_END", t + 1); if (t === -1 || i === -1) return new Pi(e); NP(n); const r = n.splice(t, i - t + 1); _(r[0]), _(r[r.length - 1]); const s = r.slice(1, r.length - 1); if (s.length === 0) return new Pi(e); for (const o of s) o.claim_order = n.claim_info.total_claimed, n.claim_info.total_claimed += 1; return new Pi(e, s) } function me(n, e) { e = "" + e, n.data !== e && (n.data = e) } function VU(n, e) { e = "" + e, n.wholeText !== e && (n.data = e) } function yf(n, e, t) { ~EU.indexOf(t) ? VU(n, e) : me(n, e) } function ps(n, e) { n.value = e == null ? "" : e } function Pt(n, e, t, i) { t == null ? n.style.removeProperty(e) : n.style.setProperty(e, t, i ? "important" : "") } function kv(n, e, t) { for (let i = 0; i < n.options.length; i += 1) { const r = n.options[i]; if (r.__value === e) { r.selected = !0; return } } (!t || e !== void 0) && (n.selectedIndex = -1) } function zU(n) { const e = n.querySelector(":checked"); return e && e.__value } let Vc; function qU() { if (Vc === void 0) { Vc = !1; try { typeof window < "u" && window.parent && window.parent.document } catch (n) { Vc = !0 } } return Vc } function wf(n, e) { getComputedStyle(n).position === "static" && (n.style.position = "relative"); const i = L("iframe"); i.setAttribute("style", "display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"), i.setAttribute("aria-hidden", "true"), i.tabIndex = -1; const r = qU(); let s; return r ? (i.src = "data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>", s = Me(window, "message", o => { o.source === i.contentWindow && e() })) : (i.src = "about:blank", i.onload = () => { s = Me(i.contentWindow, "resize", e), e() }), FP(n, i), () => { (r || s && i.contentWindow) && s(), _(i) } } function J(n, e, t) { n.classList.toggle(e, !!t) } function HP(n, e, { bubbles: t = !1, cancelable: i = !1 } = {}) { return new CustomEvent(n, { detail: e, bubbles: t, cancelable: i }) } function f0(n, e) { const t = []; let i = 0; for (const r of e.childNodes) if (r.nodeType === 8) { const s = r.textContent.trim(); s === `HEAD_${n}_END` ? (i -= 1, t.push(r)) : s === `HEAD_${n}_START` && (i += 1, t.push(r)) } else i > 0 && t.push(r); return t } class WU { constructor(e = !1) { He(this, "is_svg", !1); He(this, "e"); He(this, "n"); He(this, "t"); He(this, "a"); this.is_svg = e, this.e = this.n = null } c(e) { this.h(e) } m(e, t, i = null) { this.e || (this.is_svg ? this.e = ve(t.nodeName) : this.e = L(t.nodeType === 11 ? "TEMPLATE" : t.nodeName), this.t = t.tagName !== "TEMPLATE" ? t : t.content, this.c(e)), this.i(i) } h(e) { this.e.innerHTML = e, this.n = Array.from(this.e.nodeName === "TEMPLATE" ? this.e.content.childNodes : this.e.childNodes) } i(e) { for (let t = 0; t < this.n.length; t += 1)BU(this.t, this.n[t], e) } p(e) { this.d(), this.h(e), this.i(this.a) } d() { this.n.forEach(_) } } class Pi extends WU { constructor(t = !1, i) { super(t); He(this, "l"); this.e = this.n = null, this.l = i } c(t) { this.l ? this.n = this.l : super.c(t) } i(t) { for (let i = 0; i < this.n.length; i += 1)I(this.t, this.n[i], t) } } function jt(n, e) { return new n(e) } const Od = new Map; let Nd = 0; function KU(n) { let e = 5381, t = n.length; for (; t--;)e = (e << 5) - e ^ n.charCodeAt(t); return e >>> 0 } function JU(n, e) { const t = { stylesheet: OU(e), rules: {} }; return Od.set(n, t), t } function Dv(n, e, t, i, r, s, o, a = 0) {
    const l = 16.666 / i; let u = `{
`; for (let v = 0; v <= 1; v += l) {
        const b = e + (t - e) * s(v); u += v * 100 + `%{${o(b, 1 - b)}}
`} const c = u + `100% {${o(t, 1 - t)}}
}`, d = `__svelte_${KU(c)}_${a}`, f = OP(n), { stylesheet: g, rules: h } = Od.get(f) || JU(f, n); h[d] || (h[d] = !0, g.insertRule(`@keyframes ${d} ${c}`, g.cssRules.length)); const m = n.style.animation || ""; return n.style.animation = `${m ? `${m}, ` : ""}${d} ${i}ms linear ${r}ms 1 both`, Nd += 1, d
} function YU(n, e) { const t = (n.style.animation || "").split(", "), i = t.filter(e ? s => s.indexOf(e) < 0 : s => s.indexOf("__svelte") === -1), r = t.length - i.length; r && (n.style.animation = i.join(", "), Nd -= r, Nd || XU()) } function XU() { d0(() => { Nd || (Od.forEach(n => { const { ownerNode: e } = n.stylesheet; e && _(e) }), Od.clear()) }) } let Iu; function Fs(n) { Iu = n } function Ks() { if (!Iu) throw new Error("Function called outside component initialization"); return Iu } function g0(n) { Ks().$$.before_update.push(n) } function Yt(n) { Ks().$$.on_mount.push(n) } function $P(n) { Ks().$$.after_update.push(n) } function mn(n) { Ks().$$.on_destroy.push(n) } function It() { const n = Ks(); return (e, t, { cancelable: i = !1 } = {}) => { const r = n.$$.callbacks[e]; if (r) { const s = HP(e, t, { cancelable: i }); return r.slice().forEach(o => { o.call(n, s) }), !s.defaultPrevented } return !0 } } function ZU(n, e) { return Ks().$$.context.set(n, e), e } function gi(n) { return Ks().$$.context.get(n) } function QU(n) { return Ks().$$.context.has(n) } function Bt(n, e) { const t = n.$$.callbacks[e.type]; t && t.slice().forEach(i => i.call(this, e)) } const Ua = [], wt = []; let Wa = []; const xm = [], VP = Promise.resolve(); let ep = !1; function zP() { ep || (ep = !0, VP.then(h0)) } function jU() { return zP(), VP } function Jr(n) { Wa.push(n) } function Yr(n) { xm.push(n) } const Ph = new Set; let Ea = 0; function h0() { if (Ea !== 0) return; const n = Iu; do { try { for (; Ea < Ua.length;) { const e = Ua[Ea]; Ea++, Fs(e), GU(e.$$) } } catch (e) { throw Ua.length = 0, Ea = 0, e } for (Fs(null), Ua.length = 0, Ea = 0; wt.length;)wt.pop()(); for (let e = 0; e < Wa.length; e += 1) { const t = Wa[e]; Ph.has(t) || (Ph.add(t), t()) } Wa.length = 0 } while (Ua.length); for (; xm.length;)xm.pop()(); ep = !1, Ph.clear(), Fs(n) } function GU(n) { if (n.fragment !== null) { n.update(), Ot(n.before_update); const e = n.dirty; n.dirty = [-1], n.fragment && n.fragment.p(n.ctx, e), n.after_update.forEach(Jr) } } function xU(n) { const e = [], t = []; Wa.forEach(i => n.indexOf(i) === -1 ? e.push(i) : t.push(i)), t.forEach(i => i()), Wa = e } let Wl; function eH() { return Wl || (Wl = Promise.resolve(), Wl.then(() => { Wl = null })), Wl } function Ah(n, e, t) { n.dispatchEvent(HP(`${e ? "intro" : "outro"}${t}`)) } const bd = new Set; let Os; function te() { Os = { r: 0, c: [], p: Os } } function ne() { Os.r || Ot(Os.c), Os = Os.p } function w(n, e) { n && n.i && (bd.delete(n), n.i(e)) } function D(n, e, t, i) { if (n && n.o) { if (bd.has(n)) return; bd.add(n), Os.c.push(() => { bd.delete(n), i && (t && n.d(1), i()) }), n.o(e) } else i && i() } const tH = { duration: 0 }; function Bd(n, e, t, i) { let s = e(n, t, { direction: "both" }), o = i ? 0 : 1, a = null, l = null, u = null, c; function d() { u && YU(n, u) } function f(h, m) { const v = h.b - o; return m *= Math.abs(v), { a: o, b: h.b, d: v, duration: m, start: h.start, end: h.start + m, group: h.group } } function g(h) { const { delay: m = 0, duration: v = 300, easing: b = SU, tick: y = j, css: k } = s || tH, S = { start: IU() + m, b: h }; h || (S.group = Os, Os.r += 1), "inert" in n && (h ? c !== void 0 && (n.inert = c) : (c = n.inert, n.inert = !0)), a || l ? l = S : (k && (d(), u = Dv(n, o, h, v, m, b, k)), h && y(0, 1), a = f(S, v), Jr(() => Ah(n, h, "start")), MU(C => { if (l && C > l.start && (a = f(l, v), l = null, Ah(n, a.b, "start"), k && (d(), u = Dv(n, o, a.b, a.duration, 0, b, s.css))), a) { if (C >= a.end) y(o = a.b, 1 - o), Ah(n, a.b, "end"), l || (a.b ? d() : --a.group.r || Ot(a.group.c)), a = null; else if (C >= a.start) { const P = C - a.start; o = a.a + a.d * b(P / a.duration), y(o, 1 - o) } } return !!(a || l) })) } return { run(h) { Ft(s) ? eH().then(() => { s = s({ direction: h ? "in" : "out" }), g(h) }) : g(h) }, end() { d(), a = l = null } } } function uo(n, e) { const t = e.token = {}; function i(r, s, o, a) { if (e.token !== t) return; e.resolved = a; let l = e.ctx; o !== void 0 && (l = l.slice(), l[o] = a); const u = r && (e.current = r)(l); let c = !1; e.block && (e.blocks ? e.blocks.forEach((d, f) => { f !== s && d && (te(), D(d, 1, 1, () => { e.blocks[f] === d && (e.blocks[f] = null) }), ne()) }) : e.block.d(1), u.c(), w(u, 1), u.m(e.mount(), e.anchor), c = !0), e.block = u, e.blocks && (e.blocks[s] = u), c && h0() } if (CU(n)) { const r = Ks(); if (n.then(s => { Fs(r), i(e.then, 1, e.value, s), Fs(null) }, s => { if (Fs(r), i(e.catch, 2, e.error, s), Fs(null), !e.hasCatch) throw s }), e.current !== e.pending) return i(e.pending, 0), !0 } else { if (e.current !== e.then) return i(e.then, 1, e.value, n), !0; e.resolved = n } } function Gu(n, e, t) { const i = e.slice(), { resolved: r } = n; n.current === n.then && (i[n.value] = r), n.current === n.catch && (i[n.error] = r), n.block.p(i, t) } function ut(n) { return (n == null ? void 0 : n.length) !== void 0 ? n : Array.from(n) } function nH(n, e) { n.d(1), e.delete(n.key) } function Ir(n, e) { D(n, 1, 1, () => { e.delete(n.key) }) } function lr(n, e, t, i, r, s, o, a, l, u, c, d) { let f = n.length, g = s.length, h = f; const m = {}; for (; h--;)m[n[h].key] = h; const v = [], b = new Map, y = new Map, k = []; for (h = g; h--;) { const M = d(r, s, h), R = t(M); let F = o.get(R); F ? i && k.push(() => F.p(M, e)) : (F = u(R, M), F.c()), b.set(R, v[h] = F), R in m && y.set(R, Math.abs(h - m[R])) } const S = new Set, C = new Set; function P(M) { w(M, 1), M.m(a, c), o.set(M.key, M), c = M.first, g-- } for (; f && g;) { const M = v[g - 1], R = n[f - 1], F = M.key, N = R.key; M === R ? (c = M.first, f--, g--) : b.has(N) ? !o.has(F) || S.has(F) ? P(M) : C.has(N) ? f-- : y.get(F) > y.get(N) ? (C.add(F), P(M)) : (S.add(N), f--) : (l(R, o), f--) } for (; f--;) { const M = n[f]; b.has(M.key) || l(M, o) } for (; g;)P(v[g - 1]); return Ot(k), v } function at(n, e) { const t = {}, i = {}, r = { $$scope: 1 }; let s = n.length; for (; s--;) { const o = n[s], a = e[s]; if (a) { for (const l in o) l in a || (i[l] = 1); for (const l in a) r[l] || (t[l] = a[l], r[l] = 1); n[s] = a } else for (const l in o) r[l] = 1 } for (const o in i) o in t || (t[o] = void 0); return t } function iH(n) { return typeof n == "object" && n !== null ? n : {} } function Xr(n, e, t) { const i = n.$$.props[e]; i !== void 0 && (n.$$.bound[i] = t, t(n.$$.ctx[i])) } function V(n) { n && n.c() } function q(n, e) { n && n.l(e) } function H(n, e, t) { const { fragment: i, after_update: r } = n.$$; i && i.m(e, t), Jr(() => { const s = n.$$.on_mount.map(EP).filter(Ft); n.$$.on_destroy ? n.$$.on_destroy.push(...s) : Ot(s), n.$$.on_mount = [] }), r.forEach(Jr) } function $(n, e) { const t = n.$$; t.fragment !== null && (xU(t.after_update), Ot(t.on_destroy), t.fragment && t.fragment.d(e), t.on_destroy = t.fragment = null, t.ctx = []) } function rH(n, e) { n.$$.dirty[0] === -1 && (Ua.push(n), zP(), n.$$.dirty.fill(0)), n.$$.dirty[e / 31 | 0] |= 1 << e % 31 } function se(n, e, t, i, r, s, o = null, a = [-1]) { const l = Iu; Fs(n); const u = n.$$ = { fragment: null, ctx: [], props: s, update: j, not_equal: r, bound: pv(), on_mount: [], on_destroy: [], on_disconnect: [], before_update: [], after_update: [], context: new Map(e.context || (l ? l.$$.context : [])), callbacks: pv(), dirty: a, skip_bound: !1, root: e.target || l.$$.root }; o && o(u.root); let c = !1; if (u.ctx = t ? t(n, e.props || {}, (d, f, ...g) => { const h = g.length ? g[0] : f; return u.ctx && r(u.ctx[d], u.ctx[d] = h) && (!u.skip_bound && u.bound[d] && u.bound[d](h), c && rH(n, d)), f }) : [], u.update(), c = !0, Ot(u.before_update), u.fragment = i ? i(u.ctx) : !1, e.target) { if (e.hydrate) { LU(); const d = E(e.target); u.fragment && u.fragment.l(d), d.forEach(_) } else u.fragment && u.fragment.c(); e.intro && w(n.$$.fragment), H(n, e.target, e.anchor), TU(), h0() } Fs(l) } class oe { constructor() { He(this, "$$"); He(this, "$$set") } $destroy() { $(this, 1), this.$destroy = j } $on(e, t) { if (!Ft(t)) return j; const i = this.$$.callbacks[e] || (this.$$.callbacks[e] = []); return i.push(t), () => { const r = i.indexOf(t); r !== -1 && i.splice(r, 1) } } $set(e) { this.$$set && !PU(e) && (this.$$.skip_bound = !0, this.$$set(e), this.$$.skip_bound = !1) } } const sH = "4"; typeof window < "u" && (window.__svelte || (window.__svelte = { v: new Set })).v.add(sH); const Ia = []; function ca(n, e) { return { subscribe: Tt(n, e).subscribe } } function Tt(n, e = j) { let t; const i = new Set; function r(a) { if (ht(n, a) && (n = a, t)) { const l = !Ia.length; for (const u of i) u[1](), Ia.push(u, n); if (l) { for (let u = 0; u < Ia.length; u += 2)Ia[u][0](Ia[u + 1]); Ia.length = 0 } } } function s(a) { r(a(n)) } function o(a, l = j) { const u = [a, l]; return i.add(u), i.size === 1 && (t = e(r, s) || j), a(n), () => { i.delete(u), i.size === 0 && t && (t(), t = null) } } return { set: r, update: s, subscribe: o } } function xu(n, e, t) { const i = !Array.isArray(n), r = i ? [n] : n; if (!r.every(Boolean)) throw new Error("derived() expects stores as input, got a falsy value"); const s = e.length < 2; return ca(t, (o, a) => { let l = !1; const u = []; let c = 0, d = j; const f = () => { if (c) return; d(); const h = e(i ? u[0] : u, o, a); s ? o(h) : d = Ft(h) ? h : j }, g = r.map((h, m) => yn(h, v => { u[m] = v, c &= ~(1 << m), l && f() }, () => { c |= 1 << m })); return l = !0, f(), function () { Ot(g), d(), l = !1 } }) } const Eh = "preset", zc = "visible", Sv = "drag-image--container", Cv = "data-drag-image-source", Pv = "data-drag-image-badge", Av = "aspect-landscape", Ev = "is-dragging", { set: Iv, subscribe: oH } = Tt(null), aH = { subscribe: oH }; class Mv { constructor(e, t) { He(this, "element"); He(this, "options"); He(this, "dragData"); He(this, "dragImageContainer"); He(this, "fallbackImage"); He(this, "dragImage"); He(this, "setDraggingClass", () => { this.element.classList.add(Ev) }); He(this, "removeDraggingClass", () => { this.element.classList.remove(Ev) }); He(this, "onDragStart", e => { if (!this.dragData) { e.preventDefault(); return } if (e.stopPropagation(), this.dragImage) { this.dragImage === this.dragImageContainer && (this.dragImageContainer.classList.remove(Eh), this.dragImageContainer.classList.add(zc)); const { clientWidth: t, clientHeight: i } = this.dragImage; e.dataTransfer.setDragImage(this.dragImage, t / 2, i / 2), setTimeout(() => this.resetDragImage(), 1) } e.dataTransfer.setData("text/plain", JSON.stringify(this.dragData)), e.dataTransfer.effectAllowed = this.getEffectAllowed(), this.setDraggingClass(), Iv(this) }); He(this, "onDragEnd", () => { Iv(null), this.resetDragImage(), this.removeDraggingClass() }); He(this, "createDragImage", () => { this.resetDragImage(); const e = this.options.dragImage; let t; if (e instanceof HTMLElement ? t = e : typeof e == "string" ? t = this.element.querySelector(e) : t = this.element.querySelector(".artwork-component picture"), this.options.usePlainDragImage) return e || (t = this.element), this.dragImage = t, t; if (this.dragImageContainer) { if (this.options.isContainer && this.dragImageContainer.classList.add(Sv), t) { const i = t.cloneNode(!0); this.dragImageContainer.querySelector(`[${Cv}]`).prepend(i), t.offsetWidth / t.offsetHeight !== 1 && this.fallbackImage.classList.add(Av) } if (this.badgeCount > 1 || this.options.isContainer && this.options.badgeCount > 0) { const i = this.dragImageContainer.querySelector(`[${Pv}]`); i.classList.add(zc), i.textContent = `${this.badgeCount}` } this.dragImageContainer.classList.add(Eh), this.dragImage = this.dragImageContainer } }); He(this, "resetDragImage", () => { this.dragImage = null; const e = this.dragImageContainer; e.classList.remove(Eh), e.classList.remove(zc), e.classList.remove(Sv), this.fallbackImage.classList.remove(Av), e.querySelector(`[${Cv}]`).innerHTML = ""; const t = e.querySelector(`[${Pv}]`); t.classList.remove(zc), t.innerHTML = "" }); this.element = e, this.options = t, this.dragData = t.dragData, this.dragImageContainer = document.querySelector("[data-drag-image]"), this.fallbackImage = document.querySelector("[data-fallback-image]"), this.dragImageContainer || console.warn("Use the <DragImage /> component to allow app specific drag images with fallback, badge and styling"), this.addEventListeners(), this.setDraggable() } setDraggable() { this.element.draggable = !0 } addEventListeners() { this.element.addEventListener("mousedown", this.createDragImage), this.element.addEventListener("mouseup", this.resetDragImage), this.element.addEventListener("dragstart", this.onDragStart, { capture: !0 }), this.element.addEventListener("dragend", this.onDragEnd) } destroy() { this.element.draggable = !1, this.element.style.setProperty("webkitUserDrag", "auto"), this.element.removeEventListener("mousedown", this.createDragImage), this.element.removeEventListener("mouseup", this.resetDragImage), this.element.removeEventListener("dragstart", this.onDragStart, { capture: !0 }), this.element.removeEventListener("dragend", this.onDragEnd) } get badgeCount() { var e; return (e = this.options.badgeCount) != null ? e : Array.isArray(this.dragData) && this.dragData.length } getEffectAllowed() { var e; return ((e = this.options) == null ? void 0 : e.effectAllowed) || "copy" } } function pl(n, e) { var r; const t = e !== !1 && ((r = e.dragEnabled) != null ? r : !0); let i; return t && e.dragData && (i = new Mv(n, e)), { destroy: () => { i == null || i.destroy() }, update: s => { i == null || i.destroy(), s != null && s.dragEnabled && (s != null && s.dragData) && (i = new Mv(n, s)) } } } const Lv = "data-drop-area", Kl = "is-drag-over"; var Ns = (n => (n.Top = "top", n.Bottom = "bottom", n.Left = "left", n.Right = "right", n))(Ns || {}); const qc = { default: Kl, top: `${Kl}-top`, bottom: `${Kl}-bottom`, left: `${Kl}-left`, right: `${Kl}-right` }; class Tv { constructor(e, t) { He(this, "element"); He(this, "options"); He(this, "enterTarget"); He(this, "target"); He(this, "lastPosition"); He(this, "addEventListeners", () => { this.element.setAttribute(Lv, ""), this.element.addEventListener("dragenter", this.onDragEnter), this.element.addEventListener("dragover", this.onDragOver), this.element.addEventListener("dragleave", this.onDragLeave), this.element.addEventListener("drop", this.onDrop) }); He(this, "removeEventListeners", () => { this.element.removeEventListener("dragenter", this.onDragEnter), this.element.removeEventListener("dragover", this.onDragOver), this.element.removeEventListener("dragleave", this.onDragLeave), this.element.removeEventListener("drop", this.onDrop) }); He(this, "destroy", () => { this.resetState(), this.element.removeAttribute(Lv), this.removeEventListeners() }); He(this, "resetState", () => { this.enterTarget = null, this.target = null, this.lastPosition = null, this.removeDragOverClasses() }); He(this, "removeDragOverClasses", () => { Object.keys(qc).forEach(e => { this.element.classList.remove(qc[e]) }) }); He(this, "setDragOverClass", e => { const t = e || this.target, i = qc[t] || qc.default; this.element.classList.contains(i) || (this.removeDragOverClasses(), this.element.classList.add(i)) }); He(this, "getLocationTarget", (e, t = 0) => { const { targets: i } = this.options; if (!i || i.length === 1) return this.target = i == null ? void 0 : i[0], this.target; let r, s; return i.join("-") === "top-bottom" ? (r = e.clientY - this.element.getBoundingClientRect().top, s = this.element.offsetHeight) : i.join("-") === "left-right" && (r = e.clientX - this.element.getBoundingClientRect().left, s = this.element.offsetWidth), r && s && (!this.lastPosition || Math.abs(r - this.lastPosition) > t) && (this.lastPosition = r, this.target = r <= s / 2 ? i[0] : i[1]), this.target }); He(this, "onDragEnter", e => { e.dataTransfer.dropEffect = this.options.dropEffect || "copy", this.isCompatibleDropEffect(e) && (e.stopPropagation(), this.enterTarget = e.target, this.setDragOverClass(this.getLocationTarget(e))) }); He(this, "onDragOver", e => { e.dataTransfer.dropEffect = this.options.dropEffect || "copy", this.isCompatibleDropEffect(e) && (e.preventDefault(), e.stopPropagation(), this.setDragOverClass(this.getLocationTarget(e, 10))) }); He(this, "onDragLeave", e => { e.target === this.enterTarget && this.resetState() }); He(this, "onDrop", e => { e.preventDefault(), e.stopPropagation(); const i = { data: JSON.parse(e.dataTransfer.getData("text/plain")) }; this.target && (i.dropTarget = this.target), this.resetState(), this.options.onDrop(i) }); this.element = e, this.options = t, this.addEventListeners() } isCompatibleDropEffect(e) { var r; const { dropEffect: t } = e.dataTransfer, i = (r = $t(aH)) == null ? void 0 : r.getEffectAllowed(); return i === "all" || i.toLowerCase().includes(t) } } function Js(n, e) { let t; return e != null && e.dropEnabled && (e != null && e.onDrop) && (t = new Tv(n, e)), { destroy: () => { t == null || t.destroy() }, update: i => { t == null || t.destroy(), i != null && i.dropEnabled && (i != null && i.onDrop) && (t = new Tv(n, i)) } } } const Zr = Tt(!1), Qa = Tt(!1), Rv = !1, Mu = ca(Rv, n => { if (typeof window > "u" || typeof matchMedia > "u") { n(Rv); return } const e = matchMedia("(prefers-reduced-motion)"), t = () => { n(e.matches) }; return e.addListener(t), n(e.matches), function () { e.removeListener(t) } }); function lH(n) { let e, t, i = '<span class="menuicon-bread-crust menuicon-bread-crust-top svelte-1noilih"></span>', r, s, o = '<span class="menuicon-bread-crust menuicon-bread-crust-bottom svelte-1noilih"></span>', a, l; return { c() { e = L("button"), t = L("span"), t.innerHTML = i, r = Y(), s = L("span"), s.innerHTML = o, this.h() }, l(u) { e = T(u, "BUTTON", { "data-testid": !0, class: !0, "aria-controls": !0, "aria-label": !0, "aria-expanded": !0 }); var c = E(e); t = T(c, "SPAN", { class: !0, ["data-svelte-h"]: !0 }), Wr(t) !== "svelte-9yav57" && (t.innerHTML = i), r = X(c), s = T(c, "SPAN", { class: !0, ["data-svelte-h"]: !0 }), Wr(s) !== "svelte-1g9vo1t" && (s.innerHTML = o), c.forEach(_), this.h() }, h() { p(t, "class", "menuicon-bread menuicon-bread-top svelte-1noilih"), p(s, "class", "menuicon-bread menuicon-bread-bottom svelte-1noilih"), p(e, "data-testid", "menuicon"), p(e, "class", "menuicon svelte-1noilih"), p(e, "aria-controls", n[0]), p(e, "aria-label", n[3]), p(e, "aria-expanded", n[2]) }, m(u, c) { I(u, e, c), A(e, t), A(e, r), A(e, s), n[8](e), a || (l = Me(e, "click", n[4]), a = !0) }, p(u, [c]) { c & 1 && p(e, "aria-controls", u[0]), c & 8 && p(e, "aria-label", u[3]), c & 4 && p(e, "aria-expanded", u[2]) }, i: j, o: j, d(u) { u && _(e), n[8](null), a = !1, l() } } } function uH(n, e, t) { let i, r, s, o, a; ce(n, Mu, b => t(9, s = b)), ce(n, Zr, b => t(7, o = b)), ce(n, Qa, b => t(10, a = b)); let { translateFn: l } = e, { navigationId: u = "" } = e; const c = l("FUSE.AX.UI.Open.Navigation"), d = l("FUSE.AX.UI.Close.Navigation"), f = It(); let g = !1, h; function m() { a || (Zr.set(!o), f("toggleExpansion", { isMenuExpanded: i }), s || Qa.set(!0)) } function v(b) { wt[b ? "unshift" : "push"](() => { h = b, t(1, h) }) } return n.$$set = b => { "translateFn" in b && t(5, l = b.translateFn), "navigationId" in b && t(0, u = b.navigationId) }, n.$$.update = () => { n.$$.dirty & 128 && t(2, i = o), n.$$.dirty & 4 && t(3, r = i ? d : c), n.$$.dirty & 128 && o && t(6, g = !0), n.$$.dirty & 194 && !o && g && (h == null || h.focus(), t(6, g = !1)) }, [u, h, i, r, m, l, g, o, v] } class cH extends oe { constructor(e) { super(), se(this, e, uH, lH, ye, { translateFn: 5, navigationId: 0 }) } } const dH = n => ({}), Fv = n => ({}), fH = n => ({}), Ov = n => ({}), gH = n => ({}), Nv = n => ({}); function Bv(n) { let e; const t = n[4].prefix, i = We(t, n, n[3], Nv); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 8) && Je(i, t, r, r[3], e ? Ke(t, r[3], s, gH) : Ye(r[3]), Nv) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function hH(n) { let e, t, i; var r = n[0]; function s(o, a) { return { props: { "aria-hidden": "true" } } } return r && (e = jt(r, s())), { c() { e && V(e.$$.fragment), t = re() }, l(o) { e && q(e.$$.fragment, o), t = re() }, m(o, a) { e && H(e, o, a), I(o, t, a), i = !0 }, p(o, a) { if (a & 1 && r !== (r = o[0])) { if (e) { te(); const l = e; D(l.$$.fragment, 1, 0, () => { $(l, 1) }), ne() } r ? (e = jt(r, s()), V(e.$$.fragment), w(e.$$.fragment, 1), H(e, t.parentNode, t)) : e = null } }, i(o) { i || (e && w(e.$$.fragment, o), i = !0) }, o(o) { e && D(e.$$.fragment, o), i = !1 }, d(o) { o && _(t), e && $(e, o) } } } function mH(n) { let e; return { c() { e = le(n[1]) }, l(t) { e = ue(t, n[1]) }, m(t, i) { I(t, e, i) }, p(t, i) { i & 2 && me(e, t[1]) }, d(t) { t && _(e) } } } function pH(n) { let e, t, i, r, s, o, a = n[2].prefix && Bv(n); const l = n[4].icon, u = We(l, n, n[3], Ov), c = u || hH(n), d = n[4].label, f = We(d, n, n[3], Fv), g = f || mH(n); return { c() { e = L("div"), a && a.c(), t = Y(), i = L("span"), c && c.c(), r = Y(), s = L("span"), g && g.c(), this.h() }, l(h) { e = T(h, "DIV", { class: !0 }); var m = E(e); a && a.l(m), t = X(m), i = T(m, "SPAN", { class: !0 }); var v = E(i); c && c.l(v), v.forEach(_), r = X(m), s = T(m, "SPAN", { class: !0 }); var b = E(s); g && g.l(b), b.forEach(_), m.forEach(_), this.h() }, h() { p(i, "class", "navigation-item__icon svelte-zhx7t9"), p(s, "class", "navigation-item__label svelte-zhx7t9"), p(e, "class", "navigation-item__content svelte-zhx7t9") }, m(h, m) { I(h, e, m), a && a.m(e, null), A(e, t), A(e, i), c && c.m(i, null), A(e, r), A(e, s), g && g.m(s, null), o = !0 }, p(h, [m]) { h[2].prefix ? a ? (a.p(h, m), m & 4 && w(a, 1)) : (a = Bv(h), a.c(), w(a, 1), a.m(e, t)) : a && (te(), D(a, 1, 1, () => { a = null }), ne()), u ? u.p && (!o || m & 8) && Je(u, l, h, h[3], o ? Ke(l, h[3], m, fH) : Ye(h[3]), Ov) : c && c.p && (!o || m & 1) && c.p(h, o ? m : -1), f ? f.p && (!o || m & 8) && Je(f, d, h, h[3], o ? Ke(d, h[3], m, dH) : Ye(h[3]), Fv) : g && g.p && (!o || m & 2) && g.p(h, o ? m : -1) }, i(h) { o || (w(a), w(c, h), w(g, h), o = !0) }, o(h) { D(a), D(c, h), D(g, h), o = !1 }, d(h) { h && _(e), a && a.d(), c && c.d(h), g && g.d(h) } } } function _H(n, e, t) { let { $$slots: i = {}, $$scope: r } = e; const s = wn(i); let { icon: o } = e, { label: a } = e; return n.$$set = l => { "icon" in l && t(0, o = l.icon), "label" in l && t(1, a = l.label), "$$scope" in l && t(3, r = l.$$scope) }, [o, a, s, r, i] } class kf extends oe { constructor(e) { super(), se(this, e, _H, pH, ye, { icon: 0, label: 1 }) } } function vH(n) { let e, t, i, r, s, o, a; return t = new kf({ props: { icon: n[0].icon, label: n[11] } }), { c() { e = L("a"), V(t.$$.fragment), this.h() }, l(l) { e = T(l, "A", { href: !0, class: !0, role: !0, "data-testid": !0, "aria-pressed": !0 }); var u = E(e); q(t.$$.fragment, u), u.forEach(_), this.h() }, h() { p(e, "href", i = n[0].url), p(e, "class", "navigation-item__link svelte-1a5yt87"), p(e, "role", "button"), p(e, "data-testid", r = n[0].id.resourceId || n[0].id.type), p(e, "aria-pressed", n[1]) }, m(l, u) { I(l, e, u), H(t, e, null), s = !0, o || (a = Me(e, "click", Ui(n[14])), o = !0) }, p(l, u) { const c = {}; u & 1 && (c.icon = l[0].icon), u & 2048 && (c.label = l[11]), t.$set(c), (!s || u & 1 && i !== (i = l[0].url)) && p(e, "href", i), (!s || u & 1 && r !== (r = l[0].id.resourceId || l[0].id.type)) && p(e, "data-testid", r), (!s || u & 2) && p(e, "aria-pressed", l[1]) }, i(l) { s || (w(t.$$.fragment, l), s = !0) }, o(l) { D(t.$$.fragment, l), s = !1 }, d(l) { l && _(e), $(t), o = !1, a() } } } function bH(n) { let e, t, i, r; return t = new kf({ props: { icon: n[0].icon, label: n[11], $$slots: { prefix: [yH] }, $$scope: { ctx: n } } }), { c() { e = L("label"), V(t.$$.fragment), this.h() }, l(s) { e = T(s, "LABEL", { for: !0, class: !0, "data-testid": !0 }); var o = E(e); q(t.$$.fragment, o), o.forEach(_), this.h() }, h() { p(e, "for", i = n[0].id.type), p(e, "class", "navigation-item__label"), p(e, "data-testid", "navigation-item-editing") }, m(s, o) { I(s, e, o), H(t, e, null), r = !0 }, p(s, o) { const a = {}; o & 1 && (a.icon = s[0].icon), o & 2048 && (a.label = s[11]), o & 1048585 && (a.$$scope = { dirty: o, ctx: s }), t.$set(a), (!r || o & 1 && i !== (i = s[0].id.type)) && p(e, "for", i) }, i(s) { r || (w(t.$$.fragment, s), r = !0) }, o(s) { D(t.$$.fragment, s), r = !1 }, d(s) { s && _(e), $(t) } } } function yH(n) { let e, t, i, r; return { c() { e = L("input"), this.h() }, l(s) { e = T(s, "INPUT", { class: !0, "data-testid": !0, type: !0, id: !0, slot: !0 }), this.h() }, h() { p(e, "class", "navigation-item__checkbox svelte-1a5yt87"), p(e, "data-testid", "navigation-item-editing-checkbox"), p(e, "type", "checkbox"), p(e, "id", t = n[0].id.type), e.checked = n[3], p(e, "slot", "prefix") }, m(s, o) { I(s, e, o), i || (r = Me(e, "change", n[13]), i = !0) }, p(s, o) { o & 1 && t !== (t = s[0].id.type) && p(e, "id", t), o & 8 && (e.checked = s[3]) }, d(s) { s && _(e), i = !1, r() } } } function wH(n) { let e, t, i, r; const s = [bH, vH], o = []; function a(l, u) { return l[2] ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, u) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function kH(n) { let e, t, i, r, s, o, a; const l = n[18].default, u = We(l, n, n[20], null), c = u || wH(n); return { c() { e = L("li"), c && c.c(), this.h() }, l(d) { e = T(d, "LI", { class: !0, "aria-selected": !0, "data-testid": !0 }); var f = E(e); c && c.l(f), f.forEach(_), this.h() }, h() { p(e, "class", t = "navigation-item navigation-item__" + n[0].id.type + " svelte-1a5yt87"), p(e, "aria-selected", n[1]), p(e, "data-testid", "navigation-item"), J(e, "navigation-item--selected", n[1]), J(e, "is-editing", n[2]), J(e, "drop-reset", !!n[4]) }, m(d, f) { I(d, e, f), c && c.m(e, null), s = !0, o || (a = [Ut(i = pl.call(null, e, n[10] && !n[2] && { dragEnabled: !0, dragData: n[8], usePlainDragImage: !0, effectAllowed: n[7] })), Ut(r = Js.call(null, e, n[9] && !n[2] && { dropEnabled: !0, onDrop: n[19], targets: n[5], dropEffect: n[6] }))], o = !0) }, p(d, [f]) { u ? u.p && (!s || f & 1048576) && Je(u, l, d, d[20], s ? Ke(l, d[20], f, null) : Ye(d[20]), null) : c && c.p && (!s || f & 2063) && c.p(d, s ? f : -1), (!s || f & 1 && t !== (t = "navigation-item navigation-item__" + d[0].id.type + " svelte-1a5yt87")) && p(e, "class", t), (!s || f & 2) && p(e, "aria-selected", d[1]), i && Ft(i.update) && f & 1412 && i.update.call(null, d[10] && !d[2] && { dragEnabled: !0, dragData: d[8], usePlainDragImage: !0, effectAllowed: d[7] }), r && Ft(r.update) && f & 612 && r.update.call(null, d[9] && !d[2] && { dropEnabled: !0, onDrop: d[19], targets: d[5], dropEffect: d[6] }), (!s || f & 3) && J(e, "navigation-item--selected", d[1]), (!s || f & 5) && J(e, "is-editing", d[2]), (!s || f & 17) && J(e, "drop-reset", !!d[4]) }, i(d) { s || (w(c, d), s = !0) }, o(d) { D(c, d), s = !1 }, d(d) { d && _(e), c && c.d(d), o = !1, Ot(a) } } } function DH(n, e, t) { let i, r, s, o, { $$slots: a = {}, $$scope: l } = e, { item: u } = e, { selected: c = !1 } = e, { isEditing: d = !1 } = e, { isChecked: f = !1 } = e, { translateFn: g } = e, { getDragData: h = null } = e, { dragEnabled: m = !1 } = e, { dropEnabled: v = !1 } = e, { dropTargets: b = null } = e, { dropEffect: y = null } = e, { effectAllowed: k = null } = e; const S = It(); function C() { S("visibilityChangeItem") } const P = () => { S("selectItem", u) }, M = R => S("drop", R); return n.$$set = R => { "item" in R && t(0, u = R.item), "selected" in R && t(1, c = R.selected), "isEditing" in R && t(2, d = R.isEditing), "isChecked" in R && t(3, f = R.isChecked), "translateFn" in R && t(15, g = R.translateFn), "getDragData" in R && t(16, h = R.getDragData), "dragEnabled" in R && t(17, m = R.dragEnabled), "dropEnabled" in R && t(4, v = R.dropEnabled), "dropTargets" in R && t(5, b = R.dropTargets), "dropEffect" in R && t(6, y = R.dropEffect), "effectAllowed" in R && t(7, k = R.effectAllowed), "$$scope" in R && t(20, l = R.$$scope) }, n.$$.update = () => { n.$$.dirty & 32769 && t(11, i = u.label ? u.label : g(u.locKey)), n.$$.dirty & 65537 && t(8, r = h ? h(u) : u), n.$$.dirty & 131329 && t(10, s = !!r && (typeof m == "function" ? m(u) : m)), n.$$.dirty & 17 && t(9, o = typeof v == "function" ? v(u) : v) }, [u, c, d, f, v, b, y, k, r, o, s, i, S, C, P, g, h, m, a, M, l] } let qP = class extends oe { constructor(e) { super(), se(this, e, DH, kH, ye, { item: 0, selected: 1, isEditing: 2, isChecked: 3, translateFn: 15, getDragData: 16, dragEnabled: 17, dropEnabled: 4, dropTargets: 5, dropEffect: 6, effectAllowed: 7 }) } }; function Ud(n, e) { if (n === null || e === null) return !1; try { return JSON.stringify(n) === JSON.stringify(e) } catch (t) { return !1 } } function Hd(n) { var e; return (e = n.component) != null ? e : qP } const Ih = new Map; function WP(n, e) { let t = Ih.get(n); return t || (Ih.set(n, Tt(e != null ? e : !1)), t = Ih.get(n)), t } function Uv(n, e, t) { const i = n.slice(); return i[29] = e[t], i } function Hv(n) { let e; return { c() { e = L("span"), this.h() }, l(t) { e = T(t, "SPAN", { "data-testid": !0, class: !0, role: !0 }), E(e).forEach(_), this.h() }, h() { p(e, "data-testid", "folder-arrow-indicator"), p(e, "class", "folder-arrow-indicator svelte-hdlhpa"), p(e, "role", "presentation") }, m(t, i) { I(t, e, i) }, d(t) { t && _(e) } } } function $v(n) { let e, t, i = ut(n[9]), r = []; for (let o = 0; o < i.length; o += 1)r[o] = Vv(Uv(n, i, o)); const s = o => D(r[o], 1, 1, () => { r[o] = null }); return { c() { e = L("ul"); for (let o = 0; o < r.length; o += 1)r[o].c(); this.h() }, l(o) { e = T(o, "UL", { class: !0 }); var a = E(e); for (let l = 0; l < r.length; l += 1)r[l].l(a); a.forEach(_), this.h() }, h() { p(e, "class", "navigation-item__folder-list svelte-hdlhpa") }, m(o, a) { I(o, e, a); for (let l = 0; l < r.length; l += 1)r[l] && r[l].m(e, null); t = !0 }, p(o, a) { if (a[0] & 197246) { i = ut(o[9]); let l; for (l = 0; l < i.length; l += 1) { const u = Uv(o, i, l); r[l] ? (r[l].p(u, a), w(r[l], 1)) : (r[l] = Vv(u), r[l].c(), w(r[l], 1), r[l].m(e, null)) } for (te(), l = i.length; l < r.length; l += 1)s(l); ne() } }, i(o) { if (!t) { for (let a = 0; a < i.length; a += 1)w(r[a]); t = !0 } }, o(o) { r = r.filter(Boolean); for (let a = 0; a < r.length; a += 1)D(r[a]); t = !1 }, d(o) { o && _(e), ln(r, o) } } } function SH(n) { let e, t, i; function r(...a) { return n[26](n[29], ...a) } var s = Hd(n[29]); function o(a, l) { return { props: { item: a[29], selected: Ud(a[29].id, a[16]), translateFn: a[3], isEditing: a[1], getDragData: a[4], dragEnabled: a[5], dropEnabled: a[6] } } } return s && (e = jt(s, o(n)), e.$on("selectItem", n[25]), e.$on("drop", r)), { c() { e && V(e.$$.fragment), t = re() }, l(a) { e && q(e.$$.fragment, a), t = re() }, m(a, l) { e && H(e, a, l), I(a, t, l), i = !0 }, p(a, l) { if (n = a, l[0] & 512 && s !== (s = Hd(n[29]))) { if (e) { te(); const u = e; D(u.$$.fragment, 1, 0, () => { $(u, 1) }), ne() } s ? (e = jt(s, o(n)), e.$on("selectItem", n[25]), e.$on("drop", r), V(e.$$.fragment), w(e.$$.fragment, 1), H(e, t.parentNode, t)) : e = null } else if (s) { const u = {}; l[0] & 512 && (u.item = n[29]), l[0] & 66048 && (u.selected = Ud(n[29].id, n[16])), l[0] & 8 && (u.translateFn = n[3]), l[0] & 2 && (u.isEditing = n[1]), l[0] & 16 && (u.getDragData = n[4]), l[0] & 32 && (u.dragEnabled = n[5]), l[0] & 64 && (u.dropEnabled = n[6]), e.$set(u) } }, i(a) { i || (e && w(e.$$.fragment, a), i = !0) }, o(a) { e && D(e.$$.fragment, a), i = !1 }, d(a) { a && _(t), e && $(e, a) } } } function CH(n) { let e, t; return e = new KP({ props: { item: n[29], currentTab: n[2], getItemDragData: n[4], itemDragEnabled: n[5], itemDropEnabled: n[6], translateFn: n[3], isEditing: n[1] } }), e.$on("selectItem", n[23]), e.$on("dropOnItem", n[24]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 512 && (s.item = i[29]), r[0] & 4 && (s.currentTab = i[2]), r[0] & 16 && (s.getItemDragData = i[4]), r[0] & 32 && (s.itemDragEnabled = i[5]), r[0] & 64 && (s.itemDropEnabled = i[6]), r[0] & 8 && (s.translateFn = i[3]), r[0] & 2 && (s.isEditing = i[1]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function Vv(n) { let e, t, i, r; const s = [CH, SH], o = []; function a(l, u) { return l[29].id.type === "folder" ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, u) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function PH(n) { let e, t, i, r, s, o, a, l, u, c, d, f = n[11] && Hv(); r = new kf({ props: { icon: n[0].icon, label: n[14] } }); let g = n[11] && n[15] && $v(n); return { c() { e = L("li"), t = L("span"), f && f.c(), i = Y(), V(r.$$.fragment), a = Y(), g && g.c(), this.h() }, l(h) { e = T(h, "LI", { class: !0, "data-testid": !0, "aria-expanded": !0, role: !0, tabindex: !0 }); var m = E(e); t = T(m, "SPAN", { class: !0, "data-testid": !0 }); var v = E(t); f && f.l(v), i = X(v), q(r.$$.fragment, v), v.forEach(_), a = X(m), g && g.l(m), m.forEach(_), this.h() }, h() { p(t, "class", "navigation-item__folder-label svelte-hdlhpa"), p(t, "data-testid", n[8]), J(t, "drop-reset", !!n[12]), p(e, "class", "navigation-item navigation-item__folder svelte-hdlhpa"), p(e, "data-testid", l = "navigation-item__" + n[0].id.type), p(e, "aria-expanded", n[15]), p(e, "role", "treeitem"), p(e, "tabindex", "-1"), J(e, "navigation-item__folder--has-children", n[9]), J(e, "folder-open", n[15]) }, m(h, m) { I(h, e, m), A(e, t), f && f.m(t, null), A(t, i), H(r, t, null), A(e, a), g && g.m(e, null), u = !0, c || (d = [Me(t, "click", Ui(n[18])), Ut(s = pl.call(null, t, n[13] && { dragEnabled: !0, dragData: n[7], usePlainDragImage: !0 })), Ut(o = Js.call(null, t, n[12] && { dropEnabled: !0, onDrop: n[22] })), Me(e, "dragenter", Ui(n[20]), !0), Me(e, "dragleave", Ui(n[21]), !0), Me(e, "keydown", Za(n[19]))], c = !0) }, p(h, m) { h[11] ? f || (f = Hv(), f.c(), f.m(t, i)) : f && (f.d(1), f = null); const v = {}; m[0] & 1 && (v.icon = h[0].icon), m[0] & 16384 && (v.label = h[14]), r.$set(v), (!u || m[0] & 256) && p(t, "data-testid", h[8]), s && Ft(s.update) && m[0] & 8320 && s.update.call(null, h[13] && { dragEnabled: !0, dragData: h[7], usePlainDragImage: !0 }), o && Ft(o.update) && m[0] & 4097 && o.update.call(null, h[12] && { dropEnabled: !0, onDrop: h[22] }), (!u || m[0] & 4096) && J(t, "drop-reset", !!h[12]), h[11] && h[15] ? g ? (g.p(h, m), m[0] & 34816 && w(g, 1)) : (g = $v(h), g.c(), w(g, 1), g.m(e, null)) : g && (te(), D(g, 1, 1, () => { g = null }), ne()), (!u || m[0] & 1 && l !== (l = "navigation-item__" + h[0].id.type)) && p(e, "data-testid", l), (!u || m[0] & 32768) && p(e, "aria-expanded", h[15]), (!u || m[0] & 512) && J(e, "navigation-item__folder--has-children", h[9]), (!u || m[0] & 32768) && J(e, "folder-open", h[15]) }, i(h) { u || (w(r.$$.fragment, h), w(g), u = !0) }, o(h) { D(r.$$.fragment, h), D(g), u = !1 }, d(h) { h && _(e), f && f.d(), $(r), g && g.d(), c = !1, Ot(d) } } } const AH = 1e3; function EH(n, e, t) { let i, r, s, o, a, l, u, c, d, f = j, g = () => (f(), f = yn(a, ee => t(15, d = ee)), a), h, m = j, v = () => (m(), m = yn(S, ee => t(16, h = ee)), S); n.$$.on_destroy.push(() => f()), n.$$.on_destroy.push(() => m()); const b = It(); let { item: y } = e, { isEditing: k = !1 } = e, { currentTab: S } = e; v(); let { translateFn: C } = e, { getItemDragData: P = null } = e, { itemDragEnabled: M = !1 } = e, { itemDropEnabled: R = !1 } = e, F; const N = () => { s && a.set(!d) }, O = ee => { switch (ee.key) { case "Enter": N(); break; case "ArrowRight": s && !d && (a.set(!0), ee.preventDefault(), ee.stopPropagation()); break; case "ArrowLeft": s && d && (a.set(!1), ee.preventDefault(), ee.stopPropagation()); break } }; let B = 0; const U = () => { B++, !d && !F && (F = setTimeout(() => { a.set(!0), F = null }, AH)) }, K = () => { B--, B === 0 && F && (clearTimeout(F), F = null) }, W = ee => b("dropOnItem", { item: y, dropData: ee }); function Z(ee) { Bt.call(this, n, ee) } function Q(ee) { Bt.call(this, n, ee) } function G(ee) { Bt.call(this, n, ee) } const ae = (ee, { detail: pe }) => b("dropOnItem", { item: ee, dropData: pe }); return n.$$set = ee => { "item" in ee && t(0, y = ee.item), "isEditing" in ee && t(1, k = ee.isEditing), "currentTab" in ee && v(t(2, S = ee.currentTab)), "translateFn" in ee && t(3, C = ee.translateFn), "getItemDragData" in ee && t(4, P = ee.getItemDragData), "itemDragEnabled" in ee && t(5, M = ee.itemDragEnabled), "itemDropEnabled" in ee && t(6, R = ee.itemDropEnabled) }, n.$$.update = () => { n.$$.dirty[0] & 1 && t(8, i = y.id.resourceId), n.$$.dirty[0] & 1 && t(9, r = y.children), n.$$.dirty[0] & 512 && t(11, s = (r == null ? void 0 : r.length) > 0), n.$$.dirty[0] & 9 && t(14, o = y.label ? y.label : C(y.locKey)), n.$$.dirty[0] & 256 && g(t(10, a = WP(i))), n.$$.dirty[0] & 17 && t(7, l = P ? P(y) : y), n.$$.dirty[0] & 161 && t(13, u = !!l && (typeof M == "function" ? M(y) : M)), n.$$.dirty[0] & 65 && t(12, c = typeof R == "function" ? R(y) : R) }, [y, k, S, C, P, M, R, l, i, r, a, s, c, u, o, d, h, b, N, O, U, K, W, Z, Q, G, ae] } class KP extends oe { constructor(e) { super(), se(this, e, EH, PH, ye, { item: 0, isEditing: 1, currentTab: 2, translateFn: 3, getItemDragData: 4, itemDragEnabled: 5, itemDropEnabled: 6 }, null, [-1, -1]) } } function IH(n, e, t, i) { return !!(!n || e || t && t[i]) } const zv = ["ArrowDown", "ArrowUp"], ao = class { constructor(e) { He(this, "listItemClassNames"); He(this, "listParentElement"); He(this, "boundFocusInHandler"); He(this, "boundKeyDownHandler"); He(this, "listGroupElement"); He(this, "currentRootIndex", -1); He(this, "currentIndex", -1); He(this, "isRoving", !1); var r, s, o; const { listGroupElement: t, targetElement: i } = e; if (this.listParentElement = i, this.listGroupElement = t, this.isRoving = ((r = e.isRoving) != null ? r : !1) && !!this.listGroupElement, this.listItemClassNames = (s = e.listItemClassNames) == null ? void 0 : s.split(",").map(a => a.trim()), ao.isWindowEventBound || (window.addEventListener("keydown", ao.windowKeyUpHandler), ao.isWindowEventBound = !0), (o = this.listItemClassNames) != null && o.join("").length) this.boundFocusInHandler = this.focusInHandler.bind(this), this.boundKeyDownHandler = this.keyDownHandler.bind(this), this.listParentElement.addEventListener("focusin", this.boundFocusInHandler, { capture: !0 }), this.listParentElement.addEventListener("keydown", this.boundKeyDownHandler); else throw Error("ListKeyboardAccess requires listItemClassNames") } destroy() { var e, t; ao.isWindowEventBound && (window.removeEventListener("keydown", ao.windowKeyUpHandler), ao.isWindowEventBound = !1), (e = this.listParentElement) == null || e.removeEventListener("focusin", this.boundFocusInHandler, { capture: !0 }), (t = this.listParentElement) == null || t.removeEventListener("keydown", this.boundKeyDownHandler) } getListItems(e = !1) { const { listGroupElement: t, listParentElement: i } = this, r = e && t ? t : i, s = LH(this.listItemClassNames.join(",")); return Array.from(r.querySelectorAll(s)) } focusInHandler(e) { var r; const t = this.findListItem(e.target, []), i = this.getListItems(); if (!(!i.length || !t) && (this.currentIndex = i.indexOf(t), this.currentRootIndex = (r = this.getListItems(this.isRoving)) == null ? void 0 : r.indexOf(t), this.currentIndex >= 0 && this.isRoving)) for (let s = 0; s < i.length; s++)YP(i[s], s === this.currentIndex) } keyDownHandler(e) { if (!zv.includes(e.key) || this.currentIndex < 0) return; const t = this.isRoving ? this.currentRootIndex : this.currentIndex, i = this.getListItems(this.isRoving); let r = e.key === "ArrowUp" ? Math.max(0, t - 1) : Math.min(t + 1, i.length - 1); JP(r, t, i) } findListItem(e, t) { var r, s; if (!e || t.includes(e)) return null; if (t.push(e), MH(this.listItemClassNames, e)) return e; const i = (s = (r = e == null ? void 0 : e.parentElement) == null ? void 0 : r.childNodes) != null ? s : []; for (let o = 0; o < i.length; o++)return this.findListItem(i[o], t); return this.findListItem(e.parentElement, t) || this.findListItem(e.previousSibling, t) || this.findListItem(e.nextElementSibling, t) } static windowKeyUpHandler(e) { zv.includes(e.key) && e.preventDefault() } }; let yd = ao; He(yd, "isWindowEventBound", !1); function MH(n, e) { return e === null ? !1 : [...n].some(t => e.classList.contains(t)) } function JP(n, e, t) { const i = n - e > 0 ? 1 : -1, r = t[n]; r && (qv(r) && qv(r.parentElement) ? t[n].focus() : JP(n + i, e, t)) } function qv(n) { if (n === null) return !1; const { display: e, visibility: t, opacity: i } = window.getComputedStyle(n); return e !== "none" && t !== "hidden" && i !== "0" } function LH(n) { return n ? n.split(",").map(e => `.${e.trim()}`).join(",") : "" } function YP(n, e) { e ? ["A", "BUTTON"].includes(n.nodeName) ? n.removeAttribute("tabindex") : n.setAttribute("tabindex", "0") : n.setAttribute("tabIndex", "-1") } function TH(n, e) { const t = new MutationObserver(i => { let r; for (let s of i) if (s.type === "attributes" && e.length) for (let o = 0; o < e.length; o++)r = Number(s.target.getAttribute("tabindex")), YP(e[o], r >= 0) }); return n && t.observe(n, { attributes: !0 }), t } function RH(n, e = { listItemClassNames: "" }) { const t = new yd({ targetElement: n, ...e }); return { destroy() { t.destroy() } } } function Wv(n, e, t) { const i = n.slice(); return i[26] = e[t], i } function Kv(n) { let e, t, i, r, s, o, a, l = n[0] && Jv(n); return { c() { e = L("div"), t = L("span"), i = le(n[4]), r = Y(), l && l.c(), this.h() }, l(u) { e = T(u, "DIV", { "aria-hidden": !0, class: !0, "data-testid": !0 }); var c = E(e); t = T(c, "SPAN", {}); var d = E(t); i = ue(d, n[4]), d.forEach(_), r = X(c), l && l.l(c), c.forEach(_), this.h() }, h() { p(e, "aria-hidden", "true"), p(e, "class", "navigation-items__header svelte-ng61m8"), p(e, "data-testid", "navigation-items-header"), J(e, "drop-reset", n[12]) }, m(u, c) { I(u, e, c), A(e, t), A(t, i), A(e, r), l && l.m(e, null), o || (a = Ut(s = Js.call(null, e, n[12] && !n[10] && { dropEnabled: !0, onDrop: n[21] })), o = !0) }, p(u, c) { c & 16 && me(i, u[4]), u[0] ? l ? l.p(u, c) : (l = Jv(u), l.c(), l.m(e, null)) : l && (l.d(1), l = null), s && Ft(s.update) && c & 5124 && s.update.call(null, u[12] && !u[10] && { dropEnabled: !0, onDrop: u[21] }), c & 4096 && J(e, "drop-reset", u[12]) }, d(u) { u && _(e), l && l.d(), o = !1, a() } } } function Jv(n) { let e, t, i; function r(a, l) { return a[10] ? OH : FH } let s = r(n), o = s(n); return { c() { e = L("button"), o.c(), this.h() }, l(a) { e = T(a, "BUTTON", { "data-testid": !0, class: !0 }); var l = E(e); o.l(l), l.forEach(_), this.h() }, h() { p(e, "data-testid", "navigation-items__toggler"), p(e, "class", "edit-toggle-button svelte-ng61m8"), J(e, "is-editing", n[10]) }, m(a, l) { I(a, e, l), o.m(e, null), t || (i = Me(e, "click", n[18]), t = !0) }, p(a, l) { s === (s = r(a)) && o ? o.p(a, l) : (o.d(1), o = s(a), o && (o.c(), o.m(e, null))), l & 1024 && J(e, "is-editing", a[10]) }, d(a) { a && _(e), o.d(), t = !1, i() } } } function FH(n) { let e, t = n[3]("AMP.Shared.Edit") + "", i; return { c() { e = L("span"), i = le(t), this.h() }, l(r) { e = T(r, "SPAN", { "data-testid": !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "data-testid", "navigation-items__editing-edit") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 8 && t !== (t = r[3]("AMP.Shared.Edit") + "") && me(i, t) }, d(r) { r && _(e) } } } function OH(n) { let e, t = n[3]("AMP.Shared.Done") + "", i; return { c() { e = L("span"), i = le(t), this.h() }, l(r) { e = T(r, "SPAN", { "data-testid": !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "data-testid", "navigation-items__editing-done") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 8 && t !== (t = r[3]("AMP.Shared.Done") + "") && me(i, t) }, d(r) { r && _(e) } } } function NH(n) { let e, t, i; function r(...l) { return n[23](n[26], ...l) } function s() { return n[24](n[26]) } var o = Hd(n[26]); function a(l, u) { return { props: { item: l[26], selected: Ud(l[26].id, l[15]), isChecked: l[11] && l[11][l[26].storageKey], isEditing: l[10], translateFn: l[3], getDragData: l[6], dragEnabled: l[7], dropEnabled: l[8] } } } return o && (e = jt(o, a(n)), e.$on("selectItem", n[17]), e.$on("drop", r), e.$on("visibilityChangeItem", s)), { c() { e && V(e.$$.fragment), t = re() }, l(l) { e && q(e.$$.fragment, l), t = re() }, m(l, u) { e && H(e, l, u), I(l, t, u), i = !0 }, p(l, u) { if (n = l, u & 2 && o !== (o = Hd(n[26]))) { if (e) { te(); const c = e; D(c.$$.fragment, 1, 0, () => { $(c, 1) }), ne() } o ? (e = jt(o, a(n)), e.$on("selectItem", n[17]), e.$on("drop", r), e.$on("visibilityChangeItem", s), V(e.$$.fragment), w(e.$$.fragment, 1), H(e, t.parentNode, t)) : e = null } else if (o) { const c = {}; u & 2 && (c.item = n[26]), u & 32770 && (c.selected = Ud(n[26].id, n[15])), u & 2050 && (c.isChecked = n[11] && n[11][n[26].storageKey]), u & 1024 && (c.isEditing = n[10]), u & 8 && (c.translateFn = n[3]), u & 64 && (c.getDragData = n[6]), u & 128 && (c.dragEnabled = n[7]), u & 256 && (c.dropEnabled = n[8]), e.$set(c) } }, i(l) { i || (e && w(e.$$.fragment, l), i = !0) }, o(l) { e && D(e.$$.fragment, l), i = !1 }, d(l) { l && _(t), e && $(e, l) } } } function BH(n) { let e, t; return e = new KP({ props: { item: { ...n[26] }, isEditing: n[10], currentTab: n[5], translateFn: n[3], getItemDragData: n[6], itemDragEnabled: n[7], itemDropEnabled: n[8] } }), e.$on("selectItem", n[17]), e.$on("dropOnItem", n[22]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.item = { ...i[26] }), r & 1024 && (s.isEditing = i[10]), r & 32 && (s.currentTab = i[5]), r & 8 && (s.translateFn = i[3]), r & 64 && (s.getItemDragData = i[6]), r & 128 && (s.itemDragEnabled = i[7]), r & 256 && (s.itemDropEnabled = i[8]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function Yv(n, e) { let t, i, r, s, o, a; const l = [BH, NH], u = []; function c(d, f) { return f & 3075 && (i = null), d[26].id.type === "folder" ? 0 : (i == null && (i = !!IH(d[0], d[10], d[11], d[26].storageKey)), i ? 1 : -1) } return ~(r = c(e, -1)) && (s = u[r] = l[r](e)), { key: n, first: null, c() { t = re(), s && s.c(), o = re(), this.h() }, l(d) { t = re(), s && s.l(d), o = re(), this.h() }, h() { this.first = t }, m(d, f) { I(d, t, f), ~r && u[r].m(d, f), I(d, o, f), a = !0 }, p(d, f) { e = d; let g = r; r = c(e, f), r === g ? ~r && u[r].p(e, f) : (s && (te(), D(u[g], 1, 1, () => { u[g] = null }), ne()), ~r ? (s = u[r], s ? s.p(e, f) : (s = u[r] = l[r](e), s.c()), w(s, 1), s.m(o.parentNode, o)) : s = null) }, i(d) { a || (w(s), a = !0) }, o(d) { D(s), a = !1 }, d(d) { d && (_(t), _(o)), ~r && u[r].d(d) } } } function UH(n) { let e, t, i, r = [], s = new Map, o, a, l, u, c, d, f = n[4] && Kv(n), g = ut(n[1]); const h = m => m[26].id; for (let m = 0; m < g.length; m += 1) { let v = Wv(n, g, m), b = h(v); s.set(b, r[m] = Yv(b, v)) } return { c() { e = L("div"), f && f.c(), t = Y(), i = L("ul"); for (let m = 0; m < r.length; m += 1)r[m].c(); this.h() }, l(m) { e = T(m, "DIV", { "data-testid": !0, class: !0 }); var v = E(e); f && f.l(v), t = X(v), i = T(v, "UL", { role: !0, "aria-label": !0, class: !0 }); var b = E(i); for (let y = 0; y < r.length; y += 1)r[y].l(b); b.forEach(_), v.forEach(_), this.h() }, h() { p(i, "role", n[14]), p(i, "aria-label", n[4]), p(i, "class", "navigation-items__list svelte-ng61m8"), p(e, "data-testid", a = `navigation-items-${n[2]}`), p(e, "class", l = ys(`navigation-items ${n[13]}`) + " svelte-ng61m8") }, m(m, v) { I(m, e, v), f && f.m(e, null), A(e, t), A(e, i); for (let b = 0; b < r.length; b += 1)r[b] && r[b].m(i, null); u = !0, c || (d = Ut(o = RH.call(null, i, { listItemClassNames: "navigation-item__link, navigation-item__folder, click-action", isRoving: !0, listGroupElement: n[9] })), c = !0) }, p(m, [v]) { m[4] ? f ? f.p(m, v) : (f = Kv(m), f.c(), f.m(e, t)) : f && (f.d(1), f = null), v & 757227 && (g = ut(m[1]), te(), r = lr(r, v, h, 1, m, g, s, i, Ir, Yv, null, Wv), ne()), (!u || v & 16384) && p(i, "role", m[14]), (!u || v & 16) && p(i, "aria-label", m[4]), o && Ft(o.update) && v & 512 && o.update.call(null, { listItemClassNames: "navigation-item__link, navigation-item__folder, click-action", isRoving: !0, listGroupElement: m[9] }), (!u || v & 4 && a !== (a = `navigation-items-${m[2]}`)) && p(e, "data-testid", a), (!u || v & 8192 && l !== (l = ys(`navigation-items ${m[13]}`) + " svelte-ng61m8")) && p(e, "class", l) }, i(m) { if (!u) { for (let v = 0; v < g.length; v += 1)w(r[v]); u = !0 } }, o(m) { for (let v = 0; v < r.length; v += 1)D(r[v]); u = !1 }, d(m) { m && _(e), f && f.d(); for (let v = 0; v < r.length; v += 1)r[v].d(); c = !1, d() } } } function HH(n, e, t) { let i, r, s, o, a = j, l = () => (a(), a = yn(m, W => t(15, o = W)), m); n.$$.on_destroy.push(() => a()); let u = !1, { visibilityPreferencesKey: c = null } = e, { items: d } = e, { type: f = null } = e, { translateFn: g } = e, { header: h } = e, { currentTab: m } = e; l(); let { headerDropEnabled: v = !1 } = e, { getItemDragData: b = null } = e, { itemDragEnabled: y = !1 } = e, { itemDropEnabled: k = !1 } = e, { listGroupElement: S = null } = e; const C = It(), P = W => { m.set(W.detail.id), Zr.set(!1), C("menuItemClick", W.detail) }; function M() { t(10, u = !u) } let R = {}; function F(W) { const Z = R[W]; t(11, R = { ...R, [W]: !Z }), localStorage.setItem(c, JSON.stringify(R)) } function N() { const W = localStorage == null ? void 0 : localStorage.getItem(c); W ? t(11, R = JSON.parse(W)) : (t(11, R = Object.fromEntries(d.map(({ storageKey: Z }) => [Z, !0]))), localStorage == null || localStorage.setItem(c, JSON.stringify(R))) } Yt(() => { c && N() }); const O = W => C("dropOnHeader", { type: f, dropData: W }); function B(W) { Bt.call(this, n, W) } const U = (W, { detail: Z }) => C("dropOnItem", { item: W, dropData: Z }), K = W => F(W.storageKey); return n.$$set = W => { "visibilityPreferencesKey" in W && t(0, c = W.visibilityPreferencesKey), "items" in W && t(1, d = W.items), "type" in W && t(2, f = W.type), "translateFn" in W && t(3, g = W.translateFn), "header" in W && t(4, h = W.header), "currentTab" in W && l(t(5, m = W.currentTab)), "headerDropEnabled" in W && t(20, v = W.headerDropEnabled), "getItemDragData" in W && t(6, b = W.getItemDragData), "itemDragEnabled" in W && t(7, y = W.itemDragEnabled), "itemDropEnabled" in W && t(8, k = W.itemDropEnabled), "listGroupElement" in W && t(9, S = W.listGroupElement) }, n.$$.update = () => { n.$$.dirty & 2 && t(14, i = d.find(W => W == null ? void 0 : W.children) ? "tree" : null), n.$$.dirty & 4 && t(13, r = f ? `navigation-items--${f}` : ""), n.$$.dirty & 1048580 && t(12, s = typeof v == "function" ? v(f) : v) }, [c, d, f, g, h, m, b, y, k, S, u, R, s, r, i, o, C, P, M, F, v, O, B, U, K] } class m0 extends oe { constructor(e) { super(), se(this, e, HH, UH, ye, { visibilityPreferencesKey: 0, items: 1, type: 2, translateFn: 3, header: 4, currentTab: 5, headerDropEnabled: 20, getItemDragData: 6, itemDragEnabled: 7, itemDropEnabled: 8, listGroupElement: 9 }) } } const XP = "({w}|[0-9]+)x({h}|[0-9]+)", ZP = "{f}|([a-zA-Z]{3,4})", $H = "[A-z]{1,6}\\.[\\w]{1,8}", Xv = new RegExp(`^${XP}([a-zA-Z]+)`), VH = new RegExp(ZP), zH = /(-[0-9]+)?\.(\{f\}|[A-z]{2,4})$/, $d = new RegExp(`^${XP}(${$H})\\.(${ZP})`), QP = 60, qH = 729, WH = [1, 2], jP = "jpg", GP = { HD: 16 / 9, ONE_THIRD: 3 / 1, ONE: 1, THREE_QUARTERS: 3 / 4, UBER: 4, HD_ASPECT_RATIO: 16 / 9, VIDEO_LIST: 7 / 4, VIDEO_TALL: 9 / 16, HERO: 68 / 39, SUPER_HERO_WIDE: 22 / 9, WELCOME: 466 / 293, EDITORIAL_DEFAULT: 68 / 39 }, tp = { jpg: "image/jpeg", png: "image/png", webp: "image/webp" }, KH = typeof HTMLImageElement < "u" && "loading" in HTMLImageElement.prototype, xP = typeof window < "u" && window.IntersectionObserver && !KH; function JH() { const { HD: n, ONE: e, HERO: t, THREE_QUARTERS: i, SUPER_HERO_WIDE: r, UBER: s, ONE_THIRD: o, HD_ASPECT_RATIO: a, EDITORIAL_DEFAULT: l } = GP; let u = { BREAKPOINTS: { xsmall: { max: 739 }, small: { min: 740, max: 999 }, medium: { min: 1e3, max: 1319 }, large: { min: 1320, max: 1679 }, xlarge: { min: 1680 } }, PROFILES: new Map([["brick", [[340, 340, 290, 290], n, "sr"]], ["brick-sporting-event", [[340, 340, 290, 290], n, "sh"]], ["product", [[500, 500, 300, 270], e, "bb"]], ["episode", [[330, 330, 305, 295], n, "sr"]], ["editorial-card", [[530, 530, 480, 300, 300], l, "fa"]], ["editorial-card-cover-artwork", [[60], e, "cc"]], ["editorial-card-video-art", [[88], a, "mv"]], ["hero", [[530, 530, 600, 450], t, "sr"]], ["superHeroLockup", [[330, 330, 305, 295], i, "bb"]], ["superHeroTall", [[600, 600, 450], i, "sr"]], ["superHeroWide", [[1200, 1200, 900, 600, 450], r, "sr"]], ["uber", [[1200], s, "bb"]], ["episode-lockup", [[316, 316, 296, 296], e, "cc"]], ["upsell-artwork", [[94], e, "cc"]], ["upsell-wordmark", [[140], 140 / 14, "bb"]], ["ellipse-lockup", [[243, 243, 220, 190, 160], e, "cc"]], ["standard", [[243, 243, 220, 190, 160], e, "bb"]], ["powerswoosh", [[300], e, "cc"]], ["powerswooshTall", [[600, 450], i, "sr"]], ["category-brick", [[1040, 1040, 1040, 680], o, "sr"]], ["info-fullscreen", [[600, 600, 450], e, "bb"]], ["track-list", [[40], e, "bb"]]]) }; return { get: () => u, set: f => { var g; u = { PROFILES: new Map([...u.PROFILES, ...f.PROFILES]), BREAKPOINTS: { ...u.BREAKPOINTS, ...(g = f == null ? void 0 : f.BREAKPOINTS) != null ? g : {} } } } } } const Df = JH(); function eA(n, e) { var o; const t = {}, i = { xsmall: 0, small: 1, medium: 2, large: 3, xlarge: 4 }, r = (o = e == null ? void 0 : e.offset) != null ? o : 0; return Object.keys(n).sort((a, l) => i[a] - i[l]).reduce((a, l) => { const { min: u, max: c } = n[l]; return u && !c ? a[l] = `(min-width:${u + r}px)` : !u && c ? a[l] = `(max-width:${c + r}px)` : u && c && (a[l] = `(min-width:${u + r}px) and (max-width:${c + r}px)`), a }, t), t } const { BREAKPOINTS: YH } = Df.get(), tA = eA(YH), XH = "medium"; function ZH(n) { return Object.entries(n).filter(([e, t]) => t.matches).map(([e, t]) => e)[0] } function p0(n, e = tA) { return ca(n, t => { if (typeof window > "u" || typeof matchMedia > "u") { t(n); return } let i = {}, r = () => t(ZH(i)); for (const s in e) i[s] = window.matchMedia(e[s]), i[s].addListener(r); return r(), function () { for (let s in i) i[s].removeListener(r) } }) } const _l = p0(XH, tA), nA = p0("visible", { hidden: "(max-width: 483px)", visible: "(min-width: 484px)" }), ec = xu(nA, n => n === "hidden"); const QH = n => ({}), Zv = n => ({}), jH = n => ({}), Qv = n => ({}), GH = n => ({}), jv = n => ({}), xH = n => ({}), Gv = n => ({}), e$ = n => ({}), xv = n => ({}), t$ = n => ({}), e3 = n => ({}); function n$(n) { let e, t; const i = n[19].logo, r = We(i, n, n[18], Gv), s = n[19].search, o = We(s, n, n[18], jv); return { c() { r && r.c(), e = Y(), o && o.c() }, l(a) { r && r.l(a), e = X(a), o && o.l(a) }, m(a, l) { r && r.m(a, l), I(a, e, l), o && o.m(a, l), t = !0 }, p(a, l) { r && r.p && (!t || l & 262144) && Je(r, i, a, a[18], t ? Ke(i, a[18], l, xH) : Ye(a[18]), Gv), o && o.p && (!t || l & 262144) && Je(o, s, a, a[18], t ? Ke(s, a[18], l, GH) : Ye(a[18]), jv) }, i(a) { t || (w(r, a), w(o, a), t = !0) }, o(a) { D(r, a), D(o, a), t = !1 }, d(a) { a && _(e), r && r.d(a), o && o.d(a) } } } function i$(n) { let e, t, i, r; e = new cH({ props: { navigationId: iA, translateFn: n[5] } }), e.$on("toggleExpansion", n[20]); const s = n[19].logo, o = We(s, n, n[18], e3), a = n[19].auth, l = We(a, n, n[18], xv); return { c() { V(e.$$.fragment), t = Y(), o && o.c(), i = Y(), l && l.c() }, l(u) { q(e.$$.fragment, u), t = X(u), o && o.l(u), i = X(u), l && l.l(u) }, m(u, c) { H(e, u, c), I(u, t, c), o && o.m(u, c), I(u, i, c), l && l.m(u, c), r = !0 }, p(u, c) { const d = {}; c & 32 && (d.translateFn = u[5]), e.$set(d), o && o.p && (!r || c & 262144) && Je(o, s, u, u[18], r ? Ke(s, u[18], c, t$) : Ye(u[18]), e3), l && l.p && (!r || c & 262144) && Je(l, a, u, u[18], r ? Ke(a, u[18], c, e$) : Ye(u[18]), xv) }, i(u) { r || (w(e.$$.fragment, u), w(o, u), w(l, u), r = !0) }, o(u) { D(e.$$.fragment, u), D(o, u), D(l, u), r = !1 }, d(u) { u && (_(t), _(i)), $(e, u), o && o.d(u), l && l.d(u) } } } function t3(n) { let e, t, i, r, s; e = new m0({ props: { type: "primary", items: n[1], translateFn: n[5], currentTab: n[6], visibilityPreferencesKey: null, header: null, listGroupElement: n[12] } }), e.$on("menuItemClick", n[21]); let o = n[2].length > 0 && n3(n), a = n[3].length > 0 && i3(n); return { c() { V(e.$$.fragment), t = Y(), o && o.c(), i = Y(), a && a.c(), r = re() }, l(l) { q(e.$$.fragment, l), t = X(l), o && o.l(l), i = X(l), a && a.l(l), r = re() }, m(l, u) { H(e, l, u), I(l, t, u), o && o.m(l, u), I(l, i, u), a && a.m(l, u), I(l, r, u), s = !0 }, p(l, u) { const c = {}; u & 2 && (c.items = l[1]), u & 32 && (c.translateFn = l[5]), u & 64 && (c.currentTab = l[6]), u & 4096 && (c.listGroupElement = l[12]), e.$set(c), l[2].length > 0 ? o ? (o.p(l, u), u & 4 && w(o, 1)) : (o = n3(l), o.c(), w(o, 1), o.m(i.parentNode, i)) : o && (te(), D(o, 1, 1, () => { o = null }), ne()), l[3].length > 0 ? a ? (a.p(l, u), u & 8 && w(a, 1)) : (a = i3(l), a.c(), w(a, 1), a.m(r.parentNode, r)) : a && (te(), D(a, 1, 1, () => { a = null }), ne()) }, i(l) { s || (w(e.$$.fragment, l), w(o), w(a), s = !0) }, o(l) { D(e.$$.fragment, l), D(o), D(a), s = !1 }, d(l) { l && (_(t), _(i), _(r)), $(e, l), o && o.d(l), a && a.d(l) } } } function n3(n) { let e, t, i, r, s, o; return t = new m0({ props: { type: "library", header: n[5]("AMP.Shared.Library"), items: n[2], listGroupElement: n[12], visibilityPreferencesKey: n[0], translateFn: n[5], currentTab: n[6], itemDragEnabled: n[10], itemDropEnabled: n[11] } }), t.$on("dropOnItem", n[22]), t.$on("menuItemClick", n[23]), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(a) { e = T(a, "DIV", { "data-testid": !0 }); var l = E(e); q(t.$$.fragment, l), l.forEach(_), this.h() }, h() { p(e, "data-testid", "navigation-library-section") }, m(a, l) { I(a, e, l), H(t, e, null), r = !0, s || (o = Ut(i = Js.call(null, e, n[7] && { dropEnabled: !0, onDrop: n[24] })), s = !0) }, p(a, l) { const u = {}; l & 32 && (u.header = a[5]("AMP.Shared.Library")), l & 4 && (u.items = a[2]), l & 4096 && (u.listGroupElement = a[12]), l & 1 && (u.visibilityPreferencesKey = a[0]), l & 32 && (u.translateFn = a[5]), l & 64 && (u.currentTab = a[6]), l & 1024 && (u.itemDragEnabled = a[10]), l & 2048 && (u.itemDropEnabled = a[11]), t.$set(u), i && Ft(i.update) && l & 128 && i.update.call(null, a[7] && { dropEnabled: !0, onDrop: a[24] }) }, i(a) { r || (w(t.$$.fragment, a), r = !0) }, o(a) { D(t.$$.fragment, a), r = !1 }, d(a) { a && _(e), $(t), s = !1, o() } } } function i3(n) { let e, t; return e = new m0({ props: { type: "personalized", header: n[4], items: n[3], visibilityPreferencesKey: null, listGroupElement: n[12], translateFn: n[5], currentTab: n[6], getItemDragData: n[9], itemDragEnabled: n[10], itemDropEnabled: n[11], headerDropEnabled: n[8] } }), e.$on("menuItemClick", n[25]), e.$on("dropOnItem", n[26]), e.$on("dropOnHeader", n[27]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 16 && (s.header = i[4]), r & 8 && (s.items = i[3]), r & 4096 && (s.listGroupElement = i[12]), r & 32 && (s.translateFn = i[5]), r & 64 && (s.currentTab = i[6]), r & 512 && (s.getItemDragData = i[9]), r & 1024 && (s.itemDragEnabled = i[10]), r & 2048 && (s.itemDropEnabled = i[11]), r & 256 && (s.headerDropEnabled = i[8]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function r$(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h; const m = [i$, n$], v = []; function b(M, R) { return M[13] ? 0 : 1 } i = b(n), r = v[i] = m[i](n); let y = n[14] && t3(n); const k = n[19]["after-navigation-items"], S = We(k, n, n[18], Qv), C = n[19]["native-cta"], P = We(C, n, n[18], Zv); return { c() { e = L("nav"), t = L("div"), r.c(), s = Y(), o = L("div"), a = L("div"), y && y.c(), l = Y(), S && S.c(), u = Y(), c = L("div"), P && P.c(), this.h() }, l(M) { e = T(M, "NAV", { "data-testid": !0, class: !0 }); var R = E(e); t = T(R, "DIV", { class: !0 }); var F = E(t); r.l(F), F.forEach(_), s = X(R), o = T(R, "DIV", { "data-testid": !0, class: !0, id: !0, "aria-hidden": !0 }); var N = E(o); a = T(N, "DIV", { class: !0 }); var O = E(a); y && y.l(O), l = X(O), S && S.l(O), O.forEach(_), u = X(N), c = T(N, "DIV", { class: !0 }); var B = E(c); P && P.l(B), B.forEach(_), N.forEach(_), R.forEach(_), this.h() }, h() { p(t, "class", "navigation__header svelte-13li0vp"), p(a, "class", "navigation__scrollable-container svelte-13li0vp"), p(c, "class", "navigation__native-cta"), p(o, "data-testid", "navigation-content"), p(o, "class", "navigation__content svelte-13li0vp"), p(o, "id", iA), p(o, "aria-hidden", d = n[13] && !n[15] ? "true" : "false"), p(e, "data-testid", "navigation"), p(e, "class", "navigation svelte-13li0vp"), J(e, "is-transitioning", n[16]), J(e, "is-expanded", n[15]) }, m(M, R) { I(M, e, R), A(e, t), v[i].m(t, null), A(e, s), A(e, o), A(o, a), y && y.m(a, null), A(a, l), S && S.m(a, null), n[28](a), A(o, u), A(o, c), P && P.m(c, null), f = !0, g || (h = Me(e, "transitionend", Za(n[29])), g = !0) }, p(M, [R]) { let F = i; i = b(M), i === F ? v[i].p(M, R) : (te(), D(v[F], 1, 1, () => { v[F] = null }), ne(), r = v[i], r ? r.p(M, R) : (r = v[i] = m[i](M), r.c()), w(r, 1), r.m(t, null)), M[14] ? y ? (y.p(M, R), R & 16384 && w(y, 1)) : (y = t3(M), y.c(), w(y, 1), y.m(a, l)) : y && (te(), D(y, 1, 1, () => { y = null }), ne()), S && S.p && (!f || R & 262144) && Je(S, k, M, M[18], f ? Ke(k, M[18], R, jH) : Ye(M[18]), Qv), P && P.p && (!f || R & 262144) && Je(P, C, M, M[18], f ? Ke(C, M[18], R, QH) : Ye(M[18]), Zv), (!f || R & 40960 && d !== (d = M[13] && !M[15] ? "true" : "false")) && p(o, "aria-hidden", d), (!f || R & 65536) && J(e, "is-transitioning", M[16]), (!f || R & 32768) && J(e, "is-expanded", M[15]) }, i(M) { f || (w(r), w(y), w(S, M), w(P, M), f = !0) }, o(M) { D(r), D(y), D(S, M), D(P, M), f = !1 }, d(M) { M && _(e), v[i].d(), y && y.d(), S && S.d(M), n[28](null), P && P.d(M), g = !1, h() } } } const iA = "navigation"; function s$(n, e, t) { let i, r, s, o; ce(n, Zr, Q => t(15, r = Q)), ce(n, ec, Q => t(13, s = Q)), ce(n, Qa, Q => t(16, o = Q)); let { $$slots: a = {}, $$scope: l } = e; const u = It(); let { visibilityPreferencesKey: c = null } = e, { items: d } = e, { libraryItems: f = [] } = e, { personalizedItems: g = [] } = e, { personalizedItemsHeader: h = "" } = e, { translateFn: m } = e, { currentTab: v } = e, { libraryDropEnabled: b = !1 } = e, { headerDropEnabled: y = !1 } = e, { getItemDragData: k = null } = e, { itemDragEnabled: S = !1 } = e, { itemDropEnabled: C = !1 } = e, P; function M(Q) { Bt.call(this, n, Q) } function R(Q) { Bt.call(this, n, Q) } function F(Q) { Bt.call(this, n, Q) } function N(Q) { Bt.call(this, n, Q) } const O = Q => u("libraryDrop", Q); function B(Q) { Bt.call(this, n, Q) } function U(Q) { Bt.call(this, n, Q) } function K(Q) { Bt.call(this, n, Q) } function W(Q) { wt[Q ? "unshift" : "push"](() => { P = Q, t(12, P) }) } const Z = () => ni(Qa, o = !1, o); return n.$$set = Q => { "visibilityPreferencesKey" in Q && t(0, c = Q.visibilityPreferencesKey), "items" in Q && t(1, d = Q.items), "libraryItems" in Q && t(2, f = Q.libraryItems), "personalizedItems" in Q && t(3, g = Q.personalizedItems), "personalizedItemsHeader" in Q && t(4, h = Q.personalizedItemsHeader), "translateFn" in Q && t(5, m = Q.translateFn), "currentTab" in Q && t(6, v = Q.currentTab), "libraryDropEnabled" in Q && t(7, b = Q.libraryDropEnabled), "headerDropEnabled" in Q && t(8, y = Q.headerDropEnabled), "getItemDragData" in Q && t(9, k = Q.getItemDragData), "itemDragEnabled" in Q && t(10, S = Q.itemDragEnabled), "itemDropEnabled" in Q && t(11, C = Q.itemDropEnabled), "$$scope" in Q && t(18, l = Q.$$scope) }, n.$$.update = () => { n.$$.dirty & 8192 && (s || ni(Zr, r = !1, r)), n.$$.dirty & 4096 && t(14, i = !!P) }, [c, d, f, g, h, m, v, b, y, k, S, C, P, s, i, r, o, u, l, a, M, R, F, N, O, B, U, K, W, Z] } class o$ extends oe { constructor(e) { super(), se(this, e, s$, r$, ye, { visibilityPreferencesKey: 0, items: 1, libraryItems: 2, personalizedItems: 3, personalizedItemsHeader: 4, translateFn: 5, currentTab: 6, libraryDropEnabled: 7, headerDropEnabled: 8, getItemDragData: 9, itemDragEnabled: 10, itemDropEnabled: 11 }) } } function Ci(n) { if (typeof document > "u") return null; const e = `${n}=`, t = document.cookie.split(";").map(i => i.trimStart()).filter(i => i.startsWith(e))[0]; return t ? t.substr(e.length) : null } const Zo = Tt(!1), np = Tt(!1); class a$ { constructor(e) { He(this, "factories"); this.factories = e } loggerFor(e) { return new l$(this.factories.map(t => t.loggerFor(e))) } } class l$ { constructor(e) { He(this, "loggers"); this.loggers = e } debug(...e) { return this.callAll("debug", e) } info(...e) { return this.callAll("info", e) } warn(...e) { return this.callAll("warn", e) } error(...e) { return this.callAll("error", e) } callAll(e, t) { for (const i of this.loggers) i[e](...t); return "" } } class u$ { constructor(e) { this.name = e } debug(...e) { return this.log("debug", ...e) } info(...e) { return this.log("info", ...e) } warn(...e) { return this.log("warn", ...e) } error(...e) { return this.log("error", ...e) } } const ip = { "*": 4, debug: 4, info: 3, warn: 2, error: 1, off: 0, "": 0 }; function c$() { var o; const n = (() => { try { return (typeof window < "u" ? window.localStorage.onyxLog : "") || "" } catch (a) { return "" } })(), e = {}, t = { defaultLevel: ip["*"] }, r = (() => { try { return !1 } catch (a) { return !1 } })() ? t : e, s = n.length > 0 ? {} : r; for (const a of n.split(",").filter(l => l)) { const l = a.split("="); if (l.length !== 2) continue; const [u, c] = l, d = ip[c]; typeof d > "u" || (u === "*" ? s.defaultLevel = d : (s.named = (o = s.named) != null ? o : {}, s.named[u] = d)) } return s } function d$(n, e) { var r, s; const t = c$(), i = (s = (r = (t.named || {})[n]) != null ? r : t.defaultLevel) != null ? s : 0; return ip[e] <= i } class f$ { loggerFor(e) { return new g$(e) } } class g$ extends u$ { log(e, ...t) { if (!d$(this.name, e)) return ""; const i = console[e], r = `[${this.name}]`, [s, ...o] = t; return typeof s == "string" ? i(`${r} ${s}`, ...o) : i(r, ...t), "" } } const rA = "loggerFactory"; function h$(n, e) { n.set(rA, e) } function kn(n) { const e = gi(rA); if (!e) throw new Error("loggerFor called before setContext or outside of svelte component init"); return e.loggerFor(n) } const m$ = "modulepreload", p$ = function (n) { return "/" + n }, r3 = {}, ft = function (e, t, i) { if (!t || t.length === 0) return e(); const r = document.getElementsByTagName("link"); return Promise.all(t.map(s => { if (s = p$(s), s in r3) return; r3[s] = !0; const o = s.endsWith(".css"), a = o ? '[rel="stylesheet"]' : ""; if (!!i) for (let c = r.length - 1; c >= 0; c--) { const d = r[c]; if (d.href === s && (!o || d.rel === "stylesheet")) return } else if (document.querySelector(`link[href="${s}"]${a}`)) return; const u = document.createElement("link"); if (u.rel = o ? "stylesheet" : m$, o || (u.as = "script", u.crossOrigin = ""), u.href = s, document.head.appendChild(u), o) return new Promise((c, d) => { u.addEventListener("load", c), u.addEventListener("error", () => d(new Error(`Unable to preload CSS for ${s}`))) }) })).then(() => e()) }; function s3() { let n, e; return { promise: new Promise(function (i, r) { n = i, e = r }), resolve(i) { n == null || n(i) }, reject(i) { e == null || e(i) } } } class _$ extends Map { constructor(t) { super(); He(this, "sizeLimit"); this.setSizeLimit(t), this.sizeLimit = t } get(t) { let i; return this.has(t) && (i = super.get(t), this.delete(t), super.set(t, i)), i } set(t, i) { return super.set(t, i), this.prune(), this } setSizeLimit(t) { if (t < 0 || !isFinite(t)) throw new Error(`setSizeLimit expects finite positive number, got: ${t}`); this.sizeLimit = t, this.prune() } prune() { for (; this.size > this.sizeLimit;) { const t = this.keys().next().value; this.delete(t) } } } let Ma = null; function v$(n, e, t) { let i = 0; Ma !== null && window.cancelAnimationFrame(Ma), Ma = window.requestAnimationFrame(function r() { if (++i >= 100) { n.warn("wasn't able to restore scroll within 100 frames"), Ma = null; return } let s = e(); if (!s) { n.warn("could not restore scroll: the scrollable element is missing"); return } const { scrollHeight: o, offsetHeight: a } = s; if (!(t + a <= o + 16)) { n.info("page is not tall enough for scroll yet", { scrollHeight: o, offsetHeight: a }), Ma = window.requestAnimationFrame(r); return } s.scrollTop = t, n.info("scroll restored to", t), Ma = null }) } function sA(n) { if (n != null) return String(n).replace(/^((?:[^:]*:[/]{0,2})|(?::?\/\/))/i, "") } function b$(n) { var e; return (e = sA(n)) == null ? void 0 : e.replace(/^([^/]*)/i, "") } function oA(n) { if (n === void 0) return; const e = String(n), t = e.indexOf("?"); return t >= 0 ? e.slice(0, t) : e } function aA() { const n = new URL(window.location.href); return `${n.protocol}//${n.host}` } function lA() { return "xxxxxxxx-xxxx-4xxx-Vxxx-xxxxxxxxxxxx".replace(/[xV]/g, n => { let e = Math.random() * 16 | 0; return n === "V" && (e = e & 3 | 8), e.toString(16) }) } const y$ = 10; class w$ { constructor(e, t, i = y$) { He(this, "log"); He(this, "states"); He(this, "getScrollablePageElement"); He(this, "currentStateId"); this.log = e.loggerFor("History"), this.states = new _$(i), this.getScrollablePageElement = t.getScrollablePageElement } updateState(e) { if (!this.currentStateId) { this.log.warn("failed: encountered a null currentStateId inside updateState"); return } const t = this.states.get(this.currentStateId), i = e(t == null ? void 0 : t.state); this.log.info("updateState", i, this.currentStateId), this.states.set(this.currentStateId, { ...t, state: i }) } replaceState(e, t) { const i = o3(); this.log.info("replaceState", e, t, i), window.history.replaceState({ id: i }, "", this.removeHost(t)), this.currentStateId = i, this.states.set(i, { state: e, scrollY: 0 }), this.scrollTop = 0 } pushState(e, t) { const i = o3(); this.log.info("pushState", e, t, i), window.history.pushState({ id: i }, "", this.removeHost(t)), this.currentStateId = i, this.states.set(i, { state: e, scrollY: 0 }), this.scrollTop = 0 } beforeTransition() { const { state: e } = window.history; if (!e) return; const t = this.states.get(e.id); if (!t) { this.log.info("current history state evicted from LRU, not saving scroll position"); return } const { scrollTop: i } = this; this.states.set(e.id, { ...t, scrollY: i }), this.log.info("saving scroll position", i) } removeHost(e) { if (!e) { this.log.warn("received null URL"); return } return b$(e) } onPopState(e) { window.addEventListener("popstate", t => { var s; this.currentStateId = (s = t.state) == null ? void 0 : s.id, this.currentStateId || this.log.warn("encountered a null event.state.id in onPopState event: ", window.location.href), this.log.info("popstate", this.states, this.currentStateId); const i = this.currentStateId ? this.states.get(this.currentStateId) : void 0; if (e(window.location.href, i == null ? void 0 : i.state), !i) return; const { scrollY: r } = i; this.log.info("restoring scroll to", r), v$(this.log, () => this.getScrollablePageElement(), r) }) } get scrollTop() { var e; return ((e = this.getScrollablePageElement()) == null ? void 0 : e.scrollTop) || 0 } set scrollTop(e) { const t = this.getScrollablePageElement(); t && (t.scrollTop = e) } } function o3() { return lA() } function k$(n) { if (!n || typeof n != "object") return !1; const e = Object.getPrototypeOf(n); return e ? e === Object.prototype : !0 } function Mh() { try { if (typeof window > "u" || !window.localStorage) return !1; const n = "__localStorage_test__"; return window.localStorage.setItem(n, "test"), window.localStorage.removeItem(n), !0 } catch (n) { return !1 } } const _0 = { getItem(n) { if (!Mh()) return null; try { return window.localStorage.getItem(n) } catch (e) { return null } }, setItem(n, e) { if (!Mh()) return !1; try { return window.localStorage.setItem(n, e), !0 } catch (t) { return !1 } }, removeItem(n) { if (!Mh()) return !1; try { return window.localStorage.removeItem(n), !0 } catch (e) { return !1 } }, getJSON(n) { const e = this.getItem(n); if (!e) return null; try { return JSON.parse(e) } catch (t) { return null } }, setJSON(n, e) { try { const t = JSON.stringify(e); return this.setItem(n, t) } catch (t) { return !1 } }, getUserKey(n, e) { return e ? `${n}-${e}` : n } }; function D$(n) { const e = {}; for (const [t, i] of n) e[t] = i; return e } function S$(n) { return n != null } function nn(n) { const e = { version: n.toLowerCase() }, t = n.toLowerCase().split(".").filter(o => !!o); if (t.length <= 1 && !/^\d+$/.test(t[0])) return e; const i = parseInt(t[0], 10), r = parseInt(t[1], 10), s = parseInt(t[2], 10); return Number.isNaN(i) || (e.major = i, Number.isNaN(r) || (e.minor = r), Number.isNaN(s) || (e.patch = s)), e } function tc(n, e) { let t = rp(n), i = rp(e); const r = Math.max(t.length, i.length); t = t.concat(Array(r).fill(0)).slice(0, r), i = i.concat(Array(r).fill(0)).slice(0, r); const s = o => o <= -1 ? -1 : o >= 1 ? 1 : 0; for (let o = 0; o < r; o++) { const a = t[o], l = i[o]; if (a !== l) return s(a - l) } return 0 } function C$(n, e) { return tc(n, e) === 0 } function P$(n, e) { return tc(n, e) > 0 } function A$(n, e) { const t = tc(n, e); return t > 0 || t === 0 } function E$(n, e) { return tc(n, e) < 0 } function I$(n, e) { const t = tc(n, e); return t < 0 || t === 0 } function rp(n) { if (Array.isArray(n)) return n; if (typeof n == "number") return [n]; if (typeof n == "string") return rp(nn(n)); { const e = [n.major, n.minor, n.patch], t = e.indexOf(void 0); return t === -1 ? e : e.slice(0, t) } } function Lh(n, e, t) { const { userAgent: i } = e != null ? e : {}; if (typeof i != "string" || i.trim() === "") return t; for (const r of n) { const s = r.slice(0, -1), o = r[r.length - 1]; let a = null; for (const l of s) if (a = i.match(l), a !== null) { Object.assign(t, o(a, e, t)); break } if (a !== null) break } return t } function M$(n, e, t) { return e in n ? Object.defineProperty(n, e, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : n[e] = t, n } function an(n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e] != null ? arguments[e] : {}, i = Object.keys(t); typeof Object.getOwnPropertySymbols == "function" && (i = i.concat(Object.getOwnPropertySymbols(t).filter(function (r) { return Object.getOwnPropertyDescriptor(t, r).enumerable }))), i.forEach(function (r) { M$(n, r, t[r]) }) } return n } function L$(n, e) { var t = Object.keys(n); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(n); e && (i = i.filter(function (r) { return Object.getOwnPropertyDescriptor(n, r).enumerable })), t.push.apply(t, i) } return t } function a3(n, e) { return e = e != null ? e : {}, Object.getOwnPropertyDescriptors ? Object.defineProperties(n, Object.getOwnPropertyDescriptors(e)) : L$(Object(e)).forEach(function (t) { Object.defineProperty(n, t, Object.getOwnPropertyDescriptor(e, t)) }), n } var Th, Rh; const Fh = { browser: [[/^(itunes|music|tv)\/([\w.]+)\s/i, n => a3(an({ name: "webview", variant: n[1].trim().toLowerCase().replace(/(music|tv)/i, "$1.app") }, nn(n[2])), { mobile: !1 })], [/(?:(?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w.]+);)/i, n => an({ name: "webview", variant: "facebook", mobile: !0 }, nn(n[1]))], [/(instagram|snapchat)[/ ]([-\w.]+)/i, n => an({ name: "webview", variant: n[1].trim().toLowerCase(), mobile: !0 }, nn(n[2]))], [/musical_ly(?:.+app_?version\/|_)([\w.]+)/i, n => an({ name: "webview", variant: "tiktok", mobile: !0 }, nn(n[1]))], [/twitter/i, () => ({ name: "webview", variant: "twitter", mobile: !0 })], [/ wv\).+?(?:version|chrome)\/([\w.]+)/i, n => an({ name: "webview", mobile: !0 }, nn(n[1]))], [/electron\/([\w.]+) safari/i, n => an({ name: "electron", mobile: !1 }, nn(n[1]))], [/tesla\/(.*?(20\d\d\.([-\w.])+))/i, n => a3(an({ name: "other", variant: "tesla", mobile: !1 }, nn(n[2])), { version: n[1] })], [/(samsung|huawei)browser\/([-\w.]+)/i, n => an({ name: "other", variant: n[1].trim().toLowerCase().replace(/browser/i, ""), mobile: !0 }, nn(n[2]))], [/yabrowser\/([-\w.]+)/i, n => an({ name: "other", variant: "yandex", mobile: !1 }, nn(n[1]))], [/(brave|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w.]+)/i, (n, { userAgent: e }) => an({ name: "other", variant: n[1].trim().toLowerCase(), mobile: /mobile/i.test(e) }, nn(n[2].replace(/-/g, ".")))], [/edg(e|ios|a)?\/([\w.]+)/i, n => an({ name: "edge", mobile: /(edgios|edga)/i.test((Th = n[1]) !== null && Th !== void 0 ? Th : "") }, nn(n[2]))], [/trident.+rv[: ]([\w.]{1,9})\b.+like gecko/i, n => an({ name: "ie", mobile: !1 }, nn(n[1]))], [/opr\/([\w.]+)/i, /opera mini\/([-\w.]+)/i, /opera [mobiletab]{3,6}\b.+version\/([-\w.]+)/i, /opera(?:.+version\/|[/ ]+)([\w.]+)/i, n => an({ name: "opera", mobile: /mobile/i.test(n[0]) }, nn(n[1]))], [/headlesschrome(?:\/([\w.]+)| )/i, n => an({ name: "chrome", variant: "headless", mobile: !1 }, nn(n[1]))], [/\b(?:crmo|crios)\/([\w.]+)/i, n => an({ name: "chrome", mobile: !0 }, nn(n[1]))], [/chrome(?: browser)?\/v?([\w.]+)( mobile)?/i, n => an({ name: "chrome", mobile: /mobile/i.test((Rh = n[2]) !== null && Rh !== void 0 ? Rh : "") }, nn(n[1]))], [/\bfocus\/([\w.]+)/i, n => an({ name: "firefox", variant: "focus", mobile: !0 }, nn(n[1]))], [/fxios\/([\w.-]+)/i, /(?:mobile|tablet);.*(?:firefox)\/([\w.-]+)/i, n => an({ name: "firefox", mobile: !0 }, nn(n[1]))], [/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[/ ]?([\w.+]+)/i, n => an({ name: "firefox", variant: n[1].trim().toLowerCase(), mobile: !1 }, nn(n[2]))], [/(?:firefox)\/([\w.]+)/i, /(?:mozilla)\/([\w.]+) .+rv:.+gecko\/\d+/i, n => an({ name: "firefox", mobile: !1 }, nn(n[1]))], [/version\/([\w.,]+) .*mobile(?:\/\w+ | ?)safari/i, /version\/([\w.,]+) .*(safari)/i, /webkit.+?(?:mobile ?safari|safari)(?:\/([\w.]+))/i, n => an({ name: "safari", mobile: /mobile/i.test(n[0]) }, nn(n[1]))]], engine: [[/webkit\/(?:537\.36).+chrome\/(?!27)([\w.]+)/i, n => an({ name: "blink" }, nn(n[1]))], [/windows.+ edge\/([\w.]+)/i, n => an({ name: "blink" }, nn(n[1]))], [/presto\/([\w.]+)/i, n => an({ name: "presto" }, nn(n[2]))], [/trident\/([\w.]+)/i, n => an({ name: "trident" }, nn(n[1]))], [/gecko\/([\w.]+)/i, n => an({ name: "gecko" }, nn(n[1]))], [/(khtml|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w.]+)/i, n => an({ name: "other" }, nn(n[2]))], [/webkit\/([\w.]+)/i, n => an({ name: "webkit" }, nn(n[1]))]], os: [[/microsoft windows (vista|xp)/i, /windows nt 6\.2; (arm)/i, /windows (?:phone(?: os)?|mobile)[/ ]?([\d.\w ]*)/i, /windows[/ ]?([ntce\d. ]+\w)(?!.+xbox)/i, /(?:win(?=3|9|n)|win 9x )([nt\d.]+)/i, n => an({ name: "windows" }, nn(n[1]))], [/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i, /(?:ios;fbsv\/|iphone.+ios[/ ])([\d.]+)/i, n => an({ name: "ios" }, nn(n[1].replace(/_/g, ".")))], [/mac(?:intosh;?)? os x ?([\d._]+)/i, n => an({ name: "macos" }, nn(n[1].replace(/_/g, ".")))], [/cros [\w]+(?:\)| ([\w.]+)\b)/i, n => an({ name: "chromeos" }, nn(n[1]))], [/(?:android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-/ ]?([\w.]*)/i, /droid ([\w.]+|[\d+])\b.+(android[- ]x86|harmonyos)/i, n => an({ name: "android" }, nn(n[1]))], [/linux/i, () => ({ name: "linux" })]] }; function T$(n, e) { let t = n; for (const i of e) t = i(t); return t } function R$(n, e) { var t, i, r; const s = { navigator: n, ua: (r = (t = n) === null || t === void 0 ? void 0 : t.userAgent) !== null && r !== void 0 ? r : "", extensions: [], browser: Lh(Fh.browser, n, { name: "unknown", mobile: !1 }), engine: Lh(Fh.engine, n, { name: "unknown" }), os: Lh(Fh.os, n, { name: "unknown" }) }; var o; return T$(s, (o = (i = e) === null || i === void 0 ? void 0 : i.extensions) !== null && o !== void 0 ? o : []) } function F$(n, e, t) { return e in n ? Object.defineProperty(n, e, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : n[e] = t, n } function l3(n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e] != null ? arguments[e] : {}, i = Object.keys(t); typeof Object.getOwnPropertySymbols == "function" && (i = i.concat(Object.getOwnPropertySymbols(t).filter(function (r) { return Object.getOwnPropertyDescriptor(t, r).enumerable }))), i.forEach(function (r) { F$(n, r, t[r]) }) } return n } function O$(n, e) { var t = Object.keys(n); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(n); e && (i = i.filter(function (r) { return Object.getOwnPropertyDescriptor(n, r).enumerable })), t.push.apply(t, i) } return t } function u3(n, e) { return e = e != null ? e : {}, Object.getOwnPropertyDescriptors ? Object.defineProperties(n, Object.getOwnPropertyDescriptors(e)) : O$(Object(e)).forEach(function (t) { Object.defineProperty(n, t, Object.getOwnPropertyDescriptor(e, t)) }), n } function N$(n) { function e(t) { var i, r, s; const o = { major: (i = t.major) !== null && i !== void 0 ? i : 0, minor: (r = t.minor) !== null && r !== void 0 ? r : 0, patch: (s = t.patch) !== null && s !== void 0 ? s : 0 }; return u3(l3({}, t), { eq: a => C$(o, a), gt: a => P$(o, a), gte: a => A$(o, a), lt: a => E$(o, a), lte: a => I$(o, a), is: a => t.name === a || t.variant === a }) } return u3(l3({}, n), { extensions: [...n.extensions, "compare"], browser: e(n.browser), engine: e(n.engine), os: e(n.os) }) } function B$(n, e, t) { return e in n ? Object.defineProperty(n, e, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : n[e] = t, n } function Wc(n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e] != null ? arguments[e] : {}, i = Object.keys(t); typeof Object.getOwnPropertySymbols == "function" && (i = i.concat(Object.getOwnPropertySymbols(t).filter(function (r) { return Object.getOwnPropertyDescriptor(t, r).enumerable }))), i.forEach(function (r) { B$(n, r, t[r]) }) } return n } function U$(n, e) { var t = Object.keys(n); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(n); e && (i = i.filter(function (r) { return Object.getOwnPropertyDescriptor(n, r).enumerable })), t.push.apply(t, i) } return t } function Kc(n, e) { return e = e != null ? e : {}, Object.getOwnPropertyDescriptors ? Object.defineProperties(n, Object.getOwnPropertyDescriptors(e)) : U$(Object(e)).forEach(function (t) { Object.defineProperty(n, t, Object.getOwnPropertyDescriptor(e, t)) }), n } function H$(n) { let e = n.os.name; const t = n.os.name === "android"; let i = n.os.name === "macos", r = n.os.name === "ios"; var s; const o = e === "ipados" || r && /ipad/i.test(n.ua) || i && ((s = n.navigator.maxTouchPoints) !== null && s !== void 0 ? s : 0) >= 2; o && (e = "ipados", r = !1, i = !1); const a = Kc(Wc({}, n.browser), { isUnknown: n.browser.name === "unknown", isSafari: n.browser.name === "safari", isChrome: n.browser.name === "chrome", isFirefox: n.browser.name === "firefox", isEdge: n.browser.name === "edge", isWebView: n.browser.name === "webview", isOther: n.browser.name === "other", isMobile: n.browser.mobile || r || o || t || !1 }), l = Kc(Wc({}, n.engine), { isUnknown: n.engine.name === "unknown", isWebKit: n.engine.name === "webkit", isBlink: n.engine.name === "blink", isGecko: n.engine.name === "gecko" }), u = Kc(Wc({}, n.os), { name: e, isUnknown: n.os.name === "unknown", isLinux: n.os.name === "linux", isWindows: n.os.name === "windows", isMacOS: i, isAndroid: t, isIOS: r, isIPadOS: o }); return Kc(Wc({}, n), { extensions: [...n.extensions, "flags"], browser: a, os: u, engine: l }) } const nc = (n, e) => n.hostname === e, Ys = (n, e) => n.searchParams.get("app") === e, ic = (n, e) => { const t = n.searchParams.get("mt"); return t ? e.includes(t) : !1 }, Xs = (n, e) => new RegExp(e).test(n.pathname), uA = n => Ys(n, "audiobook") || ic(n, ["3"]) || Xs(n, /\/(audiobook\/|viewAudiobook)/i), $$ = n => !uA(n) && (nc(n, "books.apple.com") || Ys(n, "books") || ic(n, ["11", "13"]) || Xs(n, "/book/")), c3 = n => nc(n, "finance-app.itunes.apple.com") || Xs(n, "/account/"), V$ = n => Ys(n, "mac-app") || ic(n, ["12"]) || Xs(n, "/mac-app/"), d3 = n => Ys(n, "story") || Xs(n, "/story/"), cA = n => Ys(n, "messages"), Oh = n => nc(n, "music.apple.com") || Ys(n, "music") || Xs(n, /\/(album|artist|playlist|station|curator|music-video)\//i), f3 = n => nc(n, "podcasts.apple.com") || Ys(n, "podcasts") || ic(n, ["2"]) || Xs(n, "/podcast/"), g3 = n => nc(n, "tv.apple.com") || Xs(n, /\/(episode|movie|movie-collection|show|season|sporting-event|person)\//i), dA = n => Ys(n, "watch"), h3 = n => Ys(n, "developer") || Xs(n, "/developer/"), z$ = n => ic(n, ["8"]) && !cA(n) && !dA(n), q$ = [["itms-apps", (n, e) => e.os.isIOS && (c3(n) || z$(n) || d3(n) || h3(n))], ["itms-watch", (n, e) => e.browser.isMobile && dA(n)], ["itms-messages", function (n, e) { return e.browser.isMobile && cA(n) }], ["itms-books", (n, e) => e.os.isMacOS && e.os.gte("10.15") && uA(n), (n, e) => $$(n)], ["apple-music", (n, e) => e.os.isAndroid && Oh(n)], ["music", (n, e) => e.os.isIOS && Oh(n), (n, e) => e.os.isMacOS && e.os.gte("10.15") && Oh(n)], ["itms-podcasts", (n, e) => e.os.isIOS && f3(n)], ["podcasts", (n, e) => e.os.isMacOS && e.os.gte("10.15") && f3(n)], ["com.apple.tv", (n, e) => e.os.isIOS && e.os.gte("10.2") && g3(n)], ["videos", (n, e) => e.os.isMacOS && e.os.gte("10.15") && g3(n)], ["macappstore", (n, e) => V$(n), (n, e) => e.os.isMacOS && e.os.gte("10.15") && c3(n), (n, e) => e.os.isMacOS && e.os.gte("10.14") && (d3(n) || h3(n))], ["itms", (n, e) => !0]]; function W$(n, e) { var t; if (n = new URL(n), /https?/i.test(n.protocol)) { const i = (t = e == null ? void 0 : e.platform) != null ? t : gA.detect(); for (const [r, ...s] of q$) for (const o of s) if (o(n, i)) return r } return fA(n.protocol) } function K$(n, e) { const t = new URL(n); t.host = t.host.replace(/^(?:[^-]+[-.])?([^.]+)\.apple\.com/, "$1.apple.com"), t.port = ""; const i = W$(t, { platform: e == null ? void 0 : e.platform }); return i === fA(t.protocol) ? new URL(n) : new URL(i + "://" + sA(t)) } function fA(n) { return n.replace(/[:]+$/, "").toLowerCase() } function J$(n) { return typeof (n == null ? void 0 : n.msLaunchUri) == "function" } function Y$(n, e, t = () => { }) { const { window: i, browser: r, os: s } = e, o = K$(n, { platform: e }); if (s.isMacOS && r.isSafari) X$(o, e, t); else if (J$(e.navigator)) e.navigator.msLaunchUri(String(o), () => t({ link: o, success: !0 }), () => t({ link: o, success: !1 })); else try { i.top.window.location.href = String(o), t({ link: o, success: !0 }) } catch (a) { t({ link: o, success: !1 }) } } function X$(n, e, t) { const { window: i } = e; if (typeof i > "u") { t({ link: n, success: !1 }); return } let r, s; function o() { clearTimeout(r), i.removeEventListener("blur", o), s !== void 0 && i.document.body.removeChild(s), t({ link: n, success: !0 }) } s = i.document.createElement("iframe"), s.id = "launch-client-opener", s.style.display = "none", i.document.body.appendChild(s), s.contentWindow.location.href = String(n), i.addEventListener("blur", o), r = setTimeout(o, 50) } function Z$(n) { var t, i; const e = typeof ((t = n == null ? void 0 : n.window) == null ? void 0 : t.navigator) < "u" ? n.window.navigator : { userAgent: "", maxTouchPoints: 0 }; return R$((i = n == null ? void 0 : n.navigator) != null ? i : e, { extensions: [H$, N$] }) } class gA { constructor(e) { He(this, "descriptor"); He(this, "navigator"); He(this, "window"); He(this, "ua"); He(this, "browser"); He(this, "engine"); He(this, "os"); var i; const { descriptor: t } = e; this.descriptor = t, this.navigator = (i = e.navigator) != null ? i : t.navigator, this.window = e.window, this.ua = t.ua, this.browser = t.browser, this.engine = t.engine, this.os = t.os } static detect(e) { var i; const t = (i = e == null ? void 0 : e.window) != null ? i : globalThis == null ? void 0 : globalThis.window; return new this({ window: t, descriptor: Z$({ window: t, navigator: e == null ? void 0 : e.navigator }) }) } canOpenNative() { return this.ismacOS() || this.isiOS() } isMobile() { return this.browser.isMobile } isAndroid() { return this.os.isAndroid } isiOS() { return this.os.isIOS } isiPadOS() { return this.os.isIPadOS } ismacOS() { return this.os.isMacOS } isWindows() { return this.os.isWindows } isLinux() { return this.os.isLinux } isSafari() { return this.browser.isSafari } isChrome() { return this.browser.isChrome } isFirefox() { return this.browser.isFirefox } isEdge() { return this.browser.isEdge } clientName() { return this.browser.name[0].toUpperCase() + this.browser.name.slice(1) } majorVersion() { var e; return (e = this.browser.major) != null ? e : 0 } minorVersion() { var e; return (e = this.browser.minor) != null ? e : 0 } osName() { return this.os.name } launchClient(e, t) { Y$(e, this, t) } hasEncryptedPlaybackSupport() { return !this.os.isIOS || this.os.gte("17.5") } } const Oi = gA.detect(); async function Q$(n, e) { const t = [], i = new Set; for (const r of n) { const s = r(); t.push(s), i.add(s); const o = () => i.delete(s); s.finally(o), i.size >= e && await Promise.race(i) } return Promise.allSettled(t) } var sp = (n => (n.TWA = "twa", n.BROWSER = "browser", n.STANDALONE = "standalone", n.MINIMAL = "minimal-ui", n.FULLSCREEN = "fullscreen", n.OVERLAY = "window-controls-overlay", n.UNKNOWN = "unknown", n))(sp || {}); const j$ = () => { switch (!0) { case document.referrer.startsWith("android-app://"): return "twa"; case window.matchMedia("(display-mode: browser)").matches: return "browser"; case window.matchMedia("(display-mode: standalone)").matches: return "standalone"; case window.matchMedia("(display-mode: minimal-ui)").matches: return "minimal-ui"; case window.matchMedia("(display-mode: fullscreen)").matches: return "fullscreen"; case window.matchMedia("(display-mode: window-controls-overlay)").matches: return "window-controls-overlay"; default: return "unknown" } }; var Ne = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}; function Dze(n) { if (n.__esModule) return n; var e = n.default; if (typeof e == "function") { var t = function i() { if (this instanceof i) { var r = [null]; r.push.apply(r, arguments); var s = Function.bind.apply(e, r); return new s } return e.apply(this, arguments) }; t.prototype = e.prototype } else t = {}; return Object.defineProperty(t, "__esModule", { value: !0 }), Object.keys(n).forEach(function (i) { var r = Object.getOwnPropertyDescriptor(n, i); Object.defineProperty(t, i, r.get ? r : { enumerable: !0, get: function () { return n[i] } }) }), t } var Ha = {}, hA = {}, Sf = {}, In = {}; Object.defineProperty(In, "__esModule", { value: !0 }); In.flatMapOptional = In.mapOptional = In.unsafeUnwrapOptional = In.unwrapOptional = In.isSome = In.isNothing = In.unsafeUninitialized = void 0; function G$() { } In.unsafeUninitialized = G$; function mA(n) { return n == null } In.isNothing = mA; function v0(n) { return n != null } In.isSome = v0; function x$(n) { if (mA(n)) throw new ReferenceError; return n } In.unwrapOptional = x$; function eV(n) { return n } In.unsafeUnwrapOptional = eV; function tV(n, e) { return v0(n) ? e(n) : n } In.mapOptional = tV; function nV(n, e) { return v0(n) ? e(n) : n } In.flatMapOptional = nV; Object.defineProperty(Sf, "__esModule", { value: !0 }); Sf.ActionDispatcher = void 0; const m3 = In; let iV = class { constructor(e) { this.implementations = {}, this.metricsPipeline = e } register(e, t) { e in this.implementations && console.error(`An implementation is already registered for ${e}`), this.implementations[e] = t } async perform(e, t) { if (!(e.$kind in this.implementations)) return m3.isSome(this.next) ? await this.next.perform(e, t) : "unsupported"; if (this.processMetrics(e, t), m3.isSome(this.next)) { const i = await this.implementations[e.$kind](e); return i === "unsupported" ? await this.next.perform(e, { behavior: "notProcessed" }) : i } else return await this.implementations[e.$kind](e) } processMetrics(e, t) { if (t.behavior === "notProcessed") return; const r = { customMetrics: e.actionMetrics.custom, pageFields: t.context.pageFields }; e.actionMetrics.data.forEach(s => { this.metricsPipeline.process(s, r) }) } }; Sf.ActionDispatcher = iV; (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(Sf, n) })(hA); var pA = {}, Cf = {}; Object.defineProperty(Cf, "__esModule", { value: !0 }); Cf.JetBag = void 0; let rV = class { constructor(e) { this.backing = e } registerBagKeys() { } string(e) { const t = this.backing[e]; return typeof t == "string" || t === null ? t : void 0 } double(e) { const t = this.backing[e]; return typeof t == "number" || t === null ? t : void 0 } integer(e) { const t = this.backing[e]; return typeof t == "number" || t === null ? t : void 0 } boolean(e) { const t = this.backing[e]; return typeof t == "boolean" || t === null ? t : void 0 } array(e) { const t = this.backing[e]; return Array.isArray(t) || t === null ? t : void 0 } dictionary(e) { const t = this.backing[e]; return typeof t == "object" ? t : void 0 } url(e) { const t = this.backing[e]; return typeof t == "string" ? t : void 0 } }; Cf.JetBag = rV; var Pf = {}; Object.defineProperty(Pf, "__esModule", { value: !0 }); Pf.JetHost = void 0; let sV = class { constructor(e) { this.osBuild = "unknown", this.deviceModel = "unknown", this.deviceModelFamily = "unknown", this.devicePhysicalModel = "unknown", this.deviceLocalizedModel = "unknown", this.clientIdentifier = "unknown", this.clientVersion = "unknown", this.platform = e.platform } isOSAtLeast() { return !1 } }; Pf.JetHost = sV; var Af = {}; Object.defineProperty(Af, "__esModule", { value: !0 }); Af.JetNetworkFetch = void 0; const p3 = In; let oV = class { async fetch(e) { var t, i, r; if (p3.isNothing(process == null ? void 0 : {}.MEDIA_API_TOKEN)) return await Promise.reject(new Error("({}).MEDIA_API_TOKEN must be specified")); const s = { ...(t = e.headers) !== null && t !== void 0 ? t : {}, authorization: `Bearer ${process == null ? void 0 : {}.MEDIA_API_TOKEN}` }, o = await fetch(e.url, { body: e.body, method: (i = e.method) !== null && i !== void 0 ? i : void 0, cache: (r = e.cache) !== null && r !== void 0 ? r : void 0, headers: s }); return { ok: o.ok, headers: Array.from(o.headers.keys()).reduce((a, l) => { const u = o.headers.get(l); return p3.isSome(u) && (a[l] = u), a }, {}), redirected: o.redirected, status: o.status, statusText: o.statusText, url: o.url, body: await o.text(), metrics: [] } } }; Af.JetNetworkFetch = oV; var Ef = {}, _A = {}, vA = {}, bA = {}, yA = {}; Object.defineProperty(yA, "__esModule", { value: !0 }); var wA = {}; Object.defineProperty(wA, "__esModule", { value: !0 }); var kA = {}; Object.defineProperty(kA, "__esModule", { value: !0 }); var DA = {}; Object.defineProperty(DA, "__esModule", { value: !0 }); var SA = {}; Object.defineProperty(SA, "__esModule", { value: !0 }); var CA = {}; Object.defineProperty(CA, "__esModule", { value: !0 }); var PA = {}; Object.defineProperty(PA, "__esModule", { value: !0 }); var AA = {}; Object.defineProperty(AA, "__esModule", { value: !0 }); var EA = {}; Object.defineProperty(EA, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(yA, n), t(wA, n), t(kA, n), t(DA, n), t(SA, n), t(CA, n), t(PA, n), t(AA, n), t(EA, n) })(bA); var If = {}, Rn = {}; Object.defineProperty(Rn, "__esModule", { value: !0 }); Rn.unexpectedNull = Rn.catchingContext = Rn.context = Rn.recordValidationIncidents = Rn.endContext = Rn.getContextNames = Rn.beginContext = Rn.messageForRecoveryAction = Rn.isValidatable = Rn.unexpectedType = Rn.extendedTypeof = void 0; const rc = In; function IA(n) { return Array.isArray(n) ? "array" : n === null ? "null" : typeof n } Rn.extendedTypeof = IA; function MA(n, e, t, i) { const r = IA(t), s = rc.isSome(i) && i.length > 0 ? i : "<this>"; OA({ type: "badType", expected: e, actual: `${r} (${t})`, objectPath: s, contextNames: b0(), recoveryAction: n, stack: new Error().stack }) } Rn.unexpectedType = MA; function LA(n) { return rc.isNothing(n) ? !1 : Object.prototype.hasOwnProperty.call(n, "$incidents") || Object.isExtensible(n) } Rn.isValidatable = LA; function aV(n) { switch (n) { case "coercedValue": return "Coerced format"; case "defaultValue": return "Default value used"; case "ignoredValue": return "Ignored value"; default: return "Unknown" } } Rn.messageForRecoveryAction = aV; const sr = { nameStack: Array(), incidents: Array(), suppressedIncidentPaths: Array() }; function TA(n) { sr.nameStack.push(n) } Rn.beginContext = TA; function b0() { return sr.nameStack.length === 0 ? ["<empty stack>"] : sr.nameStack.slice(0) } Rn.getContextNames = b0; function RA() { sr.nameStack.length === 0 && console.warn("endContext() called without active validation context, ignoring"), sr.nameStack.pop() } Rn.endContext = RA; function lV(n) { LA(n) && (n.$incidents = sr.incidents), sr.incidents = [], sr.nameStack = [], sr.suppressedIncidentPaths = [] } Rn.recordValidationIncidents = lV; function FA(n, e, t) { let i = null; rc.isSome(t) && t.length > 0 && (i = n, sr.suppressedIncidentPaths.push(t)); let r = null; try { TA(n), r = e() } catch (s) { throw s.hasThrown || (MA("defaultValue", "no exception", s.message), s.hasThrown = !0), s } finally { n === i && sr.suppressedIncidentPaths.pop(), RA() } return r } Rn.context = FA; function uV(n, e, t) { let i = null; try { i = FA(n, e) } catch (r) { i = null, rc.isSome(t) && (i = t(r)) } return i } Rn.catchingContext = uV; function OA(n) { sr.suppressedIncidentPaths.includes(n.objectPath) || sr.incidents.push(n) } function cV(n, e, t) { const i = rc.isSome(t) && t.length > 0 ? t : "<this>"; OA({ type: "nullValue", expected: e, actual: "null", objectPath: i, contextNames: b0(), recoveryAction: n, stack: new Error().stack }) } Rn.unexpectedNull = cV; var Mf = {}; Object.defineProperty(Mf, "__esModule", { value: !0 }); Mf.URL = void 0; const _3 = In, dV = /^([a-z][a-z0-9.+-]*:)(\/\/)?([\S\s]*)/i, v3 = /([^=?&]+)=?([^&]*)/g, fV = ["hash", "query", "pathname", "host"]; let gV = class Ho { constructor(e) { var t; if (this.query = {}, _3.isNothing(e)) return; let i = e; const r = dV.exec(e); if (_3.isSome(r)) { let o = r[1]; o != null && (o = o.split(":")[0]), this.protocol = o != null ? o : void 0, i = (t = r[3]) !== null && t !== void 0 ? t : void 0 } let s = { remainder: i, result: void 0 }; for (const o of fV) { if (s === void 0 || s.remainder === void 0) break; switch (o) { case "hash": { s = Jc(s.remainder, "#", "suffix"), this.hash = s == null ? void 0 : s.result; break } case "query": { s = Jc(s.remainder, "?", "suffix"), (s == null ? void 0 : s.result) !== void 0 && (this.query = Ho.queryFromString(s.result)); break } case "pathname": { s = Jc(s.remainder, "/", "suffix"), (s == null ? void 0 : s.result) !== void 0 && (this.pathname = "/" + s.result); break } case "host": { const a = Jc(s.remainder, "@", "prefix"), l = a == null ? void 0 : a.result, u = a == null ? void 0 : a.remainder; if (l !== void 0) { const c = l.split(":"); this.username = decodeURIComponent(c[0]), this.password = decodeURIComponent(c[1]) } if (u !== void 0) { const c = u.split(":"); this.host = c[0], this.port = c[1] } break } default: throw new Error("Unhandled case!") } } } get(e) { switch (e) { case "protocol": return this.protocol; case "username": return this.username; case "password": return this.password; case "port": return this.port; case "pathname": return this.pathname; case "query": return this.query; case "hash": return this.hash; default: return this[e] } } set(e, t) { if (t === void 0) return this; switch (e === "query" && typeof t == "string" && (t = Ho.queryFromString(t)), e) { case "protocol": this.protocol = t; break; case "username": this.username = t; break; case "password": this.password = t; break; case "port": this.port = t; break; case "pathname": this.pathname = t; break; case "query": this.query = t; break; case "hash": this.hash = t; break; default: this[e] = t; break }return this } append(e, t) { let i = this.get(e), r; if (e === "query") i === void 0 && (i = {}), typeof t == "string" && (t = Ho.queryFromString(t)), typeof i == "string" ? r = { existingValue: i, ...t } : r = { ...i, ...t }; else { i === void 0 && (i = ""); let s = i; s === void 0 && (s = ""); let o = s; if (e === "pathname") { const a = s.length; (a === 0 || i[a - 1] !== "/") && (o += "/") } o += t, r = o } return this.set(e, r) } param(e, t) { return e === null ? this : (this.query === void 0 && (this.query = {}), t === void 0 ? delete this.query[e] : this.query[e] = t, this) } removeParam(e) { return e === void 0 || this.query === void 0 ? this : (e in this.query && delete this.query[e], this) } path(e) { return this.append("pathname", e) } pathExtension() { var e, t; if (this.pathname === void 0) return; const i = (t = (e = this.pathname.split("/").filter(r => r.length > 0).pop()) === null || e === void 0 ? void 0 : e.split(".")) !== null && t !== void 0 ? t : []; if (!(i.filter(function (r) { return r !== "" }).length < 2)) return i.pop() } pathComponents() { return this.pathname === void 0 ? [] : this.pathname.split("/").filter(e => e.length > 0) } build() { return this.toString() } toString() { let e = ""; return this.protocol !== void 0 && (e += this.protocol + "://"), this.username !== void 0 && (e += encodeURIComponent(this.username), this.password !== void 0 && (e += ":" + encodeURIComponent(this.password)), e += "@"), this.host !== void 0 && (e += this.host, this.port !== void 0 && (e += ":" + this.port)), this.pathname !== void 0 && (e += this.pathname), this.query !== void 0 && Object.keys(this.query).length !== 0 && (e += "?" + Ho.toQueryString(this.query)), this.hash !== void 0 && (e += "#" + this.hash), e } static queryFromString(e) { const t = {}; let i = v3.exec(e); for (; i !== null;) { const r = decodeURIComponent(i[1]), s = decodeURIComponent(i[2]); t[r] = s, i = v3.exec(e) } return t } static toQueryString(e) { let t = "", i = !0; for (const r of Object.keys(e)) { i || (t += "&"), i = !1, t += encodeURIComponent(r); const s = e[r]; s !== null && s.length > 0 && (t += "=" + encodeURIComponent(s)) } return t } static from(e) { return new Ho(e) } static fromComponents(e, t, i, r, s) { const o = new Ho; return o.protocol = e, o.host = t, o.pathname = i, o.query = r != null ? r : {}, o.hash = s, o } }; Mf.URL = gV; function Jc(n, e, t) { const i = n.indexOf(e); let r, s = n; if (i !== -1) { const o = n.slice(0, i), a = n.slice(i + e.length, n.length); t === "prefix" ? (r = o, s = a) : (r = a, s = o) } return { result: r, remainder: s } } Object.defineProperty(If, "__esModule", { value: !0 }); If.makeArtworkURLTemplate = void 0; const Yc = Rn, hV = In, mV = Mf, pV = new RegExp("^({w}|[0-9]+(?:.[0-9]*)?)x({h}|[0-9]+(?:.[0-9]*)?)({c}|[a-z]{2}).({f}|[a-z]+)$"); function _V(n) { if (new mV.URL(n).pathname === void 0) return Yc.context("makeArtworkURLTemplate", () => { Yc.unexpectedType("ignoredValue", "A valid URL string", n) }), null; const t = n.substring(n.lastIndexOf("/") + 1), i = pV.exec(t); return hV.isNothing(i) || i.length !== 5 ? (Yc.context("makeArtworkURLTemplate", () => { Yc.unexpectedType("ignoredValue", "A valid artwork URL template ending with {w}x{h}{c}.{f} format", t) }), null) : n } If.makeArtworkURLTemplate = _V; var NA = {}; Object.defineProperty(NA, "__esModule", { value: !0 }); var Ji = {}; Object.defineProperty(Ji, "__esModule", { value: !0 }); Ji.areEqual = Ji.luminanceFrom = Ji.dynamicWith = Ji.named = Ji.rgbWith = Ji.htmlWith = void 0; const au = In; function vV(n) { return au.isNothing(n) ? null : { $kind: "html", value: n } } Ji.htmlWith = vV; function bV(n, e, t, i = 1) { return { $kind: "rgb", red: n, green: e, blue: t, alpha: i } } Ji.rgbWith = bV; function yV(n) { return { $kind: "named", name: n } } Ji.named = yV; function wV(n, e, t, i) { return { $kind: "dynamic", lightColor: n, lightHighContrastColor: e, darkColor: t, darkHighContrastColor: i } } Ji.dynamicWith = wV; function kV(n) { return n.red * .2126 + n.green * .7152 + n.blue * .0722 } Ji.luminanceFrom = kV; function lu(n, e) { if (au.isNothing(n)) return au.isNothing(e); if (au.isNothing(e)) return au.isNothing(n); const t = n.$kind, i = e.$kind; if (t === "named" && i === "named") { const r = n, s = e; return r.name === s.name } else if (t === "rgb" && i === "rgb") { const r = n, s = e; return r.red === s.red && r.green === s.green && r.blue === s.blue && r.alpha === s.alpha } else if (t === "dynamic" && i === "dynamic") { const r = n, s = e; return lu(r.lightColor, s.lightColor) && lu(r.lightHighContrastColor, s.lightHighContrastColor) && lu(r.darkColor, s.darkColor) && lu(r.darkHighContrastColor, s.darkHighContrastColor) } else return !1 } Ji.areEqual = lu; var Lf = {}; Object.defineProperty(Lf, "__esModule", { value: !0 }); Lf.menuSeparatorID = void 0; Lf.menuSeparatorID = "com.apple.JetEngine.separator"; var BA = {}; Object.defineProperty(BA, "__esModule", { value: !0 }); var UA = {}; Object.defineProperty(UA, "__esModule", { value: !0 }); var HA = {}; Object.defineProperty(HA, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(bA, n), t(If, n), t(NA, n), t(Ji, n), t(Lf, n), t(BA, n), t(UA, n), t(HA, n) })(vA); var $A = {}, VA = {}; Object.defineProperty(VA, "__esModule", { value: !0 }); var zA = {}; Object.defineProperty(zA, "__esModule", { value: !0 }); var qA = {}; Object.defineProperty(qA, "__esModule", { value: !0 }); var WA = {}; Object.defineProperty(WA, "__esModule", { value: !0 }); var KA = {}; Object.defineProperty(KA, "__esModule", { value: !0 }); var JA = {}; Object.defineProperty(JA, "__esModule", { value: !0 }); var YA = {}; Object.defineProperty(YA, "__esModule", { value: !0 }); var XA = {}; Object.defineProperty(XA, "__esModule", { value: !0 }); var ZA = {}; Object.defineProperty(ZA, "__esModule", { value: !0 }); var QA = {}; Object.defineProperty(QA, "__esModule", { value: !0 }); var jA = {}; Object.defineProperty(jA, "__esModule", { value: !0 }); var GA = {}; Object.defineProperty(GA, "__esModule", { value: !0 }); var Fn = {}, Tf = {}; Object.defineProperty(Tf, "__esModule", { value: !0 }); Tf.makeMetatype = void 0; function DV(n) { return { name: n } } Tf.makeMetatype = DV; Object.defineProperty(Fn, "__esModule", { value: !0 }); Fn.services = Fn.random = Fn.plist = Fn.platform = Fn.net = Fn.localizer = Fn.host = Fn.cryptography = Fn.cookieProvider = Fn.bundle = Fn.bag = void 0; const ns = Tf; Fn.bag = ns.makeMetatype("jet-engine:bag"); Fn.bundle = ns.makeMetatype("jet-engine:bundle"); Fn.cookieProvider = ns.makeMetatype("jet-engine:cookieProvider"); Fn.cryptography = ns.makeMetatype("jet-engine:cryptography"); Fn.host = ns.makeMetatype("jet-engine:host"); Fn.localizer = ns.makeMetatype("jet-engine:localizer"); Fn.net = ns.makeMetatype("jet-engine:net"); Fn.platform = ns.makeMetatype("jet-engine:platform"); Fn.plist = ns.makeMetatype("jet-engine:plist"); Fn.random = ns.makeMetatype("jet-engine:random"); Fn.services = ns.makeMetatype("jet-engine:services"); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), typeof preprocessor > "u" && (globalThis.preprocessor = { PRODUCTION_BUILD: !1, CARRY_BUILD: !1, DEBUG_BUILD: !1, INTERNAL_BUILD: !1 }), typeof testContent > "u" && (globalThis.testContent = { INCLUDE_TEST_CONTENT: !1 }), t(VA, n), t(zA, n), t(qA, n), t(WA, n), t(KA, n), t(JA, n), t(YA, n), t(XA, n), t(ZA, n), t(QA, n), t(jA, n), t(GA, n), t(Fn, n) })($A); var xA = {}, e7 = {}; Object.defineProperty(e7, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(e7, n) })(xA); var t7 = {}; (function (n) { Object.defineProperty(n, "__esModule", { value: !0 }), n.notInstrumented = n.PageInvocationPoint = n.EMPTY_LINTED_METRICS_EVENT = void 0, n.EMPTY_LINTED_METRICS_EVENT = { fields: {}, issues: [] }, function (t) { t.pageEnter = "pageEnter", t.pageExit = "pageExit", t.appExit = "appExit", t.appEnter = "appEnter", t.backButton = "backButton" }(n.PageInvocationPoint || (n.PageInvocationPoint = {})); function e(t) { switch (t) { case 0: return { data: [], custom: {} }; case 1: return {}; case 2: return { instructions: [], custom: {} }; case 3: return { id: { id: "", impressionIndex: NaN }, fields: {}, custom: {} }; default: return {} } } n.notInstrumented = e })(t7); var n7 = {}; Object.defineProperty(n7, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(vA, n), t($A, n), t(xA, n), t(t7, n), t(n7, n), t(In, n) })(_A); var sc = {}; Object.defineProperty(sc, "__esModule", { value: !0 }); sc.LocalizedStringsJSONObject = void 0; let SV = class { constructor(e) { this.strings = e } string(e) { return this.strings[e] } }; sc.LocalizedStringsJSONObject = SV; Object.defineProperty(Ef, "__esModule", { value: !0 }); Ef.LocalizedStringsBundle = void 0; const b3 = _A, CV = sc; let PV = class { constructor(e) { this.bundle = e } async fetchStrings(e) { var t; const i = this.bundle.localizationsProperty; if (b3.isNothing(i)) throw new Error("Localized strings bundle index file is missing 'localizations' property"); let r; const s = (t = i.format) !== null && t !== void 0 ? t : "json/inline"; if (s === "json/inline") r = i[e]; else { const o = i; switch (o.format) { case "json/multi-file": { const a = `${o.path}/${e}.json`; r = await this.bundle.loadResource(a) } break; case "json/single-file": r = (await this.bundle.loadResource(o.path))[e]; break; case "loctable": throw new Error("Loctable format not supported in JS implementation"); case "js": throw new Error("Not yet implemented"); default: throw new Error(`Unknown localization format: ${JSON.stringify(s)}`) } } if (b3.isNothing(r)) throw new Error(`Missing strings for ${e}`); return new CV.LocalizedStringsJSONObject(r) } }; Ef.LocalizedStringsBundle = PV; (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(Cf, n), t(Pf, n), t(Af, n), t(Ef, n), t(sc, n) })(pA); var i7 = {}, r7 = {}, Rf = {}, oc = {}; Object.defineProperty(oc, "__esModule", { value: !0 }); oc.PageMetricsFieldsProvider = void 0; const AV = In; let EV = class { addMetricsFields(e, t) { const i = t.pageFields; if (!AV.isNothing(i)) for (const r in i) Object.prototype.hasOwnProperty.call(i, r) && e.addValue(i[r], r) } }; oc.PageMetricsFieldsProvider = EV; Object.defineProperty(Rf, "__esModule", { value: !0 }); Rf.MetricsFieldsAggregator = void 0; const y3 = In, IV = oc; let MV = class s7 { constructor() { this.optInProviders = new Map, this.optOutProviders = new Map } static makeDefaultAggregator() { const e = new s7; return e.addOptInProvider(new IV.PageMetricsFieldsProvider, "pageFields"), e } addOptInProvider(e, t) { this.optInProviders.set(t, e) } addOptOutProvider(e, t) { this.optOutProviders.set(t, e) } removeOptInProvider(e) { this.optInProviders.delete(e) } removeOptOutProvider(e) { this.optOutProviders.delete(e) } addMetricsFields(e) { e.including.forEach(t => { const i = this.optInProviders.get(t); y3.isNothing(i) || i.addMetricsFields(e.builder, e.context) }), this.optOutProviders.forEach((t, i) => { y3.isNothing(t) || e.excluding.includes(i) || t.addMetricsFields(e.builder, e.context) }) } }; Rf.MetricsFieldsAggregator = MV; var ac = {}; Object.defineProperty(ac, "__esModule", { value: !0 }); ac.SimpleMetricsFieldsBuilder = void 0; let LV = class { constructor(e) { this.fields = e } addValue(e, t) { this.fields[t] = e } get allMetricsFields() { return this.fields } }; ac.SimpleMetricsFieldsBuilder = LV; var o7 = {}; Object.defineProperty(o7, "__esModule", { value: !0 }); var a7 = {}; Object.defineProperty(a7, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(Rf, n), t(ac, n), t(o7, n), t(a7, n) })(r7); var l7 = {}; (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(oc, n) })(l7); var u7 = {}, c7 = {}; Object.defineProperty(c7, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(c7, n) })(u7); var d7 = {}, Ff = {}; Object.defineProperty(Ff, "__esModule", { value: !0 }); Ff.PageMetricsPresenter = void 0; const Nh = In; let TV = class { constructor(e) { this.metricsPipeline = e, this.isViewAppeared = !1 } set pageMetrics(e) { this.pageMetricsStore = e, Nh.isSome(e) && this.isViewAppeared && this.processInstructions("pageEnter") } get pageMetrics() { return this.pageMetricsStore } async processInstructions(e) { var t, i, r; if (Nh.isNothing(this.pageMetrics)) return; const s = { customMetrics: (t = this.baseContext) === null || t === void 0 ? void 0 : t.customMetrics, pageFields: { ...(i = this.baseContext) === null || i === void 0 ? void 0 : i.pageFields, ...(r = this.pageMetrics) === null || r === void 0 ? void 0 : r.pageFields } }; await Promise.all(this.pageMetrics.instructions.map(o => { const { invocationPoints: a } = o; if (!(a.length === 0 || !a.includes(e))) return this.metricsPipeline.process(o.data, s) })) } async didEnterPage() { this.isViewAppeared = !0, Nh.isSome(this.pageMetrics) && await this.processInstructions("pageEnter") } async didLeavePage() { await this.processInstructions("pageExit"), this.isViewAppeared = !1 } }; Ff.PageMetricsPresenter = TV; (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(Ff, n) })(d7); var f7 = {}; (function (n) { Object.defineProperty(n, "__esModule", { value: !0 }), n.MetricsPipeline = n.FlushBehavior = void 0; const e = ac; var t; (function (r) { r[r.automatic = 0] = "automatic", r[r.never = 1] = "never" })(t = n.FlushBehavior || (n.FlushBehavior = {})); class i { constructor(s) { var o; this.aggregator = s.aggregator, this.linter = s.linter, this.recorder = s.recorder, this.flushBehavior = (o = s.flushBehavior) !== null && o !== void 0 ? o : t.automatic } async process(s, o) { const a = new e.SimpleMetricsFieldsBuilder(s.fields); this.aggregator.addMetricsFields({ including: s.includingFields, excluding: s.excludingFields, builder: a, context: o }); const l = await this.linter.processEvent(a.allMetricsFields); return this.recorder.record(l, s.topic), s.shouldFlush && this.flushBehavior === t.automatic && this.recorder.flush(), l } } n.MetricsPipeline = i })(f7); var g7 = {}, Of = {}; Object.defineProperty(Of, "__esModule", { value: !0 }); Of.LoggingEventRecorder = void 0; let RV = class { record(e) { console.log(`Record Event [${String(e.fields.eventType)}]`, e) } async flush() { return console.log("Flushing"), 0 } }; Of.LoggingEventRecorder = RV; var h7 = {}; Object.defineProperty(h7, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(Of, n), t(h7, n) })(g7); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(r7, n), t(l7, n), t(u7, n), t(d7, n), t(f7, n), t(g7, n) })(i7); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(hA, n), t(pA, n), t(i7, n) })(Ha); class FV { constructor(e) { this.eventRecorders = e } record(e, t) { for (const i of this.eventRecorders) i.record(e, t) } async flush() { const e = await Promise.all(this.eventRecorders.map(t => t.flush())); return Math.max(...e) } } const OV = { RECORD: "record", FLUSH: "flush" }, w3 = (n, e) => { }; function m7(n, e) { return "topic" in n.fields ? n.fields : { ...n.fields, topic: e } } const NV = ["consumerId"]; class BV { constructor(e, t, i) { He(this, "log"); He(this, "funnelKit"); He(this, "funnelKitEnabled", !1); He(this, "recordedEventsCount"); He(this, "config"); He(this, "impressions"); He(this, "deferredEvents"); this.log = e.loggerFor("FunnelKitRecorder"), this.deferredEvents = [], this.recordedEventsCount = 0, this.config = t, this.impressions = i } async record(e, t) { var r, s, o, a, l, u, c, d, f; let i = t != null ? t : this.config.topic; if (this.config.topic === "xp_amp_tv_unidentified" && (i = this.config.topic), !this.funnelKitEnabled) { this.log.info("FunnelKit not enabled", e, i); return } if (this.funnelKit) { const g = e.fields.eventType, { pageId: h, pageType: m, pageContext: v } = e.fields; if (g || this.log.warn("No `eventType` found on event", e, i), (r = this.impressions) != null && r.isEnabled("exit") && g === "exit" || (s = this.impressions) != null && s.isEnabled("click") && e.fields.actionType === "navigate") { const S = this.impressions.consumeImpressions(), C = (a = (o = this.funnelKit) == null ? void 0 : o.eventHandlers.impressions) == null ? void 0 : a.metricsData(h, m, v, { impressions: S }); C == null || C.recordEvent(i).then(P => { this.log.info("impressions event captured", P, i) }).catch(P => { this.log.warn("failed to capture impression metrics", P, i) }) } let b = {}; if ((l = this.impressions) != null && l.isEnabled("click") && g === "click") { const S = this.impressions.captureSnapshotImpression(); b = S ? { impressions: S } : {} } const y = m7(e, i), k = g === "transaction" ? [y] : [h, m, v, y]; try { const C = { ...await ((u = this.funnelKit.eventHandlers[g]) == null ? void 0 : u.metricsData(...k).toJSON()), ...y, ...b }; NV.forEach(P => delete C[P]), this.log.info("FunnelKit event data", C, i); try { const P = await this.funnelKit.system.eventRecorder.recordEvent(i, C); w3(P, i) } catch (P) { this.log.info("FunnelKit failed to capture", C, i) } g === "exit" && ((f = (c = this.funnelKit) == null ? void 0 : (d = c.system.eventRecorder).flushUnreportedEvents) == null || f.call(d, !0), w3({ metricsDevType: OV.FLUSH, status: "SUCCESS" }, i)), this.recordedEventsCount++ } catch (S) { this.log.error("FunnelKit failed to capture metric", S, i) } } else this.deferredEvents.push({ event: e, topic: i }) } async flush() { var t; if (!this.funnelKitEnabled) return 0; await ((t = this.funnelKit) == null ? void 0 : t.system.eventRecorder.flushUnreportedEvents(!1)); const e = this.recordedEventsCount; return this.recordedEventsCount = 0, e } setupEventRecorder(e) { this.funnelKit = e, this.deferredEvents.forEach(({ event: t, topic: i }) => this.record(t, i)), this.deferredEvents.length = 0 } enableFunnelKit() { this.funnelKitEnabled || (this.log.info("Enabling FunnelKit"), this.funnelKitEnabled = !0) } disableFunnelKit() { this.funnelKitEnabled && (this.log.info("Disabling FunnelKit"), this.funnelKitEnabled = !1) } } let UV = class { constructor(e) { He(this, "log"); this.log = e.loggerFor("LoggingEventRecorder") } record(e, t) { this.log.info("logged metrics event:", e, t) } async flush() { return this.log.info("flushed metrics"), 0 } }; const HV = ["account", "click", "dialog", "enter", "exit", "impressions", "media", "page", "pageRender", "search"]; class $V { constructor(e, t, i) { He(this, "log"); He(this, "eventRecorder"); He(this, "mtkit"); He(this, "recordedEventsCount"); He(this, "config"); He(this, "impressions"); He(this, "enabled", !0); He(this, "deferredEvents"); this.log = e.loggerFor("MetricsKitRecorder"), this.deferredEvents = [], this.recordedEventsCount = 0, this.config = t, this.impressions = i } record(e, t) { var i, r, s, o, a, l, u, c, d; if (t = t != null ? t : this.config.topic, this.isDisabled()) { this.log.info(`topic ${this.config.topic} is disabled following event not captured:`, e); return } if (this.eventRecorder) { const f = e.fields.eventType, { pageId: g, pageType: h, pageContext: m } = e.fields; if (f) { if (!HV.includes(f)) { this.log.warn("Invalid `eventType` found on event", e, t); return } } else { this.log.warn("No `eventType` found on event", e, t); return } if ((i = this.impressions) != null && i.isEnabled("exit") && f === "exit" || (r = this.impressions) != null && r.isEnabled("click") && e.fields.actionType === "navigate") { const S = this.impressions.consumeImpressions(), C = (o = (s = this.mtkit) == null ? void 0 : s.eventHandlers.impressions) == null ? void 0 : o.metricsData(g, h, m, { impressions: S }); C == null || C.recordEvent(t).then(P => { this.log.info("impressions event captured", P, t) }).catch(P => { this.log.warn("failed to capture impression metrics", P, t) }) } let v = {}; (a = this.impressions) != null && a.isEnabled("click") && f === "click" && (v = { impressions: this.impressions.captureSnapshotImpression() }); const b = m7(e, t), y = f === "click" ? [g, h, m, null, { ...b, ...v }] : [g, h, m, b]; let k = (u = (l = this.mtkit) == null ? void 0 : l.eventHandlers[f]) == null ? void 0 : u.metricsData(...y); k == null || k.recordEvent(t).then(S => { this.log.info("MetricsKit event data", S, t) }).catch(S => { this.log.error("MetricsKit failed to capture metric", S, t) }), this.recordedEventsCount++, f === "exit" && ((d = (c = this.eventRecorder) == null ? void 0 : c.flushUnreportedEvents) == null || d.call(c, !0)) } else this.deferredEvents.push({ event: e, topic: t }) } async flush() { var t, i; await ((i = (t = this.eventRecorder) == null ? void 0 : t.flushUnreportedEvents) == null ? void 0 : i.call(t, !1)); const e = this.recordedEventsCount; return this.recordedEventsCount = 0, e } setupEventRecorder(e, t) { this.eventRecorder = e, this.mtkit = t, this.deferredEvents.forEach(({ event: i, topic: r }) => this.record(i, r)), this.deferredEvents.length = 0 } isDisabled() { return !this.enabled } enable() { if (this.enabled) { this.log.info(`Clickstream topic ${this.config.topic} already enabled`); return } this.log.info(`Enabling clickstream topic ${this.config.topic}`), this.enabled = !0 } disable() { this.isDisabled() || (this.log.info(`Disabling clickstream topic ${this.config.topic}`), this.enabled = !1) } } class VV { constructor() { He(this, "recorded", 0) } record(e, t) { this.recorded++ } async flush() { const { recorded: e } = this; return this.recorded = 0, e } } const op = "metrics:impression"; class zV { constructor(e, t, i) { He(this, "logger"); He(this, "impressionObserverInstance"); He(this, "hasInitialized", !1); He(this, "impressionDataMap", new Map); He(this, "currentSnapshot", []); He(this, "impressionSettings"); this.logger = e.loggerFor(op), this.impressionSettings = i, t.set(op, this) } async init(e, t) { if (this.hasInitialized) { this.logger.warn("Ignoring, Impressions.init() can only be called once"); return } const i = { root: document, rootMargin: "0px" }, r = t.config, s = await e(r, i); s.setDelegate({ extractImpressionInfo: o => { const a = this.impressionDataMap, l = a.get(o); if (l) { const u = l.impressionMetrics; return u.location = t.utils.eventFields.buildLocationStructure(o, c => { const d = a.get(c); if (d != null && d.location) return d.location }), u } else this.logger.warn("no impression data found for", o) } }), this.impressionObserverInstance = s, this.impressionDataMap.forEach((o, a) => { var l; this.logger.debug("observing deffered node", a), (l = this.impressionObserverInstance) == null || l.observe(a) }), this.hasInitialized = !0, this.logger.debug("impressions initialized") } get settings() { return this.impressionSettings } isEnabled(e) { var t, i, r, s; return ((t = this.impressionSettings) == null ? void 0 : t.captureType) === "jet" ? (s = (r = (i = this.impressionSettings) == null ? void 0 : i.metricsKitEvents) == null ? void 0 : r.includes(e)) != null ? s : !1 : !0 } consumeImpressions() { var e; if (this.hasInitialized) return this.logger.debug("consuming impression metrics"), (e = this.impressionObserverInstance) == null ? void 0 : e.consumeImpressions(); this.logger.warn("impressions not avaiable yet") } captureSnapshotImpression() { var t, i; const e = (i = (t = this.impressionObserverInstance) == null ? void 0 : t.snapshotImpressions()) != null ? i : []; return e.length === 0 ? this.getSnapshotImpression() : e } getSnapshotImpression() { if (this.hasInitialized) return this.currentSnapshot; this.logger.warn("impressions not avaiable yet") } setCurrentSnapshot() { var e, t; this.hasInitialized ? (this.logger.debug("capturing impression snapshot"), this.currentSnapshot = (t = (e = this.impressionObserverInstance) == null ? void 0 : e.snapshotImpressions()) != null ? t : []) : this.logger.warn("impressions not avaiable yet") } get nodeList() { const e = this; return new Proxy(e.impressionDataMap, { get(t, i, r) { const s = Reflect.get(t, i, r); return i === "set" ? (o, a) => { var l; return e.hasInitialized && (e.logger.debug("observing", o, a), (l = e.impressionObserverInstance) == null || l.observe(o)), s.bind(t)(o, a) } : i === "delete" ? o => { var a; return e.hasInitialized && (e.logger.debug("unobserve", o), (a = e.impressionObserverInstance) == null || a.unobserve(o)), s.bind(t)(o) } : s.bind(t) }, set(t, i, r) { return Reflect.set(t, i, r) } }) } } class k3 { constructor(e) { this.appContext = e, this.appContext = e } addMetricsFields(e, t) { var r; const i = this.appContext.get(op); if (((r = i == null ? void 0 : i.settings) == null ? void 0 : r.captureType) === "jet") { let s = i.captureSnapshotImpression(); e.addValue(s, "impressions") } } } const qV = "metrics"; let WV = class ap { constructor(e, t, i, r, s, o) { He(this, "log"); He(this, "impressions"); He(this, "ClickstreamProcessor"); He(this, "WebDelegates"); He(this, "metricsKitRecorder"); He(this, "funnelKitRecorder"); He(this, "firstEnterRecorded", !1); He(this, "funnelKit"); He(this, "config"); He(this, "metricsPipeline"); He(this, "currentPageMetrics"); this.log = e, this.metricsPipeline = t, this.metricsKitRecorder = r, this.funnelKitRecorder = s, this.config = i, this.impressions = o } static load(e, t, i, r, s, o) { var k, S; const { getConsumerId: a, shouldEnableFunnelKit: l, suppressMetricsKit: u = !1 } = o, c = e.loggerFor("Metrics"); if (typeof window > "u" || u) { const C = new VV, P = new Ha.MetricsPipeline({ aggregator: new Ha.MetricsFieldsAggregator, linter: { async processEvent(M) { return { fields: M } } }, recorder: C }); return new ap(c, P, r) } r.initialURL = window.location.href; const d = YV(s, t); let f; (S = (k = o.shouldEnableImpressions) == null ? void 0 : k.call(o)) != null && S && (f = new zV(e, t, o == null ? void 0 : o.impressions)); const g = new $V(e, r.clickstream, f), h = [new UV(e), g], m = r.funnel ? new BV(e, r.funnel, f) : void 0; m && h.push(m); let v = new FV(h); const b = new Ha.MetricsPipeline({ aggregator: d, linter: { processEvent: async C => { var R; const P = await i(C); (R = P.fields) != null && R.dsId && delete P.fields.dsId; const M = await a(); return M && (P.fields.consumerId = M), P } }, recorder: v }), y = new ap(c, b, r, g, m, f); return y.watchEnterAndExit(), (async () => { try { const C = [ft(() => import("./mt-metricskit-processor-clickstream.esm-ea597724.js"), ["assets/mt-metricskit-processor-clickstream.esm-ea597724.js", "assets/mt-metricskit-utils-private.esm-7499625d.js", "assets/mt-client-logger-core.esm-b4487e24.js"]), ft(() => import("./mt-metricskit-delegates-web.esm-674a66f5.js"), ["assets/mt-metricskit-delegates-web.esm-674a66f5.js", "assets/mt-metricskit-utils-private.esm-7499625d.js", "assets/mt-client-logger-core.esm-b4487e24.js"]), f ? ft(() => import("./impressionsObserver.esm-e2aafd59.js"), ["assets/impressionsObserver.esm-e2aafd59.js", "assets/mt-metricskit-utils-private.esm-7499625d.js"]) : void 0], [{ ClickstreamProcessor: P }, { WebDelegates: M }, R] = await Promise.all(C); y.onDependenciesLoaded(P, M); const { clickstream: F, webDelegate: N } = KV(P, M, r); if (f && R) { const { newInstanceWithMetricsConfig: B } = R; f.init(B, F) } const O = N.eventRecorder; g.setupEventRecorder(O, F), l() && y.enableFunnelKit(), c.info("Metricskit loaded") } catch (C) { c.warn("Metricskit failed to load", C) } })(), t.set(qV, y), y } willPageTransition() { var e; (e = this.impressions) == null || e.setCurrentSnapshot() } async didEnterPage(e) { var t; if (this.currentPageMetrics && (await this.currentPageMetrics.didLeavePage(), this.currentPageMetrics = null), e != null && e.pageMetrics ? (this.currentPageMetrics = new Ha.PageMetricsPresenter(this.metricsPipeline), this.currentPageMetrics.pageMetrics = e.pageMetrics, await this.currentPageMetrics.didEnterPage()) : this.log.warn("No pageMetrics", e), !this.firstEnterRecorded) { const i = ((t = document.referrer) == null ? void 0 : t.length) > 0 ? "link" : "launch"; this.enter(i, { openUrl: e == null ? void 0 : e.canonicalURL }), this.firstEnterRecorded = !0 } } async enter(e, t) { var s, o; let i = window.location.href, r = null; t != null && t.openUrl && (i = t == null ? void 0 : t.openUrl), e === "launch" && this.config.initialURL && (i = this.config.initialURL, this.config.initialURL = null, r = j$()), this.recordCustomEvent({ eventType: "enter", extRefUrl: (s = document.referrer) != null ? s : "", refUrl: (o = document.referrer) != null ? o : "", openUrl: i, type: e, ...r === sp.STANDALONE || r === sp.TWA ? { buildFlavor: r } : {} }) } async exit(e, t) { this.recordCustomEvent({ eventType: "exit", type: e }) } async pageTransition() { this.log.info("triggered metrics for page transition"), this.impressions && this.impressions.setCurrentSnapshot() } watchEnterAndExit() { document.addEventListener("visibilitychange", this.onVisibilityChange.bind(this)) } async onVisibilityChange() { document.visibilityState === "visible" ? this.enter("taskSwitch") : this.exit("taskSwitch") } async processEvent(e) { const t = { excludingFields: [], includingFields: [], shouldFlush: !1, fields: e }, i = {}; this.metricsPipeline.process(t, i) } async recordCustomEvent(e) { var t, i; this.processEvent({ ...(i = (t = this.currentPageMetrics) == null ? void 0 : t.pageMetrics) == null ? void 0 : i.pageFields, ...e }) } setupFunnelKit() { var r, s, o; if (!this.config.funnel) { this.log.warn("Tried to set up `FunnelKit` but no config was provided"); return } const { topic: e } = this.config.funnel, { clickstream: t, webDelegate: i } = p7(this.ClickstreamProcessor, this.WebDelegates, this.config.funnel, this.config.baseFields); t.config.setDebugSource(null), (s = (r = i.eventRecorder).setProperties) == null || s.call(r, e, { anonymous: !0 }), (o = this.funnelKitRecorder) == null || o.setupEventRecorder(t), this.funnelKit = t } onDependenciesLoaded(e, t) { this.ClickstreamProcessor = e, this.WebDelegates = t } disableMetrics() { var e; (e = this.metricsKitRecorder) == null || e.disable() } enableMetrics() { var e; (e = this.metricsKitRecorder) == null || e.enable() } enableFunnelKit() { var e; this.funnelKit || this.setupFunnelKit(), (e = this.funnelKitRecorder) == null || e.enableFunnelKit() } disableFunnelKit() { var e; (e = this.funnelKitRecorder) == null || e.disableFunnelKit() } }; function p7(n, e, t, i) { const { topic: r } = t, s = new e(r), o = new n(s), a = "none"; return o.system.logger.setLevel(a), o.init(), JV(o, t, i), { clickstream: o, webDelegate: s } } function KV(n, e, t) { return p7(n, e, t.clickstream, t.baseFields) } function JV(n, e, t) { const { appName: i, delegateApp: r, appVersion: s, resourceRevNum: o, storageObject: a } = t, l = { app: () => i, appVersion: () => s, delegateApp: () => r, resourceRevNum: () => o }; a === "sessionStorage" && (l.localStorageObject = () => sessionStorage), n.system.environment.setDelegate(l), Array.isArray(e.constraintProfiles) && n.config.setDelegate({ constraintProfiles: () => e.constraintProfiles }) } function YV(n, e) { const t = Ha.MetricsFieldsAggregator.makeDefaultAggregator(); return t.addOptInProvider(new k3(e), "impressions"), t.addOptInProvider(new k3(e), "impressionsSnapshot"), n.forEach(i => { t.addOptOutProvider(i.provider, i.request) }), t } var _7 = {}, v7 = {}, Nf = {}, Mn = {}; Object.defineProperty(Mn, "__esModule", { value: !0 }); Mn.flatMapOptional = Mn.mapOptional = Mn.unsafeUnwrapOptional = Mn.unwrapOptional = Mn.isSome = Mn.isNothing = Mn.unsafeUninitialized = void 0; function XV() { } Mn.unsafeUninitialized = XV; function b7(n) { return n == null } Mn.isNothing = b7; function y0(n) { return n != null } Mn.isSome = y0; function ZV(n) { if (b7(n)) throw new ReferenceError; return n } Mn.unwrapOptional = ZV; function QV(n) { return n } Mn.unsafeUnwrapOptional = QV; function jV(n, e) { return y0(n) ? e(n) : n } Mn.mapOptional = jV; function GV(n, e) { return y0(n) ? e(n) : n } Mn.flatMapOptional = GV; Object.defineProperty(Nf, "__esModule", { value: !0 }); Nf.ActionDispatcher = void 0; const D3 = Mn; class xV { constructor(e) { this.implementations = {}, this.metricsPipeline = e } register(e, t) { e in this.implementations && console.error(`An implementation is already registered for ${e}`), this.implementations[e] = t } async perform(e, t) { if (!(e.$kind in this.implementations)) return D3.isSome(this.next) ? await this.next.perform(e, t) : "unsupported"; if (this.processMetrics(e, t), D3.isSome(this.next)) { const i = await this.implementations[e.$kind](e); return i === "unsupported" ? await this.next.perform(e, { behavior: "notProcessed" }) : i } else return await this.implementations[e.$kind](e) } processMetrics(e, t) { if (t.behavior === "notProcessed") return; const r = { customMetrics: e.actionMetrics.custom, pageFields: t.context.pageFields }; e.actionMetrics.data.forEach(s => { this.metricsPipeline.process(s, r) }) } } Nf.ActionDispatcher = xV; (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(Nf, n) })(v7); var y7 = {}, Bf = {}; Object.defineProperty(Bf, "__esModule", { value: !0 }); Bf.JetBag = void 0; class ez { constructor(e) { this.backing = e } registerBagKeys() { } string(e) { const t = this.backing[e]; return typeof t == "string" || t === null ? t : void 0 } double(e) { const t = this.backing[e]; return typeof t == "number" || t === null ? t : void 0 } integer(e) { const t = this.backing[e]; return typeof t == "number" || t === null ? t : void 0 } boolean(e) { const t = this.backing[e]; return typeof t == "boolean" || t === null ? t : void 0 } array(e) { const t = this.backing[e]; return Array.isArray(t) || t === null ? t : void 0 } dictionary(e) { const t = this.backing[e]; return typeof t == "object" ? t : void 0 } url(e) { const t = this.backing[e]; return typeof t == "string" ? t : void 0 } } Bf.JetBag = ez; var Uf = {}; Object.defineProperty(Uf, "__esModule", { value: !0 }); Uf.JetHost = void 0; class tz { constructor(e) { this.osBuild = "unknown", this.deviceModel = "unknown", this.deviceModelFamily = "unknown", this.devicePhysicalModel = "unknown", this.deviceLocalizedModel = "unknown", this.clientIdentifier = "unknown", this.clientVersion = "unknown", this.platform = e.platform } isOSAtLeast() { return !1 } } Uf.JetHost = tz; var Hf = {}; Object.defineProperty(Hf, "__esModule", { value: !0 }); Hf.JetNetworkFetch = void 0; const S3 = Mn; class nz { async fetch(e) { var t, i, r; if (S3.isNothing(process == null ? void 0 : {}.MEDIA_API_TOKEN)) return await Promise.reject(new Error("({}).MEDIA_API_TOKEN must be specified")); const s = { ...(t = e.headers) !== null && t !== void 0 ? t : {}, authorization: `Bearer ${process == null ? void 0 : {}.MEDIA_API_TOKEN}` }, o = await fetch(e.url, { body: e.body, method: (i = e.method) !== null && i !== void 0 ? i : void 0, cache: (r = e.cache) !== null && r !== void 0 ? r : void 0, headers: s }); return { ok: o.ok, headers: Array.from(o.headers.keys()).reduce((a, l) => { const u = o.headers.get(l); return S3.isSome(u) && (a[l] = u), a }, {}), redirected: o.redirected, status: o.status, statusText: o.statusText, url: o.url, body: await o.text(), metrics: [] } } } Hf.JetNetworkFetch = nz; var $f = {}, w7 = {}, k7 = {}, D7 = {}, S7 = {}; Object.defineProperty(S7, "__esModule", { value: !0 }); var C7 = {}; Object.defineProperty(C7, "__esModule", { value: !0 }); var P7 = {}; Object.defineProperty(P7, "__esModule", { value: !0 }); var A7 = {}; Object.defineProperty(A7, "__esModule", { value: !0 }); var E7 = {}; Object.defineProperty(E7, "__esModule", { value: !0 }); var I7 = {}; Object.defineProperty(I7, "__esModule", { value: !0 }); var M7 = {}; Object.defineProperty(M7, "__esModule", { value: !0 }); var L7 = {}; Object.defineProperty(L7, "__esModule", { value: !0 }); var T7 = {}; Object.defineProperty(T7, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(S7, n), t(C7, n), t(P7, n), t(A7, n), t(E7, n), t(I7, n), t(M7, n), t(L7, n), t(T7, n) })(D7); var Vf = {}, On = {}; Object.defineProperty(On, "__esModule", { value: !0 }); On.unexpectedNull = On.catchingContext = On.context = On.recordValidationIncidents = On.endContext = On.getContextNames = On.beginContext = On.messageForRecoveryAction = On.isValidatable = On.unexpectedType = On.extendedTypeof = void 0; const lc = Mn; function R7(n) { return Array.isArray(n) ? "array" : n === null ? "null" : typeof n } On.extendedTypeof = R7; function F7(n, e, t, i) { const r = R7(t), s = lc.isSome(i) && i.length > 0 ? i : "<this>"; H7({ type: "badType", expected: e, actual: `${r} (${t})`, objectPath: s, contextNames: w0(), recoveryAction: n, stack: new Error().stack }) } On.unexpectedType = F7; function O7(n) { return lc.isNothing(n) ? !1 : Object.prototype.hasOwnProperty.call(n, "$incidents") || Object.isExtensible(n) } On.isValidatable = O7; function iz(n) { switch (n) { case "coercedValue": return "Coerced format"; case "defaultValue": return "Default value used"; case "ignoredValue": return "Ignored value"; default: return "Unknown" } } On.messageForRecoveryAction = iz; const or = { nameStack: Array(), incidents: Array(), suppressedIncidentPaths: Array() }; function N7(n) { or.nameStack.push(n) } On.beginContext = N7; function w0() { return or.nameStack.length === 0 ? ["<empty stack>"] : or.nameStack.slice(0) } On.getContextNames = w0; function B7() { or.nameStack.length === 0 && console.warn("endContext() called without active validation context, ignoring"), or.nameStack.pop() } On.endContext = B7; function rz(n) { O7(n) && (n.$incidents = or.incidents), or.incidents = [], or.nameStack = [], or.suppressedIncidentPaths = [] } On.recordValidationIncidents = rz; function U7(n, e, t) { let i = null; lc.isSome(t) && t.length > 0 && (i = n, or.suppressedIncidentPaths.push(t)); let r = null; try { N7(n), r = e() } catch (s) { throw s.hasThrown || (F7("defaultValue", "no exception", s.message), s.hasThrown = !0), s } finally { n === i && or.suppressedIncidentPaths.pop(), B7() } return r } On.context = U7; function sz(n, e, t) { let i = null; try { i = U7(n, e) } catch (r) { i = null, lc.isSome(t) && (i = t(r)) } return i } On.catchingContext = sz; function H7(n) { or.suppressedIncidentPaths.includes(n.objectPath) || or.incidents.push(n) } function oz(n, e, t) { const i = lc.isSome(t) && t.length > 0 ? t : "<this>"; H7({ type: "nullValue", expected: e, actual: "null", objectPath: i, contextNames: w0(), recoveryAction: n, stack: new Error().stack }) } On.unexpectedNull = oz; var zf = {}; Object.defineProperty(zf, "__esModule", { value: !0 }); zf.URL = void 0; const C3 = Mn, az = /^([a-z][a-z0-9.+-]*:)(\/\/)?([\S\s]*)/i, P3 = /([^=?&]+)=?([^&]*)/g, lz = ["hash", "query", "pathname", "host"]; let uz = class $o { constructor(e) { var t; if (this.query = {}, C3.isNothing(e)) return; let i = e; const r = az.exec(e); if (C3.isSome(r)) { let o = r[1]; o != null && (o = o.split(":")[0]), this.protocol = o != null ? o : void 0, i = (t = r[3]) !== null && t !== void 0 ? t : void 0 } let s = { remainder: i, result: void 0 }; for (const o of lz) { if (s === void 0 || s.remainder === void 0) break; switch (o) { case "hash": { s = Xc(s.remainder, "#", "suffix"), this.hash = s == null ? void 0 : s.result; break } case "query": { s = Xc(s.remainder, "?", "suffix"), (s == null ? void 0 : s.result) !== void 0 && (this.query = $o.queryFromString(s.result)); break } case "pathname": { s = Xc(s.remainder, "/", "suffix"), (s == null ? void 0 : s.result) !== void 0 && (this.pathname = "/" + s.result); break } case "host": { const a = Xc(s.remainder, "@", "prefix"), l = a == null ? void 0 : a.result, u = a == null ? void 0 : a.remainder; if (l !== void 0) { const c = l.split(":"); this.username = decodeURIComponent(c[0]), this.password = decodeURIComponent(c[1]) } if (u !== void 0) { const c = u.split(":"); this.host = c[0], this.port = c[1] } break } default: throw new Error("Unhandled case!") } } } get(e) { switch (e) { case "protocol": return this.protocol; case "username": return this.username; case "password": return this.password; case "port": return this.port; case "pathname": return this.pathname; case "query": return this.query; case "hash": return this.hash; default: return this[e] } } set(e, t) { if (t === void 0) return this; switch (e === "query" && typeof t == "string" && (t = $o.queryFromString(t)), e) { case "protocol": this.protocol = t; break; case "username": this.username = t; break; case "password": this.password = t; break; case "port": this.port = t; break; case "pathname": this.pathname = t; break; case "query": this.query = t; break; case "hash": this.hash = t; break; default: this[e] = t; break }return this } append(e, t) { let i = this.get(e), r; if (e === "query") i === void 0 && (i = {}), typeof t == "string" && (t = $o.queryFromString(t)), typeof i == "string" ? r = { existingValue: i, ...t } : r = { ...i, ...t }; else { i === void 0 && (i = ""); let s = i; s === void 0 && (s = ""); let o = s; if (e === "pathname") { const a = s.length; (a === 0 || i[a - 1] !== "/") && (o += "/") } o += t, r = o } return this.set(e, r) } param(e, t) { return e === null ? this : (this.query === void 0 && (this.query = {}), t === void 0 ? delete this.query[e] : this.query[e] = t, this) } removeParam(e) { return e === void 0 || this.query === void 0 ? this : (e in this.query && delete this.query[e], this) } path(e) { return this.append("pathname", e) } pathExtension() { var e, t; if (this.pathname === void 0) return; const i = (t = (e = this.pathname.split("/").filter(r => r.length > 0).pop()) === null || e === void 0 ? void 0 : e.split(".")) !== null && t !== void 0 ? t : []; if (!(i.filter(function (r) { return r !== "" }).length < 2)) return i.pop() } pathComponents() { return this.pathname === void 0 ? [] : this.pathname.split("/").filter(e => e.length > 0) } build() { return this.toString() } toString() { let e = ""; return this.protocol !== void 0 && (e += this.protocol + "://"), this.username !== void 0 && (e += encodeURIComponent(this.username), this.password !== void 0 && (e += ":" + encodeURIComponent(this.password)), e += "@"), this.host !== void 0 && (e += this.host, this.port !== void 0 && (e += ":" + this.port)), this.pathname !== void 0 && (e += this.pathname), this.query !== void 0 && Object.keys(this.query).length !== 0 && (e += "?" + $o.toQueryString(this.query)), this.hash !== void 0 && (e += "#" + this.hash), e } static queryFromString(e) { const t = {}; let i = P3.exec(e); for (; i !== null;) { const r = decodeURIComponent(i[1]), s = decodeURIComponent(i[2]); t[r] = s, i = P3.exec(e) } return t } static toQueryString(e) { let t = "", i = !0; for (const r of Object.keys(e)) { i || (t += "&"), i = !1, t += encodeURIComponent(r); const s = e[r]; s !== null && s.length > 0 && (t += "=" + encodeURIComponent(s)) } return t } static from(e) { return new $o(e) } static fromComponents(e, t, i, r, s) { const o = new $o; return o.protocol = e, o.host = t, o.pathname = i, o.query = r != null ? r : {}, o.hash = s, o } }; zf.URL = uz; function Xc(n, e, t) { const i = n.indexOf(e); let r, s = n; if (i !== -1) { const o = n.slice(0, i), a = n.slice(i + e.length, n.length); t === "prefix" ? (r = o, s = a) : (r = a, s = o) } return { result: r, remainder: s } } Object.defineProperty(Vf, "__esModule", { value: !0 }); Vf.makeArtworkURLTemplate = void 0; const Zc = On, cz = Mn, dz = zf, fz = new RegExp("^({w}|[0-9]+(?:.[0-9]*)?)x({h}|[0-9]+(?:.[0-9]*)?)({c}|[a-z]{2}).({f}|[a-z]+)$"); function gz(n) { if (new dz.URL(n).pathname === void 0) return Zc.context("makeArtworkURLTemplate", () => { Zc.unexpectedType("ignoredValue", "A valid URL string", n) }), null; const t = n.substring(n.lastIndexOf("/") + 1), i = fz.exec(t); return cz.isNothing(i) || i.length !== 5 ? (Zc.context("makeArtworkURLTemplate", () => { Zc.unexpectedType("ignoredValue", "A valid artwork URL template ending with {w}x{h}{c}.{f} format", t) }), null) : n } Vf.makeArtworkURLTemplate = gz; var $7 = {}; Object.defineProperty($7, "__esModule", { value: !0 }); var Yi = {}; Object.defineProperty(Yi, "__esModule", { value: !0 }); Yi.areEqual = Yi.luminanceFrom = Yi.dynamicWith = Yi.named = Yi.rgbWith = Yi.htmlWith = void 0; const uu = Mn; function hz(n) { return uu.isNothing(n) ? null : { $kind: "html", value: n } } Yi.htmlWith = hz; function mz(n, e, t, i = 1) { return { $kind: "rgb", red: n, green: e, blue: t, alpha: i } } Yi.rgbWith = mz; function pz(n) { return { $kind: "named", name: n } } Yi.named = pz; function _z(n, e, t, i) { return { $kind: "dynamic", lightColor: n, lightHighContrastColor: e, darkColor: t, darkHighContrastColor: i } } Yi.dynamicWith = _z; function vz(n) { return n.red * .2126 + n.green * .7152 + n.blue * .0722 } Yi.luminanceFrom = vz; function cu(n, e) { if (uu.isNothing(n)) return uu.isNothing(e); if (uu.isNothing(e)) return uu.isNothing(n); const t = n.$kind, i = e.$kind; if (t === "named" && i === "named") { const r = n, s = e; return r.name === s.name } else if (t === "rgb" && i === "rgb") { const r = n, s = e; return r.red === s.red && r.green === s.green && r.blue === s.blue && r.alpha === s.alpha } else if (t === "dynamic" && i === "dynamic") { const r = n, s = e; return cu(r.lightColor, s.lightColor) && cu(r.lightHighContrastColor, s.lightHighContrastColor) && cu(r.darkColor, s.darkColor) && cu(r.darkHighContrastColor, s.darkHighContrastColor) } else return !1 } Yi.areEqual = cu; var qf = {}; Object.defineProperty(qf, "__esModule", { value: !0 }); qf.menuSeparatorID = void 0; qf.menuSeparatorID = "com.apple.JetEngine.separator"; var V7 = {}; Object.defineProperty(V7, "__esModule", { value: !0 }); var z7 = {}; Object.defineProperty(z7, "__esModule", { value: !0 }); var q7 = {}; Object.defineProperty(q7, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(D7, n), t(Vf, n), t($7, n), t(Yi, n), t(qf, n), t(V7, n), t(z7, n), t(q7, n) })(k7); var W7 = {}, K7 = {}; Object.defineProperty(K7, "__esModule", { value: !0 }); var J7 = {}; Object.defineProperty(J7, "__esModule", { value: !0 }); var Y7 = {}; Object.defineProperty(Y7, "__esModule", { value: !0 }); var X7 = {}; Object.defineProperty(X7, "__esModule", { value: !0 }); var Z7 = {}; Object.defineProperty(Z7, "__esModule", { value: !0 }); var Q7 = {}; Object.defineProperty(Q7, "__esModule", { value: !0 }); var j7 = {}; Object.defineProperty(j7, "__esModule", { value: !0 }); var G7 = {}; Object.defineProperty(G7, "__esModule", { value: !0 }); var x7 = {}; Object.defineProperty(x7, "__esModule", { value: !0 }); var eE = {}; Object.defineProperty(eE, "__esModule", { value: !0 }); var tE = {}; Object.defineProperty(tE, "__esModule", { value: !0 }); var nE = {}; Object.defineProperty(nE, "__esModule", { value: !0 }); var Nn = {}, Wf = {}; Object.defineProperty(Wf, "__esModule", { value: !0 }); Wf.makeMetatype = void 0; function bz(n) { return { name: n } } Wf.makeMetatype = bz; Object.defineProperty(Nn, "__esModule", { value: !0 }); Nn.services = Nn.random = Nn.plist = Nn.platform = Nn.net = Nn.localizer = Nn.host = Nn.cryptography = Nn.cookieProvider = Nn.bundle = Nn.bag = void 0; const is = Wf; Nn.bag = is.makeMetatype("jet-engine:bag"); Nn.bundle = is.makeMetatype("jet-engine:bundle"); Nn.cookieProvider = is.makeMetatype("jet-engine:cookieProvider"); Nn.cryptography = is.makeMetatype("jet-engine:cryptography"); Nn.host = is.makeMetatype("jet-engine:host"); Nn.localizer = is.makeMetatype("jet-engine:localizer"); Nn.net = is.makeMetatype("jet-engine:net"); Nn.platform = is.makeMetatype("jet-engine:platform"); Nn.plist = is.makeMetatype("jet-engine:plist"); Nn.random = is.makeMetatype("jet-engine:random"); Nn.services = is.makeMetatype("jet-engine:services"); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), typeof preprocessor > "u" && (globalThis.preprocessor = { PRODUCTION_BUILD: !1, CARRY_BUILD: !1, DEBUG_BUILD: !1, INTERNAL_BUILD: !1 }), typeof testContent > "u" && (globalThis.testContent = { INCLUDE_TEST_CONTENT: !1 }), t(K7, n), t(J7, n), t(Y7, n), t(X7, n), t(Z7, n), t(Q7, n), t(j7, n), t(G7, n), t(x7, n), t(eE, n), t(tE, n), t(nE, n), t(Nn, n) })(W7); var iE = {}, rE = {}; Object.defineProperty(rE, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(rE, n) })(iE); var sE = {}; (function (n) { Object.defineProperty(n, "__esModule", { value: !0 }), n.notInstrumented = n.PageInvocationPoint = n.EMPTY_LINTED_METRICS_EVENT = void 0, n.EMPTY_LINTED_METRICS_EVENT = { fields: {}, issues: [] }, function (t) { t.pageEnter = "pageEnter", t.pageExit = "pageExit", t.appExit = "appExit", t.appEnter = "appEnter", t.backButton = "backButton" }(n.PageInvocationPoint || (n.PageInvocationPoint = {})); function e(t) { switch (t) { case 0: return { data: [], custom: {} }; case 1: return {}; case 2: return { instructions: [], custom: {} }; case 3: return { id: { id: "", impressionIndex: NaN }, fields: {}, custom: {} }; default: return {} } } n.notInstrumented = e })(sE); var oE = {}; Object.defineProperty(oE, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(k7, n), t(W7, n), t(iE, n), t(sE, n), t(oE, n), t(Mn, n) })(w7); var uc = {}; Object.defineProperty(uc, "__esModule", { value: !0 }); uc.LocalizedStringsJSONObject = void 0; class yz { constructor(e) { this.strings = e } string(e) { return this.strings[e] } } uc.LocalizedStringsJSONObject = yz; Object.defineProperty($f, "__esModule", { value: !0 }); $f.LocalizedStringsBundle = void 0; const A3 = w7, wz = uc; class kz { constructor(e) { this.bundle = e } async fetchStrings(e) { var t; const i = this.bundle.localizationsProperty; if (A3.isNothing(i)) throw new Error("Localized strings bundle index file is missing 'localizations' property"); let r; const s = (t = i.format) !== null && t !== void 0 ? t : "json/inline"; if (s === "json/inline") r = i[e]; else { const o = i; switch (o.format) { case "json/multi-file": { const a = `${o.path}/${e}.json`; r = await this.bundle.loadResource(a) } break; case "json/single-file": r = (await this.bundle.loadResource(o.path))[e]; break; case "loctable": throw new Error("Loctable format not supported in JS implementation"); case "js": throw new Error("Not yet implemented"); default: throw new Error(`Unknown localization format: ${JSON.stringify(s)}`) } } if (A3.isNothing(r)) throw new Error(`Missing strings for ${e}`); return new wz.LocalizedStringsJSONObject(r) } } $f.LocalizedStringsBundle = kz; (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(Bf, n), t(Uf, n), t(Hf, n), t($f, n), t(uc, n) })(y7); var aE = {}, lE = {}, Kf = {}, cc = {}; Object.defineProperty(cc, "__esModule", { value: !0 }); cc.PageMetricsFieldsProvider = void 0; const Dz = Mn; class Sz { addMetricsFields(e, t) { const i = t.pageFields; if (!Dz.isNothing(i)) for (const r in i) Object.prototype.hasOwnProperty.call(i, r) && e.addValue(i[r], r) } } cc.PageMetricsFieldsProvider = Sz; Object.defineProperty(Kf, "__esModule", { value: !0 }); Kf.MetricsFieldsAggregator = void 0; const E3 = Mn, Cz = cc; class k0 { constructor() { this.optInProviders = new Map, this.optOutProviders = new Map } static makeDefaultAggregator() { const e = new k0; return e.addOptInProvider(new Cz.PageMetricsFieldsProvider, "pageFields"), e } addOptInProvider(e, t) { this.optInProviders.set(t, e) } addOptOutProvider(e, t) { this.optOutProviders.set(t, e) } removeOptInProvider(e) { this.optInProviders.delete(e) } removeOptOutProvider(e) { this.optOutProviders.delete(e) } addMetricsFields(e) { e.including.forEach(t => { const i = this.optInProviders.get(t); E3.isNothing(i) || i.addMetricsFields(e.builder, e.context) }), this.optOutProviders.forEach((t, i) => { E3.isNothing(t) || e.excluding.includes(i) || t.addMetricsFields(e.builder, e.context) }) } } Kf.MetricsFieldsAggregator = k0; var dc = {}; Object.defineProperty(dc, "__esModule", { value: !0 }); dc.SimpleMetricsFieldsBuilder = void 0; class Pz { constructor(e) { this.fields = e } addValue(e, t) { this.fields[t] = e } get allMetricsFields() { return this.fields } } dc.SimpleMetricsFieldsBuilder = Pz; var uE = {}; Object.defineProperty(uE, "__esModule", { value: !0 }); var cE = {}; Object.defineProperty(cE, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(Kf, n), t(dc, n), t(uE, n), t(cE, n) })(lE); var dE = {}; (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(cc, n) })(dE); var fE = {}, gE = {}; Object.defineProperty(gE, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(gE, n) })(fE); var hE = {}, Jf = {}; Object.defineProperty(Jf, "__esModule", { value: !0 }); Jf.PageMetricsPresenter = void 0; const Bh = Mn; class Az { constructor(e) { this.metricsPipeline = e, this.isViewAppeared = !1 } set pageMetrics(e) { this.pageMetricsStore = e, Bh.isSome(e) && this.isViewAppeared && this.processInstructions("pageEnter") } get pageMetrics() { return this.pageMetricsStore } async processInstructions(e) { var t, i, r; if (Bh.isNothing(this.pageMetrics)) return; const s = { customMetrics: (t = this.baseContext) === null || t === void 0 ? void 0 : t.customMetrics, pageFields: { ...(i = this.baseContext) === null || i === void 0 ? void 0 : i.pageFields, ...(r = this.pageMetrics) === null || r === void 0 ? void 0 : r.pageFields } }; await Promise.all(this.pageMetrics.instructions.map(o => { const { invocationPoints: a } = o; if (!(a.length === 0 || !a.includes(e))) return this.metricsPipeline.process(o.data, s) })) } async didEnterPage() { this.isViewAppeared = !0, Bh.isSome(this.pageMetrics) && await this.processInstructions("pageEnter") } async didLeavePage() { await this.processInstructions("pageExit"), this.isViewAppeared = !1 } } Jf.PageMetricsPresenter = Az; (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(Jf, n) })(hE); var mE = {}; (function (n) { Object.defineProperty(n, "__esModule", { value: !0 }), n.MetricsPipeline = n.FlushBehavior = void 0; const e = dc; var t; (function (r) { r[r.automatic = 0] = "automatic", r[r.never = 1] = "never" })(t = n.FlushBehavior || (n.FlushBehavior = {})); class i { constructor(s) { var o; this.aggregator = s.aggregator, this.linter = s.linter, this.recorder = s.recorder, this.flushBehavior = (o = s.flushBehavior) !== null && o !== void 0 ? o : t.automatic } async process(s, o) { const a = new e.SimpleMetricsFieldsBuilder(s.fields); this.aggregator.addMetricsFields({ including: s.includingFields, excluding: s.excludingFields, builder: a, context: o }); const l = await this.linter.processEvent(a.allMetricsFields); return this.recorder.record(l, s.topic), s.shouldFlush && this.flushBehavior === t.automatic && this.recorder.flush(), l } } n.MetricsPipeline = i })(mE); var pE = {}, Yf = {}; Object.defineProperty(Yf, "__esModule", { value: !0 }); Yf.LoggingEventRecorder = void 0; class Ez { record(e) { console.log(`Record Event [${String(e.fields.eventType)}]`, e) } async flush() { return console.log("Flushing"), 0 } } Yf.LoggingEventRecorder = Ez; var _E = {}; Object.defineProperty(_E, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(Yf, n), t(_E, n) })(pE); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(lE, n), t(dE, n), t(fE, n), t(hE, n), t(mE, n), t(pE, n) })(aE); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(v7, n), t(y7, n), t(aE, n) })(_7); var ja = {}, _n = {}; Object.defineProperty(_n, "__esModule", { value: !0 }); _n.flatMapOptional = _n.mapOptional = _n.unsafeUnwrapOptional = _n.unwrapOptional = tt = _n.isSome = yt = _n.isNothing = _n.unsafeUninitialized = void 0; function Iz() { } _n.unsafeUninitialized = Iz; function vE(n) { return n == null } var yt = _n.isNothing = vE; function D0(n) { return n != null } var tt = _n.isSome = D0; function Mz(n) { if (vE(n)) throw new ReferenceError; return n } _n.unwrapOptional = Mz; function Lz(n) { return n } _n.unsafeUnwrapOptional = Lz; function Tz(n, e) { return D0(n) ? e(n) : n } _n.mapOptional = Tz; function Rz(n, e) { return D0(n) ? e(n) : n } _n.flatMapOptional = Rz; Object.defineProperty(ja, "__esModule", { value: !0 }); var Ge = ja.inject = bE = ja.ObjectGraph = void 0; const Fz = _n; class Oz { constructor(e) { this._members = {}, this.name = e } adding(e, t) { const i = this.clone(); return i._members[e.name] = t, i } removing(e) { const t = this.clone(); return delete t._members[e.name], t } optional(e) { return this._members[e.name] } required(e) { const t = this._members[e.name]; if (Fz.isNothing(t)) { const i = Object.keys(this._members).sort().join(", "); throw new Error(`No member with type ${e.name} found in ${this.name}. Candidates ${i}`) } return t } clone() { const e = this.constructor, t = new e(this.name); for (const [i, r] of Object.entries(this._members)) t._members[i] = r; return t } } var bE = ja.ObjectGraph = Oz; function Nz(n, e) { return e.required(n) } Ge = ja.inject = Nz; var yE = {}, fc = {}, Ga = {}, gc = {}; Object.defineProperty(gc, "__esModule", { value: !0 }); var Ln = gc.URL = void 0; const I3 = _n, Bz = /^([a-z][a-z0-9.+-]*:)(\/\/)?([\S\s]*)/i, M3 = /([^=?&]+)=?([^&]*)/g, Uz = ["hash", "query", "pathname", "host"]; let Hz = class Vo { constructor(e) { var t; if (this.query = {}, I3.isNothing(e)) return; let i = e; const r = Bz.exec(e); if (I3.isSome(r)) { let o = r[1]; o != null && (o = o.split(":")[0]), this.protocol = o != null ? o : void 0, i = (t = r[3]) !== null && t !== void 0 ? t : void 0 } let s = { remainder: i, result: void 0 }; for (const o of Uz) { if (s === void 0 || s.remainder === void 0) break; switch (o) { case "hash": { s = Qc(s.remainder, "#", "suffix"), this.hash = s == null ? void 0 : s.result; break } case "query": { s = Qc(s.remainder, "?", "suffix"), (s == null ? void 0 : s.result) !== void 0 && (this.query = Vo.queryFromString(s.result)); break } case "pathname": { s = Qc(s.remainder, "/", "suffix"), (s == null ? void 0 : s.result) !== void 0 && (this.pathname = "/" + s.result); break } case "host": { const a = Qc(s.remainder, "@", "prefix"), l = a == null ? void 0 : a.result, u = a == null ? void 0 : a.remainder; if (l !== void 0) { const c = l.split(":"); this.username = decodeURIComponent(c[0]), this.password = decodeURIComponent(c[1]) } if (u !== void 0) { const c = u.split(":"); this.host = c[0], this.port = c[1] } break } default: throw new Error("Unhandled case!") } } } get(e) { switch (e) { case "protocol": return this.protocol; case "username": return this.username; case "password": return this.password; case "port": return this.port; case "pathname": return this.pathname; case "query": return this.query; case "hash": return this.hash; default: return this[e] } } set(e, t) { if (t === void 0) return this; switch (e === "query" && typeof t == "string" && (t = Vo.queryFromString(t)), e) { case "protocol": this.protocol = t; break; case "username": this.username = t; break; case "password": this.password = t; break; case "port": this.port = t; break; case "pathname": this.pathname = t; break; case "query": this.query = t; break; case "hash": this.hash = t; break; default: this[e] = t; break }return this } append(e, t) { let i = this.get(e), r; if (e === "query") i === void 0 && (i = {}), typeof t == "string" && (t = Vo.queryFromString(t)), typeof i == "string" ? r = { existingValue: i, ...t } : r = { ...i, ...t }; else { i === void 0 && (i = ""); let s = i; s === void 0 && (s = ""); let o = s; if (e === "pathname") { const a = s.length; (a === 0 || i[a - 1] !== "/") && (o += "/") } o += t, r = o } return this.set(e, r) } param(e, t) { return e === null ? this : (this.query === void 0 && (this.query = {}), t === void 0 ? delete this.query[e] : this.query[e] = t, this) } removeParam(e) { return e === void 0 || this.query === void 0 ? this : (e in this.query && delete this.query[e], this) } path(e) { return this.append("pathname", e) } pathExtension() { var e, t; if (this.pathname === void 0) return; const i = (t = (e = this.pathname.split("/").filter(r => r.length > 0).pop()) === null || e === void 0 ? void 0 : e.split(".")) !== null && t !== void 0 ? t : []; if (!(i.filter(function (r) { return r !== "" }).length < 2)) return i.pop() } pathComponents() { return this.pathname === void 0 ? [] : this.pathname.split("/").filter(e => e.length > 0) } build() { return this.toString() } toString() { let e = ""; return this.protocol !== void 0 && (e += this.protocol + "://"), this.username !== void 0 && (e += encodeURIComponent(this.username), this.password !== void 0 && (e += ":" + encodeURIComponent(this.password)), e += "@"), this.host !== void 0 && (e += this.host, this.port !== void 0 && (e += ":" + this.port)), this.pathname !== void 0 && (e += this.pathname), this.query !== void 0 && Object.keys(this.query).length !== 0 && (e += "?" + Vo.toQueryString(this.query)), this.hash !== void 0 && (e += "#" + this.hash), e } static queryFromString(e) { const t = {}; let i = M3.exec(e); for (; i !== null;) { const r = decodeURIComponent(i[1]), s = decodeURIComponent(i[2]); t[r] = s, i = M3.exec(e) } return t } static toQueryString(e) { let t = "", i = !0; for (const r of Object.keys(e)) { i || (t += "&"), i = !1, t += encodeURIComponent(r); const s = e[r]; s !== null && s.length > 0 && (t += "=" + encodeURIComponent(s)) } return t } static from(e) { return new Vo(e) } static fromComponents(e, t, i, r, s) { const o = new Vo; return o.protocol = e, o.host = t, o.pathname = i, o.query = r != null ? r : {}, o.hash = s, o } }; Ln = gc.URL = Hz; function Qc(n, e, t) { const i = n.indexOf(e); let r, s = n; if (i !== -1) { const o = n.slice(0, i), a = n.slice(i + e.length, n.length); t === "prefix" ? (r = o, s = a) : (r = a, s = o) } return { result: r, remainder: s } } Object.defineProperty(Ga, "__esModule", { value: !0 }); Ga.UrlRouter = Ga.UrlRule = void 0; const xn = _n, $z = gc; function wE(n) { return n.startsWith("{") && n.endsWith("}") } function Vz(n) { return n.replace("{", "").replace("}", "") } function zz(n) { const e = {}; return n.forEach((t, i) => { wE(t) && (e[t] = i) }), e } function qz(n) { const e = []; if (xn.isNothing(n)) return e; for (const t of n) { const i = t.split("="); let r = i[0]; const s = r.includes("?"); r = r.replace("?", ""); let o = null; i.length > 1 && (o = decodeURIComponent(i[1])), e.push({ key: r, value: o, optional: s }) } return e } class Xf { constructor(e) { this.identifier = e.identifier, this.protocol = e.protocol, this.hostName = e.hostName, xn.isSome(e.path) ? (this.pathComponents = e.path.split("/").filter(t => t.length > 0), this.pathParameterMap = zz(this.pathComponents)) : (this.pathComponents = void 0, this.pathParameterMap = void 0), this.pathExtension = e.pathExtension, this.query = qz(e.query), this.hash = e.hash, this.regex = e.regex, xn.isSome(e.exclusions) ? this.exclusions = e.exclusions.map(function (t) { return new Xf(t) }) : this.exclusions = void 0 } matches(e) { return xn.isSome(this.match(e)) } extractParameters(e) { var t; const i = {}; if (xn.isSome(this.pathComponents) && xn.isSome(this.pathParameterMap)) { const r = e.pathComponents(); for (const s of Object.keys(this.pathParameterMap)) { const o = Vz(s), a = this.pathParameterMap[s]; i[o] = decodeURIComponent(r[a]) } } if (xn.isSome(this.query)) for (const r of this.query) { const s = (t = e.query) === null || t === void 0 ? void 0 : t[r.key]; xn.isSome(s) && (i[r.key] = s) } return i } match(e) { var t, i; let r = null; if (xn.isSome(this.regex)) { if (this.regex.length === 0) return null; let o = !1; for (const a of this.regex) { const l = a.exec(e.toString()); if (l !== null) { o = !0, r = (t = l.groups) !== null && t !== void 0 ? t : null; break } } if (!o) return null } if (xn.isSome(this.protocol) && e.protocol !== this.protocol || xn.isSome(this.hostName) && e.host !== this.hostName) return null; if (xn.isSome(this.pathComponents)) { const o = this.pathComponents, a = e.pathComponents(); if (o.length !== a.length) return null; const l = o.length; for (let u = 0; u < l; u += 1) { const c = o[u]; if (wE(c)) continue; const d = a[u]; if (c !== d) return null } } if (xn.isSome(this.pathExtension) && e.pathExtension() !== this.pathExtension) return null; if (xn.isSome(this.query)) for (const o of this.query) { const a = (i = e.query) === null || i === void 0 ? void 0 : i[o.key]; if (xn.isNothing(a) && !o.optional || xn.isSome(o.value) && o.value !== a) return null } if (xn.isSome(this.hash) && e.hash !== this.hash) return null; if (xn.isSome(this.exclusions)) for (const o of this.exclusions) { if (xn.isSome(o.exclusions)) throw Error("Matching exclusion rules with further exclusion rules may introduce significant code-complexity and/or reduce the ease with which developers are able to reason about your desired goals. Are there any simpler options?"); if (xn.isSome(o.match(e))) return null } return { parameters: this.extractParameters(e), matchGroups: r } } } Ga.UrlRule = Xf; class Wz { constructor() { this.routeMappings = [] } associate(e, t) { const i = []; for (const r of e) i.push(new Xf(r)); this.routeMappings.push({ route: i, object: t }) } routedObjectForUrl(e) { var t; const i = typeof e == "string" ? new $z.URL(e) : e; for (const r of this.routeMappings) for (const s of r.route) { const o = s.match(i); if (xn.isSome(o)) return { normalizedUrl: i, parameters: o.parameters, object: r.object, matchedRuleIdentifier: (t = s.identifier) !== null && t !== void 0 ? t : null, regexMatchGroups: o.matchGroups } } return { normalizedUrl: i, parameters: null, object: null, matchedRuleIdentifier: null, regexMatchGroups: null } } } Ga.UrlRouter = Wz; Object.defineProperty(fc, "__esModule", { value: !0 }); fc.Router = void 0; const L3 = _n, Kz = Ga; class Jz { constructor() { this.router = new Kz.UrlRouter } associate(e, t) { this.router.associate(e, t) } intentFor(e) { const t = this.router.routedObjectForUrl(e); return L3.isSome(t.object) && L3.isSome(t.parameters) ? t.object(t.normalizedUrl, t.parameters, t) : null } } fc.Router = Jz; var Go = {}; Object.defineProperty(Go, "__esModule", { value: !0 }); Go.registerRoutesProvider = Go.isRouteProvider = void 0; const Yz = _n; function Xz(n) { return typeof n != "object" ? !1 : Yz.isSome(n == null ? void 0 : n.routes) } Go.isRouteProvider = Xz; function Zz(n, e, t) { e.routes(t).forEach(i => { n.associate(i.rules, i.handler) }) } Go.registerRoutesProvider = Zz; var Zf = {}; Object.defineProperty(Zf, "__esModule", { value: !0 }); Zf.makeRouterUsingRegisteredControllers = void 0; const T3 = Go, Qz = fc; function jz(n, e) { const t = new Qz.Router; for (const i of n.registeredControllers) T3.isRouteProvider(i) && T3.registerRoutesProvider(t, i, e); return t } Zf.makeRouterUsingRegisteredControllers = jz; (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(fc, n), t(Go, n), t(Zf, n) })(yE); var S0 = {}, Qf = {}; Object.defineProperty(Qf, "__esModule", { value: !0 }); Qf.exportBootstrap = void 0; function Gz(n) { typeof $exportBootstrap < "u" && $exportBootstrap(n) } Qf.exportBootstrap = Gz; var xa = {}; Object.defineProperty(xa, "__esModule", { value: !0 }); xa.LegacyRuntime = xa.Runtime = void 0; const xz = typeof exportService == "function"; function eq(n, e) { exportService(n, e) } class kE { constructor(e, t) { this.dispatcher = e, this.objectGraph = t } async dispatch(e) { return await this.dispatcher.dispatch(e, this.objectGraph) } } xa.Runtime = kE; class tq extends kE { constructor(e, t, i) { super(e, t), this.services = i } serviceWithName(e) { return this.services[e] } exportingService(e, t) { return xz && eq(e, t), this.services[e] = t, this } } xa.LegacyRuntime = tq; (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(Qf, n), t(xa, n) })(S0); function DE(n) { return { $kind: "RecordLabelDetailPageIntent", contentDescriptor: n } } function jf(n) { return { $kind: "SongDetailPageIntent", contentDescriptor: n } } var Gf = {}; Object.defineProperty(Gf, "__esModule", { value: !0 }); var pn = Gf.makeMetatype = void 0; function nq(n) { return { name: n } } pn = Gf.makeMetatype = nq; const Ue = { bag: pn("bag"), bundle: pn("bundle"), campaignAttributionService: pn("campaignAttributionService"), cloudLibraryStatusProvider: pn("cloudLibraryStatusProvider"), features: pn("features"), findFriendsContactsProvider: pn("findFriendsContactsProvider"), host: pn("host"), intentDispatcher: pn("intentDispatcher"), localization: pn("localization"), locale: pn("locale"), logger: pn("logger"), loggerFactory: pn("loggerFactory"), metrics: pn("metrics"), network: pn("network"), random: pn("random"), recentLibrarySearchesProvider: pn("recentLibrarySearchesProvider"), restrictionsController: pn("restrictionsController"), router: pn("router"), dataOverrides: pn("dataOverrides"), storage: pn("storage"), subscriptionStatusCoordinator: pn("subscriptionStatusCoordinator"), userSocialProfileCoordinator: pn("userSocialProfileCoordinator") }; class mt { constructor(e) { this.features = e } static hasGlobalNavigationStack(e) { var t; return (t = mt.getHostFeatures(e).hasGlobalNavigationStack) !== null && t !== void 0 ? t : !1 } static hasPlatformSpecificListenNow(e) { var t; return (t = mt.getHostFeatures(e).hasPlatformSpecificListenNow) !== null && t !== void 0 ? t : !1 } static userCanPlayFromDifferentStorefront(e) { var t; return (t = mt.getHostFeatures(e).userCanPlayFromDifferentStorefront) !== null && t !== void 0 ? t : !0 } static shouldOmitFileExtensionFromImages(e) { var t; return (t = mt.getHostFeatures(e).shouldOmitFileExtensionFromImages) !== null && t !== void 0 ? t : !1 } static supportsNewSocialProfilePageIntent(e) { var t; return (t = mt.getHostFeatures(e).supportsNewSocialProfilePageIntent) !== null && t !== void 0 ? t : !1 } static hasPlatformSpecificRadioStationPage(e) { var t; return (t = mt.getHostFeatures(e).hasPlatformSpecificRadioStationPage) !== null && t !== void 0 ? t : !1 } static supportsRichSocialProfilePage(e) { var t; return (t = mt.getHostFeatures(e).supportsRichSocialProfilePage) !== null && t !== void 0 ? t : !0 } static supportsSocialOnboarding(e) { var t; return (t = mt.getHostFeatures(e).supportsSocialOnboarding) !== null && t !== void 0 ? t : !0 } static supportsSeoMetadata(e) { var t; return (t = mt.getHostFeatures(e).supportsSeoMetadata) !== null && t !== void 0 ? t : !1 } static supportsSocialCardShelf(e) { var t; return (t = mt.getHostFeatures(e).supportsSocialCardShelf) !== null && t !== void 0 ? t : !0 } static hasPlatformSpecificSearchLandingPage(e) { var t; return (t = mt.getHostFeatures(e).hasPlatformSpecificSearchLandingPage) !== null && t !== void 0 ? t : !1 } static hasPlatformSpecificDeepLinkHandling(e) { var t; return (t = mt.getHostFeatures(e).hasPlatformSpecificDeepLinkHandling) !== null && t !== void 0 ? t : !1 } static hasPlatformSpecificSearchResultsPage(e) { var t; return (t = mt.getHostFeatures(e).hasPlatformSpecificSearchResultsPage) !== null && t !== void 0 ? t : !1 } static canProcessOfferData(e) { var t; return (t = mt.getHostFeatures(e).canProcessOfferData) !== null && t !== void 0 ? t : !1 } static shouldIncludeCatalogDescriptorForLibraryTracks(e) { var t; return (t = mt.getHostFeatures(e).shouldIncludeCatalogDescriptorForLibraryTracks) !== null && t !== void 0 ? t : !1 } static shouldInvalidateBrowsePageOnSubscriptionStatus(e) { var t; return (t = mt.getHostFeatures(e).shouldInvalidateBrowsePageOnSubscriptionStatus) !== null && t !== void 0 ? t : !1 } static supportsPreviewPlayback(e) { var t; return (t = mt.getHostFeatures(e).supportsPreviewPlayback) !== null && t !== void 0 ? t : !1 } static canRenderFAQContent(e) { var t; return (t = mt.getHostFeatures(e).canRenderFAQContent) !== null && t !== void 0 ? t : !1 } static canRenderMobileViews(e) { var t; return (t = mt.getHostFeatures(e).canRenderMobileViews) !== null && t !== void 0 ? t : !1 } static shouldIncludeLibraryLockupsInPersonalReco(e) { var t; return (t = mt.getHostFeatures(e).shouldIncludeLibraryLockupsInPersonalReco) !== null && t !== void 0 ? t : !1 } static hasPlatformSpecificSongDetailPage(e) { var t; return (t = mt.getHostFeatures(e).hasPlatformSpecificSongDetailPage) !== null && t !== void 0 ? t : !1 } static hasPlatformSpecificRecentlySearched(e) { var t; return (t = mt.getHostFeatures(e).hasPlatformSpecificRecentlySearched) !== null && t !== void 0 ? t : !1 } static userCanVisitDifferentStorefront(e) { var t; return (t = mt.getHostFeatures(e).userCanVisitDifferentStorefront) !== null && t !== void 0 ? t : !1 } static maxNumberOfTopResults(e) { var t; return (t = mt.getHostFeatures(e).maxNumberOfTopResults) !== null && t !== void 0 ? t : 3 } static hasCustomizedSearchLandingPage(e) { var t; return (t = mt.getHostFeatures(e).hasCustomizedSearchLandingPage) !== null && t !== void 0 ? t : !1 } static hasBrowsePersonalizationEdge(e) { var t; return (t = mt.getHostFeatures(e).hasBrowsePersonalizationEdge) !== null && t !== void 0 ? t : !1 } static canShowLiveRadioGrid(e) { var t; return (t = mt.getHostFeatures(e).canShowLiveRadioGrid) !== null && t !== void 0 ? t : !1 } static canRenderArtistSnapshotLink(e) { var t; return (t = mt.getHostFeatures(e).canRenderArtistSnapshotLink) !== null && t !== void 0 ? t : !1 } static preferRelativeContentDescriptorPaths(e) { var t; return (t = mt.getHostFeatures(e).preferRelativeContentDescriptorPaths) !== null && t !== void 0 ? t : !1 } static getHostFeatures(e) { const { features: t } = Ge(Ue.features, e); return t } } let de = class { constructor(e) { this.queuedMessages = [], this.shouldQueueMessages = !1, this.label = e } log(...e) { const t = this.formattedMessage(e); if (this.shouldQueueMessages) { this.queueMessage(t, "log"); return } console.log(t) } warn(...e) { const t = this.formattedMessage(e); if (this.shouldQueueMessages) { this.queueMessage(t, "warn"); return } console.warn(t) } error(...e) { const t = this.formattedMessage(e); if (this.shouldQueueMessages) { this.queueMessage(t, "error"); return } console.error(t) } flushMessages() { this.queuedMessages.forEach(e => { switch (e.type) { case "log": console.log(e.message); break; case "warn": console.warn(e.message); break; case "error": console.error(e.message); break } }), this.queuedMessages = [] } static log(e, ...t) { Ge(Ue.logger, e).log(...t) } static warn(e, ...t) { Ge(Ue.logger, e).warn(...t) } static error(e, ...t) { Ge(Ue.logger, e).error(...t) } queueMessage(e, t) { this.queuedMessages.push({ type: t, message: e }) } get prefix() { return this.label ? `${this.label}: ` : "" } formattedMessage(e) { return `${this.prefix}${e.join(" ")}` } }; const iq = { "ampMusicAPIDomains/default": "string", "ampMusicAPIDomains/editorialContent": "string", "ampMusicAPIDomains/listenNow": "string", "ampMusicAPIDomains/search": "string", "ampMusicAPIDomains/searchHints": "string", "ampMusicAPIDomains/searchLanding": "string", "ampMusicAPIDomains/librarySearch": "string", "ampMusicAPIDomains/sharedListening": "string", countryCode: "string", "commerceApp/baseUrl": "string", "commerceApp/urlPath": "dictionary", "commerce-ui-urls/dynamic-url-patterns": "array", "commerce-ui-urls/v2-url-patterns": "array", "language-tag": "string", marketingItemDynamicUIUrl: "string", metrics: "dictionary", musicFriends: "dictionary", musicTabs: "dictionary", "url-resolution": "array", getMusicSDKAuthorizationsSrv: "string", revokeMusicSDKAuthorizationSrv: "string" }; var vn; (function (n) { n.Library = "my_music", n.ListenNow = "for_you", n.Browse = "new", n.Radio = "radio", n.Search = "search", n.Replay = "replay", n.LibraryRecentlyAdded = "library_recently_added", n.LibraryArtists = "library_artists", n.LibraryAlbums = "library_albums", n.LibrarySongs = "library_songs", n.LibraryMadeForYou = "library_made_for_you", n.LibraryPlaylist = "library_playlist" })(vn || (vn = {})); let nt = class Gn { constructor(e) { this.bagImplementation = e, e.registerBagKeys(Gn.allBagKeyDescriptors) } optionalString(e) { return this.bagImplementation.string(e) } optionalDictionary(e) { return this.bagImplementation.dictionary(e) } optionalArray(e) { return this.bagImplementation.array(e) } static ampMusicAPIDomainsDefault(e) { return Gn.string("ampMusicAPIDomains/default", "amp-api.music.apple.com", e) } static ampMusicAPIDomainsEditorialContent(e) { return mt.hasBrowsePersonalizationEdge(e) ? Gn.string("ampMusicAPIDomains/editorialContent", "amp-api-edge.music.apple.com", e) : Gn.ampMusicAPIDomainsDefault(e) } static ampMusicAPIDomainsCatalogSearchResults(e) { return Gn.string("ampMusicAPIDomains/search", "amp-api-edge.music.apple.com", e) } static ampMusicAPIDomainsCatalogSearchSuggestions(e) { return Gn.string("ampMusicAPIDomains/searchHints", "amp-api-edge.music.apple.com", e) } static ampMusicAPIDomainsCatalogSearchLanding(e) { return Gn.string("ampMusicAPIDomains/searchLanding", "amp-api-edge.music.apple.com", e) } static countryCode(e) { return Gn.string("countryCode", "us", e) } static commerceAppBaseURL(e) { return Gn.optionalString("commerceApp/baseUrl", e) } static commerceAppURLPath(e) { return Gn.optionalDictionary("commerceApp/urlPath", e) } static commerceUIDynamicURLPatterns(e) { return Gn.optionalArray("commerce-ui-urls/dynamic-url-patterns", e) } static commerceUIV2URLPatterns(e) { return Gn.optionalArray("commerce-ui-urls/v2-url-patterns", e) } static languageTag(e) { return Gn.string("language-tag", "en-US", e) } static marketingItemDynamicUIURL(e) { return Gn.optionalString("marketingItemDynamicUIUrl", e) } static musicURLResolutionRules(e) { return Gn.optionalArray("url-resolution", e) } static musicFriendsExists(e) { return !!Gn.optionalDictionary("musicFriends", e) } static musicTabs(e) { return Gn.optionalDictionary("musicTabs", e) } static getMusicSDKAuthorizationsSrv(e) { return Gn.optionalString("getMusicSDKAuthorizationsSrv", e) } static revokeMusicSDKAuthorizationSrv(e) { return Gn.optionalString("revokeMusicSDKAuthorizationSrv", e) } static get allBagKeyDescriptors() { return Object.entries(iq).map(([e, t]) => ({ key: e, type: t })) } static optionalString(e, t) { return Ge(Ue.bag, t).optionalString(e) } static string(e, t, i) { const r = Gn.optionalString(e, i); return tt(r) ? r : (de.warn(i, `Bag missing key "${e}" falling back to value "${t}"`), t) } static optionalDictionary(e, t) { return Ge(Ue.bag, t).optionalDictionary(e) } static optionalArray(e, t) { return Ge(Ue.bag, t).optionalArray(e) } }; function R3(n, e) { var t; return (t = n.manifest.properties) === null || t === void 0 ? void 0 : t.localizations[e] } let Qe = class du { constructor(e) { this.partialObjectGraph = e } async loadStrings() { var e, t; const i = this.languageCode; if (((e = this.localizedStrings) === null || e === void 0 ? void 0 : e.languageCode) === i) return Promise.resolve(this.localizedStrings); if (((t = this.pendingLocalizedStrings) === null || t === void 0 ? void 0 : t.languageCode) === i) return await this.pendingLocalizedStrings.loadingPromise; const r = this.loadStringForLanguageCode(i); this.pendingLocalizedStrings = { languageCode: i, loadingPromise: r }; const s = await r; return s.languageCode !== this.languageCode ? (de.log(this.partialObjectGraph, "Language changed while localization was loading, starting new load."), await this.loadStrings()) : (de.log(this.partialObjectGraph, `Localization resource "${s.languageCode}" loaded with ${Object.keys(s.strings).length} strings.`), this.localizedStrings = s, this.pendingLocalizedStrings = void 0, Promise.resolve(s)) } string(e, t) { if (!this.localizedStrings) throw new Error(`Localization.string(key:) called before localization was loaded, key "${e}"`); const i = this.localizedStrings.strings[e]; return t ? du.replaceTokens(i, t) : i } get languageCode() { return nt.languageTag(this.partialObjectGraph).toLowerCase() } static string(e, t, i) { return Ge(Ue.localization, t).string(e, i) } static replaceTokens(e, t) { let i = e; return Object.entries(t).forEach(([r, s]) => { i = i.split(`@@${r}@@`).join(s) }), i } async loadStringForLanguageCode(e) { const t = Ge(Ue.bundle, this.partialObjectGraph); let i = R3(t, e); if (i || (de.error(this.partialObjectGraph, `Bundle missing "${e}" localization, falling back to "${du.fallbackLanguageCode}".`), i = R3(t, du.fallbackLanguageCode)), !i) throw new Error(`Failed to load localization, missing localization resources "${e}", "${du.fallbackLanguageCode}".`); de.log(this.partialObjectGraph, `Loading localization resource for language "${e}"...`); const r = await t.loadResource(i); return { languageCode: e, strings: r } } }; Qe.fallbackLanguageCode = "en-us"; function lp(n, e) { return n.hasOwnProperty(e) } var x; (function (n) { n.Album = "album", n.AppleCurator = "appleCurator", n.Artist = "artist", n.ArtistUploadedVideo = "artistUploadedVideo", n.ArtistUploadedSong = "artistUploadedSong", n.Curator = "curator", n.EditorialItem = "editorialItem", n.Grouping = "grouping", n.Movie = "movie", n.MultiRoom = "multiroom", n.Room = "room", n.MusicVideo = "musicVideo", n.Playlist = "playlist", n.PlaylistFolder = "playlistFolder", n.RadioStation = "radioStation", n.RecordLabel = "recordLabel", n.SocialProfile = "socialProfile", n.Song = "song", n.TopCharts = "topCharts", n.TVEpisode = "tvEpisode", n.TVSeason = "tvSeason", n.TVShow = "tvShow" })(x || (x = {})); function rq(n, e) { switch (n) { case x.Album: return Qe.string("IXDisplayableKind.album.one", e); case x.Artist: return Qe.string("IXDisplayableKind.artist.one", e); case x.AppleCurator: case x.Curator: return Qe.string("IXDisplayableKind.iTunesBrand.Curator.one", e); case x.ArtistUploadedVideo: return Qe.string("IXDisplayableKind.uploadedVideo.one", e); case x.ArtistUploadedSong: return Qe.string("IXDisplayableKind.uploadedAudio.other", e); case x.EditorialItem: return Qe.string("FUSE.Search.Category", e); case x.Movie: return Qe.string("IXDisplayableKind.movie.one", e); case x.MusicVideo: return Qe.string("IXDisplayableKind.musicVideo.one", e); case x.PlaylistFolder: return Qe.string("IXDisplayableKind.playlistFolder.one", e); case x.Playlist: return Qe.string("IXDisplayableKind.playlist.one", e); case x.RadioStation: return Qe.string("IXDisplayableKind.radioStation.one", e); case x.RecordLabel: return Qe.string("AMWeb.Label.Module.Record.Label.one", e); case x.SocialProfile: return Qe.string("FUSE.Social.Profile", e); case x.Song: return Qe.string("IXDisplayableKind.song.one", e); case x.TVEpisode: return Qe.string("IXDisplayableKind.tvEpisode.one", e); case x.TVSeason: return Qe.string("IXDisplayableKind.tvSeason.one", e); case x.TVShow: return Qe.string("IXDisplayableKind.showBrand.Linear.one", e); case x.Grouping: case x.MultiRoom: case x.Room: case x.TopCharts: return "" } } function sq(n) { return Object.entries(n).filter(([e, t]) => tt(t)).map(([e, t]) => `${e}=${t}`).join(", ") } function xo(n) { return typeof n == "object" && n !== null && lp(n, "kind") && typeof n.kind == "string" && Object.values(x).includes(n.kind) } function up(n) { return `ContentDescriptor: ${n.kind}, ${sq(n.identifiers)}` } function vl(n) { const e = new Set; return oq(n) && e.add("catalog"), aq(n) && e.add("library"), e } function oq(n) { const { identifiers: e } = n; return !!e && (tt(e.storeAdamID) || tt(e.socialProfileID)) } function aq(n) { const { identifiers: e } = n; return !!e && tt(SE(n)) } function SE(n) { var e, t, i, r; const { identifiers: s } = n; if (s) return (r = (i = (t = (e = s == null ? void 0 : s.cloudUniversalLibraryID) !== null && e !== void 0 ? e : s == null ? void 0 : s.libraryPersistentID) !== null && t !== void 0 ? t : s == null ? void 0 : s.storeCloudAlbumID) !== null && i !== void 0 ? i : s == null ? void 0 : s.storePurchasedAdamID) !== null && r !== void 0 ? r : s == null ? void 0 : s.storeCloudID } var Ti = {}; Object.defineProperty(Ti, "__esModule", { value: !0 }); Ti.createMetricsMediaClickData = Ti.createMetricsMediaData = Ti.createMetricsImpressionsData = Ti.createMetricsSearchData = Ti.createMetricsPageData = Ti.createMetricsBackClickData = PE = Ti.createMetricsClickData = void 0; const C0 = _n; function CE(n, e, t, i) { const r = "click", s = { ...t, eventType: r, targetType: e, targetId: n }; return bl(s, i, r) } var PE = Ti.createMetricsClickData = CE; function lq(n, e) { const t = { ...n, actionType: "back" }; return CE("back", "button", t, e) } Ti.createMetricsBackClickData = lq; function uq(n, e, t) { const i = "page", r = { ...n, eventType: i, ...e }; return bl(r, t, i) } Ti.createMetricsPageData = uq; function cq(n, e, t, i, r, s) { const o = "search", a = { ...r, eventType: o, term: n, targetType: e, actionType: t }; return C0.isSome(i) && (a.actionUrl = i), bl(a, s, o) } Ti.createMetricsSearchData = cq; function dq(n, e, t = 4) { const i = "impressions", r = { ...n, eventType: i, impressionQueue: "data-metrics", eventVersion: t }; return bl(r, e, i) } Ti.createMetricsImpressionsData = dq; function fq(n, e) { const t = "media", i = { ...n, eventType: t }; return bl(i, e, t) } Ti.createMetricsMediaData = fq; function gq(n, e, t, i) { const r = "click", s = { ...t, eventType: r, targetType: e, targetId: n }; return bl(s, i, r) } Ti.createMetricsMediaClickData = gq; function bl(n, e, t) { return { fields: n, includingFields: e.defaultIncludeRequests[t], excludingFields: e.defaultExcludeRequests[t], topic: hq(n, e.defaultTopic), shouldFlush: C0.isSome(e.shouldFlush) ? e.shouldFlush(n) : !1 } } function hq(n, e) { const t = n.topic; return C0.isSome(t) ? t : e } var mr = {}; (function (n) { Object.defineProperty(n, "__esModule", { value: !0 }), n.notInstrumented = n.PageInvocationPoint = n.EMPTY_LINTED_METRICS_EVENT = void 0, n.EMPTY_LINTED_METRICS_EVENT = { fields: {}, issues: [] }, function (t) { t.pageEnter = "pageEnter", t.pageExit = "pageExit", t.appExit = "appExit", t.appEnter = "appEnter", t.backButton = "backButton" }(n.PageInvocationPoint || (n.PageInvocationPoint = {})); function e(t) { switch (t) { case 0: return { data: [], custom: {} }; case 1: return {}; case 2: return { instructions: [], custom: {} }; case 3: return { id: { id: "", impressionIndex: NaN }, fields: {}, custom: {} }; default: return {} } } n.notInstrumented = e })(mr); function hc(n, e) { const t = n.slice(-1) === "/", i = e.slice(0, 1) === "/"; return t && i ? `${n}${e.slice(1)}` : !t && !i ? `${n}/${e}` : `${n}${e}` } function mq(n, e) { let t = n; if (e) { const r = n.indexOf("?") !== -1 ? "&" : "?"; t = `${n}${r}${e}` } return t } function xf(n) { return mt.preferRelativeContentDescriptorPaths(n) ? "" : "https://music.apple.com" } function pq(n = new Date) { const e = n.getTimezoneOffset(), t = Math.abs(e), i = Math.floor(t / 60), r = t % 60, s = e > 0 ? "-" : "+", o = i.toString().padStart(2, "0"), a = r.toString().padStart(2, "0"); return `${s}${o}:${a}` } function $n(n, e) { if (!n) return null; const t = new Date(n.toString()), i = nt.languageTag(e); return t.toLocaleString(i, { year: "numeric", timeZone: "UTC" }) } function da(n, e) { if (!n) return null; const { hours: t, minutes: i, seconds: r } = eg(n), s = i === 0 && r > 0 ? 1 : i, o = Ge(Ue.localization, e), a = nt.languageTag(e), l = t === 1 ? "FUSE.Hours.one" : "FUSE.Hours.other", u = o.string(l, { count: t.toLocaleString(a) }), c = s === 1 ? "FUSE.Minutes.one" : "FUSE.Minutes.other", d = o.string(c, { count: s.toLocaleString(a) }); let f; return t > 0 && s > 0 ? f = o.string("FUSE.TotalTime.Format.NoSeparator", { countHour: u, countMin: d }) : t > 0 ? f = u : f = d, f } function AE(n, e) { if (typeof n != "number") return null; const { hours: t, minutes: i, seconds: r } = eg(n), s = Ge(Ue.localization, e), o = nt.languageTag(e), a = t === 1 ? "FUSE.Common.Hours.abbr.one" : "FUSE.Common.Hours.abbr.other", l = s.string(a, { count: t.toLocaleString(o) }), u = i === 1 ? "FUSE.Common.Minutes.abbr.one" : "FUSE.Common.Minutes.abbr.other", c = s.string(u, { count: i.toLocaleString(o) }), d = s.string(u, { count: (i + 1).toLocaleString(o) }), f = r === 1 ? "FUSE.Common.Seconds.abbr.one" : "FUSE.Common.Seconds.abbr.other", g = s.string(f, { count: r.toLocaleString(o) }); let h; if (t > 0 && i > 0) { const m = r > 29 ? d : c; h = s.string("FUSE.Common.SeparatorDuration", { hours: l, minutes: m }) } else i > 0 && r > 0 ? h = s.string("FUSE.Common.SeparatorDuration", { hours: c, minutes: g }) : t > 0 ? h = l : i > 0 ? h = c : h = g; return h } const F3 = {}; function eg(n) { const e = Math.floor(n / 1e3), t = Math.round(e); return { hours: Math.floor(t / 3600), minutes: Math.floor(t / 60) % 60, seconds: t % 60 } } function Lu(n, e) { var t; const { hours: i, minutes: r, seconds: s } = eg(n != null ? n : 0), o = nt.languageTag(e), a = F3[o] || (F3[o] = { number: Intl.NumberFormat(o, { minimumIntegerDigits: 1 }), numberPadded: Intl.NumberFormat(o, { minimumIntegerDigits: 2 }) }), l = a.number.format, u = a.numberPadded.format, [c = ":"] = (t = new Date().toLocaleTimeString(o).match(/\b[:.]\b/)) !== null && t !== void 0 ? t : []; return i ? [l(i), u(r), u(s)].join(c) : [l(r), u(s)].join(c) } function ea(n) { const { hours: e, minutes: t, seconds: i } = eg(n); return !e && !t && !i ? "P0D" : ["PT", e && `${e}H`, t && `${t}M`, i && `${i}S`].filter(Boolean).join("") } function _q(n, e) { if (!n) return ""; const t = new Date(n.toString()), i = nt.languageTag(e); return t.toLocaleString(i, { month: "long", day: "numeric", timeZone: "UTC" }) } function tg(n, e) { var t; const i = nt.languageTag(e); return (t = po(n, e)) === null || t === void 0 ? void 0 : t.toLocaleUpperCase(i) } function po(n, e) { if (!n) return null; const t = new Date(n.toString()), i = nt.languageTag(e); return t.toLocaleString(i, { month: "long", day: "numeric", year: "numeric", timeZone: "UTC" }) } function vq(n, e) { if (!n) return null; const t = new Date(n.toString()); return EE(t, e) } function EE(n, e) { const t = nt.languageTag(e); return n.toLocaleString(t, { month: "short", day: "numeric", year: "numeric", timeZone: "UTC" }).toLocaleUpperCase(t) } function bq(n, e, t, i = !1) { const r = nt.languageTag(t), s = r.substring(0, 2), o = new Intl.DateTimeFormat(r, { hour: "numeric", minute: "numeric", timeZone: i ? "UTC" : void 0 }); return s.toLowerCase() === "en" ? yq(n, e, o) : o.formatRange(n, e) } function yq(n, e, t) { const i = t.resolvedOptions().hour12, r = t.formatRangeToParts(n, e), s = i && n.getMinutes() === 0, o = i && e.getMinutes() === 0, a = i && wq(r); let l = "", u = !1; return r.forEach(c => { if (c.type === "month" || c.type === "year" || c.type === "day" || c.type === "second") { u = !0; return } (c.type === "hour" || c.type === "minute") && (u = !1), !u && (c.type === "literal" && c.value === " " || a && c.source === "startRange" && c.type === "dayPeriod" || s && c.source === "startRange" && (c.type === "minute" || c.type === "literal") || o && c.source === "endRange" && (c.type === "minute" || c.type === "literal") || (l += c.value)) }), l } function wq(n) { let e; for (const t of n) if (t.source === "startRange" && t.type === "dayPeriod") e = t.value; else if (t.source === "endRange" && t.type === "dayPeriod" && e === t.value) return !0; return !1 } function el(n) { var e; return n ? (e = new Date(n).toISOString().split("T")) === null || e === void 0 ? void 0 : e[0] : null } function IE(n, e, t = !0) { if (!n) return null; const i = nt.languageTag(e), r = new Date(Date.parse(n)), s = Dq(r); let o; if (s === 0 ? o = "FUSE.PlaylistLastUpdated.UpdatedToday" : s === 1 ? o = "FUSE.PlaylistLastUpdated.UpdatedYesterday" : s < 7 ? o = kq(r, e) : s < 14 ? o = "FUSE.PlaylistLastUpdated.UpdatedLastWeek" : s < 21 && (o = "FUSE.PlaylistLastUpdated.UpdatedTwoWeeksAgo"), !o) return null; const l = Ge(Ue.localization, e).string(o); return t ? l.toLocaleUpperCase(i) : l } function kq(n, e) { const t = n.getDay(); switch (t) { case 0: return "FUSE.PlaylistLastUpdated.UpdatedSunday"; case 1: return "FUSE.PlaylistLastUpdated.UpdatedMonday"; case 2: return "FUSE.PlaylistLastUpdated.UpdatedTuesday"; case 3: return "FUSE.PlaylistLastUpdated.UpdatedWednesday"; case 4: return "FUSE.PlaylistLastUpdated.UpdatedThursday"; case 5: return "FUSE.PlaylistLastUpdated.UpdatedFriday"; case 6: return "FUSE.PlaylistLastUpdated.UpdatedSaturday"; default: return de.error(e, "Invalid day of the week number", t.toString()), null } } function O3(n) { const e = new Date(n); return e.setUTCHours(0, 0, 0, 0), e } function Dq(n) { const e = O3(n); return (O3(new Date).getTime() - e.getTime()) / (1e3 * 3600 * 24) } function Sq(n, e) { return n.getFullYear() === e.getFullYear() && n.getMonth() === e.getMonth() && n.getDate() === e.getDate() } function Cq(n) { switch (n.platform) { case "iOS": switch (n.deviceModel) { case "iPad": return "ipad"; default: return "iphone" }case "macOS": return "desktop"; case "tvOS": return "appletv"; case "watchOS": return "watch"; case "web": return "web"; case "Windows": return "desktop"; default: return "iphone" } } var hn; (function (n) { n.OmitCropCode = "c", n.OmitFileExtension = "f" })(hn || (hn = {})); class Rs { constructor(e) { this.shouldIncludeLanguage = !0, this.shouldIncludePlatform = !0, this.shouldIncludeFormatResourcesMap = !0, this.shouldIncludeTimezoneOffset = !1, this.parameters = {}, this._objectGraph = e, mt.shouldOmitFileExtensionFromImages(e) && this.artworkURL.add(hn.OmitFileExtension) } get encodedString() { const e = this.object(); return Object.entries(e).sort().map(([t, i]) => `${encodeURIComponent(t)}=${encodeURIComponent(i)}`).join("&") } addParameters(e) { Object.assign(this.parameters, e) } get extend() { return this._extend || (this._extend = new Set), this._extend } get with() { return this._with || (this._with = new Set), this._with } get types() { return this._types || (this._types = new Set), this._types } get sparse() { return this._sparse || (this._sparse = new Set), this._sparse } get displayFilterKind() { return this._displayFilterKind || (this._displayFilterKind = new Set), this._displayFilterKind } get artworkURL() { return this._artworkURL || (this._artworkURL = new Set), this._artworkURL } get views() { return this._views || (this._views = new Set), this._views } object() { const e = { ...this.parameters }; if (this._extend && this._extend.size > 0 && (e.extend = Rs.commaSeparatedStringFromSet(this._extend)), this._with && this._with.size > 0 && (e.with = Rs.commaSeparatedStringFromSet(this._with)), this._types && this._types.size > 0 && (e.types = Rs.commaSeparatedStringFromSet(this._types)), this._sparse && this._sparse.size > 0 && (e.sparse = Rs.commaSeparatedStringFromSet(this._sparse)), this._views && this._views.size > 0 && (e.views = Rs.commaSeparatedStringFromSet(this._views)), this._displayFilterKind && this._displayFilterKind.size > 0 && (e["displayFilter[kind]"] = Rs.commaSeparatedStringFromSet(this._displayFilterKind)), this._artworkURL && this._artworkURL.size > 0 && (e["art[url]"] = Rs.commaSeparatedStringFromSet(this._artworkURL)), this.shouldIncludeLanguage && (e.l = nt.languageTag(this._objectGraph)), this.shouldIncludePlatform) { const t = Ge(Ue.host, this._objectGraph); e.platform = Cq(t) } return this.shouldIncludeFormatResourcesMap && (e["format[resources]"] = "map"), this.shouldIncludeTimezoneOffset && (e.timezone = pq()), e } static commaSeparatedStringFromSet(e) { return Array.from(e).sort().join(",") } } class je { constructor(e, t, i) { this.path = e, this._objectGraph = t, this.domain = i != null ? i : nt.ampMusicAPIDomainsDefault(t) } get queryString() { return this._queryString || (this._queryString = new Rs(this._objectGraph)), this._queryString } get string() { var e; const t = `https://${this.domain}`, i = hc(t, this.path); return mq(i, (e = this.queryString) === null || e === void 0 ? void 0 : e.encodedString) } } const ME = "xp_its_music_main", Ve = mr.notInstrumented(0), Pq = { defaultTopic: ME, defaultIncludeRequests: { click: ["pageFields", "languages"], page: ["pageFields", "languages"], search: ["pageFields", "languages"], impressions: ["pageFields", "languages"], media: ["pageFields", "languages"], pageRender: ["pageFields", "languages"] }, defaultExcludeRequests: { click: [], page: [], search: [], impressions: [], media: [], pageRender: [] }, shouldFlush: null }; let Aq = class { constructor() { this.configuration = Pq } }; function un(n, e, t, i, r, s) { r = { ...r, ...s }, r.actionType = i; const o = Ge(Ue.metrics, n), a = PE(e, t, r, o.configuration); return a.fields.eventVersion = 5, { data: [a], custom: s != null ? s : {} } } function Zs(n, e, t, i, r, s) { var o, a; const u = (a = (o = e.identifiers.storeAdamID) !== null && o !== void 0 ? o : SE(e)) !== null && a !== void 0 ? a : "0"; return r = { ...r }, r.actionDetails || (r.actionDetails = {}), e.kind && (r.actionDetails.kind = e.kind), e.url && (r.actionUrl = e.url), un(n, u, t, i, r, s) } function Eq(n, e) { return yt(e) ? null : `${n}_${e}` } function tn(n, e, t, i, r = null, s = null, o) { var a, l, u, c, d, f; const g = o != null ? o : {}, h = (l = (a = e.body) === null || a === void 0 ? void 0 : a.data) === null || l === void 0 ? void 0 : l[0], m = s != null ? s : h == null ? void 0 : h.id; h && (g.pageUrl = (d = (c = (u = r == null ? void 0 : r.resource(h)) === null || u === void 0 ? void 0 : u.attributes) === null || c === void 0 ? void 0 : c.url) !== null && d !== void 0 ? d : new je((f = h.href) !== null && f !== void 0 ? f : "", n).string), g.pageType = i, t && (g.pageFeatureName = t), m && (g.pageId = m); const v = Eq(i, m); return v && (g.page = v), { instructions: [{ data: { topic: ME, shouldFlush: !1, fields: { eventType: "page" }, includingFields: ["pageFields", "languages"], excludingFields: [] }, invocationPoints: [mr.PageInvocationPoint.pageEnter] }], pageFields: g, custom: {} } } function co(n) { return { ...n, $kind: "SocialProfilePageIntent" } } var z; (function (n) { n.Accounts = "accounts", n.Activities = "activities", n.Albums = "albums", n.AppleCurators = "apple-curators", n.Artists = "artists", n.Composers = "composers", n.Collaborators = "collaborators", n.CollaborationReactions = "reactions", n.Curators = "curators", n.EditorialItems = "editorial-items", n.EditorialElements = "editorial-elements", n.Genres = "genres", n.Groupings = "groupings", n.LibraryArtists = "library-artists", n.LibraryAlbums = "library-albums", n.LibraryMusicVideos = "library-music-videos", n.LibraryPlaylists = "library-playlists", n.LibraryPlaylistFolders = "library-playlist-folders", n.LibrarySongs = "library-songs", n.Lyrics = "lyrics", n.MarketingItems = "marketing-items", n.MultiRooms = "multirooms", n.MusicMovies = "music-movies", n.MusicVideos = "music-videos", n.PersonalRecommendation = "personal-recommendation", n.PersonalSocialProfiles = "personal-social-profiles", n.Playlists = "playlists", n.RecordLabels = "record-labels", n.RoleCategories = "role-categories", n.Rooms = "rooms", n.SocialProfiles = "social-profiles", n.SocialUpsells = "social-upsells", n.Songs = "songs", n.Stations = "stations", n.StationEvents = "station-events", n.TastePreferences = "taste-preferences", n.TVEpisodes = "tv-episodes", n.TVSeasons = "tv-seasons", n.TVShows = "tv-shows", n.UploadedAudios = "uploaded-audios", n.UploadedVideos = "uploaded-videos" })(z || (z = {})); function yl(n) { switch (n) { case z.LibraryAlbums: case z.LibraryArtists: case z.LibraryMusicVideos: case z.LibraryPlaylists: case z.LibraryPlaylistFolders: case z.LibrarySongs: return !0; default: return !1 } } function Iq(n) { return !yl(n.type) } function Mq(n) { switch (n) { case z.Collaborators: case z.SocialProfiles: case z.PersonalSocialProfiles: return !0; default: return !1 } } function LE(n) { var e, t, i; return (t = (e = n == null ? void 0 : n.plainEditorialNotes) === null || e === void 0 ? void 0 : e.tagline) !== null && t !== void 0 ? t : (i = n == null ? void 0 : n.editorialNotes) === null || i === void 0 ? void 0 : i.tagline } function An(n) { var e, t, i, r, s; return (r = (t = (e = n == null ? void 0 : n.plainEditorialNotes) === null || e === void 0 ? void 0 : e.short) !== null && t !== void 0 ? t : (i = n == null ? void 0 : n.editorialNotes) === null || i === void 0 ? void 0 : i.short) !== null && r !== void 0 ? r : (s = n == null ? void 0 : n.description) === null || s === void 0 ? void 0 : s.short } function As(n) { var e, t, i, r, s; return (r = (t = (e = n == null ? void 0 : n.plainEditorialNotes) === null || e === void 0 ? void 0 : e.standard) !== null && t !== void 0 ? t : (i = n == null ? void 0 : n.editorialNotes) === null || i === void 0 ? void 0 : i.standard) !== null && r !== void 0 ? r : (s = n == null ? void 0 : n.description) === null || s === void 0 ? void 0 : s.standard } var N3; (function (n) { n.Inline = "INLINE" })(N3 || (N3 = {})); function nr(n) { return (n == null ? void 0 : n.type) === z.Stations } function _i(n) { var e; return nr(n) && ((e = n == null ? void 0 : n.attributes) === null || e === void 0 ? void 0 : e.streamingRadioSubType) === "Episode" } function Lr(n) { var e, t, i; return nr(n) && ((e = n == null ? void 0 : n.attributes) === null || e === void 0 ? void 0 : e.isLive) === !0 && ((i = (t = n == null ? void 0 : n.attributes) === null || t === void 0 ? void 0 : t.playParams) === null || i === void 0 ? void 0 : i.format) === "stream" } function Tr(n) { var e, t, i, r, s, o, a; return nr(n) && (((t = (e = n == null ? void 0 : n.attributes) === null || e === void 0 ? void 0 : e.playParams) === null || t === void 0 ? void 0 : t.streamingKind) === 2 || ((i = n == null ? void 0 : n.attributes) === null || i === void 0 ? void 0 : i.isLive) === !0 && ((s = (r = n == null ? void 0 : n.attributes) === null || r === void 0 ? void 0 : r.playParams) === null || s === void 0 ? void 0 : s.streamingKind) === void 0 && ((a = (o = n == null ? void 0 : n.attributes) === null || o === void 0 ? void 0 : o.playParams) === null || a === void 0 ? void 0 : a.hasDrm) === !1) } const ng = (n, e) => { var t, i, r; if (!yl(n.type) || !(!((r = (i = (t = n.relationships) === null || t === void 0 ? void 0 : t.catalog) === null || i === void 0 ? void 0 : i.data) === null || r === void 0) && r.length)) return; const s = n.relationships.catalog.data[0]; return e.resource(s) }; function TE(n, e) { switch (n) { case z.LibraryAlbums: case z.Albums: return x.Album; case z.AppleCurators: return x.AppleCurator; case z.LibraryArtists: case z.Composers: case z.Artists: case z.RoleCategories: return x.Artist; case z.EditorialItems: return x.EditorialItem; case z.Playlists: case z.LibraryPlaylists: return x.Playlist; case z.LibraryPlaylistFolders: return x.PlaylistFolder; case z.MusicMovies: return x.Movie; case z.LibraryMusicVideos: case z.MusicVideos: return x.MusicVideo; case z.Collaborators: case z.CollaborationReactions: case z.SocialProfiles: return x.SocialProfile; case z.PersonalSocialProfiles: return x.SocialProfile; case z.LibrarySongs: case z.Songs: case z.Lyrics: return x.Song; case z.Stations: return x.RadioStation; case z.RecordLabels: return x.RecordLabel; case z.TVShows: return x.TVShow; case z.TVEpisodes: return x.TVEpisode; case z.UploadedAudios: return x.ArtistUploadedSong; case z.UploadedVideos: return x.ArtistUploadedVideo; case z.Curators: return x.Curator; case z.Accounts: case z.Activities: case z.EditorialElements: case z.Genres: case z.Groupings: case z.MarketingItems: case z.MultiRooms: case z.PersonalRecommendation: case z.Rooms: case z.SocialUpsells: case z.StationEvents: case z.TastePreferences: case z.TVSeasons: return de.warn(e, `A ContentKind could not be found for a MediaAPI resource type "${n}".`), null } } function rt(n, e, t) { var i, r, s, o; const a = TE(n.type, e); if (!a) return null; const l = ig(n.type, a, n.id), u = (r = (i = n.attributes) === null || i === void 0 ? void 0 : i.url) !== null && r !== void 0 ? r : (s = n.attributes) === null || s === void 0 ? void 0 : s.postUrl; if (l.url = u, t && yl(n.type)) { const c = ng(n, t); !((o = c == null ? void 0 : c.attributes) === null || o === void 0) && o.url && (l.catalogUrl = c.attributes.url), c != null && c.id && (l.identifiers = { ...l.identifiers, storeAdamID: c == null ? void 0 : c.id }) } return l } function mc(n, e) { const t = TE(n.type, e); return t ? ig(n.type, t, n.id) : null } function ig(n, e, t) { return n === z.LibraryAlbums ? { kind: e, identifiers: { storeCloudAlbumID: t } } : yl(n) ? { kind: e, identifiers: { cloudUniversalLibraryID: t } } : Mq(n) ? { kind: e, identifiers: { socialProfileID: t } } : { kind: e, identifiers: { storeAdamID: t } } } var vt; (function (n) { n.CatalogItemDetailPage = "catalogItemDetailPage", n.CatalogPage = "catalogPage", n.LibraryPage = "libraryPage", n.LibraryItemDetailPage = "libraryItemDetailPage", n.GenerativeMixSuggestionPage = "generativeMixSuggestionPage", n.NavigationControllerRootPage = "navigationControllerRootPage", n.OnboardingPage = "onboardingPage", n.SearchResults = "searchResults" })(vt || (vt = {})); function Lq(n) { var e, t; let i; switch (n.kind) { case vt.CatalogItemDetailPage: i = `CatalogDetailPage: ${up(n.contentDescriptor)} ${(e = n.prominentItemIdentifier) !== null && e !== void 0 ? e : ""}`; break; case vt.CatalogPage: i = `CatalogPage: Intent: ${n.intent.$kind}`; break; case vt.LibraryPage: i = `LibraryPage: Intent: ${n.intent.$kind}`; break; case vt.LibraryItemDetailPage: i = `LibraryDetailPage: ${up(n.contentDescriptor)} ${(t = n.prominentItemIdentifier) !== null && t !== void 0 ? t : ""}`; break; case vt.NavigationControllerRootPage: i = "TabRoot"; break; case vt.OnboardingPage: i = "OnboardingPage"; break; case vt.SearchResults: i = `SearchResults: ${n.searchParameters.term}`; break }return `FlowAction: ${i != null ? i : ""}` } function ws(n) { return (n == null ? void 0 : n.$kind) === "flowAction" } function At(n, e) { return { $kind: "flowAction", destination: n, actionMetrics: e } } function Tq(n, e, t = null, i, r, s) { const o = Zs(i, n, e, "navigate", s, r); switch (n.kind) { case x.Album: case x.Playlist: case x.Artist: return At({ kind: vt.LibraryItemDetailPage, contentDescriptor: n, prominentItemIdentifier: t }, o); default: return de.warn(i, `No FlowAction for content descriptor with kind: "${n.kind}".`), null } } function RE(n, e, t = null, i, r, s, o) { const a = Zs(i, n, e, "navigate", s, r); switch (n.kind) { case x.Album: case x.Artist: case x.MusicVideo: case x.Movie: case x.TVEpisode: case x.TVShow: case x.AppleCurator: case x.Curator: case x.ArtistUploadedSong: case x.ArtistUploadedVideo: return At({ kind: vt.CatalogItemDetailPage, contentDescriptor: n, prominentItemIdentifier: t }, a); case x.Playlist: return At({ kind: vt.CatalogItemDetailPage, contentDescriptor: n, prominentItemIdentifier: t, collaborationRequest: o }, a); case x.RecordLabel: return At({ kind: vt.CatalogPage, intent: DE(n) }, a); case x.SocialProfile: return At({ kind: vt.CatalogPage, intent: co({ contentDescriptor: n }) }, a); case x.Song: return At({ kind: vt.CatalogPage, intent: jf(n) }, a); case x.RadioStation: return mt.hasPlatformSpecificRadioStationPage(i) ? At({ kind: vt.CatalogItemDetailPage, contentDescriptor: n, prominentItemIdentifier: t }, a) : null; default: return de.warn(i, `No FlowAction for content descriptor with kind: "${n.kind}".`), null } } function _o(n, e, t = null, i, r, s) { const o = vl(n); return o.has("library") ? Tq(n, e, t, i, r, s) : o.has("catalog") ? RE(n, e, t, i, r, s) : (de.warn(i, `Couldn't create flow action, content descriptor has no identifier: "${n.kind}".`), null) } function pc(n, e, t = null, i, r, s) { var o; const a = (o = n.attributes) === null || o === void 0 ? void 0 : o.url; if (yt(a)) return de.warn(e, `No url in resource with id "${n.id}" and type "${n.type}". Could not create FlowAction.`), null; const l = r != null ? r : "link", u = _c(a, n.id, l, e, !1, i, s); if (u) return u; const c = rt(n, e); return c ? _o(c, l, t, e, i) : (de.warn(e, `No content descriptor in resource with id '${n.id}' and type '${n.type}'. Could not create FlowAction.`), null) } function _c(n, e, t, i, r = !1, s, o) { if (!n) return null; const a = { ...o, actionUrl: n }, l = un(i, e != null ? e : "0", t, "navigate", a, s), c = Ge(Ue.router, i).intentFor(n); if (!c) { de.warn(i, `No intent for url '${n}'. Couldn't create a segue.`); return } const f = Ge(Ue.intentDispatcher, i).actionFor(c, i, { metrics: l, isDeepLinkAction: r }); return tt(f) ? f : (de.warn(i, `Couldn't create a segue for URL '${n}'.`), null) } class Rq { constructor(e) { this.$intentKind = null, this.objectGraph = e } actionFor(e, t, i) { if (lp(e, "contentDescriptor") && xo(e.contentDescriptor)) { const s = lp(e, "prominentItemIdentifier") ? e.prominentItemIdentifier : null, o = _o(e.contentDescriptor, "unknown", s, this.objectGraph); if (tt(o)) return o } const r = { kind: vt.CatalogPage, intent: e }; return At(r, i.metrics) } } function Fq(n, e) { const t = n.match(/^(\d+)([A-Z]+)(\d+)([a-z]*)$/); if (!t) return de.error(e, `Unable to construct components for os version string: '${n}'`), null; const [, i, r, s, o] = t, a = parseInt(i, 10); if (isNaN(a)) return de.error(e, `Expected major number to be a number: ${n}`), null; let l = !1, u = s; u.length === 4 && (l = s[0] === "5", u = s.substring(1)); const c = parseInt(u, 10); return isNaN(c) ? (de.error(e, `Expected minor number to be a number: ${n}`), null) : { majorNumber: a, majorLetter: r, minorNumber: c, isSeedBuild: l, ...o !== "" && { minorLetter: o } } } function P0(n, e) { var t, i; if (!n) return !1; const r = Oq(e); return r ? r.majorNumber !== n.majorNumber ? r.majorNumber > n.majorNumber : r.majorLetter !== n.majorLetter ? r.majorLetter > n.majorLetter : r.minorNumber !== n.minorNumber ? r.minorNumber > n.minorNumber : ((t = r.minorLetter) !== null && t !== void 0 ? t : "") >= ((i = n.minorLetter) !== null && i !== void 0 ? i : "") : !1 } function Oq(n) { const e = Ge(Ue.host, n); return Fq(e.osBuild, n) } function rg(n) { return Ge(Ue.host, n).platform === "macOS" } function A0(n) { const e = Ge(Ue.host, n); return e.platform === "iOS" || e.platform === "macOS" || e.platform === "tvOS" || e.platform === "watchOS" } function E0(n) { return Ge(Ue.host, n).platform === "web" } var Tu; (function (n) { n.Explicit = "explicit" })(Tu || (Tu = {})); function FE(n) { const e = n.optional(Ue.restrictionsController); return (e == null ? void 0 : e.isExplicitContentRestricted) === !0 } function Nq(n) { const e = n.optional(Ue.restrictionsController); return (e == null ? void 0 : e.isSocialDisabled) === !0 } function Vt(n) { return (n == null ? void 0 : n.contentRating) === Tu.Explicit } function Rr(n) { return Ge(Ue.subscriptionStatusCoordinator, n).subscriptionStatus } function rs(n) { const e = Rr(n); return tt(e) && e.accountStatus === "subscribed" } function OE(n) { var e; const t = Rr(n), i = (e = t == null ? void 0 : t.rawResponse) === null || e === void 0 ? void 0 : e.userStorefront; if (i) { const s = n.required(Ue.bag).bagImplementation.storefront; return rs(n) && i.toLowerCase() === (s == null ? void 0 : s.toLowerCase()) } return !1 } function sg(n) { var e; if (!A0(n) && !E0(n)) return !1; const t = Rr(n), i = (e = t == null ? void 0 : t.rawResponse) === null || e === void 0 ? void 0 : e.music; return (t == null ? void 0 : t.accountStatus) === "glide" || (i == null ? void 0 : i.status) === "Glide" || (i == null ? void 0 : i.isInGlidePreview) === !0 } function NE(n) { var e; const t = (e = Rr(n)) === null || e === void 0 ? void 0 : e.capabilities; return new Set(t) } function Qs(n) { const e = Rr(n); return tt(e == null ? void 0 : e.accountIdentifier) } function wl(n) { return Qs(n) && NE(n).has("fullCatalogPlayback") && !Bq(n) && !Nq(n) && nt.musicFriendsExists(n) } function Bq(n) { const e = Rr(n); return (e == null ? void 0 : e.isMinor) === !0 } function Uq(n) { const e = nt.musicTabs(n); if (!e) return null; const t = Rr(n); if (!t) return null; switch (t.accountStatus) { case "subscribed": return e.subscriber; case "glide": return e.voiceSubscriber; default: return e.undecided } } function Hq(n) { return n.$kind === "openFinancePageAction" } function $q(n) { return `OpenFinancePageAction: ${n.url}` } function Qo(n, e, t, i) { return { $kind: "openFinancePageAction", id: e, url: n, actionMetrics: t, metricsOverlay: i, data: null } } function I0(n, e, t) { var i, r; const s = zq(n, t), a = { ...{ app: "com.apple.Music", topic: "xp_its_music_main", dsId: (r = (i = Rr(t)) === null || i === void 0 ? void 0 : i.accountIdentifier) !== null && r !== void 0 ? r : "" }, ...Vq(n) }; return Qo(s, "finance-app", e, a) } function Vq(n) { const e = n == null ? void 0 : n.metrics; return e ? { precedingMarketing: e } : null } function zq(n, e) { const t = n == null ? void 0 : n.url; return t || (de.warn(e, "Marketing item offer missing url."), "https://finance-app.itunes.apple.com/subscribe") } function qq(n, e) { var t, i, r, s, o, a, l, u, c, d, f, g; const h = (u = (r = (i = (t = n.meta) === null || t === void 0 ? void 0 : t.metrics) === null || i === void 0 ? void 0 : i.reco_id) !== null && r !== void 0 ? r : (l = (a = (o = (s = n.relationships) === null || s === void 0 ? void 0 : s.children) === null || o === void 0 ? void 0 : o.meta) === null || a === void 0 ? void 0 : a.metrics) === null || l === void 0 ? void 0 : l.reco_id) !== null && u !== void 0 ? u : (g = (f = (d = (c = n.relationships) === null || c === void 0 ? void 0 : c.contents) === null || d === void 0 ? void 0 : d.meta) === null || f === void 0 ? void 0 : f.metrics) === null || g === void 0 ? void 0 : g.reco_id; return h || n.type === z.PersonalRecommendation && de.warn(e, `Personal recommendation with id '${n.id}' missing recoID.`), h } function wi(n, e) { var t, i, r, s, o, a, l, u, c; if (n.type !== z.EditorialElements) return null; const d = (o = (s = (r = (i = (t = n.relationships) === null || t === void 0 ? void 0 : t.children) === null || i === void 0 ? void 0 : i.meta) === null || r === void 0 ? void 0 : r.metrics) === null || s === void 0 ? void 0 : s.reco_id) !== null && o !== void 0 ? o : (c = (u = (l = (a = n.relationships) === null || a === void 0 ? void 0 : a.contents) === null || l === void 0 ? void 0 : l.meta) === null || u === void 0 ? void 0 : u.metrics) === null || c === void 0 ? void 0 : c.reco_id; return d || de.warn(e, `Editorial element with id '${n.id}' missing recoID.`), d } function vo(n, e) { var t, i; if (n.type !== z.PersonalRecommendation) return null; const r = (i = (t = n.meta) === null || t === void 0 ? void 0 : t.metrics) === null || i === void 0 ? void 0 : i.reco_id; return r || de.warn(e, `Personal recommendation with id '${n.id}' missing recoID.`), r } function Wq(n, e) { var t, i; const r = (i = (t = n == null ? void 0 : n.meta) === null || t === void 0 ? void 0 : t.metrics) === null || i === void 0 ? void 0 : i.reco_id; return r || de.warn(e, "Music API response body missing recoID."), r } function BE(n, e) { const t = Wq(n, e); return bo(t) } function bo(n) { return n ? { recoID: n } : null } class ki { static financeUrl(e, t) { if (e) { const i = nt.commerceAppBaseURL(t); return tt(i) ? new Ln(i) : null } else { const i = nt.marketingItemDynamicUIURL(t); return tt(i) ? new Ln(`${i}&serviceType=music`) : null } } static isFinancePath(e, t) { const i = nt.commerceAppURLPath(t); if (yt(i)) return !1; const r = []; return Object.entries(i).forEach(([s, o]) => { const a = Object.keys(o).map(l => l.toLowerCase()); r.push(...a) }), r.indexOf(e.toLowerCase()) > -1 } static commerceAppPathForMusicDeepLinkKey(e, t) { var i, r; return (r = (i = nt.commerceAppURLPath(t)) === null || i === void 0 ? void 0 : i.musicDeeplinks) === null || r === void 0 ? void 0 : r[e] } static commerceAppPathForMusicInternalKey(e, t) { var i, r; return (r = (i = nt.commerceAppURLPath(t)) === null || i === void 0 ? void 0 : i.musicInternal) === null || r === void 0 ? void 0 : r[e] } static isCommerceAppHost(e, t) { const i = nt.commerceAppBaseURL(t); return tt(i) && e.toString().indexOf(i) > -1 } static actionToOpenSharedListeningUpsell(e) { const t = { platform: "mac", placement: ki.DynamicAMSUIUrlPlacements.MusicSharedListenUpsell }; let i = ki.financeUrl(!1, e); return tt(i) ? (i = i.append("query", t), Qo(i.toString(), "finance-app", Ve)) : null } static actionToOpenPlaybackUpsell(e, t) { const i = { platform: "mac", placement: ki.DynamicAMSUIUrlPlacements.PlaybackUpsell }, r = e == null ? void 0 : e.identifiers.storeAdamID; r && (i.adamId = r); const s = e == null ? void 0 : e.kind; s && (i.contentType = s); let o = ki.financeUrl(!1, t); return tt(o) ? (o = o.append("query", i), Qo(o.toString(), "finance-app", Ve)) : null } static actionForUpsell(e, t, i, r) { let s = ki.financeUrl(i, r); if (yt(s)) return null; const o = { ...e.query, ...t }; return i ? s = new Ln(s.toString() + e.toString()) : yt(o.placement) && (o.placement = ki.DynamicAMSUIUrlPlacements.LaunchUpsell), s = s.append("query", o), Qo(s.toString(), "finance-app", Ve) } } ki.DynamicAMSUIUrlPlacements = { LaunchUpsell: "musicAppLaunch", ListenNow: "musicListenNowUpsell", PlaybackUpsell: "musicPlaybackUpsell", MusicPreBuy: "musicPreBuyFlow", MusicSharedListenUpsell: "musicSharedListenUpsell" }; ki.DynamicAMSUIOptionKeys = { OfferHint: "offerHints" }; ki.DynamicAMSUIOfferHints = { HomePod: "HOMEPOD", WinBack: "WINBACK", Retail: "RETAIL", Other: "OTHER" }; function tl(n) { return n.$kind === "playAction" } function Kq(n) { return `PlayAction: ${JSON.stringify(n.items)}` } function M0(n) { switch (n) { case x.EditorialItem: case x.Artist: case x.AppleCurator: case x.Curator: case x.RecordLabel: case x.SocialProfile: case x.TVShow: return !1; default: return !0 } } function Jq(n) { switch (n) { case x.RadioStation: case x.ArtistUploadedVideo: case x.ArtistUploadedSong: return !0; default: return !1 } } function L0(n) { switch (n) { case x.Song: case x.MusicVideo: case x.ArtistUploadedSong: case x.ArtistUploadedVideo: case x.TVEpisode: case x.Movie: return !0; default: return !1 } } function UE(n, e, t, i, r, s, o, a) { var l; if (n.length === 0 || n.findIndex(g => !M0(g.kind)) >= 0) return null; const u = n.findIndex(g => !L0(g.kind)) >= 0, c = n.map(g => ({ contentDescriptor: g })), d = bo(r), f = s != null ? s : "button"; return { $kind: "playAction", actionMetrics: Zs(e, i != null ? i : (l = c == null ? void 0 : c[0]) === null || l === void 0 ? void 0 : l.contentDescriptor, f, "play", a, d), items: c, containerContentDescriptor: i, groupingIdentifier: u ? null : t, featureName: o } } function Rt(n, e, t, i, r, s = !1) { const o = T0(n, e, s); if (o) return o; if (!n || !M0(n.kind)) return null; const a = bo(r); return { $kind: "playAction", actionMetrics: Zs(e, n, "button", "play", void 0, a), items: [{ contentDescriptor: n }], containerContentDescriptor: i, groupingIdentifier: L0(n.kind) ? t : null } } function Yq(n, e, t, i, r, s, o, a = !1) { var l; if (!s || !FE(e)) return Rt(n, e, t, i, o, a); if (!n || !M0(n.kind)) return null; const u = T0(n, e, a); if (u) return u; const c = bo(o), d = []; return s != null && s.data && ((l = r == null ? void 0 : r.resources(s.data)) === null || l === void 0 || l.forEach(g => { var h; if (g && ((h = g.attributes) === null || h === void 0 ? void 0 : h.contentRating) !== Tu.Explicit) { const m = rt(g, e, r); if (m) { const v = { contentDescriptor: m }; d.push(v) } } })), { $kind: "playAction", actionMetrics: Zs(e, n, "button", "play", void 0, c), items: d, containerContentDescriptor: i, groupingIdentifier: L0(n.kind) ? t : null } } function T0(n, e, t) { return rs(e) || sg(e) && t || n && Jq(n.kind) || mt.supportsPreviewPlayback(e) ? null : HE(n, e) } function HE(n, e) { const t = ki.actionToOpenPlaybackUpsell(n, e); return t ? Lt([t], Ve) : null } var bt; (function (n) { n.Home = "home", n.New = "new", n.Radio = "radio", n.Search = "search", n.Library = "library", n.Replay = "replay", n.PurchaseStore = "purchaseStore", n.Genres = "genres", n.Composers = "composers", n.MusicVideos = "musicVideos", n.TVAndMovies = "tvAndMovies", n.AllPlaylists = "allPlaylists", n.RecentlyAdded = "recentlyAdded", n.Artists = "artists", n.Albums = "albums", n.Songs = "songs", n.MadeForYou = "madeForYou", n.Playlist = "playlist" })(bt || (bt = {})); function $E(n) { return n.$kind === "setActiveNavigationControllerAction" } function Xq(n) { switch (n.id) { case vn.ListenNow: return { kind: bt.Home }; case vn.Browse: return { kind: bt.New }; case vn.Radio: return { kind: bt.Radio }; case vn.Search: return { kind: bt.Search }; case vn.Library: return { kind: bt.Library }; case vn.Replay: return { kind: bt.Replay }; case vn.LibraryRecentlyAdded: return { kind: bt.RecentlyAdded }; case vn.LibraryArtists: return { kind: bt.Artists }; case vn.LibraryAlbums: return { kind: bt.Albums }; case vn.LibrarySongs: return { kind: bt.Songs }; case vn.LibraryMadeForYou: return { kind: bt.MadeForYou }; case vn.LibraryPlaylist: return { kind: bt.Playlist, id: "" } } } function VE(n, e) { return n.some(t => t.kind === e.kind) } function Zq(n, e) { return e.find(t => VE(n, t)) } function ri(n, e, t) { var i; let r = n; const s = (i = Uq(t)) === null || i === void 0 ? void 0 : i.map(Xq); if (!s) de.error(t, "Available tabs missing."); else if (!VE(s, n)) { const o = Zq(s, [{ kind: bt.Search }, { kind: bt.Home }]); o ? (de.log(t, `Tab '${n.kind}' not available, falling back to '${o.kind}'.`), r = o) : de.error(t, `Unable to resolve tab '${n.kind}' from tabs available in bag ${JSON.stringify(s != null ? s : {})}`) } return { $kind: "setActiveNavigationControllerAction", navigationControllerIdentifier: r, actionMetrics: e } } function Qq(n, e) { const t = { ...n.navigationControllerIdentifier }; return t.kind = e, { $kind: "setActiveNavigationControllerAction", navigationControllerIdentifier: t, actionMetrics: n.actionMetrics } } function jq(n) { return `SelectTabAction: ${n.navigationControllerIdentifier.kind}` } function Gq(n) { return n.$kind === "setPersistenceItemAction" } function xq(n) { return `SetPersistenceItemAction: ${n.scope}.${n.key}` } function yo(n) { return (n == null ? void 0 : n.$kind) === "compoundAction" } function Lt(n, e) { return { $kind: "compoundAction", subactions: n, actionMetrics: e } } function zE(n) { return yo(n) ? cp(n) : ws(n) ? Lq(n.destination) : $E(n) ? jq(n) : Hq(n) ? $q(n) : Gq(n) ? xq(n) : tl(n) ? Kq(n) : n.$kind } function cp(n) { return `CompoundAction: ${n.subactions.map(zE).join(", ")}` } function eW(n) { return n ? yo(n) ? n : Lt([n], Ve) : null } var Vd; (function (n) { n.User = "user", n.Device = "device" })(Vd || (Vd = {})); function tW(n) { return n.toJSON() } function nW(n) { const e = new Date(n); return isNaN(e.getTime()) ? null : e } var Qr; (function (n) { (function (e) { e.RecentlySearchedItems = "RecentlySearchedItems", e.DetailSocialOnboardingUpsellDismissed = "DetailSocialOnboardingUpsellDismissed", e.LastStudentReverificationPrompt = "LastStudentReverificationPrompt" })(n.User || (n.User = {})), function (e) { }(n.Device || (n.Device = {})) })(Qr || (Qr = {})); class qE { static lastStudentReverificationPromptDate(e) { const i = Ge(Ue.storage, e).getItem(Qr.User.LastStudentReverificationPrompt); return typeof i != "string" ? null : nW(i) } static setLastStudentReverificationPromptDateAction(e, t) { return Ge(Ue.storage, t).setItemAction(Qr.User.LastStudentReverificationPrompt, tW(e)) } } class R0 { static urlForMusicDeepLinkKey(e, t) { const i = ki.financeUrl(!0, t); if (!i) return null; const r = ki.commerceAppPathForMusicDeepLinkKey(e, t); return r ? i.append("pathname", r) : null } } function iW(n, e) { var t, i; const r = (i = (t = n.rawResponse) === null || t === void 0 ? void 0 : t.account) === null || i === void 0 ? void 0 : i.studentExpirationDate; return r ? new Date(r) : null } const No = 60 * 60 * 24 * 7, rW = [{ secondsUntilExpiration: { start: No * 4, end: No * 3 }, promptCadence: "once" }, { secondsUntilExpiration: { start: No * 3, end: No * 2 }, promptCadence: "once" }, { secondsUntilExpiration: { start: No * 2, end: No }, promptCadence: "once" }, { secondsUntilExpiration: { start: No, end: 0 }, promptCadence: "daily" }]; function WE(n, e, t) { const i = t.getTime() - e.secondsUntilExpiration.start * 1e3, r = t.getTime() - e.secondsUntilExpiration.end * 1e3, s = n.getTime(); return !(s < i || s > r) } function sW(n, e, t) { const i = qE.lastStudentReverificationPromptDate(t); if (!i) return !0; switch (n.promptCadence) { case "once": return !WE(i, n, e); case "daily": return !Sq(i, new Date) } } function oW(n, e) { const t = iW(n); if (!t) return null; const i = new Date, r = rW.find(l => WE(i, l, t)); if (!r || !sW(r, t, e)) return null; const o = R0.urlForMusicDeepLinkKey("studentreverification", e); if (!o) return de.error(e, "Unable to construct Commerce App student reverification URL."), null; const a = [qE.setLastStudentReverificationPromptDateAction(i, e), Qo(o.toString(), "open-student-reverification", Ve)]; return Lt(a, Ve) } class aW { static promptPresentationAction(e) { const t = Rr(e); if (!t) return de.error(e, "Unable to present app prompt, subscription status is absent."), null; const i = [oW]; let r; for (; !r && i.length > 0;) { const s = i.shift(); s && (r = s(t, e)) } return r } } const lW = { $intentKind: "AppDidBecomeActiveIntent", async perform(n, e) { de.log(e, "App did become active."); const t = aW.promptPresentationAction(e); if (!t) return null; const i = eW(t); return i && de.log(e, `App launch prompt action: ${zE(i)}`), i } }, uW = { $intentKind: "AppDidFinishLaunchingIntent", async perform(n, e) { return de.log(e, "App did finish launching."), null } }, cW = { $intentKind: "AppWillResignActiveIntent", async perform(n, e) { return de.log(e, "App will resign active."), null } }; function KE(n, e) { const i = Object.keys(n).find(r => r.toLowerCase() === e.toLowerCase()); return i ? n[i] : null } function dW(n) { const e = KE(n, "Cache-Control"); if (!e) return null; const t = {}; return e.split(",").forEach(i => { const r = i.split("="); if (r.length === 1) { const s = r[0].trim(); t[s] = void 0 } else if (r.length === 2) { const s = r[0].trim(), o = r[1].trim(); t[s] = o } }), t } function fW(n, e) { const t = dW(n); if (!t) return de.warn(e, "Missing `cache-control` header"), null; const i = t["max-age"]; if (!i) return de.warn(e, "Missing `cache-control:max-age` header"), null; let r; if (E0(e)) r = new Date; else { const a = KE(n, "Date"); if (!a) return de.warn(e, "Missing `date` header"), null; r = new Date(a) } const s = parseInt(i, 10) * 1e3, o = r.getTime() + s; return new Date(o) } function pt(n, e) { return Ge(Ue.network, e).fetch(n).then(i => { if (!i.ok) { const l = new Error(`Bad Status code ${i.status} for ${n.url}`); throw Object.assign(l, { userInfo: { status: i.status, body: i.body } }), l } const r = i.body, s = tt(r) && r.length > 0; if (!s && n.method === "GET") throw new Error(`Empty response body for ${n.url}`); const o = fW(i.headers, e), a = i.metrics; return { body: s ? JSON.parse(r) : null, statusCode: i.status, expirationDate: o, metrics: a } }) } function Jt(n, e) { return pt({ url: n.string }, e) } function og(n) { var e; const t = n.metrics, i = t == null ? void 0 : t[t.length - 1]; return i && (e = i.responseWasCached) !== null && e !== void 0 ? e : !1 } async function gW(n) { return JE(ki.DynamicAMSUIUrlPlacements.ListenNow, 2, n) } async function JE(n, e, t) { const i = nt.countryCode(t), r = new je(`/v1/engagement/${i}/upsell/marketing-items`, t); return r.queryString.addParameters({ serviceType: "music", placement: n, limit: e.toString() }), A0(t) && r.queryString.with.add("voice"), Jt(r, t) } class gt { constructor(e, t) { this.resourceMap = e, this.objectGraph = t } resource(e, t = !0) { var i; if (!e) return null; const r = (i = this.resourceMap[e.type]) === null || i === void 0 ? void 0 : i[e.id]; return r || (t && de.warn(this.objectGraph, `Missing resource with "${e.id}" and type "${e.type}".`), null) } resourceWithID(e, t, i = !0) { return this.resource({ id: e, type: t }, i) } resources(e) { const t = []; return e.forEach(i => { const r = this.resource(i); r && t.push(r) }), t } resourcesAndIdentifiers(e) { const t = []; return e.forEach(i => { const r = this.resource(i); r && t.push([r, i]) }), t } optionalResourcesAndIdentifiers(e) { const t = []; return e.forEach(i => { const r = this.resource(i, !1); t.push([r, i]) }), t } resourcesForType(e) { const t = this.resourceMap[e]; if (!t) return []; const i = Object.keys(t).map(r => ({ id: r, type: e })); return i ? this.resources(i) : [] } addResources(e) { e.forEach(t => { var i; const r = (i = this.resourceMap[t.type]) !== null && i !== void 0 ? i : {}; r[t.id] = { ...r[t.id], ...t }, this.resourceMap[t.type] = r }) } addResourceMap(e, t) { if (!e) return; const i = new gt(e, t); Object.keys(e).forEach(s => { const o = i.resourcesForType(s); this.addResources(o) }) } } function hW(n) { switch (n) { case "listenNow": return null; case "browse": return "musicBrowseBanner"; case "searchLanding": case "searchResults": case "radio": return "musicRadioBanner" } } const mW = { $intentKind: "TabBannerIntent", async perform(n, e) { var t, i, r, s, o, a; const l = hW(n.identifier); if (!l) return Promise.resolve(null); if (rs(e)) return Promise.resolve(La(n)); const u = await JE(l, 1, e), c = u == null ? void 0 : u.body; if (!c) return de.error(e, `Response body not found for intent '${JSON.stringify(n)}'`), La(n); const d = c.resources; if (!d) return de.error(e, `No resources found for response '${JSON.stringify(u)}'`), La(n); const g = new gt(d, e).resource((i = (t = c == null ? void 0 : c.results) === null || t === void 0 ? void 0 : t.data) === null || i === void 0 ? void 0 : i[0]); if (!g) return de.error(e, `No marketing item resource found in response: '${JSON.stringify(u)}'`), La(n); const h = (r = g.attributes) === null || r === void 0 ? void 0 : r.title; if (!h) return de.error(e, `Title required for marketing items response: '${JSON.stringify(g)}'`), La(n); const m = (s = g.attributes) === null || s === void 0 ? void 0 : s.subtitle; if (!m) return de.error(e, `Subtitle required for marketing items response: '${JSON.stringify(g)}'`), La(n); const v = (a = (o = g.attributes) === null || o === void 0 ? void 0 : o.offers) === null || a === void 0 ? void 0 : a[0], b = I0(v, Ve, e), y = { title: h, subtitle: m, artwork: null, buttonTitle: v == null ? void 0 : v.callToActionLabel, buttonAction: b, bannerAction: b, invalidationRules: { eventTriggers: [{ events: [{ name: "subscriptionStatusChange" }], intent: n }] }, showsAppleMusicLogo: !0 }; return Promise.resolve(y) } }; function La(n, e) { return { invalidationRules: { eventTriggers: [{ events: [{ name: "subscriptionStatusChange" }], intent: n }] } } } function pW(n = Ve) { return { $kind: "popToRootAction", actionMetrics: n } } function pr(n, e, t, i = {}) { const r = ri(n, Ve, t); if (mt.hasGlobalNavigationStack(t)) return [r, e]; const { rootControllerActionMetrics: s } = i; if (s) { const o = At({ kind: vt.NavigationControllerRootPage }, s); return [r, o] } return [r, pW(Ve)] } function qt(n, e) { const t = e.optional(Ue.locale); return t ? t.normalize(n) : { storefront: nt.countryCode(e), language: null } } function _W(n) { const e = {}; for (const [t, i] of n) e[t] = i; return e } function Ei(n, e, t, i) { if (!e.startsWith("/")) throw new Error("generateRoutes: path must start with a /"); if (e.includes("{")) throw new Error("generateRoutes: path cannot contain parameters"); const r = { exclusions: i == null ? void 0 : i.exclusions }, s = t.slice(); return i != null && i.optionalQuery && s.push(...i.optionalQuery.map(o => `${o}?`)), { routes(o) { var a; return [{ rules: [{ ...r, path: e, query: ["l?", ...s] }, { ...r, path: `/{storefront}${e}`, query: ["l?", ...s] }, ...(a = i == null ? void 0 : i.extraRules) !== null && a !== void 0 ? a : []], handler(l, u) { return n({ ..._W(Object.entries(u).filter(([c]) => c !== "l")), ...qt({ storefront: u.storefront, language: u.l }, o) }) } }] }, makeCanonicalUrl(o) { const a = YE(e, o), l = t.slice(); l.sort((u, c) => u.localeCompare(c)); for (const u of l) { if (!(u in o)) throw new Error(`expected queryParmeters to contain: ${u}`); a.param(u, o[u]) } if (i != null && i.optionalQuery) { const u = i.optionalQuery.slice(); u.sort((c, d) => c.localeCompare(d)), u.forEach(c => { o[c] && a.param(c, o[c]) }) } return a.toString() } } } function js(n, e) { if (!e.startsWith("/")) throw new Error("generateDetailRoutes: path must start with a /"); if (!e.includes("/{id}")) throw new Error("generateDetailRoutes: path must contain /{id}"); if (/\{[^i]/.test(e)) throw new Error("generateDetailRoutes: path can only contain the {id} parameter"); return { routes(t) { return [{ rules: [{ path: e, query: ["l?"] }, { path: `/{storefront}${e}`, query: ["l?"] }], handler(i, r) { return n({ id: r.id, ...qt({ storefront: r.storefront, language: r.l }, t) }) } }] }, makeCanonicalUrl(t) { return YE(e.replace("{id}", encodeURIComponent(t.id)), t).toString() } } } function YE(n, e) { const t = new Ln("https://music.apple.com"), { storefront: i, language: r } = e; return tt(i) && t.path(i), t.path(n.substr(1)), tt(r) && t.param("l", r), t } const Hn = { crop: "bb", fileType: "png", height: 630, width: 1200, quality: 60 }, Ai = { url: "/assets/meta/apple-music.png", width: 1200, height: 630 }, XE = "({w}|[0-9]+)x({h}|[0-9]+)", ZE = "{f}|([a-zA-Z]{3,4})", vW = "[A-z]{1,6}\\.[\\w]{1,8}", B3 = /-[0-9]+\.(\{f\}|[A-z]{2,4})$/, bW = new RegExp(ZE), U3 = new RegExp(`^${XE}([a-zA-Z]+)`), yW = new RegExp(`^${XE}(${vW})\\.(${ZE})`); function di(n, e, t) { let i = n; const { width: r, height: s, crop: o, fileType: a, quality: l } = e; return i = i.replace("{w}", r.toString()).replace("{h}", s.toString()), o && ((t == null ? void 0 : t.forceCropCode) !== !1 ? i = wW(i, o) : i = i.replace("{c}", o)), l && (i = kW(i, l)), a && (i = i.replace("{f}", a)), i } function wW(n, e) { const t = n.split("/"), i = t.pop(); let r = n; if (!i || yW.test(i)) return r; const s = i.match(U3), o = s ? s.pop() : null; if (e) { let a; o ? a = i.replace(U3, `$1x$2${e}`).replace(bW, "{f}") : a = i.replace("{c}", e), r = `${t.join("/")}/${a}` } return r } function nl(n) { var e; const { items: t, itemNumber: i } = n, r = (e = t == null ? void 0 : t.length) !== null && e !== void 0 ? e : i; if (!r || r === 0) return ".none"; switch (r) { case 1: return ".one"; case 2: return t ? ".two" : ".many"; default: return ".many" } } function Vn(n) { return mt.supportsSeoMetadata(n) } function Zi(n, e) { const t = []; return n && e && n.forEach(i => { const r = e.resource(i, !1); r && t.push(r) }), t } function fo(n, e) { return n ? e.resource(n[0]) : void 0 } function QE(n, e) { const t = []; return n != null && n.length && n.slice(0, e).forEach(i => { var r; !((r = i == null ? void 0 : i.attributes) === null || r === void 0) && r.name && t.push(i.attributes.name) }), t } function kW(n, e) { const t = /-\{q\}/.test(n), i = new Ln(n); if (!(i != null && i.pathname)) return n; const r = i.pathname.lastIndexOf("/"), s = i.pathname.substring(0, r); let o = decodeURI(i.pathname.substring(r)); if (e && t) o = o.replace("-{q}", `-${e}`); else if (e && !t) if (B3.test(o)) o = o.replace(B3, (l, u, c) => `-${u ? u.replace("-", "") : e}.${c}`); else { const l = o.lastIndexOf("."); o = `${o.substring(0, l)}-${e}${o.substring(l)}` } else !e && t && (o = o.replace("-{q}", "")); i.pathname = `${s}${o}`; let a = i.toString(); return a = `${a.substring(0, r)}${decodeURI(a.substring(r))}`, a } function ag(n, e) { if (n) return { url: n, title: e != null ? e : void 0 } } function mi(n, e) { if (n) return { "@type": e, expectsAcceptanceOf: { "@type": "Offer", category: "free" }, target: { "@type": "EntryPoint", actionPlatform: n } } } function jE(n, e) { var t; const i = (t = n == null ? void 0 : n.reduce((r, s) => { var o, a; const l = (a = (o = s.attributes) === null || o === void 0 ? void 0 : o.durationInMillis) !== null && a !== void 0 ? a : 0; return r + l }, 0)) !== null && t !== void 0 ? t : 0; return da(i, e) } function lg(n) { const e = Qe.string("FUSE.AppleMusic", n); return Qe.string("FUSE.Meta.Browse.PageTitle", n, { siteName: e }) } function bn(n, e) { const t = lg(e), i = Qe.string("FUSE.Meta.Browse.Description", e), r = DW(n); return { url: r, canonicalUrl: r, noIndex: !1, noFollow: !1, keywords: void 0, siteName: t, pageTitle: t, description: i, includeHrefLangTags: !1, fileType: Hn.fileType, artworkUrl: Ai.url, crop: Hn.crop, height: Ai.height, width: Ai.width, appleStoreId: "1108187390", appleStoreName: "Apple Music", appleContentId: void 0, appleTitle: t, appleDescription: i, socialDescription: Qe.string("FUSE.Meta.Browse.PageDescription.Social", e), socialTitle: Qe.string("FUSE.Meta.Browse.PageTitle.Social", e), ogType: void 0, twitterSite: "@AppleMusic", twitterCardType: "summary_large_image", twitterWidth: Hn.width, twitterHeight: Hn.height, twitterCropCode: Hn.crop, showOrgData: !1 } } function DW(n) { if (n) { const e = new Ln(n); return e != null && e.query && delete e.query.l, e.toString() } } function SW(n, e) { if (!Vn(e)) return n; const t = bn(n.canonicalURL, e); return t.showOrgData = !0, t.canonicalUrl = n.canonicalURL, t.includeHrefLangTags = !0, t.hrefLangPage = vn.Browse, { ...n, seoData: t } } function ur(n) { return { ...n, $kind: "BrowsePageIntent" } } function CW(n) { return n.$kind === "BrowsePageIntent" } function GE(n) { if (!Qs(n)) return de.log(n, "Not requesting recently played radio, user isn't signed in."), Promise.resolve(null); const e = new je("/v1/me/recent/radio-stations", n); return e.queryString.addParameters({ limit: "30", "include[stations]": "radio-show", "omit[resource]": "autos" }), pt({ url: e.string, cache: "no-cache" }, n) } var Zt; (function (n) { n.HeroListShelf = "316", n.Hero = "317", n.HeroCustom = "320", n.CopperSwoosh = "326", n.CopperTrackSwoosh = "327", n.RecentlyPlayedRadioMarker = "332", n.RoomSwoosh = "345", n.TabRoot = "382", n.AppleMusicOneHero = "383", n.BrickSwoosh = "385", n.Brick = "386", n.MasterSwoosh = "387", n.LinkList = "391", n.CustomBrick = "394", n.Paragraph = "404", n.SingularLink = "405", n.LiveRadioShelf = "488", n.LiveRadioShelfItem = "489" })(Zt || (Zt = {})); function PW(n) { switch (n) { case Zt.RecentlyPlayedRadioMarker: return !0; default: return !1 } } function xE(n) { switch (n) { case Zt.HeroListShelf: case Zt.CopperSwoosh: case Zt.CopperTrackSwoosh: case Zt.RecentlyPlayedRadioMarker: case Zt.LinkList: case Zt.LiveRadioShelf: case Zt.BrickSwoosh: case Zt.MasterSwoosh: case Zt.RoomSwoosh: case Zt.Paragraph: case Zt.SingularLink: return !0; default: return !1 } } var zt; (function (n) { n.BoundedBox = "bb", n.ConstrainedWidth = "w", n.ConstrainedHeight = "h", n.SourceSize = "ss", n.SpecificRectangle = "sr", n.SquareCenterCrop = "cc", n.HeroGalleryCrop = "vf", n.FixedArtworkCropCode = "ea", n.AlbumFallbackArt = "ac" })(zt || (zt = {})); var zd; (function (n) { n.Square = "square", n.Brick = "brick" })(zd || (zd = {})); function AW(n) { const t = Object.keys(n).find(i => tt(n[i])); return tt(t) } function st(n, e) { return yt(n) || !AW(n) ? null : { dictionary: n, cropStyle: e } } class EW { constructor(e) { this.itemIDs = new Set, this.sectionIDs = new Set, this.objectGraph = e, this.random = Ge(Ue.random, e) } uniqueItemID(e, t, i) { let r = `${e} - ${t}`; return (i || this.itemIDs.has(r)) && (i || de.warn(this.objectGraph, `Duplicate itemID '${r}'.`), r = `${r} - ${this.random.nextUUID()}`), this.itemIDs.add(r), r } uniqueSectionID(e) { let t = e; return this.sectionIDs.has(t) && (de.warn(this.objectGraph, `Duplicate sectionID '${t}'.`), t = `${t} - ${this.random.nextUUID()}`), this.sectionIDs.add(t), t } } const F0 = pn("idProvider"); function qe(n, e, t, i) { return Ge(F0, t).uniqueItemID(n, e, i) } function it(n, e) { return Ge(F0, e).uniqueSectionID(n) } function O0(n) { return { ...n, $kind: "LiveRadioSchedulePageIntent" } } function IW(n, e, t, i) { var r; const s = e.attributes; if (!s) return de.warn(i, `Dropping live radio item with id "${e.id}" and type "${e.type}", missing attributes.`), null; let o; const a = e.href; a && (o = At({ kind: vt.CatalogPage, intent: O0({ id: e.id, storefront: null, language: null }) }, un(i, "fullSchedule", "button", "navigate", { actionUrl: a }))); const l = qq(e, i), u = rt(e, i), c = Rt(u, i, null, null, l), d = c; let f = st(s.artwork, zt.SpecificRectangle); const g = (r = s.editorialArtwork) === null || r === void 0 ? void 0 : r.backgroundStatic1x1; return tt(g) && (f = st(g, zt.SpecificRectangle)), { lockup: { id: n, artwork: f, contentDescriptor: u, playAction: c, segue: d, secondaryAction: o, accessibilityLabel: s.name, recoID: l } } } function MW(n, e, t, i, r) { var s, o, a; const l = (a = (o = (s = n.relationships) === null || s === void 0 ? void 0 : s.contents) === null || o === void 0 ? void 0 : o.data) === null || a === void 0 ? void 0 : a[0]; if (!l) return de.warn(i, `Dropping horizontal poster lockup with id "${n.id}" and type "${n.type}", missing content resource identifier.`), null; const u = e.resource(l); if (!u) return de.warn(i, `Dropping horizontal poster lockup with id "${n.id}" and type "${n.type}", missing station resource.`), null; const c = qe(n.id, u.id, i); return IW(c, u, t, i) } function LW(n, e, t) { var i, r, s, o, a; const l = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.children) === null || r === void 0 ? void 0 : r.data; if (!l || l.length === 0) return de.warn(t, `Dropping live radio shelf with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const u = []; let c, d = []; const f = (s = n.attributes) === null || s === void 0 ? void 0 : s.subtitle; return tt(f) && (d = [f]), tt((o = n.attributes) === null || o === void 0 ? void 0 : o.title) && (c = { kind: "default", item: { titleLink: { title: (a = n.attributes) === null || a === void 0 ? void 0 : a.title }, subtitles: d } }), e.resources(l).forEach(g => { var h; let m; const v = (h = g.attributes) === null || h === void 0 ? void 0 : h.editorialElementKind; switch (v) { case Zt.LiveRadioShelfItem: m = MW(g, e, u.length, t); break; default: de.warn(t, `Dropping hero list item resource with id "${g.id}" and type "${g.type}", invalid editorialElementKind "${v}".`); break }m && u.push(m) }), u.length === 0 ? null : { id: n.id, itemKind: "liveRadioGridLockup", presentation: { kind: "collection", layout: { kind: "grid", flowStyle: "row" } }, items: u.map(g => g.lockup), displaySeparator: !1, header: c } } var cr; (function (n) { n.BoundedBox = "bb", n.SpecificRectangle = "sr", n.SquareCenterCrop = "cc" })(cr || (cr = {})); function TW(n) { const t = Object.keys(n).find(i => tt(n[i])); return tt(t) } function jr(n, e) { return yt(n) || !TW(n) ? null : { dictionary: n, cropStyle: e } } function ug(n) { return n ? n.replace("Apple Music", "Music") : null } function RW(n) { return n == null ? void 0 : n.replace(/\W+(.)/g, (e, t) => t.toUpperCase()) } function eI(n) { return n == null ? void 0 : n.trim().replace(/([A-Z])/g, "-$1").replace(/[-_\s]+/g, "-").toLowerCase() } function tI(n, e) { var t; const i = (t = n.attributes) === null || t === void 0 ? void 0 : t.endTime; if (!i) return de.warn(e, `Can't determine whether station event with id "${n.id}" ends in the future, missing end time ${i}".`), !1; const r = Date.now(); return new Date(i).getTime() > r } function N0(n, e) { var t, i; const r = (t = n.attributes) === null || t === void 0 ? void 0 : t.startTime, s = (i = n.attributes) === null || i === void 0 ? void 0 : i.endTime; if (!r || !s) return de.warn(e, `Can't determine whether event with id "${n.id}" is active, missing timings "${r} - ${s}".`), !1; const o = Date.now(); return !(new Date(r).getTime() > o || new Date(s).getTime() <= o) } function nI(n, e) { var t, i; const r = (t = n.attributes) === null || t === void 0 ? void 0 : t.startTime, s = (i = n.attributes) === null || i === void 0 ? void 0 : i.endTime; if (!r || !s) return de.warn(e, `Can't derive localized time range, station event with id "${n.id}" missing timings "${r} - ${s}".`), null; const o = new Date(r), a = new Date(s), l = bq(o, a, e); if (!N0(n, e)) return l; const u = Ge(Ue.localization, e), c = u.string("FUSE.Radio.Live"); return u.string("AMWEB.ContentA.Middot.ContentB", { contentA: c, contentB: l }) } function FW(n, e) { var t, i; const r = (t = n.attributes) === null || t === void 0 ? void 0 : t.startTime, s = (i = e.attributes) === null || i === void 0 ? void 0 : i.startTime, o = r ? new Date(r).getTime() : 0, a = s ? new Date(s).getTime() : 0; return o - a } function iI(n, e, t) { var i, r; const s = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.events) === null || r === void 0 ? void 0 : r.data; return s ? e.resources(s).sort(FW) : (de.warn(t, `Radio station with id "${n.id}" and type "${n.type}", missing station event resource identifiers.`), null) } function OW(n, e, t) { return { $kind: "RefreshLiveRadioShelfItemIntent", reason: n, station: e, orderedStationEvents: t } } function NW(n, e) { var t; const i = (t = e.attributes) === null || t === void 0 ? void 0 : t.startTime; return i ? n.find(r => { var s; return ((s = r.attributes) === null || s === void 0 ? void 0 : s.startTime) && new Date(r.attributes.startTime).getTime() > new Date(i).getTime() }) : null } function rI(n, e, t, i, r) { var s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C; const P = e.attributes; if (!P) return de.warn(i, `Dropping live radio item with id "${e.id}" and type "${e.type}", missing attributes.`), null; const M = t.filter(ge => tI(ge, i)), R = M.find(ge => N0(ge, i)); let F; const N = (o = (s = R == null ? void 0 : R.attributes) === null || s === void 0 ? void 0 : s.editorialVideo) === null || o === void 0 ? void 0 : o.motionMediumVideo16x9; N && (F = jr({ motionMediumVideo16x9: N }, cr.SpecificRectangle)); let O; const B = e.href, U = rt(e, i); if (t.length > 0 && B && U) { const ge = mt.userCanVisitDifferentStorefront(i); O = At({ kind: vt.CatalogPage, contentDescriptor: { ...U, url: `/radio/${e.id}` }, intent: O0({ id: e.id, storefront: ge ? nt.countryCode(i) : null, language: null }) }, un(i, "fullSchedule", "button", "navigate", { actionUrl: B })) } const K = Rt(U, i, null, null, r); let W; const Z = (u = (l = (a = R == null ? void 0 : R.relationships) === null || a === void 0 ? void 0 : a.curator) === null || l === void 0 ? void 0 : l.data) === null || u === void 0 ? void 0 : u[0]; if (Z) { const ge = mc(Z, i); ge && (W = _o(ge, "ShelfItem", null, i, null, { recoID: r })) } W || de.warn(i, `Station event with id '${R == null ? void 0 : R.id}' missing curator, no segue can be constructed.`); let Q; K && W ? Q = Lt([K, W], K.actionMetrics) : Q = K != null ? K : W; const G = Ge(Ue.localization, i), ae = (d = (c = P.artistName) !== null && c !== void 0 ? c : P.curatorName) !== null && d !== void 0 ? d : (f = P.plainEditorialNotes) === null || f === void 0 ? void 0 : f.tagline, ee = { id: n, heading: ug(P.name), subheading: ae, headline: R ? nI(R, i) : G.string("FUSE.Radio.Live"), title: (h = (g = R == null ? void 0 : R.attributes) === null || g === void 0 ? void 0 : g.title) !== null && h !== void 0 ? h : P.name, subtitle: R ? As(R.attributes) : ae, artwork: st((v = (m = R == null ? void 0 : R.attributes) === null || m === void 0 ? void 0 : m.heroArtwork) !== null && v !== void 0 ? v : (b = e.attributes) === null || b === void 0 ? void 0 : b.artwork, zt.SpecificRectangle), videoArtwork: F, contentDescriptor: U, playAction: K, segue: Q, scheduleSegue: O, accessibilityLabel: P.name }, pe = R && NW(M, R); let ke; const we = (y = R == null ? void 0 : R.attributes) === null || y === void 0 ? void 0 : y.endTime, Te = (k = pe == null ? void 0 : pe.attributes) === null || k === void 0 ? void 0 : k.startTime; if (pe && tt(Te)) { const Ce = `Station Event "${(C = (S = pe.attributes) === null || S === void 0 ? void 0 : S.title) !== null && C !== void 0 ? C : P.name}" starting.`, he = new Date(we).getTime() > new Date(Te).getTime(); ke = { events: [{ name: "expirationDate", date: new Date(he ? we : Te).toJSON() }], invalidatingItemIDs: [n], intent: OW(Ce, e, M) } } return { lockup: ee, invalidationEventTrigger: ke } } function BW(n, e, t) { var i, r, s; const o = (s = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.contents) === null || r === void 0 ? void 0 : r.data) === null || s === void 0 ? void 0 : s[0]; if (!o) return de.warn(t, `Dropping horizontal poster lockup with id "${n.id}" and type "${n.type}", missing content resource identifier.`), null; const a = e.resource(o); if (!a) return de.warn(t, `Dropping horizontal poster lockup with id "${n.id}" and type "${n.type}", missing station resource.`), null; const l = iI(a, e, t), u = qe(n.id, a.id, t), c = wi(n, t); return rI(u, a, l != null ? l : [], t, c) } function UW(n, e, t) { var i, r; const s = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.children) === null || r === void 0 ? void 0 : r.data; if (!s || s.length === 0) return de.warn(t, `Dropping live radio shelf with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const o = []; if (e.resources(s).forEach(l => { var u; let c; const d = (u = l.attributes) === null || u === void 0 ? void 0 : u.editorialElementKind; switch (d) { case Zt.LiveRadioShelfItem: c = BW(l, e, t); break; default: de.warn(t, `Dropping hero list item resource with id "${l.id}" and type "${l.type}", invalid editorialElementKind "${d}".`); break }c && o.push(c) }), o.length === 0) return null; const a = o.map(l => l.invalidationEventTrigger).filter(tt); return { id: n.id, itemKind: "horizontalPosterLockup", presentation: { kind: "collection", layout: { kind: "shelf", numberOfRows: 1 } }, items: o.map(l => l.lockup), invalidationRules: { eventTriggers: a }, displaySeparator: !1 } } function sI(n, e) { const t = e.reduce((i, r) => (r[n] !== void 0 && i.push(r[n]), i), []); return HW(t) } function HW(n) { if (n.length === 0) return; const e = n.reduce((t, i) => (t[i] = (t[i] || 0) + 1, t), {}); return Object.keys(e).reduce((t, i) => e[t] >= e[i] ? t : i) } function En(n, e, t, i) { var r; if (n && (i != null && i.external)) return H3(n, i.actionMetrics); const s = (r = i == null ? void 0 : i.targetType) !== null && r !== void 0 ? r : "unknown", o = _c(n, e, s, t); return o || (n ? H3(n, i == null ? void 0 : i.actionMetrics) : null) } function H3(n, e) { return { $kind: "openExternalURLAction", url: n, actionMetrics: e != null ? e : Ve } } function B0(n, e) { switch (n) { case z.Stations: return mt.hasPlatformSpecificRadioStationPage(e); default: return !0 } } function $W(n, e, t, i) { var r, s, o, a; const l = (o = (s = (r = n.relationships) === null || r === void 0 ? void 0 : r.albums) === null || s === void 0 ? void 0 : s.data) === null || o === void 0 ? void 0 : o[0]; if (!l) return de.log(t, `Couldn't create segue, song resource with id '${n.id}' missing album relationship.`), null; const u = mc(l, t); return u ? (u.url = (a = n.attributes) === null || a === void 0 ? void 0 : a.url, _o(u, e, n.id, t, i)) : null } function Wt(n, e, t, i, r) { var s, o, a, l; if (!B0(e.type, i)) return null; const u = r != null ? r : vo(e, i), c = bo(u); if (e.type === z.Songs) return $W(e, t, i); if (e.type === z.SocialProfiles && yt((s = e.attributes) === null || s === void 0 ? void 0 : s.handle)) return null; if (e.type === z.Collaborators) return zW(e, i); if (tt(n)) { const d = _o(n, t, null, i, c); if (tt(d)) return d } return (o = pc(e, i)) !== null && o !== void 0 ? o : En((l = (a = e.attributes) === null || a === void 0 ? void 0 : a.link) === null || l === void 0 ? void 0 : l.url, null, i) } function VW(n, e, t, i) { return B0(n.type, i) ? _o(t, e, null, i) : null } function zW(n, e) { var t; return En((t = n.attributes) === null || t === void 0 ? void 0 : t.socialProfileUrl, null, e) } function cg(n, e) { return { title: n, segue: e } } function Dt(...n) { const e = n.map(oI).filter(tt); return e.length === 0 ? null : e } function oI(n) { return yt(n) ? null : cg(n) } function Gi(n, e, t) { var i, r, s; const o = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.artists) === null || r === void 0 ? void 0 : r.data; return !o || !o.length ? (de.warn(t, `Missing artist resource identifiers, couldn't create artist links for resource with id '${n.id}' and type '${n.type}'.`), Dt((s = n.attributes) === null || s === void 0 ? void 0 : s.artistName)) : U0(o, e, t) } function aI(n, e, t) { var i, r, s, o, a, l, u, c, d, f, g; const h = ng(n, e), m = (s = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.curator) === null || r === void 0 ? void 0 : r.data) !== null && s !== void 0 ? s : (a = (o = h == null ? void 0 : h.relationships) === null || o === void 0 ? void 0 : o.curator) === null || a === void 0 ? void 0 : a.data, v = (u = (l = n.attributes) === null || l === void 0 ? void 0 : l.curatorName) !== null && u !== void 0 ? u : (c = h == null ? void 0 : h.attributes) === null || c === void 0 ? void 0 : c.curatorName, b = ((d = n.attributes) === null || d === void 0 ? void 0 : d.playlistType) || ((f = h == null ? void 0 : h.attributes) === null || f === void 0 ? void 0 : f.playlistType); if (b === "personal-mix") return Dt(v); if (b === "replay") return qW(t); if (!m || m.length === 0) { const S = JW(n, h, t); return S && S.length !== 0 ? S : Dt(v) } const y = U0(m, e, t); return ((g = y == null ? void 0 : y.length) !== null && g !== void 0 ? g : 0) === 0 ? Dt(v) : y } function qW(n) { const e = Qe.string("FUSE.Replay.Playlist.Creator", n), i = n.required(Ue.bag).bagImplementation.storefront; return i ? [{ title: e, segue: En(`https://music.apple.com/${i}/replay`, e, n) }] : Dt(e) } function Gs(n, e, t, i, r) { var s, o, a, l, u, c; const d = (o = (s = e.relationships) === null || s === void 0 ? void 0 : s[n]) === null || o === void 0 ? void 0 : o.data; if (!d) { const h = (u = (l = (a = e.relationships) === null || a === void 0 ? void 0 : a.catalog) === null || l === void 0 ? void 0 : l.data) === null || u === void 0 ? void 0 : u[0]; if (h && r) return WW(r, n, h, t, i) } if (!d || d.length === 0) return Dt(r); const f = U0(d, t, i, r); return ((c = f == null ? void 0 : f.length) !== null && c !== void 0 ? c : 0) === 0 ? Dt(r) : f } function WW(n, e, t, i, r) { var s; const o = i.resource(t); if (e === z.Artists) { let a = null; if (o) { if (a = (s = o.attributes) === null || s === void 0 ? void 0 : s.artistUrl, a != null && a.match(/viewCollaboration/)) return KW(a, i, r); const l = En(a, null, r); return [{ title: n, segue: l }] } } return [] } function KW(n, e, t) { var i; const r = [], o = (i = new Ln(n).query) === null || i === void 0 ? void 0 : i.ids; return o && o.split("-").forEach(l => { var u, c; const d = e.resource({ id: l, type: z.Artists }), f = (u = d == null ? void 0 : d.attributes) === null || u === void 0 ? void 0 : u.name; if (d && f) { const g = En((c = d == null ? void 0 : d.attributes) === null || c === void 0 ? void 0 : c.url, l, t); r.push({ title: f, segue: g }) } }), r } function U0(n, e, t, i) { const r = []; return e.resources(n).forEach(s => { var o; const a = s.attributes, l = (o = a == null ? void 0 : a.name) !== null && o !== void 0 ? o : i; if (l) { const u = rt(s, t, e); r.push({ title: l, segue: Wt(u, s, "link", t) }) } else de.warn(t, `Couldn't create link for resource type '${s.type}' and id '${s.id}', missing name field.`) }), r.length === 0 ? null : r } function JW(n, e, t) { var i, r; const s = n.attributes, o = e == null ? void 0 : e.attributes, a = (i = s == null ? void 0 : s.curatorSocialHandle) !== null && i !== void 0 ? i : o == null ? void 0 : o.curatorSocialHandle; if (!a) return null; const l = (r = s == null ? void 0 : s.curatorName) !== null && r !== void 0 ? r : o == null ? void 0 : o.curatorName; if (!l) return null; const u = mt.userCanVisitDifferentStorefront(t), c = co({ handle: a, storefront: u ? nt.countryCode(t) : null, language: null }), d = At({ kind: vt.CatalogPage, intent: c }, Ve); return [{ title: l, segue: d }] } var dr = {}, lI = {}, uI = {}, cI = {}; Object.defineProperty(cI, "__esModule", { value: !0 }); var dI = {}; Object.defineProperty(dI, "__esModule", { value: !0 }); var fI = {}; Object.defineProperty(fI, "__esModule", { value: !0 }); var gI = {}; Object.defineProperty(gI, "__esModule", { value: !0 }); var hI = {}; Object.defineProperty(hI, "__esModule", { value: !0 }); var mI = {}; Object.defineProperty(mI, "__esModule", { value: !0 }); var pI = {}; Object.defineProperty(pI, "__esModule", { value: !0 }); var _I = {}; Object.defineProperty(_I, "__esModule", { value: !0 }); var vI = {}; Object.defineProperty(vI, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(cI, n), t(dI, n), t(fI, n), t(gI, n), t(hI, n), t(mI, n), t(pI, n), t(_I, n), t(vI, n) })(uI); var dg = {}, Bn = {}; Object.defineProperty(Bn, "__esModule", { value: !0 }); Bn.unexpectedNull = Bn.catchingContext = Bn.context = Bn.recordValidationIncidents = Bn.endContext = Bn.getContextNames = Bn.beginContext = Bn.messageForRecoveryAction = Bn.isValidatable = Bn.unexpectedType = Bn.extendedTypeof = void 0; const vc = _n; function bI(n) { return Array.isArray(n) ? "array" : n === null ? "null" : typeof n } Bn.extendedTypeof = bI; function yI(n, e, t, i) { const r = bI(t), s = vc.isSome(i) && i.length > 0 ? i : "<this>"; CI({ type: "badType", expected: e, actual: `${r} (${t})`, objectPath: s, contextNames: H0(), recoveryAction: n, stack: new Error().stack }) } Bn.unexpectedType = yI; function wI(n) { return vc.isNothing(n) ? !1 : n.hasOwnProperty("$incidents") || Object.isExtensible(n) } Bn.isValidatable = wI; function YW(n) { switch (n) { case "coercedValue": return "Coerced format"; case "defaultValue": return "Default value used"; case "ignoredValue": return "Ignored value"; default: return "Unknown" } } Bn.messageForRecoveryAction = YW; const ar = { nameStack: Array(), incidents: Array(), suppressedIncidentPaths: Array() }; function kI(n) { ar.nameStack.push(n) } Bn.beginContext = kI; function H0() { return ar.nameStack.length === 0 ? ["<empty stack>"] : ar.nameStack.slice(0) } Bn.getContextNames = H0; function DI() { ar.nameStack.length === 0 && console.warn("endContext() called without active validation context, ignoring"), ar.nameStack.pop() } Bn.endContext = DI; function XW(n) { wI(n) && (n.$incidents = ar.incidents), ar.incidents = [], ar.nameStack = [], ar.suppressedIncidentPaths = [] } Bn.recordValidationIncidents = XW; function SI(n, e, t) { let i = null; vc.isSome(t) && t.length > 0 && (i = n, ar.suppressedIncidentPaths.push(t)); let r = null; try { kI(n), r = e() } catch (s) { throw s.hasThrown || (yI("defaultValue", "no exception", s.message), s.hasThrown = !0), s } finally { n === i && ar.suppressedIncidentPaths.pop(), DI() } return r } Bn.context = SI; function ZW(n, e, t) { let i = null; try { i = SI(n, e) } catch (r) { i = null, vc.isSome(t) && (i = t(r)) } return i } Bn.catchingContext = ZW; function CI(n) { ar.suppressedIncidentPaths.includes(n.objectPath) || ar.incidents.push(n) } function QW(n, e, t) { const i = vc.isSome(t) && t.length > 0 ? t : "<this>"; CI({ type: "nullValue", expected: e, actual: "null", objectPath: i, contextNames: H0(), recoveryAction: n, stack: new Error().stack }) } Bn.unexpectedNull = QW; Object.defineProperty(dg, "__esModule", { value: !0 }); dg.makeArtworkURLTemplate = void 0; const jc = Bn, jW = _n, GW = gc, xW = new RegExp("^({w}|[0-9]+(?:.[0-9]*)?)x({h}|[0-9]+(?:.[0-9]*)?)({c}|[a-z]{2}).({f}|[a-z]+)$"); function eK(n) { if (new GW.URL(n).pathname === void 0) return jc.context("makeArtworkURLTemplate", () => { jc.unexpectedType("ignoredValue", "A valid URL string", n) }), null; const t = n.substring(n.lastIndexOf("/") + 1), i = xW.exec(t); return jW.isNothing(i) || i.length !== 5 ? (jc.context("makeArtworkURLTemplate", () => { jc.unexpectedType("ignoredValue", "A valid artwork URL template ending with {w}x{h}{c}.{f} format", t) }), null) : n } dg.makeArtworkURLTemplate = eK; var PI = {}; Object.defineProperty(PI, "__esModule", { value: !0 }); var Xi = {}; Object.defineProperty(Xi, "__esModule", { value: !0 }); Xi.areEqual = Xi.luminanceFrom = Xi.dynamicWith = Xi.named = Xi.rgbWith = Xi.htmlWith = void 0; const fu = _n; function tK(n) { return fu.isNothing(n) ? null : { $kind: "html", value: n } } Xi.htmlWith = tK; function nK(n, e, t, i = 1) { return { $kind: "rgb", red: n, green: e, blue: t, alpha: i } } Xi.rgbWith = nK; function iK(n) { return { $kind: "named", name: n } } Xi.named = iK; function rK(n, e, t, i) { return { $kind: "dynamic", lightColor: n, lightHighContrastColor: e, darkColor: t, darkHighContrastColor: i } } Xi.dynamicWith = rK; function sK(n) { return n.red * .2126 + n.green * .7152 + n.blue * .0722 } Xi.luminanceFrom = sK; function gu(n, e) { if (fu.isNothing(n)) return fu.isNothing(e); if (fu.isNothing(e)) return fu.isNothing(n); const t = n.$kind, i = e.$kind; if (t === "named" && i === "named") { const r = n, s = e; return r.name === s.name } else if (t === "rgb" && i === "rgb") { const r = n, s = e; return r.red === s.red && r.green === s.green && r.blue === s.blue && r.alpha === s.alpha } else if (t === "dynamic" && i === "dynamic") { const r = n, s = e; return gu(r.lightColor, s.lightColor) && gu(r.lightHighContrastColor, s.lightHighContrastColor) && gu(r.darkColor, s.darkColor) && gu(r.darkHighContrastColor, s.darkHighContrastColor) } else return !1 } Xi.areEqual = gu; var fg = {}; Object.defineProperty(fg, "__esModule", { value: !0 }); fg.menuSeparatorID = void 0; fg.menuSeparatorID = "com.apple.JetEngine.separator"; var AI = {}; Object.defineProperty(AI, "__esModule", { value: !0 }); var EI = {}; Object.defineProperty(EI, "__esModule", { value: !0 }); var II = {}; Object.defineProperty(II, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(uI, n), t(dg, n), t(PI, n), t(Xi, n), t(fg, n), t(AI, n), t(EI, n), t(II, n) })(lI); var MI = {}, LI = {}; Object.defineProperty(LI, "__esModule", { value: !0 }); var TI = {}; Object.defineProperty(TI, "__esModule", { value: !0 }); var RI = {}; Object.defineProperty(RI, "__esModule", { value: !0 }); var FI = {}; Object.defineProperty(FI, "__esModule", { value: !0 }); var OI = {}; Object.defineProperty(OI, "__esModule", { value: !0 }); var NI = {}; Object.defineProperty(NI, "__esModule", { value: !0 }); var BI = {}; Object.defineProperty(BI, "__esModule", { value: !0 }); var UI = {}; Object.defineProperty(UI, "__esModule", { value: !0 }); var HI = {}; Object.defineProperty(HI, "__esModule", { value: !0 }); var $I = {}; Object.defineProperty($I, "__esModule", { value: !0 }); var VI = {}; Object.defineProperty(VI, "__esModule", { value: !0 }); var zI = {}; Object.defineProperty(zI, "__esModule", { value: !0 }); var Un = {}; Object.defineProperty(Un, "__esModule", { value: !0 }); Un.services = Un.random = Un.plist = Un.platform = Un.net = Un.localizer = Un.host = Un.cryptography = Un.cookieProvider = Un.bundle = Un.bag = void 0; const ss = Gf; Un.bag = ss.makeMetatype("jet-engine:bag"); Un.bundle = ss.makeMetatype("jet-engine:bundle"); Un.cookieProvider = ss.makeMetatype("jet-engine:cookieProvider"); Un.cryptography = ss.makeMetatype("jet-engine:cryptography"); Un.host = ss.makeMetatype("jet-engine:host"); Un.localizer = ss.makeMetatype("jet-engine:localizer"); Un.net = ss.makeMetatype("jet-engine:net"); Un.platform = ss.makeMetatype("jet-engine:platform"); Un.plist = ss.makeMetatype("jet-engine:plist"); Un.random = ss.makeMetatype("jet-engine:random"); Un.services = ss.makeMetatype("jet-engine:services"); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), typeof preprocessor > "u" && (globalThis.preprocessor = { PRODUCTION_BUILD: !1, CARRY_BUILD: !1, DEBUG_BUILD: !1, INTERNAL_BUILD: !1 }), typeof testContent > "u" && (globalThis.testContent = { INCLUDE_TEST_CONTENT: !1 }), t(LI, n), t(TI, n), t(RI, n), t(FI, n), t(OI, n), t(NI, n), t(BI, n), t(UI, n), t(HI, n), t($I, n), t(VI, n), t(zI, n), t(Un, n) })(MI); var qI = {}, WI = {}; Object.defineProperty(WI, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(WI, n) })(qI); var KI = {}; Object.defineProperty(KI, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(lI, n), t(MI, n), t(qI, n), t(mr, n), t(KI, n), t(_n, n) })(dr); function JI(n, e = !1, t = !1, i = !1) { const r = e ? "FUSE.SongsListHeaders.video" : "FUSE.SongsListHeaders.song"; return t ? i ? { item: { firstColumnText: Qe.string(r, n), secondColumnText: Qe.string("FUSE.SongsListHeaders.album", n), thirdColumnText: Qe.string("FUSE.SongsListHeaders.contributor", n), fourthColumnText: Qe.string("FUSE.SongsListHeaders.reactions", n) }, kind: "column" } : { item: { firstColumnText: Qe.string(r, n), secondColumnText: Qe.string("FUSE.SongsListHeaders.artist", n), thirdColumnText: Qe.string("FUSE.SongsListHeaders.album", n), fourthColumnText: Qe.string("FUSE.SongsListHeaders.contributor", n) }, kind: "column" } : { item: { firstColumnText: Qe.string(r, n), secondColumnText: Qe.string("FUSE.SongsListHeaders.artist", n), thirdColumnText: Qe.string("FUSE.SongsListHeaders.album", n) }, kind: "column" } } function Di(n) { return dr.isSome(n) ? n.kind === "default" : !1 } function oK(n) { return (n == null ? void 0 : n.kind) === "column" } function YI(n) { return (n == null ? void 0 : n.kind) === "composer" } function aK(n) { return (n == null ? void 0 : n.kind) === "disc" } function gg(n, e, t) { var i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S; const C = (s = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i["primary-content"]) === null || r === void 0 ? void 0 : r.data) === null || s === void 0 ? void 0 : s[0], P = e.resource(C); let M, R, F, N; if (P && (!((o = P.attributes) === null || o === void 0) && o.artwork)) { if (!((l = (a = n.attributes) === null || a === void 0 ? void 0 : a.titleWithoutName) === null || l === void 0) && l.stringForDisplay && (M = { title: (c = (u = n.attributes) === null || u === void 0 ? void 0 : u.titleWithoutName) === null || c === void 0 ? void 0 : c.stringForDisplay }), P.attributes.name) { const O = vo(n, t), B = { actionDetails: { kind: (d = n.attributes) === null || d === void 0 ? void 0 : d.kind } }, U = bo(O), K = pc(P, t, null, U, "button", B); R = cg(P.attributes.name, K) } N = st((f = P.attributes) === null || f === void 0 ? void 0 : f.artwork, zt.BoundedBox) } else !((h = (g = n.attributes) === null || g === void 0 ? void 0 : g.title) === null || h === void 0) && h.stringForDisplay && (R = { title: (v = (m = n.attributes) === null || m === void 0 ? void 0 : m.title) === null || v === void 0 ? void 0 : v.stringForDisplay }), !((y = (b = n.attributes) === null || b === void 0 ? void 0 : b.reason) === null || y === void 0) && y.stringForDisplay && (F = [(S = (k = n.attributes) === null || k === void 0 ? void 0 : k.reason) === null || S === void 0 ? void 0 : S.stringForDisplay]); return yt(M) && yt(R) && yt(F) && yt(N) ? null : { kind: "default", item: { headlineLink: M, titleLink: R, artwork: N, subtitles: F } } } function cn(n, e, t) { let i; return dr.isSome(n) && (i = { kind: "default", item: { titleLink: { title: n, segue: e, url: t } } }), i } function XI(n, e, t) { var i, r, s, o; if (!((i = n.attributes) === null || i === void 0 ? void 0 : i.hasSeeAll)) return null; const l = { actionUrl: n.href, actionDetails: { kind: (r = n.attributes) === null || r === void 0 ? void 0 : r.kind } }, u = At({ kind: vt.CatalogPage, intent: e }, un(t, "seeAll", "button", "navigate", l)), c = n.id, d = (o = (s = n.attributes) === null || s === void 0 ? void 0 : s.title) === null || o === void 0 ? void 0 : o.stringForDisplay; return { id: c, title: d, segue: u } } function wo(n, e, t, i = 1) { return { id: n, header: t, itemKind: "verticalVideoLockup", presentation: { kind: "collection", layout: { kind: "shelf", numberOfRows: i } }, items: e, displaySeparator: !1 } } function lK(n, e, t, i) { var r, s, o, a, l, u, c, d; const f = (o = (s = (r = n.relationships) === null || r === void 0 ? void 0 : r.contents) === null || s === void 0 ? void 0 : s.data) === null || o === void 0 ? void 0 : o[0]; if (!f) return de.warn(i, `Dropping editorial brick lockup item with id "${n.id}" and type "${n.type}", missing content resource identifier.`), null; const g = t.resource(f); if (!g) return null; const h = g.attributes; if (!h) return de.warn(i, `Dropping editorial brick lockup item with id "${n.id}" and type "${n.type}", missing content resource attributes.`), null; const m = wi(n, i), v = rt(g, i, t), b = (l = (a = h.artistName) !== null && a !== void 0 ? a : h.curatorName) !== null && l !== void 0 ? l : (u = h.editorialNotes) === null || u === void 0 ? void 0 : u.tagline, y = Rt(v, i, e, null, m); return { id: qe(e, n.id, i), titleLinks: Dt(h.name), subtitleLinks: Dt(b), artwork: st((c = h.editorialArtwork) === null || c === void 0 ? void 0 : c.subscriptionHero, zt.SpecificRectangle), contentDescriptor: v, playAction: null, segue: (d = Wt(v, g, "brick", i, m)) !== null && d !== void 0 ? d : y, accessibilityLabel: h.name } } function uK(n, e, t) { const i = n.attributes; if (!i) return de.warn(t, `Dropping editorial brick item with id "${n.id}" and type "${n.type}", missing attributes.`), null; if (!i.artwork) return de.warn(t, `Dropping brick because no artwork was found: ${JSON.stringify(n)}`), null; const r = i.link; return r ? { id: qe(e, n.id, t), headline: i.designBadge, titleLinks: Dt(i.designTag), artwork: st(i.artwork, zt.SpecificRectangle), segue: En(r.url, r.label, t), accessibilityLabel: i.name, playAction: null } : (de.warn(t, `Dropping editorial brick item with id '${n.id}' and type '${n.type}', missing link.`), null) } function cK(n, e, t, i) { var r, s, o, a, l, u, c; const d = (o = (s = (r = n.relationships) === null || r === void 0 ? void 0 : r.contents) === null || s === void 0 ? void 0 : s.data) === null || o === void 0 ? void 0 : o[0]; if (!d) return uK(n, e, i); const f = t.resource(d); if (!f) return null; if (!f.attributes) return de.warn(i, `Dropping editorial brick lockup item with id "${n.id}" and type "${n.type}", missing content resource attributes.`), null; const h = wi(n, i), m = rt(f, i, t), v = Rt(m, i, e, null, h); return { id: qe(e, n.id, i), titleLinks: Dt((a = n.attributes) === null || a === void 0 ? void 0 : a.designTag), artwork: st((l = n.attributes) === null || l === void 0 ? void 0 : l.artwork, zt.SpecificRectangle), contentDescriptor: m, playAction: null, segue: (u = Wt(m, f, "GridItem", i, h)) !== null && u !== void 0 ? u : v, accessibilityLabel: (c = n.attributes) === null || c === void 0 ? void 0 : c.name } } function dK(n, e, t) { var i, r, s; const o = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.children) === null || r === void 0 ? void 0 : r.data; if (!o || o.length === 0) return de.warn(t, `Dropping hero list shelf with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const a = [], l = it(`brick-swoosh - ${n.id}`, t); if (e.resources(o).forEach(c => { var d; let f; const g = (d = c.attributes) === null || d === void 0 ? void 0 : d.editorialElementKind; switch (g) { case Zt.Brick: f = lK(c, l, e, t); break; case Zt.CustomBrick: f = cK(c, l, e, t); break; default: de.warn(t, `Dropping brick swoosh item resource with id "${c.id}" and type "${c.type}", invalid editorialElementKind "${g}".`); break }f && a.push(f) }), !a.length) return null; const u = cn((s = n.attributes) === null || s === void 0 ? void 0 : s.name); return wo(l, a, u) } function $0(n, e, t) { return { kind: "default", item: { id: n, text: e, segue: t } } } function fK(n, e, t) { return { kind: "popover", item: { id: n, items: e, selectedItemID: t } } } function gK(n, e, t = "") { return { kind: "contextMenu", item: { id: n, items: e, sortBy: t } } } function hK(n, e, t) { return { kind: "refresh", item: { id: n, ariaLabel: e, segue: t } } } var Ru; (function (n) { n.Regular = "regular", n.Large = "large" })(Ru || (Ru = {})); function ZI(n, e, t, i = 1, r = !1) { return { id: n, header: t, itemKind: "horizontalLockup", presentation: { kind: "collection", layout: { kind: "shelf", numberOfRows: i } }, items: e, displaySeparator: r } } function mK(n, e, t, i) { return { id: n, header: t, itemKind: "mixedContentTypeLockup", predominantItemKind: i, presentation: { kind: "collection", layout: { kind: "shelf", numberOfRows: 1 } }, items: e } } function kl(n, e, t, i, r = 1) { return { id: n, header: t, itemKind: "squareLockup", presentation: { kind: "collection", layout: { kind: "shelf", numberOfRows: r } }, items: e, invalidationRules: i, displaySeparator: !1 } } var Us; (function (n) { n.Small = "small", n.Regular = "regular", n.Large = "large" })(Us || (Us = {})); var qd; (function (n) { n.Regular = "regular", n.Bold = "bold" })(qd || (qd = {})); function _r(n) { var e, t, i; if (n) return n.type === z.Stations && !(!((e = n.attributes) === null || e === void 0) && e.isLive) && ((i = (t = n.attributes) === null || t === void 0 ? void 0 : t.playParams) === null || i === void 0 ? void 0 : i.format) === "stream" } function pK(n) { return n.$kind === "RoomPageIntent" } function hg(n) { return { ...n, $kind: "RoomPageIntent" } } function QI(n, e) { if (n.length !== 1 || !e) return null; const t = n[0]; if (oK(t.header)) return { title: e, showSeparator: !1 } } function _K(n, e, t) { if (!Vn(e)) return n; const { seoTitle: i, seoDescription: r } = t, s = { ...bn(n.canonicalURL, e), noIndex: !0 }; return i && (s.pageTitle = Qe.string("FUSE.Meta.Common.PageTitle", e, { seoTitle: i })), r && (s.description = r), { ...n, seoData: s } } function vK(n, e, t) { var i, r; const s = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.children) === null || r === void 0 ? void 0 : r.data; return V0(s, !1, e, t) } function V0(n, e, t, i) { if (!n || n.length === 0) throw new Error("No resource identifiers in tab root."); const r = []; return t.resources(n).forEach(s => { const o = NM(s, e, n, t, i); o && r.push(o) }), r } function bK(n, e, t) { return { $kind: "RoomPagePaginateIntent", url: n, id: e, room: t } } const yK = [new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music|podcasts|apps|books)\\.apple\\.com\\/.*?\\/MZStore\\.woa\\/.*?\\/viewRoom(?=.*?[?&]fcId=(?<id>\\w+))(?:.*?[?&]cc=(?<cc>\\w{2}))?"), new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music)\\.apple\\.com\\/(?:(?<cc>\\w{2})\\/)?collection\\/(?:.*?\\/)?(?=.*?[?&]fcId=(?<id>\\w+))"), new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music)\\.apple\\.com\\/(?:(?<cc>\\w{2})\\/)?room\\/(?:.*\\/)?(?:id)?(?<id>[\\w\\.-]+)")], { makeCanonicalUrl: ko } = js(hg, "/room/{id}"), wK = { $intentKind: "RoomPageIntent", routes(n) { return [...yK.map(e => ({ rules: [{ regex: [e], query: ["l?"] }], handler(t, i) { var r, s; const o = (s = (r = t.toString().match(e)) === null || r === void 0 ? void 0 : r.groups) !== null && s !== void 0 ? s : {}, a = qt({ storefront: o.cc, language: i.l }, n), l = `/${a.storefront}/room/${o.id}`, u = hc(xf(n), l); return hg({ id: o.id, contentDescriptor: { kind: x.Room, identifiers: { storeAdamID: o.id }, url: u, locale: a }, ...a }) } }))] }, async perform(n, e) { const t = nt.countryCode(e), i = nt.ampMusicAPIDomainsEditorialContent(e), r = new je(`/v1/editorial/${t}/rooms/${n.id}`, e, i); r.queryString.addParameters({ "omit[resource:artists]": "autos", "relate[songs]": "albums", "include[albums]": "artists,composers", "include[songs]": "artists,composers", "fields[albums]": "artistName,artistUrl,artwork,contentRating,editorialArtwork,editorialNotes,name,playParams,releaseDate,url,trackCount", "extend[albums]": "artistUrl" }), mt.supportsSeoMetadata(e) && r.queryString.extend.add("seoTitle").add("seoDescription"), r.queryString.artworkURL.add(hn.OmitCropCode).add(hn.OmitFileExtension), r.queryString.extend.add("offers"); const s = await pt({ url: r.string }, e); return kK(s, n, e) }, actionFor(n, e, t) { var i, r; const s = (i = t.metrics) !== null && i !== void 0 ? i : un(e, (r = n.id) !== null && r !== void 0 ? r : "0", "unknown", "navigate"), o = At({ kind: vt.CatalogPage, intent: n }, s); return t.isDeepLinkAction ? Lt([ri({ kind: bt.New }, Ve, e), o], Ve) : o } }; function kK(n, e, t) { var i, r, s, o, a, l, u, c; const d = (i = n.body) === null || i === void 0 ? void 0 : i.data; if (!d || d.length === 0) throw new Error(`No resource identifiers in room see all page response ${JSON.stringify(n)}`); const f = (r = n.body) === null || r === void 0 ? void 0 : r.resources; if (!f) throw new Error(`No resource map in room see all page response: ${JSON.stringify(n)}`); const g = new gt(f, t), h = g.resource(d[0]), m = V0(d, !0, g, t); m.forEach(S => { S.itemKind !== "trackLockup" && (S.presentation = { kind: "collection", layout: "grid" }); const C = S.header; if (Di(C)) { const P = C; dr.isSome(e.title) && (P.item.titleLink = { title: e.title }) } }); let v; const b = (o = (s = h == null ? void 0 : h.relationships) === null || s === void 0 ? void 0 : s.contents) === null || o === void 0 ? void 0 : o.next; h && b && (v = bK(b, m[0].id, h)); const y = { header: QI(m, (a = e.title) !== null && a !== void 0 ? a : (l = h == null ? void 0 : h.attributes) === null || l === void 0 ? void 0 : l.title), pageMetrics: tn(t, n, "see_all", "SeeAll", g), sections: m, nextIntent: v, canonicalURL: ko(e) }, k = { seoTitle: (u = h == null ? void 0 : h.attributes) === null || u === void 0 ? void 0 : u.seoTitle, seoDescription: (c = h == null ? void 0 : h.attributes) === null || c === void 0 ? void 0 : c.seoDescription }; return _K(y, t, k) } function z0(n, e, t) { return { id: n, header: t, itemKind: "bubbleLockup", presentation: { kind: "collection", layout: { kind: "shelf", numberOfRows: 1 } }, items: e, displaySeparator: !1 } } const jI = 6, $3 = [z.AppleCurators, z.Curators, z.Artists]; function GI(n, e) { const t = n == null ? void 0 : n.stationProviderName; return t ? Qe.string("FUSE.Radio.From.Provider", e, { provider: t }) : null } function DK(n, e, t) { var i, r, s, o; const a = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.contents) === null || r === void 0 ? void 0 : r.data; if (!a || a.length === 0) return de.warn(t, `Dropping horizontal swoosh with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const l = it(`horizontal-lockup-swoosh - ${n.id}`, t), u = wi(n, t), c = []; if (e.resources(a).forEach(v => { var b, y; const k = v.attributes; if (!k) { de.warn(t, `Dropping horizontal swoosh item with id "${v.id}" and type "${v.type}", missing resource attributes.`); return } let S; _i(v) && (S = (y = (b = k.plainEditorialNotes) === null || b === void 0 ? void 0 : b.standard) === null || y === void 0 ? void 0 : y.toLocaleUpperCase()); const C = GI(v.attributes, t), P = rt(v, t, e), M = { id: qe(l, v.id, t), headline: S, title: k.name, subtitle: C != null ? C : An(k), artwork: st(k.artwork, zt.SpecificRectangle), contentDescriptor: P, showExplicitBadge: Vt(k), playAction: Rt(P, t, null, null, u), segue: Wt(P, v, "ShelfItem", t), accessibilityLabel: k.name, numberOfSocialBadges: 3, isAOD: _r(v) }; nr(v) && (M.radioStation = { isRadioEpisode: _i(v), isLiveRadio: Lr(v), isBroadcastRadio: Tr(v) }), c.push(M) }), c.length === 0) return null; const d = (s = n.attributes) === null || s === void 0 ? void 0 : s.name, f = os(n, c.length, d, t), g = (o = f == null ? void 0 : f.destination) === null || o === void 0 ? void 0 : o.intent, h = g ? ko(g) : void 0, m = cn(d, f, h); return ZI(l, c, m, 2) } function xI(n, e, t, i) { var r, s, o, a, l, u; const c = (s = (r = n.relationships) === null || r === void 0 ? void 0 : r.contents) === null || s === void 0 ? void 0 : s.data; if (!c || c.length === 0) return de.warn(i, `Dropping video lockup swoosh with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const d = it(`video-lockup-swoosh - ${n.id}`, i), f = wi(n, i), g = []; if (e.resources(c).forEach(k => { var S, C, P, M; const R = rt(k, i, e), F = k.attributes; if (!F) { de.warn(i, `Dropping video lockup swoosh item with id "${k.id}" and type "${k.type}", missing resource attributes.`); return } const N = Gi(k, e, i), O = (R == null ? void 0 : R.kind) === x.ArtistUploadedVideo, B = O ? AE(F.durationInMilliseconds, i) : null, U = O && !B ? $n(F.releaseDate, i) : null, K = (C = Dt((S = B != null ? B : U) !== null && S !== void 0 ? S : LE(F))) !== null && C !== void 0 ? C : N, W = { id: qe(d, k.id, i), titleLinks: Dt(F.name), subtitleLinks: K, artwork: st((M = (P = F.editorialArtwork) === null || P === void 0 ? void 0 : P.browseCover) !== null && M !== void 0 ? M : F.artwork), contentDescriptor: R, playAction: Rt(R, i, d, null, f), segue: Wt(R, k, "BrickItem", i, f), showExplicitBadge: Vt(F), displayStyle: Us.Small, accessibilityLabel: F.name }; g.push(W) }), g.length === 0) return null; const h = (a = (o = n.attributes) === null || o === void 0 ? void 0 : o.name) !== null && a !== void 0 ? a : (l = n == null ? void 0 : n.attributes) === null || l === void 0 ? void 0 : l.title, m = os(n, g.length, h, i), v = (u = m == null ? void 0 : m.destination) === null || u === void 0 ? void 0 : u.intent, b = v ? ko(v) : void 0, y = cn(h, m, b); return wo(d, g, y, t) } function SK(n, e, t, i = Ru.Regular) { var r, s, o, a; const l = (s = (r = n.relationships) === null || r === void 0 ? void 0 : r.contents) === null || s === void 0 ? void 0 : s.data; if (!l || l.length === 0) return de.warn(t, `Dropping video lockup swoosh with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const u = it(`circle-lockup-swoosh - ${n.id}`, t), c = wi(n, t), d = []; if (e.resources(l).forEach(b => { const y = eM(b, e, t, u, c, i); y && d.push(y) }), d.length === 0) return null; const f = (o = n.attributes) === null || o === void 0 ? void 0 : o.name, g = os(n, d.length, f, t), h = (a = g == null ? void 0 : g.destination) === null || a === void 0 ? void 0 : a.intent, m = h ? ko(h) : void 0, v = cn(f, g, m); return z0(u, d, v) } function eM(n, e, t, i, r, s = Ru.Regular) { var o, a, l, u; const c = n.attributes; if (!c) { de.warn(t, `Dropping circle lockup swoosh item with id "${n.id}" and type "${n.type}", missing resource attributes.`); return } const d = (o = $n(c.releaseDate, t)) !== null && o !== void 0 ? o : (a = c.editorialNotes) === null || a === void 0 ? void 0 : a.tagline, f = rt(n, t, e); return { id: qe(i, n.id, t), title: c.name, subtitle: d, artwork: st((u = (l = c.editorialArtwork) === null || l === void 0 ? void 0 : l.browseCover) !== null && u !== void 0 ? u : c.artwork), contentDescriptor: f, segue: Wt(f, n, "ShelfItem", t, r), displayStyle: s, accessibilityLabel: c.name } } function tM(n, e, t, i) { var r, s, o, a, l, u; const c = (s = (r = n.relationships) === null || r === void 0 ? void 0 : r.contents) === null || s === void 0 ? void 0 : s.data; if (!c || c.length === 0) return de.warn(i, `Dropping album lockup swoosh with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const d = it(`square-lockup-swoosh - ${n.id}`, i), f = wi(n, i), g = []; if (e.resources(c).forEach(k => { const S = nM(k, e, i, d, f); S && g.push(S) }), g.length === 0) return null; const h = (a = (o = n.attributes) === null || o === void 0 ? void 0 : o.name) !== null && a !== void 0 ? a : (l = n == null ? void 0 : n.attributes) === null || l === void 0 ? void 0 : l.title, m = os(n, g.length, h, i), v = (u = m == null ? void 0 : m.destination) === null || u === void 0 ? void 0 : u.intent, b = v ? ko(v) : void 0, y = cn(h, m, b); return kl(d, g, y, void 0, t) } function nM(n, e, t, i, r) { var s; const o = n.attributes; if (!o) { de.warn(t, `Dropping album lockup swoosh item with id "${n.id}" and type "${n.type}", missing resource attributes.`); return } const a = rt(n, t, e), l = { id: qe(i, n.id, t), titleLinks: Dt((s = o.shortName) !== null && s !== void 0 ? s : o.name), subtitleLinks: CK(n, e, t), artwork: st(o.artwork, zt.SpecificRectangle), contentDescriptor: a, playAction: Rt(a, t, null, null, r), segue: Wt(a, n, "ShelfItem", t, r), numberOfSocialBadges: 3, showExplicitBadge: Vt(o), accessibilityLabel: o.name, trackCount: o.trackCount, isAOD: _r(n) }; return nr(n) && (l.radioStation = { isRadioEpisode: _i(n), isLiveRadio: Lr(n), isBroadcastRadio: Tr(n) }), l } function CK(n, e, t) { var i, r, s, o, a, l, u; const c = Ge(Ue.localization, t), d = n.attributes; let f = null; d && (f = (u = (a = (o = (s = (r = (i = d.editorialNotes) === null || i === void 0 ? void 0 : i.tagline) !== null && r !== void 0 ? r : d.artistName) !== null && s !== void 0 ? s : d.curatorName) !== null && o !== void 0 ? o : d.showHostName) !== null && a !== void 0 ? a : (l = d.plainEditorialNotes) === null || l === void 0 ? void 0 : l.tagline) !== null && u !== void 0 ? u : An(d)); const g = d == null ? void 0 : d.stationProviderName; switch (n.type) { case z.Albums: return Gi(n, e, t); case z.AppleCurators: return Dt(f); case z.Stations: return Dt(g ? c.string("FUSE.Radio.From.Provider", { provider: g }) : f); default: return Dt(f) } } function PK(n, e, t, i) { var r, s, o, a, l, u; const c = (s = (r = n.relationships) === null || r === void 0 ? void 0 : r.contents) === null || s === void 0 ? void 0 : s.data; if (!c || c.length === 0) return de.warn(t, `Dropping mixed content type lockup swoosh with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const d = it(`mixed-content-type-lockup-swoosh - ${n.id}`, t), f = wi(n, t), g = []; for (const S of e.resources(c)) { let C; switch (S.type) { case z.AppleCurators: { const P = nM(S, e, t, d, f); C = P && { ...P, itemKind: "squareLockup" }; break } case z.Curators: case z.Artists: { const P = eM(S, e, t, d, f); C = P && { ...P, itemKind: "bubbleLockup" }; break } }C && g.push(C) } const h = (a = (o = n.attributes) === null || o === void 0 ? void 0 : o.name) !== null && a !== void 0 ? a : (l = n == null ? void 0 : n.attributes) === null || l === void 0 ? void 0 : l.title, m = os(n, g.length, h, t), v = (u = m == null ? void 0 : m.destination) === null || u === void 0 ? void 0 : u.intent, b = v ? ko(v) : void 0, y = cn(h, m, b), k = i === z.AppleCurators ? "squareLockup" : "bubbleLockup"; return mK(d, g, y, k) } function AK(n, e, t) { var i, r; const s = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.contents) === null || r === void 0 ? void 0 : r.data; if (!s || s.length === 0) return de.warn(t, `Dropping compact copper swoosh with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const o = sI("type", s); if (o && $3.includes(o)) { const a = [...new Set(s.map(l => l.type))]; if (a.length > 1 && a.every(l => $3.includes(l))) return PK(n, e, t, o) } switch (o) { case z.AppleCurators: case z.Albums: case z.Playlists: case z.Stations: case z.UploadedAudios: return tM(n, e, 1, t); case z.MusicMovies: case z.MusicVideos: case z.UploadedVideos: return xI(n, e, 1, t); case z.Curators: case z.Artists: case z.SocialProfiles: return SK(n, e, t); default: return de.warn(t, `Dropping compact copper swoosh with id "${n.id}" and type "${n.type}", unsupported predominant child type "${o}".`), null } } function EK(n, e, t) { var i, r; const s = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.contents) === null || r === void 0 ? void 0 : r.data; if (!s || s.length === 0) return de.warn(t, `Dropping expanded copper swoosh with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const a = s[0].type; switch (a) { case z.AppleCurators: case z.Stations: return DK(n, e, t); case z.Albums: case z.Playlists: return tM(n, e, 2, t); case z.MusicMovies: case z.MusicVideos: case z.UploadedVideos: { const u = !rg(t) || P0(IK, t) ? 2 : 1; return xI(n, e, u, t) } default: return de.warn(t, `Dropping expanded copper swoosh with id "${n.id}" and type "${n.type}", unsupported first child type "${a}".`), null } } const IK = { majorNumber: 22, majorLetter: "A", minorNumber: 240, isSeedBuild: !1 }; var vu; (function (n) { n.Compact = "compact", n.Expanded = "expanded" })(vu || (vu = {})); function MK(n, e, t) { var i, r, s, o; const a = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.contents) === null || r === void 0 ? void 0 : r.data; if (!a || a.length === 0) return de.warn(t, `Dropping copper swoosh with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const l = (o = (s = n.attributes) === null || s === void 0 ? void 0 : s.displayStyle) !== null && o !== void 0 ? o : vu.Compact; switch (l) { case vu.Compact: return AK(n, e, t); case vu.Expanded: return EK(n, e, t); default: de.warn(t, `Dropping copper swoosh with id "${n.id}" and type "${n.type}", unsupported displayStyle "${l}".`); return } } function os(n, e, t, i) { var r, s, o; const a = (o = (s = (r = n.relationships) === null || r === void 0 ? void 0 : r.room) === null || s === void 0 ? void 0 : s.data) === null || o === void 0 ? void 0 : o[0]; if (yt(a) || e < jI) return null; const l = mt.userCanVisitDifferentStorefront(i), u = hg({ id: a.id, title: t, storefront: l ? nt.countryCode(i) : null, language: null }); return At({ kind: vt.CatalogPage, intent: u }, un(i, "seeAll", "button", "navigate", { actionUrl: n.href })) } function xi() { return { $kind: "pausePlaybackAction", actionMetrics: Ve } } function Wi() { return { $kind: "resumePlaybackAction", actionMetrics: Ve } } function q0(n, e, t) { return { id: n, itemKind: "trackLockup", presentation: { kind: "collection", layout: "list" }, items: e, header: t } } function bc(n, e, t, i) { return { id: n, itemKind: "trackLockup", presentation: { kind: "collection", layout: { kind: "shelf", numberOfRows: t } }, items: e, header: i, displaySeparator: !1 } } function iM(n, e, t) { const i = JI(t, !1); return q0(e, n, i) } function rM(n) { switch (n.type) { case z.TVEpisodes: case z.MusicMovies: case z.MusicVideos: case z.UploadedVideos: case z.LibraryMusicVideos: return !0; default: return !1 } } function sM(n) { return sg(n) ? { title: Qe.string("FUSE.Glide.SiriBanner.Title", n) } : null } function LK(n, e) { return !n && !e ? null : { dolbyAtmos: n == null ? void 0 : n.includes("atmos"), dolbyAudio: n == null ? void 0 : n.includes("surround"), lossless: n == null ? void 0 : n.includes("lossless"), hiResLossless: n == null ? void 0 : n.includes("hi-res-lossless"), digitalMaster: e } } function W0(n, e) { return { id: n, itemKind: "containerDetailHeaderLockup", presentation: { kind: "single" }, items: [e] } } function K0(n, e, t, i) { var r, s, o; const a = (r = n.attributes) === null || r === void 0 ? void 0 : r.artwork, l = (s = n.attributes) === null || s === void 0 ? void 0 : s.name, u = qe(e, n.id, t, i), c = rt(n, t); return c || de.warn(t, `For childID = ${u}, contentDescriptor missing, skipping...`), { id: u, artwork: st(a), title: l, contentDescriptor: c, segue: Wt(c, n, "ShelfItem", t), name: (o = n.attributes) === null || o === void 0 ? void 0 : o.name } } function oM(n) { return { ...n, $kind: "ArtistDetailSeeAllPageIntent" } } const aM = 25; function Ii(n, e, t, i, r, s, o) { var a, l, u, c; const d = (a = n == null ? void 0 : n.views) === null || a === void 0 ? void 0 : a[t]; if (!d || t === Ee.FriendsWhoAdded && (!((l = n.attributes) === null || l === void 0) && l.hasCollaboration)) return null; const f = (u = d.attributes) === null || u === void 0 ? void 0 : u.title, g = [], h = d.next ? d.data : (c = d.data) === null || c === void 0 ? void 0 : c.slice(0, aM); if (!h) return null; const m = !1, v = it(`${e} - ${t}`, i); return s.resources(h).forEach(y => { const k = o(y, n, t, i, s, m, v); g.push(k) }), g.length === 0 ? null : { id: v, itemKind: r, presentation: { kind: "collection", layout: { kind: "shelf", numberOfRows: 1 } }, items: g, header: { kind: "default", item: { titleLink: { title: f, segue: lM(d, t, i, e, f, n) } } }, displaySeparator: !1 } } function lM(n, e, t, i, r, s) { var o; if (!n.href) return null; if (n.next || !((o = n.data) === null || o === void 0) && o.length && n.data.length > aM) { let a = { $kind: "ContainerDetailSeeAllPageIntent", url: n.href, viewKind: e, id: i, title: r, containerType: s.type }; if (s.type === z.Artists) { const l = nt.countryCode(t), u = nt.languageTag(t), { storefront: c, language: d } = qt({ storefront: l, language: u }, t); a = oM({ artistId: s.id, sectionId: e, storefront: c, language: d }) } return At({ kind: vt.CatalogPage, intent: a }, un(t, "seeAll", "button", "navigate", { actionUrl: n.href })) } return null } function uM(n, e, t, i) { const r = Ii(n, "artist", e, i, "bubbleLockup", t, cM); return r ? (r.backgroundTreatment = "alternate", r) : null } function cM(n, e, t, i, r, s) { var o; return { ...K0(n, t, i, s), accessibilityLabel: (o = n.attributes) === null || o === void 0 ? void 0 : o.name } } function Wd(n, e, t) { const i = it(`spacerSection - ${n}`, e); return { id: i, itemKind: "spacer", presentation: { kind: "single" }, backgroundTreatment: t, items: [{ id: qe(i, `spacer item - ${n}`, e) }] } } const TK = { $intentKind: "CopyEmbeddedCodeShareIntent", async perform(n, e) { const t = OK(n.url); return Promise.resolve(t) } }, dp = /^http(?:s)?\:\/\/(?:itunes|(embed\.)?(music|podcast))\.apple\.com/i, RK = ["allow-forms", "allow-popups", "allow-same-origin", "allow-scripts", "allow-storage-access-by-user-activation", "allow-top-navigation-by-user-activation"], FK = /\/([a-z]{2})\/(album|artist|music-video|playlist|podcast|song|station)\/(?:[^\/]*\/)?(?:id)?(\d+|[a-z]{2}\.[a-z0-9\-]+)(?:.*(?:[\?|\&]i=(\d+)).*)?.*$/i; function OK(n) { var e, t; const i = { height: "450", width: "660" }; if (!dp.test(n)) throw new Error("Invalid content url"); const r = (e = n.match(FK)) === null || e === void 0 ? void 0 : e[2], s = new Ln(n); (r === "song" || !((t = s.query) === null || t === void 0) && t.i) && (i.height = "150"), i.height = `${i.height}`.replace(/(\d+)px/i, "$1"), i.width = `${i.width}`.replace(/^(\d+)(?!px)%?$/i, "$1px"); const o = `width:100%;max-width:${i.width};overflow:hidden;background:transparent;`; return `<iframe allow="autoplay *; encrypted-media *;" frameborder="0" height="${i.height}" style="${o}" sandbox="${RK.join(" ")}" src="${Dl(n)}"></iframe>` } function Dl(n) { if (!n) return; if (!dp.test(n)) throw new Error("Invalid content url"); const e = "https://embed.music.apple.com"; return n.replace(dp, e) } var fa = {}; (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(ja, n) })(fa); function NK(n, e) { return typeof n == "string" && n !== e } async function vi(n, e, t) { const i = await fa.inject(Ue.dataOverrides, t).getOverrides(); if (!i) return; const { default: r } = i, s = r == null ? void 0 : r[n]; if (s && s.type === e) { const o = {}; return Object.entries(s).forEach(([a, l]) => o[a] = NK(l, e) ? Qe.string(l, t) : l), o } } function yc(n, e, t, i) { if (i != null && i.description) return i.description; if (e && t) return n.string("FUSE.Meta.MusicVideo.PageDescription", { songName: e, artistName: t }) } function BK(n, e, t, i, r) { var s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F, N, O; const B = bn(n, t); if (!e.attributes) return B; const U = e.id, K = Ge(Ue.localization, t), W = e.attributes.name, Z = e.attributes.releaseDate, Q = $n(Z, t), G = Z ? new Date(Z).toISOString() : void 0, ae = (s = e.attributes) === null || s === void 0 ? void 0 : s.genreNames, ee = (a = (o = e.attributes) === null || o === void 0 ? void 0 : o.previews) === null || a === void 0 ? void 0 : a[0], pe = (l = ee == null ? void 0 : ee.artwork) === null || l === void 0 ? void 0 : l.url, ke = e.attributes.artwork, we = (c = (u = ke == null ? void 0 : ke.url) !== null && u !== void 0 ? u : pe) !== null && c !== void 0 ? c : B.artworkUrl, Te = we, ge = e.attributes.durationInMillis, Ce = Lu(ge, t), he = "mv", Ae = Hn.width, ze = Hn.height, Pe = "jpg", Oe = we ? di(we, { width: Ae, height: ze, crop: he, fileType: Pe }) : void 0, _e = we ? di(we, { width: (d = ke == null ? void 0 : ke.width) !== null && d !== void 0 ? d : Ae, height: (f = ke == null ? void 0 : ke.height) !== null && f !== void 0 ? f : ze, crop: he, fileType: Pe }) : void 0, Se = (h = (g = e.relationships) === null || g === void 0 ? void 0 : g.artists) === null || h === void 0 ? void 0 : h.data, Re = Zi(Se, i), Ze = (v = (m = e == null ? void 0 : e.attributes) === null || m === void 0 ? void 0 : m.artistName) !== null && v !== void 0 ? v : (y = (b = i.resource(Re[0])) === null || b === void 0 ? void 0 : b.attributes) === null || y === void 0 ? void 0 : y.name; function De(qn) { if (r != null && r.title && !qn) return r.title; if (r != null && r.socialTitle && qn) return r.socialTitle; if (W && Ze) { const gn = qn ? "FUSE.Meta.MusicVideo.Title" : "FUSE.Meta.MusicVideo.PageTitle"; return K.string(gn, { songName: W, artistName: Ze }) } return B == null ? void 0 : B.pageTitle } function xe() { if (r != null && r.socialDescription) return r.socialDescription; if (Q && Ce) return K.string("FUSE.Meta.MusicVideo.PageDescription.Social", { duration: Ce, year: Q }) } const Fe = De(), Be = yc(K, W, Ze, r), lt = De(!0), _t = xe(); function et(qn) { const gn = i.resource(qn); if (gn != null && gn.attributes) return { "@type": "MusicGroup", name: gn.attributes.name, url: gn.attributes.url } } function ie(qn) { var gn; const Nt = i.resource(qn); if (!(Nt != null && Nt.attributes)) return; const ds = (gn = Nt.attributes.artwork) === null || gn === void 0 ? void 0 : gn.url; return { "@type": "MusicVideoObject", name: Nt.attributes.name, url: Nt.attributes.url, image: ds ? di(ds, { width: Ae, height: ze, crop: he, fileType: Pe }) : void 0, potentialAction: mi(Nt.attributes.url, "WatchAction") } } const $e = (k = e == null ? void 0 : e.views) === null || k === void 0 ? void 0 : k[Ee.MoreInGenre], kt = (S = e == null ? void 0 : e.views) === null || S === void 0 ? void 0 : S[Ee.MoreByArtist], on = ge ? ea(ge) : void 0, Dn = { "@context": "http://schema.org", "@type": "MusicVideoObject", name: W, description: Be, url: n, video: { "@type": "VideoObject", name: W, contentUrl: ee.url, description: Be, duration: on, embedUrl: Dl(n), uploadDate: G, thumbnailUrl: _e, thumbnail: { "@type": "ImageObject", url: _e }, potentialAction: mi(n, "ViewAction") }, genre: ae != null ? ae : [], dateCreated: Z, duration: on, image: Oe, creator: (C = Re == null ? void 0 : Re.map(et)) !== null && C !== void 0 ? C : [], citation: (M = (P = $e == null ? void 0 : $e.data) === null || P === void 0 ? void 0 : P.map(ie)) !== null && M !== void 0 ? M : [], workExample: (F = (R = kt == null ? void 0 : kt.data) === null || R === void 0 ? void 0 : R.map(ie)) !== null && F !== void 0 ? F : [], potentialAction: mi(n, "WatchAction") }; return { ...B, pageTitle: Fe, description: Be, keywords: Ze && W ? K.string("FUSE.Meta.MusicVideo.PageKeywords", { songName: W, artistName: Ze }) : B.keywords, oembedData: ag(n, lt), appleContentId: U, appleTitle: W, appleDescription: Be, artworkUrl: Te, fileType: Pe, crop: he, twitterCropCode: "bf", twitterHeight: 600, ogType: "video.other", socialTitle: lt, socialDescription: _t, musicReleaseDate: G, artistUrls: Re.map(qn => { var gn; return (gn = qn.attributes) === null || gn === void 0 ? void 0 : gn.url }), videoUrl: ee == null ? void 0 : ee.url, videoHeight: (N = ee == null ? void 0 : ee.artwork) === null || N === void 0 ? void 0 : N.height, videoWidth: (O = ee == null ? void 0 : ee.artwork) === null || O === void 0 ? void 0 : O.width, schemaName: "schema:music-video", schemaContent: Dn } } async function UK(n, e, t, i) { if (!Vn(t) || !e) return n; const r = await vi(e.id, z.MusicVideos, t), s = BK(n.canonicalURL, e, t, i, r); return { ...n, seoData: s } } function Do(n, e) { if (!n) return; if (new RegExp("/album/").test(n)) { const i = new Ln(n); if (!i.pathname) return n; const { query: r = {} } = i, s = i.pathname.split("/"), o = e != null ? e : r.i; if (o) return s[s.indexOf("album")] = "song", s[s.length - 1] = o, delete r.i, i.pathname = s.join("/"), i.toString() } return n } function J0(n) { var e, t, i, r, s, o, a; return { url: Do((e = n == null ? void 0 : n.attributes) === null || e === void 0 ? void 0 : e.url, n == null ? void 0 : n.id), albumURL: (t = n == null ? void 0 : n.attributes) === null || t === void 0 ? void 0 : t.url, discNumber: (r = (i = n == null ? void 0 : n.attributes) === null || i === void 0 ? void 0 : i.discNumber) === null || r === void 0 ? void 0 : r.toString(), duration: !((s = n.attributes) === null || s === void 0) && s.durationInMillis ? ea(n.attributes.durationInMillis) : void 0, trackNumber: (a = (o = n == null ? void 0 : n.attributes) === null || o === void 0 ? void 0 : o.trackNumber) !== null && a !== void 0 ? a : void 0 } } function dM(n, e, t, i, r, s, o, a) { var l, u, c, d, f, g, h, m, v, b, y, k, S; const C = bn(e, s); if (!(n != null && n.attributes)) return C; const P = n.id, M = o ? (l = i == null ? void 0 : i.attributes) === null || l === void 0 ? void 0 : l.classicalUrl : null, R = M != null ? M : e, F = Ge(Ue.localization, s), N = (d = (c = (u = n.attributes) === null || u === void 0 ? void 0 : u.offers) === null || c === void 0 ? void 0 : c.every(De => De.type === "buy")) !== null && d !== void 0 ? d : !1, O = (f = n.attributes) === null || f === void 0 ? void 0 : f.releaseDate, B = $n(O, s), U = (g = n.attributes) === null || g === void 0 ? void 0 : g.name, K = (h = n.attributes) === null || h === void 0 ? void 0 : h.artistName, W = (m = n.attributes) === null || m === void 0 ? void 0 : m.durationInMillis, Z = (v = n.attributes) === null || v === void 0 ? void 0 : v.genreNames, Q = Z == null ? void 0 : Z[0], G = (k = (y = (b = n.attributes) === null || b === void 0 ? void 0 : b.artwork) === null || y === void 0 ? void 0 : y.url) !== null && k !== void 0 ? k : Ai.url, ae = "jpg", ee = Ai.height; function pe() { return a != null && a.title ? a.title : K && U ? F.string("FUSE.Meta.Credits.Title", { artistName: K, songName: U }) : C.pageTitle } function ke() { if (a != null && a.description) return a.description; if (B && W) { const De = Lu(W, s); if (N && K && U) return F.string("FUSE.Meta.Song.iTunes.PageDescription", { artistName: K, trackName: U, duration: De, year: B }); if (K && U) return F.string("FUSE.Meta.Song.Description", { artistName: K, trackName: U, duration: De, year: B }) } } function we() { return a != null && a.socialTitle ? a.socialTitle : K && U ? F.string("FUSE.Meta.Track.Title", { artistName: K, trackName: U }) : C.socialTitle } function Te() { if (a != null && a.socialDescription) return a.socialDescription; if (N) return Ce; if (W && B) return F.string("FUSE.Meta.Song.Description.Social", { year: B, duration: Lu(W, s) }) } const ge = pe(), Ce = ke(), he = we(), Ae = Te(), ze = [J0(n)]; function Pe() { if (U && K && Q) { const De = Ze("Album.PageKeywords"); return F.string(De, { albumName: U, artistName: K, genreName: Q }) } } function Oe(De) { const xe = t == null ? void 0 : t.filter(Be => !De || De.includes(Be.id)); return xe == null ? void 0 : xe.map(Be => { var lt, _t; return { "@type": "MusicGroup", name: (lt = Be == null ? void 0 : Be.attributes) === null || lt === void 0 ? void 0 : lt.name, url: (_t = Be == null ? void 0 : Be.attributes) === null || _t === void 0 ? void 0 : _t.url } }) } function _e() { var De, xe, Fe, Be, lt; const _t = (De = i == null ? void 0 : i.attributes) === null || De === void 0 ? void 0 : De.name, et = (Be = (Fe = (xe = i == null ? void 0 : i.relationships) === null || xe === void 0 ? void 0 : xe.artists) === null || Fe === void 0 ? void 0 : Fe.data) === null || Be === void 0 ? void 0 : Be.map(ie => ie.id); if (_t) return { "@type": "MusicAlbum", image: di(G, { width: 486, height: 486, crop: "bb", fileType: C.fileType }), url: (lt = i == null ? void 0 : i.attributes) === null || lt === void 0 ? void 0 : lt.url, name: _t, byArtist: Oe(et) } } function Se(De) { var xe, Fe, Be, lt, _t, et, ie; const $e = (xe = De == null ? void 0 : De.attributes) === null || xe === void 0 ? void 0 : xe.name; if (De != null && De.attributes && $e) { const { attributes: kt } = De, on = !((Fe = kt == null ? void 0 : kt.artwork) === null || Fe === void 0) && Fe.url ? di(kt.artwork.url, { width: (lt = (Be = kt.artwork) === null || Be === void 0 ? void 0 : Be.width) !== null && lt !== void 0 ? lt : Hn.width, height: (et = (_t = kt.artwork) === null || _t === void 0 ? void 0 : _t.height) !== null && et !== void 0 ? et : Hn.height, crop: "mv", fileType: "jpg" }) : void 0; return { "@type": "VideoObject", name: $e, contentUrl: (ie = kt.previews[0]) === null || ie === void 0 ? void 0 : ie.url, description: yc(F, kt == null ? void 0 : kt.name, kt == null ? void 0 : kt.artistName), duration: kt.durationInMillis ? ea(kt.durationInMillis) : void 0, embedUrl: Dl(kt == null ? void 0 : kt.url), uploadDate: kt.releaseDate ? new Date(kt.releaseDate).toISOString() : void 0, thumbnailUrl: on, thumbnail: { "@type": "ImageObject", url: on }, potentialAction: mi(kt.url, "ViewAction") } } } function Re() { var De, xe, Fe, Be, lt, _t; const et = W ? ea(W) : void 0, ie = Do((De = n == null ? void 0 : n.attributes) === null || De === void 0 ? void 0 : De.url, n == null ? void 0 : n.id), $e = el(O), kt = di(G, { width: Ai.width, height: ee, fileType: ae }), on = { "@type": "MusicRecording", name: U, url: ie, datePublished: $e, description: Ce, duration: et, image: kt, byArtist: Oe(), inAlbum: _e(), audio: { "@type": "AudioObject", name: U, contentUrl: (Be = (Fe = (xe = n == null ? void 0 : n.attributes) === null || xe === void 0 ? void 0 : xe.previews) === null || Fe === void 0 ? void 0 : Fe[0]) === null || Be === void 0 ? void 0 : Be.url, description: Ce, duration: et, uploadDate: $e, thumbnailUrl: kt, potentialAction: mi(ie, "ListenAction") } }; Z && (on.genre = Z); const Dn = { "@context": "http://schema.org", "@type": "MusicComposition", name: U, url: ie, datePublished: $e, description: Ce, timeRequired: et, image: kt, audio: on }; return r != null && r.length && (Dn.video = r.map(qn => Se(qn))), !((lt = n == null ? void 0 : n.attributes) === null || lt === void 0) && lt.hasLyrics && (!((_t = n == null ? void 0 : n.attributes) === null || _t === void 0) && _t.lyricsExcerpt) && (Dn.lyrics = { "@type": "CreativeWork", text: n.attributes.lyricsExcerpt }), Dn } function Ze(De) { const xe = ["FUSE.Meta", De]; return N && xe.push("iTunes"), xe.join(".") } return { ...C, noIndex: o, pageTitle: ge, description: Ce, keywords: Pe(), canonicalUrl: R, oembedData: ag((S = n.attributes) === null || S === void 0 ? void 0 : S.url, we()), artistUrls: t == null ? void 0 : t.map(De => { var xe; return (xe = De.attributes) === null || xe === void 0 ? void 0 : xe.url }), musicReleaseDate: O ? new Date(O).toISOString() : void 0, fileType: ae, height: ee, artworkUrl: G, crop: "wp", quality: Hn.quality, appleContentId: P, appleTitle: U, appleDescription: Ce, socialTitle: he, socialDescription: Ae, ogSongs: ze, ogType: "music.song", twitterCardType: "summary", twitterHeight: 600, twitterWidth: 600, twitterCropCode: "bf", schemaName: "schema:song", schemaContent: Re() } } async function HK(n, e, t) { var i, r, s, o, a, l, u, c; if (!Vn(e)) return n; const d = (i = t.body) === null || i === void 0 ? void 0 : i.data, f = (r = t.body) === null || r === void 0 ? void 0 : r.resources, g = f ? new gt(f, e) : void 0, h = g && d ? fo(d, g) : void 0, m = (o = (s = h == null ? void 0 : h.relationships) === null || s === void 0 ? void 0 : s.artists) === null || o === void 0 ? void 0 : o.data, v = g && m ? Zi(m, g) : void 0, b = (l = (a = h == null ? void 0 : h.relationships) === null || a === void 0 ? void 0 : a.albums) === null || l === void 0 ? void 0 : l.data, y = g && b ? fo(b, g) : void 0, k = (c = (u = h == null ? void 0 : h.relationships) === null || u === void 0 ? void 0 : u["music-videos"]) === null || c === void 0 ? void 0 : c.data, S = g && k ? Zi(k, g) : void 0; if (h && v) { const C = await vi(h.id, z.Songs, e), P = dM(h, n.canonicalURL, v, y, S, e, !1, C); return { ...n, seoData: P } } return n } function $K(n, e, t, i, r) { var s, o, a, l, u, c, d, f, g, h, m, v, b, y, k; const S = bn(n, e), C = (s = t.attributes) === null || s === void 0 ? void 0 : s.name; if (!C) return S; const P = t.id, M = (o = t.attributes) === null || o === void 0 ? void 0 : o.seoTitle, R = (a = t.attributes) === null || a === void 0 ? void 0 : a.seoDescription, F = (u = (l = t.attributes) === null || l === void 0 ? void 0 : l.classicalUrl) !== null && u !== void 0 ? u : n, N = Ge(Ue.localization, e), O = (c = t.attributes) === null || c === void 0 ? void 0 : c.artwork, B = (d = t.attributes) === null || d === void 0 ? void 0 : d.genreNames, U = "cw", K = (f = t.views) === null || f === void 0 ? void 0 : f["top-songs"].data, W = Zi(K, i), Z = (g = t.views) === null || g === void 0 ? void 0 : g["full-albums"].data, Q = Zi(Z, i); function G() { return M ? N.string("FUSE.Meta.Common.PageTitle", { seoTitle: M }) : r != null && r.title ? r.title : C ? N.string("FUSE.Meta.Artist.PageTitle", { artistName: C }) : S.pageTitle } function ae() { if (R) return R; if (r != null && r.description) return r.description; if (C) { const Pe = "FUSE.Meta.Artist.Description", Oe = W != null && W.length ? QE(W, 3) : [], _e = `${Pe}${nl({ items: Oe })}`; return N.string(_e, { artistName: C, listing1: Oe[0], listing2: Oe[1] }) } } function ee() { return r != null && r.socialTitle ? r.socialTitle : C ? N.string("FUSE.Meta.Artist.Title", { artistName: C }) : ke } function pe() { return r != null && r.socialDescription ? r.socialDescription : C ? N.string("FUSE.Meta.Artist.Description.Social", { artistName: C }) : we } const ke = G(), we = ae(), Te = ee(), ge = pe(); function Ce() { if (C) { const Pe = B == null ? void 0 : B[0]; return Pe ? N.string("FUSE.Meta.Artist.PageKeywords", { artistName: C, genreName: Pe }) : N.string("FUSE.Meta.Artist.PageKeywords.WithoutGenre", { artistName: C }) } } function he(Pe) { var Oe, _e, Se, Re, Ze; const De = (Oe = Pe == null ? void 0 : Pe.attributes) === null || Oe === void 0 ? void 0 : Oe.name, xe = (Se = (_e = Pe == null ? void 0 : Pe.attributes) === null || _e === void 0 ? void 0 : _e.artwork) === null || Se === void 0 ? void 0 : Se.url; if (De) { let Fe; return xe && (Fe = di(xe, { width: 486, height: 486, crop: "bb", fileType: S.fileType })), { "@type": "MusicAlbum", image: Fe, url: (Re = Pe == null ? void 0 : Pe.attributes) === null || Re === void 0 ? void 0 : Re.url, name: De, byArtist: { "@type": "MusicGroup", url: (Ze = t.attributes) === null || Ze === void 0 ? void 0 : Ze.url, name: C } } } } function Ae(Pe) { var Oe, _e, Se, Re, Ze, De, xe, Fe, Be, lt; const _t = (Oe = Pe.attributes) === null || Oe === void 0 ? void 0 : Oe.name, et = Do((_e = Pe.attributes) === null || _e === void 0 ? void 0 : _e.url), ie = (Se = Pe.attributes) === null || Se === void 0 ? void 0 : Se.durationInMillis, $e = ie ? ea(ie) : void 0, kt = (Ze = (Re = Pe.attributes) === null || Re === void 0 ? void 0 : Re.artwork) === null || Ze === void 0 ? void 0 : Ze.url, on = kt ? di(kt, { width: Ai.width, height: Ai.height, fileType: S.fileType, crop: U }) : void 0, Dn = (De = Pe.attributes) === null || De === void 0 ? void 0 : De.releaseDate, qn = { "@type": "MusicRecording", name: _t, duration: $e, url: et, offers: { "@type": "Offer", category: "free", price: 0 } }, gn = { name: _t, contentUrl: (Be = (Fe = (xe = Pe.attributes) === null || xe === void 0 ? void 0 : xe.previews) === null || Fe === void 0 ? void 0 : Fe[0]) === null || Be === void 0 ? void 0 : Be.url, duration: $e, uploadDate: Dn ? el(Dn) : void 0, thumbnailUrl: on }; return Pe.type === z.Songs && (qn.audio = { "@type": "AudioObject", potentialAction: mi(et, "ListenAction"), ...gn }), Pe.type === z.MusicVideos && (qn.video = { "@type": "VideoObject", description: yc(N, _t, (lt = Pe.attributes) === null || lt === void 0 ? void 0 : lt.artistName, r), embedUrl: Dl(et), potentialAction: mi(et, "ViewAction"), thumbnail: { "@type": "ImageObject", url: on }, ...gn }), qn } const ze = (m = (h = t.attributes) === null || h === void 0 ? void 0 : h.artwork) === null || m === void 0 ? void 0 : m.url; return { ...S, pageTitle: ke, description: we, keywords: Ce(), canonicalUrl: F, appleContentId: P, appleTitle: C, appleDescription: we, ogType: "music.musician", socialTitle: Te, socialDescription: ge, crop: U, twitterCropCode: U, artworkUrl: (v = O == null ? void 0 : O.url) !== null && v !== void 0 ? v : S.artworkUrl, schemaName: "schema:music-group", schemaContent: { "@context": "http://schema.org", "@type": "MusicGroup", name: C, description: (k = (b = r == null ? void 0 : r.description) !== null && b !== void 0 ? b : (y = t.attributes) === null || y === void 0 ? void 0 : y.artistBio) !== null && k !== void 0 ? k : we, image: ze ? di(ze, { width: 486, height: 486, crop: "bb", fileType: S.fileType }) : null, genre: B, tracks: W == null ? void 0 : W.map(Pe => Ae(Pe)), albums: Q == null ? void 0 : Q.map(Pe => he(Pe)), url: n, potentialAction: mi(F, "ListenAction") } } } function VK(n, e, t, i) { var r, s; if (e === Ee.SimilarArtists) { const a = Ge(Ue.localization, t).string("FUSE.Meta.Artist.SimilarArtists.Title", { artistName: (r = i == null ? void 0 : i.attributes) === null || r === void 0 ? void 0 : r.name }); return { ...n, seoData: { url: (s = i == null ? void 0 : i.attributes) === null || s === void 0 ? void 0 : s.url, pageTitle: a } } } return n } async function zK(n, e, t, i) { if (!Vn(e) || !(n != null && n.canonicalURL)) return n; const r = await vi(t.id, z.Artists, e), s = $K(n.canonicalURL, e, t, i, r); return { ...n, seoData: s } } function Y0(n, e, t, i) { const r = { id: n, itemKind: "groupTextListLockup", presentation: { kind: "single" }, items: [e], displaySeparator: !1, backgroundTreatment: t }; if (tt(i)) { const s = { title: i }; r.header = { kind: "default", item: { titleLink: s, accessoryButtons: null } } } return r } function qK(n, e, t) { var i, r, s, o, a, l, u; const c = (i = n == null ? void 0 : n.attributes) === null || i === void 0 ? void 0 : i.artistBio, d = Ge(Ue.localization, t), f = [], g = (r = n == null ? void 0 : n.attributes) === null || r === void 0 ? void 0 : r.isGroup, h = (s = n == null ? void 0 : n.attributes) === null || s === void 0 ? void 0 : s.origin; h && f.push({ title: g ? d.string("FUSE.Artist.Bio.Origin") : d.string("FUSE.Artist.Bio.Hometown"), content: h }); const m = (o = n == null ? void 0 : n.attributes) === null || o === void 0 ? void 0 : o.bornOrFormed; if (m && f.push({ title: g ? d.string("FUSE.ArtistBio.Debuted") : d.string("FUSE.ArtistBio.Born"), content: m }), yt(c) && !f.length) return; const v = (a = n.attributes) === null || a === void 0 ? void 0 : a.genreNames; v && v.length > 0 && f.push({ title: d.string("FUSE.ArtistBio.Genre"), content: v.join(d.string("FUSE.Punctuation.ItemSeperator")) }); const b = { id: qe("artist-bio", n.id, t), modalPresentationDescriptor: { headerTitle: (l = n == null ? void 0 : n.attributes) === null || l === void 0 ? void 0 : l.name, headerSubtitle: WK(n, t), paragraphText: c }, subsections: f }, y = (u = n == null ? void 0 : n.attributes) === null || u === void 0 ? void 0 : u.name, k = y ? d.string("FUSE.About.Creator", { name: y }) : null, S = it(`artist-bio-section - ${n.id}`, t); return Y0(S, b, "alternate", k) } function WK(n, e) { var t, i, r, s; const o = Ge(Ue.localization, e), a = (t = n.attributes) === null || t === void 0 ? void 0 : t.bornOrFormed, l = (r = (i = n.attributes) === null || i === void 0 ? void 0 : i.genreNames) === null || r === void 0 ? void 0 : r[0], u = (s = n.attributes) === null || s === void 0 ? void 0 : s.origin; if (a && l && u) { const c = o.string("AMWEB.ContentA.Middot.ContentB", { contentA: u, contentB: a }); return o.string("AMWEB.ContentA.Middot.ContentB", { contentA: c, contentB: l }) } return null } function KK(n, e) { return { id: n, itemKind: "artistDetailFooter", presentation: { kind: "single" }, items: e } } function JK(n, e, t) { var i, r, s, o, a; const l = it(`artist-detail-footer-${n.id}`, t); return KK(l, [{ id: qe(l, (r = (i = n.attributes) === null || i === void 0 ? void 0 : i.name) !== null && r !== void 0 ? r : "", t), title: `${(s = n.attributes) === null || s === void 0 ? void 0 : s.name} on Apple`, displayStyle: "externalLink", segue: En((o = n.attributes) === null || o === void 0 ? void 0 : o.url, (a = n.attributes) === null || a === void 0 ? void 0 : a.name, t, { external: !0 }) }]) } function YK(n, e) { return { id: n, itemKind: "artistDetailHeaderLockup", presentation: { kind: "single" }, items: [e], header: null, invalidationRules: null } } function XK(n, e, t) { var i, r, s, o, a, l, u; const c = n.attributes, d = rt(n, t); let f; const g = (i = e == null ? void 0 : e.body) === null || i === void 0 ? void 0 : i.data, h = (r = e == null ? void 0 : e.body) === null || r === void 0 ? void 0 : r.resources; let m; if (tt(g) && tt(h)) { const P = new gt(h, t), M = P.resource(g[0]), R = (a = (o = (s = M == null ? void 0 : M.relationships) === null || s === void 0 ? void 0 : s["default-playable-content"]) === null || o === void 0 ? void 0 : o.data) === null || a === void 0 ? void 0 : a[0], F = P.resource(R); F && (m = rt(F, t)), tt(e) && !og(e) && (f = (u = (l = M == null ? void 0 : M.attributes) === null || l === void 0 ? void 0 : l.inFavorites) !== null && u !== void 0 ? u : !1) } const v = m ? Rt(m, t) : HE(d, t), b = ZK(c), y = QK(n), k = { id: qe("artist-detail-header", n.id, t), artwork: jK(n, t), title: c == null ? void 0 : c.name, contentDescriptor: d, playAction: v, uberArtwork: y, isArtistFavorited: f, videoArtwork: b }; if (n.attributes && n.attributes.classicalUrl !== void 0) { const P = { id: qe("classical-button", n.id, t), segue: En(n.attributes.classicalUrl, null, t, { external: !0 }) }; k.classicalButton = P } const S = it(`artist-detail-header-section - ${n.id}`, t), C = YK(S, k); return C.backgroundTreatment = (y != null ? y : b) ? "none" : null, C } function ZK(n) { var e, t; const i = (e = n == null ? void 0 : n.editorialVideo) === null || e === void 0 ? void 0 : e.motionArtistWide16x9, r = jr({ motionArtistWide16x9: i }, cr.SpecificRectangle); if (tt(r)) return r; const s = (t = n == null ? void 0 : n.editorialVideo) === null || t === void 0 ? void 0 : t.motionArtistSingular16x9; return jr({ motionArtistSingular16x9: s }, cr.SquareCenterCrop) } function QK(n) { var e, t, i, r, s, o; const a = n.attributes, l = (e = a == null ? void 0 : a.editorialArtwork) === null || e === void 0 ? void 0 : e.centeredFullscreenBackground; if (l) return st(l, zt.FixedArtworkCropCode); const u = (s = (r = (i = (t = a == null ? void 0 : a.hero) === null || t === void 0 ? void 0 : t[0]) === null || i === void 0 ? void 0 : i.content) === null || r === void 0 ? void 0 : r[0]) === null || s === void 0 ? void 0 : s.artwork; return ((o = u == null ? void 0 : u.recommendedCropCodes) === null || o === void 0 ? void 0 : o.includes(zt.HeroGalleryCrop)) === !0 ? st(u, zt.HeroGalleryCrop) : null } function jK(n, e) { var t, i, r, s; const o = n.attributes, a = (s = (r = (i = (t = o == null ? void 0 : o.hero) === null || t === void 0 ? void 0 : t[0]) === null || i === void 0 ? void 0 : i.content) === null || r === void 0 ? void 0 : r[0]) === null || s === void 0 ? void 0 : s.artwork; return a ? st(a) : !rg(e) || P0(GK, e) ? null : st(o == null ? void 0 : o.artwork, zt.AlbumFallbackArt) } const GK = { majorNumber: 22, majorLetter: "A", minorNumber: 243, isSeedBuild: !1 }, xK = { majorNumber: 22, majorLetter: "A", minorNumber: 248, isSeedBuild: !1 }; function eJ(n, e, t) { var i, r, s, o, a; let l; const u = (i = V3(Ee.FeaturedRelease, n, e)) !== null && i !== void 0 ? i : V3(Ee.LatestRelease, n, e); u && (l = tJ(u, n, t)); const c = [], d = (r = n == null ? void 0 : n.views) === null || r === void 0 ? void 0 : r[Ee.TopSongs]; if (yt(d)) return null; const f = (s = d.data) !== null && s !== void 0 ? s : []; e.resources(f).forEach(m => { var v, b; const y = sJ((v = m.attributes) === null || v === void 0 ? void 0 : v.albumName, (b = m.attributes) === null || b === void 0 ? void 0 : b.releaseDate, t), k = rt(m, t); if (yt(k)) return; const S = { ...So(m.id, m, n.type, n, e, t, !1), subtitleLinks: Dt(y), layoutStyle: "shelfTrackList", tertiaryLinks: null, segue: Wt(k, m, "ShelfItem", t), openContextualMenuAction: { $kind: "openContextualMenuAction", actionMetrics: Zs(t, k, "ShelfItem", "contextualMenu") } }; c.push(S) }); const g = it(`latest-release-and-top-songs - ${n.id}`, t), h = rg(t) && P0(xK, t); return c.length === 0 && tt(l) && h ? { id: g, itemKind: "artistLatestReleaseLockup", items: [l.item], presentation: { kind: "single" }, header: cn(l.title) } : { id: g, itemKind: "trackLockup", presentation: { kind: "collection", layout: { kind: "shelf", numberOfRows: 3 } }, items: c, header: { kind: "default", item: { titleLink: { title: (o = d == null ? void 0 : d.attributes) === null || o === void 0 ? void 0 : o.title, segue: lM(d, Ee.TopSongs, t, d.id, (a = d == null ? void 0 : d.attributes) === null || a === void 0 ? void 0 : a.title, n) } } }, pinnedLeadingItem: l } } function V3(n, e, t) { var i, r, s; const o = (i = e == null ? void 0 : e.views) === null || i === void 0 ? void 0 : i[n], a = (r = o == null ? void 0 : o.data) === null || r === void 0 ? void 0 : r[0], l = t.resource(a); return !l || !l.attributes ? null : { title: (s = o == null ? void 0 : o.attributes) === null || s === void 0 ? void 0 : s.title, resource: l } } function tJ(n, e, t) { var i, r, s, o, a, l; if (n.resource.type === z.Stations) return nJ(n, e, t); const u = rt(n.resource, t), c = Rt(u, t), d = qe("latest-release", n.resource.id, t), f = e.type === z.Albums ? IM(n.resource, t) : !1, g = f ? Qe.string("FUSE.PreRelease", t) : n.title, h = vq((i = n.resource.attributes) === null || i === void 0 ? void 0 : i.releaseDate, t), m = AE((r = n.resource.attributes) === null || r === void 0 ? void 0 : r.durationInMillis, t), v = mg((s = n.resource.attributes) === null || s === void 0 ? void 0 : s.trackCount, t); return { item: { id: d, headline: f && tt(h) ? Qe.string("Fuse.Artist.PreRelease", t, { releaseDate: h }) : h, title: (o = n.resource.attributes) === null || o === void 0 ? void 0 : o.name, subtitle: rM(n.resource) ? m : v, contentDescriptor: u, artwork: st((a = n.resource.attributes) === null || a === void 0 ? void 0 : a.artwork, zt.SpecificRectangle), playAction: c, segue: Wt(u, e, "GridItem", t), showExplicitBadge: Vt(n.resource.attributes), artworkStyling: fM(n.resource.type), trackCount: (l = n.resource.attributes) === null || l === void 0 ? void 0 : l.trackCount }, kind: "artistLatestReleaseLockup", title: g } } function nJ(n, e, t) { var i, r, s, o, a, l; const u = rt(n.resource, t), c = Rt(u, t); return { item: { id: qe("latest-release", n.resource.id, t), headline: iJ((r = (i = n.resource.attributes) === null || i === void 0 ? void 0 : i.airTime) === null || r === void 0 ? void 0 : r.start, t), title: (s = n.resource.attributes) === null || s === void 0 ? void 0 : s.name, subtitle: An((o = n.resource) === null || o === void 0 ? void 0 : o.attributes), contentDescriptor: u, artwork: st((a = n.resource.attributes) === null || a === void 0 ? void 0 : a.artwork, zt.SpecificRectangle), playAction: c, segue: Wt(u, e, "GridItem", t), showExplicitBadge: Vt(n.resource.attributes), artworkStyling: fM(n.resource.type), trackCount: (l = n.resource.attributes) === null || l === void 0 ? void 0 : l.trackCount }, kind: "artistLatestReleaseLockup", title: n.title } } function fM(n) { switch (n) { case z.MusicVideos: case z.MusicMovies: case z.TVEpisodes: case z.UploadedVideos: return zd.Brick; default: return zd.Square } } function iJ(n, e) { if (!n) return null; const t = EE(new Date(n), e); return t ? Qe.string("Fuse.Artist.AiredDate", e, { airedDate: t }) : null } function mg(n, e) { return n ? n === 1 ? Qe.string("FUSE.Social.Onboarding.SharePlaylists.Songs.One", e) : Qe.string("FUSE.Social.Onboarding.SharePlaylists.Songs.Others", e, { num: `${n}` }) : null } function rJ(n, e) { return n ? n === 1 ? Qe.string("FUSE.NoOfVideos.one", e) : Qe.string("FUSE.NoOfVideos.other", e, { count: `${n}` }) : null } function sJ(n, e, t) { const i = Ge(Ue.localization, t), r = $n(e, t); return r ? i.string("AMWEB.ContentA.Middot.ContentB", { contentA: n, contentB: r }) : n } function oJ(n, e, t) { var i, r, s, o, a, l, u, c, d, f, g; const h = (i = n.body) === null || i === void 0 ? void 0 : i.data; if (!h || h.length === 0) throw new Error("No resource identifiers in artist detail page response"); const m = (r = n.body) === null || r === void 0 ? void 0 : r.resources; if (!m) throw new Error("No resource map in artist detail page response"); const v = new gt(m, t), b = v.resource(h[0]); if (!b) throw new Error("No container in artist detail page response."); const y = [], k = XK(b, e, t); if (k) y.push(k); else throw new Error("Unable to create artist detail header."); const S = eJ(b, v, t); S && (y.push(Wd(b.id, t)), y.push(S)), [Ee.FeaturedAlbums, Ee.FullAlbums, Ee.MusicVideos, Ee.Playlists, Ee.Singles, Ee.LiveAlbums, Ee.CompilationAlbums, Ee.AppearsOnAlbums, Ee.FeaturedOnAlbums, Ee.RadioShows, Ee.MoreToHear, Ee.MoreToSee].forEach(U => { const K = ga(b, U, t, v); K && y.push(K) }); const P = y.length - 1, M = y == null ? void 0 : y[P], R = qK(b, m, t); R && y.push(R); const F = uM(b, Ee.SimilarArtists, v, t); if (F && (F.backgroundTreatment = "alternate", y.push(F)), mt.canRenderArtistSnapshotLink(t)) { const U = (l = (a = (o = (s = b.relationships) === null || s === void 0 ? void 0 : s.persons) === null || o === void 0 ? void 0 : o.data) === null || a === void 0 ? void 0 : a[0]) !== null && l !== void 0 ? l : (d = (c = (u = b.relationships) === null || u === void 0 ? void 0 : u.bands) === null || c === void 0 ? void 0 : c.data) === null || d === void 0 ? void 0 : d[0], K = v.resource(U); if (K) { const W = JK(K, v, t); W.backgroundTreatment = "alternate", y.push(W) } } (tt(R) || tt(F)) && tt(M) && y.splice(P + 1, 0, Wd(`footer-spacer-${b.id}`, t, "alternate")); const O = { pageDetails: { content: (f = b == null ? void 0 : b.attributes) === null || f === void 0 ? void 0 : f.name } }, B = { pageMetrics: tn(t, n, "artist_detail", "Artist", v, null, O), sections: y, canonicalURL: (g = b == null ? void 0 : b.attributes) === null || g === void 0 ? void 0 : g.url }; return zK(B, t, b, v) } function gM(n, e, t, i, r) { const s = rt(n, t), o = n.attributes, a = { id: qe(e, n.id, t, i), artwork: st(o == null ? void 0 : o.artwork, zt.SquareCenterCrop), titleLinks: Dt(o == null ? void 0 : o.name), contentDescriptor: s, subtitleLinks: r, segue: Wt(s, n, "ShelfItem", t), playAction: Rt(s, t), numberOfSocialBadges: 3, showExplicitBadge: Vt(o), accessibilityLabel: o == null ? void 0 : o.name, trackCount: o == null ? void 0 : o.trackCount, isAOD: _r(n) }; return nr(n) && (a.radioStation = { isLiveRadio: Lr(n), isBroadcastRadio: Tr(n), isRadioEpisode: _i(n) }), a } function Kd(n, e, t, i, r, s) { var o, a; const l = (a = $n((o = n.attributes) === null || o === void 0 ? void 0 : o.releaseDate, i)) !== null && a !== void 0 ? a : An(n.attributes), u = Dt(l); return gM(n, t, i, s, u) } function aJ(n, e, t, i, r, s) { var o, a, l; const u = mg((o = n.attributes) === null || o === void 0 ? void 0 : o.trackCount, i), c = (l = u != null ? u : $n((a = n.attributes) === null || a === void 0 ? void 0 : a.releaseDate, i)) !== null && l !== void 0 ? l : An(n.attributes), d = Dt(c); return gM(n, t, i, s, d) } function hM(n, e, t, i, r, s) { var o, a, l, u, c, d, f; const g = rt(n, t), h = n.attributes, m = (l = (o = h == null ? void 0 : h.previewArtwork) !== null && o !== void 0 ? o : (a = h == null ? void 0 : h.editorialArtwork) === null || a === void 0 ? void 0 : a.browseCover) !== null && l !== void 0 ? l : h == null ? void 0 : h.artwork, b = (g == null ? void 0 : g.kind) === x.ArtistUploadedVideo ? Lu(h == null ? void 0 : h.durationInMilliseconds, t) : null, y = (c = b != null ? b : $n((u = n.attributes) === null || u === void 0 ? void 0 : u.releaseDate, t)) !== null && c !== void 0 ? c : (d = n.attributes) === null || d === void 0 ? void 0 : d.artistName, k = Dt(y); return { id: qe(e, n.id, t, i), artwork: st(m), titleLinks: Dt(h == null ? void 0 : h.name), contentDescriptor: g, subtitleLinks: k, segue: Wt(g, n, "ShelfItem", t), playAction: Rt(g, t, r), showExplicitBadge: Vt(h), accessibilityLabel: (f = n.attributes) === null || f === void 0 ? void 0 : f.name, displayStyle: s } } function mM(n, e, t, i, r, s, o) { return hM(n, t, i, s, o, Us.Small) } function pM(n, e, t, i, r, s, o) { return hM(n, t, i, s, o) } function xs(n, e) { return { id: n, itemKind: "headerComponentModel", presentation: { kind: "single" }, items: [e], displaySeparator: !1 } } function _M(n, e) { var t, i; const r = n.attributes; return r ? (i = (t = r.curatorName) !== null && t !== void 0 ? t : $n(r.releaseDate, e)) !== null && i !== void 0 ? i : An(r) : null } function vM(n, e, t) { var i; switch (n.type) { case z.Albums: return Gi(n, e, t); case z.Playlists: return aI(n, e, t); default: return (i = Gi(n, e, t)) !== null && i !== void 0 ? i : Dt(_M(n, t)) } } async function lJ(n, e) { var t, i, r, s, o, a; const l = (t = n.body) === null || t === void 0 ? void 0 : t.data; if (!l || l.length === 0) throw new Error("No resource identifiers in editorial page response"); const u = (i = n.body) === null || i === void 0 ? void 0 : i.resources; if (!u) throw new Error("No resource map in editorial page response"); const c = new gt(u, e), d = c.resource(l[0]), f = [], g = uJ(d, e); g && f.push(...g), ((o = (s = (r = d == null ? void 0 : d.meta) === null || r === void 0 ? void 0 : r.views) === null || s === void 0 ? void 0 : s.order) !== null && o !== void 0 ? o : [Ee.TopReleases, Ee.LatestReleases]).forEach(v => { if (d) { const b = ga(d, v, e, c); b && f.push(b) } }); const m = cJ(d, e); return m && f.push(m), { pageMetrics: tn(e, n, "record_label_detail", "RecordLabel", c), sections: f, canonicalURL: (a = d == null ? void 0 : d.attributes) === null || a === void 0 ? void 0 : a.url } } function uJ(n, e) { var t, i, r, s, o, a; if (!n) return null; const l = n.attributes; if (!l) return null; const u = [], c = { id: qe("curator-detail-header", n.id, e), artwork: st((s = (i = (t = l.editorialArtwork) === null || t === void 0 ? void 0 : t.bannerUber) !== null && i !== void 0 ? i : (r = l.editorialArtwork) === null || r === void 0 ? void 0 : r.subscriptionCover) !== null && s !== void 0 ? s : (o = l.editorialArtwork) === null || o === void 0 ? void 0 : o.subscriptionHero), coverArtwork: null }, d = { id: it(`curator-detail-header-section - ${n.id}`, e), items: [c], itemKind: "curatorDetailHeaderComponentModel", presentation: { kind: "single" } }; u.push(d); const f = { id: qe("title-header-component", n.id, e), title: (a = l.name) !== null && a !== void 0 ? a : "", contentDescriptor: rt(n, e) }, g = it(`title-header-section - ${n.id}`, e), h = xs(g, f); return u.push(h), u } function cJ(n, e) { if (!n) return null; const t = As(n.attributes); if (!t) return de.warn(e, `Dropping bio section for container: '${JSON.stringify(n)}'`), null; const i = Ge(Ue.localization, e), r = { id: qe("record-label-bio", n.id, e), modalPresentationDescriptor: { paragraphText: t } }, s = i.string("FUSE.Bio.About"), o = it(`record-label-bio-section - ${n.id}`, e); return { ...Y0(o, r, null, s), backgroundTreatment: "alternate" } } function dJ(n, e, t, i, r) { var s; return { ...K0(n, t, i, !1), headline: tg((s = n.attributes) === null || s === void 0 ? void 0 : s.releaseDate, i), subtitle: _M(n, i), playAction: Rt(rt(n, i), i), showExplicitBadge: Vt(n.attributes), numberOfSocialBadges: 3 } } var go; (function (n) { n.Small = "small", n.Regular = "regular", n.Large = "large" })(go || (go = {})); var fp; (function (n) { n.Default = "default", n.Selection = "selection" })(fp || (fp = {})); function X0(n, e) { var t, i, r, s, o; if (!_i(n)) return An(n.attributes); let a = (i = (t = n.attributes) === null || t === void 0 ? void 0 : t.plainEditorialNotes) === null || i === void 0 ? void 0 : i.standard; const l = (s = (r = n.relationships) === null || r === void 0 ? void 0 : r["radio-show"]) === null || s === void 0 ? void 0 : s.data; if (tt(l) && l.length > 0) { const u = e.resource(l[0]); a = (o = u == null ? void 0 : u.attributes) === null || o === void 0 ? void 0 : o.shortName } return a } function Ka(n, e, t, i, r, s, o) { var a, l, u, c; const d = (a = n.attributes) === null || a === void 0 ? void 0 : a.artwork, f = (l = n.attributes) === null || l === void 0 ? void 0 : l.name, g = qe(t, n.id, i, s), h = rt(n, i, r); h || de.warn(i, `For childID = ${g}, contentDescriptor missing, skipping...`); const m = { id: g, artwork: st(d), titleLinks: Dt(f), contentDescriptor: h, segue: Wt(h, n, "ShelfItem", i), accessibilityLabel: (u = n.attributes) === null || u === void 0 ? void 0 : u.name, subtitleLinks: vM(n, r, i), playAction: Rt(rt(n, i), i), numberOfSocialBadges: 3, showExplicitBadge: Vt(n == null ? void 0 : n.attributes), trackCount: (c = n.attributes) === null || c === void 0 ? void 0 : c.trackCount, isAOD: _r(n) }; return nr(n) && (m.radioStation = { isLiveRadio: Lr(n), isBroadcastRadio: Tr(n), isRadioEpisode: _i(n) }), m } function bM(n, e, t, i, r, s, o) { return yM(n, e, t, i, r, s, o, !0) } function fJ(n, e, t, i, r, s, o) { return yM(n, e, t, i, r, s, o, !1) } function yM(n, e, t, i, r, s, o, a) { var l, u, c, d, f, g, h; const m = (u = (l = a ? As(n.attributes) : void 0) !== null && l !== void 0 ? l : An(n.attributes)) !== null && u !== void 0 ? u : $n((c = n.attributes) === null || c === void 0 ? void 0 : c.releaseDate, i), v = (d = n.attributes) === null || d === void 0 ? void 0 : d.artwork, b = (f = n.attributes) === null || f === void 0 ? void 0 : f.name, y = qe(t, n.id, i, s), k = rt(n, i, r); return k || de.warn(i, `For childID = ${y}, contentDescriptor missing, skipping...`), { id: y, artwork: st(v, zt.SquareCenterCrop), titleLinks: Dt(b), contentDescriptor: k, segue: Wt(k, n, "ShelfItem", i), accessibilityLabel: (g = n.attributes) === null || g === void 0 ? void 0 : g.name, subtitleLinks: Dt(m), playAction: Rt(rt(n, i), i), numberOfSocialBadges: 3, showExplicitBadge: Vt(n == null ? void 0 : n.attributes), displayStyle: go.Large, trackCount: (h = n == null ? void 0 : n.attributes) === null || h === void 0 ? void 0 : h.trackCount } } function Fu(n, e, t, i, r, s, o) { var a, l, u; const c = K0(n, t, i, s), d = n.attributes, f = (u = (a = d == null ? void 0 : d.previewArtwork) !== null && a !== void 0 ? a : (l = d == null ? void 0 : d.editorialArtwork) === null || l === void 0 ? void 0 : l.browseCover) !== null && u !== void 0 ? u : d == null ? void 0 : d.artwork; return { ...c, titleLinks: Dt(c.title), subtitleLinks: vM(n, r, i), playAction: Rt(rt(n, i), i, o), showExplicitBadge: Vt(n == null ? void 0 : n.attributes), artwork: st(f) } } function gJ(n, e, t, i, r, s, o) { return { ...Fu(n, e, t, i, r, s, o), displayStyle: Us.Large } } var Ee; (function (n) { n.TopSongs = "top-songs", n.FeaturedAlbums = "featured-albums", n.Playlists = "playlists", n.FullAlbums = "full-albums", n.Singles = "singles", n.LiveAlbums = "live-albums", n.CompilationAlbums = "compilation-albums", n.FeaturedOnAlbums = "featured-on-albums", n.MoreToHear = "more-to-hear", n.AppearsOnAlbums = "appears-on-albums", n.AppearsOn = "appears-on", n.MoreToSee = "more-to-see", n.TopMusicVideos = "top-music-videos", n.MusicVideos = "music-videos", n.SimilarArtists = "similar-artists", n.FeaturedArtists = "featured-artists", n.FeaturedRelease = "featured-release", n.LatestRelease = "latest-release", n.RadioShows = "radio-shows", n.OtherVersions = "other-versions", n.YouMightAlsoLike = "you-might-also-like", n.RelatedVideos = "related-videos", n.AudioExtras = "audio-extras", n.VideoExtras = "video-extras", n.MoreByCurator = "more-by-curator", n.Contributors = "contributors", n.Collaborators = "collaborators", n.FriendsWhoListened = "friends-who-listened", n.FriendsWhoAdded = "subscribers", n.TopReleases = "top-releases", n.LatestReleases = "latest-releases", n.OtherEpisodes = "other-episodes", n.MusicArtists = "music-artists", n.CrossMerchandise = "cross-merchandise", n.MoreByArtist = "more-by-artist", n.MoreInGenre = "more-in-genre" })(Ee || (Ee = {})); function ga(n, e, t, i, r) { switch (e) { case Ee.TopSongs: case Ee.OtherEpisodes: case Ee.LatestRelease: case Ee.FeaturedRelease: return null; case Ee.FeaturedAlbums: return Ii(n, r != null ? r : e, e, t, "squareLockup", i, bM); case Ee.Playlists: case Ee.CrossMerchandise: case Ee.RadioShows: return Ii(n, r != null ? r : e, e, t, "squareLockup", i, fJ); case Ee.FullAlbums: case Ee.Singles: case Ee.LiveAlbums: case Ee.CompilationAlbums: case Ee.FeaturedOnAlbums: case Ee.MoreToHear: case Ee.MoreByCurator: return Ii(n, r != null ? r : e, e, t, "squareLockup", i, Kd); case Ee.AppearsOnAlbums: case Ee.AppearsOn: case Ee.AudioExtras: case Ee.YouMightAlsoLike: return Ii(n, r != null ? r : e, e, t, "squareLockup", i, Ka); case Ee.MoreToSee: return Ii(n, r != null ? r : e, e, t, "verticalVideoLockup", i, mM); case Ee.TopMusicVideos: case Ee.MusicVideos: return Ii(n, r != null ? r : e, e, t, "verticalVideoLockup", i, pM); case Ee.SimilarArtists: case Ee.MusicArtists: case Ee.FeaturedArtists: case Ee.Contributors: case Ee.Collaborators: case Ee.FriendsWhoListened: case Ee.FriendsWhoAdded: return uM(n, e, i, t); case Ee.TopReleases: { const s = Ii(n, r != null ? r : e, e, t, "squareLockup", i, Ka); return z3(s, 2) } case Ee.LatestReleases: { const s = Ii(n, r != null ? r : e, e, t, "horizontalLockup", i, dJ); return z3(s, 2) } case Ee.VideoExtras: case Ee.RelatedVideos: return Ii(n, "video", e, t, "verticalVideoLockup", i, gJ); case Ee.MoreInGenre: return n.type === z.MusicVideos ? Ii(n, "video", e, t, "verticalVideoLockup", i, Fu) : Ii(n, "audio", e, t, "squareLockup", i, Ka); case Ee.OtherVersions: return Ii(n, r != null ? r : e, e, t, "squareLockup", i, aJ); case Ee.MoreByArtist: return n.type === z.MusicVideos ? Ii(n, "video", e, t, "verticalVideoLockup", i, Fu) : Ii(n, r != null ? r : e, e, t, "squareLockup", i, Kd) } } function z3(n, e) { if (n) { const t = n.presentation.layout; t.numberOfRows = e } return n } function wM(n) { switch (n) { case x.EditorialItem: case x.Artist: case x.AppleCurator: case x.Curator: case x.RecordLabel: case x.SocialProfile: case x.TVShow: return !1; default: return !0 } } function kM(n) { switch (n) { case x.Song: case x.MusicVideo: case x.ArtistUploadedSong: case x.ArtistUploadedVideo: case x.TVEpisode: case x.Movie: return !0; default: return !1 } } function hJ(n, e, t, i, r, s, o, a) { var l; if (n.length === 0 || n.findIndex(g => !wM(g.kind)) >= 0) return null; const u = n.findIndex(g => !kM(g.kind)) >= 0, c = n.map(g => ({ contentDescriptor: g })), d = bo(r), f = s != null ? s : "button"; return { $kind: "shuffleAction", actionMetrics: Zs(e, i != null ? i : (l = c == null ? void 0 : c[0]) === null || l === void 0 ? void 0 : l.contentDescriptor, f, "shuffle", a, d), items: c, containerContentDescriptor: i, featureName: o, groupingIdentifier: u ? null : t } } function mJ(n, e, t, i, r, s = !1) { const o = T0(n, e, s); if (o) return o; if (!n || !wM(n.kind)) return null; const a = bo(r); return { $kind: "shuffleAction", actionMetrics: Zs(e, n, "button", "shuffle", void 0, a), items: [{ contentDescriptor: n }], containerContentDescriptor: i, groupingIdentifier: kM(n.kind) ? t : null } } function DM(n, e, t) { var i, r, s, o, a, l; const u = (s = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.catalog) === null || r === void 0 ? void 0 : r.data) === null || s === void 0 ? void 0 : s[0], c = e.resource(u), d = !((a = (o = n.attributes) === null || o === void 0 ? void 0 : o.artwork) === null || a === void 0) && a.url ? n.attributes.artwork : (l = c == null ? void 0 : c.attributes) === null || l === void 0 ? void 0 : l.artwork; return d != null && d.url && de.warn(t, `Artwork missing for the resource ${n.id}`), d } function pJ(n, e, t) { var i, r, s, o, a; const l = n.attributes, u = l == null ? void 0 : l.audioTraits, c = l == null ? void 0 : l.isMasteredForItunes, d = rt(n, t, e), f = it(`album-detail-header-section - ${n.id}`, t), g = n.id, h = CM(n), m = (i = Gs(z.Artists, n, e, t, h)) !== null && i !== void 0 ? i : Dt(h), v = DM(n, e, t), b = { id: qe("album-detail-header", n.id, t), artwork: st(v), title: l == null ? void 0 : l.name, subtitleLinks: m, tertiaryTitleLinks: null, quaternaryTitle: vJ(n, t), modalPresentationDescriptor: { headerTitle: l == null ? void 0 : l.name, headerSubtitle: AM(n, t), paragraphText: (s = (r = l == null ? void 0 : l.editorialNotes) === null || r === void 0 ? void 0 : r.standard) !== null && s !== void 0 ? s : An(l) }, classicalButton: _J(l, t), showExplicitBadge: Vt(l), audioBadges: LK(u, c), contentDescriptor: d, playButton: Z0(d, e, g, l, (o = n.relationships) === null || o === void 0 ? void 0 : o.tracks, t), shuffleButton: SM(d, g, l, t), videoArtwork: jr({ motionDetailSquare: (a = l == null ? void 0 : l.editorialVideo) === null || a === void 0 ? void 0 : a.motionDetailSquare }, cr.SquareCenterCrop), trackCount: l == null ? void 0 : l.trackCount, siriBannerConfiguration: sM(t), isPreviewMode: pg(l, t), ...mt.canProcessOfferData(t) ? { offers: l == null ? void 0 : l.offers } : {} }; return W0(f, b) } function Z0(n, e, t, i, r, s) { if (!n) return null; const o = Yq(n, s, t, n, e, r); return rs(s) && !pg(i, s) ? { id: `play-button-subscriber-${t}`, segue: o, title: Qe.string("FUSE.Play", s) } : { id: `play-button-non-subscriber-${t}`, segue: o, title: Qe.string("FUSE.Preview", s) } } function SM(n, e, t, i) { if (!rs(i) || pg(t, i)) return null; const r = t == null ? void 0 : t.trackCount; if (!r || r < 1) return null; const s = mJ(n, i, e, n); return { id: `shuffle-button-premium-subscriber-${e}`, segue: s, title: Qe.string("FUSE.Shuffle", i) } } function _J(n, e) { if (n != null && n.classicalUrl) return { id: qe("classical-button", n.id, e), segue: En(n.classicalUrl, null, e, { external: !0 }) } } function vJ(n, e) { var t, i, r; const s = n.attributes, o = (t = bJ(n, e)) === null || t === void 0 ? void 0 : t.toLocaleUpperCase(), a = $n(s == null ? void 0 : s.releaseDate, e), l = (r = (i = s == null ? void 0 : s.genreNames) === null || i === void 0 ? void 0 : i[0]) === null || r === void 0 ? void 0 : r.toLocaleUpperCase(), u = o != null ? o : a; return u ? l ? Ge(Ue.localization, e).string("AMWEB.ContentA.Middot.ContentB", { contentA: l, contentB: u }) : u : l } function CM(n) { var e, t; let i; switch (n.type) { case z.Albums: case z.MusicVideos: i = (e = n.attributes) === null || e === void 0 ? void 0 : e.artistName; break; case z.Playlists: i = (t = n.attributes) === null || t === void 0 ? void 0 : t.curatorName; break }return i } function bJ(n, e) { var t; if (!IM(n, e)) return null; const i = (t = n.attributes) === null || t === void 0 ? void 0 : t.releaseDate; if (yt(i)) return null; const r = Qe.string("FUSE.PreRelease", e), s = po(i, e); return s ? Qe.string("AMWEB.ContentA.Middot.ContentB", e, { contentA: r, contentB: s }) : r } function pg(n, e) { var t; if (!mt.userCanPlayFromDifferentStorefront(e)) { const r = e.required(Ue.subscriptionStatusCoordinator); if ("isUserInHomeStorefront" in r && !r.isUserInHomeStorefront) return !0 } let i = !1; if (mt.canProcessOfferData(e)) { const r = n == null ? void 0 : n.playParams; if (tt(r)) return !1; const s = (t = n == null ? void 0 : n.offers) !== null && t !== void 0 ? t : []; for (const o of s) { if (o.type === "subscription") return !1; o.type === "buy" && (i = !0) } } return i } function yJ(n, e, t) { var i, r, s; const o = n.attributes, a = rt(n, t, e), l = it(`playlist-detail-header-section - ${n.id}`, t), u = n.id; return W0(l, { id: qe("playlist-detail-header", n.id, t), artwork: st(o == null ? void 0 : o.artwork), title: o == null ? void 0 : o.name, subtitleLinks: aI(n, e, t), tertiaryTitleLinks: [], collaborators: PM(n, e), quaternaryTitle: wJ(n, e, t), canDelete: o == null ? void 0 : o.canDelete, canEdit: (i = o == null ? void 0 : o.canEdit) !== null && i !== void 0 ? i : !1, modalPresentationDescriptor: kJ(n, e, t), showExplicitBadge: Vt(o), contentDescriptor: a, playButton: Z0(a, e, u, o, (r = n.relationships) === null || r === void 0 ? void 0 : r.tracks, t), shuffleButton: SM(a, u, o, t), videoArtwork: jr({ motionDetailSquare: (s = o == null ? void 0 : o.editorialVideo) === null || s === void 0 ? void 0 : s.motionDetailSquare }, cr.SquareCenterCrop), trackCount: o == null ? void 0 : o.trackCount, siriBannerConfiguration: sM(t), isPreviewMode: !1 }) } function wJ(n, e, t) { var i, r; const s = n.attributes; if ((s == null ? void 0 : s.trackCount) === 0) { const l = Ge(Ue.localization, t), u = nt.languageTag(t); return l.string("FUSE.Playlist.NoItems").toLocaleUpperCase(u) } const o = ng(n, e), a = (i = s == null ? void 0 : s.lastModifiedDate) !== null && i !== void 0 ? i : (r = o == null ? void 0 : o.attributes) === null || r === void 0 ? void 0 : r.lastModifiedDate; return (s == null ? void 0 : s.isChart) === !0 ? null : IE(a, t) } function kJ(n, e, t) { const i = n.attributes, r = ng(n, e); return { headerTitle: i == null ? void 0 : i.name, headerSubtitle: DJ(n, r, t), paragraphText: SJ(n, r) } } function DJ(n, e, t) { var i, r, s; const o = n.attributes, a = e == null ? void 0 : e.attributes; return (a == null ? void 0 : a.playlistType) === "replay" ? Qe.string("FUSE.Replay.Playlist.Creator", t) : (s = (r = (i = AM(n, t)) !== null && i !== void 0 ? i : a == null ? void 0 : a.curatorName) !== null && r !== void 0 ? r : o == null ? void 0 : o.curatorName) !== null && s !== void 0 ? s : null } function SJ(n, e) { var t, i, r, s, o; const a = n.attributes, l = e == null ? void 0 : e.attributes; return ((t = l == null ? void 0 : l.description) === null || t === void 0 ? void 0 : t.standard) || ((i = a == null ? void 0 : a.description) === null || i === void 0 ? void 0 : i.standard) || ((o = (s = (r = a == null ? void 0 : a.editorialNotes) === null || r === void 0 ? void 0 : r.standard) !== null && s !== void 0 ? s : An(a)) !== null && o !== void 0 ? o : As(a)) || null } function PM(n, e) { var t, i; const r = (i = (t = n == null ? void 0 : n.views) === null || t === void 0 ? void 0 : t[Ee.Collaborators]) === null || i === void 0 ? void 0 : i.data; return (r == null ? void 0 : r.length) > 0 ? e.resources(r) : [] } function AM(n, e) { const t = CM(n), i = n.attributes, r = $n(i == null ? void 0 : i.releaseDate, e); return t ? r ? Ge(Ue.localization, e).string("AMWEB.ContentA.Middot.ContentB", { contentA: t, contentB: r }) : t : r } function CJ(n, e, t, i, r) { var s; return (s = EM(n, e, t, i, r)) === null || s === void 0 ? void 0 : s.sections } function EM(n, e, t, i, r) { var s, o, a; const l = (o = (s = n.relationships) === null || s === void 0 ? void 0 : s.tracks) === null || o === void 0 ? void 0 : o.data; if (!l) return de.warn(t, "No tracks in container."), null; const u = []; let c = !1, d = i ? 1 : null, f = !0; const g = []; let h = 0, m = !0, v = !1, b; const y = [z.Albums, z.LibraryAlbums].includes(n.type), k = [z.Playlists, z.LibraryPlaylists].includes(n.type); e.resourcesAndIdentifiers(l).forEach(([R, F]) => { const N = !c && tt(r) && r === R.id; c = c || N; const O = So(R.id, R, n.type, n, e, t, N, d == null ? void 0 : d.toLocaleString(), F); d && (d += 1), O.socialProfileContentDescriptor = MJ(F, e, t), n.type === z.LibraryPlaylists && (O.reactions = TJ(F, e)), f = f && R.type === z.MusicVideos, u.push(O), g.push(R), b || (b = O.discNumber), (k || yt(O.workName)) && (m = !1), tt(O.discNumber) && (h++, b !== O.discNumber && (v = !0)) }); const S = it(`track-list - ${n.id}`, t); let C; m ? C = AJ(n, u, t, e, g) : v && u.length === h && y ? C = PJ(n, u, t) : C = [q0(S, u)]; const P = n.type === z.LibraryPlaylists && ((a = n.attributes) === null || a === void 0 ? void 0 : a.hasCollaboration); if (k && C.length > 0) { const R = P && C[0].items.some(F => { var N; return (N = F.reactions) === null || N === void 0 ? void 0 : N.length }); C[0].header = JI(t, f, P, R) } const M = rt(n, t, e); return C.forEach(R => { var F; R.containerContentDescriptor = M, R.containerArtwork = st((F = n == null ? void 0 : n.attributes) === null || F === void 0 ? void 0 : F.artwork), P && (R.collaborators = PM(n, e)) }), { sections: C, isHomogenousMusicVideoTracklist: f && !!u.length } } function PJ(n, e, t) { if (e.length === 0) return []; const i = []; let r, s, o; return e.forEach(a => { const l = a.discNumber; r !== l && (o = [], r = l, s = { title: Qe.string("FUSE.Disc", t, { discNumber: `${r}` }) }, i.push({ id: it(`track-list - ${n.id} - ${r}`, t), itemKind: "trackLockup", presentation: { kind: "collection", layout: "list" }, items: o, header: { kind: "disc", item: s } })), o.push(a) }), i } function AJ(n, e, t, i, r) { if (e.length === 0) return []; const s = (v, b) => { var y, k; return (k = (y = v.relationships) === null || y === void 0 ? void 0 : y[b]) === null || k === void 0 ? void 0 : k.data.map(S => S.id).sort().join(",") }, o = rt(n, t, i), a = s(n, "composers"), l = s(n, "artists"), u = []; let c, d = [], f = [], g, h, m; return e.forEach(v => { var b, y; v.workName !== c && (c = v.workName, d = [], f = [], g = 0, v.workName ? (tt(v.playAction) && tl(v.playAction) && (m = v.playAction.groupingIdentifier), h = { firstRowText: c != null ? c : "", secondRowLinks: [], composerLinks: [], artistLinks: [], duration: g, groupingIdentifier: m }) : h = null, u.push({ id: it(`track-list - ${n.id} - ${c}`, t), itemKind: "trackLockup", presentation: { kind: "collection", layout: "list" }, items: d, header: h && { kind: "composer", item: h } })), v.contentDescriptor && f.push(v.contentDescriptor); const k = UE(f, t, m, o); if (h) { let C = (b = h.duration) !== null && b !== void 0 ? b : 0; C += (y = v.duration) !== null && y !== void 0 ? y : 0, h.duration = C, h.playAction = k, v.isSectionGrouped = !0 } d.push(v); const S = EJ(v.playAction); S && (S.groupingIdentifier = m) }), u.forEach(v => { var b, y, k; if (!YI(v.header)) return; const S = v.items.map(B => ({ trackLockup: B, trackResource: r[e.findIndex(U => U === B)] })), C = S[0].trackResource, P = s(C, "composers"), M = s(C, "artists"); let R = !0, F = !0; S.forEach(({ trackResource: B }) => { s(B, "composers") !== P && (R = !1), s(B, "artists") !== M && (F = !1) }); const N = R && a !== P, O = F && l !== M; if (N) { const B = Gs(z.Composers, C, i, t, (b = C.attributes) === null || b === void 0 ? void 0 : b.composerName); v.header.item.composerLinks = B } if (O) { const B = Gi(C, i, t); v.header.item.artistLinks = B, v.items.forEach(U => U.subtitleLinks = []) } v.header.item.secondRowLinks = [...(y = v.header.item.composerLinks) !== null && y !== void 0 ? y : [], ...(k = v.header.item.artistLinks) !== null && k !== void 0 ? k : []] }), u } function EJ(n) { return n ? tl(n) ? n : yo(n) ? n.subactions.find(tl) : null : null } function IJ(n) { const e = n.attributes; let t = ""; return e != null && e.movementNumber && (t += `${OJ(e.movementNumber)}. `), e != null && e.movementName ? t += e.movementName : e != null && e.name ? t += e.name : e != null && e.workName && (t = e.workName), t } function MJ(n, e, t) { var i; const r = RJ(n, e), s = LJ(n, e), o = (i = r != null ? r : s) !== null && i !== void 0 ? i : null; return o ? rt(o, t, e) : null } function LJ(n, e) { var t, i, r, s; const o = (r = (i = (t = n == null ? void 0 : n.meta) === null || t === void 0 ? void 0 : t.associations) === null || i === void 0 ? void 0 : i.collaborators) === null || r === void 0 ? void 0 : r.data, a = (s = o == null ? void 0 : o[0]) === null || s === void 0 ? void 0 : s.id; return a ? e.resourceWithID(a, z.SocialProfiles) : null } function TJ(n, e) { var t, i, r; const s = (r = (i = (t = n == null ? void 0 : n.meta) === null || t === void 0 ? void 0 : t.associations) === null || i === void 0 ? void 0 : i.reactions) === null || r === void 0 ? void 0 : r.data; if (!(s != null && s.length)) return []; const o = Array.from(s.map(l => { const u = l.id; return e.resourceWithID(u, z.CollaborationReactions) })).sort((l, u) => { var c, d; return q3((c = l == null ? void 0 : l.attributes) === null || c === void 0 ? void 0 : c.date, (d = u == null ? void 0 : u.attributes) === null || d === void 0 ? void 0 : d.date) }), a = new Map; return o.forEach(l => { var u; const c = (u = l == null ? void 0 : l.attributes) === null || u === void 0 ? void 0 : u.value; c && (a.has(c) ? a.get(c).push(l) : a.set(c, [l])) }), Array.from(a).sort((l, u) => q3(l[1][0].attributes.date, u[1][0].attributes.date)) } function q3(n, e, t = "desc") { const i = new Date(n).getTime(), r = new Date(e).getTime(); return t === "desc" ? r - i : i - r } function RJ(n, e) { var t, i; const r = (i = (t = n.meta) === null || t === void 0 ? void 0 : t.contributors) === null || i === void 0 ? void 0 : i[z.SocialProfiles], s = r == null ? void 0 : r[0]; return s ? e.resourceWithID(s, z.SocialProfiles) : null } function So(n, e, t, i, r, s, o, a, l) { var u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F, N, O; const B = rt(e, s, r); B || de.warn(s, `For trackResource.id = ${n}, contentDescriptor missing...`); let U, K; i && (U = i.id, K = rt(i, s, r)); const W = (u = i == null ? void 0 : i.attributes) === null || u === void 0 ? void 0 : u.artistName, Z = t === z.Albums || t === z.LibraryAlbums, Q = t === z.UploadedAudios, G = (c = e.attributes) === null || c === void 0 ? void 0 : c.artistName, ae = (d = e.attributes) === null || d === void 0 ? void 0 : d.workName, ee = IJ(e), pe = (f = e.attributes) === null || f === void 0 ? void 0 : f.composerName, ke = (g = e.attributes) === null || g === void 0 ? void 0 : g.discNumber, we = W === G && Z, Te = Z || Q ? null : (h = e.attributes) === null || h === void 0 ? void 0 : h.artwork, ge = rM(e); let Ce; if (Z || Q ? Ce = { kind: "albumTrackList", hasVideo: ge } : Ce = { kind: "playlistTrackList", hasVideo: ge, hasBadging: !1 }, mt.shouldIncludeCatalogDescriptorForLibraryTracks(s) && B && (e.type === z.LibrarySongs || e.type === z.LibraryMusicVideos)) { const Se = (y = (b = (v = (m = e.relationships) === null || m === void 0 ? void 0 : m.catalog) === null || v === void 0 ? void 0 : v.data) === null || b === void 0 ? void 0 : b[0]) === null || y === void 0 ? void 0 : y.id; Se && (B.identifiers.storeAdamID = Se) } const he = Rt(B, s, U, K), Ae = wc(e, s), Pe = ((S = (k = l == null ? void 0 : l.meta) === null || k === void 0 ? void 0 : k.popularity) !== null && S !== void 0 ? S : 0) > NJ(), Oe = (M = (P = (C = e.attributes) === null || C === void 0 ? void 0 : C.previews) === null || P === void 0 ? void 0 : P[0]) === null || M === void 0 ? void 0 : M.url; return { id: qe(`track-lockup - ${(R = i == null ? void 0 : i.id) !== null && R !== void 0 ? R : ""}`, n, s), title: ae ? ee : (F = e.attributes) === null || F === void 0 ? void 0 : F.name, trackNumber: Z ? (N = e.attributes) === null || N === void 0 ? void 0 : N.trackNumber : Q ? 1 : null, tertiaryLinks: Z || Q ? null : kc(e, s), duration: (O = e.attributes) === null || O === void 0 ? void 0 : O.durationInMillis, contentDescriptor: B, artwork: st(Te), subtitleLinks: we ? null : Gs(z.Artists, e, r, s, G), playAction: Ae ? null : he, layoutStyle: Ce, showExplicitBadge: Vt(e.attributes), isProminent: o, rankingText: a, pauseAction: xi(), resumeAction: Wi(), isDisabled: Ae, isPreviewMode: !rs(s) || LM(e), workName: ae, composer: pe, showPopularityIndicator: Pe, discNumber: ke, artistName: G, previewUrl: Oe } } function IM(n, e) { var t; if (![z.Albums, z.LibraryAlbums].includes(n.type)) return de.error(e, `isPreReleaseAlbum called with non-album resource ${JSON.stringify(n)}`), !1; const r = (t = n.attributes) === null || t === void 0 ? void 0 : t.releaseDate; return yt(r) ? !1 : new Date(r.toString()) > new Date } function wc(n, e) { return LM(n) ? !1 : FE(e) && Vt(n.attributes) || MM(n) } function kc(n, e) { var t, i, r; const s = (t = n.attributes) === null || t === void 0 ? void 0 : t.albumName; if (!s) return null; const o = (i = n.attributes) === null || i === void 0 ? void 0 : i.url; if (!o) return Dt(s); const a = new Ln(o); return (r = a.query) === null || r === void 0 || delete r.i, [{ title: s, segue: _c(a.toString(), n.id, "link", e) }] } const W3 = ["M", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV", "I"], FJ = [1e3, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1]; function OJ(n) { let e = ""; for (let t = 0; t < W3.length; t++) { const i = W3[t], r = FJ[t], s = Math.floor(n / r); n -= s * r, e += i.repeat(s) } return e } function NJ() { return .7 } function MM(n) { var e; return yt((e = n.attributes) === null || e === void 0 ? void 0 : e.playParams) } function LM(n) { var e, t; return MM(n) && ((t = (e = n.attributes) === null || e === void 0 ? void 0 : e.previews) === null || t === void 0 ? void 0 : t.length) > 0 } function TM(n, e) { var t; return n ? (t = e.attributes) === null || t === void 0 ? void 0 : t.durationInMillis : null } function RM(n, e = !1, t = !1) { return n ? { kind: "playlistTrackList", hasVideo: e, hasBadging: t } : "shelfTrackList" } function BJ(n, e, t, i) { var r, s; const o = (r = t.attributes) === null || r === void 0 ? void 0 : r.name, a = os(t, n.length, o, i), l = (s = a == null ? void 0 : a.destination) === null || s === void 0 ? void 0 : s.intent, u = l ? ko(l) : void 0, c = cn(o, a, u); return bc(e, n, 4, c) } function UJ(n, e, t) { return n ? kc(e, t) : null } function K3(n, e, t, i) { var r, s; const o = (s = (r = n.relationships) === null || r === void 0 ? void 0 : r.contents) === null || s === void 0 ? void 0 : s.data; if (!o || o.length === 0) return de.warn(i, `Dropping copper track swoosh with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const a = it(`copper-track-swoosh - ${n.id}`, i), l = []; return t.resources(o).forEach(u => { const c = u.attributes; if (!c) { de.warn(i, `Dropping copper track lockup swoosh item with id "${u.id}" and type "${u.type}", missing resource attributes.`); return } const d = rt(u, i, t), f = wi(n, i), g = { id: qe(a, u.id, i), title: c.name, subtitleLinks: Gi(u, t, i), tertiaryLinks: UJ(e, u, i), duration: TM(e, u), artwork: st(c.artwork), contentDescriptor: d, playAction: Rt(d, i, a, null, f), segue: Wt(d, u, "ShelfItem", i, f), layoutStyle: RM(e), showExplicitBadge: Vt(u.attributes), pauseAction: xi(), resumeAction: Wi(), isDisabled: wc(u, i), artistName: c.artistName }; l.push(g) }), l.length === 0 ? null : e ? iM(l, a, i) : BJ(l, a, n, i) } function HJ(n, e) { return { id: n, itemKind: "flowcaseLockup", presentation: { kind: "collection", layout: { kind: "shelf", numberOfRows: 1 } }, items: e, displaySeparator: !1 } } const $J = [z.TVEpisodes, z.Songs, z.MusicVideos, z.Albums, z.UploadedAudios, z.UploadedVideos]; function VJ(n, e, t, i, r) { var s, o, a, l, u, c, d, f, g, h; const m = (a = (o = (s = n.relationships) === null || s === void 0 ? void 0 : s.contents) === null || o === void 0 ? void 0 : o.data) === null || a === void 0 ? void 0 : a[0]; if (yt(m)) return FM(n, e, i); const v = t.resource(m); if (yt(v)) return null; const b = v.attributes; if (yt(b)) return de.warn(i, `Dropping editorial flowcase item with id "${n.id}" and type "${n.type}", missing content resource attributes.`), null; let y; $J.includes(v.type) && (y = st(b.artwork)); const k = (l = n.attributes) === null || l === void 0 ? void 0 : l.designBadge, S = rt(v, i, t), C = WJ(v), P = Rt(S, i, null, null, r), M = (c = (u = b.editorialArtwork) === null || u === void 0 ? void 0 : u.subscriptionHero) !== null && c !== void 0 ? c : (d = b.editorialArtwork) === null || d === void 0 ? void 0 : d.subscriptionCover; return yt(M) ? (de.warn(i, `Dropping flowcase because no artwork was found: ${JSON.stringify(n)}`), null) : { id: qe(e, n.id, i), heading: k, title: b.name, subtitle: C, artwork: st(M, zt.SpecificRectangle), contentDescriptor: S, durationInMillis: (f = b.durationInMillis) !== null && f !== void 0 ? f : b.durationInMilliseconds, description: zJ(v, C), playAction: P, coverArtwork: y, segue: (g = Wt(S, v, "FlowcaseItem", i, r)) !== null && g !== void 0 ? g : P, accessibilityLabel: (h = n.attributes) === null || h === void 0 ? void 0 : h.name } } function zJ(n, e) { let t = An(n == null ? void 0 : n.attributes); return _i(n) && yt(t) && (t = As(n == null ? void 0 : n.attributes)), t === e ? null : t } function qJ(n) { var e, t; return ((e = n == null ? void 0 : n.attributes) === null || e === void 0 ? void 0 : e.kind) === "Genre" || ((t = n == null ? void 0 : n.attributes) === null || t === void 0 ? void 0 : t.kind) === "Show" } function WJ(n) { var e, t, i; const r = n == null ? void 0 : n.attributes, s = An(r), o = As(r), a = LE(r), l = (e = r == null ? void 0 : r.genreNames) === null || e === void 0 ? void 0 : e[0], u = n == null ? void 0 : n.type; let c; switch (u) { case z.MusicMovies: c = a != null ? a : l; break; case z.Artists: c = l; break; case z.Activities: case z.Curators: case z.TVShows: c = a != null ? a : s; break; case z.AppleCurators: qJ(n) ? c = a : c = o; break; case z.TVEpisodes: c = r == null ? void 0 : r.artistName; break; case z.Stations: c = _i(n) ? o : a; break; default: c = (i = (t = r == null ? void 0 : r.curatorName) !== null && t !== void 0 ? t : r == null ? void 0 : r.artistName) !== null && i !== void 0 ? i : o }return c } function KJ(n, e, t, i, r) { var s, o, a, l, u, c, d, f; const g = (a = (o = (s = n.relationships) === null || s === void 0 ? void 0 : s.contents) === null || o === void 0 ? void 0 : o.data) === null || a === void 0 ? void 0 : a[0]; if (yt(g)) return FM(n, e, i); const h = t.resource(g); if (yt(h)) return null; const m = h.attributes; if (yt(m)) return de.warn(i, `Dropping editorial flowcase item with id "${n.id}" and type "${n.type}", missing content resource attributes.`), null; const v = rt(h, i, t), b = Rt(v, i, null, null, r), y = (l = n.attributes) === null || l === void 0 ? void 0 : l.artwork; return yt(y) ? (de.warn(i, `Dropping flowcase because no artwork was found: ${JSON.stringify(n)}`), null) : { id: qe(e, n.id, i), heading: (u = n.attributes) === null || u === void 0 ? void 0 : u.designBadge, title: (c = n.attributes) === null || c === void 0 ? void 0 : c.designTag, subtitle: null, artwork: st(y, zt.SpecificRectangle), contentDescriptor: v, description: null, playAction: null, coverArtwork: null, segue: (d = Wt(v, h, "FlowcaseItem", i, r)) !== null && d !== void 0 ? d : b, accessibilityLabel: (f = n.attributes) === null || f === void 0 ? void 0 : f.name } } function FM(n, e, t) { const i = n.attributes; if (yt(i)) return de.warn(t, `Dropping editorial flowcase item with id "${n.id}" and type "${n.type}", missing attributes.`), null; if (yt(i.artwork)) return de.warn(t, `Dropping flowcase because no artwork was found: ${JSON.stringify(n)}`), null; const r = i.link; return yt(r) ? (de.warn(t, `Dropping editorial flowcase item with id '${n.id}' and type '${n.type}', missing link.`), null) : { id: qe(e, n.id, t), heading: i.designBadge, title: i.designTag, artwork: st(i.artwork, zt.SpecificRectangle), segue: En(r.url, r.label, t, { targetType: "FlowcaseItem" }), accessibilityLabel: i.name } } function JJ(n, e, t) { var i, r; const s = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.children) === null || r === void 0 ? void 0 : r.data; if (yt(s) || s.length === 0) return de.warn(t, `Dropping hero list shelf with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const o = it(`hero-list-shelf - ${n.id}`, t), a = wi(n, t), l = []; return e.resources(s).forEach(u => { var c; let d; const f = (c = u.attributes) === null || c === void 0 ? void 0 : c.editorialElementKind; switch (f) { case Zt.AppleMusicOneHero: case Zt.Hero: d = VJ(u, o, e, t, a); break; case Zt.HeroCustom: d = KJ(u, o, e, t, a); break; default: de.warn(t, `Dropping hero list item resource with id "${u.id}" and type "${u.type}", invalid editorialElementKind "${f}".`); break }d && l.push(d) }), l.length === 0 ? null : HJ(o, l) } function YJ(n, e, t) { return { id: n, itemKind: "linkComponentModel", presentation: { kind: "collection", layout: { kind: "grid", flowStyle: "column" } }, items: e, header: t } } function XJ(n, e, t) { return { id: n, itemKind: "linkComponentModel", presentation: { kind: "single" }, items: t, header: e ? { kind: "default", item: { titleLink: { title: e } } } : null } } var Jd; (function (n) { n.External = "external" })(Jd || (Jd = {})); function ZJ(n, e) { const t = n.attributes; if (!t) return de.warn(e, `Dropping link list with id "${n.id}" and type "${n.type}", missing attributes.`), null; const i = t.links; if (!i || i.length === 0) return de.warn(e, `Dropping link list with id "${n.id}" and type "${n.type}", missing links.`), null; const r = it(`link-list-shelf - ${n.id}`, e), s = i.map(a => ({ id: qe(r, a.label, e), segue: En(a.url, a.label, e, { external: a.target === Jd.External }), title: a.label })), o = cn(t.name); return YJ(r, s, o) } function QJ(n, e, t) { var i, r, s, o, a, l; const u = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.contents) === null || r === void 0 ? void 0 : r.data; if (!u || u.length === 0) return de.warn(t, `Dropping copper swoosh with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const c = it(`master-swoosh - ${n.id}`, t), d = wi(n, t), f = []; if (e.resources(u).forEach(y => { const k = y.attributes; if (!k) { de.warn(t, `Dropping album lockup swoosh item with id "${y.id}" and type "${y.type}", missing resource attributes.`); return } const S = rt(y, t, e), C = { id: qe(c, y.id, t), titleLinks: Dt(k.name), subtitleLinks: Dt(An(k)), artwork: st(k.artwork, zt.SpecificRectangle), contentDescriptor: S, playAction: Rt(S, t, null, null, d), segue: Wt(S, y, "ShelfItem", t, d), numberOfSocialBadges: 3, showExplicitBadge: Vt(y.attributes), displayStyle: go.Large, accessibilityLabel: k.name, trackCount: k.trackCount, isAOD: _r(y) }; nr(y) && (C.radioStation = { isRadioEpisode: _i(y), isLiveRadio: Lr(y), isBroadcastRadio: Tr(y) }), f.push(C) }), f.length === 0) return null; const g = (o = (s = n.attributes) === null || s === void 0 ? void 0 : s.name) !== null && o !== void 0 ? o : (a = n.attributes) === null || a === void 0 ? void 0 : a.title, h = os(n, f.length, g, t), m = (l = h == null ? void 0 : h.destination) === null || l === void 0 ? void 0 : l.intent, v = m ? ko(m) : void 0, b = cn(g, h, v); return kl(c, f, b) } var er; (function (n) { n.Leading = "leading", n.Trailing = "trailing", n.Centered = "centered" })(er || (er = {})); function jJ({ id: n, text: e, textAlignment: t = null, links: i = null }) { return { id: n, text: e, textAlignment: t, links: i } } function Co(n, e = null, t) { return { id: n, items: [t], itemKind: "paragraphComponentModel", presentation: { kind: "single" }, displaySeparator: !1, header: cn(e) } } function GJ(n, e) { var t, i; const r = (t = n.attributes) === null || t === void 0 ? void 0 : t.description; if (!r) return de.warn(e, `No paragraph text for resource.  Dropping paragraph: '${JSON.stringify(n)}'`), null; const s = (i = n.attributes) === null || i === void 0 ? void 0 : i.title, o = it(`paragraph-section - ${n.id}`, e); return Co(o, s, jJ({ id: qe("paragraph", n.id, e), text: r, textAlignment: er.Leading })) } function xJ(n, e, t) { return { $kind: "RefreshRecentlyPlayedRadioIntent", id: n, title: t, reason: e } } function OM(n, e, t, i, r) { var s, o; const a = (s = n.body) === null || s === void 0 ? void 0 : s.data; if (!a || a.length === 0) { de.warn(t, "No resource identifiers in Recently Played Radio response"); return } const l = (o = n.body) === null || o === void 0 ? void 0 : o.resources; if (!l) { de.warn(t, "No resource map in Recently Played Radio response"); return } const u = new gt(l, t), c = []; if (u.resources(a).forEach(g => { const h = g.attributes; if (!h) { de.warn(t, `Dropping recently played radio album lockup swoosh item with id "${g.id}" and type "${g.type}", missing resource attributes.`); return } const m = rt(g, t), v = { id: qe(e, g.id, t), titleLinks: Dt(h.name), subtitleLinks: Dt(X0(g, u)), artwork: st(h.artwork), contentDescriptor: m, playAction: Rt(m, t, null, null, r), segue: Wt(m, g, "ShelfItem", t), numberOfSocialBadges: 3, showExplicitBadge: Vt(g == null ? void 0 : g.attributes), accessibilityLabel: h.name, isAOD: _r(g) }; nr(g) && (v.radioStation = { isLiveRadio: Lr(g), isBroadcastRadio: Tr(g), isRadioEpisode: _i(g) }), c.push(v) }), c.length === 0) return; const d = cn(i), f = { eventTriggers: [{ events: [{ name: "playActivity", delay: 2e3 }], intent: xJ(e, "Play Activity", i) }] }; return kl(e, c, d, f) } function eY(n, e) { const t = n.attributes; if (!t) return de.warn(e, `Dropping recently played radio marker with id "${n.id}" and type "${n.type}", missing attributes.`), null; const i = e.optional(BM); if (!i) return de.warn(e, `Dropping recently played radio marker with id "${n.id}" and type "${n.type}", missing collected markers on object graph.`), null; const r = i.recentlyPlayedRadio; if (!r) return de.warn(e, `Dropping recently played radio marker with id "${n.id}" and type "${n.type}", missing collected recentlyPlayedRadio marker.`), null; const s = it(`recently-played-radio - ${n.id}`, e), o = wi(n, e); return OM(r, s, e, t.name, o) } var gp; (function (n) { n.Regular = "regular", n.Large = "large" })(gp || (gp = {})); var Yd; (function (n) { n.Spotlight = "Spotlight", n.SpotlightWithCopy = "Spotlight+ShortCopy", n.Grid = "Grid", n.GridWithCopy = "Grid+ShortCopy" })(Yd || (Yd = {})); function tY(n, e, t) { var i, r, s; const o = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.contents) === null || r === void 0 ? void 0 : r.data; if (!o || o.length === 0) return de.warn(t, `Dropping compact copper swoosh with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const l = o[0].type; switch ((s = n.attributes) === null || s === void 0 ? void 0 : s.lockupStyle) { case Yd.SpotlightWithCopy: return J3(n, e, !0, t); case Yd.Spotlight: return J3(n, e, !1, t); default: return nY(l, n, e, t) } } function J3(n, e, t, i) { var r, s, o, a, l; const u = (s = (r = n.relationships) === null || r === void 0 ? void 0 : r.contents) === null || s === void 0 ? void 0 : s.data; if (!(u != null && u.length)) return de.warn(i, `Dropping spotlight with copy room swoosh with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const c = it(`spotlight-room - ${t} - ${n.id}`, i), d = wi(n, i), f = []; if (e.resources(u).forEach(m => { var v, b, y, k, S, C, P, M, R; const F = m.attributes; if (!F) { de.warn(i, `Dropping video lockup swoosh item with id "${m.id}" and type "${m.type}", missing resource attributes.`); return } const N = rt(m, i, e); let O; switch (m.type) { case z.MusicMovies: O = st((k = (b = (v = F.editorialArtwork) === null || v === void 0 ? void 0 : v.subscriptionCover) !== null && b !== void 0 ? b : (y = F.editorialArtwork) === null || y === void 0 ? void 0 : y.fullscreenBackground) !== null && k !== void 0 ? k : F.artwork, zt.SpecificRectangle); break; default: O = st((M = (C = (S = F.editorialArtwork) === null || S === void 0 ? void 0 : S.browseCover) !== null && C !== void 0 ? C : (P = F.editorialArtwork) === null || P === void 0 ? void 0 : P.fullscreenBackground) !== null && M !== void 0 ? M : F.artwork, zt.SpecificRectangle) }const B = { id: qe(c, m.id, i), headline: F.name, title: F.artistName, subtitle: t ? An(F) : null, artwork: O, contentDescriptor: N, playAction: null, segue: (R = Wt(N, m, "ShelfItem", i, d)) !== null && R !== void 0 ? R : Rt(N, i, null, null, d), displayStyle: gp.Large, accessibilityLabel: F.name, numberOfSocialBadges: 0 }; f.push(B) }), !f.length) return null; const g = (a = (o = n.attributes) === null || o === void 0 ? void 0 : o.name) !== null && a !== void 0 ? a : (l = n == null ? void 0 : n.attributes) === null || l === void 0 ? void 0 : l.title, h = cn(g); return ZI(c, f, h, 1, !0) } function nY(n, e, t, i) { switch (n) { case z.Albums: case z.AppleCurators: case z.Playlists: case z.Stations: case z.TVShows: return oY(e, t, i); case z.MusicMovies: case z.MusicVideos: case z.UploadedVideos: case z.TVEpisodes: return rY(e, t, i); case z.Songs: return sY(e, t, i); case z.Artists: case z.Curators: return iY(e, t, i); default: return de.warn(i, `Dropping room swoosh with id "${e.id}" and type "${e.type}", unsupported child type "${n}".`), null } } function iY(n, e, t) { var i, r, s; const o = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.contents) === null || r === void 0 ? void 0 : r.data; if (!o || o.length === 0) return de.warn(t, `Dropping video lockup swoosh with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const a = it(`room-circle - ${n.id}`, t), l = wi(n, t), u = []; if (e.resources(o).forEach(g => { var h, m, v, b; const y = g.attributes; if (!y) { de.warn(t, `Dropping video lockup swoosh item with id "${g.id}" and type "${g.type}", missing resource attributes.`); return } const k = (h = $n(y.releaseDate, t)) !== null && h !== void 0 ? h : (m = y.editorialNotes) === null || m === void 0 ? void 0 : m.tagline, S = rt(g, t, e), C = { id: qe(a, g.id, t), title: y.name, subtitle: k, artwork: st((b = (v = y.editorialArtwork) === null || v === void 0 ? void 0 : v.browseCover) !== null && b !== void 0 ? b : y.artwork), contentDescriptor: S, segue: Wt(S, g, "ShelfItem", t, l), displayStyle: Ru.Large, accessibilityLabel: y.name }; u.push(C) }), u.length === 0) return null; const c = (s = n.attributes) === null || s === void 0 ? void 0 : s.title, d = os(n, u.length, c, t), f = cn(c, d); return z0(a, u, f) } function rY(n, e, t) { var i, r, s, o, a; const l = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.contents) === null || r === void 0 ? void 0 : r.data; if (!l || l.length === 0) return de.warn(t, `Dropping video lockup swoosh with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const u = it(`room-video - ${n.id}`, t), c = wi(n, t), d = []; if (e.resources(l).forEach(m => { var v, b, y, k, S, C, P, M; const R = m.attributes; if (!R) { de.warn(t, `Dropping video lockup swoosh item with id "${m.id}" and type "${m.type}", missing resource attributes.`); return } let F; switch (m.type) { case z.MusicVideos: F = st(R.artwork); break; default: F = st((S = (b = (v = R.editorialArtwork) === null || v === void 0 ? void 0 : v.browseCover) !== null && b !== void 0 ? b : (k = (y = R.previews) === null || y === void 0 ? void 0 : y[0]) === null || k === void 0 ? void 0 : k.artwork) !== null && S !== void 0 ? S : R.artwork) }const N = (P = (C = R.artistName) !== null && C !== void 0 ? C : $n(R.releaseDate, t)) !== null && P !== void 0 ? P : (M = R.editorialNotes) === null || M === void 0 ? void 0 : M.tagline, O = rt(m, t, e), B = { id: qe(u, m.id, t), titleLinks: Dt(R.name), subtitleLinks: Dt(N), artwork: F, contentDescriptor: O, playAction: Rt(O, t, u, null, c), segue: Wt(O, m, "BrickItem", t, c), showExplicitBadge: Vt(m.attributes), displayStyle: Us.Regular, accessibilityLabel: R.name }; d.push(B) }), d.length === 0) return null; const f = (o = (s = n.attributes) === null || s === void 0 ? void 0 : s.name) !== null && o !== void 0 ? o : (a = n == null ? void 0 : n.attributes) === null || a === void 0 ? void 0 : a.title, g = os(n, d.length, f, t), h = cn(f, g); return wo(u, d, h) } function sY(n, e, t) { var i, r, s, o, a; const l = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.contents) === null || r === void 0 ? void 0 : r.data; if (!l || l.length === 0) return de.warn(t, `Dropping copper track swoosh with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const u = it(`room-track - ${n.id}`, t), c = wi(n, t), d = []; if (e.resources(l).forEach(m => { var v, b, y; const k = m.attributes; if (!k) { de.warn(t, `Dropping copper track lockup swoosh item with id "${m.id}" and type "${m.type}", missing resource attributes.`); return } const S = rt(m, t, e), C = (b = (v = k.artistName) !== null && v !== void 0 ? v : k.curatorName) !== null && b !== void 0 ? b : (y = k.editorialNotes) === null || y === void 0 ? void 0 : y.tagline, P = { id: qe(u, m.id, t), title: k.name, subtitleLinks: Dt(C), artwork: st(k.artwork), contentDescriptor: S, playAction: Rt(S, t, u, null, c), segue: Wt(S, m, "ShelfItem", t, c), layoutStyle: "shelfTrackList", showExplicitBadge: Vt(m.attributes), resumeAction: Wi(), pauseAction: xi() }; d.push(P) }), d.length === 0) return null; const f = (o = (s = n.attributes) === null || s === void 0 ? void 0 : s.name) !== null && o !== void 0 ? o : (a = n == null ? void 0 : n.attributes) === null || a === void 0 ? void 0 : a.title, g = os(n, d.length, f, t), h = cn(f, g); return bc(u, d, 4, h) } function oY(n, e, t) { var i, r, s, o, a; const l = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.contents) === null || r === void 0 ? void 0 : r.data; if (!l || l.length === 0) return de.warn(t, `Dropping album lockup swoosh with id "${n.id}" and type "${n.type}", missing child resource identifiers.`), null; const u = it(`room-square - ${n.id}`, t), c = wi(n, t), d = []; if (e.resources(l).forEach(m => { var v, b, y, k, S, C, P, M, R, F, N, O; const B = m.attributes; if (!B) { de.warn(t, `Dropping album lockup swoosh item with id "${m.id}" and type "${m.type}", missing resource attributes.`); return } let U; switch (m.type) { case z.Albums: U = (S = (k = (y = (v = B.artistName) !== null && v !== void 0 ? v : (b = B.editorialNotes) === null || b === void 0 ? void 0 : b.tagline) !== null && y !== void 0 ? y : B.curatorName) !== null && k !== void 0 ? k : An(B)) !== null && S !== void 0 ? S : (C = B.plainEditorialNotes) === null || C === void 0 ? void 0 : C.tagline; break; default: U = (N = (F = (R = (M = (P = B.editorialNotes) === null || P === void 0 ? void 0 : P.tagline) !== null && M !== void 0 ? M : B.artistName) !== null && R !== void 0 ? R : B.curatorName) !== null && F !== void 0 ? F : An(B)) !== null && N !== void 0 ? N : (O = B.plainEditorialNotes) === null || O === void 0 ? void 0 : O.tagline }const K = rt(m, t, e), W = { id: qe(u, m.id, t), titleLinks: Dt(B.name), subtitleLinks: Dt(U), artwork: st(B.artwork, zt.SpecificRectangle), contentDescriptor: K, playAction: Rt(K, t, null, null, c), segue: Wt(K, m, "ShelfItem", t, c), numberOfSocialBadges: 3, showExplicitBadge: Vt(m.attributes), displayStyle: go.Large, accessibilityLabel: B.name, trackCount: B.trackCount, isAOD: _r(m) }; nr(m) && (W.radioStation = { isRadioEpisode: _i(m), isLiveRadio: Lr(m), isBroadcastRadio: Tr(m) }), d.push(W) }), !d.length) return null; const f = (o = (s = n.attributes) === null || s === void 0 ? void 0 : s.name) !== null && o !== void 0 ? o : (a = n == null ? void 0 : n.attributes) === null || a === void 0 ? void 0 : a.title, g = os(n, d.length, f, t), h = cn(f, g); return kl(u, d, h) } function aY(n, e) { const t = n.attributes; if (!t) return de.warn(e, `Dropping singular link with id "${n.id}" and type "${n.type}", missing attributes.`), null; const { links: i } = t; if (!i || i.length === 0) return de.warn(e, `Dropping singular list with id "${n.id}" and type "${n.type}". No link found`), null; const r = it(`singular-link - ${n.id}`, e), s = i.map(o => lY(o, r, t.displayStyle, e)); return XJ(r, t.title, s) } function lY(n, e, t, i) { return { id: qe(e, n.label, i), segue: En(n.url, n.label, i, { external: n.target === Jd.External }), displayStyle: t, title: n.label } } const Q0 = pn("editorialElementSectionFilter"); function NM(n, e, t, i, r) { var s, o, a; const l = (s = n.attributes) === null || s === void 0 ? void 0 : s.editorialElementKind; if (!l) return de.warn(r, `Dropping section with id "${n.id}", type "${n.type}", missing editorialElementKind.`), null; if (!xE(l)) return de.warn(r, `Dropping section with id "${n.id}", type "${n.type}", editorialElementKind "${l}" is not a section.`), null; const u = r.optional(Q0); if ((u == null ? void 0 : u.filterEditorialElementKind(l, t, i)) === !1) return de.log(r, `Filtered section with id '${n.id}', type '${n.type}', element kind '${l}'.`), null; switch (l) { case Zt.HeroListShelf: return JJ(n, i, r); case Zt.LiveRadioShelf: return mt.canShowLiveRadioGrid(r) ? LW(n, i, r) : UW(n, i, r); case Zt.CopperSwoosh: const c = (a = (o = n.relationships) === null || o === void 0 ? void 0 : o.contents) === null || a === void 0 ? void 0 : a.data; return (!!c && sI("type", c)) === z.Songs ? K3(n, e, i, r) : MK(n, i, r); case Zt.RoomSwoosh: return tY(n, i, r); case Zt.MasterSwoosh: return QJ(n, i, r); case Zt.CopperTrackSwoosh: return K3(n, e, i, r); case Zt.LinkList: return ZJ(n, r); case Zt.RecentlyPlayedRadioMarker: return eY(n, r); case Zt.BrickSwoosh: return dK(n, i, r); case Zt.Paragraph: return GJ(n, r); case Zt.SingularLink: return aY(n, r) } } function uY(n, e, t) { var i, r, s, o, a; const l = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.children) === null || r === void 0 ? void 0 : r.data; if (!l) return; const u = [...l], c = new Set; for (; u.length > 0;) { const d = u.pop(); if (!d) continue; const f = e.resource(d); if (!f || f.type !== z.EditorialElements) continue; const g = (s = f.attributes) === null || s === void 0 ? void 0 : s.editorialElementKind; if (!g) continue; if (xE(g)) { const m = t.optional(Q0); if ((m == null ? void 0 : m.filterEditorialElementKind(g, l, e)) === !1) continue } PW(g) && c.add(g); const h = (a = (o = f.relationships) === null || o === void 0 ? void 0 : o.children) === null || a === void 0 ? void 0 : a.data; h && u.push(...h) } return c } const BM = pn("collectedMarkers"); function cY(n, e, t) { const i = uY(n, e, t); if (!i) return Promise.resolve({}); const r = {}, s = Array.from(i).map(o => { switch (o) { case Zt.RecentlyPlayedRadioMarker: return GE(t).then(a => { r.recentlyPlayedRadio = a }) } }).filter(tt).map(o => o.catch(a => { de.error(t, "Failed to request marker:", a) })); return Promise.all(s).then(() => r) } function dY(n, e, t) { var i, r, s; if (n.length === 0) throw new Error("No root resource identifiers in editorial page response"); n.length > 1 && de.warn(t, 'Received more than one top-level resource identifer in the editorial page response, dropping all but the first.".'); const o = n[0], a = e.resource(o); if (!a) throw new Error(`Missing top-level grouping resource with id "${o.id}" and type "${o.type}", in editorial page response.`); if (a.type !== z.Groupings) throw new Error(`Top-level resource in editorial page response with id "${o.id}" and type "${o.type}" must be of type "${z.Groupings}"`); const l = (r = (i = a.relationships) === null || i === void 0 ? void 0 : i.tabs) === null || r === void 0 ? void 0 : r.data; if (!l || l.length === 0) throw new Error(`Top-level group resource with id "${a.id}" and type "${a.type}", missing tab resource identifers.`); l.length > 1 && de.warn(t, 'Received more than one grouping child resource identifer in the editorial page response, dropping all but the first.".'); const u = l[0], c = e.resource(u); if (!c) throw new Error(`Missing tab root resource with id "${u.id}" and type "${u.type}", in editorial page response.`); if (c.type !== z.EditorialElements) throw new Error(`Tab root resource with id "${u.id}" and type "${u.type}" must be of type "${z.EditorialElements}.`); const d = (s = c.attributes) === null || s === void 0 ? void 0 : s.editorialElementKind; if (d !== Zt.TabRoot) throw new Error(`Tab root resource with id "${u.id}" and element kind "${d}"  must be a tab root.`); return c } async function j0(n, e) { var t, i; const r = (t = n.body) === null || t === void 0 ? void 0 : t.data; if (!r || r.length === 0) throw new Error("No resource identifiers in editorial page response"); const s = (i = n.body) === null || i === void 0 ? void 0 : i.resources; if (!s) throw new Error("No resource map in editorial page response"); const o = new gt(s, e); return await UM(r, o, e) } async function UM(n, e, t) { const i = dY(n, e, t), r = await cY(i, e, t), s = t.adding(BM, r); return vK(i, e, s) } function zi(n, e, t) { return { $kind: "RefreshPageIntent", intent: n, reason: e, metadata: t } } function fY(n, e) { return e ? { events: [{ name: "expirationDate", date: e.toJSON() }], intent: zi(n, "Exceeded expiration date"), deferIntentUntilEvents: ["nextPageDisappearance"] } : null } function HM(n) { return { events: [{ name: "subscriptionStatusChange" }], intent: zi(n, "Subscription status changed") } } function _g(n, e, t) { const i = []; e && i.push(HM(n)); const r = fY(n, t); return r && i.push(r), i.length === 0 ? null : { eventTriggers: i } } async function gY(n, e, t) { var i, r, s; const o = await j0(e, t), a = mt.shouldInvalidateBrowsePageOnSubscriptionStatus(t), l = (s = (r = (i = e.body) === null || i === void 0 ? void 0 : i.meta) === null || r === void 0 ? void 0 : r.metrics) === null || s === void 0 ? void 0 : s.reco_id; return { invalidationRules: _g(n, a, e.expirationDate), pageMetrics: tn(t, e, "grouping", "Genre", null, null, l ? { recoID: l } : null), sections: o, header: { showAccountButton: !1, title: Qe.string("FUSE.New.Pageheader", t), showSeparator: !1 } } } async function $M(n, e) { const t = nt.countryCode(e), i = nt.ampMusicAPIDomainsEditorialContent(e), r = new je(`/v1/editorial/${t}/groupings`, e, i); return r.queryString.addParameters({ name: n, "omit[resource:artists]": "autos", "relate[songs]": "albums", "include[albums]": "artists", "include[songs]": "artists", "include[music-videos]": "artists", "include[stations]": "events,radio-show", "extend[station-events]": "editorialVideo", "fields[artists]": "name,url,artwork,editorialArtwork", "fields[albums]": "artistName,artistUrl,artwork,contentRating,editorialArtwork,plainEditorialNotes,name,playParams,releaseDate,url,trackCount", tabs: rs(e) ? "subscriber" : "nonsubscriber" }), r.queryString.artworkURL.add(hn.OmitCropCode), r.queryString.artworkURL.add(hn.OmitFileExtension), r.queryString.extend.add("editorialArtwork"), r.queryString.extend.add("artistUrl"), r.queryString.extend.add("plainEditorialNotes"), Jt(r, e) } async function hY(n) { return $M("music", n) } const { routes: mY, makeCanonicalUrl: Y3 } = Ei(ur, "/new", [], { extraRules: [{ path: "/browse", query: ["l?"] }, { path: "/{storefront}/browse", query: ["l?"] }] }), pY = { $intentKind: "BrowsePageIntent", routes: mY, async perform(n, e) { const t = await hY(e), i = await gY(n, t, e), r = Y3(n); return SW({ ...i, canonicalURL: r }, e) }, actionFor(n, e, t) { var i; const r = (i = t.metrics) !== null && i !== void 0 ? i : un(e, "0", "unknown", "navigate"), s = At({ kind: vt.CatalogPage, intent: n }, r); return t.isDeepLinkAction ? Lt(pr({ kind: bt.New }, s, e), Ve) : s }, staticCanonicalUrlFor(n, e) { return Y3(n) } }; function _Y(n) { return { $kind: "emptyAction", actionMetrics: n } } function vY(n) { return n.$kind === "emptyAction" } function bY(n) { return { $kind: "openPurchaseStorePageAction", id: "purchaseStorePage", url: n.toString(), actionMetrics: Ve } } function yY(n) { var e; return !(n.host !== "itunes.apple.com" || ((e = n.query) === null || e === void 0 ? void 0 : e.cmd) !== "tuneMyTastes") } async function wY(n) { var e, t, i, r, s; const o = new je("/v1/me/account", n); o.queryString.extend.add("hasTastePreferences"); const l = (s = (r = (i = (t = (e = (await pt({ url: o.string, cache: "no-cache" }, n)).body) === null || e === void 0 ? void 0 : e.resources) === null || t === void 0 ? void 0 : t.accounts) === null || i === void 0 ? void 0 : i.me) === null || r === void 0 ? void 0 : r.attributes) === null || s === void 0 ? void 0 : s.hasTastePreferences; if (dr.isSome(l)) throw new Error("hasTastePreferences is undefined."); return l } async function kY(n) { let e = !0; try { e = await wY(n) } catch (i) { de.error(n, i) } const t = [ri({ kind: bt.Home }, Ve, n)]; return e || (de.log(n, "Taste preferences not set, onboarding page required."), t.push(At({ kind: vt.OnboardingPage }, Ve))), Lt(t, Ve) } function G0(n, e) { return { $kind: "modalFlowAction", destination: n, actionMetrics: e } } function VM() { return G0({ kind: vt.CatalogPage, intent: { $kind: "StartSocialOnboardingActionIntent" } }, Ve) } const DY = { $intentKind: "ProcessDeepLinkIntent", async perform(n, e) { var t; de.log(e, `Handling deep link intent with URL '${n.url}'`); let i = new Ln(n.url); if (yY(i)) return de.log(e, "Starting onboarding."), kY(e); const r = LY(i, e); if (rg(e) && EY(i, e) && !r) return de.log(e, "Opening store page link."), Lt([bY(i)], Ve); if (i = await MY(i, e), !mt.hasPlatformSpecificDeepLinkHandling(e) && ((t = i.query) === null || t === void 0 ? void 0 : t.app) === "music") { const o = SY(i, e); if (tt(o)) return de.log(e, `Opening query param action: ${cp(o)}`), o } if (tt(r)) return de.log(e, `Opening commerce app with URL '${r}'`), Lt([Qo(r.toString(), "finance-app", Ve)], Ve); const s = IY(i, e); return tt(s) ? (de.log(e, `Opening routed action: ${cp(s)}`), s) : Lt([_Y(Ve)], Ve) } }; function SY(n, e) { var t, i, r; const s = (t = n.query) !== null && t !== void 0 ? t : {}, o = (r = (i = n.pathname) === null || i === void 0 ? void 0 : i.slice(1).toLowerCase()) !== null && r !== void 0 ? r : ""; return /^([a-z]{2}\/)?deeplink$/i.test(o) && tt(s.p) ? PY(s.p, s, e) : o.indexOf("mzcontentlink") !== -1 && tt(s.path) ? CY(s.path, s, e) : null } function CY(n, e, t) { const i = /music\/[\w]+([-/]?)[\w-]+$/, r = n.match(i); if (tt(r)) { const [s, o] = r, a = s.split("/")[1], l = zM(a, o); if (tt(l)) return Lt([ri({ kind: l }, Ve, t), At({ kind: vt.NavigationControllerRootPage }, Ve)], Ve) } return null } function PY(n, e, t) { const i = /[\w]+([-/]?)[\w-]+$/, r = n.match(i); if (tt(r)) { const [s, o] = r, a = R0.urlForMusicDeepLinkKey(s, t); if (tt(a)) { const u = { ...e }; return u[ki.DynamicAMSUIOptionKeys.OfferHint] = ki.DynamicAMSUIOfferHints.WinBack, a.append("query", u), Lt([Qo(a.toString(), "finance-app", Ve)], Ve) } if (s === "sharing") return Lt([VM()], Ve); if (s === "library") return de.log(t, "Opening library link."), Lt([ri({ kind: bt.Library }, Ve, t)], Ve); const l = zM(s, o); if (tt(l)) return Lt([ri({ kind: l }, Ve, t), At({ kind: vt.NavigationControllerRootPage }, Ve)], Ve) } return null } function zM(n, e) { const t = { browse: bt.New, "browse-newmusic": bt.New, listennow: bt.Home, foryou: bt.Home, radio: bt.Radio }, i = { "browse.index": bt.New, radio: bt.Radio, "radio.index": bt.Radio }, r = n.split(e || "-")[0].toLowerCase(); let s = t[r]; if (yt(s)) { const o = /([a-z\d])([A-Z])/g, a = /[ _]/g, l = n.replace(o, "$1_$2").toLowerCase().replace(a, "."); s = i[l] } return s } function AY(n, e) { return e.some(t => { var i, r, s; const o = (r = (i = n.host) === null || i === void 0 ? void 0 : i.toLowerCase()) !== null && r !== void 0 ? r : "", a = t["host-patterns"]; if (!(a != null && a.some(f => o.match(f)))) return !1; const l = (s = n.pathname) !== null && s !== void 0 ? s : "?", u = n.toString(), c = u.substring(u.indexOf(l)).toLowerCase(), d = t["path-patterns"]; return !!(d != null && d.some(f => c.match(f))) }) } function EY(n, e) { const t = rs(e) ? "yes" : "undecided", i = nt.musicURLResolutionRules(e); if (!i) return de.error(e, "Missing Music URL resolution rules from bag."), !1; const r = i.filter(s => s["subscribed-mode"] === t); return r.length === 0 ? (de.error(e, `'${t}' subscribed-mode not found in Music URL resolution rules.`), !1) : !AY(n, r) } function IY(n, e) { const t = _c(n.toString(), null, "link", e, !0); if (!tt(t)) return null; if (yo(t)) return t; const i = []; return ws(t) && (de.warn(e, `segueForURL("${n.build()}") returned no action to set the active tab.`), i.push(ri({ kind: bt.New }, Ve, e))), i.push(t), Lt(i, Ve) } async function MY(n, e) { const t = Ge(Ue.campaignAttributionService, e); try { const i = await t.processRedirectURL(n.toString()); return new Ln(i) } catch (i) { return de.error(e, "campaignAttributionService.processRedirectURL failed. Continuing processing deep link. Error details: ", i), n } } function LY(n, e) { var t, i, r; const s = (t = n.pathname) === null || t === void 0 ? void 0 : t.slice(1).toLowerCase(); if (tt(s)) { const d = R0.urlForMusicDeepLinkKey(s, e); if (tt(d)) { const f = n.query; return tt(f) && d.append("query", f), d } } const o = n.toString(); return ((i = nt.commerceUIDynamicURLPatterns(e)) !== null && i !== void 0 ? i : []).some(d => new RegExp(d).test(o)) ? (de.log(e, "Matched a Commerce UI dynamic URL pattern."), n) : ((r = nt.commerceUIV2URLPatterns(e)) !== null && r !== void 0 ? r : []).some(d => new RegExp(d).test(o)) ? (de.log(e, "Matched a Commerce UI v2 URL pattern."), n) : null } function as(n, e, t, i) { var r, s, o, a; const l = (o = (s = (r = i.metrics.data[0]) === null || r === void 0 ? void 0 : r.fields) === null || s === void 0 ? void 0 : s.targetType) !== null && o !== void 0 ? o : "unknown", u = _o(n, l, e, t, i.metrics.custom, (a = i.metrics.data[0]) === null || a === void 0 ? void 0 : a.fields); if (!u) throw new Error(`Unable to create default segue for content descriptor '${up(n)}'`); if (!i.isDeepLinkAction) return u; const c = [ri({ kind: bt.New }, Ve, t), u]; return Lt(c, Ve) } function TY(n) { if (n != null && n.length) { const e = n.find(t => t.type === "buy"); if (e) return e.priceFormatted } } function RY(n) { return n.sort((e, t) => { const i = Xd(e), r = Xd(t); return !!(i != null && i.price) > !!(r != null && r.price) ? 1 : -1 }) } function qM(n) { var e, t, i; return (i = (t = (e = n == null ? void 0 : n.attributes) === null || e === void 0 ? void 0 : e.offers) === null || t === void 0 ? void 0 : t.every(r => r.type === "buy")) !== null && i !== void 0 ? i : !1 } function Xd(n) { var e, t; return (t = (e = n == null ? void 0 : n.attributes) === null || e === void 0 ? void 0 : e.offers) === null || t === void 0 ? void 0 : t.find(i => i.type === "buy") } function FY(n, e) { const t = ["FUSE.Meta", n]; return qM(e) && t.push("iTunes"), t.join(".") } function WM(n) { var e; return (e = n == null ? void 0 : n.attributes) === null || e === void 0 ? void 0 : e.name } function KM(n) { var e; return (e = n == null ? void 0 : n.attributes) === null || e === void 0 ? void 0 : e.artistName } function JM(n, e, t) { var i; if (!((i = n == null ? void 0 : n.attributes) === null || i === void 0) && i.seoTitle) return Qe.string("FUSE.Meta.Common.PageTitle", e, { seoTitle: n.attributes.seoTitle }); if (t != null && t.title) return t.title; const r = WM(n), s = KM(n); return r && s ? Qe.string("FUSE.Meta.Album.PageTitle", e, { artistName: s, albumName: r }) : lg(e) } function OY(n, e, t, i, r, s) { var o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F, N, O, B; const U = bn(n, t); if (!(e != null && e.attributes) || !i) return U; const K = e.id, W = Ge(Ue.localization, t), Z = (a = (o = e.relationships) === null || o === void 0 ? void 0 : o.tracks) === null || a === void 0 ? void 0 : a.data, Q = Zi(Z, i), G = (u = (l = e.relationships) === null || l === void 0 ? void 0 : l.artists) === null || u === void 0 ? void 0 : u.data, ae = Zi(G, i), ee = (c = e.attributes) === null || c === void 0 ? void 0 : c.seoDescription, pe = (f = (d = e.attributes) === null || d === void 0 ? void 0 : d.classicalUrl) !== null && f !== void 0 ? f : n; if (r) { const Mt = Q.find(jn => jn.id === r), Sn = (h = (g = Mt == null ? void 0 : Mt.relationships) === null || g === void 0 ? void 0 : g.artists) === null || h === void 0 ? void 0 : h.data, Wn = Zi(Sn, i); return dM(Mt, n, Wn, e, void 0, t, !0, s) } const ke = (v = (m = e.views) === null || m === void 0 ? void 0 : m["you-might-also-like"]) === null || v === void 0 ? void 0 : v.data, we = Zi(ke, i), Te = (y = (b = e.views) === null || b === void 0 ? void 0 : b["more-by-artist"]) === null || y === void 0 ? void 0 : y.data, ge = Zi(Te, i), Ce = WM(e), he = (k = e.attributes) === null || k === void 0 ? void 0 : k.offers, Ae = qM(e), ze = TY(he), Pe = Q == null ? void 0 : Q.filter(Mt => { var Sn, Wn; return (Wn = (Sn = Mt == null ? void 0 : Mt.attributes) === null || Sn === void 0 ? void 0 : Sn.offers) === null || Wn === void 0 ? void 0 : Wn.some(jn => jn.type === "buy") }), Oe = Ae && Pe ? (S = RY(Pe)) === null || S === void 0 ? void 0 : S[0] : void 0, _e = Ae && Oe ? (C = Xd(Oe)) === null || C === void 0 ? void 0 : C.priceFormatted : void 0, Se = (P = e.attributes) === null || P === void 0 ? void 0 : P.releaseDate, Re = KM(e), Ze = (M = e.attributes) === null || M === void 0 ? void 0 : M.genreNames, De = Ze == null ? void 0 : Ze[0], xe = $n(Se, t), Fe = Se ? new Date(Se).toISOString() : void 0, Be = (R = e.attributes) === null || R === void 0 ? void 0 : R.trackCount, lt = (F = jE(Q, t)) !== null && F !== void 0 ? F : "", _t = (B = (O = (N = e.attributes) === null || N === void 0 ? void 0 : N.artwork) === null || O === void 0 ? void 0 : O.url) !== null && B !== void 0 ? B : Ai.url, et = Ai.width, ie = Ai.height, $e = "jpg"; function kt() { if (ee) return ee; if (s != null && s.description) return s.description; if (Ae) return fs(); const Mt = "FUSE.Meta.Album.PageDescription", Sn = nl({ itemNumber: Be != null ? Be : 0 }); if (Ce && Re && lt && xe && Be) return W.string(`${Mt}${Sn}`, { albumName: Ce, artistName: Re, count: Be.toLocaleString(), duration: lt, releaseYear: xe }) } function on() { return s != null && s.socialTitle ? s.socialTitle : Re && Ce ? W.string("FUSE.Meta.Album.Title", { artistName: Re, albumName: Ce }) : void 0 } function Dn() { if (s != null && s.socialDescription) return s.socialDescription; if (Ae) return gn; const Mt = Be && Be > 1 ? ".other" : ".one"; if (xe && Be) return W.string(`FUSE.Meta.Album.Description.Social${Mt}`, { year: xe, count: Be.toString() }) } const qn = JM(e, t, s), gn = kt(), Nt = on(), ds = Dn(), yh = Q == null ? void 0 : Q.map(Mt => J0(Mt)); function wh() { if (Ce && Re && De) { const Mt = FY("Album.PageKeywords", e); return W.string(Mt, { albumName: Ce, artistName: Re, genreName: De }) } } function Ht(Mt) { var Sn, Wn, jn, gs; const hs = (Sn = Mt == null ? void 0 : Mt.attributes) === null || Sn === void 0 ? void 0 : Sn.name, ms = (jn = (Wn = Mt == null ? void 0 : Mt.attributes) === null || Wn === void 0 ? void 0 : Wn.artwork) === null || jn === void 0 ? void 0 : jn.url; if (hs) { let Pa; return ms && (Pa = di(ms, { width: et, height: ie, fileType: $e })), { "@type": "MusicAlbum", image: Pa, url: (gs = Mt == null ? void 0 : Mt.attributes) === null || gs === void 0 ? void 0 : gs.url, name: hs } } } function ci(Mt) { var Sn, Wn, jn, gs, hs, ms, Pa, kh, Dh; const Aa = Xd(Mt), uv = Ae && !!(Aa != null && Aa.price), Hc = Do((Sn = Mt == null ? void 0 : Mt.attributes) === null || Sn === void 0 ? void 0 : Sn.url, Mt.id), cv = (Wn = Mt == null ? void 0 : Mt.attributes) === null || Wn === void 0 ? void 0 : Wn.durationInMillis, Sh = (jn = Mt == null ? void 0 : Mt.attributes) === null || jn === void 0 ? void 0 : jn.name, dv = cv ? ea(cv) : void 0, fv = (hs = (gs = Mt == null ? void 0 : Mt.attributes) === null || gs === void 0 ? void 0 : gs.artwork) === null || hs === void 0 ? void 0 : hs.url, gv = fv ? di(fv, { width: et, height: ie, fileType: $e }) : void 0, hv = (ms = Mt.attributes) === null || ms === void 0 ? void 0 : ms.releaseDate, Ch = { "@type": "MusicRecording", name: Sh, duration: dv, url: Hc, offers: { "@type": "Offer", category: uv ? null : "free", price: uv ? Aa == null ? void 0 : Aa.price : 0 } }, mv = { name: Sh, contentUrl: (kh = (Pa = Mt == null ? void 0 : Mt.attributes) === null || Pa === void 0 ? void 0 : Pa.previews[0]) === null || kh === void 0 ? void 0 : kh.url, duration: dv, uploadDate: hv ? el(hv) : void 0, thumbnailUrl: gv }; return Mt.type === z.Songs && (Ch.audio = { "@type": "AudioObject", potentialAction: mi(Hc, "ListenAction"), ...mv }), Mt.type === z.MusicVideos && (Ch.video = { "@type": "VideoObject", description: yc(W, Sh, (Dh = Mt.attributes) === null || Dh === void 0 ? void 0 : Dh.artistName, s), embedUrl: Dl(Hc), potentialAction: mi(Hc, "ViewAction"), thumbnail: { "@type": "ImageObject", url: gv }, ...mv }), Ch } function fs() { var Mt; const Sn = [], Wn = (Mt = Pe == null ? void 0 : Pe.length) !== null && Mt !== void 0 ? Mt : 0, jn = "FUSE.Meta.Album.iTunes.PageDescription"; return Wn && Ce && Re && xe && lt && Sn.push(W.string(`${jn}${nl({ itemNumber: Wn })}`, { albumName: Ce, artistName: Re, releaseYear: xe, count: Wn.toLocaleString(), duration: lt })), Ae && (ze && Sn.push(W.string("FUSE.Meta.Album.Description.iTunes.AlbumPrice", { formattedPrice: ze })), Oe && _e && Sn.push(W.string("FUSE.Meta.Album.Description.iTunes.CheapestTrack", { cheapestTrackPrice: _e }))), Sn.join(" ") } function wU() { const Mt = Q != null && Q.length ? Q.map(jn => ci(jn)) : [], Sn = ge != null && ge.length ? ge.map(jn => Ht(jn)) : [], Wn = { "@context": "http://schema.org", "@type": "MusicAlbum", name: Ce, description: gn, citation: we == null ? void 0 : we.map(jn => Ht(jn)), tracks: Mt, workExample: [...Sn, ...Mt], url: n, image: di(_t, { width: et, height: ie, fileType: $e }), potentialAction: mi(n, "ListenAction") }; if (Ze && (Wn.genre = Ze), Fe && (Wn.datePublished = el(Fe)), Re) { const jn = ae == null ? void 0 : ae.map(gs => { var hs, ms; return { "@type": "MusicGroup", url: (hs = gs.attributes) === null || hs === void 0 ? void 0 : hs.url, name: (ms = gs.attributes) === null || ms === void 0 ? void 0 : ms.name } }); Wn.byArtist = jn } return Wn } return { ...U, pageTitle: qn, description: gn, keywords: wh(), canonicalUrl: pe, oembedData: ag(n, on()), artistUrls: ae.map(Mt => { var Sn; return (Sn = Mt.attributes) === null || Sn === void 0 ? void 0 : Sn.url }), musicReleaseDate: Fe, songsCount: Be, fileType: $e, height: ie, artworkUrl: _t, crop: "bf", quality: Hn.quality, appleContentId: K, appleTitle: Ce, appleDescription: gn, socialTitle: Nt, socialDescription: ds, ogSongs: yh, ogType: "music.album", twitterCardType: "summary", twitterHeight: 600, twitterWidth: 600, twitterCropCode: "bf", schemaName: "schema:music-album", schemaContent: wU() } } async function NY(n, e, t, i) { var r, s; if (!Vn(e)) return n; const o = (r = t.body) === null || r === void 0 ? void 0 : r.data, a = (s = t.body) === null || s === void 0 ? void 0 : s.resources, l = a ? new gt(a, e) : void 0, u = l && o ? fo(o, l) : void 0; if (!(u != null && u.attributes) || !l) return n; const c = await vi(u.id, z.Albums, e), d = OY(u.attributes.url, u, e, l, i, c); return { ...n, seoData: d } } class BY extends Error { constructor(e, t, i) { super(t), this.userInfo = {}, this.cause = i, this.userInfo = { status: e } } } function x0(n, e) { switch (n) { case x.Album: return z.Albums; case x.AppleCurator: return z.AppleCurators; case x.EditorialItem: return z.EditorialItems; case x.Playlist: return z.Playlists; case x.Movie: return z.MusicMovies; case x.MusicVideo: return z.MusicVideos; case x.SocialProfile: return z.SocialProfiles; case x.Song: return z.Songs; case x.RadioStation: return z.Stations; case x.TVShow: return z.TVShows; case x.TVEpisode: return z.TVEpisodes; case x.ArtistUploadedSong: return z.UploadedAudios; case x.ArtistUploadedVideo: return z.UploadedVideos; case x.Artist: return z.Artists; case x.Curator: return z.Curators; case x.RecordLabel: return z.RecordLabels; default: return de.warn(e, `A MediaAPI resource type could not be found for a content kind "${n}".`), null } } function Po(n, e) { const t = vg(n, e); return new je(t, e) } function vg(n, e) { if (yt(n.identifiers.storeAdamID)) throw new BY(404, "No storeAdamID in ContentDescriptor"); const t = n.identifiers.storeAdamID, i = nt.countryCode(e), r = x0(n.kind, e); return `/v1/catalog/${i}/${r}/${t}` } function bg(n, e) { return { $kind: "AlbumDetailPageIntent", contentDescriptor: n, prominentItemIdentifier: e } } function e1(n, e) { return { id: n, itemKind: "containerDetailTracklistFooterLockup", presentation: { kind: "single" }, items: [e] } } async function YM(n) { const e = n.optional(Ue.userSocialProfileCoordinator); return await (e == null ? void 0 : e.fetchUserSocialProfile()), e == null ? void 0 : e.userProfile } function t1(n) { var e; const t = n.optional(Ue.userSocialProfileCoordinator); return ((e = t == null ? void 0 : t.userProfile) === null || e === void 0 ? void 0 : e.isSocialOnboarded) === !0 } function UY() { return { $kind: "RefreshInlineUpsellSectionIntent" } } function XM(n, e) { return { id: n, itemKind: "inlineUpsell", presentation: { kind: "single" }, items: [e], invalidationRules: { eventTriggers: [{ events: [{ name: "invalidationAction", kind: "containerDetailSocialOnboardingUpsellDismissed", scope: "page" }, { name: "socialOnboardingStatusChange" }], intent: UY() }] } } } var il; (function (n) { n[n.AlbumDetail = 0] = "AlbumDetail", n[n.PlaylistDetail = 1] = "PlaylistDetail" })(il || (il = {})); function n1(n, e) { if (!ZM(e)) return null; let t, i; switch (n) { case il.AlbumDetail: t = Qe.string("FUSE.Social.DT.AlbumUpsell.Header", e), i = Qe.string("FUSE.Social.DT.AlbumUpsell.Description", e); break; case il.PlaylistDetail: t = Qe.string("FUSE.Social.DT.PlaylistUpsell.Header", e), i = Qe.string("FUSE.Social.DT.PlaylistUpsell.Description", e); break }const s = Ge(Ue.storage, e).setItemAction(Qr.User.DetailSocialOnboardingUpsellDismissed, !0, Ve), a = Lt([s, { actionMetrics: Ve, metadata: { kind: n }, scope: "page", kind: "containerDetailSocialOnboardingUpsellDismissed", $kind: "invalidationAction" }], Ve), l = VM(), u = it("inline-social-onboarding", e); return XM(u, { id: qe(u, "inline-social-onboarding-item", e), title: t, subtitle: i, buttonTitle: Qe.string("FUSE.Social.DT.DiscoverFriends.CTA", e), buttonAction: l, segue: l, closeAction: a }) } function ZM(n) { return !(!wl(n) || t1(n) || Ge(Ue.storage, n).getItem(Qr.User.DetailSocialOnboardingUpsellDismissed)) } function QM(n, e, t) { const i = []; let r = []; switch (n.type) { case z.Albums: r = [Ee.OtherVersions, Ee.RelatedVideos, Ee.AudioExtras, Ee.VideoExtras, Ee.MoreByArtist, Ee.AppearsOn, Ee.YouMightAlsoLike]; break; case z.Playlists: r = [Ee.FriendsWhoAdded, Ee.Collaborators, Ee.Contributors, Ee.MoreByCurator, Ee.FeaturedArtists]; break; case z.LibraryPlaylists: r = [Ee.Collaborators, Ee.FeaturedArtists]; break }let s = !0; return r.forEach(o => { const a = ga(n, o, t, e); dr.isSome(a) && (s && (i.push(Wd(`footer - ${n.id}`, t, "alternate")), s = !1), a.backgroundTreatment = "alternate", i.push(a)) }), i } function HY(n) { return "pageChangeInstructions" in n } function jM(n, e, t, i) { return { $kind: n, url: t, id: e, isChart: i } } const $Y = ["personal-mix", "replay", "user-shared"]; function GM(n) { var e; return (e = n == null ? void 0 : n.attributes) === null || e === void 0 ? void 0 : e.name } function xM(n) { var e; return (e = n == null ? void 0 : n.attributes) === null || e === void 0 ? void 0 : e.curatorName } function eL(n) { var e; return (e = n == null ? void 0 : n.attributes) === null || e === void 0 ? void 0 : e.playlistType } function VY(n, e, t) { var i; if (!((i = n == null ? void 0 : n.attributes) === null || i === void 0) && i.seoTitle) return Qe.string("FUSE.Meta.Common.PageTitle", e, { seoTitle: n.attributes.seoTitle }); if (t != null && t.title) return t.title; const r = xM(n), s = GM(n), o = eL(n); return s && e ? o === "editorial" || !r ? Qe.string("FUSE.Meta.Playlist.NoCurator.PageTitle", e, { playlistName: s }) : Qe.string("FUSE.Meta.Playlist.PageTitle", e, { artistName: r, playlistName: s }) : lg(e) } function zY(n, e, t, i, r) { var s, o, a, l, u, c, d, f, g, h, m, v; const b = bn(n, e), y = GM(t); if (!y) return b; const k = Ge(Ue.localization, e), S = (s = t.attributes) === null || s === void 0 ? void 0 : s.seoDescription, C = (a = (o = t.attributes) === null || o === void 0 ? void 0 : o.classicalUrl) !== null && a !== void 0 ? a : n, P = xM(t), M = (l = t.attributes) === null || l === void 0 ? void 0 : l.genreNames, R = eL(t), F = (u = t.attributes) === null || u === void 0 ? void 0 : u.artwork, N = (d = (c = t.relationships) === null || c === void 0 ? void 0 : c.tracks) === null || d === void 0 ? void 0 : d.data, O = Zi(N, i), B = (h = (f = O.length) !== null && f !== void 0 ? f : (g = t.attributes) === null || g === void 0 ? void 0 : g.trackCount) !== null && h !== void 0 ? h : 0, U = "wp"; function K() { var Ce; if (S) return S; if (r != null && r.description) return r.description; if (y) { const he = (Ce = jE(O, e)) !== null && Ce !== void 0 ? Ce : "", Ae = B.toLocaleString(); let ze = "FUSE.Meta.Playlist"; return R === "editorial" || !P ? (ze += ".NoCurator.PageDescription", k.string(`${ze}${nl({ itemNumber: B })}`, { playlistName: y, count: Ae, duration: he })) : (ze += ".PageDescription", k.string(`${ze}${nl({ itemNumber: B })}`, { curatorName: P, playlistName: y, count: Ae, duration: he })) } } function W() { if (y) { const Ce = "FUSE.Meta.Playlist.PageKeywords", he = M == null ? void 0 : M[0]; return P && he ? k.string(Ce, { playlistName: y, artistName: P, genreName: he }) : P ? k.string(`${Ce}.WithoutGenre`, { playlistName: y, artistName: P }) : he ? k.string(`${Ce}.NoCurator`, { playlistName: y, genreName: he }) : k.string(`${Ce}.NoCurator.WithoutGenre`, { playlistName: y }) } } function Z() { if (r != null && r.socialTitle) return r.socialTitle === "@@playlistName@@" && y ? k.string("FUSE.Meta.Playlist.Title.Social.Editorial", { playlistName: y }) : r.socialTitle; if (y) { if (P) { if (R === "user-shared") return k.string("FUSE.Meta.Playlist.Title", { playlistName: y, artistName: P }); if (R === "personal-mix") return k.string("FUSE.Meta.Playlist.Title.Social", { playlistName: y, artistName: P }) } return k.string("FUSE.Meta.Playlist.Title.Editorial", { playlistName: y }) } } function Q() { return r != null && r.socialDescription ? r.socialDescription : B === 1 ? k.string("FUSE.Meta.Playlist.Description.Social.one") : k.string("FUSE.Meta.Playlist.Description.Social.other", { count: B.toString() }) } const G = VY(t, e, r), ae = K(), ee = Z(), pe = Q(), ke = O == null ? void 0 : O.map(Ce => J0(Ce)), we = R ? $Y.includes(R) : !1, Te = "jpg"; function ge(Ce) { var he, Ae, ze, Pe, Oe, _e, Se, Re, Ze, De; const xe = Do((he = Ce.attributes) === null || he === void 0 ? void 0 : he.url), Fe = (Ae = Ce.attributes) === null || Ae === void 0 ? void 0 : Ae.durationInMillis, Be = Fe ? ea(Fe) : "P0D", lt = (ze = Ce.attributes) === null || ze === void 0 ? void 0 : ze.name, _t = (Pe = Ce.attributes) === null || Pe === void 0 ? void 0 : Pe.releaseDate, et = (_e = (Oe = Ce.attributes) === null || Oe === void 0 ? void 0 : Oe.artwork) === null || _e === void 0 ? void 0 : _e.url, ie = et ? di(et, { width: Ai.width, height: Ai.height, fileType: Te }) : void 0, $e = { "@type": "MusicRecording", name: lt, url: xe, duration: Be, offers: { "@type": "Offer", category: "free", price: 0 } }, kt = { name: lt, contentUrl: (Ze = (Re = (Se = Ce.attributes) === null || Se === void 0 ? void 0 : Se.previews) === null || Re === void 0 ? void 0 : Re[0]) === null || Ze === void 0 ? void 0 : Ze.url, duration: Be, uploadDate: _t ? el(_t) : void 0, thumbnailUrl: ie }; return Ce.type === z.Songs && ($e.audio = { "@type": "AudioObject", potentialAction: mi(xe, "ListenAction"), ...kt }), Ce.type === z.MusicVideos && ($e.video = { "@type": "VideoObject", description: yc(k, lt, (De = Ce.attributes) === null || De === void 0 ? void 0 : De.artistName), embedUrl: Dl(xe), potentialAction: mi(xe, "ViewAction"), thumbnail: { "@type": "ImageObject", url: ie }, ...kt }), $e } return { ...b, pageTitle: G, description: ae, keywords: W(), canonicalUrl: C, noFollow: we, oembedData: ag(n, Z()), appleContentId: t.id, appleTitle: y, appleDescription: ae, ogType: "music.playlist", socialTitle: ee, socialDescription: pe, ogSongs: ke, songsCount: B, crop: U, twitterCropCode: U, twitterHeight: 600, fileType: Te, quality: Hn.quality, artworkUrl: (m = F == null ? void 0 : F.url) !== null && m !== void 0 ? m : b.artworkUrl, schemaName: "schema:music-playlist", schemaContent: we ? void 0 : { "@context": "http://schema.org", "@type": "MusicPlaylist", name: y, description: ae, genre: M, datePublished: (v = t.attributes) === null || v === void 0 ? void 0 : v.lastModifiedDate, numTracks: B, author: P ? { "@type": "Person", name: P } : void 0, offers: { "@type": "Offer", category: "free" }, track: O == null ? void 0 : O.map(Ce => ge(Ce)), url: n, potentialAction: mi(n, "ListenAction") } } } async function qY(n, e, t, i) { if (!Vn(e) || !t) return n; const r = await vi(t.id, z.Playlists, e), s = zY(n.canonicalURL, e, t, i, r); return { ...n, seoData: s } } function i1(n, e, t, i) { var r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F, N, O, B, U, K, W, Z; const Q = (s = (r = n.playlistResponse) === null || r === void 0 ? void 0 : r.body) === null || s === void 0 ? void 0 : s.data; if (!Q || Q.length === 0) throw new Error("No resource identifiers in playlist detail page response"); const G = (a = (o = n.playlistResponse) === null || o === void 0 ? void 0 : o.body) === null || a === void 0 ? void 0 : a.resources; if (!G) throw new Error("No resource map in playlist detail page response"); const ae = new gt(G, e), ee = ae.resource(Q[0]); if (!ee) throw new Error("No container in container detail page response."); const pe = (u = (l = n.socialMetadataResponse) === null || l === void 0 ? void 0 : l.body) === null || u === void 0 ? void 0 : u.resources; if (tt(pe)) { let Re = Q[0]; if (Re.type === z.LibraryPlaylists) { const Be = (f = (d = (c = ae.resource(Re)) === null || c === void 0 ? void 0 : c.relationships) === null || d === void 0 ? void 0 : d.catalog) === null || f === void 0 ? void 0 : f.data; Be != null && Be[0] && (Re = Be[0]) } const De = new gt(pe, e).resource(Re), xe = De == null ? void 0 : De.views; tt(xe) && (ee.views = (g = ee.views) !== null && g !== void 0 ? g : {}, Object.assign(ee.views, xe)), ae.addResourceMap(pe, e); const Fe = (m = (h = De == null ? void 0 : De.relationships) === null || h === void 0 ? void 0 : h.tracks) === null || m === void 0 ? void 0 : m.data; Fe && ((y = (b = (v = ee.relationships) === null || v === void 0 ? void 0 : v.tracks) === null || b === void 0 ? void 0 : b.data) === null || y === void 0 || y.forEach((Be, lt) => { var _t; const et = (_t = Fe[lt]) === null || _t === void 0 ? void 0 : _t.meta; et && (Be.meta = et) })) } ee.attributes && (!((S = (k = ee.relationships) === null || k === void 0 ? void 0 : k.tracks) === null || S === void 0) && S.data) && Array.isArray(ee.relationships.tracks.data) && (ee.attributes.trackCount = ee.relationships.tracks.data.length); let ke = []; const we = yJ(ee, ae, e); we && ke.push(we); const Te = (M = (P = (C = ee.relationships) === null || C === void 0 ? void 0 : C.catalog) === null || P === void 0 ? void 0 : P.data) === null || M === void 0 ? void 0 : M[0], ge = ae.resource(Te), Ce = (O = (F = (R = ge == null ? void 0 : ge.attributes) === null || R === void 0 ? void 0 : R.isChart) !== null && F !== void 0 ? F : (N = ee.attributes) === null || N === void 0 ? void 0 : N.isChart) !== null && O !== void 0 ? O : !1, he = EM(ee, ae, e, Ce, i); he && (ke = ke.concat(he.sections)); const Ae = WY(ee, ae, (B = he == null ? void 0 : he.isHomogenousMusicVideoTracklist) !== null && B !== void 0 ? B : !1, e); if (Ae && ke.push(Ae), mt.supportsSocialOnboarding(e)) { const Re = n1(il.PlaylistDetail, e); Re && ke.push(Re) } const ze = QM(ee, ae, e); ke.push(...ze); let Pe = (U = ee == null ? void 0 : ee.attributes) === null || U === void 0 ? void 0 : U.url; if (Pe && i) { const Re = new Ln(Pe), Ze = { i }; Re.append("query", Ze), Pe = Re.toString() } const Oe = t.collaborationRequest; if (Pe && Oe) { const Re = new Ln(Pe), Ze = new Ln(Oe.url); Re.append("query", (K = Ze.query) !== null && K !== void 0 ? K : {}), Pe = Re.toString() } const _e = { pageMetrics: tn(e, n.playlistResponse, "playlist_detail", "Playlist", ae), sections: ke, invalidationRules: { eventTriggers: [{ events: [{ name: "subscriptionStatusChange" }, { name: "restrictionsDidChange" }], intent: zi(t, "Subscription Status Changed") }, { events: [{ name: "sortByChange" }], intent: zi(t, "SortBy Changed") }] }, canonicalURL: Pe }, Se = (Z = (W = ee.relationships) === null || W === void 0 ? void 0 : W.tracks) === null || Z === void 0 ? void 0 : Z.next; return Se && (_e.nextIntent = jM("PlaylistPaginationIntent", ee.id, Se, Ce)), qY(_e, e, ee, ae) } function WY(n, e, t, i) { var r, s; const o = rt(n, i, e); if (!o) return null; const a = it(`track-list-footer-section - ${n.id}`, i); return e1(a, { id: qe("track-list-footer", n.id, i), contentDescriptor: o, numberOfSocialBadges: 10, hidden: !!(!((s = (r = n.relationships) === null || r === void 0 ? void 0 : r.tracks) === null || s === void 0) && s.next), description: tL(n, e, t, i) }) } function tL(n, e, t, i) { var r, s; const o = (s = (r = n.relationships) === null || r === void 0 ? void 0 : r.tracks) === null || s === void 0 ? void 0 : s.data; if (!o) return null; const a = e.resources(o), l = a.reduce((u, c) => { var d, f; const g = (f = (d = c.attributes) === null || d === void 0 ? void 0 : d.durationInMillis) !== null && f !== void 0 ? f : 0; return u + g }, 0); return nL(a.length, l, i, t) } function nL(n, e, t, i = !1) { const r = i ? rJ(n, t) : mg(n, t), s = da(e, t), o = Ge(Ue.localization, t); return r && s ? o.string("AMWEB.ContentA.Comma.ContentB", { contentA: r, contentB: s }) : null } function Ou(n, e, t, i) { var r, s, o, a, l, u, c; const d = (r = n.body) === null || r === void 0 ? void 0 : r.data; if (!d || d.length === 0) throw new Error("No resource identifiers in container detail page response"); const f = (s = n.body) === null || s === void 0 ? void 0 : s.resources; if (!f) throw new Error("No resource map in container detail page response"); const g = new gt(f, e), h = g.resource(d[0]); if (!h) throw new Error("No container in container detail page response."); let m = []; const v = pJ(h, g, e); v && m.push(v); const b = CJ(h, g, e, !1, i); b && (m = m.concat(b)); const y = iL(h, g, e); if (y && m.push(y), mt.supportsSocialOnboarding(e)) { const C = n1(il.AlbumDetail, e); C && m.push(C) } const k = QM(h, g, e); m.push(...k); let S = (o = h == null ? void 0 : h.attributes) === null || o === void 0 ? void 0 : o.url; if (i) { const C = (u = (l = (a = h.relationships) === null || a === void 0 ? void 0 : a.tracks) === null || l === void 0 ? void 0 : l.data) === null || u === void 0 ? void 0 : u.find(M => M.id === i), P = g.resource(C); S = (c = P == null ? void 0 : P.attributes) === null || c === void 0 ? void 0 : c.url } return { pageMetrics: tn(e, n, "album_detail", "Album", g), sections: m, invalidationRules: { eventTriggers: [{ events: [{ name: "subscriptionStatusChange" }, { name: "restrictionsDidChange" }], intent: zi(t, "Subscription Status Changed") }] }, canonicalURL: S } } function iL(n, e, t) {
    var i, r, s; const o = rt(n, t, e); if (!o) return null; const a = [], l = po((i = n.attributes) === null || i === void 0 ? void 0 : i.releaseDate, t); l && a.push(l); const u = tL(n, e, !1, t); u && a.push(u); const c = (r = n.attributes) === null || r === void 0 ? void 0 : r.copyright; c && a.push(c); const d = KY(e, t), f = it(`track-list-section - ${n.id}`, t), g = {
        id: qe("tracklist-footer", n.id, t), contentDescriptor: o, numberOfSocialBadges: 10, description: a.join(`
`), linkSection: d, ...mt.canProcessOfferData(t) ? { offers: (s = n == null ? void 0 : n.attributes) === null || s === void 0 ? void 0 : s.offers } : {}
    }; return e1(f, g)
} function KY(n, e) { var t; const i = n.resourcesForType(z.RecordLabels), r = i == null ? void 0 : i[0]; if (!r) return null; const s = pc(r, e), o = Ge(Ue.localization, e), a = (t = r.attributes) === null || t === void 0 ? void 0 : t.name, l = a ? cg(a, s) : null; return { title: o.string("AMWeb.Label.Module.Record.Label.one").toLocaleUpperCase(), link: l } } const JY = [new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music)\\.apple\\.com\\/.*?\\/MZStore\\.woa\\/.*?\\/viewAlbum(?=.*?[?&]id=(?<id>[\\w\\.-]+))(?:.*?[?&]cc=(?<cc>\\w{2}))?"), new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music)\\.apple\\.com\\/(?:(?<cc>\\w{2})\\/)?album\\/(?:.*\\/)?(?:id)?(?<id>[\\w\\.-]+)")], YY = { $intentKind: "AlbumDetailPageIntent", routes(n) { return JY.map(e => ({ rules: [{ regex: [e], query: ["l?"] }], handler: (t, i) => { var r, s, o, a; const l = t.toString(), u = (s = (r = t.toString().match(e)) === null || r === void 0 ? void 0 : r.groups) !== null && s !== void 0 ? s : {}, c = (a = (o = t.query) === null || o === void 0 ? void 0 : o.i) !== null && a !== void 0 ? a : void 0, d = { kind: x.Album, identifiers: { storeAdamID: u.id }, url: l, locale: qt({ storefront: u.cc, language: i.l }, n) }; return bg(d, c) } })) }, async perform(n, e) { const t = r1(n.contentDescriptor, e), i = n.prominentItemIdentifier; let r = await Jt(t, e); const s = XY(r, e); s && (r = await Jt(s, e)); const o = Ou(r, e, n, i); return NY(o, e, r, i) }, actionFor(n, e, t) { return as(n.contentDescriptor, n.prominentItemIdentifier, e, t) } }; function XY(n, e) { var t, i, r, s, o; const a = (t = n.body) === null || t === void 0 ? void 0 : t.data; if (!a || a.length === 0) throw new Error("No resource identifiers in container detail page response"); const l = (i = n.body) === null || i === void 0 ? void 0 : i.resources; if (!l) throw new Error("No resource map in container detail page response"); const c = new gt(l, e).resource(a[0]); if (c && c.type === z.Songs) { const d = (o = (s = (r = c.relationships) === null || r === void 0 ? void 0 : r.albums) === null || s === void 0 ? void 0 : s.data) === null || o === void 0 ? void 0 : o[0], f = d == null ? void 0 : d.href; if (f) return rL(f, e) } return null } function rL(n, e) { const t = new je(n, e); return t.queryString.extend.add("offers").add("editorialArtwork").add("editorialVideo").add("extendedAssetUrls"), mt.supportsSeoMetadata(e) && t.queryString.extend.add("seoTitle").add("seoDescription"), t.queryString.artworkURL.add(hn.OmitFileExtension), t.queryString.addParameters({ include: "record-labels,artists", "meta[albums:tracks]": "popularity", "include[songs]": "artists,composers,albums", "include[music-videos]": "artists", "include[playlists]": "curator", "fields[artists]": "name,url", "fields[record-labels]": "name,url", "fields[curators]": "name" }), t.queryString.views.add(Ee.AppearsOn).add(Ee.MoreByArtist).add(Ee.RelatedVideos).add(Ee.OtherVersions).add(Ee.YouMightAlsoLike).add(Ee.AudioExtras).add(Ee.VideoExtras), t } function r1(n, e) { const t = vg(n, e); return rL(t, e) } function yg(n) { return { $kind: "ArtistDetailPageIntent", contentDescriptor: n } } class ZY extends je { constructor(e, t) { super(e, t), this.queryString.extend.add("artistBio").add("isGroup").add("origin").add("bornOrFormed").add("editorialArtwork").add("editorialVideo").add("extendedAssetUrls").add("hero").add("plainEditorialNotes"), mt.supportsSeoMetadata(t) && this.queryString.extend.add("seoTitle").add("seoDescription"), this.queryString.artworkURL.add(hn.OmitFileExtension).add(hn.OmitCropCode), this.queryString.addParameters({ include: "record-labels,artists", "include[songs]": "artists,albums", "extend[playlists]": "trackCount", "include[music-videos]": "artists", "meta[albums:tracks]": "popularity", "limit[artists:top-songs]": "20", "omit[resource]": "autos" }), mt.canRenderArtistSnapshotLink(t) && this.queryString.addParameters({ include: "record-labels,artists,persons,bands" }), this.queryString.views.add(Ee.AppearsOnAlbums).add(Ee.CompilationAlbums).add(Ee.FeaturedAlbums).add(Ee.FeaturedOnAlbums).add(Ee.FeaturedRelease).add(Ee.FullAlbums).add(Ee.LatestRelease).add(Ee.LiveAlbums).add(Ee.MoreToHear).add(Ee.MoreToSee).add(Ee.Playlists).add(Ee.RadioShows).add(Ee.SimilarArtists).add(Ee.Singles).add(Ee.MusicVideos).add(Ee.TopSongs) } } const QY = [new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music)\\.apple\\.com\\/.*?\\/MZStore\\.woa\\/.*?\\/viewArtist(?=.*?[?&]id=(?<id>[\\w\\.-]+))(?:.*?[?&]cc=(?<cc>\\w{2}))?"), new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music)\\.apple\\.com\\/(?:(?<cc>\\w{2})\\/)?artist\\/(?:.*?\\/)?(?:id)?(?<id>[\\w\\.-]+)(?:\\?|$)")], jY = { $intentKind: "ArtistDetailPageIntent", routes(n) { return QY.map(e => ({ rules: [{ regex: [e], query: ["l?"] }], handler: (t, i) => { var r, s; const o = (s = (r = t.toString().match(e)) === null || r === void 0 ? void 0 : r.groups) !== null && s !== void 0 ? s : {}, a = { kind: x.Artist, url: t.toString(), identifiers: { storeAdamID: o.id }, locale: qt({ storefront: o.cc, language: i.l }, n) }; return yg(a) } })) }, async perform(n, e) { const t = vg(n.contentDescriptor, e), i = new ZY(t, e); let r = null; (mt.userCanVisitDifferentStorefront(e) ? OE(e) : rs(e)) && (r = Po(n.contentDescriptor, e), r.queryString.addParameters({ include: "default-playable-content", "fields[artists]": "inFavorites", "fields[stations]": "playParams,url", "omit[resource]": "autos" })); const [o, a] = await Promise.all([Jt(i, e), r !== null ? Jt(r, e) : null]); return oJ(o, a, e) }, actionFor(n, e, t) { return as(n.contentDescriptor, null, e, t) } }, GY = { $intentKind: "ContainerDetailSeeAllPageIntent", async perform(n, e) { const t = new je(n.url, e); t.queryString.addParameters({ "include[songs]": "artists,composers", limit: "20" }), t.queryString.extend.add("artistUrl"); const i = await pt({ url: t.string }, e), r = s1(i, e, n); return r || Promise.reject(`Failed to construct page with response: '${JSON.stringify(i)}'`) } }; function s1(n, e, t) { const i = n.body, r = i == null ? void 0 : i.data, s = i == null ? void 0 : i.resources, o = i == null ? void 0 : i.next; if (!i) return de.error(e, `Missing body from response: ${JSON.stringify(n)}`), null; if (!r) return de.error(e, `Missing identifiers from response: ${JSON.stringify(n)}`), null; if (!s) return de.error(e, `Missing resource map from response: ${JSON.stringify(n)}`), null; const a = new gt(s, e), l = [], u = xY(a, r, e, t); u && l.push(u); let c; return o && (c = { $kind: "ContainerDetailSeeAllPaginateIntent", url: o, id: t.id, viewKind: t.viewKind, title: t.title, containerType: t.containerType }), { pageMetrics: tn(e, n, "see_all", "SeeAll", a), sections: l, nextIntent: c } } function xY(n, e, t, i) { switch (i.viewKind) { case Ee.TopSongs: return br(t, "trackLockup", n, e, i, eX); case Ee.FeaturedAlbums: case Ee.Playlists: case Ee.RadioShows: return br(t, "squareLockup", n, e, i, bM); case Ee.FullAlbums: case Ee.Singles: case Ee.LiveAlbums: case Ee.CompilationAlbums: case Ee.FeaturedOnAlbums: case Ee.MoreToHear: case Ee.MoreByCurator: return br(t, "squareLockup", n, e, i, Kd); case Ee.AppearsOnAlbums: case Ee.LatestReleases: case Ee.AppearsOn: case Ee.OtherVersions: case Ee.AudioExtras: case Ee.YouMightAlsoLike: return br(t, "squareLockup", n, e, i, Ka); case Ee.MoreToSee: case Ee.VideoExtras: return br(t, "verticalVideoLockup", n, e, i, mM); case Ee.TopMusicVideos: case Ee.MusicVideos: case Ee.RelatedVideos: return br(t, "verticalVideoLockup", n, e, i, pM); case Ee.SimilarArtists: case Ee.FeaturedArtists: case Ee.MusicArtists: case Ee.Contributors: case Ee.Collaborators: case Ee.FriendsWhoAdded: case Ee.FriendsWhoListened: return br(t, "bubbleLockup", n, e, i, cM); case Ee.TopReleases: return br(t, "squareLockup", n, e, i, Ka); case Ee.MoreByArtist: return i.containerType === z.MusicVideos ? br(t, "verticalVideoLockup", n, e, i, Fu) : br(t, "squareLockup", n, e, i, Kd); case Ee.MoreInGenre: return i.containerType === z.MusicVideos ? br(t, "verticalVideoLockup", n, e, i, Fu) : br(t, "squareLockup", n, e, i, Ka) }return null } function eX(n, e, t, i, r, s) { var o, a, l, u; const c = rt(n, i); if (!c) return de.warn(i, `Track lockup with id '${n.id}' missing content descriptor.`), null; const d = `${t}-see-all`, f = (o = n.attributes) === null || o === void 0 ? void 0 : o.artistName, g = (a = n.attributes) === null || a === void 0 ? void 0 : a.artwork, h = { kind: "playlistTrackList", hasVideo: !1, hasBadging: !1 }, m = Rt(c, i, d), v = wc(n, i); return { id: qe("track-lockup-see-all", n.id, i, s), title: (l = n.attributes) === null || l === void 0 ? void 0 : l.name, tertiaryLinks: kc(n, i), duration: (u = n.attributes) === null || u === void 0 ? void 0 : u.durationInMillis, contentDescriptor: c, artwork: st(g), subtitleLinks: Gs(z.Artists, n, r, i, f), playAction: v ? null : m, layoutStyle: h, showExplicitBadge: Vt(n.attributes), pauseAction: xi(), resumeAction: Wi(), isDisabled: v, isPreviewMode: !rs(i) } } function br(n, e, t, i, r, s) { const o = [], a = it(`${r.id} - ${r.viewKind}`, n), l = !0; return t.resources(i).forEach(c => { const d = s(c, null, r.viewKind, n, t, l, a); d && o.push(d) }), o.length === 0 ? null : { id: a, itemKind: e, presentation: { kind: "collection", layout: e === "trackLockup" ? "list" : "grid" }, items: o, header: { kind: "default", item: { titleLink: { title: r.title }, accessoryButtons: null } } } } async function tX(n, e, t) { var i, r, s; const o = nt.countryCode(t), a = n.body; if (!(a == null ? void 0 : a.resources)) return Promise.reject(`Failed to construct page with response: '${JSON.stringify(n)}'`); const u = a.attributes.title, c = new je(`/v1/catalog/${o}/artists/${e.artistId}`, t); c.queryString.addParameters({ fields: "url,name", "omit[resource]": "autos" }); const d = await pt({ url: c.string }, t), f = d.body, g = f == null ? void 0 : f.resources; if (!g) return Promise.reject(`Failed to construct page with response: '${JSON.stringify(d)}'`); const m = new gt(g, t).resourceWithID(e.artistId, z.Artists), v = { $kind: "ContainerDetailSeeAllPageIntent", url: (i = m == null ? void 0 : m.href) !== null && i !== void 0 ? i : "", title: u, viewKind: e.sectionId, id: e.artistId, containerType: z.Artists }, b = s1(n, t, v); return b ? (b.canonicalURL = !((r = m == null ? void 0 : m.attributes) === null || r === void 0) && r.url ? `${(s = m == null ? void 0 : m.attributes) === null || s === void 0 ? void 0 : s.url}/see-all?section=${e.sectionId}` : null, VK(b, e.sectionId, t, m)) : Promise.reject(`Failed to construct page with response: '${JSON.stringify(n)}'`) } async function nX(n, e) { const t = nt.countryCode(e), i = new je(`/v1/catalog/${t}/artists/${n.artistId}/view/${n.sectionId}`, e); return i.queryString.addParameters({ "include[songs]": "artists,composers", "include[albums]": "artists,composers", "include[music-videos]": "artists,composers", limit: "20", with: "attributes" }), pt({ url: i.string }, e) } const X3 = new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music)\\.apple\\.com\\/.*?\\/MZStore\\.woa\\/.*?\\/viewArtistSeeAll(?=.*?[?&]ids=(?<id>[\\w\\.-]+))(?:.*?[?&]cc=(?<cc>\\w{2}))?"), iX = { $intentKind: "ArtistDetailSeeAllPageIntent", routes(n) { return [{ rules: [{ path: "/{storefront}/artist/{artist-name-slug}/{artistId}/see-all", query: ["l?", "section"] }, { path: "/artist/{artist-name-slug}/{artistId}/see-all", query: ["l?", "section"] }], handler: (e, t) => Z3(t, n) }, { rules: [{ regex: [X3], query: ["l?", "section?"] }], handler: (e, t) => { var i, r; const s = (r = (i = e.toString().match(X3)) === null || i === void 0 ? void 0 : i.groups) !== null && r !== void 0 ? r : {}; return Z3({ ...t, artistId: s.id, storefront: s.cc }, n) } }] }, async perform(n, e) { const t = await nX(n, e); return tX(t, n, e) }, actionFor(n, e, t) { var i; const r = (i = t.metrics) !== null && i !== void 0 ? i : un(e, "0", "unknown", "navigate"), s = At({ kind: vt.CatalogPage, intent: n }, r); return t.isDeepLinkAction ? Lt(pr({ kind: bt.New }, s, e), Ve) : s } }; function Z3(n, e) { var t; const i = n.section, r = [Ee.TopSongs, Ee.FeaturedAlbums, Ee.Playlists, Ee.FullAlbums, Ee.Singles, Ee.LiveAlbums, Ee.CompilationAlbums, Ee.FeaturedOnAlbums, Ee.MoreToHear, Ee.AppearsOnAlbums, Ee.AppearsOn, Ee.MoreToSee, Ee.TopMusicVideos, Ee.SimilarArtists, Ee.FeaturedArtists, Ee.FeaturedRelease, Ee.LatestRelease, Ee.RadioShows, "music-videos"], { storefront: s, language: o } = qt({ storefront: n.storefront, language: n.l }, e); if (!i || !r.includes(i)) { const l = { kind: x.Artist, identifiers: { storeAdamID: n.artistId }, locale: qt({ storefront: s, language: o }, e) }; return yg(l) } const a = { "music-videos": Ee.TopMusicVideos }; return oM({ storefront: s, language: o, artistId: n.artistId, sectionId: (t = a[i]) !== null && t !== void 0 ? t : i }) } function sL(n) { return { ...n, $kind: "AnyCuratorPageDetailIntent" } } function oL(n, e, t) { return { id: it(`curator-detail-header - ${n}`, t), items: [e], itemKind: "curatorDetailHeaderComponentModel", presentation: { kind: "single" } } } function rX(n, e, t, i) { const r = { id: n, itemKind: "faqList", presentation: { kind: "single" }, items: [e], displaySeparator: !1, backgroundTreatment: t }; if (tt(i)) { const s = { title: i }; r.header = { kind: "default", item: { titleLink: s, accessoryButtons: null } } } return r } function o1(n, e) { if (!n || n.length === 0) { const t = new Error(`No resource identifiers in ${e} page response`); throw t.userInfo = { status: 404 }, t } } const sX = ["1649426593", "1554941247", "1526866649", "976439544", "976439545", "1531543191", "1161867900", "1550671010", "1218399004", "1203924916", "1134258695", "982347512", "983062953"]; function oX(n, e, t, i, r, s) { var o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C; const P = bn(n, t); if (!(e != null && e.attributes) || !i) return P; const M = e.id, R = e.attributes.showHostName, F = Ge(Ue.localization, t), N = (a = (o = e.relationships) === null || o === void 0 ? void 0 : o.playlists) === null || a === void 0 ? void 0 : a.data, O = Zi(N, i), B = (l = e.attributes.playlistCount) !== null && l !== void 0 ? l : O == null ? void 0 : O.length, U = (u = e.attributes) === null || u === void 0 ? void 0 : u.name, K = (c = e.attributes) === null || c === void 0 ? void 0 : c.kind, W = K === "Show" ? U : (g = (f = (d = e.attributes) === null || d === void 0 ? void 0 : d.shortName) !== null && f !== void 0 ? f : U) !== null && g !== void 0 ? g : (h = e.attributes) === null || h === void 0 ? void 0 : h.name, Z = (b = (v = (m = e.attributes) === null || m === void 0 ? void 0 : m.editorialArtwork) === null || v === void 0 ? void 0 : v.brandLogo) !== null && b !== void 0 ? b : (y = e.attributes) === null || y === void 0 ? void 0 : y.artwork, Q = (k = e.attributes) === null || k === void 0 ? void 0 : k.seoTitle, G = (S = e.attributes) === null || S === void 0 ? void 0 : S.seoDescription, ee = e.type === z.AppleCurators ? "wp" : "cw", pe = !!M && sX.includes(M); function ke() { if (Q) return F.string("FUSE.Meta.Common.PageTitle", { seoTitle: Q }); if (r != null && r.title) return r.title; if (!W) return P.pageTitle; const _e = Ce("PageTitle"); return K === "Genre" && !pe ? F.string(_e, { genreName: W }) : K === "Show" ? F.string(_e, { showName: W }) : F.string(_e, { curatorName: W }) } function we() { return r != null && r.socialTitle ? r.socialTitle : W ? F.string("FUSE.Meta.Curator.Title", { curatorName: W }) : he } function Te() { if (G) return G; if (r != null && r.description) return r.description; if (!W) return P.pageTitle; const _e = Ce("PageDescription"); return K === "Genre" ? F.string(_e, { genreName: W }) : K === "Show" && R ? F.string(_e, { showName: W, curatorName: R }) : F.string(_e, { curatorName: W, showName: W }) } function ge() { if (r != null && r.socialDescription) return r.socialDescription; if (K === "Show" && W) return F.string("FUSE.Meta.Curator.PageDescription.Social", { curatorName: W }); if (B && B > 0) { if (B === 1) return F.string("FUSE.Meta.Curator.Description.Social.one"); const _e = nt.languageTag(t), Se = new Intl.NumberFormat(_e).format(B); return F.string("FUSE.Meta.Curator.Description.Social.other", { count: Se }) } return Ae } function Ce(_e) { const Se = ["FUSE.Meta.Curator"]; return K === "Genre" && !(_e === "PageTitle" && pe) ? Se.push("Genre") : K === "Show" && Se.push("RadioShow"), Se.push(_e), Se.join(".") } const he = ke(), Ae = Te(), ze = we(), Pe = ge(); function Oe() { let _e; return K === "Genre" ? _e = [{ "@context": "http://schema.org", "@type": "CreativeWork", name: W, genre: n, potentialAction: mi(n, "ListenAction") }] : _e = [{ "@context": "http://schema.org", "@type": "Person", name: U, description: Ae, url: n, potentialAction: mi(n, "ListenAction") }], s != null && s.length && s.forEach(Se => { const Re = Se.content.map(Ze => ({ "@type": "Question", name: Ze.question, acceptedAnswer: { "@type": "Answer", text: Ze.answer } })); _e.push({ "@context": "http://schema.org", "@type": "FAQPage", mainEntity: Re }) }), _e } return { ...P, pageTitle: he, description: Ae, keywords: U ? F.string("FUSE.Meta.Curator.PageKeywords", { curatorName: U }) : void 0, appleContentId: M, appleTitle: U, appleDescription: Ae, ogType: "music.creator", socialTitle: ze, socialDescription: Pe, crop: ee, twitterCropCode: ee, artworkUrl: (C = Z == null ? void 0 : Z.url) !== null && C !== void 0 ? C : P.artworkUrl, schemaName: "schema:creator", schemaContent: Oe() } } async function aX(n, e, t) { var i, r; if (!Vn(e)) return n; const s = (i = t.body) === null || i === void 0 ? void 0 : i.data, o = (r = t.body) === null || r === void 0 ? void 0 : r.resources, a = o ? new gt(o, e) : void 0, l = a && s ? fo(s, a) : void 0; if (!(l != null && l.attributes) || !a) return n; const u = await vi(l.id, z.Curators, e), c = n.sections.find(g => g.itemKind === "faqList"), d = c == null ? void 0 : c.items, f = oX(n.canonicalURL, l, e, a, u, d); return { ...n, seoData: f } } function lX(n, e) { return { $kind: "AnyCuratorDetailSeeAllPageIntent", url: n, title: e } } async function a1(n, e) { var t, i, r, s, o, a, l, u, c, d, f; const g = (t = n.body) === null || t === void 0 ? void 0 : t.data; o1(g, "editorial page"); const h = (i = n.body) === null || i === void 0 ? void 0 : i.resources; if (!h) throw new Error("No resource map in editorial page response"); const m = new gt(h, e), v = m.resource(g[0]), b = [], y = uX(v, e), k = ((r = v == null ? void 0 : v.attributes) === null || r === void 0 ? void 0 : r.kind) === "Genre"; y && !k && b.push(y); const S = v == null ? void 0 : v.attributes; let C; if (S) { const F = it(`headerComponentItemSection - ${v.id}`, e), N = S.kind === "Show" ? S.name : (s = S.shortName) !== null && s !== void 0 ? s : S.name; if (tt(N)) { const O = xs(F, { id: qe("apple-curator-header", v.id, e), title: N, contentDescriptor: rt(v, e) }); b.push(O) } C = lL(v, !1, e), C && !k && b.push(C) } let P = !1; const M = (a = (o = v == null ? void 0 : v.relationships) === null || o === void 0 ? void 0 : o.grouping) === null || a === void 0 ? void 0 : a.data; if (M != null && M.length) { M[0].id = (c = (u = Object.keys((l = h.groupings) !== null && l !== void 0 ? l : {})) === null || u === void 0 ? void 0 : u[0]) !== null && c !== void 0 ? c : M[0].id; const F = await UM(M, m, e); b.push(...F), P = !!F.length } if (!P) { const F = (d = v == null ? void 0 : v.relationships) === null || d === void 0 ? void 0 : d.playlists, N = aL(F == null ? void 0 : F.data, m, v == null ? void 0 : v.id, F == null ? void 0 : F.href, e); N && b.push(N) } if (k) { if (C) { const F = Ge(Ue.localization, e); C.header = { kind: "default", item: { titleLink: { title: F.string("FUSE.Bio.About") } } }, b.push(C) } if (mt.canRenderFAQContent(e)) { const F = dX(v, e); F && b.push(F) } } const R = { pageMetrics: tn(e, n, "curator", "Curator", m), sections: b, canonicalURL: (f = v == null ? void 0 : v.attributes) === null || f === void 0 ? void 0 : f.url }; return aX(R, e, n) } function uX(n, e) { var t, i, r, s, o, a; if (!n) return null; const l = n.attributes; if (!l) return null; const u = l.kind !== "Show" && l.kind !== "Genre", c = { id: qe("curator-header", n.id, e), artwork: st((s = (i = (t = l.editorialArtwork) === null || t === void 0 ? void 0 : t.bannerUber) !== null && i !== void 0 ? i : (r = l.editorialArtwork) === null || r === void 0 ? void 0 : r.subscriptionCover) !== null && s !== void 0 ? s : (o = l.editorialArtwork) === null || o === void 0 ? void 0 : o.subscriptionHero), coverArtwork: u ? st((a = l.editorialArtwork) === null || a === void 0 ? void 0 : a.brandLogo, zt.SpecificRectangle) : null }; return oL(n.id, c, e) } function aL(n, e, t, i, r) { if (!(n != null && n.length) || !t) return null; const s = []; e.resources(n).forEach(d => { const f = d.attributes; if (!f) { de.warn(r, `Dropping video lockup swoosh item with id "${d.id}" and type "${d.type}", missing resource attributes.`); return } const g = rt(d, r), h = { id: qe(t, d.id, r), titleLinks: Dt(f.name), subtitleLinks: Dt(f.curatorName), artwork: st(f.artwork), contentDescriptor: g, playAction: Rt(g, r), segue: Wt(g, d, "ShelfItem", r), showExplicitBadge: Vt(d == null ? void 0 : d.attributes), numberOfSocialBadges: 3, accessibilityLabel: f.name, trackCount: f.trackCount, isAOD: _r(d) }; nr(d) && (h.radioStation = { isLiveRadio: Lr(d), isBroadcastRadio: Tr(d), isRadioEpisode: _i(d) }), s.push(h) }); const a = Ge(Ue.localization, r).string("FUSE.Social.Playlist"), l = cX(a, i, s.length, r), u = cn(a, l), c = it(t, r); return kl(c, s, u, null, 2) } function cX(n, e, t, i) { return !e || t < jI ? null : At({ kind: vt.CatalogPage, intent: lX(e, n) }, un(i, "seeAll", "button", "navigate", { actionUrl: e })) } function lL(n, e, t) { const i = As(n == null ? void 0 : n.attributes); if (!i || i.length < 1) return null; const r = e ? Qe.string("FUSE.Bio.About", t) : null, s = { id: qe(`curatorBio - ${n.id}`, n.id, t), modalPresentationDescriptor: { headerTitle: r, paragraphText: i } }, o = it(`curator-bio-section - ${n.id}`, t); return Y0(o, s, null, r) } function dX(n, e) { if (n.id !== "1649426593") return null; const t = Ge(Ue.localization, e), i = [{ question: t.string("FUSE.Curator.AML.FAQ.WhatIsAML.Question"), answer: t.string("FUSE.Curator.AML.FAQ.WhatIsAML.Answer") }, { question: t.string("FUSE.Curator.AML.FAQ.HowCanIWatchAML.Question"), answer: t.string("FUSE.Curator.AML.FAQ.HowCanIWatchAML.Answer") }, { question: t.string("FUSE.Curator.AML.FAQ.IsAMLFree.Question"), answer: t.string("FUSE.Curator.AML.FAQ.IsAMLFree.Answer") }, { question: t.string("FUSE.Curator.AML.FAQ.WhoHasPerformedAML.Question"), answer: t.string("FUSE.Curator.AML.FAQ.WhoHasPerformedAML.Answer") }], r = { id: qe(`curatorFAQ - ${n.id}`, n.id, e), headerTitle: t.string("AMP.Shared.FAQ.Title"), content: i }, s = it(`curator-faq-section - ${n.id}`, e); return rX(s, r, null, null) } const fX = [new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music)\\.apple\\.com\\/(?:(?<cc>\\w{2})\\/)?curator\\/(?:.*?\\/)?(?:id)?(?<id>[\\w\\.-]+)(?:\\?|$)")], gX = { $intentKind: "AnyCuratorPageDetailIntent", routes(n) { return fX.map(e => ({ rules: [{ regex: [e], query: ["l?"] }], handler: (t, i) => { var r, s; const o = (s = (r = t.toString().match(e)) === null || r === void 0 ? void 0 : r.groups) !== null && s !== void 0 ? s : {}; return sL({ id: o.id, ...qt({ storefront: o.cc, language: i.l }, n) }) } })) }, async perform(n, e) { const t = nt.countryCode(e), i = new je(`/v1/catalog/${t}`, e); i.queryString.extend.add("editorialArtwork"), mt.supportsSeoMetadata(e) && i.queryString.extend.add("seoTitle").add("seoDescription"), i.queryString.addParameters({ "ids[curators]": n.id, "ids[apple-curators]": n.id, "art[url]": "f", include: "grouping,playlists", "extend[apple-curators]": "playlistCount", "extend[curators]": "playlistCount", "fields[albums]": "artistName,artistUrl,artwork,contentRating,editorialArtwork,name,playParams,releaseDate,url" }); const r = await pt({ url: i.string }, e); return a1(r, e) }, actionFor(n, e, t) { var i; const r = (i = t.metrics) !== null && i !== void 0 ? i : un(e, n.id, "unknown", "navigate"), s = At({ kind: vt.CatalogPage, intent: n }, r); return t.isDeepLinkAction ? Lt([ri({ kind: bt.New }, Ve, e), s], Ve) : s } }; function hX(n) { return n.$kind === "AnyCuratorDetailSeeAllPaginateIntent" } const mX = { $intentKind: "AnyCuratorDetailSeeAllPageIntent", async perform(n, e) { const t = new je(n.url, e), i = await Jt(t, e), r = uL(i, n, e); return r || Promise.reject("Unable to build curator detail see all page") } }; function uL(n, e, t) { var i, r; const s = n.body; if (!s) return de.log(t, `Missing body for response '${JSON.stringify(n)}'`), null; const o = s.resources; if (!o) return de.log(t, `Missing resources for response '${JSON.stringify(n)}'`), null; const a = s.data; if (!a) return de.log(t, `Missing resource identifiers for response '${JSON.stringify(n)}'`), null; const l = nt.countryCode(t), u = new gt(o, t), c = u.resource(a[0]), d = c == null ? void 0 : c[0]; let f; hX(e) && (f = e.id); const g = aL(a, u, f != null ? f : "curator-see-all-page", e.url, t), h = []; let m; const v = s.next; if (g) { g.presentation.layout = "grid"; const y = g.header; Di(y) && (y.item.accessoryButtons = null), h.push(g), v && (m = { $kind: "AnyCuratorDetailSeeAllPaginateIntent", url: v, id: g.id }) } const b = (r = (i = d == null ? void 0 : d.attributes) === null || i === void 0 ? void 0 : i.url) !== null && r !== void 0 ? r : (d == null ? void 0 : d.id) && `https://music.apple.com/WebObjects/MZStore.woa/wa/viewGrouping?cc=${encodeURIComponent(l)}&id=${encodeURIComponent(d == null ? void 0 : d.id)}`; return { pageMetrics: tn(t, n, "see_all", "SeeAll", u), sections: h, nextIntent: m, ...b && { canonicalURL: b } } } const pX = { $intentKind: "AnyCuratorDetailSeeAllPaginateIntent", async perform(n, e) { var t, i; const r = new je(n.url, e), s = await Jt(r, e), o = uL(s, n, e), a = (t = o == null ? void 0 : o.sections) === null || t === void 0 ? void 0 : t[0]; if (a) { const u = { pageChangeInstruction: { instruction: { instruction: "addItemsToSection", newSectionToAppendItemsFrom: a } } }, c = (i = s.body) === null || i === void 0 ? void 0 : i.next; if (c) { const d = { $kind: "AnyCuratorDetailSeeAllPaginateIntent", url: c, id: a.id }; u.nextIntent = d } return Promise.resolve(u) } return Promise.reject() } }, _X = { $intentKind: "AppleCuratorDetailPageIntent", async perform(n, e) { const t = Po(n.contentDescriptor, e); t.queryString.extend.add("editorialArtwork"), mt.supportsSeoMetadata(e) && t.queryString.extend.add("seoTitle").add("seoDescription"), t.queryString.addParameters({ "art[url]": "f", include: "grouping,playlists", "fields[albums]": "artistName,artistUrl,artwork,contentRating,editorialArtwork,plainEditorialNotes,name,playParams,releaseDate,url,trackCount", "extend[curators]": "plainEditorialNotes,playlistCount", "extend[apple-curators]": "plainEditorialNotes,playlistCount", "include[songs]": "artists", "include[editorial-elements]": "children,contents,room", "omit[resource]": "autos" }), t.queryString.artworkURL.add(hn.OmitCropCode).add(hn.OmitFileExtension); const i = await Jt(t, e); return a1(i, e) } }, vX = { $intentKind: "CuratorDetailPageIntent", async perform(n, e) { const t = Po(n.contentDescriptor, e); t.queryString.extend.add("editorialArtwork"), mt.supportsSeoMetadata(e) && t.queryString.extend.add("seoTitle").add("seoDescription"), t.queryString.addParameters({ "art[url]": "f", include: "grouping,playlists", "fields[albums]": "artistName,artistUrl,artwork,contentRating,editorialArtwork,plainEditorialNotes,name,playParams,releaseDate,url,trackCount", "extend[curators]": "plainEditorialNotes", "include[songs]": "artists", extend: "playlistCount" }), t.queryString.artworkURL.add(hn.OmitCropCode).add(hn.OmitFileExtension); const i = await Jt(t, e); return a1(i, e) } }; function l1(n) { return { $kind: "MovieDetailPageIntent", contentDescriptor: n } } function bX(n, e, t, i) { var r, s, o, a, l, u, c, d, f, g, h, m, v; const b = bn(n, t); if (!e.attributes) return b; const y = e.id, k = Ge(Ue.localization, t), S = e.attributes.name, C = e.attributes.releaseDate, P = $n(C, t), M = (s = (r = e.attributes) === null || r === void 0 ? void 0 : r.genreNames) === null || s === void 0 ? void 0 : s[0], R = (d = (u = (a = (o = e.attributes.editorialArtwork) === null || o === void 0 ? void 0 : o.storeFlowcase) !== null && a !== void 0 ? a : (l = e.attributes.editorialArtwork) === null || l === void 0 ? void 0 : l.subscriptionHero) !== null && u !== void 0 ? u : (c = e.attributes.editorialArtwork) === null || c === void 0 ? void 0 : c.fullscreenBackground) !== null && d !== void 0 ? d : (g = (f = e.attributes.movieClips) === null || f === void 0 ? void 0 : f[0]) === null || g === void 0 ? void 0 : g.previewArtwork, F = (h = R == null ? void 0 : R.url) !== null && h !== void 0 ? h : b.artworkUrl, N = (v = (m = e.attributes.offers) === null || m === void 0 ? void 0 : m[0]) === null || v === void 0 ? void 0 : v.durationInMilliseconds, O = da(N, t); function B() { return i != null && i.title ? i.title : S ? k.string("FUSE.Meta.MusicMovie.Title", { movieName: S }) : b == null ? void 0 : b.pageTitle } function U() { var ee, pe, ke; if (i != null && i.description) return i.description; const we = (ee = e.attributes) === null || ee === void 0 ? void 0 : ee.description, Te = (ke = (pe = we == null ? void 0 : we.standard) !== null && pe !== void 0 ? pe : we == null ? void 0 : we.short) !== null && ke !== void 0 ? ke : S; if (M && P && Te && O) return k.string("FUSE.Meta.MusicMovie.Description", { description: Te, duration: O, releaseYear: P, genreName: M }) } function K() { return i != null && i.socialTitle ? i.socialTitle : Z } function W() { if (i != null && i.socialDescription) return i.socialDescription; if (M && P && O) return k.string("FUSE.Meta.MusicMovie.Description.Social", { duration: O, releaseYear: P, genreName: M }) } const Z = B(), Q = U(), G = K(), ae = W(); return { ...b, pageTitle: Z, description: Q, keywords: M && S ? k.string("FUSE.Meta.MusicMovie.PageKeywords", { movieName: S, genreName: M }) : b.keywords, appleContentId: y, appleTitle: S, appleDescription: Q, artworkUrl: F, crop: "fa", twitterCropCode: "fa", ogType: "music.movie", socialTitle: G, socialDescription: ae, schemaName: "schema:music-movie", schemaContent: { "@context": "http://schema.org", "@type": "Movie", name: S, description: Q, genre: M, dateCreated: C, image: F ? di(F, { width: Hn.width, height: Hn.height, crop: "fa", fileType: Hn.fileType }) : void 0, url: n } } } async function yX(n, e, t) { if (!Vn(t) || !e) return n; const i = await vi(e.id, z.MusicMovies, t), r = bX(n.canonicalURL, e, t, i); return { ...n, seoData: r } } function u1(n, e) { return { id: n, itemKind: "tvMovieDetailHeaderLockup", presentation: { kind: "single" }, items: [e], displaySeparator: !1 } } function wX(n, e, t, i) { var r, s, o, a, l, u, c, d; const f = bn(n, t); if (!e.attributes) return f; const g = e.id, h = Ge(Ue.localization, t), m = e.attributes.artistName, v = e.attributes.name, b = e.attributes.releaseDate, y = (s = (r = e.attributes) === null || r === void 0 ? void 0 : r.genreNames) === null || s === void 0 ? void 0 : s[0], k = (a = (o = e.attributes.artwork) === null || o === void 0 ? void 0 : o.url) !== null && a !== void 0 ? a : f.artworkUrl, S = (l = e.attributes) === null || l === void 0 ? void 0 : l.episodeNumber, C = (u = e.attributes) === null || u === void 0 ? void 0 : u.episodeSeasonNumber, P = e.attributes.kind, M = (d = (c = e.attributes.offers) === null || c === void 0 ? void 0 : c[0]) === null || d === void 0 ? void 0 : d.durationInMilliseconds, R = da(M, t), F = po(b, t); function N() { return i != null && i.title ? i.title : v && m ? h.string("FUSE.Meta.Episode.Title", { showName: m, name: v }) : f == null ? void 0 : f.pageTitle } function O() { var G, ae, ee; if (i != null && i.description) return i.description; const pe = (G = e.attributes) === null || G === void 0 ? void 0 : G.description, ke = (ee = (ae = pe == null ? void 0 : pe.standard) !== null && ae !== void 0 ? ae : pe == null ? void 0 : pe.short) !== null && ee !== void 0 ? ee : v; if (F && C && S && ke && R) { const we = P === "tvtrailer" ? "FUSE.Meta.TVTrailer.Description" : "FUSE.Meta.Episode.Description"; return h.string(we, { description: ke, episodeNumber: S.toString(), episodeSeasonNumber: C.toString(), duration: R, episodeDate: F }) } } function B() { return i != null && i.socialTitle ? i.socialTitle : K } function U() { if (i != null && i.socialDescription) return i.socialDescription; if (F && C && S && R) { const G = P === "tvtrailer" ? "FUSE.Meta.TVTrailer.Description.Social" : "FUSE.Meta.Episode.Description.Social"; return h.string(G, { episodeNumber: S.toString(), episodeSeasonNumber: C.toString(), duration: R, episodeDate: F }) } } const K = N(), W = O(), Z = B(), Q = U(); return { ...f, pageTitle: K, description: W, keywords: y && v ? h.string("FUSE.Meta.Episode.PageKeywords", { name: v, genreName: y }) : f.keywords, appleContentId: g, appleTitle: v, appleDescription: W, artworkUrl: k, crop: "bb", twitterCropCode: "bb", ogType: "music.episode", socialTitle: Z, socialDescription: Q, schemaName: "schema:episode", schemaContent: { "@context": "http://schema.org", "@type": "Episode", name: m, description: W, genre: y, episodeNumber: S, datePublished: b, image: k ? di(k, { width: Hn.width, height: Hn.height, crop: "bb", fileType: Hn.fileType }) : void 0 } } } async function kX(n, e, t) { if (!Vn(t) || !e) return n; const i = await vi(e.id, z.TVEpisodes, t), r = wX(n.canonicalURL, e, t, i); return { ...n, seoData: r } } function cL(n, e) { return { id: n, itemKind: "textListComponentModel", presentation: { kind: "collection", layout: { kind: "shelf", numberOfRows: 1 } }, items: e, backgroundTreatment: "alternate" } } function c1(n, e, t, i, r) { const s = [], o = DX(n, r); o && s.push(o); const a = ga(n, Ee.MusicArtists, r, i); if (a) { a.backgroundTreatment = "alternate"; const d = { kind: "default", item: { titleLink: { title: Ge(Ue.localization, r).string("FUSE.OC.Episode.ArtistsOnThisEpisode") } } }; a.header = d, s.push(a) } const l = SX(n, e, t, i, r); return l && s.push(l), s } function DX(n, e) {
    var t; const i = (t = n == null ? void 0 : n.attributes) === null || t === void 0 ? void 0 : t.credits; if (!i) return null; const r = Ge(Ue.localization, e), s = [{ propertyName: "cast", localizationKey: "FUSE.OC.Crew.Actors" }, { propertyName: "guests", localizationKey: "FUSE.OC.Crew.Guests" }, { propertyName: "hosts", localizationKey: "FUSE.OC.Crew.Hosts" }, { propertyName: "producers", localizationKey: "FUSE.OC.Crew.Producers" }, { propertyName: "directors", localizationKey: "FUSE.OC.Crew.Directors" }, { propertyName: "screenwriters", localizationKey: "FUSE.OC.Crew.Screenwriters" }, { propertyName: "performers", localizationKey: "FUSE.OC.Crew.Producers" }], o = []; if (s.forEach(l => {
        const u = i[l.propertyName]; u.length && o.push({
            title: r.string(l.localizationKey).toLocaleUpperCase(), content: u.map(c => c.name).join(`
`)
        })
    }), !o.length) return null; const a = it(`castAndCrewSection - ${n.id}`, e); return cL(a, [{ id: qe("castAndCrewSectionItem", n.id, e), title: r.string("FUSE.OC.Crew.Title"), subsections: o }])
} function SX(n, e, t, i, r) { const s = [], o = CX(n, i, r); o && s.push(o); const a = PX(n, e, t, r); a && s.push(a); const l = AX(e, n.id, r); l && s.push(l); const u = it(`information-section - ${n.id}`, r); return cL(u, s) } function CX(n, e, t) {
    var i, r, s, o, a; const l = n.attributes; if (!l) return null; const u = Ge(Ue.localization, t), c = []; l.studioName && c.push({ title: u.string("FUSE.OC.Information.Studio").toLocaleUpperCase(), content: l.studioName }), l.releaseDate && c.push({ title: u.string("FUSE.OC.Information.Released").toLocaleUpperCase(), content: $n(l.releaseDate, t) }); const d = l.genreNames && l.genreNames.length > 0 ? l.genreNames : (s = (r = (i = e.resourcesForType(z.TVSeasons)) === null || i === void 0 ? void 0 : i[0]) === null || r === void 0 ? void 0 : r.attributes) === null || s === void 0 ? void 0 : s.genreNames; if (d && d.length && c.push({
        title: u.string("FUSE.OC.Information.Genre").toLocaleUpperCase(), content: d == null ? void 0 : d.join(`
`)
    }), l.hasHD && c.push({ title: u.string("FUSE.OC.Information.HD"), content: u.string("FUSE.OC.Information.HDVersions") }), l.contentRatingsBySystem) { const f = (o = Object.keys(l.contentRatingsBySystem)) === null || o === void 0 ? void 0 : o[0], g = (a = l.contentRatingsBySystem[f]) !== null && a !== void 0 ? a : {}, h = g.advisories, m = h ? h.join(", ") : ""; c.push({ title: u.string("FUSE.OC.Information.Rating").toLocaleUpperCase(), content: `${g.name} ${m}` }) } return l.copyright && c.push({ title: null, content: l.copyright }), c.length ? { id: qe("information-text", n.id, t), subsections: c, title: u.string("FUSE.OC.Information.title") } : null
} function PX(n, e, t, i) {
    const r = Ge(Ue.localization, i), s = []; return e && s.push({ title: r.string("FUSE.OC.Languages.Primary").toLocaleUpperCase(), content: Q3(e, i) }), t != null && t.length && s.push({
        title: r.string("FUSE.OC.Languages.Additional").toLocaleUpperCase(), content: t.map(o => Q3(o, i)).join(`
`)
    }), s.length ? { id: qe("languages-text", n.id, i), subsections: s, title: r.string("FUSE.OC.Languages.title") } : null
} function AX(n, e, t) { if (!n) return null; const i = Ge(Ue.localization, t), r = []; return n.hasSDH && r.push({ title: i.string("FUSE.OC.Languages.hasSDH"), content: i.string("FUSE.OC.Accessibility.Product.SDH"), renderTitleAsBadge: !0 }), n.hasAudioDescription && r.push({ title: i.string("FUSE.OC.Languages.hasAD"), content: i.string("FUSE.OC.Accessibility.Product.AD"), renderTitleAsBadge: !0 }), n.hasClosedCaptioning && r.push({ title: i.string("FUSE.OC.Languages.hasClosedCaptioning"), content: i.string("FUSE.OC.Accessibility.Product.CC"), renderTitleAsBadge: !0 }), r.length ? { id: qe("accessibility-text", e, t), subsections: r, title: i.string("FUSE.OC.Accessibility.title") } : null } function Q3(n, e) { const t = Ge(Ue.localization, e), i = []; return n.hasStereo && i.push(t.string("FUSE.OC.Languages.hasStereo")), n.hasAudioDescription && i.push(t.string("FUSE.OC.Languages.hasAudioDescription")), n.hasDolby71 && i.push(t.string("FUSE.OC.Languages.hasDolby71")), n.hasClosedCaptioning && i.push(t.string("FUSE.OC.Languages.hasClosedCaptioning")), n.hasDolby && i.push(t.string("FUSE.OC.Languages.hasDolby")), n.hasSDH && i.push(t.string("FUSE.OC.Languages.hasSDH")), n.hasSubtitles && i.push(t.string("FUSE.OC.Languages.hasSubtitles")), i.length ? `${n.name} (${i.join(", ")})` : n.name } function EX(n, e, t) { const i = []; return e.resources(n).forEach(r => { const s = IX(r, e, t); s && i.push(s) }), i } function IX(n, e, t) { var i, r; const s = [], o = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.episodes) === null || r === void 0 ? void 0 : r.data; if (!o) return de.warn(t, `Dropping season because no episodes were found: '${JSON.stringify(n)}'`), null; const a = it(`tv-show-season-shelf - ${n.id}`, t); let l; e.resources(o).forEach(f => { var g, h; l = l != null ? l : (h = (g = f.attributes) === null || g === void 0 ? void 0 : g.episodeSeasonNumber) === null || h === void 0 ? void 0 : h.toString(); const m = d1(a, f, t); m && !wg(f) && s.push(m) }); const u = Ge(Ue.localization, t); let c; l && (c = u.string("FUSE.OC.Show.Season", { number: l })); const d = cn(c); return wo(a, s, d) } function d1(n, e, t) { var i, r, s; const o = e.attributes; if (!o) return de.warn(t, `Dropping episode with no attributes: '${JSON.stringify(e)}'`), null; const a = rt(e, t), l = (r = (i = o.previews) === null || i === void 0 ? void 0 : i.find(c => tt(c.artwork))) === null || r === void 0 ? void 0 : r.artwork, u = (s = As(o)) !== null && s !== void 0 ? s : An(o); return { id: qe(`tv-episode-video - ${n}`, e.id, t), titleLinks: Dt(o.name), subtitleLinks: Dt(u), playAction: Rt(a, t, n), contentDescriptor: a, segue: Wt(a, e, "GridItem", t), artwork: st(l != null ? l : o.artwork), displayStyle: Us.Large, headline: tg(o.releaseDate, t), accessibilityLabel: o.name } } function MX(n, e, t, i) { const r = []; if (t.resources(e).forEach(u => { var c, d; const f = (d = (c = u.relationships) === null || c === void 0 ? void 0 : c.episodes) === null || d === void 0 ? void 0 : d.data, g = LX(n, f, t, i); g && r.push(...g) }), !r.length) return null; const o = Ge(Ue.localization, i).string("FUSE.OC.TrailerAndBonus"), a = it(`bonus-content-shelf - ${n}`, i); return wo(a, r, { kind: "default", item: { titleLink: { title: o } } }) } function LX(n, e, t, i) { if (!e) return null; const r = []; return t.resources(e).filter(wg).forEach(s => { const o = dL(n, s, i); o && r.push(o) }), r } function dL(n, e, t) { const i = d1(n, e, t); if (!i) return null; const r = Ge(Ue.localization, t); return { ...i, displayStyle: Us.Regular, headline: r.string("FUSE.OC.Episode.Extra") } } function wg(n) { var e; const t = (e = n.attributes) === null || e === void 0 ? void 0 : e.kind; return t ? ["episodebonus", "tvtrailer", "seasonbonus"].includes(t) : !1 } async function fL(n, e) { var t; const i = n.resourcesForType(z.Playlists), r = i == null ? void 0 : i[0]; if (!r) return null; const s = nt.countryCode(e), o = new je(`/v1/catalog/${s}/${z.Playlists}/${r.id}/tracks`, e); (t = o.queryString) === null || t === void 0 || t.addParameters({ "include[songs]": "artists", "fields[artists]": "name", "omit[resource]": "autos" }); const l = (await Jt(o, e)).body, u = l == null ? void 0 : l.resources; if (!u) return de.warn(e, `Failed to fetch songs for playlist with response: ${JSON.stringify(u)}`), null; n.addResourceMap(u, e); const c = new gt(u, e), d = l == null ? void 0 : l.data; return d ? c.resources(d) : c.resourcesForType(z.Songs) } async function TX(n, e) { var t, i, r, s, o; const a = (t = n.body) === null || t === void 0 ? void 0 : t.resources; if (!a) return de.warn(e, `Missing resources for response: '${JSON.stringify(n)}'`), null; const l = new gt(a, e), u = (r = (i = n.body) === null || i === void 0 ? void 0 : i.data) === null || r === void 0 ? void 0 : r[0]; if (!u) return de.warn(e, `No container resource identifier found for response: '${JSON.stringify(n)}'`), null; const c = l.resource(u); if (!c) return de.warn(e, `No container resource found in resource manager: '${JSON.stringify(l)}'`), null; const d = [], f = gL(c, l, e); f && d.push(f); const g = OX(c, l, e); g && d.push(g); const h = await fL(l, e), m = mL(c.id, h, c, l, e); m && d.push(m); const v = (s = c.attributes) === null || s === void 0 ? void 0 : s.supportedLocales, b = c1(c, v.primary, v.additional, l, e); b != null && b.length && d.push(...b); const y = { pageMetrics: tn(e, n, "tv_episode_detail", "TVEpisode", l), sections: d, canonicalURL: (o = c == null ? void 0 : c.attributes) === null || o === void 0 ? void 0 : o.url }; return kX(y, c, e) } function gL(n, e, t) { var i, r, s; const o = n.attributes; if (!o) return de.log(t, `No attributes for container: ${JSON.stringify(n)}`), null; const a = tg(o.releaseDate, t), l = Ge(Ue.localization, t), u = rt(n, t), c = it(`tvMovieDetailHeaderSection - ${n.id}`, t); return u1(c, { id: qe("tv-movie-detail-header-item", n.id, t), title: o.name, modalPresentationDescriptor: { headerTitle: null, headerSubtitle: null, paragraphText: As(o) }, artwork: st((s = (r = (i = o.previews) === null || i === void 0 ? void 0 : i[0]) === null || r === void 0 ? void 0 : r.artwork) !== null && s !== void 0 ? s : o.artwork), headline: a, contentDescriptor: u, playAction: Rt(u, t), tertiaryTitle: FX(o, a, t), trailingTertiaryBadges: hL(o, l), subtitleLinks: RX(n, e, t) }) } function hL(n, e) { var t, i, r, s; const o = [], a = (t = Object.keys(n.contentRatingsBySystem)) === null || t === void 0 ? void 0 : t[0], l = (r = (i = n.contentRatingsBySystem) === null || i === void 0 ? void 0 : i[a]) === null || r === void 0 ? void 0 : r.name; l && o.push(l), n.hasHD && o.push(e.string("FUSE.OC.Information.HD")); const u = (s = n.supportedLocales) === null || s === void 0 ? void 0 : s.primary; return u && (u.hasClosedCaptioning && o.push(e.string("FUSE.OC.Languages.hasClosedCaptioning")), u.hasAudioDescription && o.push(e.string("FUSE.OC.Languages.hasAD"))), o } function RX(n, e, t) { var i, r, s, o; const a = (s = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.show) === null || r === void 0 ? void 0 : r.data) === null || s === void 0 ? void 0 : s[0]; if (!a) return null; const l = e.resource(a); if (!l) return null; const u = (o = l.attributes) === null || o === void 0 ? void 0 : o.name; if (!u) return null; const c = rt(l, t), d = Wt(c, l, "link", t); return [cg(u, d)] } function FX(n, e, t) { var i, r; const s = (r = (i = n.offers) === null || i === void 0 ? void 0 : i[0]) === null || r === void 0 ? void 0 : r.durationInMilliseconds, o = da(s, t); return !e && o ? o : !o && e ? e : e && o ? Ge(Ue.localization, t).string("AMWEB.ContentA.Middot.ContentB", { contentA: e, contentB: o }).toLocaleUpperCase() : null } function OX(n, e, t) { var i; const r = n.attributes; if (!r) return de.log(t, `No attributes for container: ${JSON.stringify(n)}`), null; const s = (i = n.views) === null || i === void 0 ? void 0 : i[Ee.OtherEpisodes]; if (!s) return de.log(t, `No view ${Ee.OtherEpisodes} found in container: ${JSON.stringify(n)}`), null; const o = s.data; if (!o) return de.log(t, `No resource identifiers found in view: ${JSON.stringify(s)}`), null; const a = it(`${Ee.OtherEpisodes} - ${n.id}`, t), l = Ge(Ue.localization, t), u = []; if (e.resources(o).forEach(f => { var g, h, m, v; if (wg(f)) { const b = dL(a, f, t); b && u.push(b) } else { const b = d1(a, f, t), y = (h = (g = f.attributes) === null || g === void 0 ? void 0 : g.episodeSeasonNumber) === null || h === void 0 ? void 0 : h.toString(), k = (v = (m = f.attributes) === null || m === void 0 ? void 0 : m.episodeNumber) === null || v === void 0 ? void 0 : v.toString(); if (b && y && k) { const S = l.string("FUSE.OC.Show.EpisodeTrack.cap", { seasonNumber: y, trackNumber: k }); u.push({ ...b, headline: S }) } } }), !u.length) return null; const c = r.artistName ? l.string("FUSE.moreFromCurator", { curator: r.artistName }) : null, d = cn(c); return wo(a, u, d) } function mL(n, e, t, i, r) { if (!(e != null && e.length)) return null; const s = e.map(u => { const c = rt(u, r); return { ...So(`songListSong - ${u.id}`, u, z.Songs, t, i, r, !1), layoutStyle: "shelfTrackList", subtitleLinks: Gi(u, i, r), tertiaryLinks: null, segue: Wt(c, u, "ShelfItem", r) } }); if (!s.length) return null; const o = Ge(Ue.localization, r), a = t.type === z.TVEpisodes ? "FUSE.OC.Information.SongsOnEpisode" : "FUSE.Music.Show.SongsInTitle", l = o.string(a); return bc(it(`songListShelf - ${n}`, r), s, 3, { kind: "default", item: { titleLink: { title: l } } }) } async function NX(n, e) { var t, i, r; const s = n.body; if (!s) return de.warn(e, `Unable to construct page because no body was found in response: '${JSON.stringify(n)}'`), null; const o = s.resources; if (!o) return de.error(e, `Unable to construct page because no resources were found in response: '${JSON.stringify(s)}'`), null; const a = new gt(o, e), l = (t = s.data) === null || t === void 0 ? void 0 : t[0]; if (!l) return de.error(e, `Unable to construct page because no container identifier was found in response: '${JSON.stringify(s)}'`), null; const u = a.resource(l); if (!u) return de.error(e, `Unable to construct page because no container was found in resources: '${JSON.stringify(o)}'`), null; const c = [], d = BX(u, a, e); d && c.push(d); const f = HX(u, e); f && c.push(f); const g = await fL(a, e), h = mL(u.id, g, u, a, e); h && c.push(h); const m = ga(u, Ee.CrossMerchandise, e, a); if (m) { const k = m.header; if (Di(k)) { const S = Ge(Ue.localization, e), C = m.items.length === 1 ? "IXDisplayableKind.album.one" : "IXDisplayableKind.album"; k.item.titleLink = { title: S.string(C) } } c.push(m) } const v = (i = u.attributes) === null || i === void 0 ? void 0 : i.supportedLocales, b = c1(u, v.primary, v.additional, a, e); b != null && b.length && c.push(...b); const y = { pageMetrics: tn(e, n, "movie", "Movie", a), sections: c, canonicalURL: (r = u == null ? void 0 : u.attributes) === null || r === void 0 ? void 0 : r.url }; return yX(y, u, e) } function BX(n, e, t) { var i, r, s, o, a, l, u; const c = n.attributes; if (!c) return de.log(t, `No attributes for container: ${JSON.stringify(n)}`), null; const d = gL(n, e, t), f = Ge(Ue.localization, t), g = (l = (o = (r = (i = c.editorialArtwork) === null || i === void 0 ? void 0 : i.storeFlowcase) !== null && r !== void 0 ? r : (s = c.editorialArtwork) === null || s === void 0 ? void 0 : s.subscriptionHero) !== null && o !== void 0 ? o : (a = c.editorialArtwork) === null || a === void 0 ? void 0 : a.fullscreenBackground) !== null && l !== void 0 ? l : c.artwork, h = (u = d == null ? void 0 : d.items) === null || u === void 0 ? void 0 : u[0]; return h && (h.headline = null, h.artwork = st(g), h.tertiaryTitle = UX(c, c.releaseDate, f, t)), d } function UX(n, e, t, i) { var r, s, o; let a; const l = e ? $n(e, i) : null, u = (s = (r = n.offers) === null || r === void 0 ? void 0 : r[0]) === null || s === void 0 ? void 0 : s.durationInMilliseconds, c = da(u, i); !l && c && (a = c), !c && l && (a = l), l && c && (a = t.string("AMWEB.ContentA.Middot.ContentB", { contentA: l, contentB: c }).toLocaleUpperCase()); const d = (o = n.genreNames) === null || o === void 0 ? void 0 : o.join(", ").toLocaleUpperCase(); return d ? a ? t.string("AMWEB.ContentA.Middot.ContentB", { contentA: d, contentB: a }) : d : a } function HX(n, e) { var t; const i = Ge(Ue.localization, e), r = (t = n.attributes) === null || t === void 0 ? void 0 : t.movieClips; if (!r || !r.length) return null; const s = rt(n, e), o = Rt(s, e), a = r.map(u => { var c; return { id: qe("movie-clips", n.id, e), title: u.title, playAction: o, artwork: st(u.previewArtwork), subtitle: null, contentDescriptor: s, name: (c = n.attributes) === null || c === void 0 ? void 0 : c.name } }); if (!a.length) return null; const l = i.string("FUSE.OC.Movie.TrailerTitle"); return wo(it(`musicMovieClipSection - ${n.id}`, e), a, { item: { titleLink: { title: l } }, kind: "default" }) } const $X = { $intentKind: "MovieDetailPageIntent", routes(n) { return [{ rules: [{ path: "/music-movie/{id}", query: ["l?"] }, { path: "/music-movie/{name}/{id}", query: ["l?"] }, { path: "{storefront}/music-movie/{id}", query: ["l?"] }, { path: "{storefront}/music-movie/{name}/{id}", query: ["l?"] }], handler: (e, t) => { const i = { kind: x.Movie, identifiers: { storeAdamID: t.id }, locale: qt({ storefront: t.storefront, language: t.l }, n) }; return l1(i) } }] }, async perform(n, e) { const t = Po(n.contentDescriptor, e); t.queryString.extend.add("editorialArtwork"), t.queryString.addParameters({ "art[url]": "f", include: "grouping,playlists", "fields[albums]": "artistName,artistUrl,artwork,contentRating,editorialArtwork,name,playParams,releaseDate,url,trackCount", extend: "credits" }), t.queryString.views.add(Ee.Playlists).add(Ee.MusicArtists).add(Ee.CrossMerchandise); const i = await Jt(t, e), r = await NX(i, e); return r || Promise.reject() }, actionFor(n, e, t) { return as(n.contentDescriptor, null, e, t) } }; function f1(n) { return { $kind: "MusicVideoDetailPageIntent", contentDescriptor: n } } function VX(n, e) { var t, i, r; const s = (t = n.body) === null || t === void 0 ? void 0 : t.data; if (!s) throw new Error(`No resource identifiers in music video page response: '${JSON.stringify(n)}'`); const o = (i = n.body) === null || i === void 0 ? void 0 : i.resources; if (!o) throw new Error(`No resource map in music video page response: ${JSON.stringify(n)}`); const a = [], l = new gt(o, e), u = l.resource(s == null ? void 0 : s[0]); if (!u) throw new Error(`No container was found in resources: ${JSON.stringify(o)}, identifier: '${s == null ? void 0 : s[0]}'`); const c = zX(u, l, e); c && a.push(c), [Ee.MoreByArtist, Ee.MoreInGenre].forEach(g => { const h = ga(u, g, e, l); h && a.push(h) }); const f = { pageMetrics: tn(e, n, "music_video_detail", "MusicVideo", l), sections: a, canonicalURL: (r = u == null ? void 0 : u.attributes) === null || r === void 0 ? void 0 : r.url }; return UK(f, u, e, l) } function zX(n, e, t) { const i = n.attributes; if (!i) return null; const r = rt(n, t), s = it(`music-video-header - ${n.id}`, t); return u1(s, { id: qe("music-video-header-item", n.id, t), contentDescriptor: r, playAction: Rt(r, t), showExplicitBadge: Vt(i), artwork: st(i.artwork), headline: null, title: i.name, subtitleLinks: Gs(z.Artists, n, e, t, i.artistName), tertiaryTitle: qX(i, t) }) } function qX(n, e) { var t, i; const r = (t = n.genreNames) === null || t === void 0 ? void 0 : t[0], s = (i = $n(n.releaseDate, e)) !== null && i !== void 0 ? i : ""; return r ? s ? Ge(Ue.localization, e).string("AMWEB.ContentA.Middot.ContentB", { contentA: r.toLocaleUpperCase(), contentB: s.toLocaleUpperCase() }) : r.toLocaleUpperCase() : s.toLocaleUpperCase() } const WX = [new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music)\\.apple\\.com\\/.*?\\/MZStore\\.woa\\/.*?\\/viewMusicVideo(?=.*?[?&]id=(?<id>[\\w\\.-]+))(?:.*?[?&]cc=(?<cc>\\w{2}))?"), new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music)\\.apple\\.com\\/(?:(?<cc>\\w{2})\\/)?music-video\\/(?:.*?\\/)?(?:id)?(?<id>[\\w\\.-]+)(?:\\?|$)")], KX = { $intentKind: "MusicVideoDetailPageIntent", routes(n) { return WX.map(e => ({ rules: [{ regex: [e], query: ["l?"] }], handler: (t, i) => { var r, s; const o = (s = (r = t.toString().match(e)) === null || r === void 0 ? void 0 : r.groups) !== null && s !== void 0 ? s : {}, a = { kind: x.MusicVideo, identifiers: { storeAdamID: o.id }, locale: qt({ storefront: o.cc, language: i.l }, n) }; return f1(a) } })) }, async perform(n, e) { const t = Po(n.contentDescriptor, e); t.queryString.views.add(Ee.MoreByArtist).add(Ee.MoreInGenre), t.queryString.addParameters({ "include[music-videos]": "artists", "fields[artists]": "name,url", "omit[resource]": "autos" }); const i = await Jt(t, e); return VX(i, e) }, actionFor(n, e, t) { return as(n.contentDescriptor, null, e, t) } }; function JX(n) { return { ...n, $kind: "PersonalMixDetailPageIntent" } } function YX(n, e = Ve) { return { $kind: "performPlaylistCollaborationRequestAction", playlistCollaborationRequest: n, actionMetrics: e } } var Zd; (function (n) { n.Join = "join", n.Pending = "pending" })(Zd || (Zd = {})); function Qd(n, e, t) { return { $kind: "PlaylistDetailPageIntent", contentDescriptor: n, prominentItemIdentifier: e, collaborationRequest: t } } const XX = [new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music)\\.apple\\.com\\/.*?\\/MZStore\\.woa\\/.*?\\/viewPlaylist(?=.*?[?&]id=(?<id>[\\w\\.-]+))(?:.*?[?&]cc=(?<cc>\\w{2}))?"), new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music)\\.apple\\.com\\/(?:(?<cc>\\w{2})\\/)?playlist\\/(?:.*?\\/)?(?<id>[\\w\\.-]+)(?:\\?|$)")], ZX = { $intentKind: "PlaylistDetailPageIntent", routes(n) { return XX.map(e => ({ rules: [{ regex: [e], query: ["l?", "a?", "i?", "it?"] }], handler: (t, i) => { var r, s, o, a, l, u; const c = (s = (r = t.toString().match(e)) === null || r === void 0 ? void 0 : r.groups) !== null && s !== void 0 ? s : {}, d = (a = (o = t.query) === null || o === void 0 ? void 0 : o.i) !== null && a !== void 0 ? a : void 0, f = (u = (l = t.query) === null || l === void 0 ? void 0 : l.a) !== null && u !== void 0 ? u : void 0, g = { kind: x.Playlist, identifiers: { storeAdamID: c.id }, locale: qt({ storefront: c.cc, language: i.l }, n) }; let h; return f === "join" ? h = { kind: Zd.Join, url: t.toString(), playlistId: c.id } : f === "pending" && (h = { kind: Zd.Pending, url: t.toString(), playlistId: c.id }), Qd(g, d, h) } })) }, async perform(n, e) { const t = vg(n.contentDescriptor, e), i = n.prominentItemIdentifier, r = await pL(t, e); return await i1(r, e, n, i) }, actionFor(n, e, t) { var i, r, s, o, a, l; let u = as(n.contentDescriptor, n.prominentItemIdentifier, e, t); if (tt(n.collaborationRequest) && (!((r = (i = n == null ? void 0 : n.contentDescriptor) === null || i === void 0 ? void 0 : i.identifiers) === null || r === void 0) && r.storeAdamID)) { const c = (a = (o = (s = t.metrics.data[0]) === null || s === void 0 ? void 0 : s.fields) === null || o === void 0 ? void 0 : o.targetType) !== null && a !== void 0 ? a : "unknown", d = RE(n.contentDescriptor, c, n.prominentItemIdentifier, e, t.metrics.custom, (l = t.metrics.data[0]) === null || l === void 0 ? void 0 : l.fields, n.collaborationRequest), f = YX(n.collaborationRequest); yo(u) && d ? u = Lt([u.subactions[0], d, f], Ve) : d && (u = Lt([d, f], Ve)) } return u } }; async function pL(n, e, t) { const i = QX(n, e, t), r = jX(n, e, t), [s, o] = await Promise.all([Jt(i, e), r]); return { playlistResponse: s, socialMetadataResponse: o } } function QX(n, e, t) { const i = new je(n, e); return i.queryString.extend.add("offers").add("editorialArtwork").add("editorialVideo").add("trackCount"), mt.supportsSeoMetadata(e) && i.queryString.extend.add("seoTitle").add("seoDescription"), i.queryString.artworkURL.add(hn.OmitFileExtension), i.queryString.addParameters({ include: "tracks,curator", "include[songs]": "artists", "omit[resource]": "autos", "fields[artists]": "name,artwork,url", "limit[tracks]": "300", "fields[curators]": "name,url", "fields[apple-curators]": "name,url", "fields[songs]": "name,artistName,curatorName,composerName,artwork,playParams,contentRating,albumName,url,durationInMillis,audioTraits,extendedAssetUrls", "include[music-videos]": "artists", "limit[view.more-by-curator]": "15", "limit[view.featured-artists]": "15", "fields[albums]": "name,artwork,playParams,url" }), i.queryString.views.add(Ee.MoreByCurator).add(Ee.FeaturedArtists), tt(t) && i.queryString.addParameters({ "filter[personal-mix]": t }), i } function jX(n, e, t) { const i = GX(n, e, t); return yt(i) ? null : Jt(i, e).catch(r => (de.error(e, "Request for social metadata failed", r), null)) } function GX(n, e, t) { if (!wl(e) || !t1(e)) return null; const i = new je(n, e); return i.queryString.extend.add("followState"), i.queryString.addParameters({ "meta[playlists:tracks]": "contributors", "fields[social-profiles]": "name,artwork,handle", "omit[resource]": "autos", "relate[playlists]": "tracks", "limit[tracks]": "300", "limit[view.contributors]": "15", "fields[playlists]": "tracks", "associate[playlists:tracks]": "collaborators", "limit[collaborators]": "100", with: "lightProfiles" }), i.queryString.views.add(Ee.Contributors).add(Ee.Collaborators).add(Ee.FriendsWhoAdded), tt(t) && i.queryString.addParameters({ "filter[personal-mix]": t }), i } const xX = { $intentKind: "PersonalMixDetailPageIntent", routes(n) { return [{ rules: [{ path: "/personal-mix/{id}", query: ["l?"] }, { path: "/personal-mix/{name}/{id}", query: ["l?"] }, { path: "/{storefront}/personal-mix/{id}", query: ["l?"] }, { path: "/{storefront}/personal-mix/{name}/{id}", query: ["l?"] }], handler: (e, t) => JX({ id: t.id, ...qt({ storefront: t.storefront, language: t.l }, n) }) }] }, async perform(n, e) { const t = nt.countryCode(e), i = await pL(`/v1/catalog/${t}/playlists`, e, n.id); return i1(i, e, n) }, actionFor(n, e, t) { const i = At({ kind: vt.CatalogPage, intent: n }, t.metrics); return t.isDeepLinkAction ? Lt([ri({ kind: bt.Home }, Ve, e), i], Ve) : i } }; function eZ(n, e, t, i, r) { var s, o, a, l, u, c; const d = t.id, f = Ge(Ue.localization, e), g = (s = t.attributes) === null || s === void 0 ? void 0 : s.name, h = (o = t.views) === null || o === void 0 ? void 0 : o["latest-releases"].data, m = Zi(h, i), v = (a = t.views) === null || a === void 0 ? void 0 : a["top-releases"].data, b = Zi(v, i), y = bn(n, e); function k() { return r != null && r.title ? r.title : g ? f.string("FUSE.Meta.Label.Title", { labelName: g }) : y.pageTitle } function S() { var B; if (r != null && r.description) return r.description; const U = "FUSE.Meta.Label.Title.Description", K = (B = b != null ? b : m) !== null && B !== void 0 ? B : [], W = QE(K, 3); if (W) { const Z = `${U}${nl({ items: W })}`; if (g) return f.string(Z, { labelName: g, listing1: W[0], listing2: W[1] }) } } function C() { return r != null && r.socialTitle ? r.socialTitle : M } function P() { return r != null && r.socialDescription ? r.socialDescription : R } const M = k(), R = S(), F = C(), N = P(); function O(B) { var U, K, W, Z, Q, G; const ae = (U = B == null ? void 0 : B.attributes) === null || U === void 0 ? void 0 : U.name, ee = (K = B == null ? void 0 : B.attributes) === null || K === void 0 ? void 0 : K.artistName, pe = (Z = (W = B == null ? void 0 : B.attributes) === null || W === void 0 ? void 0 : W.artwork) === null || Z === void 0 ? void 0 : Z.url; if (ae && ee) { let ke; return pe && (ke = di(pe, { width: 486, height: 486, crop: Hn.crop, fileType: Hn.fileType })), { "@type": "MusicAlbum", image: ke, url: (Q = B == null ? void 0 : B.attributes) === null || Q === void 0 ? void 0 : Q.url, name: ae, byArtist: { "@type": "MusicGroup", name: (G = B == null ? void 0 : B.attributes) === null || G === void 0 ? void 0 : G.artistName } } } } return { ...y, pageTitle: M, description: R, keywords: g ? f.string("FUSE.Meta.Artist.PageKeywords.WithoutGenre", { artistName: g }) : void 0, appleContentId: d, appleTitle: g, appleDescription: R, ogType: "music.musician", socialTitle: F, socialDescription: N, crop: "cw", twitterCropCode: "cw", artworkUrl: (c = (u = (l = t.attributes) === null || l === void 0 ? void 0 : l.artwork) === null || u === void 0 ? void 0 : u.url) !== null && c !== void 0 ? c : Ai.url, quality: void 0, schemaName: "schema:music-label", schemaContent: { "@context": "http://schema.org", "@type": "MusicLabel", name: g, description: R, publishedReleases: [...b || [], ...m || []].map(B => O(B)) } } } async function tZ(n, e, t) { var i, r; if (!Vn(e)) return n; const s = (i = t.body) === null || i === void 0 ? void 0 : i.data, o = (r = t.body) === null || r === void 0 ? void 0 : r.resources, a = o ? new gt(o, e) : void 0, l = a && s ? fo(s, a) : void 0; if (l && a) { const u = await vi(l.id, z.RecordLabels, e), c = eZ(n.canonicalURL, e, l, a, u); return { ...n, seoData: c } } return n } const nZ = { $intentKind: "RecordLabelDetailPageIntent", routes(n) { return [{ rules: [{ path: "/label/{id}", query: ["l?"] }, { path: "/label/{name}/{id}", query: ["l?"] }, { path: "/{storefront}/label/{id}", query: ["l?"] }, { path: "/{storefront}/label/{name}/{id}", query: ["l?"] }], handler: (e, t) => ({ $kind: "RecordLabelDetailPageIntent", contentDescriptor: { kind: x.RecordLabel, identifiers: { storeAdamID: t.id }, locale: qt({ storefront: t.storefront, language: t.l }, n) } }) }] }, async perform(n, e) { const t = Po(n.contentDescriptor, e); t.queryString.extend.add("editorialArtwork"), t.queryString.addParameters({ "limit[record-labels:top-releases]": "25", "limit[record-labels:latest-releases]": "25", "fields[albums]": "artistName,artistUrl,artwork,contentRating,editorialArtwork,name,playParams,releaseDate,url,trackCount" }), t.queryString.views.add(Ee.TopReleases).add(Ee.LatestReleases).add(Ee.FeaturedRelease); const i = await pt({ url: t.string }, e), r = await lJ(i, e); return tZ(r, e, i) }, actionFor(n, e, t) { return as(n.contentDescriptor, void 0, e, t) } }, iZ = { $intentKind: "ContainerDetailSeeAllPaginateIntent", async perform(n, e) { var t, i; const r = new je(n.url, e); r.queryString.addParameters({ "include[songs]": "artists,composers", limit: "25" }), r.queryString.extend.add("artistUrl"); const s = await pt({ url: r.string }, e), o = s1(s, e, n), a = (t = o == null ? void 0 : o.sections) === null || t === void 0 ? void 0 : t[0]; if (a) { const u = { pageChangeInstruction: { instruction: { instruction: "addItemsToSection", newSectionToAppendItemsFrom: a } } }, c = (i = s.body) === null || i === void 0 ? void 0 : i.next; if (c) { const d = { $kind: "ContainerDetailSeeAllPaginateIntent", url: c, id: n.id, viewKind: n.viewKind, title: n.title, containerType: n.containerType }; u.nextIntent = d } return Promise.resolve(u) } return Promise.reject() } }, _L = { $intentKind: "SongDetailPageIntent", routes(n) { return [{ rules: [{ path: "/song/{id}", query: ["l?"] }, { path: "/song/{name}/{id}", query: ["l?"] }, { path: "/{storefront}/song/{id}", query: ["l?"] }, { path: "/{storefront}/song/{name}/{id}", query: ["l?"] }], handler: (e, t) => { const i = { kind: x.Song, identifiers: { storeAdamID: t.id }, locale: qt({ storefront: t.storefront, language: t.l }, n) }; return jf(i) } }] }, async perform(n, e) { var t, i; const r = n.contentDescriptor.identifiers.storeAdamID; if (!r) throw new Error("Missing songID in SongDetailPageIntent"); const s = nt.countryCode(e), o = new je(`/v1/catalog/${s}/songs/${r}/albums`, e); o.queryString.addParameters({ limit: "1" }); const l = (i = (t = (await Jt(o, e)).body) === null || t === void 0 ? void 0 : t.data) === null || i === void 0 ? void 0 : i.find(f => f.type === z.Albums); if (!l) throw new Error("Missing album resource identifier in song response"); const u = mc(l, e); if (!u) throw new Error("Couldn't create album content descriptor."); const c = r1(u, e), d = await Jt(c, e); return Ou(d, e, n, r) }, actionFor(n, e, t) { return as(n.contentDescriptor, null, e, t) } }; function g1(n) { return { $kind: "TVEpisodeDetailPageIntent", contentDescriptor: n } } const rZ = { $intentKind: "TVEpisodeDetailPageIntent", routes(n) { return [{ rules: [{ path: "/episode/{id}", query: ["l?"] }, { path: "/episode/{name}/{id}", query: ["l?"] }, { path: "/{storefront}/episode/{id}", query: ["l?"] }, { path: "/{storefront}/episode/{name}/{id}", query: ["l?"] }], handler: (e, t) => { const i = { kind: x.TVEpisode, identifiers: { storeAdamID: t.id }, locale: qt({ storefront: t.storefront, language: t.l }, n) }; return g1(i) } }] }, async perform(n, e) { const t = Po(n.contentDescriptor, e); t.queryString.addParameters({ include: "show", extend: "credits", "limit[tv-episodes:other-episodes]": "25" }), t.queryString.views.add(Ee.OtherEpisodes).add(Ee.MusicArtists).add(Ee.Playlists); const i = await Jt(t, e), r = await TX(i, e); return r || Promise.reject() }, actionFor(n, e, t) { return as(n.contentDescriptor, null, e, t) } }; function sZ(n, e) { return { id: n, itemKind: "tvMovieDescription", presentation: { kind: "single" }, items: [e], displaySeparator: !0 } } function oZ(n, e) { let t = 0; return n.resources(e).forEach(i => { var r, s, o; const a = (o = (s = (r = i.relationships) === null || r === void 0 ? void 0 : r.episodes) === null || s === void 0 ? void 0 : s.data) !== null && o !== void 0 ? o : []; n.resources(a).forEach(l => { var u; t += ((u = l == null ? void 0 : l.attributes) === null || u === void 0 ? void 0 : u.kind) === "episode" ? 1 : 0 }) }), t } function aZ(n, e) { var t, i, r; const s = n.resources(e)[0]; return (r = (i = (t = s == null ? void 0 : s.attributes) === null || t === void 0 ? void 0 : t.genreNames) === null || i === void 0 ? void 0 : i[0]) !== null && r !== void 0 ? r : void 0 } function lZ(n, e, t, i, r, s) { var o, a, l, u, c, d; const f = bn(n, t); if (!e.attributes) return f; const g = e.id, h = Ge(Ue.localization, t), m = e.attributes.name, v = e.attributes.releaseDate, b = $n(v, t), y = (a = (o = e.attributes.editorialNotes) === null || o === void 0 ? void 0 : o.standard) !== null && a !== void 0 ? a : "", k = aZ(i, r), S = (l = oZ(i, r)) !== null && l !== void 0 ? l : 0, C = (c = (u = e.attributes.artwork) === null || u === void 0 ? void 0 : u.url) !== null && c !== void 0 ? c : f.artworkUrl; function P() { return s != null && s.title ? s.title : m ? h.string("FUSE.Meta.Show.Title", { showName: m }) : f == null ? void 0 : f.pageTitle } function M() { if (s != null && s.description) return s.description; if (m && y && k && b && S) { const Z = S === 1 ? "FUSE.Meta.Show.Description.one" : "FUSE.Meta.Show.Description"; return h.string(Z, { description: y, genreName: k, releaseYear: b, count: S.toString() }) } } function R() { return s != null && s.socialTitle ? s.socialTitle : N } function F() { if (s != null && s.socialDescription) return s.socialDescription; if (m && k && b && S) { const Z = S === 1 ? "FUSE.Meta.Show.Description.Social.one" : "FUSE.Meta.Show.Description.Social"; return h.string(Z, { genreName: k, releaseYear: b, count: S.toString() }) } } const N = P(), O = M(), B = R(), U = F(); function K() { if (m && O && k) { const Z = { "@context": "http://schema.org", "@type": "Show", name: m, description: O, genre: k }; return v && (Z.datePublished = el(v)), C && (Z.image = di(C, { width: Hn.width, height: Hn.height, crop: "sr", fileType: Hn.fileType })), Z } } const W = (d = K()) !== null && d !== void 0 ? d : void 0; return { ...f, pageTitle: N, description: O, keywords: k && m ? h.string("FUSE.Meta.Show.PageKeywords", { showName: m, genreName: k }) : f.keywords, appleContentId: g, appleTitle: m, appleDescription: O, artworkUrl: C, crop: "sr", twitterCropCode: "bf", ogType: "music.show", socialTitle: B, socialDescription: U, schemaName: "schema:show", schemaContent: W } } async function uZ(n, e, t, i, r) { if (!Vn(t) || !e || !i || !r) return n; const s = await vi(e.id, z.TVShows, t), o = lZ(n.canonicalURL, e, t, i, r, s); return { ...n, seoData: o } } function cZ(n, e, t, i, r) { var s, o; if (!e) return de.warn(r, "Dropping page because no container was found."), null; if (!t) return de.warn(r, `No identifiers found for container: ${JSON.stringify(e)}`), null; const a = [], l = dZ(e, t, i, r); l && a.push(...l); const u = EX(t, i, r); u && a.push(...u); const c = MX(e.id, t, i, r); c && a.push(c); const d = (s = e.attributes) === null || s === void 0 ? void 0 : s.languageAttributes, f = d == null ? void 0 : d.find(m => m.isPrimary), g = d == null ? void 0 : d.filter(m => !m.isPrimary), h = c1(e, f, g, i, r); return h.length && a.push(...h), uZ({ pageMetrics: tn(r, n, "tv_show_detail", "TVShow", i), sections: a, canonicalURL: (o = e == null ? void 0 : e.attributes) === null || o === void 0 ? void 0 : o.url }, e, r, i, t) } function dZ(n, e, t, i) { var r, s, o, a, l, u, c, d; const f = n.attributes; if (!f) return de.log(i, `Dropping header because no attributes were found '${JSON.stringify(n)}`), null; const g = [], h = { id: qe("header", n.id, i), artwork: st((a = (s = (r = f.editorialArtwork) === null || r === void 0 ? void 0 : r.bannerUber) !== null && s !== void 0 ? s : (o = f.editorialArtwork) === null || o === void 0 ? void 0 : o.subscriptionCover) !== null && a !== void 0 ? a : (l = f.editorialArtwork) === null || l === void 0 ? void 0 : l.subscriptionHero), coverArtwork: null }; g.push({ id: it(`header-section - ${n.id}`, i), items: [h], itemKind: "curatorDetailHeaderComponentModel", presentation: { kind: "single" } }); const m = it(`headerComponentItemSection - ${n.id}`, i), v = (u = f.shortName) !== null && u !== void 0 ? u : f.name; if (tt(v)) { const C = xs(m, { id: qe("header-component-item", n.id, i), title: v, contentDescriptor: rt(n, i), hideContextMenuButton: !0 }); g.push(C) } const b = (d = (c = f.editorialNotes) === null || c === void 0 ? void 0 : c.standard) !== null && d !== void 0 ? d : An(f), y = it(`tv-show-description-section - ${n.id}`, i), k = Co(y, null, { id: qe("tv-show-description-paragraph", n.id, i), text: b, textAlignment: er.Leading }); b != null && b.length && g.push(k); const S = fZ(t, e, n, i); return S && g.push(S), g } function fZ(n, e, t, i) { const r = t.attributes; if (!r) return de.log(i, `Dropping header because no attributes were found '${JSON.stringify(t)}`), null; let s, o; n.resources(e).forEach(u => { var c, d; const f = (d = (c = u.relationships) === null || c === void 0 ? void 0 : c.episodes) === null || d === void 0 ? void 0 : d.data; f && n.resources(f).forEach(g => { if (g && !wg(g)) { const h = rt(g, i); s = s != null ? s : Rt(h, i), o = o != null ? o : gZ(g, i) } }) }); const a = Ge(Ue.localization, i), l = { heading: $n(r.releaseDate, i), headingTrailingBadges: hL(r, a), playAction: s, title: o, id: qe("tv-show-metadata-description-item", t.id, i), contentDescriptor: rt(t, i) }; return sZ(it(`tv-show-metadata-description-item-${t.id}`, i), l) } function gZ(n, e) { var t, i; const r = (t = n.attributes) === null || t === void 0 ? void 0 : t.episodeSeasonNumber, s = (i = n.attributes) === null || i === void 0 ? void 0 : i.episodeNumber; return r && s ? Qe.string("FUSE.OC.Show.playbackDescription", e, { seasonNumber: r.toString(), episodeNumber: s.toString() }) : r ? Qe.string("FUSE.OC.Show.playbackDescription", e, { seasonNumber: r.toString() }) : s ? Qe.string("FUSE.OC.Show.playbackDescription", e, { episodeNumber: s.toString() }) : null } function vL(n) { return { $kind: "TVShowDetailPageIntent", contentDescriptor: n } } const hZ = { $intentKind: "TVShowDetailPageIntent", routes(n) { return [{ rules: [{ path: "/show/{id}", query: ["l?"] }, { path: "/show/{name}/{id}", query: ["l?"] }, { path: "/{storefront}/show/{id}", query: ["l?"] }, { path: "/{storefront}/show/{name}/{id}", query: ["l?"] }], handler: (e, t) => { const i = { kind: x.TVShow, identifiers: { storeAdamID: t.id }, locale: qt({ storefront: t.storefront, language: t.l }, n) }; return vL(i) } }] }, async perform(n, e) { const t = await mZ(n, e), i = t.body, r = i == null ? void 0 : i.data; if (!r) return Promise.reject(`Unable to parse resource identifiers from response '${JSON.stringify(t)}'`); const s = i == null ? void 0 : i.resources; if (!s) return Promise.reject(`Unable to parse resources from response '${JSON.stringify(t)}'`); const o = new gt(s, e), a = o.resourcesForType(z.TVSeasons).map(f => f.id), l = (await pZ(a, e)).body, u = l == null ? void 0 : l.data; if (!u) return Promise.reject(`Unable to parse resource identifiers from response '${JSON.stringify(t)}'`); o.addResourceMap(l == null ? void 0 : l.resources, e); const c = o.resource(r[0]), d = cZ(t, c, u, o, e); return d || Promise.reject() }, actionFor(n, e, t) { return as(n.contentDescriptor, null, e, t) } }; function mZ(n, e) { const t = Po(n.contentDescriptor, e); return t.queryString.addParameters({ include: "tv-seasons" }), t.queryString.extend.add("editorialArtwork"), Jt(t, e) } function pZ(n, e) { const t = nt.countryCode(e), i = new je(`/v1/catalog/${t}/${z.TVSeasons}`, e); return i.queryString.addParameters({ "fields[tv-episodes]": "name,artwork,previews,url,description,episodeNumber,episodeSubNumber,episodeSeasonNumber,kind,offers,releaseDate", include: "episodes", ids: n.join(","), extend: "credits" }), Jt(i, e) } function h1(n) { return { $kind: "ArtistUploadedVideoDetailPageIntent", contentDescriptor: n } } function _Z(n, e) { var t, i, r, s, o, a, l, u, c, d, f, g, h, m; const v = (r = (i = (t = n.relationships) === null || t === void 0 ? void 0 : t.artists) === null || i === void 0 ? void 0 : i.data) !== null && r !== void 0 ? r : [], b = e.resources(v), y = (a = (o = (s = n.relationships) === null || s === void 0 ? void 0 : s.curator) === null || o === void 0 ? void 0 : o.data) !== null && a !== void 0 ? a : [], k = e.resources(y); return (m = (g = (c = (u = (l = b == null ? void 0 : b[0]) === null || l === void 0 ? void 0 : l.attributes) === null || u === void 0 ? void 0 : u.name) !== null && c !== void 0 ? c : (f = (d = k == null ? void 0 : k[0]) === null || d === void 0 ? void 0 : d.attributes) === null || f === void 0 ? void 0 : f.name) !== null && g !== void 0 ? g : (h = n.attributes) === null || h === void 0 ? void 0 : h.artistName) !== null && m !== void 0 ? m : void 0 } function vZ(n, e, t, i, r) { var s, o; const a = bn(n, t); if (!e.attributes) return a; const l = e.id, u = Ge(Ue.localization, t), c = e.attributes.name, d = e.attributes.uploadDate, f = (o = (s = e.attributes.artwork) === null || s === void 0 ? void 0 : s.url) !== null && o !== void 0 ? o : a.artworkUrl, g = _Z(e, i), h = e.type === z.UploadedAudios ? "wp" : "bb"; function m() { return r != null && r.title ? r.title : c ? u.string("FUSE.Meta.Auc.Title", { videoTitle: c }) : a == null ? void 0 : a.pageTitle } function v() { var M; if (r != null && r.description) return r.description; if (d && g) { const R = (M = po(d, t)) !== null && M !== void 0 ? M : ""; return u.string("FUSE.Meta.Auc.Description", { artistName: g, date: R }) } } function b() { return r != null && r.socialTitle ? r.socialTitle : k } function y() { return r != null && r.socialDescription ? r.socialDescription : S } const k = m(), S = v(), C = b(), P = y(); return { ...a, pageTitle: k, description: S, appleContentId: l, appleTitle: c, appleDescription: S, artworkUrl: f, crop: h, twitterCropCode: h, ogType: "music.post", socialTitle: C, socialDescription: P } } async function bL(n, e, t, i) { if (!Vn(t) || !e || !i) return n; const r = await vi(e.id, z.UploadedAudios, t), s = await vi(e.id, z.UploadedVideos, t), o = r != null ? r : s, a = vZ(n.canonicalURL, e, t, i, o); return { ...n, seoData: a } } function bZ(n, e, t, i) { var r, s, o; let a = []; const l = yZ(t, e, i); l && a.push(l); const u = wZ(t, e, i); u && (a = a.concat(u.sections)); const c = kZ(t, i); c && a.push(c); const d = { pageMetrics: tn(i, n, "uploaded_audio_detail", "Post", e), sections: a, canonicalURL: (s = (r = t == null ? void 0 : t.attributes) === null || r === void 0 ? void 0 : r.postUrl) !== null && s !== void 0 ? s : (o = t == null ? void 0 : t.attributes) === null || o === void 0 ? void 0 : o.url }; return bL(d, t, i, e) } function yZ(n, e, t) { var i, r, s; const o = n.attributes, a = rt(n, t), l = it(`auc-detail-page - ${n.id}`, t), u = n.id, c = (i = Gs(x.Curator, n, e, t)) !== null && i !== void 0 ? i : Dt((r = n.attributes) === null || r === void 0 ? void 0 : r.curatorName); return W0(l, { id: qe("auc-content-header-item", n.id, t), artwork: st(o == null ? void 0 : o.artwork), title: o == null ? void 0 : o.name, subtitleLinks: c, tertiaryTitleLinks: void 0, showExplicitBadge: Vt(o), audioBadges: void 0, contentDescriptor: a, playButton: Z0(a, e, u, o, { href: (s = n.attributes) === null || s === void 0 ? void 0 : s.url, data: [n] }, t), shuffleButton: void 0, videoArtwork: void 0, trackCount: 1, isPreviewMode: pg(o, t) }) } function wZ(n, e, t) { const i = [], r = So(n.id, n, n.type, n, e, t, !1, void 0, n); i.push(r); const s = it(`track-list - ${n.id}`, t); let o; return o = [q0(s, i)], { sections: o, isHomogenousMusicVideoTracklist: !1 } } function kZ(n, e) {
    var t; const i = rt(n, e); if (!i) return null; const r = [], s = po((t = n.attributes) === null || t === void 0 ? void 0 : t.uploadDate, e); s && r.push(s); const o = DZ(n, e); o && r.push(o); const a = it(`track-list-section - ${n.id}`, e), l = {
        id: qe("tracklist-footer", n.id, e), contentDescriptor: i, numberOfSocialBadges: 0, description: r.join(`
`)
    }; return e1(a, l)
} function DZ(n, e) { var t; const i = (t = n.attributes) === null || t === void 0 ? void 0 : t.durationInMilliseconds, r = mg(1, e), s = da(i, e); return `${r}, ${s}` } function SZ(n, e, t, i) { var r, s, o; const a = CZ(t, e, i), l = { pageMetrics: tn(i, n, "uploaded_video_detail", "Post", e), sections: [a], canonicalURL: (s = (r = t == null ? void 0 : t.attributes) === null || r === void 0 ? void 0 : r.postUrl) !== null && s !== void 0 ? s : (o = t == null ? void 0 : t.attributes) === null || o === void 0 ? void 0 : o.url }; return bL(l, t, i, e) } function CZ(n, e, t) { const i = n.attributes, r = tg(i == null ? void 0 : i.uploadDate, t), s = it(`auc-detail-page - ${n.id}`, t), o = rt(n, t), a = Gs(x.Curator, n, e, t); return u1(s, { id: qe(n.id, `auc-content-header-item - ${n.id}`, t), title: i == null ? void 0 : i.name, artwork: st(i == null ? void 0 : i.artwork), headline: null, contentDescriptor: o, playAction: Rt(o, t), subtitleLinks: a, tertiaryTitle: r, showExplicitBadge: Vt(i) }) } const PZ = { $intentKind: "ArtistUploadedVideoDetailPageIntent", routes(n) { return [{ rules: [{ path: "/post/{id}", query: ["l?"] }, { path: "/{storefront}/post/{id}", query: ["l?"] }], handler(e, t) { const i = { kind: x.ArtistUploadedVideo, identifiers: { storeAdamID: t.id }, locale: qt({ storefront: t.storefront, language: t.l }, n) }; return h1(i) } }] }, async perform(n, e) { var t, i; const r = n.contentDescriptor.identifiers.storeAdamID; if (!r) return Promise.reject(`No store adam id was found in content descriptor: '${JSON.stringify(n.contentDescriptor)}'`); const s = nt.countryCode(e), o = new je(`/v1/catalog/${s}/contents`, e); o.queryString.addParameters({ include: "artists,curator" }), r.match(/[A-z]/) ? o.queryString.addParameters({ "filter[post]": r }) : o.queryString.addParameters({ ids: r }); const a = await Jt(o, e), l = (t = a.body) === null || t === void 0 ? void 0 : t.data; o1(l, "editorial page"); const u = (i = a.body) === null || i === void 0 ? void 0 : i.resources; if (!u) throw new Error("No resource map in editorial page response"); const c = new gt(u, e), d = c.resource(l[0]); if (!d) throw new Error(`No container found for resources ${JSON.stringify(c)}`); return d.type === z.UploadedAudios ? (n.contentDescriptor.kind = x.ArtistUploadedSong, bZ(a, c, d, e)) : SZ(a, c, d, e) }, actionFor(n, e, t) { return as(n.contentDescriptor, null, e, t) } }; function AZ(n, e, t, i, r) { const s = bn(n, t); if (!(e != null && e.attributes) || !i) return s; const o = e.id, a = Ge(Ue.localization, t), l = e.attributes.name; function u() { return r != null && r.title ? r.title : l ? a.string("FUSE.Meta.Grouping.PageTitle", { genreName: l }) : s.pageTitle } function c() { return r != null && r.description ? r.description : l ? a.string("FUSE.Meta.Curator.Genre.PageDescription", { genreName: l }) : s.description } function d() { return r != null && r.socialTitle ? r.socialTitle : l ? a.string("FUSE.Meta.Genre.Title", { genreName: l }) : s.pageTitle } function f() { return r != null && r.socialDescription ? r.socialDescription : h } const g = u(), h = c(), m = d(), v = f(); return { ...s, pageTitle: g, description: h, appleContentId: o, appleTitle: l, appleDescription: h, ogType: "groupings", socialTitle: m, socialDescription: v } } async function EZ(n, e, t) { var i, r; if (!Vn(e)) return n; const s = (i = t.body) === null || i === void 0 ? void 0 : i.data, o = (r = t.body) === null || r === void 0 ? void 0 : r.resources, a = o ? new gt(o, e) : void 0, l = a && s ? fo(s, a) : void 0; if (!(l != null && l.attributes) || !a) return n; const u = await vi(l.id, z.Groupings, e), c = AZ(n.canonicalURL, l, e, a, u); return { ...n, seoData: c } } function IZ(n) { return n.$kind === "GroupingPageIntent" } function m1(n) { return { ...n, $kind: "GroupingPageIntent" } } async function MZ(n, e) { var t, i, r, s, o; const a = [], l = (t = n.body) === null || t === void 0 ? void 0 : t.resources; if (!l) throw new Error(`Missing resources for response: '${JSON.stringify(n)}'`); const u = new gt(l, e), c = u.resourcesForType(z.Groupings), d = c == null ? void 0 : c[0], f = (s = (r = (i = d.relationships) === null || i === void 0 ? void 0 : i.curator) === null || r === void 0 ? void 0 : r.data) === null || s === void 0 ? void 0 : s[0], g = u.resource(f), h = LZ(d, g, e); h && a.push(h); const m = await j0(n, e); if (a.push(...m), tt(g) && ((o = g.attributes) === null || o === void 0 ? void 0 : o.kind) === "Genre") { const v = lL(g, !0, e); v && a.push(v) } return { pageMetrics: tn(e, n, "grouping", "Grouping"), sections: a } } function LZ(n, e, t) { var i; if (!n) return de.warn(t, "No container found. Dropping header"), null; const r = n == null ? void 0 : n.attributes; let s; if (!r) return de.warn(t, `No attributes found for container: '${JSON.stringify(n)}'.  Dropping header`), null; e && (s = rt(e, t)); const o = it(`headerComponentItemSection - ${n.id}`, t), a = (i = r.shortName) !== null && i !== void 0 ? i : r.name; return tt(a) ? xs(o, { id: it(`headerComponentItem - ${n.id}`, t), title: a, contentDescriptor: s }) : null } const TZ = [new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music|podcasts|apps|books)\\.apple\\.com\\/.*?\\/MZStore\\.woa\\/.*?\\/viewGrouping(?=.*?[?&]id=(?<id>\\w+))(?:.*?[?&]cc=(?<cc>\\w{2}))?"), new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music)\\.apple\\.com\\/(?:(?<cc>\\w{2})\\/)?grouping\\/(?:.*\\/)?(?:id)?(?<id>[\\w\\.-]+)")], { makeCanonicalUrl: RZ } = js(m1, "/grouping/{id}"), FZ = { $intentKind: "GroupingPageIntent", routes(n) { return TZ.map(e => ({ rules: [{ regex: [e], query: ["l?"] }], handler(t, i) { var r, s; const o = (s = (r = t.toString().match(e)) === null || r === void 0 ? void 0 : r.groups) !== null && s !== void 0 ? s : {}, a = qt({ storefront: o.cc, language: i.l }, n), l = `/${a.storefront}/grouping/${o.id}`, u = hc(xf(n), l); return m1({ id: o.id, contentDescriptor: { kind: x.Grouping, identifiers: { storeAdamID: o.id }, url: u, locale: a }, ...a }) } })) }, async perform(n, e) { const t = n.id, i = nt.countryCode(e), r = nt.ampMusicAPIDomainsEditorialContent(e), s = new je(`/v1/editorial/${i}/groupings/${t}`, e, r); s.queryString.addParameters({ "omit[resource:artists]": "autos", "include[groupings]": "curator", "include[songs]": "artists,albums", "include[music-videos]": "artists", "include[albums]": "artists", "fields[artists]": "name,url,artwork,editorialArtwork,genreNames,plainEditorialNotes", "fields[albums]": "name,url,artwork,editorialArtwork,genreNames,artistName,trackCount,contentRating,plainEditorialNotes", tabs: rs(e) ? "subscriber" : "nonsubscriber" }), s.queryString.artworkURL.add(hn.OmitCropCode).add(hn.OmitFileExtension), s.queryString.extend.add("editorialArtwork"), s.queryString.extend.add("artistUrl"), s.queryString.extend.add("plainEditorialNotes"); const o = await Jt(s, e), a = { ...await MZ(o, e), canonicalURL: RZ(n) }; return EZ(a, e, o) }, actionFor(n, e, t) { var i; const r = (i = t.metrics) !== null && i !== void 0 ? i : un(e, "0", "unknown", "navigate"), s = At({ kind: vt.CatalogPage, intent: n }, r); return t.isDeepLinkAction ? Lt([ri({ kind: bt.New }, Ve, e), s], Ve) : s } }; function OZ(n, e, t, i) { var r, s, o, a, l, u, c, d, f; const g = t.id, h = Ge(Ue.localization, e), m = bn(n, e), v = (r = i == null ? void 0 : i.title) !== null && r !== void 0 ? r : (s = t.attributes) === null || s === void 0 ? void 0 : s.title; if (!v) return m; const b = (o = t.attributes) === null || o === void 0 ? void 0 : o.seoTitle, y = (a = t.attributes) === null || a === void 0 ? void 0 : a.seoDescription, k = (u = (l = t.attributes) === null || l === void 0 ? void 0 : l.uber) === null || u === void 0 ? void 0 : u.masterArt, S = "cw"; function C() { return b ? h.string("FUSE.Meta.Common.PageTitle", { seoTitle: b }) : i != null && i.title && (i != null && i.overrideExistingPatterns) ? i.title : v ? h.string("FUSE.Meta.MultiRoom.Title", { multiRoomName: v }) : m.pageTitle } function P() { return y || (i != null && i.description ? i.description : v ? h.string("FUSE.Meta.MultiRoom.Description", { multiRoomName: v }) : m.description) } function M() { return i != null && i.socialTitle ? i.socialTitle : v } function R() { return i != null && i.socialDescription ? i.socialDescription : N } const F = C(), N = P(), O = M(), B = R(); return { ...m, pageTitle: F, description: N, appleContentId: g, appleTitle: (d = (c = b != null ? b : i == null ? void 0 : i.title) !== null && c !== void 0 ? c : v) !== null && d !== void 0 ? d : m.pageTitle, appleDescription: N, ogType: "multirooms", socialTitle: O, socialDescription: B, crop: S, twitterCropCode: S, artworkUrl: (f = k == null ? void 0 : k.url) !== null && f !== void 0 ? f : m.artworkUrl } } async function NZ(n, e, t) { var i, r; if (!Vn(e) || !(n != null && n.canonicalURL)) return n; const s = (i = t.body) === null || i === void 0 ? void 0 : i.data, o = (r = t.body) === null || r === void 0 ? void 0 : r.resources, a = o ? new gt(o, e) : void 0, l = a && s ? fo(s, a) : void 0; if (!(l != null && l.attributes) || !a) return n; const u = await vi(l.id, z.MultiRooms, e), c = OZ(n.canonicalURL, e, l, u); return { ...n, seoData: c } } function p1(n) { return { ...n, $kind: "MultiRoomPageIntent" } } function BZ(n) { return n.$kind === "MultiRoomPageIntent" } function UZ(n, e) { var t, i, r, s; const o = (t = n.body) === null || t === void 0 ? void 0 : t.data; if (!(o != null && o.length)) throw new Error(`No resource identifiers in multi room response ${JSON.stringify(n)}`); const a = (i = n.body) === null || i === void 0 ? void 0 : i.resources; if (!a) throw new Error(`No resource map in multi room response: ${JSON.stringify(n)}`); const l = new gt(a, e), u = l.resource(o[0]); if (!u) throw new Error(`No multi room resource in page response: ${JSON.stringify(n)}`); const c = (s = (r = u.relationships) === null || r === void 0 ? void 0 : r.children) === null || s === void 0 ? void 0 : s.data, d = [], f = $Z(u, e); f && d.push(f); const g = HZ(u, e); g && d.push(g); const h = V0(c, !1, l, e); return d.push(...h), { pageMetrics: tn(e, n, "multi_room", "Room", l), sections: d } } function HZ(n, e) { var t; const i = (t = n.attributes) === null || t === void 0 ? void 0 : t.title; if (!i) return null; const r = it(`headerComponentModelSection - ${n.id}`, e); return xs(r, { id: qe(`headerComponentModelSection - ${n.id}`, n.id, e), title: i, contentDescriptor: null, hideContextMenuButton: !0 }) } function $Z(n, e) { var t, i; const r = (i = (t = n.attributes) === null || t === void 0 ? void 0 : t.uber) === null || i === void 0 ? void 0 : i.masterArt; if (!r) return de.log(e, `No master art found in resource.  Dropping multiroom resource: '${JSON.stringify(n)}'`), null; const s = { id: qe("multi-room-header", n.id, e), artwork: st(r), coverArtwork: null }; return oL(n.id, s, e) } const VZ = [new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music|podcasts|apps|books)\\.apple\\.com\\/.*?\\/MZStore\\.woa\\/.*?\\/viewMultiRoom(?=.*?[?&]fcId=(?<id>\\w+))(?:.*?[?&]cc=(?<cc>\\w{2}))?"), new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music)\\.apple\\.com\\/(?:(?<cc>\\w{2})\\/)?multi-room\\/(?:.*\\/)?(?:id)?(?<id>[\\w\\.-]+)")], { makeCanonicalUrl: zZ } = js(p1, "/multi-room/{id}"), qZ = { $intentKind: "MultiRoomPageIntent", routes(n) { return VZ.map(e => ({ rules: [{ regex: [e], query: ["l?"] }], handler: (t, i) => { var r, s; const o = (s = (r = t.toString().match(e)) === null || r === void 0 ? void 0 : r.groups) !== null && s !== void 0 ? s : {}, a = qt({ storefront: o.cc, language: i.l }, n), l = `/${a.storefront}/multi-room/${o.id}`, u = hc(xf(n), l); return p1({ id: o.id, contentDescriptor: { kind: x.MultiRoom, identifiers: { storeAdamID: o.id }, url: u, locale: a }, ...a }) } })) }, async perform(n, e) { const t = n.id, i = nt.countryCode(e), r = nt.ampMusicAPIDomainsEditorialContent(e), s = new je(`/v1/editorial/${i}/multirooms/${t}`, e, r); s.queryString.extend.add("editorialArtwork").add("uber").add("lockupStyle"), mt.supportsSeoMetadata(e) && s.queryString.extend.add("seoTitle").add("seoDescription"), s.queryString.artworkURL.add(hn.OmitCropCode).add(hn.OmitFileExtension); const o = await Jt(s, e), a = { ...UZ(o, e), canonicalURL: zZ(n) }; return NZ(a, e, o) }, actionFor(n, e, t) { var i; const r = (i = t.metrics) !== null && i !== void 0 ? i : un(e, "0", "unknown", "navigate"), s = At({ kind: vt.CatalogPage, intent: n }, r); return t.isDeepLinkAction ? Lt([ri({ kind: bt.New }, Ve, e), s], Ve) : s } }; function WZ(n) { return { ...n, $kind: "MultiplexPageIntent" } } function yL(n) { return { $kind: "AppleCuratorDetailPageIntent", contentDescriptor: n } } function KZ(n) { return "type" in n } function JZ(n, e, t) { var i; const r = n.body; if (!r) throw new Error(`Couldn't route multiplex response because no payload was found: '${JSON.stringify(n)}'`); const s = (i = r.results) === null || i === void 0 ? void 0 : i.target; if (!s) throw new Error(`Couldn't route multiplex response because no target was found: '${JSON.stringify(s)}'`); if (!KZ(s)) throw new Error(`Couldn't route multiplex response because no type was found: '${JSON.stringify(r.results)}'`); const o = YZ(s, e); return Ge(Ue.intentDispatcher, t).dispatch(o, t) } function YZ(n, e) { const t = n.type; switch (t) { case z.MultiRooms: return p1({ ...e, id: n.id }); case z.Groupings: return m1({ ...e, id: n.id }); case z.Rooms: return hg({ ...e, id: n.id }); case z.Curators: return sL({ ...e, id: n.id }); case z.AppleCurators: return yL(Ts(x.AppleCurator, n)); case z.Playlists: return Qd(Ts(x.Playlist, n)); case z.Albums: return bg(Ts(x.Album, n)); case z.MusicVideos: return f1(Ts(x.MusicVideo, n)); case z.Artists: return yg(Ts(x.Artist, n)); case z.TVEpisodes: return g1(Ts(x.TVEpisode, n)); case z.Songs: return jf(Ts(x.Song, n)); case z.UploadedVideos: return h1(Ts(x.ArtistUploadedVideo, n)); case z.MusicMovies: return l1(Ts(x.Movie, n)); default: throw new Error(`Unhandled multiplex type '${t}'`) } } function Ts(n, e) { return { kind: n, identifiers: { storeAdamID: e.id } } } const XZ = [new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music|apps|books|podcasts)\\.apple\\.com\\/.*?\\/MZStore\\.woa\\/.*?\\/viewFeature(?=.*?[?&]id=(?<id>\\w+))(?:.*?[?&]cc=(?<cc>\\w+))?")], ZZ = { $intentKind: "MultiplexPageIntent", routes(n) { return XZ.map(e => ({ rules: [{ regex: [e] }], handler: t => { var i, r; const s = (r = (i = t.toString().match(e)) === null || i === void 0 ? void 0 : i.groups) !== null && r !== void 0 ? r : {}; return WZ({ id: s.id, ...qt({ storefront: s.cc, language: null }, n) }) } })) }, async perform(n, e) { const t = n.id, i = nt.countryCode(e), r = nt.ampMusicAPIDomainsEditorialContent(e), s = new je(`/v1/editorial/${i}/multiplex/${t}`, e, r), o = await Jt(s, e); return JZ(o, n, e) }, actionFor(n, e, t) { var i; const r = (i = t.metrics) !== null && i !== void 0 ? i : un(e, "0", "unknown", "navigate"), s = At({ kind: vt.CatalogPage, intent: n }, r); return t.isDeepLinkAction ? Lt([ri({ kind: bt.New }, Ve, e), s], Ve) : s } }, QZ = { $intentKind: "RoomPagePaginateIntent", async perform(n, e) { var t, i, r, s; const o = nt.ampMusicAPIDomainsEditorialContent(e), a = new je(n.url, e, o), l = await Jt(a, e), u = (t = l.body) === null || t === void 0 ? void 0 : t.data; if (!u || u.length === 0) throw new Error(`No resource identifiers in room pagitaion page response ${JSON.stringify(l)}`); const c = (i = l.body) === null || i === void 0 ? void 0 : i.resources; if (!c) throw new Error(`No resource map in room pagination page response: ${JSON.stringify(l)}`); const d = new gt(c, e); !((s = (r = n.room.relationships) === null || r === void 0 ? void 0 : r.contents) === null || s === void 0) && s.data && (n.room.relationships.contents.data = u, n.room.relationships.contents.next = void 0); const f = d.resources(u).map(g => NM(n.room, !0, u, d, e))[0]; if (f) { const h = { pageChangeInstruction: { instruction: { instruction: "addItemsToSection", newSectionToAppendItemsFrom: f } }, nextIntent: void 0 }; return Promise.resolve(h) } return Promise.reject() } }, jZ = { $intentKind: "RefreshInlineUpsellSectionIntent", perform(n, e) { var t; const i = (t = n.metadata) === null || t === void 0 ? void 0 : t.kind; if (i && ZM(e)) { const r = n1(i, e); return r ? Promise.resolve({ instruction: { instruction: "replaceSection", newSection: r } }) : Promise.resolve(j3()) } return Promise.resolve(j3()) } }; function j3() { return { instruction: { instruction: "discardSection" } } } async function _1(n, e) { return Ge(Ue.network, e).fetch(n).then(t => { if (!t.ok) throw new Error(`Bad Status code ${t.status} for ${n.url}`); return t }) } const GZ = { $intentKind: "UpdateFavoritesIntent", async perform(n, e) { const t = new je("/v1/me/favorites", e); t.queryString.shouldIncludeFormatResourcesMap = !1, t.queryString.addParameters({ [`ids[${n.type}]`]: n.id }); const i = n.isFavorited ? "POST" : "DELETE"; return { success: (await _1({ url: t.string, method: i }, e)).ok } } }; var hp = {}, wL = {}, Dc = {}; Object.defineProperty(Dc, "__esModule", { value: !0 }); Dc.isIntentController = void 0; const xZ = _n; function eQ(n) { return typeof n != "object" ? !1 : xZ.isSome(n == null ? void 0 : n.perform) } Dc.isIntentController = eQ; var kg = {}; Object.defineProperty(kg, "__esModule", { value: !0 }); kg.IntentDispatcher = void 0; const G3 = _n, tQ = Dc; class nQ { constructor() { this.dispatchableMap = {} } register(e) { if (G3.isNothing(e.$intentKind)) throw new Error("Dispatcher cannot register a controller without an $intentKind"); if (e.$intentKind in this.dispatchableMap) throw new Error(`Dispatcher already has a controller registered for ${e.$intentKind}`); this.dispatchableMap[e.$intentKind] = e } async dispatch(e, t) { const i = this.dispatchableMap[e.$kind]; if (G3.isNothing(i) || !tQ.isIntentController(i)) throw new Error(`No controller registered to handle ${e.$kind}`); return await i.perform(e, t) } controller(e) { return this.dispatchableMap[e.$kind] } get registeredControllers() { return Object.values(this.dispatchableMap) } } kg.IntentDispatcher = nQ; var kL = {}; Object.defineProperty(kL, "__esModule", { value: !0 }); var DL = {}; Object.defineProperty(DL, "__esModule", { value: !0 }); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(Dc, n), t(kg, n), t(kL, n), t(DL, n) })(wL); var SL = {}, Dg = {}; Object.defineProperty(Dg, "__esModule", { value: !0 }); Dg.isBaseActionProvider = void 0; const iQ = _n; function rQ(n) { return typeof n != "object" ? !1 : iQ.isSome(n == null ? void 0 : n.actionFor) } Dg.isBaseActionProvider = rQ; (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(Dg, n) })(SL); (function (n) { var e = Ne && Ne.__createBinding || (Object.create ? function (i, r, s, o) { o === void 0 && (o = s), Object.defineProperty(i, o, { enumerable: !0, get: function () { return r[s] } }) } : function (i, r, s, o) { o === void 0 && (o = s), i[o] = r[s] }), t = Ne && Ne.__exportStar || function (i, r) { for (var s in i) s !== "default" && !Object.prototype.hasOwnProperty.call(r, s) && e(r, i, s) }; Object.defineProperty(n, "__esModule", { value: !0 }), t(wL, n), t(SL, n) })(hp); class v1 { constructor(e) { this.dispatcher = new hp.IntentDispatcher, this.defaultActionProvider = e } register(e) { this.dispatcher.register(e) } async dispatch(e, t) { await Ge(Ue.localization, t).loadStrings(); const r = Ge(Ue.logger, t); r.shouldQueueMessages && (r.flushMessages(), r.shouldQueueMessages = !1); const s = v1.objectGraphWithIntentDependencies(t, e.$kind); return await this.dispatcher.dispatch(e, s) } controller(e) { return this.dispatcher.controller(e) } get registeredControllers() { return this.dispatcher.registeredControllers } actionFor(e, t, i) { const r = this.dispatcher.controller(e); return hp.isBaseActionProvider(r) ? r.actionFor(e, t, i) : this.defaultActionProvider.actionFor(e, t, i) } static objectGraphWithIntentDependencies(e, t) { const i = Ge(Ue.loggerFactory, e), r = e.adding(Ue.logger, i.build(t)); return r.adding(F0, new EW(r)) } } function CL(n, e, t) { return { $kind: "RefreshLiveStationsIntent", reason: e, descriptors: n, initialPageExpirationDate: t } } const b1 = pn("collectedLiveStations"); function sQ(n, e) { var t; e.items = (t = e.items) !== null && t !== void 0 ? t : [], e.items.push(n) } function oQ(n, e) { var t; yt(n) || (e.nextUpdate = (t = e.nextUpdate) !== null && t !== void 0 ? t : n, n < e.nextUpdate && (e.nextUpdate = n)) } function aQ(n, e) { var t; yt(n) || (e.deferredUpdateWindows = (t = e.deferredUpdateWindows) !== null && t !== void 0 ? t : new Set([]), e.deferredUpdateWindows.add(n)) } function lQ(n, e) { var t, i; const r = x3((t = n.meta) === null || t === void 0 ? void 0 : t.inflectionPoints, e); return tt(r) ? r : x3((i = n.attributes) === null || i === void 0 ? void 0 : i.airTime, e) } function x3(n, e) { if (yt(n)) return null; if (tt(n.start)) { const t = new Date(n.start); if (e < t) return t } if (tt(n.end)) { const t = new Date(n.end); if (t >= e) return t } return null } function uQ(n, e) { var t, i, r, s, o, a; const l = (t = n.meta) === null || t === void 0 ? void 0 : t.inflectionPoints; if (yt(l)) return null; const u = (s = (r = (i = n.attributes) === null || i === void 0 ? void 0 : i.inflectionPoints) === null || r === void 0 ? void 0 : r.end) !== null && s !== void 0 ? s : (a = (o = n.attributes) === null || o === void 0 ? void 0 : o.airTime) === null || a === void 0 ? void 0 : a.end; if (yt(u)) return null; const c = l == null ? void 0 : l.points; if (yt(c) || c.length === 0) return null; let d = null; return c.map(f => f.timestamp).filter(tt).forEach(f => { const g = new Date(f), h = g > e, m = yt(d) || d > g; h && m && (d = g) }), yt(d) || d >= u ? null : { closestUpdateTime: d, endDate: u } } function cQ(n, e) { if (yt(e.deferredUpdateWindows) || e.deferredUpdateWindows.size === 0) return null; const t = []; return e.deferredUpdateWindows.forEach(i => { t.push({ name: "expirationDate", date: i.closestUpdateTime.toISOString(), endDate: i.endDate }) }), { events: t, deferIntentUntilEvents: ["nextPageAppearance", "nextApplicationDidBecomeActive"], invalidationStrategy: { strategy: "noInvalidation" }, intent: CL(e.items, "Page/App appeared and inflection point has surpassed", n) } } function dQ(n, e) { return yt(e.nextUpdate) ? null : { events: [{ name: "expirationDate", date: e.nextUpdate.toISOString() }], invalidationStrategy: { strategy: "noInvalidation" }, intent: CL(e.items, "Live event has occurred", n) } } function fQ(n, e) { var t; const i = e.optional(b1); if (yt(i)) { de.error(e, "'accumulateLiveRadioItemIfNecessary' expected to only be called with a CollectedLiveStationsMetatype dependency present"); return } if (yt(i.items) || ((t = i.items) === null || t === void 0 ? void 0 : t.length) === 0) return null; const r = [], s = dQ(n, i); tt(s) && r.push(s); const o = cQ(n, i); return tt(o) && r.push(o), r.length === 0 ? null : r } function Sg(n, e, t) { var i; const r = t.optional(b1); if (yt(r)) { de.error(t, "'collectLiveRadioItemIfNecessary' expected to only be called with a CollectedLiveStationsMetatype dependency present"); return } if (yt(n) || !((i = e.attributes) === null || i === void 0 ? void 0 : i.supportsAirTimeUpdates)) return; const o = new Date; sQ(n, r), oQ(lQ(e, o), r), aQ(uQ(e, o), r) } function y1(n) { return n.adding(b1, {}) } function PL(n, e, t, i) { var r, s; const o = (s = (r = _g(n, e, t)) === null || r === void 0 ? void 0 : r.eventTriggers) !== null && s !== void 0 ? s : [], a = fQ(t, i); return tt(a) && o.push(...a), { eventTriggers: o } } var ti; (function (n) { n.CardShelf = "MusicCardShelf", n.CircleCoverShelf = "MusicCircleCoverShelf", n.CircleCoverGrid = "MusicCircleCoverGrid", n.CoverShelf = "MusicCoverShelf", n.CoverGrid = "MusicCoverGrid", n.HorizontalLockupGrid = "MusicHorizontalLockupGrid", n.NamedBrickShelf = "MusicNamedBrickShelf", n.NotesHeroShelf = "MusicNotesHeroShelf", n.SocialCardShelf = "MusicSocialCardShelf", n.SuperHeroShelf = "MusicSuperHeroShelf", n.UpsellShelf = "MusicUpsellShelf" })(ti || (ti = {})); function AL(n, e, t) { var i, r, s; const o = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.contents) === null || r === void 0 ? void 0 : r.data; if (!o) return de.warn(t, `Dropping personal recommendation with id "${n.id}", missing child resource identifiers.`), null; const a = vo(n, t), l = [], u = it(`bubble-lockup-shelf - ${n.id}`, t); if (e.resources(o).forEach(d => { const f = gQ(d, u, t, a); f && l.push(f) }), l.length === 0) return null; const c = gg(n, e, t); if (Di(c) && yt((s = c.item.titleLink) === null || s === void 0 ? void 0 : s.segue)) { const d = { $kind: "ListenNowSeeAllPageIntent", personalRecommendationID: n.id }, f = XI(n, d, t); c.item.titleLink = f || c.item.titleLink } return z0(u, l, c) } function gQ(n, e, t, i) { const r = n.attributes; if (!r) return de.warn(t, `Dropping bubble lockup because no attributes were found: '${JSON.stringify(n)}'`), null; let s; switch (n.type) { case z.Artists: s = { title: r.name }; break; default: return de.warn(t, `Unsupported content type: ${n.type}. Dropping bubble lockup`), null }const o = rt(n, t); if (yt(o)) return null; const a = Wt(o, n, "ShelfItem", t, i); return { id: qe(e, `bubble-lockup - ${n.id}`, t), accessibilityLabel: s.title, artwork: st(r.artwork), contentDescriptor: o, segue: a, title: s.title } } function Sc(n, e, t = new Date, i = !1) { var r, s, o, a; if (((r = n.attributes) === null || r === void 0 ? void 0 : r.supportsAirTimeUpdates) !== !0) return null; const u = (o = (s = n.meta) === null || s === void 0 ? void 0 : s.inflectionPoints) !== null && o !== void 0 ? o : (a = n.attributes) === null || a === void 0 ? void 0 : a.airTime; if (yt(u)) return null; const c = u.end; if (yt(c)) return de.warn(e, `Expected end time in event window: '${JSON.stringify(u)}'`), null; const d = new Date(c); if (t > d) return null; const g = u.start; if (yt(g)) return de.warn(e, `Expected start time in event window: '${JSON.stringify(u)}'`), null; const h = new Date(g); if (t > h) return { color: "keyColor", text: Qe.string("FUSE.Radio.Live", e) }; const v = hQ(t, h, i), b = nt.languageTag(e); return { color: "systemMaterial", text: new Intl.DateTimeFormat(b, v).format(h).toLocaleUpperCase() } } function hQ(n, e, t) { const i = new Date(n.getTime()).setHours(23, 59, 59, 999), r = e.getTime(); if (i > r) return { hour: "numeric", minute: "numeric", timeZone: t ? "UTC" : void 0 }; const o = new Date(n).getDate() + 7; return new Date(n).setDate(o) > r ? { weekday: "short", hour: "numeric", minute: "numeric", timeZone: t ? "UTC" : void 0 } : { month: "short", day: "numeric", timeZone: t ? "UTC" : void 0 } } function ha(n, e, t, i, r, s, o) { var a, l; const u = rt(n, s); return { id: qe(i, n.id, s), artwork: st(e.artwork), heading: r ? (l = (a = t == null ? void 0 : t.meta) === null || a === void 0 ? void 0 : a.reason) === null || l === void 0 ? void 0 : l.stringForDisplay : null, numberOfSocialBadges: 3, contentDescriptor: u, accessibilityLabel: e.name, segue: Wt(u, n, "PosterItem", s, o), playAction: Rt(u, s, void 0, void 0, o, !0) } } function mQ(n, e, t, i, r, s, o, a) { const l = { title: e.name, subtitleLinks: Gi(n, s, o), showExplicitBadge: Vt(e) }, u = e.releaseDate; if (u) { const d = Date.now() - 2592e6, g = new Date(u).getTime() < d ? $n(u, o) : _q(u, o); l.description = g } return { ...ha(n, e, t, i, r, o, a), kind: { kind: "squareArtwork", chin: l } } } function pQ(n, e, t, i, r, s, o) { var a, l; const u = ["personal-mix", "replay"], c = e.isChart, d = e.playlistType, f = { showExplicitBadge: Vt(e) }; c || u.includes(d) ? f.subtitleLinks = Dt(e.artistNames) : (f.title = e.name, f.subtitleLinks = Dt((a = An(e)) !== null && a !== void 0 ? a : e.curatorName)); const g = (l = e == null ? void 0 : e.editorialVideo) === null || l === void 0 ? void 0 : l.motionSquareVideo1x1; return { ...ha(n, e, t, i, r, s, o), kind: { kind: "squareArtwork", chin: f }, videoArtwork: jr({ motionSquareVideo1x1: g }, cr.SpecificRectangle) } } function _Q(n, e, t, i, r, s, o) { var a, l; const u = (a = e == null ? void 0 : e.editorialVideo) === null || a === void 0 ? void 0 : a.motionSquareVideo1x1; return { ...ha(n, e, t, i, r, s, o), kind: { kind: "squareArtwork", chin: { title: e == null ? void 0 : e.name, subtitleLinks: Dt((l = An(e)) !== null && l !== void 0 ? l : e.curatorName), showExplicitBadge: Vt(e) } }, topLeadingBadge: Sc(n, s), videoArtwork: jr({ motionSquareVideo1x1: u }, cr.SpecificRectangle) } } function vQ(n, e, t, i, r, s, o) { var a, l, u, c; return { ...ha(n, e, t, i, r, s, o), kind: { kind: "squareArtwork", chin: { title: (l = (a = e.plainEditorialNotes) === null || a === void 0 ? void 0 : a.badge) !== null && l !== void 0 ? l : (u = e.plainEditorialNotes) === null || u === void 0 ? void 0 : u.name, description: An(e) } }, artwork: st((c = e.editorialArtwork) === null || c === void 0 ? void 0 : c.subscriptionCover) } } function bQ(n, e) { var t, i; const { title: r, subtitle: s } = n; if (!r && !s) return null; const o = (i = (t = n.display) === null || t === void 0 ? void 0 : t.decorations) === null || i === void 0 ? void 0 : i.some(a => a === "gradient"); return { title: r, subtitle: s, showLegibilityGradient: o } } function yQ(n, e, t) { var i, r, s; const o = (i = An(n)) !== null && i !== void 0 ? i : n == null ? void 0 : n.name; if (!o) return null; const a = (s = (r = e.display) === null || r === void 0 ? void 0 : r.decorations) === null || s === void 0 ? void 0 : s.some(l => l === "gradient"); return { description: o, showLegibilityGradient: a } } function wQ(n, e, t, i, r, s, o, a) { var l, u, c, d; const f = (l = i.editorialArtwork) === null || l === void 0 ? void 0 : l.superHeroTall; if (!f) return de.warn(o, `'${n.id}' resource missing editorial card tall artwork, dropping poster lockup with id "${n.id}".`), null; const g = ha(n, e, t, r, s, o, a), h = (u = i.editorialVideo) === null || u === void 0 ? void 0 : u.motionTallVideo3x4; return { ...g, heading: (c = g.heading) !== null && c !== void 0 ? c : (d = i.plainEditorialNotes) === null || d === void 0 ? void 0 : d.tagline, kind: { kind: "tallArtwork", top: bQ(i), bottom: yQ(e, i) }, artwork: st(f, zt.SpecificRectangle), videoArtwork: jr({ motionTallVideo3x4: h }, cr.SpecificRectangle), topLeadingBadge: Sc(n, o) } } function kQ(n, e, t, i, r, s, o) { return { ...ha(n, e, t, i, r, s, o), kind: { kind: "squareArtwork", chin: { title: e.name, subtitleLinks: Dt(An(e)) } } } } function DQ(n, e, t, i, r, s, o) { return { ...ha(n, e, t, i, r, s, o), kind: { kind: "squareArtwork", chin: { title: e.name, showExplicitBadge: Vt(n.attributes) } } } } function SQ(n, e, t, i, r, s, o) { var a, l; const u = n.attributes; if (!u) return de.warn(s, `'${n.id}' resource missing attributes, dropping poster lockup with id '${n.id}'.`), null; let c; const d = (a = e.meta) === null || a === void 0 ? void 0 : a.editorialCard; if (d && (c = (l = u.plainEditorialCard) === null || l === void 0 ? void 0 : l[d]), c) return wQ(n, u, e, c, t, i, s, o); switch (n.type) { case z.Albums: return mQ(n, u, e, t, i, r, s, o); case z.Playlists: return pQ(n, u, e, t, i, s, o); case z.Stations: return _Q(n, u, e, t, i, s, o); case z.EditorialItems: return vQ(n, u, e, t, i, s, o); case z.Curators: case z.Activities: case z.TVShows: case z.AppleCurators: return kQ(n, u, e, t, i, s, o); case z.UploadedVideos: return DQ(n, u, e, t, i, s, o); default: return de.warn(s, `'${n.type}' resource type unsupported, dropping poster lockup item with id '${n.id}'.`), null } } function EL(n, e, t, i, r) { if (i.length === 0) return null; const s = gg(e, t, r); return { id: n, itemKind: "posterLockup", presentation: { kind: "collection", layout: { kind: "shelf", numberOfRows: 1 } }, items: i, header: s } } function CQ(n, e, t) { var i, r; const s = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.contents) === null || r === void 0 ? void 0 : r.data; if (!s || s.length === 0) return de.warn(t, `Dropping personal recommendation with id "${n.id}", missing child resource identifiers.`), null; const o = vo(n, t), a = [], l = it(n.id, t), u = IL(n); return e.resourcesAndIdentifiers(s).forEach(([c, d]) => { const f = SQ(c, d, n.id, u, e, t, o); tt(f) && (PQ(f) || AQ(f)) && (Sg({ item: f, kind: "posterLockup", sectionID: l }, c, t), a.push(f)) }), EL(l, n, e, a, t) } function IL(n) { var e, t; const i = (t = (e = n.attributes) === null || e === void 0 ? void 0 : e.display) === null || t === void 0 ? void 0 : t.decorations; return i ? i.some(r => r === "explanation") : !1 } function PQ(n) { return !!(n != null && n.artwork) || !!(n != null && n.videoArtwork) } function AQ(n) { var e; return ((e = n.contentDescriptor) === null || e === void 0 ? void 0 : e.kind) === x.Playlist } function ML(n, e, t, i, r, s, o) { var a, l; const u = rt(n, s), c = Rt(u, s, void 0, void 0, o, !0); return { id: qe(i, n.id, s), artwork: st(e.artwork), heading: r ? (l = (a = t == null ? void 0 : t.meta) === null || a === void 0 ? void 0 : a.reason) === null || l === void 0 ? void 0 : l.stringForDisplay : null, numberOfSocialBadges: 0, contentDescriptor: u, accessibilityLabel: e.name, segue: c, playAction: c } } function LL(n, e) { var t, i; return { title: (i = (t = e.meta) === null || t === void 0 ? void 0 : t.utterance) === null || i === void 0 ? void 0 : i.stringForDisplay, showExplicitBadge: n.contentRating === Tu.Explicit, textAlignment: er.Leading } } function EQ(n, e, t, i, r, s, o, a) { return { ...ML(n, e, t, i, r, o, a), kind: { kind: "squareArtwork", chin: LL(e, t) }, topLeadingBadge: Sc(n, o) } } function IQ(n, e, t, i, r, s, o) { var a; const l = (a = e == null ? void 0 : e.editorialVideo) === null || a === void 0 ? void 0 : a.motionSquareVideo1x1; return { ...ML(n, e, t, i, r, s, o), kind: { kind: "squareArtwork", chin: LL(e, t) }, videoArtwork: jr({ motionSquareVideo1x1: l }, cr.SpecificRectangle) } } function MQ(n, e, t, i, r, s, o) { const a = n.attributes; if (!a) { de.warn(s, `'${n.id}' resource missing attributes, dropping poster lockup with id '${n.id}'.`); return } switch (n.type) { case z.Albums: case z.Stations: return EQ(n, a, e, t, i, r, s, o); case z.Playlists: return IQ(n, a, e, t, i, s, o); default: return de.warn(s, `'${n.type}' resource type unsupported, dropping card item with id '${n.id}'.`), null } } function LQ(n, e, t) { var i, r; const s = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.contents) === null || r === void 0 ? void 0 : r.data; if (!s || s.length === 0) return de.warn(t, `Dropping personal recommendation with id "${n.id}", missing child resource identifiers.`), null; const o = vo(n, t), a = [], l = IL(n), u = it(n.id, t); return e.resourcesAndIdentifiers(s).forEach(([c, d]) => { const f = MQ(c, d, n.id, l, e, t, o); tt(f) && (Sg({ item: f, kind: "posterLockup", sectionID: u }, c, t), a.push(f)) }), EL(u, n, e, a, t) } function Cg(n, e, t) { var i, r, s; const o = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.contents) === null || r === void 0 ? void 0 : r.data; if (!o) return de.warn(t, `Dropping personal recommendation with id "${n.id}", missing child resource identifiers.`), null; const a = vo(n, t), l = [], u = gg(n, e, t); if (Di(u) && dr.isNothing((s = u.item.titleLink) === null || s === void 0 ? void 0 : s.segue)) { const c = { $kind: "ListenNowSeeAllPageIntent", personalRecommendationID: n.id }, d = XI(n, c, t); u.item.titleLink = d || u.item.titleLink } return e.optionalResourcesAndIdentifiers(o).forEach(([c, d]) => { var f; if (!((f = n.attributes) === null || f === void 0) && f.isGroupRecommendation && d.type === z.PersonalRecommendation) if (c) { const g = Cg(c, e, t); g ? l.push(...g.items) : de.warn(t, `Dropping personal recommendation item with id "${d.id}" and type "${d.type}", no children found.`) } else de.warn(t, `Dropping grouped personal recommendation item with id "${d.id}" and type "${d.type}", missing resource.`); else { const g = FQ(c, d, n.id, e, t, a); g && l.push(g) } }), l.length === 0 ? null : { id: it(n.id, t), itemKind: "squareLockup", presentation: { kind: "collection", layout: { kind: "shelf", numberOfRows: 1 } }, items: l, header: u, displaySeparator: !1 } } function TQ(n, e, t, i, r, s) { var o, a, l, u, c, d, f; const g = rt(n, r), h = { id: qe(t, n.id, r), artwork: st((o = n.attributes) === null || o === void 0 ? void 0 : o.artwork, zt.BoundedBox), contentDescriptor: g, playAction: Rt(g, r, void 0, void 0, s, !0), segue: Wt(g, n, "ShelfItem", r, s), numberOfSocialBadges: 3, showExplicitBadge: Vt(n == null ? void 0 : n.attributes), trackCount: (a = n == null ? void 0 : n.attributes) === null || a === void 0 ? void 0 : a.trackCount, isAOD: _r(n) }; nr(n) && (h.radioStation = { isLiveRadio: Lr(n), isBroadcastRadio: Tr(n), isRadioEpisode: _i(n) }); let m; switch (n.type) { case z.Albums: case z.MusicMovies: m = { titleLinks: Dt((l = n.attributes) === null || l === void 0 ? void 0 : l.name), subtitleLinks: Gi(n, i, r) }; break; case z.Playlists: m = { titleLinks: Dt((u = n.attributes) === null || u === void 0 ? void 0 : u.name), subtitleLinks: Dt((c = n.attributes) === null || c === void 0 ? void 0 : c.curatorName) }; break; case z.Stations: m = { titleLinks: Dt(ug((d = n.attributes) === null || d === void 0 ? void 0 : d.name)), subtitleLinks: Dt(X0(n, i)) }; break; case z.TVShows: m = { titleLinks: Dt((f = n.attributes) === null || f === void 0 ? void 0 : f.name) }; break; default: return de.warn(r, `"${e.type}" resource type unsupported, dropping catalog square lockup item with id "${e.id}".`), null }return { ...h, ...m } } function RQ(n, e, t, i, r, s) { var o, a, l, u, c; const d = t.optional(Ue.cloudLibraryStatusProvider), f = "https://music.apple.com/", g = nt.countryCode(t); let h; if (d && !d.isCloudLibraryLoaded) return null; switch (n.type) { case z.LibraryAlbums: h = "album"; break; case z.LibraryPlaylists: h = "playlist"; break; default: return de.warn(t, `'${n.type}' resource type unsupported, dropping personal recommendation item with id '${n.id}'.`), null }const m = mc(n, t); if (!m) { de.warn(t, `Couldn't create content descriptor for library square lockup item of type "${n.type}" with id "${n.id}".`); return } if (!((o = n.meta) === null || o === void 0) && o.catalogIds && n.meta.catalogIds.length > 0) { const y = n.meta.catalogIds[0]; if (y && y !== "0") { m.identifiers.storeAdamID = y; const k = `${f}${g}/${h}/${y}`; m.catalogUrl = k } } const v = { id: qe(e, n.id, t), contentDescriptor: m, playAction: Rt(m, t, null, null, s != null ? s : null, !0), segue: VW(n, "ShelfItem", m, t), numberOfSocialBadges: 3, trackCount: (a = i == null ? void 0 : i.attributes) === null || a === void 0 ? void 0 : a.trackCount, isAOD: _r(i) }; let b = (l = i == null ? void 0 : i.attributes) === null || l === void 0 ? void 0 : l.artistName; if (!b && n.type === z.LibraryPlaylists) { const { storeAdamID: y } = m.identifiers; if (y) { const k = r.resourceWithID(y, z.Playlists); b = (u = k == null ? void 0 : k.attributes) === null || u === void 0 ? void 0 : u.curatorName } } if (mt.shouldIncludeLibraryLockupsInPersonalReco(t) && i) { v.titleLinks = Dt((c = i.attributes) === null || c === void 0 ? void 0 : c.name), v.subtitleLinks = Dt(b); const y = DM(i, r, t); v.artwork = st(y, zt.BoundedBox) } return v } function FQ(n, e, t, i, r, s) { if (Iq(e)) { if (!n) { de.warn(r, `Dropping catalog square lockup with id "${e.id}" and type "${e.type}", missing resource.`); return } return TQ(n, e, t, i, r, s) } return RQ(e, t, r, n, i, s) } function OQ(n, e) { return { $kind: "RefreshRecentlyPlayedIntent", refreshPath: n, reason: e } } function NQ(n) { var e; const t = (e = n.attributes) === null || e === void 0 ? void 0 : e.nextUpdateDate; if (!t) return !1; const r = new Date(t).getTime() + 10 * 1e3; return Date.now() > r } function TL(n, e, t, i) { const r = n.href; if (!r) return de.warn(i, "Personal recommendation missing refresh path, dropping section invalidation rules."), null; let s; return !e && NQ(n) && (s = { events: [{ name: "expirationDate", date: new Date().toJSON() }], intent: t(r, "Exceeded next update date") }), s ? { eventTriggers: [s] } : { eventTriggers: [{ events: [{ name: "playActivity", delay: 2e3 }], intent: t(r, "Play Activity") }, { events: [{ name: "cloudLibraryStatusDidChange" }], intent: t(r, "Cloud Library Status") }] } } function RL(n, e, t, i) { const r = Cg(n, e, i); if (!r) return null; const s = TL(n, t, OQ, i); return s ? (r.invalidationRules = s, r) : (de.warn(i, `No invalidation rules found for recently played shelf.  Dropping personal recommendation '${JSON.stringify(n)}'`), null) } function BQ(n, e) { return { $kind: "RefreshHorizontalGridIntent", refreshPath: n, reason: e } } function FL(n, e, t, i) { var r, s, o, a; const l = (s = (r = n.relationships) === null || r === void 0 ? void 0 : r.contents) === null || s === void 0 ? void 0 : s.data; if (!l) return de.warn(i, `Dropping personal recommendation with id "${n.id}", missing child resource identifiers.`), null; const u = vo(n, i), c = [], d = n.id; if (e.resourcesAndIdentifiers(l).forEach(([g, h]) => { const m = UQ(g, h, d, i, u); m && c.push(m) }), c.length === 0) return null; const f = TL(n, t, BQ, i); return { id: it(d, i), itemKind: "horizontalLockup", presentation: { kind: "collection", layout: { kind: "shelf", numberOfRows: 3 } }, items: c, header: { kind: "default", item: { titleLink: { title: (a = (o = n.attributes) === null || o === void 0 ? void 0 : o.title) === null || a === void 0 ? void 0 : a.stringForDisplay } } }, displaySeparator: !1, invalidationRules: f } } function UQ(n, e, t, i, r) { var s, o, a; const l = n.attributes; if (!l) return de.warn(i, `Dropping horizontal lockup because no attributes were found: '${JSON.stringify(n)}'`), null; let u; _i(n) && (u = (o = (s = l.plainEditorialNotes) === null || s === void 0 ? void 0 : s.standard) === null || o === void 0 ? void 0 : o.toLocaleUpperCase()); let c; switch (e.type) { case z.Albums: c = { title: l.name, subtitle: l.artistName }; break; case z.Playlists: c = { title: l.name, subtitle: l.curatorName }; break; case z.Stations: c = { title: ug(l.name), subtitle: GI(n.attributes, i) }; break; default: return de.warn(i, `Unsupported content type: ${e.type}.  Dropping horizontal lockup`), null }const d = rt(n, i), f = Rt(d, i, void 0, void 0, r, !0); return { id: qe(t, e.id, i), artwork: st(l.artwork), contentDescriptor: d, showExplicitBadge: Vt(l), playAction: f, segue: f, title: c.title, subtitle: (a = c.subtitle) !== null && a !== void 0 ? a : An(l), headline: u, accessibilityLabel: l.name, numberOfSocialBadges: 0 } } function HQ(n, e, t) { var i, r, s, o; const a = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.contents) === null || r === void 0 ? void 0 : r.data; if (!a) { de.warn(t, `Dropping personal recommendation with id "${n.id}", missing child resource identifiers.`); return } const l = n.id, u = it(`recommended-friends - ${l}`, t), c = []; if (e.resourcesAndIdentifiers(a).forEach(([g, h]) => { let m; switch (g.type) { case z.SocialProfiles: m = $Q(h, g, u, t); break; case z.SocialUpsells: m = VQ(h, g, t); break; default: de.warn(t, `"${h.type}" resource type unsupported, dropping shelf item with id "${h.id}".`); break }m && c.push(m) }), c.length === 0) return null; const d = (o = (s = n.attributes) === null || s === void 0 ? void 0 : s.title) === null || o === void 0 ? void 0 : o.stringForDisplay, f = cn(d); return { id: u, itemKind: "socialCardLockup", presentation: { kind: "collection", layout: { kind: "shelf", numberOfRows: 1 } }, items: c, header: f, displaySeparator: !1, backgroundTreatment: "alternate" } } function $Q(n, e, t, i) { var r, s; const o = e.attributes; if (!o) return de.warn(i, `"${n.type}" resource missing attributes, dropping personal recommendation item with id "${n.id}".`), null; let a; if (o.isPrivate === !0 && (a = Ge(Ue.localization, i).string("FUSE.Social.Onboarding.FindandFollow.Explanation.Private")), a || (a = (s = (r = n.meta) === null || r === void 0 ? void 0 : r.reason) === null || s === void 0 ? void 0 : s.stringForDisplay), !a) { const b = o == null ? void 0 : o.topGenreNames; b && b.length > 0 && (a = b.join(", ")) } const l = n.id, u = qe("recommended-friends", l, i), c = { $kind: "removeItemAction", sectionIdentifier: t, itemIdentifier: u, actionMetrics: un(i, u, "lockup", "delete") }, d = rt(e, i), f = d == null ? void 0 : d.identifiers.socialProfileID; if (!f) return de.warn(i, `"${n.type}" unable to find social profile id.  Dropping item".`), null; const m = { $kind: "compoundAction", subactions: [c, { $kind: "intentAction", intent: { $kind: "removeRecommendedFriendIntent", socialProfileID: f }, actionMetrics: Ve }], actionMetrics: Ve }, v = Wt(d, e, "Card", i); return { id: u, title: o.name, subtitle: a, artwork: st(o.artwork), buttonTitle: "FOLLOW", closeAction: m, primaryButtonAction: null, segue: v, contentDescriptor: d } } function VQ(n, e, t) { var i, r, s, o, a, l, u; const c = { $kind: "SocialOnboardingFindFriendsPageIntent", ignoreSocialOnboardingFlow: !0 }, d = G0({ kind: vt.CatalogPage, intent: c }, Ve); return { id: qe("recommended-friends", n.id, t), title: (s = (r = (i = e.meta) === null || i === void 0 ? void 0 : i.reason) === null || r === void 0 ? void 0 : r.stringForDisplay) !== null && s !== void 0 ? s : (a = (o = n.meta) === null || o === void 0 ? void 0 : o.reason) === null || a === void 0 ? void 0 : a.stringForDisplay, buttonTitle: (l = e.attributes) === null || l === void 0 ? void 0 : l.action, artwork: st((u = e.attributes) === null || u === void 0 ? void 0 : u.artwork), segue: null, closeAction: null, subtitle: null, contentDescriptor: null, primaryButtonAction: d } } function zQ(n, e, t) { var i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k; const S = (r = (i = n.relationships) === null || i === void 0 ? void 0 : i.contents) === null || r === void 0 ? void 0 : r.data; if (!S || S.length === 0) return de.warn(t, `Dropping personal recommendation with id "${n.id}", missing child resource identifiers.`), null; const C = S[0], P = e.resource(C); if (!P) return de.warn(t, `Dropping personal recommendation with id "${n.id}", missing child resource.`), null; const M = P.attributes; if (!M) return de.warn(t, `"${C.id}" resource missing attributes, dropping personal recommendation item with id "${n.id}".`), null; let R; const F = (s = C.meta) === null || s === void 0 ? void 0 : s.editorialCard; if (F && (R = (o = M.plainEditorialCard) === null || o === void 0 ? void 0 : o[F]), !R) { const ee = (l = Object.keys((a = M.plainEditorialCard) !== null && a !== void 0 ? a : {})) === null || l === void 0 ? void 0 : l[0]; R = (u = M.plainEditorialCard) === null || u === void 0 ? void 0 : u[ee] } const N = R == null ? void 0 : R.editorialArtwork; if (!N) return de.warn(t, `"${C.type}" resource missing editorial artwork, dropping personal recommendation item with id "${C.id}".`), null; if (!N.superHeroWide) return de.warn(t, `Resource missing wide artwork for super hero, ${C.type} ${C.id} for item.`), null; if (mt.canRenderMobileViews(t) && !N.superHeroTall) return de.warn(t, `Resource missing tall artwork for super hero, ${C.type} ${C.id} for item.`), null; const O = vo(n, t), B = (c = M == null ? void 0 : M.editorialVideo) === null || c === void 0 ? void 0 : c.motionWideVideo21x9, U = (d = M == null ? void 0 : M.editorialVideo) === null || d === void 0 ? void 0 : d.motionTallVideo3x4, K = rt(P, t), W = (g = (f = R == null ? void 0 : R.display) === null || f === void 0 ? void 0 : f.decorations) !== null && g !== void 0 ? g : [], Z = { kind: "default", item: { titleLink: oI((v = (m = (h = n.attributes) === null || h === void 0 ? void 0 : h.title) === null || m === void 0 ? void 0 : m.stringForDisplay) !== null && v !== void 0 ? v : (b = R == null ? void 0 : R.plainEditorialNotes) === null || b === void 0 ? void 0 : b.tagline) } }, Q = it(n.id, t), G = (y = gg(n, e, t)) !== null && y !== void 0 ? y : Z, ae = { id: qe(n.id, C.id, t), wideArtwork: st(N.superHeroWide, zt.SpecificRectangle), wideVideoArtwork: jr({ motionWideVideo21x9: B }, cr.SpecificRectangle), numberOfSocialBadges: 3, segue: Wt(K, P, "PosterItem", t, O), description: (k = R == null ? void 0 : R.plainEditorialNotes) === null || k === void 0 ? void 0 : k.short, playAction: Rt(K, t, void 0, void 0, O, !0), contentDescriptor: K, shouldShowLegibilityGradient: W.some(ee => ee === "gradient"), showExplicitBadge: Vt(M), accessibilityLabel: M.name, topLeadingBadge: Sc(P, t) }; return mt.canRenderMobileViews(t) && (ae.tallArtwork = st(N.superHeroTall, zt.SpecificRectangle), ae.tallVideoArtwork = jr({ motionTallVideo3x4: U }, cr.SpecificRectangle)), Sg({ item: ae, kind: "superHeroLockup", sectionID: Q }, P, t), { id: Q, itemKind: "superHeroLockup", presentation: { kind: "single" }, items: [ae], header: G } } function OL(n, e, t) { switch (n.type) { case z.PersonalRecommendation: return qQ(n, e, t); case z.MarketingItems: return WQ(n, t); default: return de.warn(t, `Unexpected resource type: '${n.type}', Dropping section`), null } } function qQ(n, e, t) { var i, r; const s = n.attributes, o = (i = s == null ? void 0 : s.display) === null || i === void 0 ? void 0 : i.kind, a = s == null ? void 0 : s.kind; switch (o) { case ti.CardShelf: return LQ(n, e, t); case ti.CircleCoverShelf: return AL(n, e, t); case ti.CoverShelf: return a === "recently-played" ? RL(n, e, !1, t) : Cg(n, e, t); case ti.NotesHeroShelf: return CQ(n, e, t); case ti.HorizontalLockupGrid: return FL(n, e, !1, t); case ti.SuperHeroShelf: return zQ(n, e, t); case ti.SocialCardShelf: return mt.supportsSocialCardShelf(t) ? HQ(n, e, t) : null; default: { const l = (r = s == null ? void 0 : s.title) === null || r === void 0 ? void 0 : r.stringForDisplay; de.warn(t, `Unsupported display kind "${o}" dropping personal recommendation with title "${l}".`); return } } } function WQ(n, e) { var t; return ((t = n.attributes) === null || t === void 0 ? void 0 : t.placement) === "musicListenNowBanner" ? KQ(n, e) : JQ(n, e) } function KQ(n, e) { var t; const i = n.attributes; if (!i) { de.warn(e, `"${n.id}" resource missing attributes, dropping marketing item with id "${n.id}".`); return } const r = (t = i == null ? void 0 : i.offers) === null || t === void 0 ? void 0 : t[0]; return XM(n.id, { id: qe("listen-now-inline-marketing-item", n.id, e), title: i == null ? void 0 : i.title, subtitle: i == null ? void 0 : i.subtitle, buttonTitle: r == null ? void 0 : r.callToActionLabel, buttonAction: I0(r, Ve, e) }) } function JQ(n, e) { var t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F, N; const O = n.attributes; if (!O) { de.warn(e, `"${n.id}" resource missing attributes, dropping marketing item with id "${n.id}".`); return } const B = (t = O.offers) === null || t === void 0 ? void 0 : t[0], U = O.marketingArtwork, K = { placementType: (r = (i = B == null ? void 0 : B.metrics) === null || i === void 0 ? void 0 : i.placementType) !== null && r !== void 0 ? r : (o = (s = n.meta) === null || s === void 0 ? void 0 : s.metrics) === null || o === void 0 ? void 0 : o.placementType, upsellType: "generic", placement: (l = (a = B == null ? void 0 : B.metrics) === null || a === void 0 ? void 0 : a.placement) !== null && l !== void 0 ? l : (c = (u = n.meta) === null || u === void 0 ? void 0 : u.metrics) === null || c === void 0 ? void 0 : c.placement, marketing: { offerDecisionId: (f = (d = B == null ? void 0 : B.metrics) === null || d === void 0 ? void 0 : d.offerDecisionId) !== null && f !== void 0 ? f : (h = (g = n.meta) === null || g === void 0 ? void 0 : g.metrics) === null || h === void 0 ? void 0 : h.offerDecisionId, "marketing.marketingItemId": (v = (m = B == null ? void 0 : B.metrics) === null || m === void 0 ? void 0 : m["marketing.marketingItemId"]) !== null && v !== void 0 ? v : (y = (b = n.meta) === null || b === void 0 ? void 0 : b.metrics) === null || y === void 0 ? void 0 : y["marketing.marketingItemId"] } }, W = (R = (C = (S = (k = n.meta) === null || k === void 0 ? void 0 : k.metrics) === null || S === void 0 ? void 0 : S.targetId) !== null && C !== void 0 ? C : (M = (P = n.meta) === null || P === void 0 ? void 0 : P.metrics) === null || M === void 0 ? void 0 : M.id) !== null && R !== void 0 ? R : n.id, Z = un(e, W, "PosterItem", "buy", K), Q = { id: qe("listen-now-marketing-item", n.id, e), wideArtwork: st(U == null ? void 0 : U.superHeroWide, zt.SpecificRectangle), headline: O.title, title: B == null ? void 0 : B.callToActionLabel, subtitle: O == null ? void 0 : O.subtitle, numberOfSocialBadges: 0, shouldShowLegibilityGradient: !1, segue: I0(B, Z, e), accessibilityLabel: O == null ? void 0 : O.name }; return { id: it(`listen-now-marketing-item - ${n.id}`, e), itemKind: "superHeroLockup", presentation: { kind: "single" }, header: !((F = n.attributes) === null || F === void 0) && F.header ? { kind: "default", item: { titleLink: { title: (N = n.attributes) === null || N === void 0 ? void 0 : N.header } } } : null, items: [Q] } } function YQ(n, e, t) { var i, r, s; const o = (r = (i = e.body) === null || i === void 0 ? void 0 : i.results) === null || r === void 0 ? void 0 : r.data; if (!o || o.length === 0) throw new Error("No resource identifiers in marketing items page response"); const a = (s = e.body) === null || s === void 0 ? void 0 : s.resources; if (!a) throw new Error("No resource map in marketing items page response"); const l = [], u = new gt(a, t); return u.resources(o).forEach(c => { const d = OL(c, u, t); d && l.push(d) }), { pageMetrics: tn(t, e, "grouping", "Home", u, "HomeLanding"), sections: l, header: { showAccountButton: Qs(t), title: Qe.string("FUSE.Home.Pageheader", t) }, invalidationRules: { eventTriggers: [{ events: [{ name: "subscriptionStatusChange" }], intent: zi(n, "Subscription Status Change") }] }, ignoresSocialBadging: !0 } } function NL(n, e, t) { var i, r; if (XQ(e)) return ZQ(n, e, t); const s = (i = e.body) === null || i === void 0 ? void 0 : i.data; if (!s || s.length === 0) throw new Error("No resource identifiers in Listen Now response"); const o = (r = e.body) === null || r === void 0 ? void 0 : r.resources; if (!o) throw new Error("No resource map in Listen Now response"); const a = [], l = new gt(o, t); l.resources(s).forEach((c, d) => { const f = OL(c, l, t); if ((f == null ? void 0 : f.itemKind) === "socialCardLockup" && a.length > 0) { const g = a[a.length - 1]; g.displaySeparator = !1 } f && a.push(f) }); const u = BE(e.body, t); return { pageMetrics: tn(t, e, "grouping", "Home", l, "HomeLanding", u), sections: a, header: { showAccountButton: wl(t), title: Qe.string("FUSE.Home.Pageheader", t), showSeparator: !1 }, invalidationRules: PL(n, !0, e.expirationDate, t) } } function XQ(n) { var e, t; return ((t = (e = n == null ? void 0 : n.body) === null || e === void 0 ? void 0 : e.meta) === null || t === void 0 ? void 0 : t.account) === "OnboardingRequired" } function ZQ(n, e, t) { const i = it("onboarding-required-section-header", t), r = xs(i, { title: Qe.string("FUSE.Upsell.Onboard.Description", t), contentDescriptor: null, hideContextMenuButton: !0, textAlignment: er.Centered, id: qe(i, "onboarding-required-page-item", t) }), s = it("onboarding-required-section-button", t), o = { id: qe(s, "onboarding-required-section-button-item", t), buttonTitle: Qe.string("FUSE.Upsell.Onboard.CTA", t), segue: At({ kind: vt.OnboardingPage }, Ve) }, a = { id: s, itemKind: "socialProfileFindFriendsButtonComponentModel", presentation: { kind: "single" }, items: [o] }; return { pageMetrics: tn(t, e, "onboarding", "Onboarding"), sections: [r, a], invalidationRules: { eventTriggers: [HM(n)] } } } async function BL(n) { const e = QQ(n); return Jt(e, n) } function QQ(n) { return sg(n) ? new jQ(n) : new GQ(n) } class jQ extends je { constructor(e) { super("/v1/me/recommendations", e), this.queryString.addParameters({ name: "listen-now" }), this.queryString.displayFilterKind.add(ti.CardShelf).add(ti.HorizontalLockupGrid), this.queryString.types.add(z.Albums).add(z.Playlists).add(z.Stations), this.queryString.with.add("marketingItems").add("voice"), this.queryString.shouldIncludeTimezoneOffset = !0, this.queryString.addParameters({ meta: "vacToken" }), this.queryString.extend.add("plainEditorialNotes") } } class GQ extends je { constructor(e) { super("/v1/me/recommendations", e), this.queryString.addParameters({ name: "listen-now", "extend[playlists]": "artistNames", "include[albums]": "artists", "include[library-playlists]": "catalog", "include[stations]": "radio-show", "include[personal-recommendation]": "primary-content", "fields[artists]": "name,artwork,url", "omit[resource]": "autos", "displayFilter[kind]": "musicSuperHero", "extend[stations]": "airTime,supportsAirTimeUpdates", "meta[stations]": "inflectionPoints" }), this.queryString.displayFilterKind.add(ti.CircleCoverShelf).add(ti.CoverShelf).add(ti.CoverGrid).add(ti.NotesHeroShelf).add(ti.SuperHeroShelf).add(ti.SocialCardShelf), this.queryString.types.add(z.Activities).add(z.Albums).add(z.AppleCurators).add(z.Artists).add(z.Curators).add(z.EditorialItems).add(z.LibraryAlbums).add(z.LibraryPlaylists).add(z.MusicMovies).add(z.MusicVideos).add(z.Playlists).add(z.SocialProfiles).add(z.SocialUpsells).add(z.Songs).add(z.Stations).add(z.TVEpisodes).add(z.TVShows).add(z.UploadedAudios).add(z.UploadedVideos), wl(e) && (this.queryString.with.add("social"), this.queryString.with.add("friendsMix")), A0(e) && this.queryString.with.add("voice"), this.queryString.shouldIncludeTimezoneOffset = !0; const t = e.optional(Ue.cloudLibraryStatusProvider); (t != null && t.isCloudLibraryEnabled || !t) && (this.queryString.with.add("library"), this.queryString.sparse.add(z.LibraryAlbums).add(z.LibraryPlaylists)), mt.shouldIncludeLibraryLockupsInPersonalReco(e) && this.queryString.with.add("library"), this.queryString.extend.add("plainEditorialNotes").add("plainEditorialCard").add("editorialVideo") } } async function xQ(n, e) { if (NE(e).has("anyCatalogPlayback")) { const i = await BL(e); return NL(n, i, y1(e)) } const t = await gW(e); return YQ(n, t, e) } function ma(n) { return { ...n, $kind: "ListenNowPageIntent" } } function ej(n) { return n.$kind === "ListenNowPageIntent" } const { routes: tj, makeCanonicalUrl: nj } = Ei(ma, "/home", [], { extraRules: [{ path: "/listen-now", query: ["l?"] }, { path: "/listennow", query: ["l?"] }, { path: "/for-you", query: ["l?"] }, { path: "/foryou", query: ["l?"] }, { path: "/for_you", query: ["l?"] }, { path: "/{storefront}/listen-now", query: ["l?"] }, { path: "/{storefront}/listennow", query: ["l?"] }, { path: "/{storefront}/for-you", query: ["l?"] }, { path: "/{storefront}/foryou", query: ["l?"] }, { path: "/{storefront}/for_you", query: ["l?"] }] }), mp = nj, UL = { $intentKind: "ListenNowPageIntent", routes: tj, async perform(n, e) { return { ...await xQ(n, e), canonicalURL: mp(n) } }, actionFor(n, e, t) { var i; const r = (i = t.metrics) !== null && i !== void 0 ? i : un(e, "0", "unknown", "navigate"), s = At({ kind: vt.CatalogPage, intent: n }, r); return t.isDeepLinkAction ? Lt(pr({ kind: bt.Home }, s, e), Ve) : s }, staticCanonicalUrlFor(n, e) { return mp(n) } }, ij = { $intentKind: "RefreshHorizontalGridIntent", async perform(n, e) { var t, i; if (!sg(e)) return de.warn(e, "Refreshing horizontal grid only valid for Glide subscribers.  Ignoring refresh attempt"), { instruction: { instruction: "noOperation" } }; de.log(e, `Refreshing Horizontal Grid for reason "${n.reason}".`); const r = new je(n.refreshPath, e); r.queryString.shouldIncludeLanguage = !1, r.queryString.displayFilterKind.add(ti.HorizontalLockupGrid), r.queryString.addParameters({ action: "refresh", meta: "vacToken" }), r.queryString.with.add("voice"), r.queryString.types.add(z.Albums).add(z.Playlists).add(z.Stations), r.queryString.extend.add("plainEditorialNotes"), r.queryString.shouldIncludeTimezoneOffset = !0; const s = await pt({ url: r.string, method: "POST" }, e), o = (t = s.body) === null || t === void 0 ? void 0 : t.data; if (!o || o.length === 0) throw new Error("No resource identifiers in Listen Now See All response"); const a = (i = s.body) === null || i === void 0 ? void 0 : i.resources; if (!a) throw new Error(`Missing resource map from response: '${JSON.stringify(s)}'`); const l = o[0], u = new gt(a, e), c = u.resource(l); if (!c) throw new Error("Missing resource for personal recommendation."); const f = FL(c, u, !0, e); if (!f) throw new Error("Couldn't create horizontal grid section."); return { instruction: { instruction: "replaceSection", newSection: f } } } }; function rj(n, e) { if (!n) throw new Error("id is required for requestPlaylistTracks"); const t = new je(`/v1/me/library/playlists/${n}/tracks`, e); return t.queryString.addParameters({ "include[songs]": "artists,composers", "fields[artists]": "name,url", "fields[library-songs]": "id,artwork,url" }), t.queryString.shouldIncludeLanguage = !1, pt({ url: t.string }, e) } async function Cc(n, e) { return Promise.all(n.map(t => sj(t, e))) } async function sj(n, e) { var t; const i = n != null && n.contentDescriptor ? vl(n == null ? void 0 : n.contentDescriptor) : null; if ((i == null ? void 0 : i.has("library")) && !n.artwork && ((t = n == null ? void 0 : n.contentDescriptor) === null || t === void 0 ? void 0 : t.kind) === x.Playlist) { const s = await oj(e, n); s && (n.trackArtwork = s) } return n } async function oj(n, e) { var t, i, r, s, o; if (!e.artwork) { const a = (i = (t = e == null ? void 0 : e.contentDescriptor) === null || t === void 0 ? void 0 : t.identifiers) === null || i === void 0 ? void 0 : i.cloudUniversalLibraryID; if (a) try { const l = await rj(a, n), u = (r = l == null ? void 0 : l.body) === null || r === void 0 ? void 0 : r.resources, c = u ? new gt(u, n) : null, d = c == null ? void 0 : c.resources((o = (s = l == null ? void 0 : l.body) === null || s === void 0 ? void 0 : s.data) !== null && o !== void 0 ? o : []); return Pg(d != null ? d : []) } catch (l) { de.error(n, "Failed to load tracks for playlist to populate artwork. Error: ", l) } } return null } const Pg = n => { var e; const t = new Set, i = []; for (const r of n) { const s = (e = r == null ? void 0 : r.attributes) === null || e === void 0 ? void 0 : e.artwork; if (i.length === 4) break; if (s && !t.has(s.url)) { t.add(s.url); const o = st(s); o && i.push(o) } } return i }, aj = { $intentKind: "RefreshRecentlyPlayedIntent", async perform(n, e) { var t, i; de.log(e, `Refreshing Recently Played for reason "${n.reason}".`); const r = new je(n.refreshPath, e); r.queryString.shouldIncludeLanguage = !1, r.queryString.addParameters({ action: "refresh", "include[albums]": "artists", "include[library-playlists]": "catalog", "fields[artists]": "name", "omit[resource]": "autos" }), r.queryString.extend.add("plainEditorialNotes"), r.queryString.types.add(z.Activities).add(z.Albums).add(z.AppleCurators).add(z.Artists).add(z.Curators).add(z.EditorialItems).add(z.LibraryAlbums).add(z.LibraryPlaylists).add(z.MusicMovies).add(z.MusicVideos).add(z.Playlists).add(z.SocialProfiles).add(z.SocialUpsells).add(z.Songs).add(z.Stations).add(z.TVEpisodes).add(z.TVShows).add(z.UploadedAudios).add(z.UploadedVideos); const s = e.optional(Ue.cloudLibraryStatusProvider); (s != null && s.isCloudLibraryEnabled || !s) && (r.queryString.with.add("library"), r.queryString.sparse.add(z.LibraryAlbums).add(z.LibraryPlaylists)), r.queryString.shouldIncludeTimezoneOffset = !0, mt.shouldIncludeLibraryLockupsInPersonalReco(e) && r.queryString.with.add("library"); const o = await pt({ url: r.string, method: "POST" }, e), a = (t = o.body) === null || t === void 0 ? void 0 : t.data; if (!a || a.length === 0) throw new Error("No resource identifiers in Recently Played shelf response"); const l = (i = o.body) === null || i === void 0 ? void 0 : i.resources; if (!l) throw new Error("Missing resource map."); const u = a[0], c = new gt(l, e), d = c.resource(u); if (!d) throw new Error("Missing resource for personal recommendation."); const g = RL(d, c, !0, e); if (!g) throw new Error("Couldn't create recently played section."); return mt.shouldIncludeLibraryLockupsInPersonalReco(e) && (g.items = await Cc(g.items, e)), { instruction: { instruction: "replaceSection", newSection: g } } } }; function lj(n, e) { var t, i, r; const s = (t = n.body) === null || t === void 0 ? void 0 : t.data; if (!s || s.length === 0) throw new Error("No resource identifiers in Listen Now See All response"); const o = (i = n.body) === null || i === void 0 ? void 0 : i.resources; if (!o) throw new Error(`No resources were found in response: ${JSON.stringify(n)}`); const a = s[0], l = new gt(o, e), u = l.resource(a); if (!u) throw new Error(`No personal recommendation found in response: ${JSON.stringify(n)}`); const c = u.attributes, d = (r = c == null ? void 0 : c.display) === null || r === void 0 ? void 0 : r.kind, f = []; let g; switch (d) { case ti.CircleCoverShelf: case ti.CircleCoverGrid: g = AL(u, l, e); break; default: g = Cg(u, l, e) }if (tt(g)) { g.presentation = { kind: "collection", layout: "grid" }; const m = g.header; Di(m) && tt(m.item.titleLink) && (m.item.titleLink = { title: m.item.titleLink.title }), f.push(g) } return { pageMetrics: tn(e, n, "see_all", "SeeAll", l), sections: f, nextIntent: void 0 } } const uj = { $intentKind: "ListenNowSeeAllPageIntent", async perform(n, e) { var t, i; const r = new je(`/v1/me/recommendations/${n.personalRecommendationID}/view/see-all`, e); r.queryString.addParameters({ action: "refresh", name: "listen-now", extend: "artistUrl", "include[personal-recommendation]": "contents", "include[library-playlists]": "catalog", "limit[contents]": "100", "omit[resource]": "autos" }), r.queryString.shouldIncludeTimezoneOffset = !0, r.queryString.with.add("library"), wl(e) && r.queryString.with.add("social"), t1(e) && r.queryString.with.add("friendsMix"), [z.Artists, z.Albums, z.EditorialItems, z.LibraryAlbums, z.LibraryPlaylists, z.MusicMovies, z.Playlists, z.Stations, z.UploadedAudios].forEach(r.queryString.types.add, r.queryString.types); const o = await pt({ url: r.string }, e), a = lj(o, e); return mt.shouldIncludeLibraryLockupsInPersonalReco(e) && ((i = (t = a == null ? void 0 : a.sections) === null || t === void 0 ? void 0 : t[0]) === null || i === void 0 ? void 0 : i.itemKind) === "squareLockup" && (a.sections[0].items = await Cc(a.sections[0].items, e)), a } }, cj = { $intentKind: "LintMetricsEventIntent", async perform(n, e) { var t, i, r; const s = n.fields; delete s.pageFeatureName; const o = (t = Rr(e)) === null || t === void 0 ? void 0 : t.accountIdentifier; o && (s.dsId = o), s.isSignedIn = Qs(e); const l = (i = Ge(Ue.bundle, e).manifest.properties) === null || i === void 0 ? void 0 : i.version; l && (s.resourceRevNum = l); const u = nt.optionalDictionary("metrics", e); if (u && typeof u == "object") { const d = u.postFrequency; d && (s.xpPostFrequency = d); const f = (r = u.metricsBase) === null || r === void 0 ? void 0 : r.storeFrontHeader; f && (s.storeFrontHeader = f) } s.xpSendMethod = "jet"; const c = s.actionDetails; return (c == null ? void 0 : c.addTo) === "Library" && (s.targetId = "LibraryItem", s.pageId = "LibraryItem"), s.recoID && (s["data.reco.dataSetId"] = s.recoID, delete s.recoID), { fields: s } } }; function dj(n, e) { var t, i, r; const s = (t = n.body) === null || t === void 0 ? void 0 : t.data; if (!s) throw new Error(`No resource identifiers were found for response: '${JSON.stringify(n)}'`); const o = (i = n.body) === null || i === void 0 ? void 0 : i.resources; if (!o) throw new Error(`No resources were found for response: '${JSON.stringify(n)}'`); const a = new gt(o, e), l = (r = a.resources(s)) !== null && r !== void 0 ? r : a.resourcesForType(z.TastePreferences); if (!l) throw new Error(`No taste preferences were found in resources: '${JSON.stringify(o)}'`); const u = At({ kind: vt.CatalogPage, intent: ma({ storefront: null, language: null }) }, Ve), c = Lt([{ $kind: "onboardingSaveTastesAction", actionMetrics: Ve }, u], Ve); return { pageMetrics: tn(e, n, "unimplemented", "Onboarding", a), title: Qe.string("FUSE.Onboarding.ChooseArtistsYouLove", e), subtitle: Qe.string("FUSE.Onboarding.SelectionsWillInspire.ListenNow", e), secondaryTitle: Qe.string("FUSE.Onboarding.ChooseMore", e, { count: "2" }), tertiaryTitle: Qe.string("FUSE.Onboarding.ChooseMore", e, { count: "1" }), completionText: Qe.string("FUSE.Onboarding.CompletedMessage", e), primaryButtonAction: { $kind: "onboardingShowMoreArtistsAction", actionMetrics: Ve }, secondaryButtonAction: c, primaryButtonTitle: Qe.string("FUSE.Onboarding.SuggestMore", e), secondaryButtonTitle: Qe.string("Done", e), bubbles: l } } const fj = { $intentKind: "OnboardingArtistPageIntent", async perform(n, e) { const i = { url: new je("/v1/me/taste/taste-preferences", e).string, method: "POST", body: JSON.stringify({ data: n.bubbles }) }, r = await pt(i, e); return dj(r, e) } }; function gj(n, e) { var t, i, r; const s = (t = n.body) === null || t === void 0 ? void 0 : t.data; if (!s) throw new Error(`No resource identifiers were found for response: '${JSON.stringify(n)}'`); const o = (i = n.body) === null || i === void 0 ? void 0 : i.resources; if (!o) throw new Error(`No resources were found for response: '${JSON.stringify(n)}'`); const a = new gt(o, e), l = (r = a.resources(s)) !== null && r !== void 0 ? r : a.resourcesForType(z.TastePreferences); if (!l) throw new Error(`No taste preferences were found in resources: '${JSON.stringify(o)}'`); return { pageMetrics: tn(e, n, "unimplemented", "Onboarding", a), title: Qe.string("FUSE.Onboarding.ChooseGenresYouLove", e), subtitle: Qe.string("FUSE.Onboarding.SelectionsWillInspire.ListenNow", e), primaryButtonAction: { $kind: "onboardingResetAction", actionMetrics: Ve }, secondaryButtonAction: { $kind: "onboardingSaveTastesAction", actionMetrics: Ve }, primaryButtonTitle: Qe.string("Reset", e), secondaryButtonTitle: Qe.string("Next", e), bubbles: l } } const hj = { $intentKind: "OnboardingGenrePageIntent", async perform(n, e) { const t = new je("/v1/me/taste/taste-preferences", e), i = await Jt(t, e); return gj(i, e) } }; function Pc(n = Ve) { return { $kind: "dismissModalPresentationAction", actionMetrics: n } } function mj(n = Ve, e) { return { $kind: "removeAppWithAccessAction", actionMetrics: n, appID: e } } function pj(n, e) { return { id: n, itemKind: "appsWithAccessComponentModel", displaySeparator: !0, presentation: { kind: "collection", layout: "list" }, items: e } } const _j = { $intentKind: "AppsWithAccessPageIntent", async perform(n, e) { const t = nt.getMusicSDKAuthorizationsSrv(e); if (!t) throw new Error("Bag key: getMusicSDKAuthorizationsSrv was not available"); const i = await _1({ url: t }, e); return bj(i, e) } }; function vj(n, e) { const t = n.body; if (!t) throw new Error("No response body in AppsWithAccessPageIntentController response"); const i = [], r = Qe.string("FUSE.Settings.SDK.AppsAccess.delete.DT", e), s = JSON.parse(t); if (!s) throw new Error("Unable to parse response body in AppsWithAccessPageIntentController response"); const o = it("Apps With Access Collection ID", e), l = s.data.attributes.appList; return l == null || l.forEach(u => { const c = u.id, d = u.name; if (!c || !d) { de.warn(e, "Dropping App with access because of missing id or app name"); return } const f = qe("Apps with Access Page", c, e), g = { $kind: "removeItemAction", sectionIdentifier: o, itemIdentifier: f, actionMetrics: Ve }, h = mj(Ve, c), v = { id: f, appName: d, appID: c, buttonTitle: r, segue: { $kind: "compoundAction", subactions: [g, h], actionMetrics: Ve } }; i.push(v) }), pj(o, i) } function bj(n, e) { const t = Pc(), i = { id: qe("PageFooterButton", "Apps with Access Page", e), title: Qe.string("Done", e), segue: t }, r = [], s = vj(n, e); if (s && s.items.length > 0) r.push(s); else { const o = it("apps-with-access-empty-header-description", e), a = Co(o, null, { text: null, textAlignment: er.Centered, id: qe(o, "find-friends-results-empty-header-description-item", e) }); r.push(a) } return { pageMetrics: { instructions: [{ data: { topic: void 0, shouldFlush: !1, fields: { eventType: "page" }, includingFields: ["pageFields", "languages"], excludingFields: [] }, invocationPoints: [mr.PageInvocationPoint.pageEnter] }], pageFields: { pageType: "Apps witth Access" }, custom: {} }, sections: r, header: { title: Qe.string("FUSE.Settings.SDK.AppsAccess.Header.DT", e), showSeparator: !1 }, footer: { primaryButton: i } } } const yj = { $intentKind: "RemoveAppWithAccessIntent", async perform(n, e) { var t; const i = (t = nt.revokeMusicSDKAuthorizationSrv(e)) !== null && t !== void 0 ? t : "https://play.itunes.apple.com/WebObjects/MZPlay.woa/wa/revokeMusicSDKAuthorizationSrv"; if (!i) throw new Error("Bag key: revokeMusicSDKAuthorizationSrv was not available"); const r = JSON.stringify({ musicId: n.appID }); return { success: (await _1({ url: i, method: "POST", headers: { "Content-Type": "application/json" }, body: r }, e)).ok } } }, wj = { $intentKind: "UpdateNotificationSettingsIntent", async perform(n, e) { const t = new je("/v1/me/account", e), r = { attributes: { notificationSettings: { push: { "notifications.music.account.artistsAndShows": n.artistsAndShowsNotifications, "notifications.music.account.friends": n.friendsNotifications } } } }, s = JSON.stringify(r); let o; try { o = await pt({ url: t.string, body: s, method: "PATCH" }, e) } catch (l) { return de.error(e, "Failed to update user account notification settings, failing silently. Error: ", l), { success: !0 } } const a = o.statusCode; return (!a || o.body == null || a !== 204) && de.error(e, `Failed to update user account notification settings, failing silently. Response body: '${JSON.stringify(o)}'`), { success: !0 } } }, kj = { $intentKind: "RefreshLiveStationsIntent", async perform(n, e) { return de.log(e, `Refreshing live stations for reason "${n.reason}".`), await Dj(n, y1(e)) } }; async function Dj(n, e) { var t, i; const r = n.descriptors; if (yt(r) || r.length === 0) return de.warn(e, "Expected descriptors to be present"), { instruction: { instruction: "noOperation" } }; const s = r.filter(v => { var b, y; return tt((y = (b = v.item.contentDescriptor) === null || b === void 0 ? void 0 : b.identifiers) === null || y === void 0 ? void 0 : y.storeAdamID) }), o = s.map(v => { var b, y; return (y = (b = v.item.contentDescriptor) === null || b === void 0 ? void 0 : b.identifiers) === null || y === void 0 ? void 0 : y.storeAdamID }); if (o.length === 0) return de.warn(e, `Expected identifiers in descriptors: '${JSON.stringify(r)}'`), { instruction: { instruction: "noOperation" } }; const a = nt.countryCode(e), l = new je(`/v1/catalog/${a}/${z.Stations}`, e); l.queryString.addParameters({ ids: o.join(","), "meta[stations]": "inflectionPoints", "omit[resource]": "autos", fields: "inflectionPoints,airTime,supportsAirTimeUpdates" }); const u = await Jt(l, e), c = (t = u.body) === null || t === void 0 ? void 0 : t.resources; if (yt(c)) return de.warn(e, `Expected resources in response: '${JSON.stringify(u)}'`), { instruction: { instruction: "noOperation" } }; const d = (i = u.body) === null || i === void 0 ? void 0 : i.data; if (yt(d) || d.length === 0) return de.warn(e, `Expected resource identifiers in response: '${JSON.stringify(u)}'`), { instruction: { instruction: "noOperation" } }; const f = new gt(c, e), g = []; o.forEach((v, b) => { if (tt(v)) { const y = s[b], k = f.resourceWithID(v, z.Stations); if (tt(k)) { Sg(y, k, e); const S = Sc(k, e); Sj(S, y.item.topLeadingBadge) || (y.item.topLeadingBadge = S, g.push(y)) } } }); const h = PL(ma({ storefront: null, language: null }), !0, n.initialPageExpirationDate, e), m = tt(h) ? { operation: "replace", newRules: h } : null; return g.length === 0 ? (de.log(e, "No badge changes found. No items were replaced"), { instruction: { instruction: "noOperation" }, invalidationRulesChange: m }) : { instruction: { instruction: "updateItems", items: g }, invalidationRulesChange: m } } function Sj(n, e) { return (n == null ? void 0 : n.color) === (e == null ? void 0 : e.color) && (n == null ? void 0 : n.text) === (e == null ? void 0 : e.text) } function Cj(n, e, t, i, r) { const s = [], o = it(`live-radio-schedule - ${n}`, i); return e.forEach(a => { var l, u, c; const d = a.attributes; if (!d) { de.warn(i, `Dropping live radio schedule item with id '${a.id}' and type '${a.type}', missing resource attributes.`); return } const f = (c = (u = (l = a.relationships) === null || l === void 0 ? void 0 : l.curator) === null || u === void 0 ? void 0 : u.data) === null || c === void 0 ? void 0 : c[0], g = t.resource(f); let h, m; g ? h = rt(g, i) : f && (h = mc(f, i)), yt(m) && yt(h) && (h = rt(n, i)), h && (m = _o(h, "ShelfItem", null, i)), m || de.warn(i, `Station event with id '${a.id}' missing curator, no segue can be constructed.`); const v = N0(a, i) ? "tintColor" : "default", b = { id: qe(o, a.id, i), headline: nI(a, i), headlineColor: v, title: d.title, subtitle: As(d), artwork: st(d.artwork, zt.SpecificRectangle), contentDescriptor: h, segue: m, accessibilityLabel: d.name, numberOfSocialBadges: 3 }; s.push(b) }), s.length === 0 ? null : { id: o, itemKind: "horizontalLockup", presentation: { kind: "collection", layout: "grid" }, header: cn(r), items: s } } function Pj(n, e, t) { var i, r, s, o; const a = (i = n.body) === null || i === void 0 ? void 0 : i.data; if (!a || a.length === 0) throw new Error("No resource identifiers in radio schedule page response."); const l = (r = n.body) === null || r === void 0 ? void 0 : r.resources; if (!l) throw new Error("No resource map in radio schedule page response."); const u = new gt(l, t), c = u.resource(a[0]), d = (o = ug((s = c == null ? void 0 : c.attributes) === null || s === void 0 ? void 0 : s.name)) !== null && o !== void 0 ? o : "", f = Qe.string("FUSE.Radio.Station.Schedule", t, { stationName: d }); if (!c) throw new Error("No station resource in radio schedule page response."); let g = iI(c, u, t); if (!g || g.length === 0) throw new Error("No ordered station events in radio schedule page response."); g = g.filter(m => tI(m, t)); const h = Cj(c, g, u, t, f); if (!h) throw new Error("No section built from radio schedule page response."); return { pageMetrics: tn(t, n, "schedule", "Schedule", u), sections: [h], canonicalURL: Ej(e) } } const { routes: Aj, makeCanonicalUrl: Ej } = js(O0, "/radio/{id}"), Ij = { $intentKind: "LiveRadioSchedulePageIntent", routes: Aj, async perform(n, e) { const t = nt.countryCode(e), i = new je(`v1/catalog/${t}/stations/${n.id}`, e); i.queryString.artworkURL.add(hn.OmitCropCode), i.queryString.addParameters({ "include[stations]": "events", include: "curator" }); const r = await Jt(i, e); return Pj(r, n, e) }, actionFor(n, e, t) { var i; const r = (i = t.metrics) !== null && i !== void 0 ? i : un(e, "0", "unknown", "navigate"), s = At({ kind: vt.CatalogPage, intent: n }, r); return t.isDeepLinkAction ? Lt(pr({ kind: bt.Radio }, s, e), Ve) : s } }, Mj = { $intentKind: "RefreshLiveRadioShelfItemIntent", async perform(n, e) { de.log(e, `Refreshing Live Radio Shelf Item for reason "${n.reason}".`); const t = n.invalidatedItemIDs; if (!t || t.length === 0) return de.warn(e, "No invalidated item IDs present."), { instruction: { instruction: "noOperation" } }; const i = t[0], r = rI(i, n.station, n.orderedStationEvents, e); if (!r) return { instruction: { instruction: "noOperation" } }; const s = { instruction: { instruction: "updateItems", itemKind: "horizontalPosterLockup", items: [r.lockup] } }, o = r.invalidationEventTrigger; return o && (s.invalidationRulesChange = { operation: "add", newRules: { eventTriggers: [o] } }), s } }; function Lj(n, e) { if (!Vn(e)) return n; const t = { ...bn(n.canonicalURL, e), description: Qe.string("FUSE.Meta.RadioLanding.PageDescription", e), pageTitle: Qe.string("FUSE.Meta.RadioLanding.PageTitle", e), socialDescription: Qe.string("FUSE.Meta.RadioLanding.PageDescription.Social", e), socialTitle: Qe.string("FUSE.Meta.RadioLanding.PageTitle.Social", e) }; return { ...n, seoData: t } } function HL(n) { return { ...n, $kind: "RadioPageIntent" } } function Tj(n) { return n.$kind === "RadioPageIntent" } const Rj = { filterEditorialElementKind(n, e, t) { return n !== Zt.HeroListShelf ? !0 : !t.resources(e).some(r => { var s; return ((s = r.attributes) === null || s === void 0 ? void 0 : s.editorialElementKind) === Zt.LiveRadioShelf }) } }; async function Fj(n, e, t) { const i = t.adding(Q0, Rj), r = await j0(n, i), s = Ge(Ue.localization, t); return { pageMetrics: tn(t, n, "grouping", "Genre"), sections: r, header: { showAccountButton: !1, title: s.string("FUSE.Radio.Pageheader"), showSeparator: !1 }, invalidationRules: _g(e, !0, n.expirationDate) } } async function Oj(n) { return $M("radio", n) } const { routes: Nj, makeCanonicalUrl: eb } = Ei(HL, "/radio", []), Bj = { $intentKind: "RadioPageIntent", routes: Nj, async perform(n, e) { const t = await Oj(e), i = await Fj(t, n, e), r = eb(n); return Lj({ ...i, canonicalURL: r }, e) }, actionFor(n, e, t) { var i; const r = (i = t.metrics) !== null && i !== void 0 ? i : un(e, "0", "unknown", "navigate"), s = At({ kind: vt.CatalogPage, intent: n }, r); return t.isDeepLinkAction ? Lt(pr({ kind: bt.Radio }, s, e), Ve) : s }, staticCanonicalUrlFor(n, e) { return eb(n) } }, Uj = { $intentKind: "RefreshRecentlyPlayedRadioIntent", async perform(n, e) { de.log(e, `Refreshing Recently Played Radio for reason "${n.reason}".`); const t = await GE(e); if (!t) return { instruction: { instruction: "noOperation" } }; const i = OM(t, n.id, e, n.title); if (!i) throw new Error("Couldn't create recently played radio section."); return { instruction: { instruction: "replaceSection", newSection: i } } } }, Ag = { $intentKind: "RadioStationPlaybackIntent", routes(n) { return [{ rules: [{ path: "/station/{id}", query: ["l?"] }, { path: "/station/{name}/{id}", query: ["l?"] }, { path: "/{storefront}/station/{id}", query: ["l?"] }, { path: "/{storefront}/station/{name}/{id}", query: ["l?"] }, { path: "/WebObjects/MZStore.woa/wa/viewRadioStation", query: ["id", "cc"] }], handler: (e, t) => { var i; const r = t.id; return { $kind: "RadioStationPlaybackIntent", contentDescriptor: { kind: x.RadioStation, identifiers: { storeAdamID: r }, locale: qt({ storefront: (i = t.storefront) !== null && i !== void 0 ? i : t.cc, language: t.l }, n) } } } }] }, async perform(n, e) { const t = Rt(n.contentDescriptor, e); if (!t) throw new Error(`Unable to create play action from radio playback intent: ${JSON.stringify(n)}`); return t }, actionFor(n, e, t) { return Rt(n.contentDescriptor, e) } }; function $L(n) { const e = n; return e ? e == null ? void 0 : e.map(t => { const i = t; if (!i) return null; const r = i.timestamp; return r ? { timestamp: new Date(Date.parse(r)), contentDescriptor: i.contentDescriptor } : null }).filter(tt) : null } function Hj({ id: n, term: e, text: t, headline: i, disclaimer: r, footer: s, links: o, queryContext: a, impressionMetrics: l = null }) { return !t && !i ? null : { id: n, term: e, text: t, headline: i, links: o, footer: s, disclaimer: r, queryContext: a, impressionMetrics: l } } function $j(n, e = null, t) { return { id: n, items: [t], itemKind: "searchQueryContextLockup", presentation: { kind: "single" }, displaySeparator: !1, header: cn(e) } } var Dr; (function (n) { n.Square = "square", n.Circle = "circle", n.Brick = "brick" })(Dr || (Dr = {})); function Vj(n, e, t, i) { var r, s, o, a; const l = (r = n == null ? void 0 : n.results) === null || r === void 0 ? void 0 : r.queryContext; if (yt(l)) return null; const u = (o = (s = n == null ? void 0 : n.results) === null || s === void 0 ? void 0 : s.queryContext) === null || o === void 0 ? void 0 : o.text; if (yt(u) || u.length === 0) return null; const c = l.citations; if (tt(c) && c.length > 3) return null; const d = c == null ? void 0 : c.map(g => zj(g, e, t, i)), f = (a = l.links) === null || a === void 0 ? void 0 : a.map(g => qj(g, e, t, i)); return { headline: l.highlight, content: u, disclaimer: l.disclaimer, links: f, footer: d, queryContext: l } } function zj(n, e, t, i) { var r; return { id: qe(e, n.source, i), segue: En(n.url, n.source, i, { external: !0, actionMetrics: { data: [{ topic: void 0, shouldFlush: !1, fields: { actionContext: "searchQueryContext", actionType: "navigate", actionUrl: (r = n.url) !== null && r !== void 0 ? r : "", eventType: "click", searchTerm: t, targetId: "Source", targetType: "link" }, includingFields: ["pageFields", "languages"], excludingFields: [] }], custom: {} } }), title: n.source, displayStyle: "text" } } function qj(n, e, t, i) { var r; return { id: qe(e, n.label, i), segue: En(n.url, n.label, i, { external: !0, actionMetrics: { data: [{ topic: void 0, shouldFlush: !1, fields: { actionContext: "searchQueryContext", actionType: "navigate", actionUrl: (r = n.url) !== null && r !== void 0 ? r : "", eventType: "click", searchTerm: t, targetId: "Source", targetType: "link" }, includingFields: ["pageFields", "languages"], excludingFields: [] }], custom: {} } }), title: n.label, displayStyle: "text" } } var Kt; (function (n) { n.TopResults = "top", n.Artist = "artist", n.Album = "album", n.Song = "song", n.Curator = "curator", n.Category = "category", n.Playlist = "playlist", n.Profile = "profile", n.RadioEpisode = "radio_episode", n.RadioShow = "radio_show", n.RecordLabel = "record_label", n.Station = "station", n.MusicVideo = "music_video", n.VideoExtra = "video_extra", n.LibraryAlbums = "library-albums", n.LibraryPlaylists = "library-playlists", n.LibrarySongs = "library-songs", n.LibraryArtists = "library-artists", n.LibraryMusicVideos = "library-music-videos" })(Kt || (Kt = {})); async function VL(n, e) { const t = nt.countryCode(e), i = nt.ampMusicAPIDomainsCatalogSearchResults(e), r = new je(`/v1/catalog/${t}/search`, e, i); return r.queryString.addParameters({ term: n, limit: "21" }), r.queryString.extend.add("artistUrl"), r.queryString.with.add("serverBubbles"), r.queryString.with.add("lyrics"), r.queryString.with.add("lyricHighlights"), r.queryString.artworkURL.add(hn.OmitFileExtension), r.queryString.addParameters({ "art[music-videos:url]": hn.OmitCropCode, "relate[albums]": "artists", "include[albums]": "artists", "include[music-videos]": "artists", "include[stations]": "radio-show", "relate[songs]": "albums", "fields[artists]": "url,name,artwork", "fields[albums]": "artistName,artistUrl,artwork,contentRating,editorialArtwork,editorialNotes,name,playParams,releaseDate,url,trackCount", "include[songs]": "artists", "omit[resource]": "autos" }), r.queryString.with.add("subtitles").add("naturalLanguage"), [z.Activities, z.Albums, z.AppleCurators, z.Artists, z.Curators, z.EditorialItems, z.MusicMovies, z.MusicVideos, z.Playlists, z.RecordLabels, z.Songs, z.Stations, z.TVEpisodes, z.UploadedVideos].forEach(r.queryString.types.add, r.queryString.types), await pt({ url: r.string, method: "GET" }, e) } async function zL(n, e) { const t = nt.countryCode(e), i = new je(`/v1/social/${t}/search`, e); return i.queryString.addParameters({ term: n, limit: "21" }), i.queryString.with.add("serverBubbles"), i.queryString.with.add("lyrics"), i.queryString.artworkURL.add(hn.OmitFileExtension), i.queryString.addParameters({ "art[social-profiles:url]": "c" }), [z.Playlists, z.SocialProfiles].forEach(i.queryString.types.add, i.queryString.types), await pt({ url: i.string, method: "GET" }, e) } async function Wj(n, e, t) { const i = new je("/v1/me/library/search", t); return i.queryString.addParameters({ term: n, limit: "21", "include[library-artists]": "catalog", "fields[library-artists]": "url,name,artwork" }), i.queryString.types.add(e.toString()), await pt({ url: i.string, method: "GET" }, t) } function Ac(n, e, t, i) { if (yt(n.groupId) || yt(n.next)) return null; const r = { $kind: "SearchResultsSeeAllPageIntent", term: e, type: t, title: n.name }; return At({ kind: vt.CatalogPage, intent: r }, un(i, "seeAll", "button", "navigate")) } function qL(n, e, t) { var i, r, s; switch (n.type) { case z.Albums: case z.LibraryAlbums: case z.MusicVideos: return Gi(n, e, t); case z.UploadedVideos: case z.MusicMovies: return Dt((i = An(n.attributes)) !== null && i !== void 0 ? i : (r = n.attributes) === null || r === void 0 ? void 0 : r.artistName); case z.Playlists: case z.LibraryPlaylists: return Dt((s = n.attributes) === null || s === void 0 ? void 0 : s.curatorName); case z.TVEpisodes: case z.TVSeasons: case z.TVShows: case z.Stations: return Dt(X0(n, e)); case z.Curators: case z.AppleCurators: case z.EditorialItems: return Dt(An(n.attributes)); default: return null } } function WL(n, e, t) { var i, r, s, o; const a = rq(n, t); switch (n) { case x.Album: case x.ArtistUploadedVideo: case x.Movie: case x.MusicVideo: case x.RadioStation: case x.Song: case x.TVEpisode: case x.TVSeason: case x.TVShow: case x.Playlist: { const l = (r = (i = e.attributes) === null || i === void 0 ? void 0 : i.artistName) !== null && r !== void 0 ? r : (s = e.attributes) === null || s === void 0 ? void 0 : s.curatorName; return l ? Qe.string("AMWEB.ContentA.Middot.ContentB", t, { contentA: a, contentB: l }) : a } case x.Curator: case x.AppleCurator: switch ((o = e.attributes) === null || o === void 0 ? void 0 : o.kind) { case "Show": return Qe.string("IXDisplayableKind.iTunesBrand.Show.one", t); case "Genre": return Qe.string("FUSE.Search.Category", t); default: return a }default: return a } } var Qi; (function (n) { n[n.Playback = 0] = "Playback", n[n.Navigation = 1] = "Navigation" })(Qi || (Qi = {})); function Hs(n, e, t, i, r, s) { var o, a, l; const u = { timestamp: new Date, contentDescriptor: n }, c = Ge(Ue.storage, r), d = c.getItem(Qr.User.RecentlySearchedItems), f = (o = $L(d)) !== null && o !== void 0 ? o : [], m = [c.setItemAction(Qr.User.RecentlySearchedItems, [...f, u]), { $kind: "invalidationAction", actionMetrics: Ve, scope: "global", kind: "recentCatalogSearchesChanged" }], v = s != null ? s : "ShelfItem"; let b; switch (t) { case Qi.Playback: const k = Rt(n, r, i); if (!k) return null; b = k; break; case Qi.Navigation: if (!B0(e.type, r)) return null; b = Wt(n, e, v, r), ((l = (a = e.attributes) === null || a === void 0 ? void 0 : a.link) === null || l === void 0 ? void 0 : l.target) === "external" ? b = En(e.attributes.link.url, e.id, r, { external: !0 }) : e.type === z.LibraryArtists && (n != null && n.url) && (b = _c(n == null ? void 0 : n.url, e.id, v, r)); break }b && m.push(b); let y = n ? Zs(r, n, v, "navigate") : un(r, e.id, v, "navigate"); return b && t === Qi.Navigation && (y = { data: [], custom: {} }), Lt(m, y) } function rl(n) { var e, t, i, r, s, o, a, l, u, c; return (l = (o = (t = (e = n.attributes) === null || e === void 0 ? void 0 : e.previewArtwork) !== null && t !== void 0 ? t : (s = (r = (i = n.attributes) === null || i === void 0 ? void 0 : i.movieClips) === null || r === void 0 ? void 0 : r[0]) === null || s === void 0 ? void 0 : s.previewArtwork) !== null && o !== void 0 ? o : (a = n.attributes) === null || a === void 0 ? void 0 : a.artwork) !== null && l !== void 0 ? l : (c = (u = n.attributes) === null || u === void 0 ? void 0 : u.editorialArtwork) === null || c === void 0 ? void 0 : c.brandLogo } function Kj(n, e, t, i, r, s) { var o, a; let l = n.data; if (!l) { de.warn(t, `Dropping top search results with groupId '${n.groupId}', missing resource identifiers.`); return } i && (l = l.slice(0, i)); const u = [], c = it(`top-search-section - ${(o = n.groupId) !== null && o !== void 0 ? o : ""}`, t); if (e.resourcesAndIdentifiers(l).forEach(([f, g]) => { let h; h = eG(f, g, c, e, t), tt(h) && u.push(h) }), u.length === 0) return null; const d = Ac({ ...n, next: (a = n.next) !== null && a !== void 0 ? a : "" }, s != null ? s : "", Kt.TopResults, t); return { id: c, presentation: { kind: "collection", layout: { kind: "shelf", numberOfRows: 1 } }, header: cn(n.name, d), hideCategories: r, itemKind: "topSearchLockup", items: u, displaySeparator: !1 } } function KL(n) { const e = n.attributes; if (yt(e)) return Dr.Square; switch (n.type) { case z.Artists: case z.SocialProfiles: case z.RecordLabels: return Dr.Circle; case z.AppleCurators: case z.Curators: switch (e.kind) { case "Show": case "Genre": return Dr.Square; default: return Dr.Circle }case z.MusicVideos: case z.UploadedVideos: case z.TVEpisodes: case z.TVSeasons: case z.MusicMovies: return Dr.Brick; default: return Dr.Square } } function Jj(n, e, t, i, r, s) { var o; const a = n.data; if (!a) { de.warn(s, `Dropping bubble search results with groupId '${n.groupId}', missing resource identifiers.`); return } const l = [], u = it(`bubble-section - ${(o = n.groupId) !== null && o !== void 0 ? o : ""}`, s); if (r.resourcesAndIdentifiers(a).forEach(([f, g]) => { var h, m, v, b, y, k, S, C, P, M; let R = rl(f); const F = rt(f, s, r), N = (m = (h = f.attributes) === null || h === void 0 ? void 0 : h.name) !== null && m !== void 0 ? m : (b = (v = f.attributes) === null || v === void 0 ? void 0 : v.editorialNotes) === null || b === void 0 ? void 0 : b.name, O = tt((y = f.attributes) === null || y === void 0 ? void 0 : y.handle) ? `@${(k = f.attributes) === null || k === void 0 ? void 0 : k.handle}` : null, B = i; if (k1(t)) { const U = (P = (C = (S = f.relationships) === null || S === void 0 ? void 0 : S.catalog) === null || C === void 0 ? void 0 : C.data) === null || P === void 0 ? void 0 : P[0], K = r.resource(U); if (R = K ? rl(K) : null, F && t === Kt.LibraryArtists) { const W = nt.countryCode(s); F.url = `https://music.apple.com/${W}/library/artists/${f.id}` } } l.push({ id: qe(u, g.id, s, B), headline: Sl("subtitle", g), title: N, subtitle: O, artwork: st(R), contentDescriptor: F, segue: Hs(F, f, Qi.Navigation, u, s), accessibilityLabel: (M = f.attributes) === null || M === void 0 ? void 0 : M.name }) }), l.length === 0) return null; const c = i ? "grid" : { kind: "shelf", numberOfRows: 1 }, d = Ac(n, e, t, s); return { id: u, presentation: { kind: "collection", layout: c }, header: cn(n.name, d), itemKind: "bubbleLockup", items: l, displaySeparator: !1 } } function Yj(n, e, t, i, r, s) { var o; const a = n.data; if (!a) { de.warn(s, `Dropping square lockup search results with groupId '${n.groupId}', missing resource identifiers.`); return } const l = [], u = it(`square-section - ${(o = n.groupId) !== null && o !== void 0 ? o : ""}`, s); if (r.resourcesAndIdentifiers(a).forEach(([f, g]) => { var h, m, v, b, y, k; const S = rt(f, s, r), C = rl(f), P = (m = (h = f.attributes) === null || h === void 0 ? void 0 : h.name) !== null && m !== void 0 ? m : (b = (v = f.attributes) === null || v === void 0 ? void 0 : v.editorialNotes) === null || b === void 0 ? void 0 : b.name, M = t === Kt.Curator ? go.Small : go.Regular, R = i; l.push({ id: qe(u, g.id, s, R), headline: Sl("subtitle", g), titleLinks: Dt(P), subtitleLinks: qL(f, r, s), artwork: st(C), contentDescriptor: S, segue: Hs(S, f, Qi.Navigation, u, s), playAction: Hs(S, f, Qi.Playback, u, s), numberOfSocialBadges: 3, displayStyle: M, accessibilityLabel: (y = f.attributes) === null || y === void 0 ? void 0 : y.name, showExplicitBadge: Vt(f.attributes), trackCount: (k = f.attributes) === null || k === void 0 ? void 0 : k.trackCount }) }), l.length === 0) return null; const c = i ? "grid" : { kind: "shelf", numberOfRows: 1 }, d = Ac(n, e, t, s); return { id: u, presentation: { kind: "collection", layout: c }, header: cn(n.name, d), itemKind: "squareLockup", items: l, displaySeparator: !1 } } function Xj(n, e, t, i, r, s) { var o; const a = n.data; if (!a) { de.warn(s, `Dropping vertical video lockup search results with groupId '${n.groupId}', missing resource identifiers.`); return } const l = [], u = it(`vertical-video-section - ${(o = n.groupId) !== null && o !== void 0 ? o : ""}`, s); if (r.resourcesAndIdentifiers(a).forEach(([f, g]) => { var h, m, v, b, y; const k = rt(f, s, r), S = rl(f), C = (m = (h = f.attributes) === null || h === void 0 ? void 0 : h.name) !== null && m !== void 0 ? m : (b = (v = f.attributes) === null || v === void 0 ? void 0 : v.editorialNotes) === null || b === void 0 ? void 0 : b.name, P = i; l.push({ id: qe(u, g.id, s, P), headline: Sl("subtitle", g), titleLinks: Dt(C), subtitleLinks: qL(f, r, s), artwork: st(S), contentDescriptor: k, segue: Hs(k, f, Qi.Navigation, u, s), playAction: Hs(k, f, Qi.Playback, u, s), accessibilityLabel: (y = f.attributes) === null || y === void 0 ? void 0 : y.name, showExplicitBadge: Vt(f.attributes) }) }), l.length === 0) return null; const c = i ? "grid" : { kind: "shelf", numberOfRows: 1 }, d = Ac(n, e, t, s); return { id: u, presentation: { kind: "collection", layout: c }, header: cn(n.name, d), itemKind: "verticalVideoLockup", items: l, displaySeparator: !1 } } function Zj(n, e, t, i, r, s) { const o = e.name, a = Ac(e, i, r, s), l = cn(o, a); return bc(t, n, 3, l) } function Qj(n, e, t, i, r, s) { var o; const a = n.data; if (!a) { de.warn(s, `Dropping track lockup search results with groupId '${n.groupId}', missing resource identifiers.`); return } const l = [], u = it(`track-section - ${(o = n.groupId) !== null && o !== void 0 ? o : ""}`, s); return r.resourcesAndIdentifiers(a).forEach(([c, d]) => { var f, g, h, m; const v = rt(c, s, r), b = rl(c), y = YL(d, s), k = i ? kc(c, s) : Dt(y), S = i; l.push({ id: qe(u, d.id, s, S), headline: Sl("subtitle", d), title: (g = (f = c.attributes) === null || f === void 0 ? void 0 : f.name) !== null && g !== void 0 ? g : (m = (h = c.attributes) === null || h === void 0 ? void 0 : h.editorialNotes) === null || m === void 0 ? void 0 : m.name, subtitleLinks: Gi(c, r, s), tertiaryLinks: k, artwork: st(b), contentDescriptor: v, segue: Hs(v, c, Qi.Navigation, u, s), playAction: Hs(v, c, Qi.Playback, u, s), pauseAction: xi(), resumeAction: Wi(), duration: TM(i, c), layoutStyle: RM(i), isDisabled: wc(c, s), showExplicitBadge: Vt(c.attributes) }) }), l.length === 0 ? null : i ? iM(l, u, s) : Zj(l, n, u, e, t, s) } function w1(n, e, t, i, r, s) { var o; const a = (o = t.results) === null || o === void 0 ? void 0 : o[e.toString()]; if (!a) throw new Error(`No relationship contents found for type: '${e}'`); switch (e) { case Kt.TopResults: return Kj(a, r, s, mt.maxNumberOfTopResults(s), t.meta.results.hideCategories, n); case Kt.Profile: case Kt.Artist: case Kt.LibraryArtists: case Kt.RecordLabel: case Kt.Curator: return Jj(a, n, e, i, r, s); case Kt.Album: case Kt.LibraryAlbums: case Kt.Playlist: case Kt.LibraryPlaylists: case Kt.RadioEpisode: case Kt.Station: case Kt.Category: case Kt.RadioShow: return Yj(a, n, e, i, r, s); case Kt.MusicVideo: case Kt.VideoExtra: return Xj(a, n, e, i, r, s); case Kt.Song: case Kt.LibrarySongs: return Qj(a, n, e, i, r, s); default: return null } } function JL(n, e, t, i) { var r, s, o; const a = (s = (r = e == null ? void 0 : e.meta) === null || r === void 0 ? void 0 : r.results) === null || s === void 0 ? void 0 : s.order, l = [], u = xj(n, e, i); tt(u) && l.push(u), a == null || a.forEach(b => { const y = w1(n, b, e, !1, t, i); y && l.push(y) }); const c = l.length > 0, d = l.length === 1 && l[0].itemKind === "searchQueryContextLockup"; if (!c || d) { const b = Gj(e, n, i); yt(b) ? l.push(...jj(n, i)) : l.push(...b) } const f = nt.countryCode(i), g = nt.ampMusicAPIDomainsCatalogSearchResults(i), h = new je(`/v1/catalog/${f}/search`, i, g); h.queryString.addParameters({ term: n, limit: "21" }); const m = { dataSetId: (o = e.meta.metrics) === null || o === void 0 ? void 0 : o.dataSetId, pageDetails: { hasResults: c }, searchTerm: n, pageUrl: h.string }; return { pageMetrics: tn(i, e, "search_results", "Search", t, "searchResultsMain", m), sections: l } } function jj(n, e) { const t = it("search-results-empty-header", e), i = xs(t, { title: Qe.string("FUSE.Search.NoResults.PageHeader", e), contentDescriptor: null, hideContextMenuButton: !0, textAlignment: er.Centered, id: qe(t, "search-results-empty-header-item", e) }), r = it("search-results-empty-header-description", e), s = Co(r, null, { text: Qe.string("FUSE.Search.NoResults.TryAgain", e), textAlignment: er.Centered, id: qe(r, "search-results-empty-header-description-item", e) }); return [i, s] } function Gj(n, e, t) { var i, r; const s = [], o = (r = (i = n == null ? void 0 : n.meta) === null || i === void 0 ? void 0 : i.results) === null || r === void 0 ? void 0 : r.reason; if (yt(o)) return null; const a = o.text; if (yt(a) || a.length === 0) return null; const l = it("search-results-empty-header", t), u = xs(l, { title: Qe.string("FUSE.Search.NoResults.PageHeader", t), contentDescriptor: null, hideContextMenuButton: !0, textAlignment: er.Centered, id: qe(l, "search-results-empty-header-item", t) }); s.push(u); const c = it("search-results-empty-header-description", t), d = Co(c, null, { text: o.text, textAlignment: er.Centered, id: qe(c, "search-results-empty-header-description-item", t) }); return s.push(d), s } function Sl(n, e) { var t; const i = (t = e.meta) === null || t === void 0 ? void 0 : t.snippets; if (yt(i)) return null; const r = i.find(s => s.kind === n); return r == null ? void 0 : r.text } function YL(n, e) { const t = Sl("lyric", n); return yt(t) ? null : Qe.string("FUSE.DT.Search.LyricsColon.Raw", e, { lyricSnippet: t }) } function k1(n) { return [Kt.LibraryAlbums, Kt.LibraryPlaylists, Kt.LibrarySongs, Kt.LibraryArtists, Kt.LibraryMusicVideos].includes(n) } function xj(n, e, t) { var i; const r = it(`query-context-section - ${n}`, t), s = Vj(e, r, n, t); if (yt(s)) return null; const o = Hj({ id: qe("query-context-paragraph-component", n, t), term: n, text: s.content, headline: s.headline, disclaimer: s.disclaimer, footer: s.footer, links: s.links, queryContext: (i = e == null ? void 0 : e.results) === null || i === void 0 ? void 0 : i.queryContext, impressionMetrics: null }); return o ? $j(r, null, o) : null } function eG(n, e, t, i, r) { var s, o, a, l, u; const c = rt(n, r, i), d = c == null ? void 0 : c.kind, f = rl(n), g = tt(d) ? WL(d, n, r) : null, h = YL(e, r), m = !((s = n.attributes) === null || s === void 0) && s.inLibrary ? Qe.string("Fuse.Music.Search.FromYourLibrary", r) : null, v = Sl("subtitle", e); return { id: qe(t, e.id, r), headline: v, subtitle: g, itemKind: n.type, subheadline: h != null ? h : m, artwork: st(f), title: (a = (o = n.attributes) === null || o === void 0 ? void 0 : o.name) !== null && a !== void 0 ? a : (u = (l = n.attributes) === null || l === void 0 ? void 0 : l.editorialNotes) === null || u === void 0 ? void 0 : u.name, contentDescriptor: c, segue: Hs(c, n, Qi.Navigation, t, r, "ContentListItem"), playAction: Hs(c, n, Qi.Playback, t, r), showExplicitBadge: Vt(n.attributes), pauseAction: xi(), resumeAction: Wi(), artworkTreatment: KL(n) } } async function tG(n, e, t) { const i = []; let r = "SearchLanding"; const s = await XL(t); s && (s.items.length > 0 && (r = "Recent"), i.push(s)); const o = cG(e, t); o && i.push(o); const a = BE(e.body, t); return { pageMetrics: tn(t, e, "search", "Search", null, r, a), sections: i, invalidationRules: _g(n, !0, e.expirationDate) } } async function XL(n) { const e = await iG(n), t = nG(n), i = { id: it("top-search-section", n), itemKind: "topSearchLockup", presentation: { kind: "collection", layout: "grid" }, items: e, header: { kind: "default", item: { titleLink: { title: Qe.string("FUSE.Search.RecentlySearched", n) }, accessoryButtons: t } }, invalidationRules: { eventTriggers: [{ events: [{ name: "recentLibrarySearchesDidChange" }, { name: "invalidationAction", kind: "recentCatalogSearchesChanged", scope: "global" }], intent: { $kind: "RefreshRecentSearchesIntent" } }] }, displaySeparator: !1 }; return Promise.resolve(i) } function nG(n) { const t = Ge(Ue.storage, n).setItemAction(Qr.User.RecentlySearchedItems, []), s = Lt([{ $kind: "removeRecentLibrarySearchesAction", actionMetrics: Ve }, t, { actionMetrics: Ve, scope: "global", kind: "recentCatalogSearchesChanged", $kind: "invalidationAction" }], un(n, "clear", "button", "delete")), o = Qe.string("FUSE.Search.Clear", n); return [$0("clearButton", o, s)] } async function iG(n) { var e; const t = Ge(Ue.storage, n), r = Ge(Ue.recentLibrarySearchesProvider, n).retrieveRecentLibrarySearches(), s = t.getItem(Qr.User.RecentlySearchedItems); let a = (e = $L(s)) !== null && e !== void 0 ? e : []; r.length && (a = r.concat(a)), a.sort((c, d) => d.timestamp.getTime() - c.timestamp.getTime()); const l = new Set; a = a.filter(c => { var d, f, g, h, m, v, b; if (mt.hasPlatformSpecificRecentlySearched(n) && (!((d = c.contentDescriptor) === null || d === void 0) && d.identifiers.cloudUniversalLibraryID) && ((f = c.contentDescriptor) === null || f === void 0 ? void 0 : f.kind) === "song") return !1; const y = (v = (h = (g = c.contentDescriptor) === null || g === void 0 ? void 0 : g.identifiers.storeAdamID) !== null && h !== void 0 ? h : (m = c.contentDescriptor) === null || m === void 0 ? void 0 : m.identifiers.cloudUniversalLibraryID) !== null && v !== void 0 ? v : (b = c.contentDescriptor) === null || b === void 0 ? void 0 : b.identifiers.libraryPersistentID; return l.has(y) ? !1 : l.add(y) }), a = a.slice(0, oG(n)); const u = a.map(c => c.contentDescriptor).filter(tt); return await aG(u, a, n) } const rG = 6, sG = 10; function oG(n) { return mt.hasCustomizedSearchLandingPage(n) && E0(n) ? sG : rG } async function aG(n, e, t) { if (!n.length) return []; const i = nt.countryCode(t), r = new je(`/v1/catalog/${i}`, t), s = {}; if (n.forEach(l => { var u; const c = x0(l.kind, t); if (c !== z.SocialProfiles && c) { const d = `ids[${c}]`, f = (u = l.identifiers.storeAdamID) !== null && u !== void 0 ? u : l.identifiers.libraryPersistentID; s[d] ? s[d] += `,${f}` : s[d] = `${f}` } }), !Object.keys(s).length) return de.log(t, `No content identifiers found for '${JSON.stringify(n)}'`), []; r.queryString.artworkURL.add(hn.OmitFileExtension), r.queryString.addParameters({ "art[music-videos:url]": hn.OmitCropCode, fields: "artwork,artistName,url,name,playParams,inLibrary,contentRating,requiresSubscription,kind,editorialArtwork,postUrl,movieClips", "relate[songs]": "albums", "include[albums]": "tracks", "include[library-albums]": "tracks", include: "artists,curator", "include[editorial-items]": "contents", "fields[editorial-items]": "editorialNotes", "omit[resource]": "autos", ...s }); const o = await pt({ url: r.string }, t), a = lG(o, n, t); if (mt.hasPlatformSpecificRecentlySearched(t)) { const u = await Ge(Ue.recentLibrarySearchesProvider, t).retrieveRecentLibrarySearches(e, t), c = [...a, ...u]; return c.sort((d, f) => { var g, h; const m = (g = e.find(b => { var y, k, S, C; const P = (y = b == null ? void 0 : b.contentDescriptor) === null || y === void 0 ? void 0 : y.identifiers, M = (S = (k = P == null ? void 0 : P.storeAdamID) !== null && k !== void 0 ? k : P == null ? void 0 : P.cloudUniversalLibraryID) !== null && S !== void 0 ? S : P == null ? void 0 : P.storeCloudAlbumID; if (M) return (C = f.id) === null || C === void 0 ? void 0 : C.includes(M) })) === null || g === void 0 ? void 0 : g.timestamp, v = (h = e.find(b => { var y, k, S, C; const P = (y = b == null ? void 0 : b.contentDescriptor) === null || y === void 0 ? void 0 : y.identifiers, M = (S = (k = P == null ? void 0 : P.storeAdamID) !== null && k !== void 0 ? k : P == null ? void 0 : P.cloudUniversalLibraryID) !== null && S !== void 0 ? S : P == null ? void 0 : P.storeCloudAlbumID; if (M) return (C = d.id) === null || C === void 0 ? void 0 : C.includes(M) })) === null || h === void 0 ? void 0 : h.timestamp; return m && v ? m.getTime() - v.getTime() : -1 }), Promise.resolve(c) } else return Promise.resolve(a) } function lG(n, e, t) { var i; const r = (i = n.body) === null || i === void 0 ? void 0 : i.resources; if (!r) return de.warn(t, `No resources found for MAPI response: '${JSON.stringify(n)}'`), []; const s = []; return e.forEach(o => { var a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M; const R = x0(o.kind, t), F = (a = o.identifiers.storeAdamID) !== null && a !== void 0 ? a : o.identifiers.libraryPersistentID, N = "top-search-lockup"; if (R && F) { const O = (l = r[R]) === null || l === void 0 ? void 0 : l[F]; if (O) { const B = (c = (u = O.attributes) === null || u === void 0 ? void 0 : u.inLibrary) !== null && c !== void 0 ? c : !1, U = uG(o.url) ? En(o.url, null, t, { external: !0 }) : Wt(o, O, "ContentListItem", t), K = (f = (d = O.attributes) === null || d === void 0 ? void 0 : d.previewArtwork) !== null && f !== void 0 ? f : (m = (h = (g = O.attributes) === null || g === void 0 ? void 0 : g.movieClips) === null || h === void 0 ? void 0 : h[0]) === null || m === void 0 ? void 0 : m.previewArtwork, W = (b = (v = O.attributes) === null || v === void 0 ? void 0 : v.editorialArtwork) === null || b === void 0 ? void 0 : b.brandLogo, Z = (k = K != null ? K : (y = O.attributes) === null || y === void 0 ? void 0 : y.artwork) !== null && k !== void 0 ? k : W, Q = { id: qe(N, F, t), artwork: st(Z), contentDescriptor: o, itemKind: O.type, playAction: Rt(o, t), segue: U, showExplicitBadge: Vt(O.attributes), title: (C = (S = O.attributes) === null || S === void 0 ? void 0 : S.name) !== null && C !== void 0 ? C : (M = (P = O.attributes) === null || P === void 0 ? void 0 : P.editorialNotes) === null || M === void 0 ? void 0 : M.name, subtitle: WL(o.kind, O, t), subheadline: B ? Qe.string("Fuse.Music.Search.FromYourLibrary", t) : null, pauseAction: xi(), resumeAction: Wi(), artworkTreatment: KL(O), isAOD: _r(O) }; nr(O) && (Q.radioStation = { isLiveRadio: Lr(O), isBroadcastRadio: Tr(O), isRadioEpisode: _i(O) }), s.push(Q) } } }), s } function uG(n) { if (!n) return !1; try { return new Ln(n).host !== "music.apple.com" } catch (e) { return !1 } } function cG(n, e) { var t, i; const r = (t = n.body) === null || t === void 0 ? void 0 : t.data; if (!r || r.length === 0) throw new Error("No resource identifiers in Listen Now response"); const s = (i = n.body) === null || i === void 0 ? void 0 : i.resources; if (!s) throw new Error("No resource map in Listen Now response"); const o = []; let a; return r.forEach(l => { var u, c, d; const f = (u = s[l.type]) === null || u === void 0 ? void 0 : u[l.id]; if (!f) { de.warn(e, `Search Landing page response missing resource for id "${l.id}".`); return } const g = (d = (c = f.attributes) === null || c === void 0 ? void 0 : c.display) === null || d === void 0 ? void 0 : d.kind; switch (g) { case ti.NamedBrickShelf: { const h = dG(f, s, e); h && (o.push(...h.brickLockups), a || (a = h == null ? void 0 : h.title)); break } default: de.warn(e, `Unsupported display kind "${g}". Dropping personal recommendation.`) } }), o.length ? { id: it("browse-category-bricks", e), itemKind: "brickLockup", presentation: { kind: "collection", layout: "grid" }, items: o, header: cn(a), style: "regular" } : (de.warn(e, `No brick lockups were generated for response: '${JSON.stringify(n)}'`), null) } function dG(n, e, t) { var i, r, s; const o = n.attributes, a = (i = o == null ? void 0 : o.title) === null || i === void 0 ? void 0 : i.stringForDisplay, l = (s = (r = n.relationships) === null || r === void 0 ? void 0 : r.contents) === null || s === void 0 ? void 0 : s.data, u = []; return l == null || l.forEach(d => { var f; const g = (f = e[d.type]) === null || f === void 0 ? void 0 : f[d.id]; if (!g) { de.warn(t, `Missing resource ${d.type} ${d.id} for recommendation item.`); return } const h = fG(g, t); h && u.push(h) }), { brickLockups: u, title: a } } function fG(n, e) { var t, i; const r = n.attributes; if (!r) return null; const s = (t = r == null ? void 0 : r.editorialArtwork) === null || t === void 0 ? void 0 : t.subscriptionHero; if (!(s != null && s.url)) return de.warn(e, `Missing artwork for resource id ${n.id}`), null; const o = rt(n, e), a = Wt(o, n, "Category", e); let l; switch (n.type) { case z.AppleCurators: { l = r == null ? void 0 : r.shortName; break } case z.EditorialItems: { l = (i = r == null ? void 0 : r.editorialNotes) === null || i === void 0 ? void 0 : i.name; break } case z.Activities: { l = r == null ? void 0 : r.name; break } default: de.warn(e, `"${n.type}" resource type unsupported, dropping personal recommendation item with id "${n.id}".`) }return { id: qe("brick-lockup", n.id, e), artwork: st(s), title: l, contentDescriptor: o, segue: a, accessibilityLabel: r == null ? void 0 : r.name } } const gG = { $intentKind: "RefreshRecentSearchesIntent", async perform(n, e) { const t = await XL(e); return t ? { instruction: { instruction: "replaceSection", newSection: t } } : { instruction: { instruction: "discardSection" } } } }; function ZL(n) { return { ...n, $kind: "SearchLandingPageIntent" } } const { routes: hG, makeCanonicalUrl: tb } = Ei(ZL, "/search", [], { exclusions: [{ query: ["term"] }] }), pp = { $intentKind: "SearchLandingPageIntent", routes: hG, async perform(n, e) { const t = nt.countryCode(e), i = nt.ampMusicAPIDomainsCatalogSearchLanding(e), r = new je(`/v1/recommendations/${t}`, e, i); r.queryString.addParameters({ name: "search-landing", "omit[resource]": "autos" }), r.queryString.extend.add("editorialArtwork"), r.queryString.artworkURL.add(hn.OmitCropCode).add(hn.OmitFileExtension), r.queryString.types.add(z.Activities).add(z.AppleCurators).add(z.EditorialItems); const s = await pt({ url: r.string }, e); return { ...await tG(n, s, e), canonicalURL: tb(n) } }, actionFor(n, e, t) { const i = { kind: vt.CatalogPage, intent: n }, r = At(i, t.metrics); return t.isDeepLinkAction ? Lt(pr({ kind: bt.Search }, r, e, { rootControllerActionMetrics: t.metrics }), Ve) : r }, staticCanonicalUrlFor(n, e) { return tb(n) } }; function D1(n) { return { ...n, $kind: "SearchResultsPageIntent" } } const { routes: mG, makeCanonicalUrl: nb } = Ei(D1, "/search", ["term"]); function Uh(n, e, t) { var i, r; let s = e.results[n]; const o = t == null ? void 0 : t.results[n]; if (s) { const a = (i = o == null ? void 0 : o.data) !== null && i !== void 0 ? i : []; (r = s.data) === null || r === void 0 || r.push(...a) } else s = o; return s } const _p = { $intentKind: "SearchResultsPageIntent", routes: mG, async perform(n, e) { var t, i, r, s, o; const l = (wl(e) ? zL(n.term, e) : Promise.resolve(null)).catch(m => (de.error(e, "Social search failed", m), null)), [u, c] = await Promise.all([l, VL(n.term, e)]), d = c.body, f = u == null ? void 0 : u.body, g = new gt((t = c.body) === null || t === void 0 ? void 0 : t.resources, e); g.addResourceMap(f == null ? void 0 : f.resources, e), d != null && d.results && (d.results[Kt.Playlist] = Uh(Kt.Playlist, d, f), d.results[Kt.Profile] = Uh(Kt.Profile, d, f), d.results[Kt.TopResults] = Uh(Kt.TopResults, d, f)); const h = (s = (r = (i = d == null ? void 0 : d.meta) === null || i === void 0 ? void 0 : i.results) === null || r === void 0 ? void 0 : r.order) !== null && s !== void 0 ? s : []; return f != null && f.results && (f != null && f.results[Kt.Profile] && h.push(Kt.Profile), f != null && f.results[Kt.Playlist] && h.indexOf(Kt.Playlist) === -1 && h.push(Kt.Playlist)), !((o = d == null ? void 0 : d.meta) === null || o === void 0) && o.results && (d.meta.results.order = h), { ...JL(n.term, d, g, e), canonicalURL: nb(n) } }, actionFor(n, e, t) { const i = { kind: vt.SearchResults, searchParameters: { term: n.term }, storefront: n.storefront, language: n.language }, r = At(i, t.metrics); return t.isDeepLinkAction ? Lt([ri({ kind: bt.Search }, Ve, e), r], Ve) : r }, staticCanonicalUrlFor(n, e) { return nb(n) } }, pG = { $intentKind: "SearchResultsSeeAllPageIntent", async perform(n, e) { var t, i, r; let s; n.type === Kt.Profile ? s = await zL(n.term, e) : k1(n.type) ? s = await Wj(n.term, n.type, e) : s = await VL(n.term, e); const o = (t = s == null ? void 0 : s.body) === null || t === void 0 ? void 0 : t.resources; if (!o) throw new Error("No resource map in Search Results See All Response"); const a = new gt(o, e), l = w1(n.term, n.type, s.body, !0, a, e); dr.isSome(l) && Di(l.header) && dr.isSome(l.header.item.titleLink) && (l.header.item.titleLink = { title: l.header.item.titleLink.title, segue: null }); const u = []; let c; const d = (r = (i = s.body.results) === null || i === void 0 ? void 0 : i[n.type.toString()]) === null || r === void 0 ? void 0 : r.next; return d && (c = { $kind: "SearchResultsSeeAllPaginateIntent", term: n.term, groups: n.type, next: d }), l && u.push(l), { header: QI(u, n.title), pageMetrics: tn(e, s, "see_all", "SeeAll"), sections: u, nextIntent: c } } }, _G = { $intentKind: "SearchResultsSeeAllPaginateIntent", async perform(n, e) { var t, i, r; if (n.groups === Kt.Profile) return Promise.reject(); const s = nt.ampMusicAPIDomainsCatalogSearchSuggestions(e), o = new je(n.next, e, s); k1(n.groups) ? o.queryString.addParameters({ limit: "21", "fields[library-artists]": "url,name,artwork" }) : (o.queryString.artworkURL.add(hn.OmitFileExtension), o.queryString.addParameters({ "relate[songs]": "albums", "relate[albums]": "artists", "fields[artists]": "url,name,artwork", "fields[albums]": "artistName,artistUrl,artwork,contentRating,editorialArtwork,editorialNotes,name,playParams,releaseDate,url,trackCount", "omit[resource]": "autos", limit: "21", "include[songs]": "artists", "include[editorial-items]": "contents", "relate[editorial-items]": "contents" }), o.queryString.with.add("serverBubbles").add("lyrics"), o.queryString.extend.add("artistUrl"), [z.Activities, z.Albums, z.AppleCurators, z.Artists, z.Curators, z.MusicMovies, z.MusicVideos, z.Playlists, z.Songs, z.Stations, z.TVEpisodes, z.UploadedVideos].forEach(o.queryString.types.add, o.queryString.types)); const a = await pt({ url: o.string, method: "GET" }, e), l = (t = a.body) === null || t === void 0 ? void 0 : t.resources; if (!l) throw new Error("No resource map in Search Results See All Response"); const u = new gt(l, e), c = w1(n.term, n.groups, a.body, !0, u, e); if (c) { const f = { pageChangeInstruction: { instruction: { instruction: "addItemsToSection", newSectionToAppendItemsFrom: c } } }, g = (r = (i = a.body) === null || i === void 0 ? void 0 : i.results) === null || r === void 0 ? void 0 : r[n.groups.toString()].next; if (g) { const h = n; h.next = g, f.nextIntent = h } return Promise.resolve(f) } return Promise.reject() } }; function QL(n, e) { const t = []; let i = 0; const r = n.length; for (; i < r;)t.push(n.slice(i, i += e)); return t } const vG = 100, bG = { $intentKind: "FetchFullSocialProfilesIntent", async perform(n, e) { if (!n.identifiers.length) return Promise.reject(`Missing social profile identifiers for intent: ${JSON.stringify(n)}`); const i = QL(n.identifiers, vG).map(r => jL(r, e)); return Promise.all(i).then(r => { let s = []; for (const { resources: o = [] } of r) s = s.concat(o); return s }) } }; async function jL(n, e) { var t, i; const r = nt.countryCode(e), s = new je(`/v1/social/${r}/social-profiles`, e); s.queryString.artworkURL.add(hn.OmitCropCode), s.queryString.addParameters({ ids: n.join(",") }), s.queryString.extend.add("followState"); const o = await Jt(s, e), a = (t = o.body) === null || t === void 0 ? void 0 : t.data; if (!a || a.length === 0) throw new Error("No resource identifiers in Social Profile page response"); const l = (i = o.body) === null || i === void 0 ? void 0 : i.resources; if (!l) throw new Error("No resource map in Social Profile page response"); const u = new gt(l, e); return { isCachedResponse: og(o), resources: u.resourcesForType(z.SocialProfiles) } } const yG = 100, wG = { $intentKind: "FetchSocialProfilesIntent", async perform(n, e) { if (!n.identifiers.length) return Promise.reject(`Missing social profile identifiers for intent: ${JSON.stringify(n)}`); const i = QL(n.identifiers, yG).map(s => kG(s, e)), r = {}; return await Promise.all(i).then(s => { s.forEach(o => { Object.assign(r, o) }) }), { followStateMap: r } } }; async function kG(n, e) { const { isCachedResponse: t, resources: i } = await jL(n, e), r = {}; return t || i.forEach(s => { var o; const a = s.id, l = (o = s.attributes) === null || o === void 0 ? void 0 : o.followState; a && l && r && (r[a] = l) }), r } const DG = { $intentKind: "SocialBadgingMapIntent", async perform(n, e) { var t, i, r, s; const o = new je("/v1/social/badging-map", e); o.queryString.shouldIncludeLanguage = !1, o.queryString.addParameters({ "omit[resource]": "autos" }); const a = n.shouldIgnoreCache === !0 ? "no-cache" : "default", l = await pt({ url: o.string, method: "GET", cache: a }, e), u = l.expirationDate; if (!u) return Promise.reject("Failed to fetch badging map.  Missing expiration date from response headers"); const c = (i = (t = l.body) === null || t === void 0 ? void 0 : t.meta) === null || i === void 0 ? void 0 : i.versionHash; if (!c) return Promise.reject("Failed to fetch badging map.  Missing version hash from response body"); const d = (s = (r = l.body) === null || r === void 0 ? void 0 : r.results) === null || s === void 0 ? void 0 : s.badgingMap; return d ? { expirationDate: u, versionHash: c, contents: d } : Promise.reject(`Failed to fetch badging map.  Missing badging map contents from response: '${JSON.stringify(l.body)}'`) } }; var Gr; (function (n) { n[n.unknown = 0] = "unknown", n[n.success = 202] = "success", n[n.incorrectAuthenticationHeader = 401] = "incorrectAuthenticationHeader", n[n.incorrectAuthentication = 403] = "incorrectAuthentication", n[n.conflict = 409] = "conflict", n[n.serverError = 500] = "serverError" })(Gr || (Gr = {})); var jd; (function (n) { n.Accept = "accept", n.Reject = "reject" })(jd || (jd = {})); const SG = { $intentKind: "BlockRequestIntent", async perform(n, e) { const t = new je("/v1/me/social/profile/blocked-profiles", e), r = { data: [{ id: n.socialProfileID, type: z.SocialProfiles }] }, s = JSON.stringify(r), a = (await pt({ url: t.string, body: s, method: "POST" }, e)).statusCode; return { responseCode: a != null ? a : Gr.unknown } } }, CG = { $intentKind: "CancelFollowRequestIntent", async perform(n, e) { const t = new je("/v1/me/social/profile/pending-followees", e), r = { data: [{ id: n.socialProfileID, type: z.SocialProfiles }] }, s = JSON.stringify(r), a = (await pt({ url: t.string, body: s, method: "DELETE" }, e)).statusCode; return { responseCode: a != null ? a : Gr.unknown } } }, PG = { $intentKind: "FollowRequestIntent", async perform(n, e) { const t = new je("/v1/me/social/profile/followees", e), r = { data: n.socialProfileIDs.map(u => ({ id: u, type: z.SocialProfiles })) }, s = JSON.stringify(r), a = (await pt({ url: t.string, body: s, method: "POST" }, e)).statusCode; return { responseCode: a != null ? a : Gr.unknown } } }, AG = { $intentKind: "FollowRequestResponseIntent", async perform(n, e) { const t = n.followResponseAction, i = t === jd.Accept ? "/v1/me/social/profile/followers" : "/v1/me/social/profile/pending-followers", r = t === jd.Accept ? "POST" : "DELETE", s = new je(i, e), a = { data: [{ id: n.socialProfileID, type: z.SocialProfiles }] }, l = JSON.stringify(a), c = (await pt({ url: s.string, body: l, method: r }, e)).statusCode; return { responseCode: c != null ? c : Gr.unknown } } }; function EG(n, e) { return { id: n, itemKind: "socialProfileDetailHeaderLockup", presentation: { kind: "single" }, items: [e] } } function IG(n, e) { const t = { $kind: "SocialOnboardingFindFriendsPageIntent", ignoreSocialOnboardingFlow: !0 }, i = G0({ kind: vt.CatalogPage, intent: t }, Ve), r = { id: qe(n, "Find More Friends Button", e), buttonTitle: Qe.string("FUSE.Social.Onboarding.FindandFollow.Button.FindMore", e), segue: i }; return { id: n, itemKind: "socialProfileFindFriendsButtonComponentModel", presentation: { kind: "single" }, items: [r] } } function MG(n, e) { return { id: n, itemKind: "socialProfileViewFollowRequestsHeader", presentation: { kind: "single" }, items: [e] } } async function LG(n, e, t) { var i, r, s, o; if (!Vn(t)) return n; if (e != null && e.attributes) { let m = function () { return l != null && l.title ? l.title : c ? u.string("FUSE.Social.Profile.Meta.PageTitle", { fullName: c }) : h == null ? void 0 : h.pageTitle }, v = function () { if (l != null && l.description) return l.description; const R = d ? "Private" : "Public"; return u.string(`FUSE.Social.Profile.Meta.Description.${R}`) }, b = function () { return l != null && l.title ? l.title : k }, y = function () { return l != null && l.socialDescription ? l.socialDescription : S }; const a = e.id, l = await vi(a, z.SocialProfiles, t), u = Ge(Ue.localization, t), c = e.attributes.name, d = (i = e.attributes.isPrivate) !== null && i !== void 0 ? i : !1, g = ((r = e.attributes.isVerified) !== null && r !== void 0 ? r : !1) ? "cv" : "cw", h = bn(n.canonicalURL, t), k = m(), S = v(), C = b(), P = y(), M = { ...h, pageTitle: k, description: S, keywords: u.string("FUSE.Social.Profile.Meta.PageKeywords"), noFollow: !!d, appleContentId: a, appleTitle: c != null ? c : h == null ? void 0 : h.pageTitle, appleDescription: S, fileType: "jpg", artworkUrl: (o = (s = e.attributes.artwork) === null || s === void 0 ? void 0 : s.url) !== null && o !== void 0 ? o : Ai.url, crop: g, twitterCropCode: g, ogType: "social.profile", socialTitle: C, socialDescription: P }; return { ...n, seoData: M } } return n } var Gd; (function (n) { n.Following = "following", n.NotFollowing = "notFollowing", n.Requested = "requested", n.Blocked = "blocked", n.BlockedBy = "blockedBy", n.Self = "self" })(Gd || (Gd = {})); function TG(n) { return { ...n, $kind: "UserSocialProfileIntent" } } function RG(n, e, t) { const i = n.attributes; if (!i) { de.warn(t, `Dropping header in social profile with id "${n.id}", missing attributes data.`); return } const r = rt(n, t); return { id: qe("SocialProfileDetailHeader", n.id, t), artwork: st(i.artwork, zt.SpecificRectangle), contentDescriptor: r, title: i.name, handle: i.handle, isPrivate: i.isPrivate, isVerified: i.isVerified } } function FG(n, e, t) { const i = RG(n, e, t); if (!i) { de.warn(t, `Could not generate social profile lockup with id "${n.id}"`); return } const r = it(`social-profile-header-section - ${n.id}`, t); return EG(r, i) } function GL(n, e, t, i) { var r, s, o, a, l; const u = (s = (r = n.attributes) === null || r === void 0 ? void 0 : r.handle) !== null && s !== void 0 ? s : "", c = rt(n, t); return { id: qe(e, n.id, t, i), artwork: st((o = n.attributes) === null || o === void 0 ? void 0 : o.artwork), title: (a = n.attributes) === null || a === void 0 ? void 0 : a.name, subtitle: `@${u}`, contentDescriptor: c, segue: Wt(c, n, "ShelfItem", t), accessibilityLabel: (l = n.attributes) === null || l === void 0 ? void 0 : l.name } } function ib(n, e, t, i, r, s, o, a = { kind: "shelf", numberOfRows: 1 }) { const l = e.data; if (!l) { de.warn(o, `Dropping shelf in social profile with id "${n.id}", missing views data.`); return } const u = it(`${i} - ${n.id} `, o), c = new gt(s, o), d = !1, f = c.resources(l).map(g => GL(g, u, o, d)); return f.length === 0 ? null : { id: u, itemKind: "bubbleLockup", presentation: { kind: "collection", layout: a }, items: f, header: { kind: "default", item: { titleLink: { title: t, segue: a === "grid" ? null : eT(e, "bubbleLockup", t, u, !1, o) } } }, displaySeparator: !1 } } function xL(n, e, t, i, r, s) { var o, a, l, u, c, d, f, g; const h = rt(i, r), m = { id: qe(n, i.id, r, s), artwork: st((o = i.attributes) === null || o === void 0 ? void 0 : o.artwork, zt.BoundedBox), contentDescriptor: h, playAction: Rt(h, r), segue: Wt(h, i, "ShelfItem", r), numberOfSocialBadges: t ? 3 : 0, showExplicitBadge: Vt(i == null ? void 0 : i.attributes), accessibilityLabel: (a = i == null ? void 0 : i.attributes) === null || a === void 0 ? void 0 : a.name, trackCount: (l = i == null ? void 0 : i.attributes) === null || l === void 0 ? void 0 : l.trackCount, isAOD: _r(i) }; switch (nr(i) && (m.radioStation = { isLiveRadio: Lr(i), isBroadcastRadio: Tr(i), isRadioEpisode: _i(i) }), i.type) { case z.Albums: case z.MusicMovies: Object.assign(m, { title: (u = i.attributes) === null || u === void 0 ? void 0 : u.name, subtitle: e ? (c = i.attributes) === null || c === void 0 ? void 0 : c.artistName : null }); break; case z.Playlists: Object.assign(m, { title: (d = i.attributes) === null || d === void 0 ? void 0 : d.name, subtitle: e ? (f = i.attributes) === null || f === void 0 ? void 0 : f.curatorName : null }); break; case z.Stations: case z.TVShows: Object.assign(m, { title: (g = i.attributes) === null || g === void 0 ? void 0 : g.name }); break; default: de.warn(r, `"${i.type}" resource type unsupported, dropping social profile view item with id "${i.id}".`); return }return m } function rb(n, e, t, i, r, s, o, a, l = { kind: "shelf", numberOfRows: 1 }) { const u = e.data; if (!u) { de.warn(a, `Dropping shelf in social profile with id "${n.id}", missing views data.`); return } const c = !1, d = it(`${i} - ${n.id} `, a), f = []; return new gt(o, a).resources(u).forEach(h => { const m = xL(d, r, s, h, a, c); m && f.push(m) }), f.length === 0 ? null : { id: d, itemKind: "squareLockup", presentation: { kind: "collection", layout: l }, items: f, header: { kind: "default", item: { titleLink: { title: t, segue: l === "grid" ? null : eT(e, "squareLockup", t, d, !1, a) } } }, displaySeparator: !1 } } function eT(n, e, t, i, r, s) { const o = n.href; if (!o || !tt(n.next) || !(e === "bubbleLockup" || e === "squareLockup")) return null; const l = { $kind: "SocialProfileSeeAllPageIntent", url: o, title: t, lockupType: e, needsSocialGraphEventTrigger: r }; return At({ kind: vt.CatalogPage, intent: l }, un(s, "seeAll", "button", "navigate", { actionUrl: o })) } function OG(n, e, t, i) { const r = [], s = n.attributes, o = n.relationships, a = Ge(Ue.localization, i); if (o) { const l = o["shared-playlists"]; if (l && l.data) { const f = a.string("FUSE.Social.Playlist"), g = rb(n, l, f, "shared-playlists", !1, !1, e, i); g && r.push(g) } const u = o["listening-to"]; if (u && u.data) { const f = a.string("FUSE.Social.ListeningTo"), g = rb(n, u, f, "listening-to", !0, !0, e, i); g && r.push(g) } const c = o.followers; if (c && c.data) { const f = a.string("FUSE.Social.Followers"), g = ib(n, c, f, "followers", !0, e, i); g && r.push(g) } const d = o.followees; if (d && d.data) { const f = a.string("FUSE.Social.Following"), g = ib(n, d, f, "following", !0, e, i); g && r.push(g) } } if (!t && mt.supportsRichSocialProfilePage(i) && r.length === 0 && s && s.isPrivate) { const l = it(`Private profile paragraph section - ${n.id}`, i), u = Co(l, null, { id: qe("Private Profile Paragraph description", n.id, i), text: a.string("FUSE.Social.AwaitingApproval.Description"), textAlignment: er.Centered }); r.push(u) } return r } function NG(n, e, t) { var i, r, s; const o = [], a = (r = (i = n.attributes) === null || i === void 0 ? void 0 : i.pendingFollowersCount) !== null && r !== void 0 ? r : 0, l = (s = n.relationships) === null || s === void 0 ? void 0 : s["pending-followers"]; if (a > 0 && l && l.data) { new gt(e, t).resources(l.data).forEach(f => { const g = rt(f, t); g && o.push(g) }); const c = { id: qe("Social Profile Page", "view-follower-requests-header", t), pendingRequestCount: a, pendingFollowers: o }, d = it(`view-follower-requests-header - ${n.id}`, t); return MG(d, c) } return null } function tT(n, e, t, i) { var r, s, o, a, l; const u = (r = n.body) === null || r === void 0 ? void 0 : r.data; o1(u, "Social Profile"); const c = (s = n.body) === null || s === void 0 ? void 0 : s.resources; if (!c) throw new Error("No resource map in Social Profile page response"); const d = u[0], f = (o = c[d.type]) === null || o === void 0 ? void 0 : o[d.id]; if (!f) throw new Error("No resource identifier for Social Profile in page response"); const g = (a = f.attributes) === null || a === void 0 ? void 0 : a.followState, h = t || g === Gd.Self; let m = null; !og(n) && g && (m = {}, new gt(c, i).resourcesForType(z.SocialProfiles).forEach(R => { var F; const N = R.id, O = (F = R.attributes) === null || F === void 0 ? void 0 : F.followState; N && O && m && (m[N] = O) })); const v = [], b = NG(f, c, i); b && v.push(b); const y = FG(f, c, i); if (y) v.push(y); else throw new Error("Unable to create Social Profile page header."); const k = OG(f, c, h, i); v.push(...k), t && v.push(IG(it(f.id, i), i)); const S = e; S.preferredCachePolicy = "no-cache"; const C = [{ events: [{ name: "socialGraphChange" }], intent: zi(S, "Social Graph Changed") }], P = { pageMetrics: tn(i, n, "social_profile", "SocialProfile"), sections: v, invalidationRules: { eventTriggers: C }, followStateMap: m, canonicalURL: (l = f == null ? void 0 : f.attributes) === null || l === void 0 ? void 0 : l.url }; return LG(P, f, i) } function BG(n, e = !1) { return { $kind: "SocialProfilePageIntent", handle: n, isOwner: e } } const UG = { $intentKind: "SocialProfilePageIntent", routes() { return [{ rules: [{ path: "/profile/{handle}", query: ["l?"] }, { path: "/{storefront}/profile/{handle}", query: ["l?"] }], handler: (n, e) => BG(e.handle) }] }, async perform(n, e) { var t, i, r; de.log(e, `Social profile page ${(t = n.contentDescriptor) === null || t === void 0 ? void 0 : t.identifiers.socialProfileID} ${n.handle}`); let s = (i = n.contentDescriptor) === null || i === void 0 ? void 0 : i.identifiers.socialProfileID, o = n.isOwner; const a = n.handle; if (a) { const d = await nT(a, e); d && (s = d.socialProfileID, o = d.isOwner) } let l = new je("/v1/me/social/profile", e); if (!o && s) { const d = nt.countryCode(e); l = new je(`/v1/social/${d}/social-profiles`, e), l.queryString.addParameters({ ids: s, include: "followers,followees,shared-playlists,listening-to" }), l.queryString.extend.add("followState") } else l.queryString.addParameters({ include: "followers,followees,pending-followers,shared-playlists,listening-to" }), l.queryString.extend.add("pendingFollowersCount").add("followState"); l.queryString.shouldIncludeTimezoneOffset = !1; const u = (r = n.preferredCachePolicy) !== null && r !== void 0 ? r : n.isOwner ? "no-cache" : "default", c = await pt({ url: l.string, cache: u }, e); return tT(c, n, o, e) }, actionFor(n, e, t) { const i = { kind: vt.CatalogPage, intent: n }, r = At(i, t.metrics); return t.isDeepLinkAction ? Lt([ri({ kind: bt.Home }, Ve, e), r], Ve) : r } }; async function nT(n, e) { var t, i, r; const s = new je("/v1/social/us/social-profiles", e); s.queryString.addParameters({ "filter[handle]": n }), s.queryString.extend.add("followState"); const o = await Jt(s, e), a = (t = o.body) === null || t === void 0 ? void 0 : t.resources, l = (i = o.body) === null || i === void 0 ? void 0 : i.data; if (!a || !l) return null; const u = a["personal-social-profiles"]; if (u) { const d = u.me; if (!d) throw new Error("No personal social profile resource identifier in response"); return { socialProfileID: d.id, isOwner: !0 } } const c = a["social-profiles"]; if (c) { const d = l[0], f = c[d.id]; return { socialProfileID: d.id, isOwner: ((r = f.attributes) === null || r === void 0 ? void 0 : r.followState) === Gd.Self } } return null } const HG = { $intentKind: "CheckSocialHandleAvailabilityIntent", async perform(n, e) { var t; const i = await nT(n.userHandle, e); if (tt(i)) { const r = new je("/v1/me/social/suggested-handles", e), o = (await Jt(r, e)).body; if (!o) throw new Error("No response body in suggested handle request"); const a = o.results; return { userHandleAvailable: !1, suggestedHandle: (t = a == null ? void 0 : a.suggestedHandles) === null || t === void 0 ? void 0 : t[0] } } else return { userHandleAvailable: !0 } } }; function $G(n = Ve) { return { $kind: "findFriendsBatchFollowAction", actionMetrics: n } } function S1(n = Ve) { return { $kind: "popAction", actionMetrics: n } } function VG(n, e, t) { return { id: n, itemKind: "socialOnboardingFindFriendsPageLockup", displaySeparator: !0, presentation: { kind: "collection", layout: "list" }, header: { kind: "default", item: { titleLink: { title: e } } }, items: t } } const zG = { $intentKind: "SocialOnboardingFindFriendsPageIntent", async perform(n, e) { var t; const i = Ge(Ue.findFriendsContactsProvider, e), r = (t = n.ignoreSocialOnboardingFlow) !== null && t !== void 0 ? t : !1; try { const s = await i.contactsDictionary(); return Promise.resolve(ab(s, r, e)) } catch (s) { return de.error(e, "findFriendsContactsProvider.contactsDictionary failed. Error details: ", s), Promise.resolve(ab([], r, e)) } } }; function sb(n, e, t) { if (n.length === 0) return null; const i = Ge(Ue.localization, t), r = []; n.forEach(a => { var l, u; const c = a.name, d = a.socialProfileId, f = a.contactId; if (!c || !d || !f) return; const g = a.localContactId, h = (u = (l = a.reason) === null || l === void 0 ? void 0 : l.stringForDisplay) !== null && u !== void 0 ? u : i.string("FUSE.Social.Onboarding.FindandFollow.Explanation.Private"), m = e ? i.string("FUSE.Social.Onboarding.FindandFollow.Contacts.Invite") : i.string("FUSE.Social.Follow"), v = { id: qe(`SocialOnboardingFindFriendsLockup - ${d}`, f, t), title: c, artwork: st(a.profileImage), subtitle: e ? null : h, buttonTitle: m, socialProfileID: d, localContactIdentifier: g, canBeInvited: e }; r.push(v) }); const s = e ? i.string("FUSE.Social.Onboarding.FindandFollow.Contacts.Invite") : i.string("FUSE.Social.Onboarding.FindandFollow.Contacts.Header1"), o = it(e ? "SocialOnboardingFindFriends - Invite" : "SocialOnboardingFindFriends - Find Friends", t); return VG(o, s, r) } function ob(n, e) { return yt(n.name) ? yt(e.name) ? 0 : -1 : yt(e.name) ? 1 : n.name.localeCompare(e.name) } function qG(n) { const e = new Set, t = []; for (const i of n) tt(i.socialProfileId) && (e.has(i.socialProfileId) || (e.add(i.socialProfileId), t.push(i))); return t } function ab(n, e, t) { var i, r, s, o, a, l, u, c; const d = Ge(Ue.localization, t), f = []; let g; if (e) g = Lt([$G(), Pc()], Ve); else { const P = { $kind: "SocialOnboardingPrivacySettingsPageIntent" }; g = At({ kind: vt.CatalogPage, intent: P }, Ve) } const h = { id: qe("PageFooterButton", "Social Onboarding Notification Settings Page - Primary Button", t), title: e ? d.string("Done") : d.string("Next"), segue: g }; let m; if (!e) { const P = S1(); m = { id: qe("PageFooterButton", "Social Onboarding Notification Settings Page - Secondary Button", t), title: d.string("Back"), segue: P } } const v = (r = (i = n == null ? void 0 : n.friendsToFollow) === null || i === void 0 ? void 0 : i.friends) !== null && r !== void 0 ? r : []; ((o = (s = n == null ? void 0 : n.friendsToFollow) === null || s === void 0 ? void 0 : s.obeySortOrder) !== null && o !== void 0 ? o : !1) || v.sort(ob); const y = sb(v, !1, t); y && f.push(y); let k = (l = (a = n == null ? void 0 : n.contactsToInvite) === null || a === void 0 ? void 0 : a.contacts) !== null && l !== void 0 ? l : []; ((c = (u = n == null ? void 0 : n.contactsToInvite) === null || u === void 0 ? void 0 : u.obeySortOrder) !== null && c !== void 0 ? c : !1) || k.sort(ob), k = qG(k); const C = sb(k, !0, t); if (C && f.push(C), f.length === 0) { const P = it("find-friends-results-empty-header-description", t), M = Co(P, null, { text: d.string("FUSE.Social.NoContactsFound"), textAlignment: er.Centered, id: qe(P, "find-friends-results-empty-header-description-item", t) }); f.push(M) } return { pageMetrics: { instructions: [{ data: { topic: void 0, shouldFlush: !1, fields: { eventType: "page" }, includingFields: ["pageFields", "languages"], excludingFields: [] }, invocationPoints: [mr.PageInvocationPoint.pageEnter] }], pageFields: { pageType: "Social Onboarding - Find & follow friends" }, custom: {} }, sections: f, header: { title: d.string("FUSE.Social.Onboarding.FindandFollow.Header"), showSeparator: !1 }, footer: { primaryButton: h, secondaryButton: m } } } function WG(n = Ve) { return { $kind: "completeSocialOnboardingAction", actionMetrics: n } } function KG(n = Ve) { return { $kind: "updateNotificationSettingsAction", actionMetrics: n } } function JG(n) { return { id: n.id, itemKind: "socialOnboardingNotificationSettingsPageLockup", presentation: { kind: "single" }, items: [n] } } const YG = { $intentKind: "SocialOnboardingNotificationSettingsPageIntent", async perform(n, e) { var t; const i = new je("/v1/me/account", e); i.queryString.extend.add("notificationSettings"); const r = (t = n.ignoreSocialOnboardingFlow) !== null && t !== void 0 ? t : !1, [s, o] = await Promise.all([Jt(i, e), r ? null : XG(e)]); return ZG(s, o, e) } }; async function XG(n) { var e; if (!mt.supportsNewSocialProfilePageIntent(n)) return { $kind: "SocialProfilePageIntent", isOwner: !0 }; const { handle: t, id: i } = (e = await YM(n)) !== null && e !== void 0 ? e : {}; if (t) return co({ handle: t, storefront: null, language: null }); if (i) return co({ contentDescriptor: { kind: x.SocialProfile, identifiers: { socialProfileID: i }, locale: { storefront: null, language: null } } }); throw new Error("Expected userProfile to have handle or ID") } function ZG(n, e, t) { var i, r, s, o, a, l, u, c, d, f; const g = Ge(Ue.localization, t), h = KG(), m = WG(), v = Pc(); let b; if (!e) b = Lt([h, v], Ve); else { const N = At({ kind: vt.CatalogPage, intent: e }, Ve); b = Lt([h, m, v, N], Ve) } const y = { id: qe("PageFooterButton", "Social Onboarding Notification Settings Page - Primary Button", t), title: g.string("Done"), segue: b }, k = (r = (i = n.body) === null || i === void 0 ? void 0 : i.data) === null || r === void 0 ? void 0 : r[0]; if (!k) throw new Error("No resource identifier provided from /v1/me/account response"); const S = (s = n.body) === null || s === void 0 ? void 0 : s.resources; if (!S) throw new Error("No resourceMap provided from /v1/me/account response"); const C = (o = S[z.Accounts]) === null || o === void 0 ? void 0 : o[k.id]; if (!C) throw new Error("No accounts resource type found in resource provided for /v1/me/account response"); const P = C.attributes; P || de.warn(t, `No user account data provided from /v1/me/account response: ${JSON.stringify(n)}`); const M = [], R = { id: qe("SocialOnboardingNotificationSettingsPage", "me", t), friendActivity: (u = (l = (a = P == null ? void 0 : P.notificationSettings) === null || a === void 0 ? void 0 : a.push) === null || l === void 0 ? void 0 : l["notifications.music.account.friends"]) !== null && u !== void 0 ? u : !1, artistsAndShows: (f = (d = (c = P == null ? void 0 : P.notificationSettings) === null || c === void 0 ? void 0 : c.push) === null || d === void 0 ? void 0 : d["notifications.music.account.artistsAndShows"]) !== null && f !== void 0 ? f : !1, notificationDisclaimer: g.string("FUSE.Notifications.NextAppLaunch.Disclaimer") }; return M.push(JG(R)), { pageMetrics: { instructions: [{ data: { topic: void 0, shouldFlush: !1, fields: { eventType: "page" }, includingFields: ["pageFields", "languages"], excludingFields: [] }, invocationPoints: [mr.PageInvocationPoint.pageEnter] }], pageFields: { pageType: "Social Onboarding - Get updates you care about" }, custom: {} }, sections: M, header: { title: g.string("FUSE.Social.Onboarding.GetNotifications.Header"), showSeparator: !1 }, footer: { primaryButton: y } } } function QG(n = Ve) { return { $kind: "updateFindFriendsPrivacySettingsAction", actionMetrics: n } } function jG(n) { return { id: n.id, itemKind: "socialOnboardingPrivacySettingsPageLockup", presentation: { kind: "single" }, items: [n] } } const GG = { $intentKind: "SocialOnboardingPrivacySettingsPageIntent", async perform(n, e) { var t; const i = (t = n.ignoreSocialOnboardingFlow) !== null && t !== void 0 ? t : !1, r = new je("/v1/me/social/profile", e), s = await pt({ url: r.string }, e); return xG(s, i, e) } }; function xG(n, e, t) { var i, r, s, o, a, l; const u = (i = n.body) === null || i === void 0 ? void 0 : i.data; if (!u || u.length === 0) throw new Error("No resource identifiers in Social Onboarding page response"); const c = (r = n.body) === null || r === void 0 ? void 0 : r.resources; if (!c) throw new Error("No resource map in Social Onboarding page response"); const d = u[0], f = (s = c[d.type]) === null || s === void 0 ? void 0 : s[d.id]; if (!f) throw new Error("No resource identifier for Social Onboarding in page response"); const g = f.attributes; if (!g) throw new Error("No attributes for Social Onboarding in page response"); const h = [], m = (o = g.isPrivate) !== null && o !== void 0 ? o : !1, v = (a = g.isDiscoverableByContact) !== null && a !== void 0 ? a : !1, b = (l = g.isContactCheckAllowed) !== null && l !== void 0 ? l : !1, y = { id: qe("SocialOnboardingPrivacySettingsPageLockup", f.id, t), isPrivate: m, isDiscoverableByContact: v, isContactCheckAllowed: b, shouldDisplayUserSettings: !e, everyoneButtonText: Qe.string("FUSE.Social.Profile.ShareWith.Everyone.Header", t), peopleYouApproveButtonText: Qe.string("FUSE.Social.Profile.ShareWith.Restricted.header", t) }; if (y) h.push(jG(y)); else throw new Error("Unable to create Social Onboarding Privacy Settings Lockup."); let k; if (e) k = Lt([QG(), Pc()], Ve); else { const M = { $kind: "SocialOnboardingSharedPlaylistsPageIntent" }; k = At({ kind: vt.CatalogPage, intent: M }, Ve) } const S = { id: qe("PageFooterButton", "Social Onboarding Shared Playlist Page - Primary Button", t), title: e ? Qe.string("Done", t) : Qe.string("Next", t), segue: k }; let C; return e || (C = { id: qe("PageFooterButton", "Social Onboarding Shared Playlist Page - Secondary Button", t), title: Qe.string("Back", t), segue: S1() }), { pageMetrics: { instructions: [{ data: { topic: void 0, shouldFlush: !1, fields: { eventType: "page" }, includingFields: ["pageFields", "languages"], excludingFields: [] }, invocationPoints: [mr.PageInvocationPoint.pageEnter] }], pageFields: { pageType: "Social Onboarding - Choose who can follow you" }, custom: {} }, sections: h, header: { title: e ? Qe.string("FUSE.Settings.FindFriends.DT.Header", t) : Qe.string("FUSE.Social.Onboarding.HowYouShare.Header", t), showSeparator: !1 }, footer: { primaryButton: S, secondaryButton: C } } } function ex(n = Ve) { return { $kind: "hideAllPlaylistsAction", actionMetrics: n } } function tx(n, e) { return { id: n, itemKind: "socialOnboardingSharedPlaylistLockup", displaySeparator: !0, presentation: { kind: "collection", layout: "list" }, items: e } } const nx = { $intentKind: "SocialOnboardingSharedPlaylistsPageIntent", async perform(n, e) { const t = new je("/v1/me/social/profile", e); t.queryString.addParameters({ include: "shareable-playlists" }); const i = await pt({ url: t.string }, e); return rx(i, e) } }; function ix(n, e, t, i) { const r = e.data; if (!r) { de.warn(i, `Dropping shared playlists in social profile onboarding page with id "${n}", missing views data.`); return } const s = []; return new gt(t, i).resources(r).forEach(a => { var l, u, c, d; const f = rt(a, i), g = { id: qe(n, a.id, i), artwork: st((l = a.attributes) === null || l === void 0 ? void 0 : l.artwork, zt.BoundedBox), title: (u = a.attributes) === null || u === void 0 ? void 0 : u.name, isPublic: (d = (c = a.attributes) === null || c === void 0 ? void 0 : c.isPublic) !== null && d !== void 0 ? d : !1, contentDescriptor: f }; g && s.push(g) }), s.length === 0 ? null : tx(n, s) } function rx(n, e) { var t, i, r; const s = (t = n.body) === null || t === void 0 ? void 0 : t.data; if (!s || s.length === 0) throw new Error("No resource identifiers in Social Profile page response"); const o = (i = n.body) === null || i === void 0 ? void 0 : i.resources; if (!o) throw new Error("No resource map in Social Profile page response"); const a = s[0], l = (r = o[a.type]) === null || r === void 0 ? void 0 : r[a.id]; if (!l) throw new Error("No resource identifier for Social Profile in page response"); const u = l.id, c = Ge(Ue.localization, e), d = [], f = l.relationships; if (f) { const C = f["shareable-playlists"]; if (C && C.data && C.data.length > 0) { const P = ix(u, C, o, e); P && d.push(P) } else { const P = it("no-shared-playlists-header-description", e), M = Co(P, null, { text: c.string("FUSE.Social.Onboarding.SharePlaylists.NoPlaylists"), textAlignment: er.Centered, id: qe(P, "find-friends-results-empty-header-description-item", e) }); d.push(M) } } const g = { $kind: "SocialOnboardingNotificationSettingsPageIntent" }, h = At({ kind: vt.CatalogPage, intent: g }, Ve), m = { id: qe("PageFooterButton", "Social Onboarding Shared Playlists Page - Primary Button", e), title: c.string("Next"), segue: h }, v = S1(), b = { id: qe("PageFooterButton", "Social Onboarding Shared Playlists Page - Secondary Button", e), title: c.string("Back"), segue: v }, y = ex(), k = [$0(qe("Hide All Button", "me", e), c.string("FUSE.Social.Onboarding.SharePlaylists.HideAll"), y)]; return { pageMetrics: { instructions: [{ data: { topic: void 0, shouldFlush: !1, fields: { eventType: "page" }, includingFields: ["pageFields", "languages"], excludingFields: [] }, invocationPoints: [mr.PageInvocationPoint.pageEnter] }], pageFields: { pageType: "Social Onboarding - Show off your playlists" }, custom: {} }, sections: d, header: { title: c.string("FUSE.Social.Onboarding.SharePlaylists.Header"), showSeparator: !1, trailingAccessoryButtons: k }, footer: { primaryButton: m, secondaryButton: b } } } function sx(n) { return { id: n.id, itemKind: "socialOnboardingUserNameHandlePageLockup", presentation: { kind: "single" }, items: [n] } } const ox = { $intentKind: "SocialOnboardingUserNameHandlePageIntent", perform(n, e) { return Promise.resolve(ax(e)) } }; function ax(n) { const e = Ge(Ue.localization, n), t = [], i = { $kind: "SocialOnboardingFindFriendsPageIntent" }, r = At({ kind: vt.CatalogPage, intent: i }, Ve), s = { id: qe("PageFooterButton", "Social Onboarding User Name and Handle Page", n), title: e.string("FUSE.Social.FindContacts.CTA"), segue: r }, o = "SocialOnboarding.userNameAndHandle", a = { id: qe("SocialOnboardingUserNameHandlePageLockup", "me", n), editingScopeIdentifier: o }, l = sx(a); t.push(l); const u = Pc(), c = [$0(qe("Not Now Button", "me", n), e.string("FUSE.NotNow"), u)]; return { pageMetrics: { instructions: [{ data: { topic: void 0, shouldFlush: !1, fields: { eventType: "page" }, includingFields: ["pageFields", "languages"], excludingFields: [] }, invocationPoints: [mr.PageInvocationPoint.pageEnter] }], pageFields: { pageType: "Social Onboarding - Help others find you" }, custom: {} }, sections: t, header: { title: e.string("FUSE.Social.Onboarding.FindYou.Header"), showSeparator: !1, trailingAccessoryButtons: c }, footer: { primaryButton: s, editingScopeIdentifier: o } } } function lx(n) { return { id: n.id, itemKind: "socialOnboardingWelcomePageLockup", presentation: { kind: "single" }, items: [n] } } const ux = { $intentKind: "StartSocialOnboardingActionIntent", async perform(n, e) { const t = nt.countryCode(e), i = new je(`/v1/social/${t}/onboarding-upsell`, e); i.queryString.shouldIncludeFormatResourcesMap = !1; const r = await Jt(i, e); return cx(r, e) } }; function cx(n, e) { var t, i; const r = (i = (t = n.body) === null || t === void 0 ? void 0 : t.results) === null || i === void 0 ? void 0 : i.upsell; if (!r) throw new Error("No resource identifiers in Social Onboarding Welcome Page response"); const s = r.attributes; if (!s) throw new Error("No attributes dictionary in Social Onboarding Welcome Page response"); const o = s.artwork; if (!o) throw new Error("No artwork dictionary in Social Onboarding Welcome Page response"); const a = [], l = { $kind: "SocialOnboardingUserNameHandlePageIntent" }, u = At({ kind: vt.CatalogPage, intent: l }, Ve), c = { id: qe("PageFooterButton", "Start Social Onboarding Page - Primary Button", e), title: s.action, segue: u }, d = { id: qe("SocialOnboardingWelcomePageLockup", r.id, e), artwork: st(o, zt.BoundedBox), title: s.title, descriptionText: s.description }; if (!d) throw new Error(`Could not generate social onboarding welcome page with id "${r.id}"`); const f = lx(d); return a.push(f), { pageMetrics: { instructions: [{ data: { topic: void 0, shouldFlush: !1, fields: { eventType: "page" }, includingFields: ["pageFields", "languages"], excludingFields: [] }, invocationPoints: [mr.PageInvocationPoint.pageEnter] }], pageFields: { pageType: "Social Onboarding - Music + Friends", pageId: r.id }, custom: {} }, sections: a, footer: { primaryButton: c } } } const dx = { $intentKind: "RemoveFollowerRequestIntent", async perform(n, e) { const t = new je("/v1/me/social/profile/followers", e), r = { data: [{ id: n.socialProfileID, type: z.SocialProfiles }] }, s = JSON.stringify(r), a = (await pt({ url: t.string, body: s, method: "DELETE" }, e)).statusCode; return { responseCode: a != null ? a : Gr.unknown } } }; function fx(n) { return { id: n.id, itemKind: "socialProfileEditorHeaderLockup", presentation: { kind: "single" }, items: [n] } } function gx(n, e, t, i) { const r = hx(n, e, t, i); if (!r) { de.warn(t, `Could not generate social profile editor page with id "${n.id}"`); return } return fx(r) } function hx(n, e, t, i) { var r; const s = n.attributes; if (!s) { de.warn(t, `Dropping editor in social profile with id "${n.id}", missing attributes data.`); return } const o = rt(n, t), a = (r = s.hideListeningTo) !== null && r !== void 0 ? r : !1; return { id: qe("SocialProfileDetailHeader", n.id, t), artwork: st(s.artwork, zt.SpecificRectangle), contentDescriptor: o, segue: null, title: i ? null : s.name, handle: i ? null : s.handle, isPrivate: i ? null : s.isPrivate, hideListeningTo: a, editingScopeIdentifier: "Social Profile Editing", headerTitleText: Qe.string("FUSE.Social.Profile.Intro.Description", t), chooseWhoCanFollowText: Qe.string("FUSE.Social.DT.Profile.ShareWith.Header", t), everyoneButtonText: Qe.string("FUSE.Social.Profile.ShareWith.Everyone.Header", t), peopleYouApproveButtonText: Qe.string("FUSE.Social.Profile.ShareWith.Restricted.header", t) } } function mx(n, e, t) { var i, r, s, o, a, l; const u = rt(e, t), c = { id: qe(n, e.id, t), artwork: st((i = e.attributes) === null || i === void 0 ? void 0 : i.artwork, zt.BoundedBox), contentDescriptor: u, numberOfSocialBadges: 0, showExplicitBadge: !1, displayStyle: go.Large, overlayStyle: fp.Selection, isSelected: (s = (r = e.attributes) === null || r === void 0 ? void 0 : r.isPublic) !== null && s !== void 0 ? s : !1, editingScopeIdentifier: "Social Profile Editing", accessibilityLabel: (o = e.attributes) === null || o === void 0 ? void 0 : o.name, trackCount: (a = e.attributes) === null || a === void 0 ? void 0 : a.trackCount }; switch (e.type) { case z.LibraryPlaylists: case z.Playlists: Object.assign(c, { title: (l = e.attributes) === null || l === void 0 ? void 0 : l.name }); break; default: de.warn(t, `"${e.type}" resource type unsupported, dropping social profile editor - shared playlists item with id "${e.id}".`); return }return c } function px(n, e, t, i, r, s, o = { kind: "shelf", numberOfRows: 1 }) { const a = e.data; if (!a) { de.warn(s, `Dropping shared playlists in social profile editor with id "${n.id}", missing views data.`); return } const l = it(`${i} - ${n.id} `, s), u = []; return new gt(r, s).resources(a).forEach(d => { const f = mx(l, d, s); f && u.push(f) }), u.length === 0 ? null : { id: l, itemKind: "squareLockup", presentation: { kind: "collection", layout: o }, items: u, header: { kind: "default", item: { titleLink: { title: t } } }, displaySeparator: !1 } } function _x(n, e) { var t, i, r; const s = (t = n.body) === null || t === void 0 ? void 0 : t.data; if (!s || s.length === 0) throw new Error("No resource identifiers in Social Profile page response"); const o = (i = n.body) === null || i === void 0 ? void 0 : i.resources; if (!o) throw new Error("No resource map in Social Profile page response"); const a = s[0], l = (r = o[a.type]) === null || r === void 0 ? void 0 : r[a.id]; if (!l) throw new Error("No resource identifier for Social Profile in page response"); const u = [], c = gx(l, o, e, og(n)); if (c) u.push(c); else throw new Error("Unable to create Social Profile page header."); const d = l.relationships; if (d) { const g = d["shareable-playlists"]; if (g && g.data) { const h = Qe.string("FUSE.Social.DT.Profile.SharePlaylist.Header", e), m = px(l, g, h, "share-playlist", o, e); m && u.push(m) } } return { pageMetrics: tn(e, n, "unimplemented", "SocialProfile"), sections: u } } const vx = { $intentKind: "SocialProfileEditorPageIntent", async perform(n, e) { const t = new je("/v1/me/social/profile", e); t.queryString.addParameters({ include: "shareable-playlists" }), t.queryString.extend.add("hideListeningTo"); const i = await Jt(t, e); return _x(i, e) } }, lb = new RegExp("(?:http|music|itms)s?:\\/\\/(?:itunes|music)\\.apple\\.com\\/.*?\\/MZStoreElements2\\.woa\\/.*?\\/socialProfile(?=.*?[?&]id=(?<id>[\\w\\.-]+))(?:.*?[?&]cc=(?<cc>\\w{2}))?"), bx = { $intentKind: "SocialProfilePageIntent", routes(n) { return [{ rules: [{ path: "/profile/{handle}", query: ["l?"] }, { path: "/{storefront}/profile/{handle}", query: ["l?"] }], handler(e, t) { return co({ handle: t.handle, ...qt({ storefront: t.storefront, language: t.l }, n) }) } }, { rules: [{ regex: [lb], query: ["l?"] }], handler: (e, t) => { var i, r; const s = (r = (i = e.toString().match(lb)) === null || i === void 0 ? void 0 : i.groups) !== null && r !== void 0 ? r : {}, o = qt({ storefront: s.cc, language: t.l }, n); return co({ contentDescriptor: { kind: x.SocialProfile, identifiers: { socialProfileID: s.id } }, ...o }) } }] }, async perform(n, e) { var t; const i = await yx(n, e); let r; if (i) r = new je("/v1/me/social/profile", e), mt.supportsRichSocialProfilePage(e) && (r.queryString.addParameters({ include: "followers,followees,pending-followers,shared-playlists,listening-to" }), r.queryString.extend.add("pendingFollowersCount").add("followState")); else { const a = nt.countryCode(e); if (r = new je(`/v1/social/${a}/social-profiles`, e), "handle" in n) r.queryString.addParameters({ "filter[handle]": n.handle }); else { const { socialProfileID: l } = n.contentDescriptor.identifiers; if (!l) throw new Error("contentDescriptor missing socialProfileID in SocialProfilePageIntentController.perform"); r.queryString.addParameters({ ids: l }) } mt.supportsRichSocialProfilePage(e) && (r.queryString.addParameters({ include: "followers,followees,shared-playlists,listening-to" }), r.queryString.extend.add("followState")) } r.queryString.shouldIncludeTimezoneOffset = !1; const s = (t = n.preferredCachePolicy) !== null && t !== void 0 ? t : i ? "no-cache" : "default", o = await pt({ url: r.string, cache: s }, e); return tT(o, n, i, e) }, actionFor(n, e, t) { const i = { kind: vt.CatalogPage, intent: n }, r = At(i, t.metrics); return t.isDeepLinkAction ? Lt([ri({ kind: bt.Home }, Ve, e), r], Ve) : r } }; async function yx(n, e) { var t; if ("contentDescriptor" in n && n.contentDescriptor.identifiers.socialProfileID === "me") return !0; const i = (t = await YM(e)) !== null && t !== void 0 ? t : { id: void 0, handle: void 0 }; if ("handle" in n) return i.handle === n.handle; { const { socialProfileID: r } = n.contentDescriptor.identifiers; return i.id === r } } const wx = { $intentKind: "UnblockRequestIntent", async perform(n, e) { const t = new je("/v1/me/social/profile/blocked-profiles", e), r = { data: [{ id: n.socialProfileID, type: z.SocialProfiles }] }, s = JSON.stringify(r), a = (await pt({ url: t.string, body: s, method: "DELETE" }, e)).statusCode; return { responseCode: a != null ? a : Gr.unknown } } }, kx = { $intentKind: "UnfollowRequestIntent", async perform(n, e) { const t = new je("/v1/me/social/profile/followees", e), r = { data: [{ id: n.socialProfileID, type: z.SocialProfiles }] }, s = JSON.stringify(r), a = (await pt({ url: t.string, body: s, method: "DELETE" }, e)).statusCode; return { responseCode: a != null ? a : Gr.unknown } } }, Dx = { $intentKind: "UpdateSocialProfileIntent", async perform(n, e) { var t, i, r; const s = new je("/v1/me/social/profile", e); s.queryString.shouldIncludeFormatResourcesMap = !1, n.allowNonSubscribers && s.queryString.addParameters({ with: "nonSubscribers" }); const o = { attributes: n.attributes }, a = JSON.stringify(o); let l; try { l = await pt({ url: s.string, body: a, method: "PATCH" }, e) } catch (d) { const f = d.userInfo.body, g = new Error(`Bad Status code ${d.userInfo.status} for ${s}`), m = JSON.parse(f != null ? f : ""), v = (t = m == null ? void 0 : m.errors) === null || t === void 0 ? void 0 : t[0]; if (v) { const b = (r = (i = v == null ? void 0 : v.meta) === null || i === void 0 ? void 0 : i.suggestedHandles) === null || r === void 0 ? void 0 : r[0]; Object.assign(g, { userInfo: { status: v.status, code: v.code, suggestedHandle: b } }) } throw g } const u = l.statusCode; return { responseCode: u != null ? u : Gr.unknown } } }, Sx = { $intentKind: "UpdateSocialProfileSharedPlaylistsIntent", async perform(n, e) { const t = new je("/v1/me/social/profile/shared-playlists", e); t.queryString.shouldIncludeFormatResourcesMap = !1; const i = []; n.sharedPlaylistIDs.forEach(u => { const c = { id: u, type: z.LibraryPlaylists }; i.push(c) }); const s = JSON.stringify({ data: i }), a = (await pt({ url: t.string, body: s, method: "PUT" }, e)).statusCode; return { responseCode: a != null ? a : Gr.unknown } } }, Cx = { $intentKind: "UserSocialProfileIntent", async perform(n, e) { var t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k; const S = new je("/v1/me/social/profile", e); S.queryString.addParameters({ include: "social-profile" }), n.withFollowers && S.queryString.addParameters({ include: "social-profile,followers,pending-followers" }), n.withFollowing && S.queryString.addParameters({ extend: "followState" }), n.allowNonOnboard && S.queryString.addParameters({ with: "nonOnboarded" }); const C = await pt({ url: S.string, cache: "no-cache" }, e), P = (t = C.body) === null || t === void 0 ? void 0 : t.data; if (!P || P.length === 0) throw new Error("No resource identifiers in Social Profile page response"); const M = (i = C.body) === null || i === void 0 ? void 0 : i.resources; if (!M) throw new Error("No resource map in Social Profile response"); const R = M["personal-social-profiles"]; if (!R) throw new Error("No personal-social-profile in Social Profile response"); const F = R.me; if (!F) throw new Error("No resource identifier for social profile in Social Profile response"); const N = rt(F, e); if (!N) throw new Error("Could not construct SocialProfile content descriptor from response"); const O = F.relationships; let B; const U = [], K = [], W = []; if (O) { const ae = new gt(M, e), ee = O.followees; ee && ee.data && ae.resources(ee.data).forEach(Te => { const ge = rt(Te, e); ge && U.push(ge) }); const pe = O["pending-followers"]; pe && pe.data && ae.resources(pe.data).forEach(Te => { const ge = rt(Te, e); ge && K.push(ge) }); const ke = O.followers; ke && ke.data && ae.resources(ke.data).forEach(Te => { const ge = rt(Te, e); ge && W.push(ge) }); const we = O["social-profile"]; we && we.data && ae.resources(we.data).forEach(Te => { const ge = rt(Te, e); ge && (B = ge) }) } const Z = (l = (s = (r = F.attributes) === null || r === void 0 ? void 0 : r.collaborationAllowed) !== null && s !== void 0 ? s : (a = (o = F.attributes) === null || o === void 0 ? void 0 : o.acceptedTerms) === null || a === void 0 ? void 0 : a.includes("collaboration")) !== null && l !== void 0 ? l : !1; return { userSocialProfileDescriptor: { contentDescriptor: B != null ? B : N, isOnboarded: (c = (u = F.attributes) === null || u === void 0 ? void 0 : u.isOnboarded) !== null && c !== void 0 ? c : !1, isPrivate: (f = (d = F.attributes) === null || d === void 0 ? void 0 : d.isPrivate) !== null && f !== void 0 ? f : !1, isVerified: (h = (g = F.attributes) === null || g === void 0 ? void 0 : g.isVerified) !== null && h !== void 0 ? h : !1, name: (v = (m = F.attributes) === null || m === void 0 ? void 0 : m.name) !== null && v !== void 0 ? v : "", handle: (y = (b = F.attributes) === null || b === void 0 ? void 0 : b.handle) !== null && y !== void 0 ? y : "", collaborationAllowed: Z, artwork: st((k = F.attributes) === null || k === void 0 ? void 0 : k.artwork, zt.SpecificRectangle) }, followees: U, pendingFollowers: K, followers: W } } }, Px = { $intentKind: "removeRecommendedFriendIntent", async perform(n, e) { const t = new je("/v1/social/recommended-friends", e), i = { ids: { socialProfiles: [n.socialProfileID] } }, r = JSON.stringify(i); return await pt({ url: t.string, body: r, method: "DELETE" }, e), Promise.resolve() } }, Ax = { $intentKind: "SocialProfileSeeAllPageIntent", async perform(n, e) { const t = new je(n.url, e); t.queryString.addParameters({ limit: "20" }); const i = await pt({ url: t.string }, e); return Ex(i, n, n.needsSocialGraphEventTrigger, e) } }; function iT(n, e, t, i, r) { if (!n || n.length === 0) throw new Error("No resource identifiers in social profile see all page."); const s = it(`Social Profile See All - ${t}`, r), o = [], a = !0; if (e.resources(n).forEach(u => { switch (t) { case "bubbleLockup": const c = GL(u, s, r, a); o.push(c); break; case "squareLockup": const d = xL(s, !0, !0, u, r, a); d && o.push(d); break } }), o.length === 0) return null; const l = cn(i); return { id: s, header: l, itemKind: t, presentation: { kind: "collection", layout: "grid" }, items: o, displaySeparator: !1 } } function Ex(n, e, t, i) { var r, s, o; const a = (r = n.body) === null || r === void 0 ? void 0 : r.data; if (!a || a.length === 0) throw new Error(`No resource identifiers in social profile see all page response ${JSON.stringify(n)}`); const l = (s = n.body) === null || s === void 0 ? void 0 : s.resources; if (!l) throw new Error(`No resource map in social profile see all page response: ${JSON.stringify(n)}`); const u = new gt(l, i), c = iT(a, u, e.lockupType, e.title, i), d = []; c && d.push(c); let f; const g = (o = n.body) === null || o === void 0 ? void 0 : o.next; g && (f = { $kind: "SocialProfileSeeAllPaginateIntent", nextHREF: g, lockupType: e.lockupType }); let h; return t && (h = [{ events: [{ name: "socialGraphChange" }], intent: zi(e, "Social Graph Changed") }]), { pageMetrics: tn(i, n, "see_all", "SeeAll", u), sections: d, invalidationRules: { eventTriggers: h }, nextIntent: f } } const Ix = { $intentKind: "SocialProfileSeeAllPaginateIntent", async perform(n, e) { var t, i, r; const s = new je(n.nextHREF, e); s.queryString.addParameters({ limit: "20" }); const o = await pt({ url: s.string }, e), a = (t = o.body) === null || t === void 0 ? void 0 : t.data; if (!a || a.length === 0) throw new Error(`No resource identifiers in social profile see all page response ${JSON.stringify(o)}`); const l = (i = o.body) === null || i === void 0 ? void 0 : i.resources; if (!l) throw new Error(`No resource map in social profile see all page response: ${JSON.stringify(o)}`); const u = new gt(l, e), c = iT(a, u, n.lockupType, null, e); if (!c) throw new Error(`No section could be created in social profile see all page response: ${JSON.stringify(o)}`); const f = { pageChangeInstruction: { instruction: { instruction: "addItemsToSection", newSectionToAppendItemsFrom: c } } }, g = (r = o.body) === null || r === void 0 ? void 0 : r.next; if (g) { const h = n; h.nextHREF = g, f.nextIntent = h } return Promise.resolve(f) } }; function Mx(n, e, t) { return { $kind: "RefreshTopChartSeeAllPageIntent", url: t, topChartsKind: n } } const ks = "34"; function Lx(n) { return n.$kind === "TopChartPageIntent" } function Tx(n) { return { ...n, $kind: "TopChartPageIntent" } } const Rx = { $intentKind: "TopChartSeeAllPageIntent", async perform(n, e) { if (![rn.CityCharts, rn.DailyGlobalTopCharts, rn.Albums, rn.Playlists, rn.Songs, rn.MusicVideos].includes(n.topChartsKind)) return Promise.reject("Failed to construct page with invalid parameters."); const i = sT(n.genreId, e), r = await Jt(i, e), s = rT(n), o = await P1(r, 1, n.topChartsKind, s, e); if (!o) return Promise.reject(`Failed to construct page with response: '${JSON.stringify(r)}'`); const a = Eg(n, e); return { ...o, canonicalURL: a } } }; function rT(n) { return n.topChartsKind === rn.Songs ? n.genreId : ks } function Eg(n, e) { const t = nt.countryCode(e), i = rT(n), r = i !== ks ? `?genreId=${i}` : "", s = eI(n.topChartsKind), o = `https://music.apple.com/${t}/new/top-charts/${s}`; return r ? `${o}/${r}` : o } function sT(n = ks, e) { const t = nt.countryCode(e), i = new je(`/v1/catalog/${t}/charts`, e); return i.queryString.addParameters({ types: "albums,songs,music-videos,playlists", limit: "50", genre: n, include: "tracks", "include[songs]": "artists", with: "cityCharts,dailyGlobalTopCharts", extend: "artistUrl", "fields[albums]": "artistName,artistUrl,artwork,contentRating,editorialArtwork,name,playParams,releaseDate,url", "fields[playlists]": "artistName,artistUrl,artwork,contentRating,editorialArtwork,name,playParams,releaseDate,url,curatorName" }), i } var rn; (function (n) { n.CityCharts = "cityCharts", n.DailyGlobalTopCharts = "dailyGlobalTopCharts", n.Albums = "albums", n.Playlists = "playlists", n.Songs = "songs", n.MusicVideos = "music-videos" })(rn || (rn = {})); const Fx = [rn.Songs, rn.CityCharts, rn.DailyGlobalTopCharts, rn.Playlists, rn.Albums, rn.MusicVideos], Ox = new Set([rn.Songs, rn.Playlists, rn.Albums, rn.MusicVideos]); function Nx(n, e) { const t = n.body; if (!t) throw new Error(`Missing body for response '${JSON.stringify(n)}'`); const i = t.resources; if (!i) throw new Error(`Missing resource map for response '${JSON.stringify(n)}'`); const r = t.results; if (!r) throw new Error(`Missing top charts results for response '${JSON.stringify(n)}'`); const s = new gt(i, e), o = [], a = $x(e); o.push(a), Fx.forEach(u => { var c; const d = (c = r[u]) === null || c === void 0 ? void 0 : c[0]; if (!d) { de.warn(e, `Dropping top charts resource identifier with kind: ${u}.  No identifier found`); return } const f = oT(u, d, s, 1, e); if (f) { if (u === rn.Songs) { const g = f.items; g && g.forEach(h => { h.tertiaryLinks = null }) } o.push(f) } }); const l = nt.countryCode(e); return { pageMetrics: tn(e, n, "top_charts", "topChartsPage", s), sections: o, canonicalURL: `https://music.apple.com/${l}/new/top-charts` } } function oT(n, e, t, i, r, s) { const o = Ox.has(n); switch (n) { case rn.CityCharts: case rn.DailyGlobalTopCharts: case rn.Albums: case rn.Playlists: return Ux(e, t, o, i, n, r, s); case rn.Songs: return Bx(e, t, i, n, r, s); case rn.MusicVideos: return Hx(e, t, i, n, r, s) } } function Bx(n, e, t, i, r, s) { const o = n.data; if (!(o != null && o.length)) return de.warn(r, `Dropping top chart resource identifier because no children were found ${JSON.stringify(n)}`), null; const a = [], l = n.href; let u = t; e.resources(o).forEach(h => { var m, v, b, y, k, S, C; const P = h.attributes, M = u.toLocaleString(); u += 1; const R = (y = (v = (m = P == null ? void 0 : P.artistName) !== null && m !== void 0 ? m : P == null ? void 0 : P.curatorName) !== null && v !== void 0 ? v : (b = P == null ? void 0 : P.editorialNotes) === null || b === void 0 ? void 0 : b.tagline) !== null && y !== void 0 ? y : "", F = Gs(z.Artists, h, e, r, R), N = rt(h, r); a.push({ id: qe(`track-lockup - ${t}`, h.id, r, s), title: (k = h.attributes) === null || k === void 0 ? void 0 : k.name, subtitleLinks: F, playAction: Rt(N, r, l, null), artwork: st((S = h.attributes) === null || S === void 0 ? void 0 : S.artwork), contentDescriptor: N, showExplicitBadge: Vt(h.attributes), segue: Wt(N, h, "ShelfItem", r), tertiaryLinks: kc(h, r), duration: (C = h.attributes) === null || C === void 0 ? void 0 : C.durationInMillis, layoutStyle: "shelfTrackList", rankingText: M, pauseAction: xi(), resumeAction: Wi() }) }); const c = C1(n, i, r), d = (c == null ? void 0 : c.destination).intent, f = Eg(d, r), g = cn(n.name, c, f); return bc(it(n.chart, r), a, 3, g) } function Ux(n, e, t, i, r, s, o) { const a = n.data; if (!(a != null && a.length)) return de.warn(s, `Dropping top chart resource identifier because no children were found ${JSON.stringify(n)}`), null; const l = []; let u = i; e.resources(a).forEach(h => { var m, v, b, y, k, S, C; const P = rt(h, s), M = t ? u.toLocaleString() : null, R = r === rn.Albums ? Gi(h, e, s) : Dt((v = (m = h.attributes) === null || m === void 0 ? void 0 : m.artistName) !== null && v !== void 0 ? v : (b = h.attributes) === null || b === void 0 ? void 0 : b.curatorName); u += 1, l.push({ id: qe("square-lockup", h.id, s, o), titleLinks: Dt((y = h.attributes) === null || y === void 0 ? void 0 : y.name), subtitleLinks: R, playAction: Rt(P, s), artwork: st((k = h.attributes) === null || k === void 0 ? void 0 : k.artwork), contentDescriptor: P, numberOfSocialBadges: 3, showExplicitBadge: Vt(h.attributes), segue: Wt(P, h, "ShelfItem", s), headline: M, accessibilityLabel: (S = h.attributes) === null || S === void 0 ? void 0 : S.name, trackCount: (C = h.attributes) === null || C === void 0 ? void 0 : C.trackCount }) }); const c = C1(n, r, s), d = (c == null ? void 0 : c.destination).intent, f = Eg(d, s), g = cn(n.name, c, f); return kl(it(n.chart, s), l, g) } function Hx(n, e, t, i, r, s) { const o = n.data; if (!(o != null && o.length)) return de.warn(r, `Dropping top chart resource identifier because no children were found ${JSON.stringify(n)}`), null; const a = [], l = it(n.chart, r); let u = t; e.resources(o).forEach(h => { var m, v, b; const y = rt(h, r), k = u.toLocaleString(); u += 1, a.push({ id: qe("vertical-video-lockup", h.id, r, s), titleLinks: Dt((m = h.attributes) === null || m === void 0 ? void 0 : m.name), subtitleLinks: Gi(h, e, r), playAction: Rt(y, r, l), artwork: st((v = h.attributes) === null || v === void 0 ? void 0 : v.artwork), contentDescriptor: y, showExplicitBadge: Vt(h.attributes), segue: Wt(y, h, "BrickItem", r), headline: k, headlineStyle: qd.Bold, accessibilityLabel: (b = h.attributes) === null || b === void 0 ? void 0 : b.name }) }); const c = C1(n, i, r), d = (c == null ? void 0 : c.destination).intent, f = Eg(d, r), g = cn(n.name, c, f); return wo(l, a, g) } function $x(n) { const e = Ge(Ue.localization, n); return xs(it("chartsPageHeader", n), { id: qe("chartsPageHeaderSectionItemID", "chartsPageHeaderSectionItemID", n), title: e.string("FUSE.TopCharts"), contentDescriptor: null }) } function C1(n, e, t) { const i = n.href; if (!i || !n.next) return null; const r = { $kind: "TopChartSeeAllPageIntent", genreId: ks, topChartsKind: e }; return At({ kind: vt.CatalogPage, intent: r }, un(t, "seeAll", "button", "navigate", { actionUrl: i })) } const aT = [rn.Songs, rn.Albums, rn.MusicVideos]; async function P1(n, e, t, i, r) { var s; const o = n.body; if (!o) throw new Error(`Missing body for response '${JSON.stringify(n)}'`); const a = o.resources; if (!a) throw new Error(`Missing resource map for response '${JSON.stringify(n)}'`); const l = o.results; if (!l) throw new Error(`Missing top charts results for response '${JSON.stringify(n)}'`); const u = new gt(a, r), c = [], d = (s = l[t]) === null || s === void 0 ? void 0 : s[0]; if (!d) throw new Error(`No identifier found for top charts response with kind: ${t}.`); const f = oT(t, d, u, e, r, !0); if (f) { f.presentation = { kind: "collection", layout: t === rn.Songs ? "list" : "grid" }; const v = f.items; t === rn.Songs && v && v.forEach(y => { y.layoutStyle = { kind: "playlistTrackList", hasVideo: !1, hasBadging: !1 } }); const b = f.header; if (Di(b)) { b.item.accessoryButtons = await zx(t, i, r); const y = b.item.titleLink; tt(y) && (b.item.titleLink = { title: y.title }) } c.push(f) } const g = d.next; let h; g && f && (h = { $kind: "TopChartSeeAllPaginateIntent", next: g, lastRanking: e + f.items.length, topChartsKind: t }); const m = d.href; return { pageMetrics: tn(r, n, "see_all", "SeeAll", u), sections: c, nextIntent: h, invalidationRules: Vx(t, i != null ? i : ks, m) } } function Vx(n, e, t) { return aT.includes(n) ? { eventTriggers: [{ events: [{ name: "invalidationAction", kind: "genres", scope: "page" }], intent: Mx(n, e, t) }] } : null } async function zx(n, e, t) { if (!aT.includes(n)) return null; const i = await Kx(t), r = i.map(o => qx(o, t)).filter(tt); return r.length === 0 ? null : [fK(n, r, e != null ? e : i == null ? void 0 : i[0].id)] } function qx(n, e) { var t; const i = n.id === ks ? Qe.string("FUSE.New.AllGenres", e) : (t = n.attributes) === null || t === void 0 ? void 0 : t.name; return i ? { title: i, segue: Wx(n), id: n.id } : null } function Wx(n) { return { actionMetrics: Ve, metadata: { id: n.id, historyOperation: "pushState" }, scope: "page", kind: "genres", $kind: "invalidationAction" } } async function Kx(n) { var e, t; const i = nt.countryCode(n), r = nt.languageTag(n), s = new je(`/v1/catalog/${i}/genres`, n); s.queryString.addParameters({ "ids[l]": r, "ids[platform]": "mac" }); const o = await Jt(s, n), a = (e = o.body) === null || e === void 0 ? void 0 : e.resources; if (!a) return de.error(n, `Failed to fetch genres because no resources were found: ${JSON.stringify(o)}`), []; const l = (t = o.body) === null || t === void 0 ? void 0 : t.data; return l ? new gt(a, n).resources(l) : (de.error(n, `Failed to fetch genres because no identifiers were found: ${JSON.stringify(a)}`), []) } const Jx = { $intentKind: "RefreshTopChartSeeAllPageIntent", async perform(n, e) { var t, i; const r = (i = (t = n.metadata) === null || t === void 0 ? void 0 : t.id) !== null && i !== void 0 ? i : ks, s = sT(r, e), o = await Jt(s, e), a = await P1(o, 1, n.topChartsKind, r, e), l = r === ks ? "" : `?genreId=${r}`, u = eI(n.topChartsKind), c = nt.countryCode(e); return { instruction: { instruction: "replacePage", newPage: { ...a, canonicalURL: `https://music.apple.com/${c}/new/top-charts/${u}/${l}` } } } } }; function Yx(n) { return { ...n, $kind: "TopChartSeeAllPageIntent" } } const Xx = { videos: "music-videos", 100: "dailyGlobalTopCharts" }, Zx = { $intentKind: "TopChartPageIntent", routes(n) { return [{ rules: [{ path: "/charts", query: ["l?"] }, { path: "/top-charts", query: ["l?"] }, { path: "/new/top-charts", query: ["l?"] }, { path: "/browse/top-charts", query: ["l?"] }, { path: "/{storefront}/charts", query: ["l?"] }, { path: "/{storefront}/top-charts", query: ["l?"] }, { path: "/{storefront}/new/top-charts", query: ["l?"] }, { path: "/{storefront}/browse/top-charts", query: ["l?"] }, { path: "/WebObjects/MZStore.woa/wa/viewTop", query: ["cc?", "genreId"] }, { path: "/charts/{topChartsKind}", query: ["l?", "genreId?"] }, { path: "/charts/{topChartsKind}/{genreId}", query: ["l?"] }, { path: "/top-charts/{topChartsKind}", query: ["l?", "genreId?"] }, { path: "/top-charts/{topChartsKind}/{genreId}", query: ["l?"] }, { path: "/new/top-charts/{topChartsKind}", query: ["l?", "genreId?"] }, { path: "/browse/top-charts/{topChartsKind}", query: ["l?", "genreId?"] }, { path: "/new/top-charts/{topChartsKind}/{genreId}", query: ["l?"] }, { path: "/browse/top-charts/{topChartsKind}/{genreId}", query: ["l?"] }, { path: "/{storefront}/charts/{topChartsKind}", query: ["l?", "genreId?"] }, { path: "/{storefront}/charts/{topChartsKind}/{genreId}", query: ["l?"] }, { path: "/{storefront}/top-charts/{topChartsKind}", query: ["l?", "genreId?"] }, { path: "/{storefront}/top-charts/{topChartsKind}/{genreId}", query: ["l?"] }, { path: "/{storefront}/new/top-charts/{topChartsKind}", query: ["l?", "genreId?"] }, { path: "/{storefront}/browse/top-charts/{topChartsKind}", query: ["l?", "genreId?"] }, { path: "/{storefront}/new/top-charts/{topChartsKind}/{genreId}", query: ["l?"] }, { path: "/{storefront}/browse/top-charts/{topChartsKind}/{genreId}", query: ["l?"] }], handler(e, t) { var i; const r = t.genreId || ks, s = Qx(t.topChartsKind), o = qt({ storefront: (i = t.storefront) !== null && i !== void 0 ? i : t.cc, language: t.l }, n); if (["cityCharts", "dailyGlobalTopCharts", "albums", "playlists", "songs", "music-videos"].includes(s)) return Yx({ genreId: r, topChartsKind: s, ...o }); const l = `/${o.storefront}/new/top-charts`, u = hc(xf(n), l); return Tx({ contentDescriptor: { kind: x.TopCharts, identifiers: { storeAdamID: void 0 }, url: u, locale: o }, ...o }) } }] }, async perform(n, e) { const t = nt.countryCode(e), i = new je(`/v1/catalog/${t}/charts`, e); i.queryString.addParameters({ limit: "50", genre: ks, include: "tracks", "fields[albums]": "artistName,artistUrl,artwork,contentRating,editorialArtwork,name,playParams,releaseDate,url,trackCount", "fields[playlists]": "artistName,artistUrl,artwork,contentRating,editorialArtwork,name,playParams,releaseDate,url,curatorName", "include[songs]": "artists", "relate[songs]": "albums", "include[albums]": "artists", "include[music-videos]": "artists", "fields[artists]": "name", "omit[resource]": "autos" }), i.queryString.with.add(rn.CityCharts).add(rn.DailyGlobalTopCharts), i.queryString.types.add(z.Albums).add(z.Songs).add(z.MusicVideos).add(z.Playlists), i.queryString.extend.add("artistUrl"); const r = await Jt(i, e); return Nx(r, e) }, actionFor(n, e, t) { var i; const r = (i = t.metrics) !== null && i !== void 0 ? i : un(e, "0", "unknown", "navigate"), s = At({ kind: vt.CatalogPage, intent: n }, r); return t.isDeepLinkAction ? Lt([ri({ kind: bt.New }, Ve, e), s], Ve) : s } }; function Qx(n) { var e; const t = n && n !== "music-videos" ? RW(n) : n; if (t) return (e = Xx[t]) !== null && e !== void 0 ? e : t } const jx = { $intentKind: "TopChartSeeAllPaginateIntent", async perform(n, e) { var t; const i = new je(n.next, e), r = await Jt(i, e), s = await P1(r, n.lastRanking, n.topChartsKind, null, e), o = (t = s == null ? void 0 : s.sections) === null || t === void 0 ? void 0 : t[0]; if (o) { const l = { pageChangeInstruction: { instruction: { instruction: "addItemsToSection", newSectionToAppendItemsFrom: o } }, nextIntent: s.nextIntent }; return Promise.resolve(l) } return Promise.reject() } }, Gx = { $intentKind: "RefreshPageIntent", async perform(n, e) { return de.log(e, `Refreshing Page Kind '${n.intent.$kind}' for reason "${n.reason}".`), { instruction: { instruction: "replacePage", newPage: await Ge(Ue.intentDispatcher, e).dispatch({ ...n.intent, metadata: n.metadata }, e) } } } }; class xx { constructor(e) { this.persistence = e } getItem(e) { const t = this.persistenceScopeForKey(e); return this.persistence.getValueForKey(e, t) } setItemAction(e, t, i = Ve) { return { $kind: "setPersistenceItemAction", scope: this.persistenceScopeForKey(e), item: t, actionMetrics: i, key: e } } persistenceScopeForKey(e) { return e in Qr.User ? Vd.User : Vd.Device } } function lT(n) { var e, t, i, r, s, o, a; const l = (e = n.loggerFactory) !== null && e !== void 0 ? e : { build(b) { return new de(b) } }, u = l.build(); u.shouldQueueMessages = !0, u.log("MusicUI JS bootstrapped! Version:", (i = (t = n.bundle.manifest.properties) === null || t === void 0 ? void 0 : t.version) !== null && i !== void 0 ? i : "[Missing version]"); const c = new bE("Dependency Graph").adding(Ue.bag, new nt(n.bag)).adding(Ue.network, n.net).adding(Ue.recentLibrarySearchesProvider, n.recentLibrarySearchesProvider).adding(Ue.bundle, n.bundle).adding(Ue.campaignAttributionService, n.campaignAttributionService).adding(Ue.cloudLibraryStatusProvider, n.cloudLibraryStatusProvider).adding(Ue.subscriptionStatusCoordinator, n.subscriptionStatusCoordinator).adding(Ue.features, new mt((r = n.features) !== null && r !== void 0 ? r : {})).adding(Ue.findFriendsContactsProvider, n.findFriendsContactsProvider).adding(Ue.userSocialProfileCoordinator, n.userSocialProfileCoordinator).adding(Ue.host, n.host).adding(Ue.locale, n.locale).adding(Ue.logger, u).adding(Ue.loggerFactory, l).adding(Ue.random, n.random).adding(Ue.dataOverrides, n.dataOverrides).adding(Ue.userSocialProfileCoordinator, n.userSocialProfileCoordinator).adding(Ue.restrictionsController, n.restrictionsController).adding(Ue.storage, new xx(n.persistence)).adding(Ue.metrics, new Aq), d = eee(c); (o = (s = n.prebootstrap) === null || s === void 0 ? void 0 : s.addIntents) === null || o === void 0 || o.call(s, d); const f = new Qe(c); f.loadStrings(); const g = c.adding(Ue.intentDispatcher, d).adding(Ue.localization, f), h = yE.makeRouterUsingRegisteredControllers(d, g); let m = g.adding(Ue.router, h); const v = (a = n.prebootstrap) === null || a === void 0 ? void 0 : a.modifyObjectGraph; return v && (m = v(m)), new S0.Runtime(d, m) } function eee(n) { const e = new v1(new Rq(n)); return mt.hasPlatformSpecificListenNow(n) || e.register(UL), e.register(uj), e.register(aj), e.register(ij), mt.hasPlatformSpecificSearchLandingPage(n) || e.register(pp), e.register(gG), mt.hasPlatformSpecificSearchResultsPage(n) || e.register(_p), e.register(pG), e.register(_G), e.register(YY), e.register(gX), e.register(mX), e.register(pX), e.register(_X), e.register(vX), e.register(iX), e.register(jY), e.register(PZ), e.register(GY), e.register(iZ), e.register($X), e.register(KX), e.register(ZX), e.register(xX), e.register(nZ), mt.hasPlatformSpecificSongDetailPage(n) || e.register(_L), e.register(rZ), e.register(hZ), e.register(pY), e.register(Bj), e.register(Uj), e.register(Ij), e.register(Mj), mt.hasPlatformSpecificRadioStationPage(n) || e.register(Ag), e.register(kj), e.register(TK), e.register(SG), e.register(CG), e.register(bG), e.register(wG), e.register(PG), e.register(AG), e.register(jZ), e.register(dx), e.register(Px), e.register(DG), e.register(vx), mt.supportsNewSocialProfilePageIntent(n) ? e.register(bx) : e.register(UG), e.register(Ax), e.register(Ix), e.register(wx), e.register(kx), e.register(Dx), e.register(Sx), e.register(Cx), e.register(HG), e.register(ux), e.register(ox), e.register(zG), e.register(GG), e.register(nx), e.register(YG), e.register(hj), e.register(fj), e.register(FZ), e.register(ZZ), e.register(qZ), e.register(DY), e.register(wK), e.register(QZ), e.register(mW), e.register(Gx), e.register(Zx), e.register(Rx), e.register(jx), e.register(Jx), e.register(cj), e.register(_j), e.register(yj), e.register(wj), e.register(GZ), e.register(lW), e.register(cW), e.register(uW), e } S0.exportBootstrap(lT); const qr = "us", Nu = "en-US", uT = ["cn", "kr"]; function oo(n) { return n.kind === "squareArtwork" } function tee(n) { return { ...n, $kind: "LintMetricsEventIntent" } } function nee() { return { $kind: "SocialBadgingMapIntent" } } function cT(n) { return { $kind: "FetchFullSocialProfilesIntent", identifiers: n } } function iee(n, e, t, i = Ve, r) { let o = [{ $kind: "updateFavoritesAction", actionMetrics: i, id: n, type: e, isFavorited: t }]; return r != null && r.length && (o = o.concat(...r)), Lt(o, Ve) } var pi = (n => (n.LibraryPage = "libraryPage", n.CommercePage = "commercePage", n.ReplayPage = "ReplayPage", n))(pi || {}); const ree = ["ru"]; class xd { static build(e) { return new xd(e.loggerFor("Bag")) } constructor(e) { this.log = e } registerBagKeys(e) { } double(e) { throw new Error(`unrecognized bag double ${e}`) } integer(e) { throw new Error(`unrecognized bag integer ${e}`) } boolean(e) { throw new Error(`unrecognized bag boolean ${e}`) } array(e) { if (e === "commerce-ui-urls/v2-url-patterns") return []; if (e === "commerce-ui-urls/dynamic-url-patterns") return []; throw new Error(`unrecognized bag array ${e}`) } dictionary(e) { switch (e) { case "metrics": case "musicFriends": return {}; case "musicTabs": const t = [{ id: vn.ListenNow }, ...see(this.storefront) ? [{ id: vn.Browse }] : [], { id: vn.Radio }, { id: vn.Search }, { id: vn.LibraryRecentlyAdded }, { id: vn.LibraryArtists }, { id: vn.LibraryAlbums }, { id: vn.LibrarySongs }, { id: vn.LibraryMadeForYou }, { id: vn.LibraryPlaylist }, { id: vn.Replay }]; return { subscriber: t, voiceSubscriber: t, undecided: t }; default: throw new Error(`unrecognized bag dictionary ${e}`) } } url(e) { switch (e) { default: throw new Error(`unrecognized bag url ${e}`) } } string(e) { switch (e) { case "marketingItemDynamicUIUrl": return "https://amsui.apple.com/dynamic/marketing"; case "commerceApp/baseUrl": return null; case "ampMusicAPIDomains/default": return "amp-api.music.apple.com"; case "ampMusicAPIDomains/editorialContent": return "amp-api-edge.music.apple.com"; case "ampMusicAPIDomains/search": return "amp-api-edge.music.apple.com"; case "ampMusicAPIDomains/searchHints": return "amp-api-edge.music.apple.com"; case "ampMusicAPIDomains/searchLanding": return "amp-api-edge.music.apple.com"; case "countryCode": return this.storefront ? this.storefront : (this.log.warn("countryCode was accessed before being set"), qr); case "language-tag": return this.languageTag ? this.languageTag : (this.log.warn("language-tag was accessed before being set"), Nu); default: throw new Error(`unrecognized bag string ${e}`) } } setLocale(e, t) { this.storefront = e, this.languageTag = t } withDifferentLocale(e, t) { const i = new xd(this.log); return i.setLocale(e, t), i } } function see(n) { return !ree.includes(n) } class A1 { constructor(e, t) { He(this, "localizations", {}); this.version = e, this.allLanguages = t } static makeBuilder(e, t) { const i = {}; for (const r of t) for (const s of r.locales) if (typeof s.language == "string") { const o = s.language.toLowerCase(); i[o] = o } return () => new A1(e, i) } get manifest() { return { properties: { version: this.version, localizations: { ...this.allLanguages } } } } async loadResource(e) { return this.localizations } setLocalizationKeys(e) { const t = Object.keys(this.localizations); for (const i of t) delete this.localizations[i]; for (const [i, r] of Object.entries(e)) this.localizations[i] = r } } class oee { async processRedirectURL(e) { return e } } class aee { get isCloudLibraryEnabled() { return !1 } get isCloudLibraryLoaded() { return !0 } } const lee = () => ({ canProcessOfferData: !0, canRenderFAQContent: !0, canRenderMobileViews: !0, canShowLiveRadioGrid: !0, hasBrowsePersonalizationEdge: !0, hasCustomizedSearchLandingPage: !0, hasGlobalNavigationStack: !0, hasPlatformSpecificDeepLinkHandling: !0, hasPlatformSpecificListenNow: !0, hasPlatformSpecificRadioStationPage: !0, hasPlatformSpecificRecentlySearched: !0, hasPlatformSpecificSearchLandingPage: !0, hasPlatformSpecificSearchResultsPage: !0, hasPlatformSpecificSongDetailPage: !0, maxNumberOfTopResults: 30, preferRelativeContentDescriptorPaths: !0, shouldIncludeCatalogDescriptorForLibraryTracks: !0, shouldIncludeLibraryLockupsInPersonalReco: !0, shouldInvalidateBrowsePageOnSubscriptionStatus: !0, shouldOmitFileExtensionFromImages: !0, supportsNewSocialProfilePageIntent: !0, supportsPreviewPlayback: !0, supportsRichSocialProfilePage: !1, supportsSeoMetadata: !0, supportsSocialCardShelf: !1, supportsSocialOnboarding: !1, userCanPlayFromDifferentStorefront: !1, userCanVisitDifferentStorefront: !0, canRenderArtistSnapshotLink: !0 }); class uee { async contactsDictionary() { return {} } } const cee = [{ name: "AMP.Shared.LocaleSwitcher.AfricaMiddleEastIndia", locales: [{ id: "dz", language: "en-GB", name: "Algeria", isDefault: !0 }, { id: "dz", language: "fr-FR", name: "Algrie" }, { id: "dz", language: "ar", name: "" }, { id: "ao", language: "en-GB", name: "Angola", isDefault: !0 }, { id: "am", language: "en-GB", name: "Armenia", isDefault: !0 }, { id: "az", language: "en-GB", name: "Azerbaijan", isDefault: !0 }, { id: "bh", language: "en-GB", name: "Bahrain", isDefault: !0 }, { id: "bh", language: "ar", name: "" }, { id: "bj", language: "en-GB", name: "Benin", isDefault: !0 }, { id: "bj", language: "fr-FR", name: "Bnin" }, { id: "bw", language: "en-GB", name: "Botswana", isDefault: !0 }, { id: "cm", language: "fr-FR", name: "Cameroun", isDefault: !0 }, { id: "cm", language: "en-GB", name: "Cameroon" }, { id: "cv", language: "en-GB", name: "Cape Verde", isDefault: !0 }, { id: "td", language: "en-GB", name: "Chad", isDefault: !0 }, { id: "td", language: "fr-FR", name: "Tchad" }, { id: "ci", language: "fr-FR", name: "Cte dIvoire", isDefault: !0 }, { id: "ci", language: "en-GB", name: "Cote D'Ivoire" }, { id: "cd", language: "en-GB", name: "Congo, The Democratic Republic Of The", isDefault: !0 }, { id: "cd", language: "fr-FR", name: "Rpublique dmocratique du Congo" }, { id: "eg", language: "en-GB", name: "Egypt", isDefault: !0 }, { id: "eg", language: "fr-FR", name: "gypte" }, { id: "eg", language: "ar", name: "" }, { id: "sz", language: "en-GB", name: "Eswatini", isDefault: !0 }, { id: "ga", language: "fr-FR", name: "Gabon", isDefault: !0 }, { id: "ga", language: "en-GB", name: "Gabon (English)" }, { id: "gm", language: "en-GB", name: "Gambia", isDefault: !0 }, { id: "gh", language: "en-GB", name: "Ghana", isDefault: !0 }, { id: "gw", language: "en-GB", name: "Guinea-Bissau", isDefault: !0 }, { id: "gw", language: "fr-FR", name: "Guine-Bissau" }, { id: "in", language: "en-GB", name: "India", isDefault: !0 }, { id: "in", language: "hi", name: "" }, { id: "iq", language: "en-GB", name: "Iraq", isDefault: !0 }, { id: "iq", language: "ar", name: "" }, { id: "il", language: "en-GB", name: "Israel", isDefault: !0 }, { id: "il", language: "he", name: "" }, { id: "jo", language: "en-GB", name: "Jordan", isDefault: !0 }, { id: "jo", language: "ar", name: "" }, { id: "ke", language: "en-GB", name: "Kenya", isDefault: !0 }, { id: "kw", language: "en-GB", name: "Kuwait", isDefault: !0 }, { id: "kw", language: "ar", name: "" }, { id: "lb", language: "en-GB", name: "Lebanon", isDefault: !0 }, { id: "lb", language: "fr-FR", name: "Liban" }, { id: "lb", language: "ar", name: "" }, { id: "lr", language: "en-GB", name: "Liberia", isDefault: !0 }, { id: "ly", language: "en-GB", name: "Libya", isDefault: !0 }, { id: "ly", language: "ar", name: "" }, { id: "mg", language: "en-GB", name: "Madagascar", isDefault: !0 }, { id: "mg", language: "fr-FR", name: "Madagascar" }, { id: "mw", language: "en-GB", name: "Malawi", isDefault: !0 }, { id: "ml", language: "en-GB", name: "Mali", isDefault: !0 }, { id: "ml", language: "fr-FR", name: "Mali (Franais)" }, { id: "mr", language: "en-GB", name: "Mauritania", isDefault: !0 }, { id: "mr", language: "fr-FR", name: "Mauritanie" }, { id: "mr", language: "ar", name: "" }, { id: "mu", language: "en-GB", name: "Mauritius", isDefault: !0 }, { id: "mu", language: "fr-FR", name: "Maurice" }, { id: "ma", language: "en-GB", name: "Morocco", isDefault: !0 }, { id: "ma", language: "fr-FR", name: "Maroc" }, { id: "ma", language: "ar", name: "" }, { id: "mz", language: "en-GB", name: "Mozambique", isDefault: !0 }, { id: "na", language: "en-GB", name: "Namibia", isDefault: !0 }, { id: "ne", language: "en-GB", name: "Niger (English)", isDefault: !0 }, { id: "ne", language: "fr-FR", name: "Niger (Franais)" }, { id: "ng", language: "en-GB", name: "Nigeria", isDefault: !0 }, { id: "om", language: "en-GB", name: "Oman", isDefault: !0 }, { id: "om", language: "ar", name: "" }, { id: "qa", language: "en-GB", name: "Qatar", isDefault: !0 }, { id: "qa", language: "ar", name: "" }, { id: "cg", language: "en-GB", name: "Congo, Republic of", isDefault: !0 }, { id: "cg", language: "fr-FR", name: "Rpublique du Congo" }, { id: "rw", language: "en-GB", name: "Rwanda", isDefault: !0 }, { id: "rw", language: "fr-FR", name: "Rwanda (Franais)" }, { id: "sa", language: "en-GB", name: "Saudi Arabia", isDefault: !0 }, { id: "sa", language: "ar", name: "" }, { id: "sn", language: "en-GB", name: "Senegal", isDefault: !0 }, { id: "sn", language: "fr-FR", name: "Sngal" }, { id: "sc", language: "en-GB", name: "Seychelles", isDefault: !0 }, { id: "sc", language: "fr-FR", name: "Seychelles (Franais)" }, { id: "sl", language: "en-GB", name: "Sierra Leone", isDefault: !0 }, { id: "za", language: "en-GB", name: "South Africa", isDefault: !0 }, { id: "lk", language: "en-GB", name: "Sri Lanka", isDefault: !0 }, { id: "tj", language: "en-GB", name: "Tajikistan", isDefault: !0 }, { id: "tz", language: "en-GB", name: "Tanzania, United Republic Of", isDefault: !0 }, { id: "tn", language: "en-GB", name: "Tunisia", isDefault: !0 }, { id: "tn", language: "fr-FR", name: "Tunisie" }, { id: "tn", language: "ar", name: "" }, { id: "tm", language: "en-GB", name: "Turkmenistan", isDefault: !0 }, { id: "ae", language: "en-GB", name: "United Arab Emirates", isDefault: !0 }, { id: "ae", language: "ar", name: "  " }, { id: "ug", language: "en-GB", name: "Uganda", isDefault: !0 }, { id: "ye", language: "en-GB", name: "Yemen", isDefault: !0 }, { id: "ye", language: "ar", name: "" }, { id: "zm", language: "en-GB", name: "Zambia", isDefault: !0 }, { id: "zw", language: "en-GB", name: "Zimbabwe", isDefault: !0 }] }, { name: "AMP.Shared.LocaleSwitcher.AsiaPacific", locales: [{ id: "au", language: "en-AU", name: "Australia", isDefault: !0 }, { id: "bt", language: "en-GB", name: "Bhutan", isDefault: !0 }, { id: "kh", language: "en-GB", name: "Cambodia", isDefault: !0 }, { id: "kh", language: "fr-FR", name: "Cambodge" }, { id: "cn", language: "zh-Hans-CN", name: "", isDefault: !0 }, { id: "cn", language: "en-GB", name: "China Mainland" }, { id: "fj", language: "en-GB", name: "Fiji", isDefault: !0 }, { id: "hk", language: "zh-Hant-HK", name: "", isDefault: !0 }, { id: "hk", language: "en-GB", name: "Hong Kong" }, { id: "id", language: "en-GB", name: "Indonesia (English)", isDefault: !0 }, { id: "id", language: "id", name: "Indonesia" }, { id: "jp", language: "ja", name: "", isDefault: !0 }, { id: "jp", language: "en-US", name: "Japan" }, { id: "kz", language: "en-GB", name: "Kazakhstan", isDefault: !0 }, { id: "kr", language: "ko", name: "", isDefault: !0 }, { id: "kr", language: "en-GB", name: "Korea, Republic of" }, { id: "kg", language: "en-GB", name: "Kyrgyzstan", isDefault: !0 }, { id: "la", language: "en-GB", name: "Lao People's Democratic Republic", isDefault: !0 }, { id: "la", language: "fr-FR", name: "Laos (Rpublique dmocratique populaire)" }, { id: "mo", language: "zh-Hant-HK", name: "", isDefault: !0 }, { id: "mo", language: "en-GB", name: "Macao" }, { id: "my", language: "en-GB", name: "Malaysia (English)", isDefault: !0 }, { id: "my", language: "ms", name: "Malaysia (Bahasa Melayu)" }, { id: "mv", language: "en-GB", name: "Maldives", isDefault: !0 }, { id: "fm", language: "en-GB", name: "Micronesia, Federated States of", isDefault: !0 }, { id: "mn", language: "en-GB", name: "Mongolia", isDefault: !0 }, { id: "mm", language: "en-GB", name: "Myanmar", isDefault: !0 }, { id: "np", language: "en-GB", name: "Nepal", isDefault: !0 }, { id: "nz", language: "en-AU", name: "New Zealand", isDefault: !0 }, { id: "pg", language: "en-GB", name: "Papua New Guinea", isDefault: !0 }, { id: "ph", language: "en-GB", name: "Philippines", isDefault: !0 }, { id: "sg", language: "en-GB", name: "Singapore", isDefault: !0 }, { id: "sg", language: "zh-Hans-CN", name: "" }, { id: "sb", language: "en-GB", name: "Solomon Islands", isDefault: !0 }, { id: "tw", language: "zh-Hant-TW", name: "", isDefault: !0 }, { id: "tw", language: "en-GB", name: "Taiwan" }, { id: "th", language: "en-GB", name: "Thailand", isDefault: !0 }, { id: "th", language: "th", name: "" }, { id: "to", language: "en-GB", name: "Tonga", isDefault: !0 }, { id: "tm", language: "en-GB", name: "Turkmenistan", isDefault: !0 }, { id: "uz", language: "en-GB", name: "Uzbekistan", isDefault: !0 }, { id: "vu", language: "en-GB", name: "Vanuatu", isDefault: !0 }, { id: "vu", language: "fr-FR", name: "Vanuatu (Franais)" }, { id: "vn", language: "en-GB", name: "Vietnam", isDefault: !0 }, { id: "vn", language: "vi", name: "Vit Nam" }] }, { name: "AMP.Shared.LocaleSwitcher.Europe", locales: [{ id: "am", language: "en-GB", name: "Armenia", isDefault: !0 }, { id: "at", language: "de-DE", name: "sterreich", isDefault: !0 }, { id: "at", language: "en-GB", name: "Austria" }, { id: "by", language: "en-GB", name: "Belarus", isDefault: !0 }, { id: "be", language: "en-GB", name: "Belgium", isDefault: !0 }, { id: "be", language: "fr-FR", name: "Belgique" }, { id: "be", language: "nl", name: "Belgi" }, { id: "ba", language: "en-GB", name: "Bosnia and Herzegovina", isDefault: !0 }, { id: "ba", language: "hr", name: "Bosna i Hercegovina" }, { id: "bg", language: "en-GB", name: "Bulgaria", isDefault: !0 }, { id: "hr", language: "en-GB", name: "Croatia", isDefault: !0 }, { id: "hr", language: "hr", name: "Hrvatska" }, { id: "cy", language: "en-GB", name: "Cyprus", isDefault: !0 }, { id: "cy", language: "el", name: "" }, { id: "cy", language: "tr", name: "Kbrs" }, { id: "cz", language: "en-GB", name: "Czechia", isDefault: !0 }, { id: "cz", language: "cs", name: "esko" }, { id: "dk", language: "en-GB", name: "Denmark", isDefault: !0 }, { id: "dk", language: "da", name: "Danmark" }, { id: "ee", language: "en-GB", name: "Estonia", isDefault: !0 }, { id: "fi", language: "en-GB", name: "Finland", isDefault: !0 }, { id: "fi", language: "fi", name: "Suomi" }, { id: "fr", language: "fr-FR", name: "France (Franais)", isDefault: !0 }, { id: "fr", language: "en-GB", name: "France (English)" }, { id: "ge", language: "en-GB", name: "Georgia", isDefault: !0 }, { id: "de", language: "de-DE", name: "Deutschland", isDefault: !0 }, { id: "de", language: "en-GB", name: "Germany" }, { id: "gr", language: "en-GB", name: "Greece", isDefault: !0 }, { id: "gr", language: "el", name: "" }, { id: "hu", language: "en-GB", name: "Hungary", isDefault: !0 }, { id: "hu", language: "hu", name: "Magyarorszg" }, { id: "is", language: "en-GB", name: "Iceland", isDefault: !0 }, { id: "ie", language: "en-GB", name: "Ireland", isDefault: !0 }, { id: "it", language: "it", name: "Italia", isDefault: !0 }, { id: "it", language: "en-GB", name: "Italy" }, { id: "xk", language: "en-GB", name: "Kosovo", isDefault: !0 }, { id: "lv", language: "en-GB", name: "Latvia", isDefault: !0 }, { id: "lt", language: "en-GB", name: "Lithuania", isDefault: !0 }, { id: "lu", language: "en-GB", name: "Luxembourg (English)", isDefault: !0 }, { id: "lu", language: "fr-FR", name: "Luxembourg (Franais)" }, { id: "lu", language: "de-DE", name: "Luxemburg (Deutsch)" }, { id: "mt", language: "en-GB", name: "Malta", isDefault: !0 }, { id: "md", language: "en-GB", name: "Moldova, Republic Of", isDefault: !0 }, { id: "me", language: "en-GB", name: "Montenegro", isDefault: !0 }, { id: "me", language: "hr", name: "Crna Gora" }, { id: "nl", language: "nl", name: "Nederland", isDefault: !0 }, { id: "nl", language: "en-GB", name: "Netherlands" }, { id: "mk", language: "en-GB", name: "NorthMacedonia", isDefault: !0 }, { id: "no", language: "en-GB", name: "Norway", isDefault: !0 }, { id: "no", language: "nb", name: "Norge" }, { id: "pl", language: "en-GB", name: "Poland", isDefault: !0 }, { id: "pl", language: "pl", name: "Polska" }, { id: "pt", language: "pt-PT", name: "Portugal (Portugus)", isDefault: !0 }, { id: "pt", language: "en-GB", name: "Portugal (English)" }, { id: "ro", language: "en-GB", name: "Romania", isDefault: !0 }, { id: "ro", language: "ro", name: "Romnia" }, { id: "ru", language: "ru", name: "", isDefault: !0 }, { id: "ru", language: "en-GB", name: "Russia" }, { id: "ru", language: "uk", name: "" }, { id: "rs", language: "en-GB", name: "Serbia", isDefault: !0 }, { id: "rs", language: "hr", name: "Srbija" }, { id: "sk", language: "en-GB", name: "Slovakia", isDefault: !0 }, { id: "sk", language: "sk", name: "Slovensko" }, { id: "si", language: "en-GB", name: "Slovenia", isDefault: !0 }, { id: "si", language: "sl", name: "Slovenija" }, { id: "es", language: "es-ES", name: "Espaa", isDefault: !0 }, { id: "es", language: "en-GB", name: "Spain" }, { id: "es", language: "ca", name: "Espanya" }, { id: "se", language: "sv", name: "Sverige", isDefault: !0 }, { id: "se", language: "en-GB", name: "Sweden" }, { id: "ch", language: "de-CH", name: "Schweiz", isDefault: !0 }, { id: "ch", language: "en-GB", name: "Switzerland" }, { id: "ch", language: "fr-FR", name: "Suisse" }, { id: "ch", language: "it", name: "Svizzera" }, { id: "tr", language: "en-GB", name: "Trkiye (English)", isDefault: !0 }, { id: "tr", language: "tr", name: "Trkiye (Trke)" }, { id: "ua", language: "en-GB", name: "Ukraine", isDefault: !0 }, { id: "ua", language: "uk", name: "" }, { id: "ua", language: "ru", name: "" }, { id: "gb", language: "en-GB", name: "United Kingdom", isDefault: !0 }] }, { name: "AMP.Shared.LocaleSwitcher.LatinAmericaCaribbean", locales: [{ id: "ai", language: "en-GB", name: "Anguilla", isDefault: !0 }, { id: "ag", language: "en-GB", name: "Antigua and Barbuda", isDefault: !0 }, { id: "ar", language: "es-MX", name: "Argentina (Espaol)", isDefault: !0 }, { id: "ar", language: "en-GB", name: "Argentina (English)" }, { id: "bs", language: "en-GB", name: "Bahamas", isDefault: !0 }, { id: "bb", language: "en-GB", name: "Barbados", isDefault: !0 }, { id: "bz", language: "en-GB", name: "Belize", isDefault: !0 }, { id: "bz", language: "es-MX", name: "Belice" }, { id: "bm", language: "en-GB", name: "Bermuda", isDefault: !0 }, { id: "bo", language: "es-MX", name: "Bolivia (Espaol)", isDefault: !0 }, { id: "bo", language: "en-GB", name: "Bolivia (English)" }, { id: "br", language: "pt-BR", name: "Brasil", isDefault: !0 }, { id: "br", language: "en-GB", name: "Brazil" }, { id: "vg", language: "en-GB", name: "Virgin Islands, British", isDefault: !0 }, { id: "ky", language: "en-GB", name: "Cayman Islands", isDefault: !0 }, { id: "cl", language: "es-MX", name: "Chile (Espaol)", isDefault: !0 }, { id: "cl", language: "en-GB", name: "Chile (English)" }, { id: "co", language: "es-MX", name: "Colombia (Espaol)", isDefault: !0 }, { id: "co", language: "en-GB", name: "Colombia (English)" }, { id: "cr", language: "es-MX", name: "Costa Rica (Espaol)", isDefault: !0 }, { id: "cr", language: "en-GB", name: "Costa Rica (English)" }, { id: "dm", language: "en-GB", name: "Dominica", isDefault: !0 }, { id: "do", language: "es-MX", name: "Repblica Dominicana", isDefault: !0 }, { id: "do", language: "en-GB", name: "Dominican Republic" }, { id: "ec", language: "es-MX", name: "Ecuador (Espaol)", isDefault: !0 }, { id: "ec", language: "en-GB", name: "Ecuador (English)" }, { id: "sv", language: "es-MX", name: "El Salvador (Espaol)", isDefault: !0 }, { id: "sv", language: "en-GB", name: "El Salvador (English)" }, { id: "gd", language: "en-GB", name: "Grenada", isDefault: !0 }, { id: "gt", language: "es-MX", name: "Guatemala (Espaol)", isDefault: !0 }, { id: "gt", language: "en-GB", name: "Guatemala (English)" }, { id: "gy", language: "en-GB", name: "Guyana", isDefault: !0 }, { id: "gy", language: "fr-FR", name: "Guyana (Franais)" }, { id: "hn", language: "es-MX", name: "Honduras (Espaol)", isDefault: !0 }, { id: "hn", language: "en-GB", name: "Honduras (English)" }, { id: "jm", language: "en-GB", name: "Jamaica", isDefault: !0 }, { id: "mx", language: "es-MX", name: "Mxico", isDefault: !0 }, { id: "mx", language: "en-GB", name: "Mexico" }, { id: "ms", language: "en-GB", name: "Montserrat", isDefault: !0 }, { id: "ni", language: "es-MX", name: "Nicaragua (Espaol)", isDefault: !0 }, { id: "ni", language: "en-GB", name: "Nicaragua (English)" }, { id: "pa", language: "es-MX", name: "Panam", isDefault: !0 }, { id: "pa", language: "en-GB", name: "Panama" }, { id: "py", language: "es-MX", name: "Paraguay (Espaol)", isDefault: !0 }, { id: "py", language: "en-GB", name: "Paraguay (English)" }, { id: "pe", language: "es-MX", name: "Per", isDefault: !0 }, { id: "pe", language: "en-GB", name: "Peru" }, { id: "kn", language: "en-GB", name: "St. Kitts and Nevis", isDefault: !0 }, { id: "lc", language: "en-GB", name: "Saint Lucia", isDefault: !0 }, { id: "vc", language: "en-GB", name: "St. Vincent and The Grenadines", isDefault: !0 }, { id: "sr", language: "en-GB", name: "Suriname", isDefault: !0 }, { id: "sr", language: "nl", name: "Suriname (Nederlands)" }, { id: "tt", language: "en-GB", name: "Trinidad and Tobago", isDefault: !0 }, { id: "tt", language: "fr-FR", name: "Trinidad-et-Tobago" }, { id: "tc", language: "en-GB", name: "Turks and Caicos", isDefault: !0 }, { id: "uy", language: "en-GB", name: "Uruguay (English)", isDefault: !0 }, { id: "uy", language: "es-MX", name: "Uruguay (Espaol)" }, { id: "ve", language: "es-MX", name: "Venezuela (Espaol)", isDefault: !0 }, { id: "ve", language: "en-GB", name: "Venezuela (English)" }] }, { name: "AMP.Shared.LocaleSwitcher.USCanada", locales: [{ id: "ca", language: "en-CA", name: "Canada (English)", isDefault: !0 }, { id: "ca", language: "fr-CA", name: "Canada (Franais)" }, { id: "us", language: "en-US", name: "United States", isDefault: !0 }, { id: "us", language: "es-MX", name: "Estados Unidos (Espaol Mxico)" }, { id: "us", language: "ar", name: " " }, { id: "us", language: "ru", name: "" }, { id: "us", language: "zh-Hans-CN", name: " ()" }, { id: "us", language: "fr-FR", name: "tats-Unis (Franais France)" }, { id: "us", language: "ko", name: "" }, { id: "us", language: "pt-BR", name: "Estados Unidos (Portugus Brasil)" }, { id: "us", language: "vi", name: "Hoa K" }, { id: "us", language: "zh-Hant-TW", name: " ()" }] }], dee = { dz: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "ar", name: "" }, { tag: "en-GB", name: "English (UK)" }], ao: [{ tag: "en-GB", name: "English (UK)" }], ai: [{ tag: "en-GB", name: "English (UK)" }], ag: [{ tag: "en-GB", name: "English (UK)" }], ar: [{ tag: "en-GB", name: "English (UK)" }, { tag: "es-MX", name: "Espaol (Mxico)" }], am: [{ tag: "en-GB", name: "English (UK)" }], au: [{ tag: "en-AU", name: "English (Australia)" }], at: [{ tag: "en-GB", name: "English (UK)" }, { tag: "de-DE", name: "Deutsch (Deutschland)" }], az: [{ tag: "en-GB", name: "English (UK)" }], bs: [{ tag: "en-GB", name: "English (UK)" }], bh: [{ tag: "ar", name: "" }, { tag: "en-GB", name: "English (UK)" }], bb: [{ tag: "en-GB", name: "English (UK)" }], by: [{ tag: "en-GB", name: "English (UK)" }], be: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "nl", name: "Nederlands" }, { tag: "en-GB", name: "English (UK)" }], bz: [{ tag: "es-MX", name: "Espaol (Mxico)" }, { tag: "en-GB", name: "English (UK)" }], bj: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "en-GB", name: "English (UK)" }], bm: [{ tag: "en-GB", name: "English (UK)" }], bt: [{ tag: "en-GB", name: "English (UK)" }], bo: [{ tag: "en-GB", name: "English (UK)" }, { tag: "es-MX", name: "Espaol (Mxico)" }], ba: [{ tag: "hr", name: "Hrvatski" }, { tag: "en-GB", name: "English (UK)" }], bw: [{ tag: "en-GB", name: "English (UK)" }], br: [{ tag: "en-GB", name: "English (UK)" }, { tag: "pt-BR", name: "Portugus (Brazil)" }], vg: [{ tag: "en-GB", name: "English (UK)" }], bg: [{ tag: "en-GB", name: "English (UK)" }], kh: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "en-GB", name: "English (UK)" }], cm: [{ tag: "en-GB", name: "English (UK)" }, { tag: "fr-FR", name: "Franais (France)" }], ca: [{ tag: "fr-CA", name: "Franais (Canada)" }, { tag: "en-CA", name: "English (Canada)" }], cv: [{ tag: "en-GB", name: "English (UK)" }], ky: [{ tag: "en-GB", name: "English (UK)" }], td: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "en-GB", name: "English (UK)" }], cl: [{ tag: "en-GB", name: "English (UK)" }, { tag: "es-MX", name: "Espaol (Mxico)" }], cn: [{ tag: "en-GB", name: "English (UK)" }, { tag: "zh-Hans-CN", name: "" }], co: [{ tag: "en-GB", name: "English (UK)" }, { tag: "es-MX", name: "Espaol (Mxico)" }], cr: [{ tag: "en-GB", name: "English (UK)" }, { tag: "es-MX", name: "Espaol (Mxico)" }], hr: [{ tag: "hr", name: "Hrvatski" }, { tag: "en-GB", name: "English (UK)" }], cy: [{ tag: "el", name: "" }, { tag: "tr", name: "Trke" }, { tag: "en-GB", name: "English (UK)" }], cz: [{ tag: "cs", name: "etina" }, { tag: "en-GB", name: "English (UK)" }], ci: [{ tag: "en-GB", name: "English (UK)" }, { tag: "fr-FR", name: "Franais (France)" }], cd: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "en-GB", name: "English (UK)" }], dk: [{ tag: "da", name: "Dansk" }, { tag: "en-GB", name: "English (UK)" }], dm: [{ tag: "en-GB", name: "English (UK)" }], do: [{ tag: "en-GB", name: "English (UK)" }, { tag: "es-MX", name: "Espaol (Mxico)" }], ec: [{ tag: "en-GB", name: "English (UK)" }, { tag: "es-MX", name: "Espaol (Mxico)" }], eg: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "ar", name: "" }, { tag: "en-GB", name: "English (UK)" }], sv: [{ tag: "en-GB", name: "English (UK)" }, { tag: "es-MX", name: "Espaol (Mxico)" }], ee: [{ tag: "en-GB", name: "English (UK)" }], sz: [{ tag: "en-GB", name: "English (UK)" }], fj: [{ tag: "en-GB", name: "English (UK)" }], fi: [{ tag: "fi", name: "Suomi" }, { tag: "en-GB", name: "English (UK)" }], fr: [{ tag: "en-GB", name: "English (UK)" }, { tag: "fr-FR", name: "Franais (France)" }], ga: [{ tag: "en-GB", name: "English (UK)" }, { tag: "fr-FR", name: "Franais (France)" }], gm: [{ tag: "en-GB", name: "English (UK)" }], ge: [{ tag: "en-GB", name: "English (UK)" }], de: [{ tag: "en-GB", name: "English (UK)" }, { tag: "de-DE", name: "Deutsch (Deutschland)" }], gh: [{ tag: "en-GB", name: "English (UK)" }], gr: [{ tag: "el", name: "" }, { tag: "en-GB", name: "English (UK)" }], gd: [{ tag: "en-GB", name: "English (UK)" }], gt: [{ tag: "en-GB", name: "English (UK)" }, { tag: "es-MX", name: "Espaol (Mxico)" }], gw: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "en-GB", name: "English (UK)" }], gy: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "en-GB", name: "English (UK)" }], hn: [{ tag: "en-GB", name: "English (UK)" }, { tag: "es-MX", name: "Espaol (Mxico)" }], hk: [{ tag: "en-GB", name: "English (UK)" }, { tag: "zh-Hant-HK", name: " ()" }], hu: [{ tag: "hu", name: "Magyar" }, { tag: "en-GB", name: "English (UK)" }], is: [{ tag: "en-GB", name: "English (UK)" }], in: [{ tag: "hi", name: "" }, { tag: "en-GB", name: "English (UK)" }], id: [{ tag: "id", name: "Bahasa Indonesia" }, { tag: "en-GB", name: "English (UK)" }], iq: [{ tag: "ar", name: "" }, { tag: "en-GB", name: "English (UK)" }], ie: [{ tag: "en-GB", name: "English (UK)" }], il: [{ tag: "he", name: "" }, { tag: "en-GB", name: "English (UK)" }], it: [{ tag: "en-GB", name: "English (UK)" }, { tag: "it", name: "Italiano" }], jm: [{ tag: "en-GB", name: "English (UK)" }], jp: [{ tag: "en-US", name: "English (US)" }, { tag: "ja", name: "" }], jo: [{ tag: "ar", name: "" }, { tag: "en-GB", name: "English (UK)" }], kz: [{ tag: "en-GB", name: "English (UK)" }], ke: [{ tag: "en-GB", name: "English (UK)" }], kr: [{ tag: "en-GB", name: "English (UK)" }, { tag: "ko", name: "" }], xk: [{ tag: "en-GB", name: "English (UK)" }], kw: [{ tag: "ar", name: "" }, { tag: "en-GB", name: "English (UK)" }], kg: [{ tag: "en-GB", name: "English (UK)" }], la: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "en-GB", name: "English (UK)" }], lv: [{ tag: "en-GB", name: "English (UK)" }], lb: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "ar", name: "" }, { tag: "en-GB", name: "English (UK)" }], lr: [{ tag: "en-GB", name: "English (UK)" }], ly: [{ tag: "ar", name: "" }, { tag: "en-GB", name: "English (UK)" }], lt: [{ tag: "en-GB", name: "English (UK)" }], lu: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "de-DE", name: "Deutsch (Deutschland)" }, { tag: "en-GB", name: "English (UK)" }], mo: [{ tag: "en-GB", name: "English (UK)" }, { tag: "zh-Hant-HK", name: " ()" }], mg: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "en-GB", name: "English (UK)" }], mw: [{ tag: "en-GB", name: "English (UK)" }], my: [{ tag: "ms", name: "Bahasa Melayu" }, { tag: "en-GB", name: "English (UK)" }], mv: [{ tag: "en-GB", name: "English (UK)" }], ml: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "en-GB", name: "English (UK)" }], mt: [{ tag: "en-GB", name: "English (UK)" }], mr: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "ar", name: "" }, { tag: "en-GB", name: "English (UK)" }], mu: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "en-GB", name: "English (UK)" }], mx: [{ tag: "en-GB", name: "English (UK)" }, { tag: "es-MX", name: "Espaol (Mxico)" }], fm: [{ tag: "en-GB", name: "English (UK)" }], md: [{ tag: "en-GB", name: "English (UK)" }], mn: [{ tag: "en-GB", name: "English (UK)" }], me: [{ tag: "hr", name: "Hrvatski" }, { tag: "en-GB", name: "English (UK)" }], ms: [{ tag: "en-GB", name: "English (UK)" }], ma: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "ar", name: "" }, { tag: "en-GB", name: "English (UK)" }], mz: [{ tag: "en-GB", name: "English (UK)" }], mm: [{ tag: "en-GB", name: "English (UK)" }], na: [{ tag: "en-GB", name: "English (UK)" }], np: [{ tag: "en-GB", name: "English (UK)" }], nl: [{ tag: "en-GB", name: "English (UK)" }, { tag: "nl", name: "Nederlands" }], nz: [{ tag: "en-AU", name: "English (Australia)" }], ni: [{ tag: "en-GB", name: "English (UK)" }, { tag: "es-MX", name: "Espaol (Mxico)" }], ne: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "en-GB", name: "English (UK)" }], ng: [{ tag: "en-GB", name: "English (UK)" }], mk: [{ tag: "en-GB", name: "English (UK)" }], no: [{ tag: "nb", name: "Norsk bokml" }, { tag: "en-GB", name: "English (UK)" }], om: [{ tag: "ar", name: "" }, { tag: "en-GB", name: "English (UK)" }], pa: [{ tag: "en-GB", name: "English (UK)" }, { tag: "es-MX", name: "Espaol (Mxico)" }], pg: [{ tag: "en-GB", name: "English (UK)" }], py: [{ tag: "en-GB", name: "English (UK)" }, { tag: "es-MX", name: "Espaol (Mxico)" }], pe: [{ tag: "en-GB", name: "English (UK)" }, { tag: "es-MX", name: "Espaol (Mxico)" }], ph: [{ tag: "en-GB", name: "English (UK)" }], pl: [{ tag: "pl", name: "Polski" }, { tag: "en-GB", name: "English (UK)" }], pt: [{ tag: "en-GB", name: "English (UK)" }, { tag: "pt-PT", name: "Portugus (Portugal)" }], qa: [{ tag: "ar", name: "" }, { tag: "en-GB", name: "English (UK)" }], cg: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "en-GB", name: "English (UK)" }], ro: [{ tag: "ro", name: "Romn" }, { tag: "en-GB", name: "English (UK)" }], ru: [{ tag: "en-GB", name: "English (UK)" }, { tag: "uk", name: "" }, { tag: "ru", name: "" }], rw: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "en-GB", name: "English (UK)" }], sa: [{ tag: "ar", name: "" }, { tag: "en-GB", name: "English (UK)" }], sn: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "en-GB", name: "English (UK)" }], rs: [{ tag: "hr", name: "Hrvatski" }, { tag: "en-GB", name: "English (UK)" }], sc: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "en-GB", name: "English (UK)" }], sl: [{ tag: "en-GB", name: "English (UK)" }], sg: [{ tag: "zh-Hans-CN", name: "" }, { tag: "en-GB", name: "English (UK)" }], sk: [{ tag: "sk", name: "Slovenina" }, { tag: "en-GB", name: "English (UK)" }], si: [{ tag: "sl", name: "Slovenina" }, { tag: "en-GB", name: "English (UK)" }], sb: [{ tag: "en-GB", name: "English (UK)" }], za: [{ tag: "en-GB", name: "English (UK)" }], es: [{ tag: "en-GB", name: "English (UK)" }, { tag: "ca", name: "Catal" }, { tag: "es-ES", name: "Espaol (Espaa)" }], lk: [{ tag: "en-GB", name: "English (UK)" }], kn: [{ tag: "en-GB", name: "English (UK)" }], lc: [{ tag: "en-GB", name: "English (UK)" }], vc: [{ tag: "en-GB", name: "English (UK)" }], sr: [{ tag: "nl", name: "Nederlands" }, { tag: "en-GB", name: "English (UK)" }], se: [{ tag: "en-GB", name: "English (UK)" }, { tag: "sv", name: "Svenska" }], ch: [{ tag: "en-GB", name: "English (UK)" }, { tag: "fr-FR", name: "Franais (France)" }, { tag: "it", name: "Italiano" }, { tag: "de-CH", name: "Deutsch (Schweiz)" }], tw: [{ tag: "en-GB", name: "English (UK)" }, { tag: "zh-Hant-TW", name: " ()" }], tj: [{ tag: "en-GB", name: "English (UK)" }], tz: [{ tag: "en-GB", name: "English (UK)" }], th: [{ tag: "th", name: "" }, { tag: "en-GB", name: "English (UK)" }], to: [{ tag: "en-GB", name: "English (UK)" }], tt: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "en-GB", name: "English (UK)" }], tn: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "ar", name: "" }, { tag: "en-GB", name: "English (UK)" }], tm: [{ tag: "en-GB", name: "English (UK)" }], tc: [{ tag: "en-GB", name: "English (UK)" }], tr: [{ tag: "tr", name: "Trke" }, { tag: "en-GB", name: "English (UK)" }], ae: [{ tag: "ar", name: "" }, { tag: "en-GB", name: "English (UK)" }], ug: [{ tag: "en-GB", name: "English (UK)" }], ua: [{ tag: "uk", name: "" }, { tag: "ru", name: "" }, { tag: "en-GB", name: "English (UK)" }], gb: [{ tag: "en-GB", name: "English (UK)" }], us: [{ tag: "es-MX", name: "Espaol (Mxico)" }, { tag: "ar", name: "" }, { tag: "ru", name: "" }, { tag: "zh-Hans-CN", name: "" }, { tag: "fr-FR", name: "Franais (France)" }, { tag: "ko", name: "" }, { tag: "pt-BR", name: "Portugus (Brazil)" }, { tag: "vi", name: "Ting Vit" }, { tag: "zh-Hant-TW", name: " ()" }, { tag: "en-US", name: "English (US)" }], uy: [{ tag: "es-MX", name: "Espaol (Mxico)" }, { tag: "en-GB", name: "English (UK)" }], uz: [{ tag: "en-GB", name: "English (UK)" }], vu: [{ tag: "fr-FR", name: "Franais (France)" }, { tag: "en-GB", name: "English (UK)" }], ve: [{ tag: "en-GB", name: "English (UK)" }, { tag: "es-MX", name: "Espaol (Mxico)" }], vn: [{ tag: "vi", name: "Ting Vit" }, { tag: "en-GB", name: "English (UK)" }], ye: [{ tag: "ar", name: "" }, { tag: "en-GB", name: "English (UK)" }], zm: [{ tag: "en-GB", name: "English (UK)" }], zw: [{ tag: "en-GB", name: "English (UK)" }] }; function fee(n) { return Object.fromEntries(n.flatMap(({ locales: e }) => { const t = {}; for (const i of e) i.id in t || (t[i.id] = { default: i.name }), t[i.id][i.language] = i.name; return Object.entries(t) })) } const Cl = cee, dT = dee, fT = fee(Cl), gT = "shared:locale"; function gee(n, e) { n.set(gT, e) } function Ig() { return gi(gT) } const hT = "locale"; let xr = class vp { static normalize({ storefront: e, language: t }) { const { storefront: i, languages: r, defaultLanguage: s } = hee(e); return { storefront: i, ...mee(t || "", r, s) } } static canonicalize(e) { const { storefront: t, language: i, isDefaultLanguage: r } = vp.normalize(e), s = dT[t].some(a => { var l; return i !== a.tag && ((l = a.tag) == null ? void 0 : l.split("-")[0]) === i.split("-")[0] }), o = r ? null : s ? i : i.split("-")[0]; return { storefront: t, language: o } } static load(e, t, i) { const r = new vp(t, i); return e.set(hT, r), gee(e, r), r } constructor(e, t) { this.storefront = e, this.language = t } }; function hee(n) { const e = {}; for (const { locales: r } of Cl) for (const { id: s, language: o, isDefault: a } of r) a && (e[s] = { languages: [], defaultLanguage: o }), s in e && e[s].languages.push(o); const t = (n || "").toLowerCase(), i = t in e ? t : qr; return { storefront: i, ...e[i] } } function mee(n, e, t) { function i(o) { return { language: o, isDefaultLanguage: o === t } } n === "iw" && (n = "he"); const r = ub(n, e, (o, a) => o === a); if (r) return i(r); const s = ub(n, e, (o, a) => o.split("-")[0] === a.split("-")[0]); return i(s || t) } function ub(n, e, t) { return e.find(i => t(i.toLowerCase(), n.toLowerCase())) } function Tn() { const n = gi(hT); if (!n) throw new Error("getLocale called before Locale.load"); return n } class pee { constructor(e) { this.defaultStorefront = e } normalize(e) { const { storefront: t, language: i } = e; return xr.canonicalize({ storefront: t != null ? t : this.defaultStorefront, language: i }) } } class E1 { constructor(e) { this.logger = e } static create(e, t) { return new E1(e.loggerFor(t)) } build(e) { return new _ee(this.logger, e) } } class _ee { constructor(e, t) { He(this, "shouldQueueMessages", !1); this.logger = e, this.label = t } log(...e) { this.delegate("info", e) } warn(...e) { this.delegate("warn", e) } error(...e) { this.delegate("error", e) } flushMessages() { } delegate(e, t) { if (!this.logger) return; const i = this.logger[e].bind(this.logger); if (this.label) { const r = `${this.label}:`, [s, ...o] = t; typeof s == "string" ? i(`${r} ${s}`, ...o) : i(r, ...t) } else i(...t) } } class vee { constructor() { He(this, "platform", "web") } get osBuild() { throw Gc("osBuild") } get deviceModel() { return "web" } get devicePhysicalModel() { throw Gc("devicePhysicalModel") } get deviceLocalizedModel() { return "" } get deviceModelFamily() { throw Gc("deviceModelFamily") } get clientIdentifier() { return "unknown" } get clientVersion() { throw Gc("clientVersion") } isOSAtLeast(e, t, i) { return !0 } } function Gc(n) { return new Error(`\`Host\` property \`${n}\` is not implemented for the "web" platform`) } const Bu = "eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IldlYlBsYXlLaWQifQ.eyJpc3MiOiJBTVBXZWJQbGF5IiwiaWF0IjoxNzU4NzUxNzA0LCJleHAiOjE3NjYwMDkzMDQsInJvb3RfaHR0cHNfb3JpZ2luIjpbImFwcGxlLmNvbSJdfQ.bLKDeWQ2afKGnJ6uJ4ZrhmthvhZhcV9n_Htlo0H-65lMgnVmeaAlfvMp5Efc4YiCzCTySrHRzBMoJWQ3zV9ELg", bee = "x-apple-jingle-correlation-key", yee = ["https://amp-api.music.apple.com", "https://amp-api-edge.music.apple.com"]; class wee { constructor(e, t) { var i; this._getITFEValues = () => { }, this.underlyingFetch = e, this._getITFEValues = (i = t == null ? void 0 : t.getITFEValues) != null ? i : this._getITFEValues } async fetch(e) { const t = Hh(), i = new URL(e.url); if (yee.includes(i == null ? void 0 : i.origin)) { e.headers = e.headers || {}, e.headers.Authorization = `Bearer ${Bu}`, e.headers.origin = "https://music.apple.com"; const h = Ci("media-user-token"); h && (e.headers["media-user-token"] = h); const m = this._getITFEValues(); m && i.searchParams.set("itfe", m) } const r = await this.underlyingFetch(i.toString(), { credentials: "include", ...e }), s = Hh(), { ok: o, redirected: a, status: l, statusText: u, url: c } = r, d = D$(r.headers), f = await r.text(), g = Hh(); return { ok: o, headers: d, redirected: a, status: l, statusText: u, url: c, body: f, metrics: [{ clientCorrelationKey: r.headers.get(bee), pageURL: r.url, requestStartTime: t, responseStartTime: s, responseEndTime: g }] } } } function Hh() { return Date.now() } class mT { constructor(e) { this.log = e.loggerFor("jet/dependencies/persistence") } getValueForKey(e, t) { if (typeof window > "u") return; const i = window.localStorage.getItem(cb(e)); if (i) try { return JSON.parse(i) } catch (r) { this.log.debug(r) } } setValueForKey(e, t, i) { if (typeof window > "u") return; this.log.info(`set persistence value for ${e}:`, t); let r = t; try { window.localStorage.setItem(cb(e, i), JSON.stringify(r)) } catch (s) { this.log.debug(s) } } } function cb(n, e, t = null) { return [`motw-pref:${n}`, t].filter(Boolean).join("-") } class kee { nextBoolean() { return Math.random() < .5 } nextNumber() { return Math.random() } nextUUID() { return lA() } } function Ec(n) { const { rawResponse: e } = Rr(n) || {}, { userStorefront: t } = e || {}; if (!t) return null; const i = nt.languageTag(n); return xr.normalize({ storefront: t, language: i }) } function Mg(n) { const { rawResponse: e } = Rr(n) || {}, { userStorefront: t } = e || {}; return t } function Xn(n) { const e = Ec(n); if (!e) throw new Error("called fixLibraryObjectGraph when signed out"); const i = fa.inject(Ue.bag, n).bagImplementation; return n.adding(Ue.bag, new nt(i.withDifferentLocale(e.storefront, e.language))) } function Dee(n, e) { const { language: t, storefront: i, ...r } = e, s = See(n, { language: t, storefront: i }); return Object.keys(r).forEach(o => { s.param(o, r[o]) }), s.toString() } function See(n, e) { const t = new Ln("https://music.apple.com"), { storefront: i, language: r } = e; return dr.isSome(i) && t.path(i), t.path(n.substring(1)), dr.isSome(r) && t.param("l", r), t } function vs(n, e) { return { $kind: "flowAction", destination: n, actionMetrics: e } } const pa = { [x.Album]: z.Albums, [x.AppleCurator]: z.AppleCurators, [x.Artist]: z.Artists, [x.ArtistUploadedVideo]: z.UploadedVideos, [x.ArtistUploadedSong]: z.UploadedAudios, [x.Curator]: z.Curators, [x.EditorialItem]: z.EditorialItems, [x.Movie]: z.MusicMovies, [x.MusicVideo]: z.MusicVideos, [x.Playlist]: z.Playlists, [x.PlaylistFolder]: z.Playlists, [x.RecordLabel]: z.RecordLabels, [x.RadioStation]: z.Stations, [x.SocialProfile]: z.SocialProfiles, [x.Song]: z.Songs, [x.TVEpisode]: z.TVEpisodes, [x.TVSeason]: z.TVShows, [x.TVShow]: z.TVShows }, Ic = { [z.Albums]: x.Album, [z.AppleCurators]: x.AppleCurator, [z.Artists]: x.Artist, [z.Curators]: x.Curator, [z.EditorialItems]: x.EditorialItem, [z.LibraryAlbums]: x.Album, [z.LibraryArtists]: x.Artist, [z.LibraryMusicVideos]: x.MusicVideo, [z.LibraryPlaylists]: x.Playlist, [z.LibraryPlaylistFolders]: x.PlaylistFolder, [z.LibrarySongs]: x.Song, [z.MusicVideos]: x.MusicVideo, [z.MusicMovies]: x.Movie, [z.PersonalSocialProfiles]: x.SocialProfile, [z.Playlists]: x.Playlist, [z.RecordLabels]: x.RecordLabel, [z.SocialProfiles]: x.SocialProfile, [z.Songs]: x.Song, [z.Stations]: x.RadioStation, [z.TVEpisodes]: x.TVEpisode, [z.TVShows]: x.TVShow, [z.UploadedVideos]: x.ArtistUploadedVideo, [z.UploadedAudios]: x.ArtistUploadedSong }, pT = [z.LibraryAlbums, z.LibraryArtists, z.LibraryPlaylists, z.LibraryPlaylistFolders, z.LibrarySongs, z.LibraryMusicVideos], I1 = { [x.Album]: z.LibraryAlbums, [x.Artist]: z.LibraryArtists, [x.Playlist]: z.LibraryPlaylists, [x.PlaylistFolder]: z.LibraryPlaylistFolders, [x.Song]: z.LibrarySongs, [x.MusicVideo]: z.LibraryMusicVideos }, Cee = [z.Activities, z.AppleCurators, z.Curators, z.EditorialElements, z.EditorialItems, z.Groupings, z.RecordLabels, z.SocialProfiles, z.Stations, z.TVSeasons, z.UploadedAudios, z.UploadedVideos], Lg = [x.Song, x.Album, x.Playlist, x.MusicVideo, x.TVEpisode], Uu = [x.RadioStation, x.TVShow, x.AppleCurator, x.Curator, x.Movie, x.ArtistUploadedVideo, x.EditorialItem, x.RecordLabel], _T = [x.Song, x.Album, x.MusicVideo, x.Playlist], Hu = [z.Albums, z.Artists, z.MusicVideos, z.Playlists, z.Songs, z.Stations, z.LibraryAlbums, z.LibraryMusicVideos, z.LibraryPlaylists, z.LibrarySongs], M1 = [z.Albums, z.Artists, z.MusicVideos, z.Playlists, z.Songs, z.LibraryAlbums, z.LibraryArtists, z.LibraryMusicVideos, z.LibraryPlaylists, z.LibrarySongs], Pee = [...new Set([...Hu, ...M1])], Mc = [x.ArtistUploadedVideo, x.MusicVideo, x.Movie, x.TVShow, x.TVEpisode, x.TVSeason], ef = [x.Album, x.Playlist], Aee = Object.freeze({ [x.Artist]: "product-center-crop", [x.RadioStation]: "product-center-crop", [x.Playlist]: "product-center-crop", [x.ArtistUploadedSong]: "product-center-crop", [x.RecordLabel]: "product-center-crop" }); function Eee(n) { return !!(n && typeof n == "object" && "contentDescriptor" in n && xo(n.contentDescriptor)) } function Iee(n) { return (Array.isArray(n) ? n : [n]).filter(xo) } function db(n) { return (Array.isArray(n) ? n : [n]).map(t => { if (Eee(t)) return t; if (xo(t)) return { contentDescriptor: t } }).filter(Boolean) } function Pr(n) { const e = n == null ? void 0 : n.identifiers, i = ["cloudUniversalLibraryID", "libraryPersistentID", "socialProfileID", "storeCloudAlbumID", "storeAdamID", "storeCloudID", "storePurchasedAdamID"].find(r => e == null ? void 0 : e[r]); return i && e[i] } const Mee = [x.Song, x.MusicVideo]; function Tg(n) { if (!(n != null && n.identifiers)) return !1; const { cloudUniversalLibraryID: e, storeAdamID: t } = n == null ? void 0 : n.identifiers; return Mee.includes(n.kind) && !!e && !!t } function vT(n) { if (!(n != null && n.identifiers)) return !1; const { cloudUniversalLibraryID: e, storeAdamID: t } = n.identifiers; return n.kind === x.Song && !!e && !t } function fr(n) { return Tg(n.contentDescriptor) ? n.contentDescriptor.identifiers.storeAdamID : Qt(n) } function Qt(n) { return Pr(n == null ? void 0 : n.contentDescriptor) } function Pl(n) { return !!(n != null && n.identifiers) && vl(n).has("library") && !Tg(n) } function Rg(n) { let e = pa[n.kind]; return Pl(n) && I1[n.kind] || e } function ta({ contentDescriptor: n }) { return Rg(n) } var bT = (n => (n.Name = "LibraryPlaylistPageIntent", n))(bT || {}); function eo(n) { return { ...n, $kind: "LibraryPlaylistPageIntent" } } function Lee(n) { return n.$kind === "LibraryPlaylistPageIntent" } var yT = (n => (n.Name = "LibraryArtistsPageIntent", n))(yT || {}); function Fg(n) { return { ...n, $kind: "LibraryArtistsPageIntent" } } function Tee(n) { return n.$kind === "LibraryArtistsPageIntent" } var wT = (n => (n.Name = "LibraryAlbumPageIntent", n))(wT || {}); function Og(n) { return { ...n, $kind: "LibraryAlbumPageIntent" } } function Ree(n) { return n.$kind === "LibraryAlbumPageIntent" } class Fee { constructor(e) { this.log = e.loggerFor("jet/dependencies/recent-library-searches-provider") } async retrieveRecentLibrarySearches(e, t) { if (!(e != null && e.length)) return Promise.resolve([]); const i = e.map(u => u.contentDescriptor), r = new je("/v1/me/library", t), s = {}; if (i.forEach(u => { let c = ta({ contentDescriptor: u }); if (Pl(u) && u.kind !== "song" && c) { const d = `ids[${c}]`, f = Qt({ contentDescriptor: u }); s[d] ? s[d] += `,${f}` : s[d] = `${f}` } }), !Object.keys(s).length) return Promise.resolve([]); r.queryString.addParameters({ fields: "artwork,artistName,url,name,playParams,inLibrary,contentRating,requiresSubscription,kind,editorialArtwork,postUrl,movieClips", "relate[songs]": "albums", include: "artists,curator", "include[editorial-items]": "contents", "fields[editorial-items]": "editorialNotes", "omit[resource]": "autos", ...s }); const o = await pt({ url: r.string }, t), a = Ge(Ue.localization, t); return this.createLockupsFromMusicAPIResponse(o, i, a, t) } createLockupsFromMusicAPIResponse(e, t, i, r) { var u; const { language: s, storefront: o } = Ec(r), a = (u = e.body) == null ? void 0 : u.resources; if (!a) return this.log.error(r, `No resources found for MAPI response: '${JSON.stringify(e)}'`), []; const l = []; return t.forEach(c => { var m, v, b, y, k, S, C; const d = c.kind, f = Qt({ contentDescriptor: c }), g = "top-search-lockup", h = ta({ contentDescriptor: c }); if (d && f) { const P = (m = a[h]) == null ? void 0 : m[f]; if (P) { const M = this.getSubtitleForContentKind(d, P, i), R = { dictionary: (v = P.attributes) == null ? void 0 : v.artwork }; let F; d === x.Album ? F = vs({ kind: pi.LibraryPage, intent: Og({ id: f, storefront: o, language: s }) }, { data: [], custom: {} }) : d === x.Playlist ? F = vs({ kind: pi.LibraryPage, intent: eo({ id: f, storefront: o, language: s }) }, { data: [], custom: {} }) : d === x.Artist && (F = vs({ kind: pi.LibraryPage, intent: Fg({ artistId: f, storefront: o, language: s }) }, { data: [], custom: {} })); const N = { id: qe(g, f, r), artwork: R, contentDescriptor: c, playAction: d !== x.Artist ? Rt(c, r) : null, segue: F, showExplicitBadge: ((b = P.attributes) == null ? void 0 : b.contentRating) === "explicit", title: (C = (y = P.attributes) == null ? void 0 : y.name) != null ? C : (S = (k = P.attributes) == null ? void 0 : k.editorialNotes) == null ? void 0 : S.name, subtitle: M || "", subheadline: null, pauseAction: xi(), resumeAction: Wi(), artworkTreatment: null }; l.push(N) } } }), l } getSubtitleForContentKind(e, t, i) { var s, o, a; const r = this.localizedNameForContentKind(e, i); if (e === x.Playlist || e === x.Album) { const l = (a = (s = t.attributes) == null ? void 0 : s.artistName) != null ? a : (o = t.attributes) == null ? void 0 : o.curatorName; if (l) return i.string("ASE.Web.Music.ContentA.Middot.ContentB", { contentA: r, contentB: l }) } return r } localizedNameForContentKind(e, t) { switch (e) { case x.Album: return t.string("ASE.Web.Music.Library.Headers.album"); case x.Playlist: return t.string("ASE.Web.Music.IXDisplayableKind.playlist.one"); case x.Artist: return t.string("ASE.Web.Music.Library.Headers.artist") } } } class Oee { get isExplicitContentRestricted() { return !1 } get areMusicVideosRestricted() { return !1 } get isTVRestricted() { return !1 } get areMoviesRestricted() { return !1 } get isSocialDisabled() { return !1 } } const Nee = "Individual"; var Hi = (n => (n.NotActive = "notActive", n.Voice = "voice", n.Premium = "premium", n))(Hi || {}); function fb(n) { const e = n == null ? void 0 : n.filter(t => t.subscriptionType === Nee)[0]; return e ? { isFreeTrial: Uee(e), introPeriod: Bee(e), introPrice: e == null ? void 0 : e.introOfferPrice, basePriceString: e == null ? void 0 : e.price, isIntroOffer: e == null ? void 0 : e.isIntroOffer } : {} } function Bee(n) { const e = n == null ? void 0 : n.introPeriod; if (!e) return; const [, t] = e.match(/^P(\d+)M$/) || []; return parseInt(t) } function Uee(n) { var t; if (!(n != null && n.isIntroOffer)) return !1; const e = typeof (n == null ? void 0 : n.introOfferPrice) == "string" ? (t = n == null ? void 0 : n.introOfferPrice) == null ? void 0 : t.replace(/\D/g, "") : n == null ? void 0 : n.introOfferPrice; return parseFloat(e) === 0 } async function Hee() { const t = { url: "https://musicstatus.music.apple.com/v1/web/status", headers: {}, method: "GET" }; return t.headers.Authorization = `Bearer ${Bu}`, fetch(t.url, { credentials: "include", ...t }).then(i => i.json()).catch(i => { kn("subscriptions").error("error while getting userInfo:", i) }) } class $ee { constructor(e, t) { var i, r; this.bag = e, this._hasMediaUserToken = () => !1, this._getUserStorefront = () => { }, this._hasMediaUserToken = (i = t == null ? void 0 : t.hasMediaUserToken) != null ? i : this._hasMediaUserToken, this._getUserStorefront = (r = t == null ? void 0 : t.getUserStorefront) != null ? r : this._getUserStorefront } get subscriptionStatus() { var r; const e = this._hasMediaUserToken(), t = this._getUserStorefront(); this.isUserInHomeStorefront = (t == null ? void 0 : t.toLowerCase()) === this.bag.string("countryCode").toLowerCase(); const i = e && this.isUserInHomeStorefront; return { accountStatus: this.getAccountStatus(i), capabilities: i ? ["fullCatalogPlayback", "anyCatalogPlayback", "cloudLibraryEligible", "addCatalogContentToCloudLibrary", "catalogLyricsViewing"] : [], accountIdentifier: e ? "1" : void 0, hasFamily: !1, hasFamilyMembers: !1, isFamilyOrganizer: !1, isFamilySubscription: !1, isMinor: !1, rawResponse: { userStorefront: t != null ? t : null, music: { isInGlidePreview: ((r = this.user) == null ? void 0 : r.subscriberType) === Hi.Voice } } } } refreshSubscriptionStatus() { } async fetch(e) { return this.subscriptionStatus } updateUserInfo(e) { var t, i, r; this.user = e, this.isUserInHomeStorefront = ((i = (t = this.user) == null ? void 0 : t.subscriptionStorefront) == null ? void 0 : i.toLowerCase()) === ((r = this.bag.string("countryCode")) == null ? void 0 : r.toLowerCase()) } getAccountStatus(e) { const { subscriberType: t } = this.user || {}; return typeof t > "u" ? e ? "subscribed" : "needsAuthentication" : t === Hi.NotActive ? "notSubscribed" : "subscribed" } } class Vee { constructor() { this._userProfile = { isSocialOnboarded: !0, isVerified: !1, isPrivate: !1, id: void 0, handle: void 0 } } get userProfile() { return this._userProfile } updateUserProfile(e) { var t, i, r, s, o, a, l; this._userProfile = { isSocialOnboarded: (t = e == null ? void 0 : e.userSocialProfileDescriptor) == null ? void 0 : t.isOnboarded, isVerified: (i = e == null ? void 0 : e.userSocialProfileDescriptor) == null ? void 0 : i.isVerified, isPrivate: (r = e == null ? void 0 : e.userSocialProfileDescriptor) == null ? void 0 : r.isPrivate, id: (a = (o = (s = e == null ? void 0 : e.userSocialProfileDescriptor) == null ? void 0 : s.contentDescriptor) == null ? void 0 : o.identifiers) == null ? void 0 : a.socialProfileID, handle: (l = e == null ? void 0 : e.userSocialProfileDescriptor) == null ? void 0 : l.handle } } async fetchUserSocialProfile() { } } var kT = (n => (n.Name = "GetStaticCanonicalUrlIntent", n))(kT || {}); function zee(n) { return { ...n, $kind: "GetStaticCanonicalUrlIntent" } } function qee(n) { return { ...n, $kind: "ProcessDeepLinkIntent" } } function Wee(n) { return { $kind: "UpdateFavoritesIntent", ...n } } function Kee(n) { return { $kind: "CuratorDetailPageIntent", contentDescriptor: n } } function Jee(n) { function e(t) { return "contentDescriptor" in t } return e(n) && tt(n.contentDescriptor) } function Yee(n) { return "storefront" in n && "language" in n } function Xee(n) { return { $kind: "RadioStationPlaybackIntent", contentDescriptor: n } } var DT = (n => (n.Name = "indexPageIntent", n))(DT || {}); function Zee(n) { return { $kind: "indexPageIntent", ...n } } const Qee = { $intentKind: DT.Name, routes(n) { return [{ rules: [{ path: "/", query: ["l?"], regex: [/^https:\/\/([^.]+\.)?music\.apple\.com\/(\?.*)?$/i] }, { path: "/{storefront}", query: ["l?"], regex: [/^https:\/\/([^.]+\.)?music\.apple\.com\/[a-z]{2}\/?(\?.*)?$/i] }], handler(e, t) { return Zee(qt({ storefront: t.storefront, language: t.l }, n)) } }] }, async perform() { throw new Error("IndexPageIntent should never be dispatched") }, actionFor(n, e, t) { const { redirect: i, tab: r } = jee(n, e); return Lt([ri(r, Ve, e), At({ kind: vt.CatalogPage, intent: i }, t.metrics || Ve)], Ve) } }; function jee(n, e) { const { storefront: t, language: i } = n, r = { storefront: t, language: i }; return Qs(e) ? { redirect: ma(r), tab: { kind: bt.Home } } : { redirect: ur(r), tab: { kind: bt.New } } } function Ao(n, e, t, i) { return Lt([ri(e, Ve, t), At({ kind: pi.LibraryPage, intent: n }, i.metrics || Ve)], Ve) } function Al(n) { return { ...n, $kind: "DeleteLockupIntent" } } async function ST(n) { const e = new je("/v1/me/account", n); return e.queryString.shouldIncludeFormatResourcesMap = !1, e.queryString.shouldIncludeLanguage = !1, e.queryString.addParameters({ meta: "subscription", "challenge[subscriptionCapabilities]": "voice,premium" }), pt({ url: e.string }, n) } function Gee(n, e) { const t = /-\{q\}/.test(n), i = new URL(n), r = i.pathname.lastIndexOf("/"), s = i.pathname.substring(0, r); let o = decodeURI(i.pathname.substring(r)), a = ""; e && !t ? o = o.replace(zH, (u, c, d) => (a = c ? c.replace("-", "") : a, `-{q}.${d}`)) : !e && t && (o = o.replace("-{q}", "")), i.pathname = `${s}${o}`; let l = i.toString(); return l = `${l.substring(0, r)}${decodeURI(l.substring(r))}`, [l, a] } function xee(n, e = JSON.stringify, t = 5) { const i = new Map; return (...r) => { const s = e(r); if (i.has(s)) return i.get(s); const o = n.apply(this, r); if (i.size >= t) { const l = i.keys().next().value; i.delete(l) } return i.set(s, o), o } } const ete = ["xlarge", "large", "medium", "small", "xsmall"]; function L1(n) { const { PROFILES: e } = Df.get(); return typeof n == "string" ? e.get(n) : n } function tte(n, e, t) { return { width: n, height: Math.round(n * (1 / e)), crop: t } } const tf = n => { const [, e] = L1(n); return e === null ? null : e }, nte = n => { const [e, t] = L1(n), i = e[0]; return { width: i, height: Math.floor(i / t) } }, ite = n => { const e = L1(n), [t, i, r] = e; return t.reduce((o, a, l) => (o[ete[l]] = tte(a, i, r), o), {}) }, rte = n => n === "bf", CT = n => { const { xlarge: e, large: t, medium: i, small: r, xsmall: s } = n; return s || r || i || t || e }, PT = (n, e) => e ? n.width <= e : !0, AT = n => { const { BREAKPOINTS: e } = Df.get(), t = n ? ite(n) : {}, i = eA(e); return [Object.keys(i).reduce((o, a) => { if (t[a]) { const l = t[a].width, u = t[a].height, c = t[a].crop; o[a] = { width: l, height: u, crop: c } } return o }, {}), i] }; function ste(n, e, t) { const [i] = AT(e); let r = Object.values(i).filter(s => PT(s, t)); return r.length === 0 && (r = [CT(i)]), r.map(s => ({ crop: s.crop, width: s.width, height: s.height, quality: n.quality, fileType: n.fileType })) } function ote(n, e, t, i) { var c; const { width: r, height: s, template: o } = n, a = (c = i == null ? void 0 : i.height) != null ? c : 0, l = { fileType: t, quality: e }, u = { maxHeight: s + a, maxWidth: r }; return [o, l, u] } function ET(n, e, t = !1) { const i = n.split("/"), r = i.pop(); let s = n; const o = r.match(Xv), a = o ? o.pop() : null, l = !t && $d.test(r); if (e && a && !l) { const u = t ? r.replace($d, "$1x$2{c}.{f}") : r.replace(Xv, "$1x$2{c}").replace(VH, "{f}"); s = `${i.join("/")}/${u}` } return s } function ho(n, e, t, i) { if (!n) return null; let r = n; const { width: s, height: o, quality: a, crop: l, fileType: u } = e; (t == null ? void 0 : t.forceCropCode) !== !1 && (r = ET(r, l)); const [c, d] = Gee(r, a); r = c; const f = Number.isInteger(a) ? a.toString() : d; let g = r.replace("{w}", s == null ? void 0 : s.toString()).replace("{h}", o == null ? void 0 : o.toString()).replace("{c}", l).replace("{q}", f).replace("{f}", u); if (i != null && i.style) { const h = g.includes("?") ? "&" : "?"; g += `${h}style=${i.style}` } return g } function ate(n, e) { const t = { ...e }; return $d.test(n) && delete t.crop, ho(n, t, {}) } function lte(n, e, t, i, r, s) { var y; const { maxWidth: o } = t, a = e.height, l = e.width, u = (y = s == null ? void 0 : s.height) != null ? y : 0, c = Math.ceil(l * i), { crop: d } = e, f = o || c, g = rte(d) ? c : Math.min(c, f), h = Math.round(g * a / l) + Math.round(u * i), m = r, v = { ...e, crop: d, width: g, height: h }; return `${ho(n, v, m, s)} ${v.width}w` } function ute(n, e, t, i, r, s) { const o = ste(e, t, i.maxWidth), a = { forceCropCode: !1 }, { pixelDensities: l = WH, ...u } = r, c = { ...a, ...u }, d = new Set; for (const f of l) for (const g of o) d.add(lte(n, g, i, f, c, s)); return [...d].join(",") } function cte(n, e = null) { const [t, i] = AT(n), s = Object.entries(t).filter(([, o]) => PT(o, e)).map(([o, a], l, u) => { let c = i[o]; const { width: d } = a, f = `${d}px`, g = l === 0, h = l === u.length - 1; if (g) { const m = c.split("and"); if (m.length > 1) { const [, v] = m; c = v } } return h ? f : `${c} ${f}` }); return s.length ? s.join(",") : `${CT(t).width}w` } const dte = xee(cte); function gb(n, e, t, i) { const r = e.fileType || jP; let s = e.quality || QP, o = null; const a = r === "webp"; a && (s = null); const [l, u, c] = ote(n, s, r, i); return l && !(a && !l.includes("{f}")) && (o = ute(l, u, t, c, e, i)), o } function IT(n) { var t, i; const e = (t = n == null ? void 0 : n.attributes) == null ? void 0 : t.avatarArtwork; return { avatarArtworkUrl: e ? ho(e == null ? void 0 : e.url, { width: e.width, height: e.height, crop: "cc", fileType: "jpg" }, {}) : null, subscriptionStorefront: n == null ? void 0 : n.subscription.storefront, subscriberType: fte(n == null ? void 0 : n.meta), isSubscribed: (i = n == null ? void 0 : n.subscription.active) != null ? i : !1 } } function fte(n = {}) { const { challenge: e = {} } = n, { subscriptionCapabilities: t = [] } = e; return t.includes("premium") ? Hi.Premium : t.includes("voice") ? Hi.Voice : Hi.NotActive } function bi(n) { return n === Hi.Premium } function MT(n) { return n === Hi.Voice } function LT(n) { return n != null && n !== Hi.NotActive } function TT(n) { var r, s, o; const e = (r = n.body) == null ? void 0 : r.meta, { attributes: t } = (o = (s = n.body) == null ? void 0 : s.data) == null ? void 0 : o[0], i = { attributes: t, subscription: e == null ? void 0 : e.subscription, meta: e }; return IT(i) } function RT(n, e) { const t = n.id || Pr(n.contentDescriptor), i = n.contentDescriptor ? vl(n.contentDescriptor) : new Set; let r; i.has("catalog") ? r = `/v1/catalog/${nt.countryCode(e)}/playlists/${t}/tracks` : r = `/v1/me/library/playlists/${t}/tracks`; const s = new je(r, e); return s.queryString.addParameters({ "include[songs]": "artists,composers", "fields[artists]": "name,url", "fields[library-songs]": "id,artwork,url", "omit[resource]": "autos" }), pt({ url: s.string }, e) } async function gte(n, e) { const t = []; n == null || n.forEach(async i => { const r = new Promise(async s => { var o; await Promise.allSettled((o = i == null ? void 0 : i.items) == null ? void 0 : o.map(async a => { if (!a.artwork) { const { contentDescriptor: l } = a; if ((l == null ? void 0 : l.kind) === x.Playlist) { const u = await RT({ contentDescriptor: l }, e), c = u.body.resources, f = new gt(c, e).resources(u.body.data), g = Pg(f); a.trackArtwork = g } } })), s({}) }); t.push(r) }), await Promise.allSettled(t) } function hb(n, e) { if (!Vn(e)) return n; const t = { ...bn(n.canonicalURL, e), description: void 0, noFollow: !0 }; return { ...n, seoData: t } } const hte = ["onboarding-required-section-header", "onboarding-required-section-button"], FT = { ...UL, async perform(n, e) { var s, o; let t; if (Qs(e)) { const a = await ST(e); a && (t = TT(a)) } const i = mp(n); if (bi(t == null ? void 0 : t.subscriberType)) { const a = Xn(e), l = await BL(a), u = hb({ ...NL(n, l, y1(a)), canonicalURL: i }, a); if (((s = u == null ? void 0 : u.sections) == null ? void 0 : s.find(f => hte.includes(f.id))) && ((o = window == null ? void 0 : window.location) != null && o.assign)) { const f = nt.countryCode(a); window.location.assign(`https://music.apple.com/${f}/onboarding/labels`) } else await gte(u.sections, a); const d = { id: "redCarpetToolTip", itemKind: "redCarpetTooltip", items: [{}], presentation: { kind: "single" } }; return u.sections.unshift(d), u } return { ...hb({ pageMetrics: tn(e, {}, "grouping", "Home", null, "HomeLandingUpsell"), invalidationRules: { eventTriggers: [{ events: [{ name: "subscriptionStatusChange" }], intent: zi(n, "Subscription Status Change") }] }, ignoresSocialBadging: !0, sections: [], canonicalURL: i }, e), renderListenNowUpsellPage: !0 } } }; function Fr(n, { confirm: e } = {}) { return { ...n, async perform(t, i) { return Qs(i) ? n.perform(t, Xn(i)) : typeof window < "u" && !e ? FT.perform(ma({ storefront: t.storefront, language: t.language }), i) : { sections: [], confirm: OT(i, e), pageMetrics: { instructions: [], pageFields: {} } } } } } function T1(n) { var t; const e = Ci("media-user-token"); if (e) { const i = JSON.parse(localStorage.getItem(`music-app-library:sort-preferences-user-${e}`)); return ((t = i == null ? void 0 : i[n]) == null ? void 0 : t.currentSort) || "" } return "" } function OT(n, e) { if (e) { const t = fa.inject(Ue.localization, n); return Object.keys(e).reduce((i, r) => (i[r] = t.string(e[r]), i), {}) } } function Ng(n, e, t) { var i; return { title: n, showSeparator: !1, trailingAccessoryButtons: ((i = e == null ? void 0 : e.sorts) == null ? void 0 : i.length) > 0 ? [gK(`${n}-sort`, (e == null ? void 0 : e.sorts.map(r => ({ id: r.name, label: r.displayName }))) || [], e == null ? void 0 : e.currentSort)] : [] } } class ei { static string(e, t, i) { return Qe.string(e, t, i) } } var NT = (n => (n.Name = "LibrarySongsPageIntent", n))(NT || {}); function BT(n) { return { ...n, $kind: "LibrarySongsPageIntent" } } function mte(n) { return n.$kind === "LibrarySongsPageIntent" } async function pte(n, e, t, i) { const r = new je("/v1/me/library/songs", i); return r.queryString.addParameters({ platform: "web", offset: `${n}`, limit: `${e}`, meta: "sorts", "include[library-songs]": "catalog" }), t && r.queryString.addParameters({ sort: t }), pt({ url: r.string }, i) } async function UT(n, e, t, i) { const r = t != null ? t : T1("songs"), s = await pte(n, e, r, i); return _te(s, i) } function _te(n, e) { var l, u, c, d, f, g; const t = (l = n == null ? void 0 : n.body) == null ? void 0 : l.data, i = (c = (u = n == null ? void 0 : n.body) == null ? void 0 : u.meta) == null ? void 0 : c.total, r = (d = n == null ? void 0 : n.body) == null ? void 0 : d.meta; if (!t) throw new Error("No resource identifiers in Library Songs items response"); const s = (f = n.body) == null ? void 0 : f.resources; if (!s) throw new Error("No resource map in Library Songs items response"); const a = new gt(s, e).resources(t).map(h => { var B, U, K, W; const { attributes: m, id: v } = h, { albumName: b, artistName: y, durationInMillis: k, name: S, contentRating: C } = m, P = st(m == null ? void 0 : m.artwork), M = wc(h, e), R = rt(h, e), F = Rt(R, e); R.identifiers = { cloudUniversalLibraryID: v }; const N = (W = (K = (U = (B = h.relationships) == null ? void 0 : B.catalog) == null ? void 0 : U.data) == null ? void 0 : K[0]) == null ? void 0 : W.id; return N && (R.identifiers.storeAdamID = N), { id: v, albumName: b, artistName: y, name: S, artwork: P, durationInMillis: k, playAction: F, pauseAction: xi(), resumeAction: Wi(), contentRating: C, contentDescriptor: R, isDisabled: M } }); return { total: i, next: (g = n.body) == null ? void 0 : g.next, items: a, metadata: r } } function Eo(n) { return { instructions: [{ data: { topic: void 0, shouldFlush: !1, fields: { eventType: "page" }, includingFields: ["pageFields", "languages"], excludingFields: [] }, invocationPoints: [mr.PageInvocationPoint.pageEnter] }], pageFields: n, custom: {} } } function vte(n, e, t) { return { custom: {}, data: [{ excludingFields: [], fields: { actionDetails: { kind: e }, actionType: n, eventType: "click", targetId: t, targetType: "button" }, includingFields: ["pageFields"], shouldFlush: !1 }] } } const { routes: bte, makeCanonicalUrl: yte } = Ei(BT, "/library/songs", []), wte = Fr({ $intentKind: NT.Name, routes: bte, async perform(n, e) { var o; const t = (o = n.metadata) == null ? void 0 : o.currentSort, i = await UT(0, 100, t, e), r = Ng(ei.string("ASE.Web.Music.SideBar.Songs", e), i == null ? void 0 : i.metadata), s = [{ id: "librarySongs", itemKind: "librarySongs", items: i == null ? void 0 : i.items, presentation: { kind: "collection", layout: "list" }, metadata: { total: i == null ? void 0 : i.total } }]; return { pageMetrics: Eo({ page: "Picker_LibrarySongsMain", pageId: "LibrarySongsMain", pageType: "Picker" }), header: r, webInvalidationRules: { eventTriggers: [{ events: [{ name: "libraryItemsDeleted" }], intent: Al({ data: { sections: s } }) }, { events: [{ name: "sortByChanged" }], intent: zi(n, "Sort By changed") }] }, sections: s, libraryType: "songs", canonicalURL: yte(n) } }, actionFor(n, e, t) { return Ao(n, { kind: bt.Songs }, e, t) } }); var HT = (n => (n.Name = "LibrarySongsRequestItemsIntent", n))(HT || {}); function Bze(n) { return { ...n, $kind: "LibrarySongsRequestItemsIntent" } } const kte = { $intentKind: HT.Name, async perform(n, e) { const { offset: t, limit: i, metadata: r } = n; return UT(t, i, r == null ? void 0 : r.currentSort, Xn(e)) } }; var $T = (n => (n.Name = "LibraryAlbumsPageIntent", n))($T || {}); function VT(n) { return { ...n, $kind: "LibraryAlbumsPageIntent" } } function Dte(n) { return n.$kind === "LibraryAlbumsPageIntent" } const zT = { "fields[albums]": "artistName,artistUrl,artwork,contentRating,editorialArtwork,name,playParams,releaseDate,url" }, Ste = "Apple Music", qT = ["albums", "all-playlists", "artists", "folder", "made-for-you", "pin", "playlist", "recently-added", "songs"]; var WT = (n => (n[n.LIBRARY_PLAYLISTS_UPDATE = 1e3] = "LIBRARY_PLAYLISTS_UPDATE", n))(WT || {}); const KT = 3, Cte = "/v1/me/library/albums"; async function Pte(n, e, t, i) { const r = new je(Cte, i); return r.queryString.addParameters({ platform: "web", offset: `${n}`, limit: `${e}`, includeOnly: "catalog,artists", "include[library-albums]": "artists", "include[albums]": "artists", "fields[artists]": "name,url", meta: "sorts", ...zT }), t && r.queryString.addParameters({ sort: t }), pt({ url: r.string }, i) } var JT = (n => (n.Name = "LibraryPlaylistFolderPageIntent", n))(JT || {}); function R1(n) { return { ...n, $kind: "LibraryPlaylistFolderPageIntent" } } var Bg = (n => (n["recently-added"] = "recently-added", n.artists = "artists", n.albums = "albums", n.songs = "songs,", n["made-for-you"] = "MadeForYou", n))(Bg || {}); const Cn = Tt(null), Ate = {}, Ete = () => { const { set: n, subscribe: e, update: t } = Tt(Ate); return { set: n, subscribe: e, update: () => t(({ currentTab: i }) => ({ currentTab: $t(Cn), previousTab: i })) } }, mb = Ete(), Ite = xu(Cn, n => { var e; return mb.update(), (e = $t(mb).previousTab) != null ? e : null }); function Mte(n, e, t) { var h, m, v, b, y, k, S, C, P, M, R, F, N, O, B, U; const i = qe("library-album", n.id, t), { language: r, storefront: s } = Ec(t), o = (b = (v = (m = (h = n.relationships) == null ? void 0 : h.catalog) == null ? void 0 : m.data) == null ? void 0 : v[0]) == null ? void 0 : b.id, a = (y = e.albums) == null ? void 0 : y[o], l = (C = (S = (k = a == null ? void 0 : a.relationships) == null ? void 0 : k.artists) == null ? void 0 : S.data) == null ? void 0 : C.map(K => { var W; return (W = e == null ? void 0 : e.artists) == null ? void 0 : W[K == null ? void 0 : K.id] }).filter(Boolean), u = { ...(P = n.attributes) == null ? void 0 : P.artwork, ...(M = a == null ? void 0 : a.attributes) == null ? void 0 : M.artwork }, c = u != null && u.url ? st(u) : null, d = vs({ kind: pi.LibraryPage, intent: Og({ id: n.id, storefront: s, language: r }) }, { data: [], custom: {} }), f = [{ title: (R = n.attributes) == null ? void 0 : R.name, segue: d }]; let g = [{ title: (F = n.attributes) == null ? void 0 : F.artistName, segue: En((N = a == null ? void 0 : a.attributes) == null ? void 0 : N.artistUrl, n.id, t) }]; return (l == null ? void 0 : l.length) > 0 && (g = l.map(K => { var W, Z; return { title: (W = K == null ? void 0 : K.attributes) == null ? void 0 : W.name, segue: En((Z = K == null ? void 0 : K.attributes) == null ? void 0 : Z.url, n.id, t) } })), { artwork: c, id: i, numberOfSocialBadges: 0, segue: d, shareUrl: (B = (O = a == null ? void 0 : a.attributes) == null ? void 0 : O.url) != null ? B : null, subtitleLinks: g, titleLinks: f, trackCount: (U = n.attributes) == null ? void 0 : U.trackCount } } function Lte(n, e, t, i = !1) { var m, v, b, y, k, S, C, P, M, R, F, N, O, B, U, K; const r = qe("library-playlist", n.id, t), { language: s, storefront: o } = Ec(t), a = (y = (b = (v = (m = n.relationships) == null ? void 0 : m.catalog) == null ? void 0 : v.data) == null ? void 0 : b[0]) == null ? void 0 : y.id, l = (k = e.playlists) == null ? void 0 : k[a], u = (S = n.attributes) != null && S.artwork ? (C = n.attributes) == null ? void 0 : C.artwork : (P = l == null ? void 0 : l.attributes) == null ? void 0 : P.artwork, c = u != null && u.url ? st(u) : null, d = n.attributes.trackArtwork, f = vs({ kind: pi.LibraryPage, intent: eo({ id: n.id, storefront: o, language: s }) }, { data: [{ fields: { actionType: "navigate", eventType: "click", pageType: "Library", pageId: Bg[(M = $t(Cn)) == null ? void 0 : M.type], targetId: n.id, targetType: "playlist" }, shouldFlush: !1, includingFields: ["pageFields", "languages"], excludingFields: [] }], custom: {} }), g = [{ title: (R = n.attributes) == null ? void 0 : R.name, segue: f }]; let h = []; if (!((F = n.attributes) != null && F.canEdit)) { let Z = IE((N = l == null ? void 0 : l.attributes) == null ? void 0 : N.lastModifiedDate, t, !1) || (i ? void 0 : ((O = l == null ? void 0 : l.attributes) == null ? void 0 : O.curatorName) || Ste); Z && h.push({ title: Z }) } return { id: r, artwork: c, trackArtwork: d, shareUrl: (U = (B = l == null ? void 0 : l.attributes) == null ? void 0 : B.url) != null ? U : null, numberOfSocialBadges: 0, segue: f, subtitleLinks: h, titleLinks: g, canDelete: (K = n.attributes) == null ? void 0 : K.canDelete } } function Tte(n, e) { var s, o; const t = qe("library-playlist-folder", n.id, e), i = vs({ kind: pi.LibraryPage, intent: R1({ id: n.id, storefront: null, language: null }) }, { data: [{ fields: { actionType: "navigate", eventType: "click", pageType: "Library", pageId: Bg[(s = $t(Cn)) == null ? void 0 : s.type], targetId: n.id, targetType: "playlist-folder" }, shouldFlush: !1, includingFields: ["pageFields", "languages"], excludingFields: [] }], custom: {} }), r = [{ title: (o = n.attributes) == null ? void 0 : o.name, segue: i }]; return { id: t, numberOfSocialBadges: 0, segue: i, titleLinks: r } } function Lc(n, e, t, i = !1) { const r = new gt(e, t), s = rt(n, t, r), o = Rt(s, t); switch (n.type) { case z.LibraryAlbums: return { contentDescriptor: s, playAction: o, ...Mte(n, e, t) }; case z.LibraryPlaylists: return { contentDescriptor: s, playAction: o, ...Lte(n, e, t, i) }; case z.LibraryPlaylistFolders: return { contentDescriptor: s, playAction: o, ...Tte(n, t) } } } const Io = (n, e, t) => { var s, o; const i = (s = n == null ? void 0 : n.body) == null ? void 0 : s.data, r = (o = n == null ? void 0 : n.body) == null ? void 0 : o.resources; return (n == null ? void 0 : n.statusCode) > 299 ? (e.error(`Non 200 status code from ${t} response. Status code: ${n.statusCode}`), !0) : i ? r ? !1 : (e.error(`No resource map in ${t} response`), !0) : (e.error(`No resource identifiers in ${t} response`), !0) }; async function YT(n, e, t, i) { const r = t != null ? t : T1("albums"), s = await Pte(n, e, r, i); return Rte(s, i) } function Rte(n, e) { var u, c, d, f, g, h; let t = (c = (u = n == null ? void 0 : n.body) == null ? void 0 : u.meta) == null ? void 0 : c.total; const i = e.required(hi); if (Io(n, i, "Library Albums")) return; const r = (d = n == null ? void 0 : n.body) == null ? void 0 : d.data, s = (f = n == null ? void 0 : n.body) == null ? void 0 : f.meta, o = (g = n.body) == null ? void 0 : g.resources, l = new gt(o, e).resources(r).map(m => Lc(m, o, e)); return { total: t, items: l, next: (h = n == null ? void 0 : n.body) == null ? void 0 : h.next, metadata: s } } var XT = (n => (n.Name = "LibraryAlbumsRequestItemsIntent", n))(XT || {}); function Fte(n) { return { ...n, $kind: "LibraryAlbumsRequestItemsIntent" } } const { routes: Ote, makeCanonicalUrl: Nte } = Ei(VT, "/library/albums", []), Bte = Fr({ $intentKind: $T.Name, routes: Ote, async perform(n, e) { var r; let t, i = (r = n.metadata) == null ? void 0 : r.currentSort; try { t = await YT(0, 100, i, e) } catch (s) { throw new Error(`an error occurred at LibraryAlbumsPageIntentController: ${s}`) } return Ute(t, n, e) }, actionFor(n, e, t) { return Ao(n, { kind: bt.Albums }, e, t) } }); function Ute(n, e, t) { const i = Ng(ei.string("ASE.Web.Music.SideBar.Album", t), n == null ? void 0 : n.metadata), r = { kind: "virtualScroll" }, s = [{ id: "libraryAlbums", itemKind: "squareLockup", items: (n == null ? void 0 : n.items) || [], presentation: r, fetchIntent: a => { var l; return Fte({ ...a, currentSort: (l = n == null ? void 0 : n.metadata) == null ? void 0 : l.currentSort }) }, metadata: n == null ? void 0 : n.metadata }]; return { pageMetrics: Hte(), header: i, invalidationRules: { eventTriggers: [{ events: [{ name: "libraryItemsDeleted" }], intent: Al({ data: { sections: s } }) }, { events: [{ name: "sortByChanged" }], intent: zi(e, "Sort By changed") }] }, sections: s, libraryType: "albums", canonicalURL: Nte(e) } } function Hte() { return Eo({ page: "Picker_LibraryAlbumsMain", pageId: "LibraryAlbumsMain", pageType: "Picker" }) } const $te = { $intentKind: XT.Name, async perform(n, e) { const { offset: t, limit: i, currentSort: r } = n; return YT(t, i, r, Xn(e)) } }; async function Vte(n, e) { const t = new je(`/v1/me/library/albums/${n}`, e); return t.queryString.addParameters({ platform: "web", includeOnly: "catalog,artists,tracks", "include[library-albums]": "artists,tracks", "include[music-videos]": "catalog,artists,tracks", "include[albums]": "artists,tracks", "fields[artists]": "name,url" }), pt({ url: t.string }, e) } function zte(n) { return { ...n, $kind: "UpdateLibraryAlbumViewModelIntent" } } const { routes: qte, makeCanonicalUrl: Wte } = js(Og, "/library/albums/{id}"), Kte = Fr({ $intentKind: wT.Name, routes: qte, async perform(n, e) { var M, R, F, N, O, B, U, K, W, Z, Q, G, ae, ee, pe, ke, we, Te, ge; const { id: t } = n, i = await Vte(t, e), r = (M = i.body) == null ? void 0 : M.data; if (!r || r.length === 0) throw new Error("No resource identifiers in container detail page response"); const s = (R = i.body) == null ? void 0 : R.resources; if (!s) throw new Error("No resource map in container detail page response"); const a = new gt(s, e).resource(r[0]), l = (N = (F = i.body.resources) == null ? void 0 : F["library-albums"]) == null ? void 0 : N[t]; if (!l.attributes.artistName && !((O = l.attributes.genreNames) != null && O.length)) throw new Error("Missing data in library-albums resource identifier"); const u = (U = (B = i.body.resources) == null ? void 0 : B["library-songs"]) != null ? U : {}, c = (W = (K = i.body.resources) == null ? void 0 : K.songs) != null ? W : {}, d = (ae = (G = (Q = (Z = l == null ? void 0 : l.relationships) == null ? void 0 : Z.catalog) == null ? void 0 : Q.data) == null ? void 0 : G[0]) == null ? void 0 : ae.id, f = (pe = (ee = i.body.resources) == null ? void 0 : ee.albums) == null ? void 0 : pe[d], g = (Te = (we = (ke = f == null ? void 0 : f.relationships) == null ? void 0 : ke.artists) == null ? void 0 : we.data) == null ? void 0 : Te.map(Ce => Ce == null ? void 0 : Ce.id), h = g == null ? void 0 : g.map(Ce => { var Ae, ze, Pe, Oe, _e; const he = (Pe = (ze = (Ae = i.body.resources) == null ? void 0 : Ae.artists) == null ? void 0 : ze[Ce]) != null ? Pe : {}; if (he != null && he.attributes) return { id: Ce, name: (Oe = he.attributes) == null ? void 0 : Oe.name, url: (_e = he.attributes) == null ? void 0 : _e.url } }).filter(Boolean); l.attributes.copyright = (f == null ? void 0 : f.attributes.copyright) || null, l.attributes.recordLabel = (f == null ? void 0 : f.attributes.recordLabel) || null; let m = Ou(i, e, n, n.prominentItemIdentifier); const v = f ? { ...i, body: { ...i.body || {}, data: [{ id: d, type: z.Albums }] } } : null, b = v ? Ou(v, e, n, d) : null, y = m.sections.find(Ce => Ce.itemKind === "containerDetailHeaderLockup"), k = (ge = y == null ? void 0 : y.items) == null ? void 0 : ge[0], S = m.sections.find(Ce => Ce.itemKind === "trackLockup"); if (k && ((h == null ? void 0 : h.length) > 0 && (k.subtitleLinks = h.map(Ce => ({ title: Ce.name, segue: En(Ce == null ? void 0 : Ce.url, Ce == null ? void 0 : Ce.id, e) }))), b)) { const Ce = b.sections.findIndex(Pe => Pe.itemKind === "containerDetailHeaderLockup"), he = b.sections.find(Pe => Pe.itemKind === "containerDetailHeaderLockup"); k.artwork = he.items[0].artwork; const Ae = he.items[0].classicalButton || null; Ae && (k.classicalButton = Ae), S && (S.containerArtwork = k.artwork); const ze = { ...y, items: [{ ...k, playButton: k.playButton, shuffleButton: he.items[0].shuffleButton }] }; b.sections[Ce] = ze } const C = f && Object.keys(u).length !== Object.keys(c).length, P = Wte(n); return { ...m, canonicalURL: P, libraryType: "album", catalogPage: b, showTrackListToggle: C, seoData: { pageTitle: JM(l, e, {}) }, webInvalidationRules: { eventTriggers: [{ events: [{ name: "libraryItemsDeleted" }], intent: zi(n, "Library Item Deleted") }, { events: [{ name: "libraryItemAdded" }], intent: zte({ data: { librarySongsResource: u, catalogSongsResource: c, libraryAlbumPageData: m, catalogAlbumPageData: b, container: a, canonicalURL: P, refreshPageIntent: zi(n, "Library Item Deleted") }, name: "addTrackToPage" }) }] } } } }), Jte = { $intentKind: "UpdateLibraryAlbumViewModelIntent", perform(n, e) { var t, i, r, s, o; if (n.name === "addTrackToPage") { let a, l = 0; n.data.catalogAlbumPageData.sections.every((y, k) => { var C; const S = (C = y.items) == null ? void 0 : C.find(P => { var M; return P.id.includes((M = n.metadata) == null ? void 0 : M.id) }); return S ? (a = S, l = k, !1) : !0 }); let u = n.data.libraryAlbumPageData.sections; u[l].items.push(a), u[l].items.sort((y, k) => { if (y.trackNumber < k.trackNumber) return -1 }); let c = n.data.catalogSongsResource[(t = n.metadata) == null ? void 0 : t.id], d = { ...n.data.librarySongsResource, [(i = n.metadata) == null ? void 0 : i.id]: c }; const f = new gt({ songs: n.data.catalogSongsResource, "library-songs": d }, e); let g = (r = n.data) == null ? void 0 : r.container; (o = (s = g == null ? void 0 : g.relationships) == null ? void 0 : s.tracks) == null || o.data.push(c); const h = iL(g, f, e); u = u.filter(y => (y == null ? void 0 : y.itemKind) !== "containerDetailTracklistFooterLockup"), u.push(h); const v = u.filter(y => y.itemKind === "trackLockup").reduce((y, k) => y + k.items.length, 0) !== Object.keys(n.data.catalogSongsResource).length, b = { instruction: "replacePage", newPage: { ...n.data.libraryAlbumPageData, canonicalURL: n.data.canonicalURL, libraryType: "album", catalogPage: n.data.catalogAlbumPageData, showTrackListToggle: v, sections: [...u], webInvalidationRules: { eventTriggers: [{ events: [{ name: "libraryItemsDeleted" }], intent: n.data.refreshPageIntent }] } } }; return Promise.resolve({ instruction: b }) } } }; var ZT = (n => (n.Name = "SelectLibraryArtistIdIntent", n))(ZT || {}); function QT(n) { return { ...n, $kind: "SelectLibraryArtistIdIntent" } } async function Yte(n, e, t, i) { const r = new je("/v1/me/library/artists", i); return r.queryString.addParameters({ platform: "web", offset: `${n}`, limit: `${e}`, include: "catalog", meta: "sorts" }), t && r.queryString.addParameters({ sort: t }), pt({ url: r.string }, i) } async function Xte(n, e) { const t = new je(`/v1/me/library/artists/${encodeURIComponent(n)}`, e); return t.queryString.addParameters({ platform: "web", "omit[resource]": "autos", "include[library-artists]": "albums,catalog", "fields[library-artists]": "classicalUrl,name,url" }), pt({ url: t.string }, e) } async function jT(n, e) { const t = await Xte(n, e); return Zte(t, e) } function Zte(n, e) { var f; const t = e.required(hi); if (Io(n, t, "Library Artist Details")) return; const i = (f = n.body) == null ? void 0 : f.resources, r = new gt(i, e), [s] = r.resourcesForType(z.LibraryArtists), o = r.resources(s == null ? void 0 : s.relationships.albums.data), a = o.map(g => { var P, M, R; const { attributes: h, relationships: m } = g, { releaseDate: v, artistName: b } = h, y = Lc(g, i, e), { segue: k } = y; let S = $n(v, e), C; if (S) C = [{ title: S, segue: k }]; else { const F = (R = (M = (P = s == null ? void 0 : s.relationships) == null ? void 0 : P.catalog) == null ? void 0 : M.data[0]) == null ? void 0 : R.id, N = r.resource({ id: F, type: z.Artists }); if (C = [{ title: b, segue: k }], N) { const { id: O, attributes: B } = N, U = B == null ? void 0 : B.url; C = [{ title: b, segue: En(U, O, e) }] } } return y.subtitleLinks = C, y }), l = rt(s, e), u = o.map(g => rt(g, e, r)), c = UE(u, e, void 0, l), d = hJ(u, e, void 0, l); return { id: "libraryArtist", artist: GT(s, r, e, c, d), items: a, presentation: { kind: "collection", layout: "grid" }, itemKind: "squareLockup" } } function GT(n, e, t, i, r) { var c, d, f, g, h; let { attributes: s, id: o } = n; const { name: a } = s, l = (d = (c = n == null ? void 0 : n.relationships) == null ? void 0 : c.catalog) == null ? void 0 : d.data; let u = { id: o, name: a, ...i ? { playAction: i } : {}, ...r ? { shuffleAction: r } : {} }; if (l && l.length > 0) { const m = l[0].id, v = e.resourceWithID(m, z.Artists); (f = v == null ? void 0 : v.attributes) != null && f.classicalUrl && (u.classicalButton = { id: qe("classical-button", m, t), segue: En(v.attributes.classicalUrl, m, t) }); const b = ig(z.Artists, x.Artist, m); b != null && b.identifiers && (b.identifiers.cloudUniversalLibraryID = o), u.contentDescriptor = b, u.artwork = st((g = v == null ? void 0 : v.attributes) == null ? void 0 : g.artwork), u.catalogId = m, u.segue = pc(v, t), u.shareUrl = (h = v == null ? void 0 : v.attributes) == null ? void 0 : h.url } return u } async function xT(n, e, t, i) { const r = t != null ? t : T1("artists"), s = await Yte(n, e, r, i); return Qte(s, i) } function Qte(n, e) { var u, c, d, f, g; const t = (u = n == null ? void 0 : n.body) == null ? void 0 : u.meta, i = (d = (c = n == null ? void 0 : n.body) == null ? void 0 : c.meta) == null ? void 0 : d.total, r = e.required(hi); if (Io(n, r, "Library Artists")) return; const s = (f = n == null ? void 0 : n.body) == null ? void 0 : f.data, o = (g = n.body) == null ? void 0 : g.resources, a = new gt(o, e), l = a.resources(s).map(h => GT(h, a, e)); return { total: i, items: l, metadata: t } } const { routes: jte, makeCanonicalUrl: pb } = Ei(Fg, "/library/artists", [], { extraRules: [{ path: "/library/artists/{artistId}", query: ["l?"] }, { path: "/{storefront}/library/artists/{artistId}", query: ["l?"] }] }), Gte = Fr({ $intentKind: yT.Name, routes: jte, async perform(n, e) { var d, f; let t = (d = n.metadata) == null ? void 0 : d.currentSort; const i = await xT(0, 100, t, e), r = Ng(ei.string("ASE.Web.Music.SideBar.Artists", e), i == null ? void 0 : i.metadata), s = [{ id: "libraryArtists", itemKind: "libraryArtists", items: i == null ? void 0 : i.items, presentation: { kind: "collection", layout: "list" }, metadata: { total: i == null ? void 0 : i.total, selectedId: n.artistId } }], o = n.artistId ? `${pb(n)}/${encodeURIComponent(n.artistId)}` : pb(n), a = i == null ? void 0 : i.items.find(g => g.id === n.artistId), l = eR((f = a == null ? void 0 : a.catalogId) != null ? f : n.artistId), u = "artists", c = zi(n, "Sort By changed"); return { pageMetrics: l, header: r, sections: s, libraryType: u, canonicalURL: o, webInvalidationRules: { eventTriggers: [{ events: [{ name: "selectedArtistIdChanged" }], intent: QT({ data: { sections: s, libraryType: u, header: r, refreshIntent: c } }) }, { events: [{ name: "sortByChanged" }], intent: c }] } } }, actionFor(n, e, t) { return Ao(n, { kind: bt.Artists }, e, t) } }); function eR(n) { const e = Eo({ pageType: "Artist" }); return n && (e.pageFields.page = `Artist_${n}`, e.pageFields.pageId = n), e } var tR = (n => (n.Name = "LibraryArtistPageIntent", n))(tR || {}); function xte(n) { return { ...n, $kind: "LibraryArtistPageIntent" } } const { routes: ene, makeCanonicalUrl: tne } = js(xte, "/library/artist/{id}"), nne = Fr({ $intentKind: tR.Name, routes: ene, async perform(n, e) { const t = await jT(n.id, e), i = tne(n), r = ine(n.id); return { canonicalURL: i, libraryType: "artist", pageMetrics: r, sections: [t] } }, actionFor(n, e, t) { return Ao(n, { kind: bt.Artist }, e, t) } }); function ine(n) { const e = Eo({ pageType: "Artist" }); return n && (e.pageFields.page = `Artist_${n}`, e.pageFields.pageId = n), e } var nR = (n => (n.Name = "LibraryArtistDetailsIntent", n))(nR || {}); function rne(n) { return n.$kind === "LibraryArtistDetailsIntent" } function Uze(n) { return { ...n, $kind: "LibraryArtistDetailsIntent" } } const sne = { $intentKind: nR.Name, async perform(n, e) { const { id: t } = n; return jT(t, Xn(e)) } }; var iR = (n => (n.Name = "LibraryPlaylistPagePaginateIntent", n))(iR || {}); function rR(n) { return { ...n, $kind: "LibraryPlaylistPagePaginateIntent" } } var sR = (n => (n.Name = "CreatePlaylistIntent", n))(sR || {}); function one(n) { return { ...n, $kind: "CreatePlaylistIntent" } } var oR = (n => (n.Name = "UpdatePlaylistIntent", n))(oR || {}); function ane(n) { return { ...n, $kind: "UpdatePlaylistIntent" } } function Tc(n) { let e = []; const t = []; return n.forEach(i => { i.id.type === "folder" ? e.push(i) : i.id.type === "playlist" && (i.isFavoritesPlaylist ? e.unshift(i) : t.push(i)) }), e.length > 0 && (e = e.map(i => { var r; return ((r = i == null ? void 0 : i.children) == null ? void 0 : r.length) > 0 ? { ...i, children: Tc(i.children) } : i }), e.sort((i, r) => { var s, o; return r.isFavoritesPlaylist ? 1 : (o = i == null ? void 0 : i.label) == null ? void 0 : o.toLowerCase().localeCompare((s = r == null ? void 0 : r.label) == null ? void 0 : s.toLowerCase()) })), t.sort((i, r) => { var s, o; return (o = i == null ? void 0 : i.label) == null ? void 0 : o.toLowerCase().localeCompare((s = r == null ? void 0 : r.label) == null ? void 0 : s.toLowerCase()) }), [...e, ...t].filter(i => typeof i.label == "string") } function lne(n, e) { function t(i, r, s) { var a, l, u, c; const o = s[r]; if (((a = i == null ? void 0 : i.id) == null ? void 0 : a.resourceId) !== ((l = o == null ? void 0 : o.id) == null ? void 0 : l.resourceId) || ((u = i.children) == null ? void 0 : u.length) !== ((c = o.children) == null ? void 0 : c.length)) return !0; if (i.children && o.children) return i.children.length !== o.children.length || i.children.some((f, g) => t(f, g, o.children)) } return n.length !== e.length || n.some((i, r) => t(i, r, e)) } function aR(n, e) { let t = n.items; const i = t.reduce((r, s) => { var o; return r + ((o = s.duration) != null ? o : 0) }, 0); return nL(t.length, i, e) } function lR(n, e, t) { return (n == null ? void 0 : n.reduce((i, r) => { if (r.id.resourceId !== e) r.id.type === "folder" ? i.push({ ...r, children: uR(r.children, e) }) : i.push(r); else { let s = t(r); s && i.push(s) } return i }, [])) || [] } function uR(n, e) { return lR(n, e, () => { }) } function nf(n, e) { return { targetType: "button", targetId: n, eventType: "click", actionType: "select", pageDetails: null, pageDisplayType: "cardView", pageId: e || "NewPlaylist", pageType: "Playlist", page: e ? `Playlist_${e}` : "Playlist_NewPlaylist" } } const to = Tt(null), wd = Tt(!1), kd = Tt(!1), Dd = Tt(null), cR = Tt(null), F1 = Tt([]), dR = n => { to.set(n) }, une = n => { to.update(e => { const t = [...e, n]; return Tc(t) }) }, cne = n => { to.update(e => { const t = uR(e, n); return Tc(t) }) }, dne = (n, e) => { to.update(t => { let i = lR(t, n, r => ({ ...r, label: e })); return Tc(i) }) }, fne = n => { if (!(typeof window > "u")) return to.subscribe(n) }, { subscribe: gne, update: fR } = Tt({ hasNextPage: !1, isLoadingNextPage: !1 }); function hne(n) { fR(e => ({ ...e, hasNextPage: n })) } function _b(n) { fR(e => ({ ...e, isLoadingNextPage: n })) } const mne = { subscribe: gne }; let vb = {}; function O1(n, e) { let t = vb[e] || (vb[e] = { number: Intl.NumberFormat(e, { minimumIntegerDigits: 1 }), numberPadded: Intl.NumberFormat(e, { minimumIntegerDigits: 2 }) }), i = t.number.format, r = t.numberPadded.format; if (n) { const [s = ":"] = new Date().toLocaleTimeString(e).match(/\b[:.]\b/) || [], { hours: o, minutes: a, seconds: l } = gR(n); return o ? [i(o), r(a), r(l)].join(s) : [i(a), r(l)].join(s) } return "" } function Hze(n) { if (n === 0) return "P0D"; const { hours: e, minutes: t, seconds: i } = gR(n); return ["PT", e && `${e}H`, t && `${t}M`, i && `${i}S`].filter(Boolean).join("") } function gR(n) { const e = Math.round(n); return { hours: Math.floor(e / 3600), minutes: Math.floor(e / 60) % 60, seconds: e % 60 } } const hR = "inapp"; class pne { constructor(e) { this.onchangeListeners = [], this.events = new Map, this.delayedEvents = new Map, this.onChange = t => { this.onchangeListeners.push(t) }, this.change = async (t, i) => { const r = i ? a => i(a, t) : null, s = (a, l) => _ne(a, l, t, r), o = this.onchangeListeners.map(a => a(t, s)); await Promise.all(o) }, this.logger = e.loggerFor("InvalidationHandler") } monitorPage(e) { var t; if (this.events.clear(), this.clearDelayedEvents(), this.logger.info("setup page invalidation rules:", e.invalidationRules), "webInvalidationRules" in e && this.setupInvalidationRules(e.webInvalidationRules, this.change), "invalidationRules" in e && this.setupInvalidationRules(e.invalidationRules, this.change), (t = e.sections) == null || t.forEach((i, r) => { i.invalidationRules && (this.logger.info("setup section invalidation rules:", r, i.invalidationRules), this.setupInvalidationRules(i.invalidationRules, (s, o) => { this.change({ ...s, sectionId: i.id }, o) })) }), hne(!!e.nextIntent), e.nextIntent) { const i = { eventTriggers: [{ events: [{ name: "nextPage" }], intent: e.nextIntent }] }; this.logger.info("setup next page:", i), this.setupInvalidationRules(i, async r => { _b(!0); try { await this.change(r) } finally { _b(!1) } }) } } setupInvalidationRules(e, t) { var i; (i = e == null ? void 0 : e.eventTriggers) == null || i.forEach(r => { const s = { ...r }; delete s.events, r.events.forEach(o => { if (o.name === "expirationDate") { let u = o.date && Date.parse(o.date) - +new Date; if ("deferIntentUntilEvents" in r) { const c = r.deferIntentUntilEvents, d = c.includes("nextPageDisappearance") || c.includes("nextPageAppearance"), f = u < -2e3; if (!d || !f) return } u = Math.max(u, 0), this.logger.info("setup expirationDate event", O1(u / 1e3, "us"), { details: s, event: o, delay: u }), this.delayEvent(() => { this.logger.info("execute expirationDate event", { details: s, event: o, delay: u }), t({ intent: { ...r.intent, ..."invalidatingItemIDs" in r ? { invalidatedItemIDs: r.invalidatingItemIDs } : {} } }, (c, d) => vne(c, { ...d, trigger: s, event: o })) }, u); return } if ("deferIntentUntilEvents" in r) return; let a = t; o.delay && (a = (...u) => this.delayEvent(() => t(...u), o.delay)); const l = bb(o); if (l) { const u = this.events.get(l) || []; u.push({ eventTrigger: s, event: o, callback: a }), this.events.set(l, u) } }) }) } trigger(e) { const t = bb(e), i = this.events.get(t); this.logger.info("received invalidation trigger:", t, { trigger: e, events: i }), i && i.forEach(({ eventTrigger: r, callback: s }) => { try { const o = e.metadata, a = "metadata" in r.intent && r.intent.metadata, l = o && a ? { ...o, ...a } : a || o, u = { ...r.intent, metadata: l }; s({ intent: u }) } catch (o) { this.logger.error("trigger invalidation event error:", { details: e, eventTrigger: r }, o) } }) } delayEvent(e, t) { const i = setTimeout(() => { e(), this.delayedEvents.delete(e) }, t); this.delayedEvents.set(e, i) } clearDelayedEvents() { for (const e of this.delayedEvents.values()) clearTimeout(e); this.delayedEvents.clear() } } function bb(n) { const e = n.kind || n.name; return `invalidate-${n.scope || hR}-${e}` } function _ne(n, e, t, i) { var c, d, f, g; if (!e) return; let r, s = (yb(e) ? HY(e) ? e.pageChangeInstructions : [e.pageChangeInstruction] : [e]).map(h => h.instruction); const { section: o, index: a } = zo(n, t.sectionId) || {}, l = () => { r = r || { ...n, sections: [...n.sections || []] } }, u = () => { var h; r.sections = (h = r.sections) == null ? void 0 : h.map(m => ({ ...m, items: [...m.items] })) }; for (let h of s) { switch (h.instruction) { case "replacePage": r = h.newPage, u(); break; case "addItemsToSection": const m = zo(n, h.newSectionToAppendItemsFrom.id); if (!m) break; l(), r.sections[m.index] = { ...m.section, items: [...(c = m.section) == null ? void 0 : c.items, ...h.newSectionToAppendItemsFrom.items] }; break; case "removeItemsFromSections": const v = h.sectionAndItemIdsToRemove; if (!v) break; l(), v.every(N => { var U, K; const O = zo(r, N.id); if (!O) return; const B = O.section.items.filter(W => { const Z = (W == null ? void 0 : W.item) || W; return !N.itemIds.some(G => { var ae; return (ae = Z == null ? void 0 : Z.id) == null ? void 0 : ae.includes(G) }) }); if ((K = (U = O.section) == null ? void 0 : U.metadata) != null && K.total) { const W = O.section.metadata.total, Z = O.section.items.length - B.length; O.section.metadata.total = W - Z } r.sections[O.index] = { ...O.section, items: [...B] } }); break; case "reorderItemsOnSection": const b = h.sectionAndItemIdsToReorder; if (!(b != null && b.id) || !((d = b == null ? void 0 : b.itemIds) != null && d.length)) break; l(); const y = zo(r, b.id); if (!y) break; const k = [], S = [...y.section.items]; b.itemIds.forEach(N => { const O = S.findIndex(B => B.id.includes(N)); O >= 0 && (k.push(S[O]), S.splice(O, 1)) }); const C = { ...y.section, items: k }; r.sections[y.index] = C; break; case "updateItems": l(); let P = "itemKind" in h ? h.items : h.items.map(N => N.item); r = bne(r, t.sectionId || null, P); break; case "replaceSection": const M = (g = (f = zo(n, h.newSection.id)) == null ? void 0 : f.index) != null ? g : a; if (M == null || M < 0) break; l(), r.sections[M] = { ...h.newSection, items: [...h.newSection.items] }; break; case "updateSection": let R = zo(r, h.sectionID); switch (R.section.itemKind) { case "containerDetailTracklistFooterLockup": let N = r.sections.find(B => B.itemKind === "trackLockup"); const O = aR(N, h.objectGraph); r.sections[R.index] = { ...R.section, items: [{ ...R.section.items[0], description: O, hidden: !!e.nextIntent }] }; break }case "discardSection": if (!o) break; l(), r.sections.splice(a, 1); break; case "noOperation": break; default: const F = h; throw new Error(`Unhandled Page Change instruction: ${F}`) }if (r && yb(e) && (r.nextIntent = e.nextIntent), r && "invalidationRulesChange" in e) { const m = e.invalidationRulesChange; if (m.operation === "replace") r.invalidationRules = m.newRules; else if (m.operation === "add") { const v = r.sections[a]; r.sections[a] = { ...v, invalidationRules: { ...v.invalidationRules, eventTriggers: [...v.invalidationRules.eventTriggers, ...m.newRules.eventTriggers] } } } } i && h.instruction !== "replacePage" && (l(), r = i(r) || r) } return r } function vne(n, { sectionId: e, trigger: t, event: i }) { var c; const { section: r } = zo(n, e) || {}, s = e ? r : n, o = ((c = s == null ? void 0 : s.invalidationRules) == null ? void 0 : c.eventTriggers) || []; if (!s || !(o != null && o.length)) return; const a = o.findIndex(d => { const f = { ...d }; return delete f.events, JSON.stringify(f) === JSON.stringify(t) }); if (a < 0) return; const l = o[a], u = l.events.findIndex(d => JSON.stringify(d) === JSON.stringify(i)); if (u >= 0) return l.events.length === 1 ? s.invalidationRules.eventTriggers = [...s.invalidationRules.eventTriggers.filter((d, f) => f !== a)] : l.events = [...l.events.filter((d, f) => f !== u)], n } function zo(n, e) { var r; let t; const i = e && ((r = n == null ? void 0 : n.sections) == null ? void 0 : r.find((s, o) => { if (s.id === e) return t = o, !0 })); if (i && ~t) return { section: i, index: t } } function yb(n) { return "pageChangeInstruction" in n || "pageChangeInstructions" in n } function bne(n, e, t = []) { let i = { ...n }; return t.forEach(r => { const { id: s } = r; if (!s) return; const o = e || s.split(" - ")[0]; let a; const l = n.sections.find((c, d) => { if (c.id === o) return a = d, !0 }), u = l == null ? void 0 : l.items.findIndex(c => c.id === s); if (l && ~u) { l.items[u] = { ...r }; const c = { ...l, items: [...l.items] }; i.sections[a] = c, i.sections = [...i.sections] } }), i } const tr = n => ({ scope: hR, ...n, $kind: "invalidationAction", actionMetrics: Ve }), yne = 6, wne = [x.Album, x.Artist, x.MusicVideo, x.Playlist, x.Song], $ze = 1e4, mR = [x.Album, x.Artist, x.Playlist], wb = "library / pins"; function kne() { const n = Tt([]), { subscribe: e, set: t, update: i } = n; function r(d) { t(d) } function s(d) { if ($t(n).length < yne) i(f => [...f, d]); else throw new Error("Limit reached") } function o(d, f) { i(g => g.filter(h => { var m, v, b, y; return f && ((y = (b = (v = (m = h.segue) == null ? void 0 : m.destination) == null ? void 0 : v.contentDescriptor) == null ? void 0 : b.identifiers) == null ? void 0 : y.storeCloudAlbumID) === d ? !1 : h.id !== d })) } function a(d, f) { i(g => { const h = g.find(m => m.id === d); return h && (h.title = f), [...g] }) } function l(d, f) { i(g => { var b; const h = g.findIndex(y => y.id === d), m = (b = g.splice(h, 1)) == null ? void 0 : b[0], v = g.findIndex(y => y.positionID === f); return g.splice(v + 1, 0, m), [...g] }) } function u(d) { return $t(n).some(f => f.id === d) } function c() { t([]) } return { addPin: s, clearPins: c, isPinned: u, rearrangePin: l, removePin: o, setPins: r, subscribe: e, updatePinTitle: a } } const Mr = kne(); async function Dne({ id: n, title: e, kind: t, contentDescriptor: i = void 0, description: r = void 0, isPublic: s = !1 }, o, a, l = void 0) { const u = { storefront: a.storefront, language: a.language, name: e, description: r, isPublic: s }; t === x.Song ? u.track = { id: n, type: z.Songs } : t === x.MusicVideo ? u.track = { id: n, type: z.MusicVideos } : u.contentDescriptor = i; const c = one(u), d = await o.dispatch(c); d != null && d.id && (une(pR(d)), o.perform(vs({ kind: pi.LibraryPage, intent: eo({ id: d == null ? void 0 : d.id, storefront: null, language: null }) }, { data: [], custom: {} }))) } async function Sne({ id: n, name: e, description: t = void 0, isPublic: i = !1 }, r, s) { const a = ane({ id: n, name: e, description: t, isPublic: i }); await r.dispatch(a), dne(n, e), r.perform(tr({ kind: "playlistHeaderChanged", metadata: { title: e, description: t, isPublic: i } })), Mr.updatePinTitle(n, e) } function pR(n) { const { attributes: e, id: t } = n; return { id: { type: "playlist", resourceId: t }, label: n.attributes.name, url: `/library/playlist/${t}`, segue: vs({ kind: pi.LibraryPage, intent: eo({ id: t, storefront: null, language: null }) }, { data: [], custom: {} }), canDelete: e.canDelete, canEdit: e.canEdit } } function _R(n, e) { if (isNaN(e)) return null; let t = ""; try { t = new URL(n.string).searchParams.get("offset") } catch (r) { return null } return `${(parseInt(t, 10) || 0) + e + 1}` } const Cne = { $intentKind: iR.Name, async perform(n, e) { let t = new je(n.url, e); t.queryString.addParameters({ include: "catalog", "include[songs]": "artists", "fields[songs]": "artistUrl,url", "fields[artists]": "name,url" }); const { body: i } = await pt({ url: t.string }, e), r = i.resources, s = new gt(r, e), a = s.resources(i.data).map((g, h) => So(g.id, g, g.type, { id: n.id }, s, e, !1, n.isChart ? _R(t, h) : null)), u = { instruction: { instruction: "addItemsToSection", newSectionToAppendItemsFrom: { id: `track-list - ${n.id}`, itemKind: "trackLockup", items: a, presentation: { kind: "collection", layout: "list" } } } }, c = { instruction: { instruction: "updateSection", sectionID: `track-list-footer-section - ${n.id}`, objectGraph: e } }, d = { pageChangeInstructions: [u, c] }, f = i.next; return f && (d.nextIntent = rR({ id: n.id, url: f, isChart: n.isChart })), Promise.resolve(d) } }, Pne = { $intentKind: "PlaylistPaginationIntent", async perform(n, e) { const t = new je(n.url, e); t.queryString.addParameters({ "include[songs]": "artists", "fields[artists]": "name,url" }); const { body: i } = await pt({ url: t.string }, e), r = i.resources, s = new gt(r, e), a = s.resources(i.data).map((g, h) => So(g.id, g, g.type, { id: n.id }, s, e, !1, n.isChart ? _R(t, h) : null)), u = { instruction: { instruction: "addItemsToSection", newSectionToAppendItemsFrom: { id: `track-list - ${n.id}`, itemKind: "trackLockup", items: a, presentation: { kind: "collection", layout: "list" } } } }, c = { instruction: { instruction: "updateSection", sectionID: `track-list-footer-section - ${n.id}`, objectGraph: e } }, d = { pageChangeInstructions: [u, c] }, f = i.next; return f && (d.nextIntent = jM("PlaylistPaginationIntent", n.id, f, n.isChart)), Promise.resolve(d) } }; function sl(n, e) { const { storefront: t, language: i, isDefaultLanguage: r } = xr.normalize(e), s = new Ln("https://music.apple.com"); return s.path(t), s.path(n.substr(1)), r || s.param("l", i.split("-")[0]), s.toString() } const Ane = { $intentKind: ZT.Name, perform(n, e) { var d, f; const t = qt({ storefront: nt.countryCode(e), language: nt.languageTag(e) }, e), i = n.metadata.id ? `${sl("/library/artists", t)}/${encodeURIComponent(n.metadata.id)}` : sl("/library/artists", t), r = n.data.sections[0], s = (d = n == null ? void 0 : n.metadata) == null ? void 0 : d.id, o = r == null ? void 0 : r.items.find(g => g.id === s), a = (f = o == null ? void 0 : o.catalogId) != null ? f : s, l = n.data.header, u = [{ ...r, metadata: { total: r.metadata.total, selectedId: s } }], c = { instruction: "replacePage", newPage: { pageMetrics: eR(a), header: l, libraryType: n.data.libraryType, sections: u, canonicalURL: i, webInvalidationRules: { eventTriggers: [{ events: [{ name: "selectedArtistIdChanged" }], intent: QT({ data: { sections: u, libraryType: n.data.libraryType, header: l, refreshIntent: n.data.refreshIntent } }) }, { events: [{ name: "sortByChanged" }], intent: n.data.refreshIntent }] } } }; return Promise.resolve({ instruction: c }) } }; var vR = (n => (n.Name = "LibraryPlaylistsIntent", n))(vR || {}); function bR(n) { return { ...n, $kind: "LibraryPlaylistsIntent" } } function N1(n, e, t = null, i) { const r = new je("/v1/me/recommendations/suggested", e); r.queryString.addParameters({ platform: "web", "omit[resource]": "autos", contexts: "playlist-suggested-songs", "include[songs]": "artists", types: "songs", meta: "source", limit: "20", "fields[songs]": "artwork,name,url,artistName,albumName,previews" }); let s = { targetContent: { id: n, type: z.LibraryPlaylists } }; i && r.queryString.addParameters({ action: "save" }), t && (s = { ...s, ...Mne(t) }); const o = JSON.stringify(s); return pt({ url: r.string, body: o, method: "POST" }, e) } function B1(n, e) { const t = new je("/v1/me/library/playlist-folders/p.playlistsroot/children", n); return t.queryString.addParameters({ platform: "web", include: "catalog", offset: `${e}`, extend: "hasCollaboration", "fields[playlists]": "curatorName", "omit[resource]": "autos", "extend[library-playlists]": "tags" }), pt({ url: t.string }, n) } function yR(n, e, t) { const i = new je(`/v1/me/library/playlist-folders/${e}/children`, n); return i.queryString.addParameters({ platform: "web", offset: `${t}`, extend: "hasCollaboration", "omit[resource]": "autos", "extend[library-playlists]": "tags" }), pt({ url: i.string }, n) } async function Ene(n, e, t) { var o, a, l, u, c, d, f, g, h; const i = new je(`/v1/me/library/playlists/${e}`, n); i.queryString.addParameters({ platform: "web", include: "catalog,artists,tracks", extend: "hasCollaboration,isCollaborativeHost", "extend[library-playlists]": "tags", "include[library-playlists]": "catalog,tracks,playlists", "include[playlists]": "curator", "include[songs]": "artists", "fields[songs]": "artistUrl,artwork,durationInMillis,url", "fields[music-videos]": "artistUrl,artwork,durationInMillis,url", "omit[resource]": "autos", "art[library-music-videos:url]": "c,f", relate: "catalog" }), t && i.queryString.addParameters({ sort: t }); const r = await pt({ url: i.string }, n); let s = null; try { if (s = await Ine(e, r, n), s != null && s.body && ((l = (a = (o = r.body) == null ? void 0 : o.resources) == null ? void 0 : a["library-playlists"]) != null && l[e])) { const m = (c = (u = s == null ? void 0 : s.body) == null ? void 0 : u.data) == null ? void 0 : c[0].id; r.body.resources["library-playlists"][e].views = (h = (g = (f = (d = s == null ? void 0 : s.body) == null ? void 0 : d.resources) == null ? void 0 : f.playlists) == null ? void 0 : g[m]) == null ? void 0 : h.views } } catch (m) { console.error(`error in fetching collaboration metadata: ${m}`) } return { playlistResponse: r, socialMetadataResponse: s } } async function Ine(n, e, t) { var s, o, a, l, u, c, d; const i = (a = (o = (s = e.body) == null ? void 0 : s.resources) == null ? void 0 : o["library-playlists"]) == null ? void 0 : a[n]; if ((l = i == null ? void 0 : i.attributes) == null ? void 0 : l.hasCollaboration) { const f = (d = (c = (u = i == null ? void 0 : i.relationships) == null ? void 0 : u.catalog) == null ? void 0 : c.data) == null ? void 0 : d[0]; if (!f) return null; const g = nt.countryCode(t), h = new je(`/v1/catalog/${g}/playlists/${f == null ? void 0 : f.id}`, t); return h.queryString.addParameters({ platform: "web", "omit[resource]": "autos", "relate[playlists]": "tracks", "fields[playlists]": "tracks", "limit[collaborators]": "100", "fields[collaborators]": "name,handle,artwork,socialProfileUrl,role", with: "lightProfiles", extend: "followState" }), h.queryString.views.add(Ee.Collaborators).add(Ee.FeaturedArtists), h.queryString.addParameters({ "associate[playlists:tracks]": "collaborators,reactions", "include[playlists]": "tracks", "include[reactions]": "social-profile" }), await pt({ url: h.string }, t) } else return null } function Mne(n) { const e = Object.keys(n), t = [], i = []; return e == null || e.forEach(r => { const s = n[r]; s.selected && i.push({ id: r, type: z.Songs, meta: { source: "suggested" } }), t.push({ id: r, type: z.Songs, meta: { impressed: s == null ? void 0 : s.impressed, previewed: s == null ? void 0 : s.previewed } }) }), { offered: { suggested: t }, selected: i } } function wR() { return { $kind: "signOutAction", actionMetrics: { data: [], custom: {} } } } function U1(n) { const e = Array.isArray(n) ? n : [{ contentDescriptor: n }]; if (e.length === 1) return Qt(e[0]) } const kb = (n, e) => ({ ...n, containerItems: e }); function kR(n, e) { let t; return tl(n) ? t = kb(n, e) : yo(n) && (t = { ...n, subactions: n.subactions.map(i => tl(i) ? kb(i, e) : i) }), t || n } const Lne = (n, e = {}) => ({ $kind: "playNowAction", contentDescriptor: n, actionMetrics: { custom: {}, data: [{ excludingFields: [], includingFields: [], shouldFlush: !1, fields: { actionType: "add", targetType: "lcd", targetId: U1(n), actionContext: "drop", actionDetails: { addTo: "StartOfQueue" }, ...e } }] } }), DR = (n, e, t, i = {}) => ({ $kind: "playLaterAction", contentDescriptor: n, ...t ? { featureName: t } : {}, actionMetrics: { custom: e ? { recoID: e } : {}, data: [{ excludingFields: [], includingFields: ["pageFields"], shouldFlush: !1, fields: { actionType: "add", eventType: "click", targetType: "button", targetId: U1(n), actionContext: "contextualAction", actionDetails: { addTo: "EndOfQueue" }, ...i } }] } }), Tne = (n, e, t, i = {}) => ({ $kind: "playNextAction", contentDescriptor: n, ...t ? { featureName: t } : {}, actionMetrics: { custom: e ? { recoID: e } : {}, data: [{ excludingFields: [], includingFields: ["pageFields"], shouldFlush: !1, fields: { actionType: "add", eventType: "click", targetType: "button", targetId: U1(n), actionContext: "contextualAction", actionDetails: { addTo: "StartOfQueue" }, ...i } }] } }), Rne = (n, e) => ({ $kind: "addToQueueAction", items: n, position: e, actionMetrics: { custom: {}, data: [{ excludingFields: [], includingFields: [], shouldFlush: !1, fields: { actionType: "add", targetType: "up-next", actionContext: "drop", actionDetails: { addTo: "PositionInQueue" } } }] } }), SR = (n, e) => ({ $kind: "playQueueItemAction", itemId: n, itemIndex: e, actionMetrics: Ve }), Fne = () => ({ $kind: "clearQueueAction", actionMetrics: Ve }), CR = (n, e) => ({ $kind: "removeQueueItemAction", itemId: n, itemIndex: e, actionMetrics: Ve }), One = () => ({ $kind: "stopPlaybackAction", actionMetrics: Ve }); var ir = (n => (n.Open = "open", n.Close = "close", n))(ir || {}); function vr(n) { return { $kind: "commerceModalAction", operation: n, actionMetrics: { data: [], custom: {} } } } function PR(n, e) { return { $kind: "createStationAction", id: n, kind: e, actionMetrics: { data: [], custom: {} } } } function Nne() { return { $kind: "closeFullScreenPlayerAction", actionMetrics: { data: [], custom: {} } } } function Bne(n, e, t, i) { return { $kind: "manageCollabAction", playlistId: n, playlistName: e, collaborators: t, isCollaborativeHost: i, actionMetrics: { data: [], custom: {} } } } const Une = 10; async function $u(n, e, t = 1, i = 1) { var f, g, h, m, v, b; if (t >= 6) return []; const r = e.required(hi); if (Io(n, r, "Library Playlists")) return; const s = (f = n == null ? void 0 : n.body) == null ? void 0 : f.data, o = (g = n.body) == null ? void 0 : g.resources, a = new gt(o, e), l = (h = n.body) != null && h.next ? parseInt(new URLSearchParams((m = n.body) == null ? void 0 : m.next).get("offset")) : null, u = Math.ceil(((b = (v = n.body) == null ? void 0 : v.meta) == null ? void 0 : b.total) / 100); let d = (await Q$(a.resources(s).map(y => async function () { var M, R; const { attributes: k, id: S, type: C } = y; return C === "library-playlist-folders" ? { id: { type: "folder", resourceId: S }, label: k.name, children: await Hne(e, S, t + 1, r), canDelete: k.canDelete, canEdit: k.canEdit } : { id: { type: "playlist", resourceId: S }, label: k.name, url: `/library/playlist/${S}`, segue: vs({ kind: pi.LibraryPage, intent: eo({ id: S, storefront: null, language: null }) }, { data: [], custom: {} }), canDelete: k.canDelete, canEdit: k.canEdit, isFavoritesPlaylist: (R = (M = k.tags) == null ? void 0 : M.includes("favorited")) != null ? R : !1, isCollaborativePlaylist: k == null ? void 0 : k.hasCollaboration } }), Une)).map(y => { if (y.status === "fulfilled") return y.value; r.error(`Error making Music API request, ${y.reason}`) }); if (l && i <= u) { const y = await $ne(e, l, i + 1, r); d = y ? [...d, ...y] : d } return Tc(d) } async function Hne(n, e, t, i) { try { const r = await yR(n, e); return $u(r, n, t) } catch (r) { return i.error(`Error making Music API request, ${r}`), $u([], n, t) } } async function $ne(n, e, t, i) { try { const r = await B1(n, e); return $u(r, n, 1, t) } catch (r) { return i.error(`Error making Music API request, ${r}`), $u([], n, 1, t) } } async function Vne(n, e) { const t = zne(n, e), i = await Promise.allSettled(t.map(s => s.tracks)), r = e.required(hi); i.forEach((s, o) => { if (s.status === "rejected") { r.info(`Error making Music API request, ${s.reason}`); return } const { value: a } = s, l = a.body.resources, c = new gt(l, e).resources(a.body.data), d = Pg(c); t[o].libraryPlaylist.attributes.trackArtwork = d }) } function zne(n, e) { var r, s; const t = (r = n == null ? void 0 : n.body) == null ? void 0 : r.resources, i = new gt(t, e); return (((s = n == null ? void 0 : n.body) == null ? void 0 : s.data) || []).filter(o => o.type === z.LibraryPlaylists).reduce((o, a) => { var d, f, g, h, m, v, b; const l = i.resource({ id: a.id, type: z.LibraryPlaylists }); if (!l || !((d = l.attributes) != null && d.canEdit) || (f = l.attributes) != null && f.artwork) return o; const u = (v = (m = (h = (g = l == null ? void 0 : l.relationships) == null ? void 0 : g.catalog) == null ? void 0 : h.data) == null ? void 0 : m[0]) == null ? void 0 : v.id, c = u && i.resource({ id: u, type: z.Playlists }); return (b = c == null ? void 0 : c.attributes) != null && b.artwork || o.push({ libraryPlaylist: l, tracks: RT(a, e) }), o }, []) } async function AR(n, e) { const t = await B1(e, n), i = IR(t, e); return i.items = await Cc(i.items, e), i } async function ER(n, e, t) { const i = await yR(t, n, e), r = IR(i, t); return r.items = await Cc(r.items, t), r } function IR(n, e) { var l, u, c, d, f; let t = (u = (l = n == null ? void 0 : n.body) == null ? void 0 : l.meta) == null ? void 0 : u.total; const i = e.required(hi); if (Io(n, i, "Library Playlists")) return; const r = (c = n == null ? void 0 : n.body) == null ? void 0 : c.data, s = (d = n.body) == null ? void 0 : d.resources, a = new gt(s, e).resources(r).map(g => Lc(g, s, e)); return { total: t, items: a, next: (f = n == null ? void 0 : n.body) == null ? void 0 : f.next } } const qne = { $intentKind: vR.Name, async perform(n, e) { var i; const t = Xn(e); try { const r = await B1(t, 0); return $u(r, t) } catch (r) { if (((i = r.userInfo) == null ? void 0 : i.status) != 404) throw new Error(`an error occurred at LibraryPlaylistsIntentController: ${r}`); return [] } } }, Wne = (n, e) => { var i, r; const t = (r = (i = n.relationships) == null ? void 0 : i.tracks) == null ? void 0 : r.data; return t ? e.resources(t) : [] }, Kne = (n, e) => { var o, a; const t = (o = n.relationships) == null ? void 0 : o.catalog, i = (t == null ? void 0 : t.data) && ((a = t.data[0]) == null ? void 0 : a.id), r = n.type, s = { [z.LibraryMusicVideos]: z.MusicVideos, [z.LibrarySongs]: z.Songs }; return e.resource({ id: i, type: s[r] }) }, MR = n => { var o; const t = (a => n.sections.find(l => l.itemKind === a))("trackLockup"), i = { id: "emptyPlaylist", itemKind: "playlistEmpty", items: [{}], presentation: { kind: "single" } }, r = a => n.sections.findIndex(l => l.itemKind === a), s = r(i.itemKind); if (!t || ((o = t == null ? void 0 : t.items) == null ? void 0 : o.length) === 0) { const a = r("containerDetailTracklistFooterLockup"); a !== -1 && s === -1 && n.sections.splice(a - 1, 0, i) } else s > -1 && n.sections.splice(s, 1) }; function Jne(n) { return { $kind: "reorderPlaylistAction", playlistDescriptor: n, actionMetrics: { data: [{ excludingFields: [], includingFields: [], shouldFlush: !1, fields: { actionType: "reorder", targetType: "tracklist", actionContext: "dropAction", eventType: "drop" } }], custom: {} } } } function Vze(n, e, t) { return { ...n, dropIndex: e, data: t } } function Sd(n, e, t) { return { $kind: "togglePreviewAction", itemId: n, itemPreviewUrl: e, state: t, actionMetrics: { data: [], custom: {} } } } const na = 6; function Yne(n, e, t, i) { const r = LR(n, i, e, t) || []; return { containerContentDescriptor: t, id: it("suggestedSongs", e), itemKind: "suggestionsListComponentModel", presentation: { kind: "collection", layout: { kind: "shelf", numberOfRows: 3 } }, items: r, header: { kind: "default", item: { titleLink: { title: ei.string("ASE.Web.Music.Library.Playlists.Suggested", e), segue: null }, subtitles: [ei.string("ASE.Web.Music.Library.Playlists.Suggested.Subtitle", e)], accessoryButtons: [hK("refresh-button", ei.string("ASE.Web.Music.Library.Playlists.Suggested.Subtitle", e), Zne(t))] } }, displaySeparator: !1 } } function LR(n, e, t, i) { var l, u; const r = t.required(hi), s = (l = n.body) == null ? void 0 : l.results.suggested; (!s || s.length === 0) && r.warn("No resource identifiers in suggested songs response"); const o = (u = n.body) == null ? void 0 : u.resources; o || r.warn("No resource map in suggested songs response"); const a = new gt(o, t); return Xne(s, a, t, e, i) } function Xne(n, e, t, i, r) { const s = i.map(a => { var l; return (l = a.relationships.catalog.data[0]) == null ? void 0 : l.id }), o = n.filter(a => !s.includes(a.id)); return e.resources(o).map(a => { var c, d; const l = So(a.id, a, z.LibraryPlaylists, null, e, t, !1); l != null && l.playAction && (l.playAction = { ...l.playAction, containerContentDescriptor: r }); const u = ((c = a.attributes) == null ? void 0 : c.url) || null; return { ...l, segue: Sd(a.id, l == null ? void 0 : l.previewUrl, null), tertiaryLinks: [{ title: (d = a == null ? void 0 : a.attributes) == null ? void 0 : d.albumName, segue: En(u, a.id, t) }] } }).filter(a => !!a) } function Zne(n) { const e = Qt({ contentDescriptor: n }); return { ...tr({ kind: "refreshSuggestions" }), actionMetrics: { data: [{ fields: { eventType: "click", actionType: "refresh", targetId: "refreshSelectedSongs", targetType: "button", actionUrl: null, actionDetails: { kind: "song", sectionName: "suggested", contentId: e } }, shouldFlush: !1, includingFields: ["pageFields", "languages"], excludingFields: [] }], custom: {} } } } function Qne(n, e, t) { return { ...tr({ kind: "suggestionAdded", metadata: { id: n, shouldRefresh: t, librarySong: e } }), actionMetrics: { data: [], custom: {} } } } function jne(n) { const e = n - 1; return e * e * e + 1 } function Gne(n) { return -.5 * (Math.cos(Math.PI * n) - 1) } function Db(n, { delay: e = 0, duration: t = 400, easing: i = jne, x: r = 0, y: s = 0, opacity: o = 0 } = {}) {
    const a = getComputedStyle(n), l = +a.opacity, u = a.transform === "none" ? "" : a.transform, c = l * (1 - o), [d, f] = bv(r), [g, h] = bv(s); return {
        delay: e, duration: t, easing: i, css: (m, v) => `
			transform: ${u} translate(${(1 - m) * d}${f}, ${(1 - m) * g}${h});
			opacity: ${l - c * v}`
    }
} async function H1(n, e, t) { var s; const i = await Ene(t, n, (s = e.metadata) == null ? void 0 : s.currentSort); let r; try { const { canEdit: o } = tie(i, n, t), a = t.required(Ue.subscriptionStatusCoordinator); r = o && a.isUserInHomeStorefront ? await N1(n, t) : null } catch (o) { t.required(hi).error(`error in fetching suggested songs: ${o}`) } return xne(i, t, e, n, r) } async function xne(n, e, t, i, r) { var N, O, B, U, K, W, Z, Q, G, ae; const s = e.required(hi); if (Io(n.playlistResponse, s, "Library Playlist")) return; const o = (N = n.playlistResponse.body) == null ? void 0 : N.resources, a = new gt(o, e), l = a.resource({ id: i, type: z.LibraryPlaylists }), u = (U = (B = (O = l.relationships) == null ? void 0 : O.catalog) == null ? void 0 : B.data) == null ? void 0 : U[0], c = a.resource(u), d = (W = (K = c == null ? void 0 : c.attributes) == null ? void 0 : K.isChart) != null ? W : !1, f = !!((Z = l.attributes.tags) != null && Z.includes("favorited")), g = Ng("", (Q = n.playlistResponse.body) == null ? void 0 : Q.meta), m = { ...await i1(n, e, t, i), header: g, libraryType: "playlist", isFavoritesPlaylist: f }; f && (m.pageMetrics.pageFields.page = "Playlist_FavoriteSongs", m.pageMetrics.pageFields.pageId = "FavoriteSongs"); const v = Wne(l, a), b = rt(l, e, a), y = m.sections.find(ee => ee.itemKind === "trackLockup"); let k = []; y && (k = y == null ? void 0 : y.items, y.containerContentDescriptor = b); const S = m.sections.find(ee => ee.itemKind === "containerDetailHeaderLockup"), C = S == null ? void 0 : S.items[0]; C.isFavoritesPlaylist = f, C.isCollaborativeHost = !!((G = l.attributes) != null && G.isCollaborativeHost), C.isPublic = !!((ae = l.attributes) != null && ae.isPublic); const P = Pg(v); C.trackArtwork = P, MR(m), eie(k, v, a, e), m.webInvalidationRules || (m.webInvalidationRules = { eventTriggers: [] }); const M = !f && Jne(b); if (y && M) { y.canEdit = l.attributes.canEdit, y.reorderAction = M; const ee = { events: [{ name: "libraryItemsReordered" }], intent: { $kind: "ReorderLibraryPlaylistTracksIntent", metadata: { id: l.id } } }; m.webInvalidationRules.eventTriggers.push(ee) } const R = { events: [{ name: "sortByChanged" }], intent: zi(t, "Sort By changed") }; m.webInvalidationRules.eventTriggers.push(R); let F = l.relationships.tracks.next; if (F && (m.nextIntent = rR({ id: l.id, url: F, isChart: d })), typeof (C == null ? void 0 : C.title) > "u" && (!k || k.length === 0) && (m.sections = [{ ...S, items: [{ title: ei.string("ASE.Web.Music.WEB.ERROR.ItemNotAvailableInAppleMusic", e) }] }]), r) { const ee = Yne(r, e, b, v), pe = m.sections.findIndex(ke => ke.itemKind === "containerDetailTracklistFooterLockup"); pe !== -1 && m.sections.splice(pe + 1, 0, ee) } return m.isCollaborativePlaylist = !!l.attributes.hasCollaboration, m } function eie(n, e, t, i) { e.forEach((r, s) => { var l, u; const o = n[s], a = Kne(r, t); if (a && (l = o.tertiaryLinks) != null && l[0]) { const c = ((u = a.attributes) == null ? void 0 : u.url) || null; o.tertiaryLinks[0].segue = En(c, r.id, i) } }) } function tie(n, e, t) { var u; const i = t.required(hi); if (Io(n.playlistResponse, i, "Library Playlist")) return { canEdit: !1, playlistName: "" }; const r = (u = n.playlistResponse.body) == null ? void 0 : u.resources, o = new gt(r, t).resource({ id: e, type: z.LibraryPlaylists }), { name: a, canEdit: l } = (o == null ? void 0 : o.attributes) || {}; return { canEdit: !!l, playlistName: a } } var TR = (n => (n.Name = "UpdateLibraryPlaylistSuggestionsIntent", n))(TR || {}); function $h(n) { return { ...n, $kind: "UpdateLibraryPlaylistSuggestionsIntent" } } var RR = (n => (n.Name = "UpdateLibraryPlaylistHeaderIntent", n))(RR || {}); function nie(n) { return { ...n, $kind: "UpdateLibraryPlaylistHeaderIntent" } } const { makeCanonicalUrl: FR } = js(eo, "/library/playlist/{id}"), $1 = function (n, e) { var t, i; if (n.webInvalidationRules.eventTriggers.push({ events: [{ name: "suggestionAdded" }], intent: $h({ data: { libraryPlaylistPageData: n }, name: "addSuggestionToPlaylist" }) }, { events: [{ name: "refreshSuggestions" }], intent: $h({ data: { libraryPlaylistPageData: n }, name: "refreshSuggestionsShelf" }) }, { events: [{ name: "playlistHeaderChanged" }], intent: nie({ data: { libraryPlaylistPageData: n } }) }), n.isCollaborativePlaylist) { let r = new Date; r.setSeconds(r.getSeconds() + 60), n.invalidationRules.eventTriggers.push({ intent: { $kind: "RefreshLibraryPlaylist", id: e.id, metadata: e.metadata }, events: [{ name: "expirationDate", date: r.toISOString() }, { name: "nextPage" }] }) } return n.isFavoritesPlaylist ? (t = n.webInvalidationRules.eventTriggers) == null || t.push({ events: [{ name: "favoritesPlaylistStatusChanged" }, { name: "libraryItemsDeleted" }], intent: Al({ data: { sections: n.sections } }) }) : (i = n.webInvalidationRules.eventTriggers) == null || i.push({ events: [{ name: "libraryItemsDeleted" }], intent: $h({ data: { libraryPlaylistPageData: n }, name: "deleteLibraryPlaylistTrack" }) }), n }, iie = n => { const e = "/library/playlist/{id}"; return [{ rules: [{ path: e, query: ["l?", "a?", "i?"] }, { path: `/{storefront}${e}`, query: ["l?", "a?", "i?"] }], handler(t, i) { return eo({ id: i.id, action: i.a, token: i.i, ...qt({ storefront: i.storefront, language: i.l }, n) }) } }] }, rie = Fr({ $intentKind: bT.Name, routes: iie, async perform(n, e) { let t = await H1(n == null ? void 0 : n.id, n, e); const i = FR(n); return t.canonicalURL = i, t.pageMetrics.pageFields.pageUrl = i, $1(t, n) }, actionFor(n, e, t) { return Ao(n, { kind: bt.Playlist, id: n.id }, e, t) } }); var OR = (n => (n.Name = "RefreshLibraryPlaylist", n))(OR || {}); const sie = { $intentKind: OR.Name, async perform(n, e) { const { id: t } = n; let i = $1(await H1(t, n, e), n); const s = { instruction: "replaceSection", newSection: i.sections.find(o => o.itemKind === "trackLockup") }; return Promise.resolve({ instruction: s, invalidationRulesChange: { operation: "replace", newRules: i.invalidationRules } }) } }; var NR = (n => (n.Name = "LibraryArtistsRequestItemsIntent", n))(NR || {}); function zze(n) { return { ...n, $kind: "LibraryArtistsRequestItemsIntent" } } const oie = { $intentKind: NR.Name, async perform(n, e) { const { offset: t, limit: i, metadata: r } = n; return xT(t, i, r == null ? void 0 : r.currentSort, Xn(e)) } }; var BR = (n => (n.Name = "LibraryMadeForYouPageIntent", n))(BR || {}); function V1(n) { return { ...n, $kind: "LibraryMadeForYouPageIntent" } } function aie(n) { return n.$kind === "LibraryMadeForYouPageIntent" } async function lie(n, e) { const t = new je("/v1/me/library/playlists", n); return t.queryString.addParameters({ sort: e || "type", platform: "web", "fields[playlists]": "lastModifiedDate", "filter[featured]": "made-for-you", "include[library-playlists]": "catalog", "fields[library-playlists]": "artwork,dateAdded,name,playParams" }), pt({ url: t.string }, n) } const { routes: uie, makeCanonicalUrl: cie } = Ei(V1, "/library/made-for-you", [], { optionalQuery: ["sort"] }), die = Fr({ $intentKind: BR.Name, routes: uie, async perform(n, e) { const t = await lie(e, n.sort); return fie(t, n, e) }, actionFor(n, e, t) { return Ao(n, { kind: bt.MadeForYou }, e, t) } }); function fie(n, e, t) { var l, u; if (t.required(hi), (n == null ? void 0 : n.statusCode) > 299) throw new Error(`Non 200 status code from Library Made For You response. Status code: ${n.statusCode}`); const i = (l = n.body) == null ? void 0 : l.resources, r = (u = n == null ? void 0 : n.body) == null ? void 0 : u.data, o = new gt(i, t).resources(r).map(c => Lc(c, i, t, !0)), a = []; if (o.length) { const f = { kind: "collection", layout: { kind: "grid", flowStyle: "row" } }, { language: g, storefront: h } = Ec(t), m = { kind: "popover", item: { id: "sort", items: [Vh("type", ei.string("ASE.Web.Music.Sorts.PlaylistType", t), "type", h, g), Vh("name", ei.string("ASE.Web.Music.Sorts.Title", t), "name", h, g), Vh("-dateAdded", ei.string("ASE.Web.Music.Sorts.RecentlyAdded", t), "-dateAdded", h, g)], selectedItemID: e.sort || "type" } }; a.push({ id: "libraryMadeForYou", header: { kind: "default", item: { accessoryButtons: [m] } }, itemKind: "squareLockup", items: o, presentation: f }) } else { const c = { kind: "single" }; a.push({ id: "libraryMadeForYou-empty", itemKind: "madeForYouEmpty", items: [{}], presentation: c }) } return { pageMetrics: gie(), sections: a, libraryType: "made-for-you", canonicalURL: cie(e) } } function gie() { return Eo({ pageType: "Library", pageId: "MadeForYou" }) } function Vh(n, e, t, i, r) { const s = V1({ storefront: i, language: r, sort: t }), o = At({ kind: "libraryPage", intent: s }, { data: [], custom: {} }); return { id: n, title: e, segue: o } } async function hie(n, e) { const t = new je("/v1/me/library/playlists", n); return t.queryString.addParameters({ platform: "web", "filter[library-mix]": e, "omit[resource]": "autos" }), pt({ url: t.string }, n) } var UR = (n => (n.Name = "LibraryMixPageIntent", n))(UR || {}); function mie(n) { return { ...n, $kind: "LibraryMixPageIntent" } } const { routes: pie } = js(mie, "/library-mix/favorite-songs/{id}"), _ie = Fr({ $intentKind: UR.Name, routes: pie, async perform(n, e) { const { id: t, storefront: i, language: r } = n, s = await hie(Xn(e), t); if (s.body.data.length > 0) { const a = s.body.data[0].id, l = eo({ id: a, ...qt({ storefront: i, language: r }, e) }); let u = await H1(l.id, l, e); const c = FR(l); return u.canonicalURL = c, u.pageMetrics.pageFields.pageUrl = c, Cn.set({ type: bt.Playlist, resourceId: l.id }), $1(u, l) } else { const a = await ST(e); let l = { header: "ASE.Web.Music.Library.FavoriteMix.Unavailable.Header", message: null, confirmText: "ASE.Web.Music.OK" }; if (a) { const u = TT(a); return u.isSubscribed ? bi(u.subscriberType) ? l.message = "ASE.Web.Music.Library.FavoriteMix.Unavailable.NoFavoritedSongs" : MT(u.subscriberType) && (l.message = "ASE.Web.Music.Library.FavoriteMix.Unavailable.NotAvailableForVoiceSubscription") : l.message = "ASE.Web.Music.Library.FavoriteMix.Unavailable.Subscribe", { sections: [], confirm: OT(e, l), pageMetrics: { instructions: [], pageFields: {} } } } } } }, { confirm: { header: "ASE.Web.Music.Library.FavoriteMix.Unavailable.Header", message: "ASE.Web.Music.Library.FavoriteMix.Unavailable.SignIn", confirmText: "ASE.Web.Music.OK" } }); var HR = (n => (n.Name = "LibraryRecentlyAddedPageIntent", n))(HR || {}); function $R(n) { return { ...n, $kind: "LibraryRecentlyAddedPageIntent" } } function vie(n) { return n.$kind === "LibraryRecentlyAddedPageIntent" } const Sb = "/v1/me/library/recently-added"; async function bie(n, e) { if (n = n || Sb, !n.includes(Sb)) throw new Error(`Invalid request for RecentlyAdded resources: ${n}`); const t = new je(n, e); return t.queryString.addParameters({ platform: "web", limit: "25", includeOnly: "catalog,artists", "include[library-albums]": "artists", "include[library-artists]": "catalog", "fields[artists]": "name,url", "omit[resource]": "autos", ...zT }), pt({ url: t.string }, e) } async function VR(n, e) { const t = await bie(n, e); return await Vne(t, e), yie(t, e) } function yie(n, e) { var a, l, u; const t = e.required(hi); if (Io(n, t, "Library Recently Added")) return; const i = (a = n.body) == null ? void 0 : a.resources, r = (l = n == null ? void 0 : n.body) == null ? void 0 : l.data, o = new gt(i, e).resources(r).map(c => Lc(c, i, e)); return { next: (u = n.body) == null ? void 0 : u.next, items: o } } var bp = (n => (n.Name = "LibraryRecentlyAddedPaginateIntent", n))(bp || {}); function wie(n) { return { ...n, $kind: "LibraryRecentlyAddedPaginateIntent" } } const { routes: kie, makeCanonicalUrl: Die } = Ei($R, "/library/recently-added", []), Sie = Fr({ $intentKind: HR.Name, routes: kie, async perform(n, e) { let t; try { t = await VR(null, e) } catch (i) { throw new Error(`an error occurred at LibraryRecentlyAddedPageIntentController: ${i}`) } return zR(t == null ? void 0 : t.items, t == null ? void 0 : t.next, n) }, actionFor(n, e, t) { return Ao(n, { kind: bt.RecentlyAdded }, e, t) } }); function zR(n, e, t) { const o = [{ id: "libraryRecentlyAdded", itemKind: "squareLockup", items: n, presentation: { kind: "collection", layout: { kind: "grid", flowStyle: "row" } } }], a = { pageMetrics: Cie(), invalidationRules: { eventTriggers: [{ events: [{ name: "libraryItemsDeleted" }], intent: Al({ data: { sections: o } }) }] }, sections: o, libraryType: "recently-added", canonicalURL: Die(t) }; return e && (a.nextIntent = wie({ url: e })), a } function Cie() { return Eo({ pageType: "Picker", pageId: "LibraryRecentlyAdded", page: "Picker_LibraryRecentlyAdded" }) } const Pie = { $intentKind: bp.Name, async perform(n, e) { var s; const t = await VR(n.url, Xn(e)), i = zR(t == null ? void 0 : t.items, t == null ? void 0 : t.next, n), r = (s = i == null ? void 0 : i.sections) == null ? void 0 : s[0]; if (r) { const a = { pageChangeInstruction: { instruction: { instruction: "addItemsToSection", newSectionToAppendItemsFrom: r } } }; if (t != null && t.next) { const l = { $kind: bp.Name, url: t == null ? void 0 : t.next }; a.nextIntent = l } return Promise.resolve(a) } return Promise.reject() } }; var z1 = (n => (n.Text = "text", n.Lockup = "lockup", n))(z1 || {}); const qR = "searchSuggestion", WR = "searchTopResult", KR = "searchSubmit"; function Aie(n, e, t) { return At({ kind: vt.SearchResults, searchParameters: { term: n, inLibrary: t }, ...e }, { data: [{ fields: q1(KR, n), shouldFlush: !1, includingFields: [], excludingFields: [] }], custom: {} }) } function Eie(n, e, t) { return At({ kind: vt.SearchResults, searchParameters: { term: n }, ...e }, { data: [{ fields: q1(qR, n, null, t), shouldFlush: !1, includingFields: [], excludingFields: [] }], custom: {} }) } function Iie(n, e, t, i) { const r = pc(n, e, n.id); return r && r.actionMetrics && (r.actionMetrics.data = [{ fields: q1(WR, t, n, i), shouldFlush: !1, includingFields: [], excludingFields: [] }]), r } function q1(n, e, t, i) { var s; const r = i ? i + 1 : null; switch (n) { case KR: return { actionType: "submit", actionContext: "keyboard", eventType: "click", targetType: "button", targetId: "search", searchTerm: e, pageId: "searchHints" }; case qR: return { actionType: "hint", eventType: "click", searchTerm: e, targetType: "HintListItem", targetId: i, location: [{ id: "hint", locationType: "HintListItem", locationPosition: r, name: e, kind: "search" }], page: "Search_searchHints", pageId: "searchHints", pageType: "Search" }; case WR: const o = t != null && t.type && (t != null && t.attributes) ? { kind: Ic[t.type], artistName: t.attributes.artistName || t.attributes.name } : {}; return (s = t == null ? void 0 : t.attributes) != null && s.playParams && (o.playType = "trackSelection"), { actionType: "navigate", eventType: "click", targetType: "ContentListItem", targetId: t == null ? void 0 : t.id, location: [{ id: "hint", locationType: "ContentListItem", locationPosition: r, name: e, kind: "search" }], actionDetails: o, searchTerm: e } } } const Mie = [z.EditorialItems, z.RecordLabels]; function Lie(n, e, t, i, r) { var h, m; const { type: s, id: o } = t.content, a = e.required(hi), u = new gt(n, e).resource({ id: o, type: s }), c = u.attributes, d = Ge(Ue.localization, e); if (!c) { a.error(`Search hints returned null for id: ${o} & type: ${s}`); return } const f = rt(u, e), g = Iie(u, e, i, r); return { kind: z1.Lockup, title: c.name || ((h = c == null ? void 0 : c.editorialNotes) == null ? void 0 : h.name), subtitle: Tie(c, s, d), artwork: st((c == null ? void 0 : c.artwork) || ((m = c == null ? void 0 : c.editorialArtwork) == null ? void 0 : m.brandLogo)), showExplicitBadge: c.contentRating === "explicit", contentDescriptor: f, action: g, displayTerm: i } } function Tie(n, e, t) { if (n.subtitle) return n.subtitle; const i = Ic[e], r = Mie.includes(e), s = t.string(`IXDisplayableKind.${i}.one`); if (!s && !r) return ""; switch (e) { case z.Albums: return t.string("ASE.Web.Music.ContentA.Middot.ContentB", { contentA: s, contentB: n == null ? void 0 : n.artistName }); case z.Playlists: return n != null && n.curatorName ? t.string("ASE.Web.Music.ContentA.Middot.ContentB", { contentA: s, contentB: n.curatorName }) : s; case z.Songs: return t.string("ASE.Web.Music.ContentA.Middot.ContentB", { contentA: s, contentB: n == null ? void 0 : n.artistName }); case z.EditorialItems: return t.string("ASE.Web.Music.Search.Category"); case z.RecordLabels: return t.string("ASE.Web.Music.Label.Module.Record.Label.one"); case z.MusicVideos: return t.string("ASE.Web.Music.ContentA.Middot.ContentB", { contentA: s, contentB: n == null ? void 0 : n.artistName }); default: return s } } function Rie({ displayTerm: n, searchTerm: e }, t) { const i = t.trim().toLowerCase(), r = n.toLowerCase().indexOf(i); let s = n, o = "", a = ""; if (r > -1) { const l = r + i.length; s = n.slice(0, r), o = n.slice(r, l), a = n.slice(l, n.length) } return { autofillBefore: s, highlighted: o, autofillAfter: a, searchTerm: e, displayTerm: n } } function Fie(n, e, t, i) { return { ...Rie(n, e), action: Eie(n.searchTerm, t, i), kind: z1.Text } } var JR = (n => (n.Name = "SearchSuggestionsIntent", n))(JR || {}); function Oie(n) { return { ...n, $kind: "SearchSuggestionsIntent" } } async function Nie(n, e, t, i) { const r = nt.ampMusicAPIDomainsCatalogSearchSuggestions(i), s = new je(`/v1/catalog/${e}/search/suggestions`, i, r), o = [z.Activities, z.Artists, z.Albums, z.EditorialItems, z.MusicMovies, z.MusicVideos, z.Playlists, z.RecordLabels, z.Songs, z.Stations, z.TVEpisodes]; return s.queryString.addParameters({ term: n, l: t, platform: "web", "fields[albums]": "artistName,artwork,contentRating,name,playParams,url", "fields[artists]": "url,name,artwork", kinds: "terms,topResults", "omit[resource]": "autos", "art[url]": "c,f", "limit[results:terms]": "5", "limit[results:topResults]": "10" }), s.queryString.with.add("naturalLanguage"), o.forEach(s.queryString.types.add, s.queryString.types), pt({ url: s.string, method: "GET" }, i) } const Bie = { $intentKind: JR.Name, async perform(n, e) { var u, c, d; const t = qt({ storefront: nt.countryCode(e), language: nt.languageTag(e) }, e), { storefront: i, language: r } = t, { partialTerm: s } = n, o = await Nie(s, i, nt.languageTag(e), e), a = ((c = (u = o == null ? void 0 : o.body) == null ? void 0 : u.results) == null ? void 0 : c.suggestions) || [], l = (d = o == null ? void 0 : o.body) == null ? void 0 : d.resources; return a.map((f, g) => { if (f.kind === "topResults") return Lie(l, e, f, s, g); if (f.kind === "terms") return Fie(f, s, t, g) }).filter(f => f !== null) } }, Uie = ["/account/billing", "/account/carrier-linking", "/account/create", "/account/create/apple-id", "/account/create/billing", "/account/create/personal", "/account/create/success", "/account/create/verify-carrier", "/account/create/verify-email", "/account/create/verify-phone", "/account/edit-billing", "/account/privacy", "/account/settings", "/account/verification", "/account/verify-code", "/account/verify-cvv", "/age-verification/landing", "/logout", "/plan/cancel", "/plan/reactivate", "/plan/subscribe", "/redeem", "/subscribe", "/subscribe/already-subscriber", "/terms-agreement", "/content-restricted", "/offer/carrier", "/subscribe/student", "/subscribe/family"], zh = { "/login": "/authenticate", "/subscription/link": "/subscribe/carrier", "/student": "/subscribe/student", "/subscribe-student": "/subscribe/student", "/subscriptionoffers": "/subscribe/plan-selection", "/studentsubscriptionoffers": "/subscribe/student-subscribe", "/studentreverification": "/subscribe/student/reverification", "/studentverified": "/subscribe/student/verified", "/family": "/subscribe/family", ...Uie.reduce((n, e) => ({ ...n, [e]: e }), {}) }; function Hie(n) { return "commercePath" in n } function $ie(n) { return n == null ? void 0 : n.includes("offer/carrier") } function Vie(n) { return n == null ? void 0 : n.includes("/subscribe/carrier") } function zie(n) { return n === "cn" } var YR = (n => (n.Name = "CommercePageIntent", n))(YR || {}); function XR(n) { return { ...n, $kind: "CommercePageIntent" } } let Cb; (function (n) { n.CanBuyVppLicenses = "UnsupportedAccountTypeForWeb_CanBuyVppLicenses", n.CanManageVppLicenses = "UnsupportedAccountTypeForWeb_CanManageVppLicenses", n.CanShopInVolumeEducationStore = "UnsupportedAccountTypeForWeb_CanShopInVolumeEducationStore", n.CanShopInVolumeEnterpriseStore = "UnsupportedAccountTypeForWeb_CanShopInVolumeEnterpriseStore", n.ConversionRequired = "UnsupportedAccountTypeForWeb_ConversionRequired", n.IsManagedAppleId = "UnsupportedAccountTypeForWeb_IsManagedAppleId", n.IsSpecialEduAccount = "UnsupportedAccountTypeForWeb_IsSpecialEduAccount", n.SecurityUpgradeRequired = "UnsupportedAccountTypeForWeb_SecurityUpgradeRequired", n.LiteAccount = "UnsupportedAccountTypeForWeb_LiteAccount", n.NoAccountFound = "NoAccountFound", n.IneligibleStorefront = "IneligibleStoreFront", n.Unauthorized = "Unauthorized", n.IsDormant = "UnsupportedAccountTypeForWeb_IsDormant" })(Cb || (Cb = {})); let rf; (function (n) { n.DefaultWeb = "web", n.WebService = "ws", n.GrandSlam = "gs" })(rf || (rf = {})); let sf; (function (n) { n.Inline = "inline", n.Modal = "modal" })(sf || (sf = {})); let yp; (function (n) { n.AccountCardType = "accountCardType", n.AccountCreateWeb = "account-create-web", n.AccountRecoverySubscription = "account-recovery-candidates", n.AccountSettingsAppleIdSiteUrl = "appleIdSiteUrl", n.AccountSettingsChangeStorefrontUrl = "changeStoreFrontUrl", n.AccountSettingsGraphqlUrl = "accountSummaryGraphQL", n.AccountSummaryUrl = "modifyAccount", n.AcknowledgeMessage = "acknowledge-message", n.AddFundsInfo = "addFundsInfoSrv", n.AddFundsOther = "addFundsOtherSrv", n.AddFundsSuccess = "addFundsSuccessSrv", n.AddFundsUrl = "AddFundsUrl", n.ApplePayClassicSettingsUrl = "apple-pay-classic-settings-url", n.ApplePayEnroll = "applePayEnroll", n.ApplePaySession = "applePayPaymentSession", n.ApsJwsUrl = "aps-jws-url", n.AssignSubscriptionBeneficiary = "assignSubscriptionBeneficiary", n.AurumEditAddress = "aurumEditAddress", n.AutoReloadCancel = "addFundsCancelAutoReloadSrv", n.AutoReloadSuccess = "addFundsAutoReloadInfoSrv", n.BankTokenUrl = "bankTokenUrl", n.BuySubscription = "buySubscription", n.BuySubscriptionExit = "buySubscriptionExit", n.CancelPreorders = "cancelPreorderItemsSrv", n.CancelSegmentVerificationState = "cancelSegmentVerificationState", n.CheckForCarrierOffers = "checkChannelOffers", n.CommerceAppFallbackUrl = "commerceAppFallbackUrl", n.CommerceBaseUrl = "commerceAppBaseUrl", n.CommerceUiUrls = "commerce-ui-urls", n.ConsentLocalizationUrl = "consentLocalizationUrl", n.ContentBonusOfferRedemptionEnabled = "contentBonusOfferRedemptionEnabled", n.CreateSegmentVerificationSession = "createSegmentVerificationSession", n.DeauthAllMachines = "deauthAllMachines", n.DeleteSegmentVerificationSession = "deleteSegmentVerificationSession", n.DeviceProfileTrustedDomains = "psd2-device-profile-trusted-domains", n.CharityInfo = "commerce-charity-data", n.DynamicConsentUrl = "dynamicConsentUrl", n.EditAccountFieldsSrvV2 = "editAccountFieldsSrvV2", n.EmailTermsSrv = "emailTermsSrv", n.ExternalVerificationStatus = "getExternalVerificationStatus", n.FinanceAppBaseUrl = "financeApp.baseUrl", n.FinanceManagePayments = "paymentInformationUrl", n.GenerateEmailConfirmationCode = "generateEmailConfirmationCode", n.GetAccountPreferences = "getSubscriptionAccountPreferences", n.GetCardType = "getCardType", n.GetCarmConfigure = "getCarmConfigure", n.GetMusicSDKAuthorizations = "getMusicSDKAuthorizationsSrv", n.GetOAuth2TVAuthorizations = "getOAuth2TVAuthorizationsSrv", n.GetSegmentVerificationSession = "getSegmentVerificationSession", n.GetSegmentVerificationStateAuthdbCountryList = "getSegmentVerificationStateAuthdbCountryList", n.GetSegmentVerificationStateAuthdbForm = "getSegmentVerificationStateAuthdbFormMetadata", n.GetSegmentVerificationStateAuthdbSchoolList = "getSegmentVerificationStateAuthdbSchoolList", n.GetSubscriptionOffersSrv = "getSubscriptionOffersSrv", n.GetSubscriptionsInfoSrv = "getSubscriptionInfoSrv", n.GetSubscriptionsSrv = "getSubscriptionsSrv", n.GetTermsByCountryAndTypeSrv = "getTermsByCountryAndTypeSrv", n.GetVerificationSessionHelpUrl = "getVerificationSessionHelpUrl", n.GetVerificationUrl = "getVerificationUrl", n.IdVerificationFieldsSrv = "idVerificationFieldsSrv", n.InitiateChallenge = "initiateChallenge", n.InitiateIdVerification = "initiateIdVerification", n.InvoiceReductionSrv = "invoiceReductionSrv", n.IsBundleEnabled = "isBundleEnabled", n.IsInvoiceReductionEnabled = "isInvoiceReductionEnabled", n.IsKoreaAgeVerificationEnabled = "isKoreaAgeVerificationEnabled", n.IsManageIcloudStorageEnabled = "isManageIcloudStorageEnabled", n.IsManagePaymentsEnabled = "isManagePaymentsEnabled", n.IsPsd2LoggingEnabled = "isPsd2LoggingEnabled", n.Language = "language", n.LanguageTag = "language-tag", n.LegacyEditBillingInfo = "legacyEditBillingInfoSrvV2", n.LegacyEditBillingInfoSrvV2 = "legacyEditBillingInfoSrvV2", n.LoadCreateAccountFieldsSrv = "createAccountFieldsSrv", n.ManageDevicesSlotInfo = "manageDevicesSlotInfo", n.ManagePaymentsUrl = "managePaymentsUrl", n.Metrics = "metrics", n.ModifyAccountWk1 = "modifyAccountWk1", n.OverlappingPlans = "overlapping-plans", n.PaymentAdd = "addBillingInfoSrv", n.PaymentAddV2 = "addBillingInfoSrvV2", n.PaymentEdit = "editBillingInfoSrv", n.PaymentEditV2 = "editBillingInfoSrvV2", n.PaymentInfos = "paymentInfos", n.PaymentInfosAdd = "paymentInfosAdd", n.PaymentInfosEdit = "paymentInfosEdit", n.PaymentInfosRemove = "paymentInfosRemove", n.PaymentInfosRemoveApplePayClassic = "paymentInfosRemoveApplePayClassic", n.PaymentLegacyEditV2 = "legacyEditBillingInfoSrvV2", n.PaymentOptions = "paymentOptionsSrv", n.PaymentsAndShippingUrl = "paymentsAndShippingUrl", n.PostSegmentVerificationStateAuthdbForm = "postSegmentVerificationStateAuthdbForm", n.PostSegmentVerificationStateDocumentReviewForm = "postSegmentVerificationStateDocumentReviewForm", n.PostSegmentVerificationStateEmailCode = "postSegmentVerificationStateEmailCode", n.PostSegmentVerificationStateEmailForm = "postSegmentVerificationStateEmailForm", n.PostSegmentVerificationStateSingleSignOnForm = "postSegmentVerificationStateSingleSignOnForm", n.PreferredRenewalOption = "preferredRenewalOption", n.Preorders = "preorderItemsSrv", n.PreordersUrl = "preordersUrl", n.PrivacyConsentConsent = "pipl-urls/apple/consent", n.PrivacyConsentDissent = "pipl-urls/apple/dissent", n.PrivacyConsentQueryConsent = "pipl-urls/apple/queryConsent", n.ProductInfo = "productInfo", n.Psd2LoggingUrl = "psd2LoggingUrl", n.PurchaseHistoryUrl = "purchaseHistoryUrl", n.PvkAddPmofUrl = "pvkAddPmofUrl", n.PvkBiometricsOnlyAuth = "pvkBiometricsOnlyAuth", n.PvkEmailGenerateCodeUrl = "pvkEmailGenerateCodeUrl", n.PvkEmailValidateCodeUrl = "pvkEmailValidateCodeUrl", n.PvkEmailWaterfallUrl = "pvkEmailWaterfallUrl", n.RedeemCodeSrv = "redeemCodeSrv", n.RedeemDeclineBonus = "declineBonus", n.RedeemInfo = "redeemInfo", n.RedeemLandingUrl = "redeemCodeLanding", n.RedeemMarketingUrl = "redeemMarketingUrl", n.RedeemValidateIdUrl = "redeemValidateIdUrl", n.Redirect3dSecureUrl = "redirect3DSecureUrl", n.RefundRequest = "inAppRefund", n.RefundTransactionDetails = "inAppRefundReasons", n.ReinitiateIdVerification = "reinitiateIdVerification", n.RemoveDeviceSlot = "removeDeviceSlot", n.RepairSubscriptionUsingExternalVerification = "repair-subscription-using-external-verification", n.ResendCarmOtp = "resendCarmOtp", n.ReverifySegmentStatus = "reverifySegmentStatus", n.RevokeMusicSDKAuthorization = "revokeMusicSDKAuthorizationSrv", n.RevokeOAuth2TVAuthorization = "revokeOAuth2TVAuthorizationsSrv", n.SandboxClearPurchaseHistory = "sandboxClearPurchaseHistory", n.SandboxGetIntroOfferStatus = "sandboxIntroOfferStatus", n.SandboxResetIntroOffer = "sandboxResetIntroOffer", n.SandboxSubscriptionRenewalRate = "sandboxSubscriptionRenewalRate", n.SendCarmOtp = "sendCarmOtp", n.SendSegmentVerificationStateDocumentReviewLink = "sendSegmentVerificationStateDocumentReviewLink", n.ShippingAddressDelete = "deleteShippingAddress", n.ShippingAddressEdit = "editShippingAddressSrv", n.SpeedybuyConfirmationDialog = "speedybuyConfirmationDialog", n.StackableApplePayClassicSubscriptions = "apple-pay-classic-subscription-infos-url", n.StackableDeletePayment = "deleteStackablePaymentSrv", n.StackablePayments = "getStackablePaymentsSrv", n.StackablePaymentsWithApplePay = "paymentInfoWithApplePay", n.StackablePaymentsWithApplePayClassic = "apple-pay-classic-payment-infos-url", n.StackableReorderPayments = "reorderStackablePaymentsSrv", n.StartExternalVerification = "startExternalVerification", n.SubscriptionNotifications = "manage-subs-notifications", n.SubscriptionDetailsV3 = "getSubscriptionDetails", n.SubscriptionIcloudStorageDetails = "getStorageBarInfo", n.SubscriptionImpactMessaging = "impactMessaging", n.SubscriptionImpactMessagingSandbox = "impactMessagingSandbox", n.SubscriptionUnbundleOptionsV3 = "getUnbundleOptions", n.SubscriptionsListV3 = "getSubscriptionList", n.SupportAppAuthTokenId = "SupportAppAuthTokenId", n.TermsCheck = "terms-check", n.ToggleAccountFamilySharing = "toggle-account-family-sharing", n.ToggleFamilySharing = "toggle-family-sharing", n.UnbundleSubscriptionOptionsSrv = "unbundleSubscriptionOptionsSrv", n.UnbundleSubscriptionSrv = "unbundleSubscriptionSrv", n.UnlinkSegmentStatus = "unlinkSegmentStatus", n.UpdateWithToken = "updateWithToken", n.UniversalAcknowledgeMessage = "universal-acknowledge-message", n.UpdateAutoRenewStateSrv = "updateAutoRenewStateSrv", n.UpdateIcloudStorageSrv = "updateIcloudStorageSrv", n.ValidateAccountForChangeCountrySrvV2 = "validateAccountForChangeCountrySrvV2", n.ValidateCarm = "validateCarm", n.ValidateEmailConfirmationCode = "validateEmailConfirmationCode", n.VerificationKitInit = "verification_kit_init", n.VerificationUrl = "verificationUrl", n.VerifyChallenge = "verifyChallenge", n.VerifyIdVerification = "verifyIdVerification", n.VerifyPayment = "verifyPayment" })(yp || (yp = {})); let wp; (function (n) { n.Auth = "auth", n.Logout = "logout", n.LogoutAll = "logoutAll", n.AccountCreateOptions = "accountCreateOptions", n.AccountConversionInit = "accountConversionInit", n.AccountConversionSetSignedup = "accountConversionSetSignedup", n.AccountPodSrv = "accountPodSrv", n.AccountSettingsSrv = "accountSettingsSrv", n.AcknowledgePrivacy = "acknowledgePrivacy", n.AndroidMusicRedeemReferrerUrl = "androidMusicRedeemReferrerUrl", n.AppAccessRequest = "appAccessRequest", n.AuthGrandSlam = "authGrandSlam", n.AuthWebService = "authWebService", n.AuthWebServiceRefresh = "authWebServiceRefresh", n.AmpTermsGetUrl = "ampTermsGetUrl", n.AmpTermsVerifyUrl = "ampTermsVerifyUrl", n.BuySubscription = "buySubscription", n.CarrierLinkSrv = "carrierLinkSrv", n.CreateAccountFieldsSrv = "createAccountFieldsSrv", n.ChannelSendSms = "sendSMSCode", n.ChannelVerifySms = "verifySMSCode", n.GetChannelSubscriptionOfferParameters = "getChannelSubscriptionOfferParameters", n.CreateAccountSrv = "createAccountSrv", n.DeviceLinkValidate = "deviceLinkValidate", n.EditBillingInfoSrv = "editBillingInfoSrv", n.GenerateAndSendSecCodeSrv = "generateAndSendSecCodeSrv", n.GenerateEmailConfirmationCodeSrv = "generateEmailConfirmationCodeSrv", n.GetPayPalUrl = "getPayPalUrl", n.GetTermsByCountryAndTypeSrv = "getTermsByCountryAndTypeSrv", n.IdVerificationFieldsSrv = "idVerificationFieldsSrv", n.InitiateIdVerification = "initiateIdVerification", n.linkChannelSubscription = "linkChannelSubscription", n.NuDataSyncResponseSrv = "nuDataSyncResponseSrv", n.OverlappingPlans = "overlapping-plans", n.ParentalControlsDisable = "parentalControlsDisable", n.ParentalControlsEdit = "parentalControlsEdit", n.ParentalControlsPinEdit = "parentalControlsPinEdit", n.ParentalControlsPinVerify = "parentalControlsPinVerify", n.ParentalControlsVideo = "parentalControlsVideo", n.ParentalControlsMusic = "parentalControlsMusic", n.ParentalControlsRecoveryEmailEdit = "parentalControlsRecoveryEmailEdit", n.ParentalControlsRecoveryEmailSend = "parentalControlsRecoveryEmailSend", n.ParentalControlsSetup = "parentalControlsSetup", n.PaymentOptionsSrv = "paymentOptionsSrv", n.RedeemCodeInfo = "redeemCodeInfo", n.RedeemSubscription = "redeemSubscription", n.ReInitiateIdVerification = "reInitiateIdVerification", n.SendCarmOtp = "sendCarmOtp", n.CarrierBillingOtpInitiate = "dcbManualOtpInitiate", n.CarrierBillingOtpReinitiate = "dcbManualOtpReinitiate", n.CarrierBillingValidateOtp = "dcbManualOtpValidate", n.CarrierChannelLinkSrv = "carrierChannelLinkSrv", n.CarrierChannelSendSmsSrv = "carrierChannelSendSmsSrv", n.CarrierChannelVerifySmsSrv = "carrierChannelVerifySmsSrv", n.SubscriptionConfirmation = "subscriptionConfirmation", n.SubscriptionOffers = "subscriptionOffers", n.SubscriptionStatus = "subscriptionStatus", n.SubscriptionsSrv = "subscriptionsSrv", n.SubscriptionNotify = "subscriptionNotify", n.TermsAndConditions = "termsAndConditions", n.TermsCheckSrv = "termsCheckSrv", n.ThirdPartyLogin = "thirdPartyLogin", n.TvAgeVerifyPayment = "tvAgeVerifyPayment", n.ValidateAccountFieldsSrv = "validateAccountFieldsSrv", n.ValidateAccountNameSrv = "validateAccountNameSrv", n.InitializeSessionSrv = "initializeSessionSrv", n.ValidateCarm = "validateCarm", n.ValidateEmailConfirmationCodeSrv = "validateEmailConfirmationCodeSrv", n.ValidateSecCodeSrv = "validateSecCodeSrv", n.VerifyIdVerification = "verifyIdVerification", n.PaymentChallengeInitiate = "paymentChallengeInitiate", n.PaymentChallengeVerify = "paymentChallengeVerify", n.WatchListSettings = "watchListSettings", n.WebAccountInfo = "webAccountInfo", n.WebAccountInfoRefresh = "webAccountInfoRefresh", n.QrAuthValidate = "qrAuthValidate", n.QrAuthLink = "qrAuthLink", n.QrAuthRoute = "qrAuthRoute", n.RegisterDeviceFpdi = "registerDeviceFpdi", n.IdmsSignin = "idmsSignin", n.IdmsSigninUAT = "idmsSigninUAT", n.StoreFrontId = "storeFrontId", n.GetRestrictedCreateAccountOptions = "getRestrictedCreateAccountOptions", n.ValidateOauthLinkCode = "validateOauthLinkCode", n.QrAuthWeb = "qrAuthWeb", n.InitializeOauthLinkFlow = "initializeOauthLinkFlow", n.CancelBuy = "cancelBuy", n.MercuryBaseUrlTv = "mercuryBaseUrlTv", n.MercuryBaseUrlMusic = "mercuryBaseUrlMusic", n.InboxMessages = "inboxMessages", n.RemoteUnlink = "remoteUnlink" })(wp || (wp = {})); const ZR = { ...wp, ...yp }; let Pb; (function (n) { n.CreateAccount = "create-account", n.VerifyEmail = "verify-email", n.VerifyPhone = "verify-phone", n.CapturePhoneNumber = "capture-phone-number", n.CarrierLinking = "carrier-linking", n.ChannelPlatformLanding = "channel-platform-landing", n.ChannelSmsVerification = "channel-sms-verification", n.TermsAgreement = "terms-agreement", n.PrivacyConsent = "privacy-consent" })(Pb || (Pb = {})); let ct; (function (n) { n.AccountConfirmation = "account-confirmation", n.AccountConversion = "account-conversion", n.AccountConversionBillingAddress = "account-conversion-billing-address", n.AccountSettings = "account-settings", n.AccountSettingsChooseSubPlan = "account-settings-choose-plan", n.AccountSettingsEditSubPlan = "account-settings-edit-plan", n.AgeVerification = "age-verification", n.AgeVerificationLanding = "age-verification-landing", n.AgeVerificationForm = "age-verification-form", n.AgeVerificationVerifySms = "age-verification-verify-sms", n.AgeVerificationConfirmation = "age-verification-confirmation", n.AlreadySubscriber = "already-subscriber", n.Authenticate = "authenticate", n.SilentAuthenticate = "silent-authenticate", n.Base = "base", n.Billing = "billing", n.BillingInfo = "billing-info", n.BuyV2 = "buy-v2", n.BuyV2Success = "buy-v2-success", n.BuyV2InterruptLegacy = "buy-v2-interrupt-legacy", n.BuyV2InterruptErrorAlreadySubscribed = "buy-v2-interrupt-error-already-subscribed", n.BuyV2InterruptTerminalDialog = "buy-v2-interrupt-terminal-dialog", n.BuyV2ErrorStorefrontMismatch = "buy-v2-error-storefront-mismatch", n.BuyWithBilling = "buy-with-billing", n.CarrierBilling = "carrier-billing", n.CarrierSendSms = "carrier-send-sms", n.CarrierVerifySms = "carrier-verify-sms", n.ChannelPlatformLanding = "channel-platform-landing", n.ChannelPlatformConfirmation = "channel-platform-confirmation", n.CaptureChinaPhoneNumber = "capture-china-phone-number", n.ContentRestricted = "content-restricted", n.ContextualUpsell = "contextual-upsell", n.ContextualPodcastsUpsell = "contextual-podcasts-upsell", n.ContextualSportsUpsell = "contextual-sports-upsell", n.ContextualPlatterSeeAllPlansUpsell = "contextual-platter-see-all-plans-upsell", n.ContextualPlatterUpsell = "contextual-platter-upsell", n.ContextualTeamSelection = "contextual-team-selection", n.ConfirmConsent = "confirm-consent", n.Create = "create", n.CreateAccount = "create-account", n.CreateAccountV2 = "create-account-v2", n.CreateLanding = "create-landing", n.CreateLandingV2 = "create-landing-v2", n.CreateSubscribeConfirmDialog = "create-subscribe-confirm-dialog", n.DeviceLinkLanding = "device-link-landing", n.DeviceLinkSuccess = "device-link-success", n.DynamicNavigator = "dynamic-navigator", n.EditBilling = "edit-billing", n.FetchProxy = "fetch-proxy", n.FreeContentLanding = "free-content-landing", n.GenericDialog = "generic-dialog", n.InboxMessages = "inbox-messages", n.LegalAgeVerification = "legal-age-verification", n.Logout = "logout", n.SignoutEverywhere = "signout-everywhere", n.NotFound = "not-found", n.OAuth = "oauth", n.Offer = "offer", n.OfferUnsupported = "offer-unsupported", n.PasscodeReset = "passcode-reset", n.PaymentVerificationDetails = "payment-verification-details", n.ManagePayments = "manage-payments", n.ManageSubscription = "manage-subscription", n.ManageSubscriptionDetail = "manage-subscription-detail", n.MercuryUpsell = "mercury-upsell", n.MusicPlanSelection = "music-plan-selection", n.MusicStudentUpsell = "music-student-upsell", n.MusicStudentSubscribe = "music-student-subscribe", n.OauthLanding = "oauth-landing", n.PaymentRecovery = "payment-recovery", n.PaymentVerificationOtp = "payment-verification-otp", n.PaymentVerificationSuccess = "payment-verification-success", n.PlanAction = "plan-action", n.PlanSubscribe = "plan-subscribe", n.Privacy = "privacy", n.PrivacyStandalone = "privacy-standalone", n.Psd2Auth = "psd2-auth", n.Psd2DeviceProfile = "psd2-device-profile", n.Psd2Return = "psd2-return", n.RedeemLanding = "redeem-landing", n.RedeemConfirmation = "redeem-confirmation", n.RedeemCodeEntry = "redeem-code-entry", n.RedeemSuccess = "redeem-success", n.RedeemError = "redeem-error", n.Resume = "resume", n.ResumeSegmentVerification = "resume-segment-verification", n.SegmentReverification = "segment-reverification", n.SegmentVerified = "segment-verified", n.ServerError = "server-error", n.SetParentalControls = "set-parental-controls", n.SignedOutOffer = "signed-out-offer", n.SignedInOffer = "signed-in-offer", n.StackablePayments = "stackable-payments", n.StackableAddPayment = "stackable-add-payment", n.StackableAddPaymentQr = "stackable-add-payment-qr", n.StackableAddPaymentBase = "stackable-add-payment-base", n.ChallengePaymentQrCode = "challenge-payment-qr", n.InterruptPaymentQrCode = "interrupt-payment-qr", n.StackableEditPayment = "stackable-edit-payment", n.StackableEditShipping = "stackable-edit-shipping", n.Subscribe = "subscribe", n.SubscriptionEdit = "subscription-edit", n.SubscriptionConfirmation = "subscription-confirmation", n.SubscribeConfirmBuyDialog = "subscribe-confirm-buy-dialog", n.SubscriptionGdprWelcomePage = "subscription-gdpr-welcome-page", n.SubscriptionWelcomePage = "subscription-welcome-page", n.SubscriptionNotificationSent = "subscription-notification-sent", n.SubscriptionNotificationCenter = "subscription-notification-center", n.SubscriptionCancellationPending = "subscription-cancellation-pending", n.SubscriptionOverlappingPlans = "subscription-overlapping-plans", n.TermsAgreement = "terms-agreement", n.ThirdParty = "third-party", n.TVAgeVerification = "tv-age-verification", n.Unsupported = "unsupported", n.VerifyCarrier = "verify-carrier", n.VerifyCarrierOffer = "verify-carrier-offer", n.VerifyCode = "verify-code", n.VerifyCvv = "verify-cvv", n.VerifyEmail = "verify-email", n.VerifyEmailV2 = "verify-email-v2", n.VerifyPhone = "verify-phone", n.VerifyPhoneV2 = "verify-phone-v2", n.LinkhostLandingCode = "linkhost-landing-code", n.LinkhostLandingSubscription = "linkhost-landing-subscription", n.LinkhostOnboarding = "linkhost-onboarding", n.LinkhostLinkSuccess = "linkhost-link-success", n.LinkhostToggleRenewalReceipts = "linkhost-toggle-renewal-receipts", n.LinkhostLinkingNavigation = "linkhost-linking-navigation", n.ErrorUnsupportedCountry = "error-unsupported-country", n.ErrorNoSubscription = "error-no-subscription", n.OAuthError = "oauth-error", n.OAuth2 = "oauth-activate", n.SubscriptionsList = "subscriptions-list", n.SubscriptionsUnsupportedCountry = "subscriptions-unsupported-country", n.SubscriptionDetails = "subscription-details", n.SubscriptionPriceIncrease = "subscription-price-increase", n.SubscriptionImpactMessaging = "subscription-impact-messaging", n.SubscriptionCancellationSuccess = "subscription-cancellation-success", n.SubscriptionPrivacy = "subscription-privacy", n.SubscriptionSelection = "subscription-selection" })(ct || (ct = {})); ct.Authenticate, ct.Offer, ct.PasscodeReset, ct.LinkhostOnboarding, ct.FreeContentLanding; const qie = n => { const e = Object.entries(n).filter(i => { let [, r] = i; return r != null && r !== "" }).reduce((i, r) => { let [s, o] = r; return { ...i, [s]: o } }, {}); return new URLSearchParams(e).toString() }, Wie = function (n) { let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1; const t = new RegExp("([^?=&]+)(=([^&]*))", "g"), i = n.match(t); return i ? i.reduce((r, s) => { const o = s.split("="), a = o[0], l = o[1]; return r[a] = e ? decodeURIComponent(l) : l, r }, {}) : {} }, QR = function (n, e) { let t = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0, i = !1, r; return function () { for (var s = arguments.length, o = new Array(s), a = 0; a < s; a++)o[a] = arguments[a]; i || (i = !0, r && clearTimeout(r), t && n.call(null, ...o), r = setTimeout(() => { i = !1, t || n.call(null, ...o) }, e)) } }; let ol; (function (n) { n.Apps = "apps", n.Tv = "tv", n.Music = "music", n.PodcastsConnect = "podcastsconnect", n.Podcasts = "podcasts", n.Activate = "activate" })(ol || (ol = {})); let of; (function (n) { n.Prod = "", n.Carry = "carry", n.Beta = "beta", n.Nightly = "nightly", n.Itms5 = "itms5", n.Itms7 = "itms7", n.Itms8 = "itms8", n.Itms11 = "itms11", n.ContentPreview = "cp", n.Pddev = "pddev", n.Dev = "dev" })(of || (of = {})); const jR = { ["web-app"]: { basePath: "/includes/commerce", navigatorRoutePath: "/navigator" } }, W1 = () => { const n = window.parent; return window !== n && !window.Cypress }, kp = n => !!n && typeof n == "object" && !Array.isArray(n), Kie = () => { if (typeof document > "u" || !document.querySelector) return ""; const n = document.querySelector("meta[name=version]"); return n && n.content || "" }; let Dp; (function (n) { n.Light = "light", n.Dark = "dark" })(Dp || (Dp = {})); const GR = { modalOptions: { containerSelector: "body" }, fetchOptions: { shouldEnableFetchProxy: !1, proxyContainerSelector: "body" }, authOptions: { type: rf.DefaultWeb, displayType: sf.Inline, shouldDelegateAuthUI: !1 }, shouldDetectUserActivity: !1, userActivityOptions: { detectionIntervalInMs: 1e3, eventsToDetect: ["scroll", "keydown", "pointerdown"] }, productVersion: Kie(), hostedAppMetadata: { subdomain: ol.Apps, environment: of.Prod }, useRelativeIframeSrc: !1, logLevel: "warning" }; let Sp = GR; const xR = (n, e) => kp(n) ? e(n) : Array.isArray(n) ? Array.from(n) : n, Cp = n => { const e = {}; for (const t in n) e[t] = xR(n[t], Cp); return e }, eF = (n, e) => { const t = Cp(n); for (const i in e) { const r = e[i], s = n[i]; i in n && kp(r) && kp(s) ? t[i] = eF(s, r) : t[i] = xR(r, Cp) } return t }, Jie = n => (Sp = eF(GR, n), Sp), _a = () => Sp, Yie = () => JSON.parse(JSON.stringify(_a())), Xie = '<svg width="22px" height="22px" xmlns="http://www.w3.org/2000/svg" class="ck-loader"><defs><style>@keyframes csk-loader-animation{0%{opacity:1}12.5%{opacity:.9}25%{opacity:.7}37.5%{opacity:.6}50%{opacity:.4}62.5%{opacity:.3}75%{opacity:.2}87.5%{opacity:.13}}.ck-loader path{fill:var(--ck-loader-color,rgba(0,0,0,0.56));opacity:.2;animation-name:csk-loader-animation;animation-timing-function:cubic-bezier(1,0.1,0,0.3);animation-duration:.8s;animation-iteration-count:infinite}.ck-loader path:nth-child(2){animation-delay:.1s}.ck-loader path:nth-child(3){animation-delay:.2s}.ck-loader path:nth-child(4){animation-delay:.3s}.ck-loader path:nth-child(5){animation-delay:.4s}.ck-loader path:nth-child(6){animation-delay:.5s}.ck-loader path:nth-child(7){animation-delay:.6s}.ck-loader path:nth-child(8){animation-delay:.7s}</style><clipPath id="b"><path d="M1.5 0C2.328427 0 3 .671573 3 1.5v4C3 6.328427 2.328427 7 1.5 7S0 6.328427 0 5.5v-4C0 .671573.671573 0 1.5 0Z" /></clipPath></defs><path clip-path="url(#b)" transform="translate(9.5)" d="M0 0h3v7H0V0z" /><path clip-path="url(#b)" transform="rotate(45 6.25 22.467514)" d="M0 0h3v7H0V0z" /><path clip-path="url(#b)" transform="rotate(90 6.25 15.75)" d="M0 0h3v7H0V0z" /><path clip-path="url(#b)" transform="rotate(-45 24.356602 -7.967514)" d="M0 0h3v7H0V0z" /><path clip-path="url(#b)" transform="translate(9.5 15)" d="M0 0h3v7H0V0z" /><path clip-path="url(#b)" transform="rotate(45 -11.856602 14.967514)" d="M0 0h3v7H0V0z" /><path clip-path="url(#b)" transform="rotate(90 -1.25 8.25)" d="M0 0h3v7H0V0z" /><path clip-path="url(#b)" transform="rotate(-45 6.25 -.467514)" d="M0 0h3v7H0V0z" /></svg>'; function Zie(n, e) { e === void 0 && (e = {}); var t = e.insertAt; if (!(!n || typeof document > "u")) { var i = document.head || document.getElementsByTagName("head")[0], r = document.createElement("style"); r.type = "text/css", t === "top" && i.firstChild ? i.insertBefore(r, i.firstChild) : i.appendChild(r), r.styleSheet ? r.styleSheet.cssText = n : r.appendChild(document.createTextNode(n)) } } var Qie = `.ck-curtain {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background: rgba(0, 0, 0, 0.48);
}

.ck-placeholder-modal__container {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  display: flex;
  justify-content: center;
  align-items: center;
}

.ck-placeholder-modal__modal {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  width: 100%;
  max-width: 800px;
  max-height: 560px;
  border-radius: 10px;
  box-shadow: 0 10px 10px rgba(0, 0, 0, 0.2);
  background: #fff;
}

@media (prefers-color-scheme: dark) {
  .ck-placeholder-modal__modal {
    background: rgb(29, 29, 31);
    --ck-loader-color: rgba(255, 255, 255);
  }
}

.ck-placeholder-modal__modal--light {
  box-shadow: 0 10px 10px rgba(0, 0, 0, 0.2);
  background: #fff;
}

.ck-placeholder-modal__modal--dark {
  background: rgb(29, 29, 31);
  --ck-loader-color: rgba(255, 255, 255);
}

@media screen and (max-width: 739px) {
  .ck-placeholder-modal__modal {
    max-height: 100vh;
    max-height: -webkit-fill-available;
    border-radius: 0;
  }
}
`; Zie(Qie); const tF = () => { const n = document.createElement("div"); return n.classList.add("ck-curtain"), n }, jie = n => { const e = document.createElement("div"); e.classList.add("ck-placeholder-modal__container"); const t = document.createElement("div"); t.classList.add("ck-placeholder-modal__modal", ...(n == null ? void 0 : n.theme) === "light" ? ["ck-placeholder-modal__modal--light"] : [], ...(n == null ? void 0 : n.theme) === "dark" ? ["ck-placeholder-modal__modal--dark"] : []), e.appendChild(t); const i = document.createElement("div"); return i.innerHTML += Xie, setTimeout(() => { t.appendChild(i) }, 2e3), { placeholderEl: e } }; function Gie(n) { return Object.keys(n).reduce((e, t) => ({ ...e, [n[t]]: t }), {}) } const xie = "MISSING_DEPENDENCIES", ere = class extends Error { constructor(n) { super(); const e = Object.keys(n).filter(t => !n[t]).join(", "); this.name = xie, this.message = "Missing dependencies: ".concat(e) } }; let Ab; (function (n) { n[n.Auth = 401] = "Auth", n[n.ServerUnknown = 5002] = "ServerUnknown" })(Ab || (Ab = {})); let Eb; (function (n) { n[n.AMSErrorCodeCancelled = 6] = "AMSErrorCodeCancelled" })(Eb || (Eb = {})); let Ib; (function (n) { n.Auth = "Authentication", n.TermsAuth = "MZFinance.TermsCheckLoginRequired", n.MediaLinkInvalidSession = "MEDIA_LINK_INVALID_SESSION" })(Ib || (Ib = {})); let Mb; (function (n) { n.NoAuthorization = "MZCommerce.NoAuthorization", n.AlreadyClaimed = "MZCommerce.HardBundleAlreadyClaimed" })(Mb || (Mb = {})); let nF = "", Ja = "warning"; const tre = n => { nF = n }, nre = () => Ja, ire = function () { let { configLogLevel: n, iframeNameLogLevel: e, localStorageLogLevel: t } = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}; return Ja = t || e || n || "warning", Ja }, rre = ["error"], sre = ["error", "warn"], Ug = function (n) { if (Ja === "off" || Ja === "error" && !rre.includes(n) || Ja === "warning" && !sre.includes(n)) return; for (var e = arguments.length, t = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++)t[i - 1] = arguments[i]; const [r, ...s] = t; if (n === "dir") { console.dir(r, ...s); return } (console[n] || console.log)("%cCommerceKit v".concat("3.0.1", " %c(").concat(nF, ")%c: ").concat(r), ...s, "background-color: lightgray; color: green", "background-color: lightgray; color: blue", "") }, Pp = function () { for (var n = arguments.length, e = new Array(n), t = 0; t < n; t++)e[t] = arguments[t]; return Ug("error", ...e) }, Yn = function () { for (var n = arguments.length, e = new Array(n), t = 0; t < n; t++)e[t] = arguments[t]; return Ug("info", ...e) }, mo = function () { for (var n = arguments.length, e = new Array(n), t = 0; t < n; t++)e[t] = arguments[t]; return Ug("warn", ...e) }, iF = function () { for (var n = arguments.length, e = new Array(n), t = 0; t < n; t++)e[t] = arguments[t]; return Ug("dir", ...e) }; let $s = {}; const ore = "data-ck-target-id", are = () => { tre(ia()), W1() && Ap(ure(), { targetWindow: window.parent, targetId: "parent", isReady: !0 }), Ap(window.location.origin, { targetId: "self", targetWindow: window, isReady: !0 }) }, lre = (n, e) => new URLSearchParams({ parentOrigin: n, targetId: e, parentCommerceKitVersion: "3.0.1", logLevel: nre() }).toString(), Hg = n => { const e = new URLSearchParams(n); return { parentOrigin: e.get("parentOrigin") || "", targetId: e.get("targetId") || "", parentCommerceKitVersion: e.get("parentCommerceKitVersion") || "", logLevel: e.get("logLevel") || "" } }, rF = function (n, e) { let t = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0; const i = t > 0 ? "-".concat(t) : "", r = "".concat(n ? "".concat(n, "->") : "").concat(e).concat(i); return $s[r] ? rF(n, e, t + 1) : r }, ia = () => { if (window.name && window.name.includes("targetId")) { const { targetId: n } = Hg(window.name); return n } return "root" }, ure = () => { if (window.name && window.name.includes("parentOrigin")) { const { parentOrigin: n } = Hg(window.name); return n } return window.location.origin }, cre = () => { const { parentCommerceKitVersion: n } = Hg(window.name); return n.split(".").map(e => parseInt(e, 10)) }, K1 = n => $s[n], $g = () => $s, dre = () => Object.keys($g()).filter(n => n !== "self" && n !== "parent"), fre = n => { $s[n] && ($s[n].isReady = !0, Yn("Message target '".concat(n, "' now ready"))) }, Ap = function (n) { let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : { isReady: !1 }; const { targetWindow: t, targetId: i, isReady: r, initialRouteName: s } = e; if (!i && !s) throw new ere({ targetId: i, initialRouteName: s }); const o = i || rF(ia(), s || ""); return $s[o] = { id: o, targetOrigin: n, targetWindow: t, isReady: r, queue: [] }, Yn("Added message target with ID: '".concat(o, "' and origin: '").concat(n, "'")), o }, gre = (n, e) => { $s[n].targetWindow = e || void 0 }, hre = n => { $s[n] && delete $s[n], Yn("Removed message target with ID: '".concat(n, "'")) }; let Et; (function (n) { n.AddPayment = "add-payment", n.AgeVerification = "age-verification", n.Authenticate = "authenticate", n.Base = "base", n.Billing = "billing", n.Buy = "buy", n.BuyV2 = "buy-v2", n.BuyV2Interrupt = "buy-v2-interrupt", n.BuyV2InterruptErrorAlreadySubscribed = "buy-v2-interrupt-error-already-subscribed", n.BuyV2MismatchStorefrontError = "buy-v2-error-storefront-mismatch", n.BuyV2InterruptErrorTerminalDialog = "buy-v2-interrupt-terminal-dialog", n.BuyV2Success = "buy-v2-success", n.ChallengePaymentQrCode = "challenge-payment-qr", n.ContentRestricted = "content-restricted", n.CreateAccount = "create-account", n.DeviceLink = "device-link", n.EditBilling = "edit-billing", n.EditPayment = "edit-payment", n.EditShipping = "edit-shipping", n.Gdpr = "gdpr", n.InboxMessages = "inbox-messages", n.KoreaAgeVerification = "korea-age-verification", n.Logout = "logout", n.ManagePayments = "manage-payments", n.ManageSubscriptions = "manage-subscriptions", n.MusicPlanSelection = "music-plan-selection", n.MusicStudentUpsell = "music-student-upsell", n.MusicStudentSubscribe = "music-student-subscribe", n.SubscriptionEdit = "subscription-edit", n.ParentalControls = "parental-controls", n.PaymentRecovery = "payment-recovery", n.PlanCancel = "plan-cancel", n.PlanReactivate = "plan-reactivate", n.PlanSubscribe = "plan-subscribe", n.PodcastsUpsell = "contextual-podcasts-upsell", n.Privacy = "privacy", n.Redeem = "redeem", n.SegmentReverification = "segment-reverification", n.SegmentVerified = "segment-verified", n.Settings = "settings", n.SettingsManagePayments = "settings-manage-payments", n.Subscribe = "subscribe", n.SubscribeCarrier = "subscribe-carrier", n.SubscriptionImpactMessaging = "subscription-impact-messaging", n.SubscriptionPriceIncrease = "subscription-price-increase", n.SubscriptionPrivacy = "subscription-privacy", n.SubscriptionCancellationSuccess = "subscription-cancellation-success", n.SubscriptionSelection = "subscription-selection", n.Terms = "terms", n.VerifyPayment = "verify-payment" })(Et || (Et = {})); const J1 = { [Et.Base]: ct.Base, [Et.AddPayment]: ct.StackableAddPayment, [Et.AgeVerification]: ct.TVAgeVerification, [Et.Authenticate]: ct.Authenticate, [Et.Billing]: ct.Billing, [Et.Buy]: ct.BuyV2, [Et.BuyV2]: ct.BuyV2, [Et.BuyV2Interrupt]: ct.BuyV2InterruptLegacy, [Et.BuyV2InterruptErrorAlreadySubscribed]: ct.BuyV2InterruptErrorAlreadySubscribed, [Et.BuyV2MismatchStorefrontError]: ct.BuyV2ErrorStorefrontMismatch, [Et.BuyV2InterruptErrorTerminalDialog]: ct.BuyV2InterruptTerminalDialog, [Et.BuyV2Success]: ct.BuyV2Success, [Et.ChallengePaymentQrCode]: ct.ChallengePaymentQrCode, [Et.ContentRestricted]: ct.ContentRestricted, [Et.CreateAccount]: ct.CreateLandingV2, [Et.DeviceLink]: ct.DeviceLinkLanding, [Et.EditBilling]: ct.EditBilling, [Et.EditPayment]: ct.StackableEditPayment, [Et.EditShipping]: ct.StackableEditShipping, [Et.Gdpr]: ct.Privacy, [Et.InboxMessages]: ct.InboxMessages, [Et.KoreaAgeVerification]: ct.AgeVerificationLanding, [Et.Logout]: ct.Logout, [Et.ManagePayments]: ct.StackablePayments, [Et.ManageSubscriptions]: ct.SubscriptionsList, [Et.MusicPlanSelection]: ct.MusicPlanSelection, [Et.MusicStudentUpsell]: ct.MusicStudentUpsell, [Et.MusicStudentSubscribe]: ct.MusicStudentSubscribe, [Et.SubscriptionEdit]: ct.SubscriptionDetails, [Et.ParentalControls]: ct.AccountSettings, [Et.PaymentRecovery]: ct.PaymentRecovery, [Et.PlanCancel]: ct.PlanAction, [Et.PlanReactivate]: ct.PlanAction, [Et.PlanSubscribe]: ct.PlanAction, [Et.PodcastsUpsell]: ct.ContextualPodcastsUpsell, [Et.Privacy]: ct.Privacy, [Et.Redeem]: ct.RedeemLanding, [Et.SegmentReverification]: ct.SegmentReverification, [Et.SegmentVerified]: ct.SegmentVerified, [Et.Settings]: ct.AccountSettings, [Et.SettingsManagePayments]: ct.ManagePayments, [Et.Subscribe]: ct.Subscribe, [Et.SubscribeCarrier]: ct.ChannelPlatformLanding, [Et.SubscriptionImpactMessaging]: ct.SubscriptionImpactMessaging, [Et.SubscriptionPriceIncrease]: ct.SubscriptionPriceIncrease, [Et.SubscriptionPrivacy]: ct.SubscriptionPrivacy, [Et.SubscriptionCancellationSuccess]: ct.SubscriptionCancellationSuccess, [Et.SubscriptionSelection]: ct.SubscriptionSelection, [Et.Terms]: ct.TermsAgreement, [Et.VerifyPayment]: ct.PaymentVerificationDetails }, mre = Gie(J1), Y1 = n => Object.values(Et).includes(n) && n !== J1[n], pre = () => cre()[0] < 3, _re = n => Y1(n) ? n : mre[n], vre = n => Y1(n) ? J1[n] : n, bre = n => { if (!n.path) throw new Error("Failed to create modal relay payload for legacy routing of RouteName '".concat(n.routeName, "'. Legacy routing requires a path.")); return n.routeName = Et.Base, n.routeConfig = { routeName: Et.Base, hostedAppId: "web-app", path: n.path }, delete n.path, n }, sF = n => { if (pre()) { const e = _re(n.routeName); if (!e) return mo("RouteName '".concat(n.routeName, "' does not have an associated LegacyRouteName. Falling back to routing using LegacyRouteName.Base & path.")), bre(n); n.routeName = e } return delete n.path, n }, yre = n => { var e, t, i; const { routeName: r } = n; let s = {}, o = !1; switch (n.routeName) { case Et.ParentalControls: s = { hash: "#parental-controls" }, o = n.hash !== s.hash; break; case Et.PlanCancel: s = { pathParams: { actionKey: "cancel" } }, o = ((e = n.pathParams) == null ? void 0 : e.actionKey) !== s.pathParams.actionKey; break; case Et.PlanReactivate: s = { pathParams: { actionKey: "reactivate" } }, o = ((t = n.pathParams) == null ? void 0 : t.actionKey) !== s.pathParams.actionKey; break; case Et.PlanSubscribe: s = { pathParams: { actionKey: "subscribe" } }, o = ((i = n.pathParams) == null ? void 0 : i.actionKey) !== s.pathParams.actionKey; break }return o && mo("Missing routing data: '".concat(JSON.stringify(s), "' for route name '").concat(r, "'. As of v3, routing data like hashes and path params need to be supplied by the host. Routing data will be repaired automatically for now.")), Y1(r) && (s.routeName = vre(r), mo("Legacy route name being used: '".concat(r, "'. Please switch to using '").concat(s.routeName, "'."))), { ...n, ...s } }, wre = function () { let n = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : ol.Apps, e = arguments.length > 1 ? arguments[1] : void 0; return e ? "https://".concat(e, ".").concat(n, ".apple.com") : "https://".concat(n, ".apple.com") }, kre = n => { const e = jR["web-app"], { useRelativeIframeSrc: t, hostedAppMetadata: i } = n, r = t ? window.location.origin : wre(i == null ? void 0 : i.subdomain, i == null ? void 0 : i.environment); return "".concat(r).concat(e.basePath) }, Dre = function (n) { let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}; const { queryParams: t, isModal: i } = e, { theme: r, product: s, devToken: o, productVersion: a, authOptions: l, locale: u, storefront: c, useRelativeIframeSrc: d, hostedAppMetadata: f } = n, g = c ? c.length === 3 ? { iso3code: c } : { iso2code: c } : {}; return { ...s && { product: s }, ...o && { devToken: o }, ...a && { productVersion: a }, ...r && { theme: r }, ...(l == null ? void 0 : l.type) && { authType: l.type }, ...(l == null ? void 0 : l.displayType) && { authDisplayType: l.displayType }, ...u && { locale: u }, ...typeof d < "u" && { useRelativeIframeSrc: d.toString() }, ...g, ...i ? { isModal: "true", hideCurtain: "true" } : { isFullscreen: "true" }, ...f && { hostedAppSubdomain: f.subdomain, hostedAppEnvironment: f.environment }, ...t } }, Sre = (n, e) => { const t = (e == null ? void 0 : e.config) || _a(), i = n === ct.FetchProxy ? "/fetch-proxy.html" : jR["web-app"].navigatorRoutePath; return new URL("".concat(kre(t)).concat(i, "?").concat(qie(Dre(t, { queryParams: e == null ? void 0 : e.queryParams, isModal: e == null ? void 0 : e.isModal })))) }, Cre = () => { const n = {}; return { addListener: (e, t) => { var i; n[e] || (n[e] = []), (i = n[e]) == null || i.push(t) }, removeListener: (e, t) => { n[e] || (n[e] = []), n[e] = n[e].filter(i => i !== t) }, emit: (e, t, i) => { const r = n[e]; r == null || r.forEach(s => s(t, i)) } } }, Jn = Cre(), Vg = "__cm_event", X1 = "__cm_sender", Z1 = "__cm_consuming-product", oF = "__cm_data"; let Xt; (function (n) { n.AgeVerificationFlowComplete = "ageverificationflowcomplete", n.DidAgeVerify = "ageverified", n.DidGdprAcknowledge = "gdpracknowledged", n.DidSignIn = "signedin", n.DidSignOut = "signedout", n.DidTransition = "transitioned", n.DidTimeOut = "didtimeout", n.SubscriptionDidChange = "subscriptionchanged", n.RequiresTransition = "requirestransition", n.RequiresContextualUpsell = "requirescontextualupselldata", n.RequiresKoreaAgeVerification = "requireskoreaageverificationdata", n.ContextualUpsell = "contextualupselldata", n.KoreaAgeVerification = "koreaageverificationdata", n.MediaData = "mediadata", n.InitializedHosted = "__cm_initialized_hosted", n.OpenModal = "openmodal", n.CloseModal = "closemodal", n.PushModal = "pushmodal", n.PopModal = "popmodal", n.ModalWasShown = "modalwasshown", n.ModalDidClose = "modaldidclose", n.ModalDidPop = "modaldidpop", n.ReadyToBeShown = "readytobeshown", n.BootWithConfig = "bootwithconfig", n.ShowSportsScoresChange = "showsportsscoreschange", n.AutoPlayNextVideoChange = "autoplaynextvideochange", n.UserSettingChange = "usersettingchange", n.ContentResize = "contentresize", n.UserActivity = "useractivity", n.FetchRequest = "fetchrequest", n.FetchResponse = "fetchresponse", n.AuthRequired = "authrequired", n.AuthFailed = "authfailed", n.RequestStorefrontChange = "requestStorefrontChange", n.PaymentChange = "paymentChange" })(Xt || (Xt = {})); const Pre = (n, e, t) => ({ [X1]: n, [Z1]: n, [Vg]: e, [oF]: t }), Q1 = n => { const e = n[X1] || n[Z1], t = n[Vg], i = n[oF]; return { eventName: t, data: i, sender: e } }, aF = n => { const e = new URL(n); return e.host.endsWith(".apple.com") && e.protocol === "https:" }, Are = n => aF(n.origin), Lb = n => { const { [Vg]: e } = n.data; return !!e }, Ere = n => { const { [Vg]: e, [X1]: t, [Z1]: i } = n.data; return !!(e && (t || i)) }, Ire = n => { const e = [Are, Lb, Ere]; for (let t = 0; t < e.length; t++) { const i = e[t]; if (!i(n)) return i !== Lb && (mo("Message not verified. Failed on ".concat(i.name, ".")), iF(n)), !1 } return !0 }, j1 = (n, e, t) => { Yn(e), t && (Yn("Data for '".concat(n, "' message:")), iF(t)) }, Mre = (n, e) => { const { eventName: t, data: i } = Q1(e), r = "Sent message '".concat(t, "' to '").concat(n, "'"); j1(t, r, i) }, Lre = (n, e) => { const { eventName: t, data: i } = Q1(e), r = "Queued message '".concat(t, "' to '").concat(n, "'"); j1(t, r, i) }, Tre = (n, e, t) => { const i = "Received message '".concat(n, "' from '").concat(e, "'"); j1(n, i, t) }, lF = (n, e) => { const t = K1(n); if (!t) { mo("Unknown message target ID. Discarding message."); return } const { targetWindow: i, targetOrigin: r, isReady: s, queue: o } = t; if (!aF(r)) { Pp("Failed to send message: Unexpected origin '".concat(r, "'")); return } !s || !i ? (o.push(e), Lre(n, e)) : (i.postMessage(e, r), Mre(n, e)) }, qi = (n, e, t) => { const i = Pre(ia(), e, t); lF(n, i) }, uF = n => { const e = K1(n); if (!e) { mo("Unknown message target ID. Unable to flush queue."); return } if (!e.isReady) { Yn("Attempted to flush message queue before target ".concat(n, " was marked as ready.")); return } if (!e.targetWindow) { Yn("Attempted to flush message queue before target ".concat(n, " iframe was loaded.")); return } Yn("Flushing message queue for targetId: ".concat(n)), e.queue.forEach(t => { lF(n, t) }), e.queue = [] }, cF = (n, e) => { const t = $g(); Object.keys(t).forEach(i => { qi(i, n, e) }) }, Rre = (n, e) => { const t = $g(); Object.keys(t).filter(i => i !== "self" && i !== "parent").forEach(i => { qi(i, n, e) }) }; let Ep; class dF { constructor(e) { this.cleanup = e.cleanup || (() => { }), this.timeoutId = e.timeoutId, this.hasReceivedReadyToBeShown = e.hasReceivedReadyToBeShown || !1 } } const Sr = new Map, Fre = n => setTimeout(() => { const t = Sr.get(n); if (!t) return; const i = Ni.length === 0, r = Ni[Ni.length - 1], s = i && !t.hasReceivedReadyToBeShown, o = !i && r.messageTargetId === n && !t.hasReceivedReadyToBeShown, a = !i && r.messageTargetId !== n; s ? (Jn.emit(Xt.DidTimeOut, ia(), { targetId: n }), Pp("".concat(3e4, " milliseconds have passed with no ready to be shown for inline iFrame with target id ").concat(n, "!"))) : o ? (Jn.emit(Xt.DidTimeOut, ia(), { targetId: n }), Pp("".concat(3e4, " milliseconds have passed with no `readyToBeShown` event for modal with target id ").concat(n, "!")), _a().closeOnTimeout && e_({ result: "failure", errorKey: "TIMEOUT_EXCEEDED" })) : (clearTimeout(t.timeoutId), Yn(a ? "Timeout for ".concat(n, " triggered. Most recent modal with target id ").concat(r.messageTargetId, " does not match timeout's target id ").concat(n, ". Aborting timeout.") : "Timeout for ".concat(n, " triggered. readyToBeShown found: ").concat(t.hasReceivedReadyToBeShown, ". Clearing timeout."))) }, 3e4), G1 = n => { var e; Yn("Resetting timeout for message target ID: ".concat(n)), clearTimeout((e = Sr.get(n)) == null ? void 0 : e.timeoutId), Sr.set(n, new dF({ cleanup: () => { }, ...Sr.get(n), hasReceivedReadyToBeShown: !1, timeoutId: Fre(n) })) }, fF = () => { dre().filter(n => { var e; return !((e = Sr.get(n)) != null && e.hasReceivedReadyToBeShown) }).forEach(n => { G1(n) }) }; let Ar; const x1 = (n, e) => { const { pathParams: t, hash: i, queryParams: r, onReadyToBeShown: s, shouldAutoResize: o, data: a, isModal: l } = e || {}, u = document.createElement("iframe"), { theme: c, useRelativeIframeSrc: d } = _a(), f = yre({ routeName: n, queryParams: r, pathParams: t, hash: i }), g = Sre(f.routeName, { queryParams: f.queryParams, isModal: l }), h = Ap(g.origin, { initialRouteName: f.routeName, isReady: !1 }); G1(h); const m = () => { Yn("iframe for target ".concat(h, " loaded")), gre(h, u.contentWindow), qi(h, Xt.BootWithConfig, { routingData: f, data: a, parentConfig: Yie() }), uF(h) }; u.addEventListener("load", m), d ? u.src = "".concat(g.pathname).concat(g.search) : u.src = g.href, u.name = lre(window.location.origin, h), u.allow = "publickey-credentials-get ".concat(g.origin), u.setAttribute("data-is-ck-managed", ""), u.setAttribute(ore, h), u.setAttribute("role", "presentation"), u.style.border = "0", u.style.width = "100%", u.style.height = "100%"; const v = function (k, S) { if (k === h) { s == null || s(); const C = Sr.get(h); if (C && (C.hasReceivedReadyToBeShown = !0), Ni.filter(P => P.messageTargetId !== k).forEach(P => hF(P)), S) { const { pageTitle: P } = S; u.title = P } } }; Jn.addListener(Xt.ReadyToBeShown, v); const b = (k, S) => { let { height: C } = S; (k === h || k === "root") && (u.style.height = "".concat(C, "px")) }; o && Jn.addListener(Xt.ContentResize, b), Sr.set(h, new dF({ ...Sr.get(h), cleanup: () => { var k; Jn.removeListener(Xt.ReadyToBeShown, v), o && Jn.removeListener(Xt.ContentResize, b), hre(h), u.removeEventListener("load", m), u.remove(), clearTimeout((k = Sr.get(h)) == null ? void 0 : k.timeoutId), Sr.delete(h) } })); const { placeholderEl: y } = jie({ theme: c }); return { messageTargetId: h, iframeEl: u, placeholderEl: y } }, gF = n => { const { messageTargetId: e, iframeEl: t, placeholderEl: i } = n; Yn("[Modal] Showing iframe w/ target ID: ".concat(e)), t.style.pointerEvents = "auto", t.style.opacity = "1", i.remove(), qi(e, Xt.ModalWasShown) }, hF = function (n) { let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1; const { messageTargetId: t, iframeEl: i } = n; e || Yn("[Modal] Hiding iframe w/ target ID: ".concat(t)), i.style.pointerEvents = "none", i.style.opacity = "0" }, af = n => { var e; const { messageTargetId: t, placeholderEl: i } = n, r = (e = Sr.get(t)) == null ? void 0 : e.cleanup; if (!r) throw new Error("Failed to destroy iframe with ID '".concat(t, "'. Cleanup function not found.")); r(), i == null || i.remove(), Yn("Destroyed iframe with ID '".concat(t, "'")) }; let Ni = []; const zg = () => JSON.stringify(Ni.map(n => n.messageTargetId)), mF = n => { const { modalOptions: e } = _a(); return { ...e, ...n } }, pF = (n, e) => { const { containerSelector: t, onModalReadyToBeShown: i, onModalWasShown: r, onModalRequested: s, queryParams: o, pathParams: a, hash: l, data: u } = e, c = document.querySelector(t || "body"); if (!c) throw new Error("Modal container element not found with selector '".concat(t, "'")); s == null || s(); const d = x1(n, { queryParams: o, pathParams: a, hash: l, onReadyToBeShown: () => { i == null || i(), gF(d), r == null || r() }, data: u, isModal: !0 }); return hF(d), d.iframeEl.style.position = "fixed", d.iframeEl.style.top = "0", d.iframeEl.style.right = "0", d.iframeEl.style.bottom = "0", d.iframeEl.style.left = "0", { ...d, container: c } }, lf = n => new Promise((e, t) => { const i = (r, s) => { Ni.length === 0 && (n == null || n()), Jn.removeListener(Xt.ModalDidPop, i), Jn.removeListener(Xt.ModalDidClose, i), Rre(Xt.ModalDidClose, s), s.result === "failure" ? t(s) : e(s) }; Jn.addListener(Xt.ModalDidPop, i), Jn.addListener(Xt.ModalDidClose, i) }), qg = () => ia() !== "root", El = (n, e) => { const t = mF(e), { onModalClose: i, queryParams: r, pathParams: s, hash: o, data: a, path: l } = t; if (qg()) return qi("parent", Xt.OpenModal, sF({ routeName: n, queryParams: r, pathParams: s, hash: o, data: a, path: l })), lf(i); const { container: u, iframeEl: c, placeholderEl: d, messageTargetId: f } = pF(n, t); return Ar || (Ar = tF()), Ni = [{ iframeEl: c, messageTargetId: f, placeholderEl: d }], Yn("[Modal] Opening modal. Current modal stack: ".concat(zg())), u.replaceChildren(Ar, c, d), lf(i) }, e_ = n => { if (qg()) { qi("parent", Xt.CloseModal, n); return } Ni.forEach(e => { af(e) }), fF(), Ni = [], Yn("[Modal] Closing modal. Current modal stack: ".concat(zg())), cF(Xt.ModalDidClose, n), Ar && (Ar.remove(), Ar = null) }, t_ = (n, e) => { const t = mF(e), { onModalClose: i, queryParams: r, pathParams: s, hash: o, data: a, path: l } = t; if (qg()) return qi("parent", Xt.PushModal, sF({ routeName: n, queryParams: r, pathParams: s, hash: o, data: a, path: l })), lf(i); const { container: u, iframeEl: c, placeholderEl: d, messageTargetId: f } = pF(n, t); return Ar || (Ar = tF(), u.appendChild(Ar)), Ni.push({ iframeEl: c, placeholderEl: d, messageTargetId: f }), Yn("[Modal] Pushing modal. Current modal stack: ".concat(zg())), Ni.length === 1 && u.appendChild(d), u.appendChild(c), lf(i) }, _F = n => { var e; if (qg()) { qi("parent", Xt.PopModal, n); return } const t = Ni.pop(); if (Yn("[Modal] Popping modal. Current modal stack: ".concat(zg())), !t) return; if (Ni.length <= 0) { af(t), fF(), cF(Xt.ModalDidClose, n), Ar && (Ar.remove(), Ar = null); return } const i = Ni[Ni.length - 1]; qi(i.messageTargetId, Xt.ModalDidPop, n), (e = Sr.get(i.messageTargetId)) != null && e.hasReceivedReadyToBeShown || G1(i.messageTargetId), af(t), gF(i) }, vF = () => Ep ? Promise.resolve(Ep) : W1() ? new Promise(n => { Yn("Waiting for boot config"); const e = setTimeout(() => { mo("Still waiting for boot config. Page may fail to load.") }, 5e3); Jn.addListener(Xt.BootWithConfig, function t(i, r) { Jn.removeListener(Xt.BootWithConfig, t), Yn("Boot config received"), clearTimeout(e), n(r) }) }) : Promise.resolve({ data: window.ckBootConfig || {}, routingData: { routeName: "" } }), Ore = n => { Ep = n }, Nre = () => { new ResizeObserver(QR(e => { if (e.length === 0) return; const { borderBoxSize: t } = e[0]; if (!(t != null && t.length)) return; const i = t[0], r = i.blockSize, s = i.inlineSize; r > 0 && qi("parent", Xt.ContentResize, { width: s, height: r }) }, 100)).observe(document.body) }, Bre = async () => { var n; const e = await vF(); if (e != null && (n = e.parentConfig) != null && n.shouldDetectUserActivity) { var t; const { userActivityOptions: i } = e.parentConfig, r = QR(() => { qi("parent", Xt.UserActivity) }, typeof (i == null ? void 0 : i.detectionIntervalInMs) < "u" ? i.detectionIntervalInMs : 1e3); i == null || (t = i.eventsToDetect) == null || t.forEach(s => { document.addEventListener(s, r) }) } }; let Ip; const Tb = n => ({ httpStatus: n.httpStatus, body: n.body, error: n.error }), $a = {}, Ure = (n, e) => { const { httpStatus: t, error: i, requestId: r } = e; $a[r] && (!t && i ? $a[r].reject(Tb(e)) : $a[r].resolve(Tb(e)), delete $a[r]) }, bF = function (n) { let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0; const t = e > 0 ? "".concat(n, "-").concat(e) : "".concat(n); return $a[t] ? bF(n, e + 1) : t }, yF = async function (n) { let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, t = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}; return new Promise((i, r) => { Ip || mo("Fetch was called, but proxy iframe was not rendered. Ensure fetchOptions.shouldEnableFetchProxy is set to true."); const s = bF(n); $a[s] = { resolve: i, reject: r }; const { devToken: o } = _a(); t.shouldIncludeAuthorizationHeader && o && (e.headers = { ...e.headers, Authorization: "Bearer ".concat(o) }), qi(Ip, Xt.FetchRequest, { bagKey: n, requestId: s, requestOptions: e }) }) }, Hre = () => { var n; const { messageTargetId: e, iframeEl: t } = x1(ct.FetchProxy); t.style.width = "0", t.style.height = "0", t.style.display = "none"; const { fetchOptions: i } = _a(); (n = document.querySelector((i == null ? void 0 : i.proxyContainerSelector) || "body")) == null || n.appendChild(t), Ip = e }, $re = (n, e) => { const t = typeof n == "string" ? Wie(n) : n; return El(ct.BuyV2, { data: { ...e || {}, buyParams: t } }) }, Vre = async function () { let { attemptSilentAuth: n, queryParams: e } = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : { attemptSilentAuth: !1 }; return t_(n ? ct.SilentAuthenticate : ct.Authenticate, { queryParams: { ...e, shouldPopModal: !0 } }) }, zre = () => El(ct.Logout), qre = (n, e) => El(ct.SubscriptionPriceIncrease, { data: { acknowledgeData: e }, queryParams: { subscriptionId: n } }), Wre = n => El(ct.InboxMessages, { data: { inboxMessages: n } }), wF = async n => yF(ZR.InboxMessages, { queryParams: n ? { subscriptionType: n.subscriptionType, messageType: n.messageType } : void 0 }, { shouldIncludeAuthorizationHeader: !0 }), Kre = async n => wF({ subscriptionType: n, messageType: "PRICE_INCREASE" }); var Mp = { createIframe: x1, destroyIframe: af, openModal: El, closeModal: e_, pushModal: t_, popModal: _F, getBootConfig: vF, send: qi, getMessageTarget: K1, getMessageTargets: $g, eventEmitter: Jn, fetch: yF, buy: $re, authenticate: Vre, logout: zre, openPriceIncreaseAgreement: qre, getInboxMessages: wF, openInboxMessages: Wre, getPriceIncreaseMessages: Kre, version: "3.0.1" }; let Rb = !1; const Jre = n => { fre(n), uF(n) }, Yre = (n, e) => { El(e.routeName, e) }, Xre = (n, e) => { t_(e.routeName, e) }, Zre = (n, e) => { e_(e) }, Qre = (n, e) => { _F(e) }, jre = (n, e) => { Ore(e) }, Gre = (n, e) => { ia() !== "root" && qi("parent", Xt.UserActivity, e) }, xre = () => { Jn.addListener(Xt.InitializedHosted, Jre), Jn.addListener(Xt.OpenModal, Yre), Jn.addListener(Xt.CloseModal, Zre), Jn.addListener(Xt.BootWithConfig, jre), Jn.addListener(Xt.PushModal, Xre), Jn.addListener(Xt.PopModal, Qre), Jn.addListener(Xt.UserActivity, Gre), Jn.addListener(Xt.FetchResponse, Ure) }, ese = n => { if (!Ire(n)) return; const { eventName: e, sender: t, data: i } = Q1(n.data); Tre(e, t, i), Jn.emit(e, t, i) }, tse = () => { Rb || (window.addEventListener("message", ese), xre(), Rb = !0, Yn("Started listening")) }, nse = () => { qi("parent", Xt.InitializedHosted) }, ise = n => { var e; const t = Jie(n); return ire({ configLogLevel: t.logLevel, iframeNameLogLevel: Hg(window.name).logLevel, localStorageLogLevel: localStorage.getItem("ckLogLevel") }), are(), tse(), W1() ? (Nre(), Bre(), t.onBeforeBoot == null || t.onBeforeBoot(Mp), nse()) : (e = t.fetchOptions) != null && e.shouldEnableFetchProxy && Hre(), Mp }, rse = () => Mp, sse = Object.freeze(Object.defineProperty({ __proto__: null, get AuthDisplayType() { return sf }, get AuthType() { return rf }, BagKey: ZR, get EventName() { return Xt }, get HostedAppEnvironment() { return of }, get HostedAppSubdomain() { return ol }, get RouteName() { return ct }, get Theme() { return Dp }, getCommerceKit: rse, setupCommerceKit: ise }, Symbol.toStringTag, { value: "Module" })); var fi = (n => (n.authenticate = "/authenticate", n.gdpr = "/account/privacy", n.logout = "/logout", n.settings = "/account/settings", n.subscribe = "/subscribe", n.billing = "/account/billing", n.ageVerification = "/account/verification", n.carrierLinking = "/account/carrier-linking", n.contentRestricted = "/content-restricted", n.createAccount = "/account/create", n.editBilling = "/account/edit-billing", n.koreaAgeVerification = "/age-verification/landing", n.planCancel = "/plan/cancel", n.planReactivate = "/plan/reactivate", n.planSubscribe = "/plan/subscribe", n.redeem = "/redeem", n.subscribeCarrier = "/subscribe/carrier", n.terms = "/terms-agreement", n.subscribeStudent = "/subscribe/student", n.planSelection = "/subscribe/plan-selection", n.studentSubscriptionOffers = "/subscribe/student-subscribe", n.studentVerified = "/subscribe/student/verified", n.studentReverification = "/subscribe/student/reverification", n.subscribeFamily = "/subscribe/family", n))(fi || {}); const Lp = ["/account/settings"], ose = { ["/account/verification"]: ct.AgeVerification, ["/authenticate"]: ct.Authenticate, ["/account/billing"]: ct.Billing, ["/content-restricted"]: ct.ContentRestricted, ["/account/create"]: ct.CreateAccount, ["/account/edit-billing"]: ct.EditBilling, ["/account/privacy"]: ct.Privacy, ["/age-verification/landing"]: ct.AgeVerificationLanding, ["/logout"]: ct.Logout, ["/plan/cancel"]: ct.PlanAction, ["/plan/reactivate"]: ct.PlanAction, ["/plan/subscribe"]: ct.PlanSubscribe, ["/redeem"]: ct.RedeemLanding, ["/account/settings"]: ct.AccountSettings, ["/subscribe"]: ct.Subscribe, ["/subscribe/family"]: ct.Subscribe, ["/subscribe/carrier"]: ct.ChannelPlatformLanding, ["/terms-agreement"]: ct.TermsAgreement, ["/subscribe/plan-selection"]: ct.MusicPlanSelection, ["/subscribe/student/reverification"]: ct.SegmentReverification, ["/subscribe/student-subscribe"]: ct.MusicStudentSubscribe, ["/subscribe/student/verified"]: ct.SegmentVerified, ["/subscribe/student"]: ct.MusicStudentUpsell }, ase = { $intentKind: YR.Name, routes(n) { return [{ rules: Object.keys(zh).flatMap(t => [{ path: t, query: ["l?"] }, { path: `{storefront}${t}`, query: ["l?"] }]), handler: (t, i) => { var s, o; const r = t.pathComponents(); return dr.isSome(i.storefront) && r.shift(), XR({ path: `/${r.join("/")}`, query: t.query, ...qt({ storefront: (o = (s = i.storefront) == null ? void 0 : s.toLowerCase()) != null ? o : Mg(n), language: i.l }, n) }) } }] }, async perform(n, e) { var f, g, h, m; const { storefront: t, language: i, path: r, query: s } = n, o = Dee(r, { ...s, language: i, storefront: t }), a = (f = zh[r]) != null ? f : r; if (Lp.includes(a)) return { pageMetrics: { instructions: [], pageFields: { page: "AccountSettings", pageType: "AccountSettings" }, custom: {} }, sections: [], commercePath: a, modalParams: { ...s, iso2code: t != null ? t : qr, locale: (m = (h = xr.normalize({ storefront: t != null ? t : qr, language: (g = s == null ? void 0 : s.l) != null ? g : i })) == null ? void 0 : h.language) != null ? m : Nu.toLowerCase() }, canonicalURL: o, seoData: Fb(o, e) }; const u = ur({ storefront: t, language: i }); return { ...await Ge(Ue.intentDispatcher, e).dispatch(u, e), canonicalURL: o, seoData: Fb(o, e) } }, actionFor(n, e, t) { var d, f, g, h, m; const i = (d = t.metrics) != null ? d : un(e, "0", "unknown", "navigate"), r = At({ kind: vt.CatalogPage, intent: n }, i); if (!t.isDeepLinkAction) return r; const { path: s, query: o, language: a, storefront: l } = n, u = (f = zh[s]) != null ? f : s; if (Lp.includes(u)) return r; const c = { ...o, iso2code: l != null ? l : qr, locale: (m = (h = xr.normalize({ storefront: l != null ? l : qr, language: (g = o == null ? void 0 : o.l) != null ? g : a })) == null ? void 0 : h.language) != null ? m : Nu.toLowerCase() }; return Lt([...pr({ kind: bt.New }, r, e), vr({ type: ir.Open, activePath: u, modalParams: c })], Ve) } }; function Fb(n, e) { let t = { pageTitle: lg(e) }; const i = ei.string("ASE.Web.Music.AppleMusic", e); if (n != null && n.includes("login")) t = { ...bn(n, e), pageTitle: ei.string("ASE.Web.Music.Login.Meta.PageTitle", e), description: ei.string("ASE.Web.Music.Login.Meta.Description", e), socialTitle: ei.string("ASE.Web.Music.Login.Meta.PageTitle", e), socialDescription: ei.string("ASE.Web.Music.Login.Meta.Description.Social", e) }; else if (n != null && n.includes("subscribe")) t = { ...bn(n, e), pageTitle: ei.string("ASE.Web.Music.Meta.Commerce.Subscribe.PageTitle", e, { siteName: i }) }; else if (n != null && n.includes("student")) { const r = ei.string("ASE.Web.Music.Meta.Commerce.Student.PageTitle", e, { siteName: i }), s = ei.string("ASE.Web.Music.Student.Meta.Description", e); t = { ...bn(n, e), pageTitle: r, description: s, socialTitle: r, socialDescription: s, url: n } } return t } var kF = (n => (n.Name = "ReplayPageIntent", n))(kF || {}); function DF(n) { return { ...n, $kind: "ReplayPageIntent" } } function lse(n, e, t) { const i = bn(n, t), r = Ge(Ue.localization, t); if (!e) return i; function s() { return r.string("AMWeb.Replay.Page.Title", { year: e }) } function o() { return r.string("AMWeb.Replay.Meta.Description", { year: e }) } function a() { return r.string("AMP.Replay.Page.Title.Social", { year: e }) } function l() { return r.string("AMWeb.Replay.Meta.Description.Social", { year: e }) } const u = s(), c = o(), d = a(), f = l(); return { ...i, pageTitle: u, description: c, appleTitle: d, appleDescription: c, ogType: "music.playlist", socialTitle: d, socialDescription: f } } async function use(n, e, t) { if (!Vn(t) || !e) return n; const i = lse(n.canonicalURL, e, t); return { ...n, seoData: i } } const { routes: cse, makeCanonicalUrl: dse } = Ei(DF, "/replay", []), fse = { $intentKind: kF.Name, routes(n) { return [...cse(n), { rules: [{ hostName: "replay.music.apple.com" }], handler() { return DF({ storefront: null, language: null }) } }] }, async perform(n, e) { const i = new Date().getFullYear(); return { ...await use({ pageMetrics: { instructions: [], pageFields: {}, custom: {} }, sections: [], canonicalURL: dse(n) }, `${i}`, e), replay: !0 } }, actionFor(n, e, t) { var i, r; return (r = (i = t.metrics) == null ? void 0 : i.data) != null && r[0] && (t.metrics.data[0] = { ...t.metrics.data[0], fields: { ...t.metrics.data[0].fields, targetType: "iTunesBrandCurator", actionUrl: "https://music.apple.com/replay" } }), Lt([At({ kind: pi.ReplayPage, intent: n }, t.metrics || Ve), ri({ kind: bt.Browse }, Ve, e)], Ve) } }; var SF = (n => (n.Name = "LibraryRelationshipsIntent", n))(SF || {}); function Wg(n) { return { ...n, $kind: "LibraryRelationshipsIntent" } } function CF(n, e = !1, t = !1) { const i = Array.isArray(n) ? n : [n], r = {}; if (i.forEach(s => { if (!(s != null && s.identifiers)) return; const o = t ? fr({ contentDescriptor: s }) : Qt({ contentDescriptor: s }), { kind: a } = s; let l = pa[a]; l && e && (l = hse(l)), o && l && (r[l] || (r[l] = []), r[l].push(o)) }, {}), Object.keys(r).length) return r } function PF(n) { const e = {}; return Object.keys(n).forEach(t => { e[`ids[${t}]`] = n[t].toString() }), e } function gse(n, e) { const t = {}; return Object.keys(n).forEach(i => { let r = []; e || r.push("inLibrary"), Pee.includes(i) && r.push("personalRating"), r.length && (t[`fields[${i}]`] = r.toString()) }), t } function hse(n) { return n.replace(/[\s-]+(.)/g, function (e) { return e.toUpperCase() }).replace(/[\s-]/g, "").replace(/^(.)/, function (e) { return e.toLowerCase() }) } async function mse(n, e = {}, t, i) { let r = [], s = new je(n, t), o; try { for (; s;) { s.queryString.addParameters(e); const a = await pt({ url: s.string }, t); if (a != null && a.body.data && (r = [...r, ...a.body.data]), !(a != null && a.body.next)) break; const l = new je(a.body.next, t), u = new URLSearchParams(l.string).get("offset"), c = u ? Number.parseInt(u) : null; if (!c || c <= o) break; s = l, o = c } return r } catch (a) { throw i.error("Cannot load continuous Music API Request", a), new Error(`Cannot load continuous Music API Request ${a}`) } } async function Ob(n, e) { if (!n) throw new Error("descriptor with items is required for requestAddToLibrary"); const t = new je("/v1/me/library", e); return t.queryString.addParameters(PF(n)), t.queryString.shouldIncludeLanguage = !1, t.queryString.shouldIncludePlatform = !1, t.queryString.addParameters({ representation: "ids" }), pt({ url: t.string, method: "POST" }, e) } async function pse(n, e, t) { if (!n || !e) throw new Error("id or type are required for requestDeleteFromLibrary"); const i = new je(`/v1/me/library/${e}/${n}`, t); return i.queryString.shouldIncludeLanguage = !1, i.queryString.shouldIncludePlatform = !1, i.queryString.shouldIncludeFormatResourcesMap = !1, pt({ url: i.string, method: "DELETE" }, t) } async function Nb(n, e, t, i, r = !1) { if (!n) throw new Error("descriptor is required for requestLibraryRelatonships"); const o = Object.keys(n)[0].startsWith("library"), a = gse(n, o); if (!Object.keys(a).length) return; const l = o ? "me/library" : `catalog/${e}`, u = new je(`/v1/${l}`, i); u.queryString.addParameters({ l: t, platform: "web", "omit[resource]": "autos", relate: "library" }), u.queryString.addParameters(PF(n)), u.queryString.addParameters(a); const c = { url: u.string, ...r && { cache: "no-cache" } }; return pt(c, i) } async function _se(n, e, t) { if (!n || !e) throw new Error("id or playlistId are required for requestRemoveFromPlaylist"); const i = new je(`/v1/me/library/playlists/${e}/tracks?ids[library-songs]=${n}&mode=all`, t); return i.queryString.shouldIncludeLanguage = !1, i.queryString.shouldIncludePlatform = !1, i.queryString.shouldIncludeFormatResourcesMap = !1, pt({ url: i.string, method: "DELETE" }, t) } var Bs = (n => (n.GetInLibrary = "getInLibrary", n.AddToLibrary = "addToLibrary", n.DeleteFromLibrary = "deleteFromLibrary", n.RemoveFromPlaylist = "removeFromPlaylist", n))(Bs || {}); const vse = { $intentKind: SF.Name, async perform(n, e) { var h, m, v, b, y, k, S, C, P, M; if (e.required(Ue.subscriptionStatusCoordinator).subscriptionStatus.rawResponse.music.isInGlidePreview || !OE(e)) return; const { id: r, kind: s, descriptor: o, storefront: a, language: l, operationType: u, noCache: c, containerId: d } = n; let { libraryId: f } = n; const g = pa[s]; try { switch (u) { case Bs.GetInLibrary: const R = o || { [g]: [r] }, F = await Nb(R, a, l, e, c), N = (h = F == null ? void 0 : F.body) == null ? void 0 : h.resources; if (!N) throw new Error("No resource map in inLibrary API response"); return new gt(N, e).resources((m = F == null ? void 0 : F.body) == null ? void 0 : m.data).map(U => { var Z, Q, G, ae, ee; const K = U == null ? void 0 : U.relationships, W = (Q = (Z = K == null ? void 0 : K.library) == null ? void 0 : Z.data) == null ? void 0 : Q[0]; return { id: U.id, inFavorites: ((G = U == null ? void 0 : U.attributes) == null ? void 0 : G.personalRating) === 1, suggestLess: ((ae = U == null ? void 0 : U.attributes) == null ? void 0 : ae.personalRating) === -1, inLibrary: (ee = U == null ? void 0 : U.attributes) == null ? void 0 : ee.inLibrary, libraryId: W == null ? void 0 : W.id } }); case Bs.DeleteFromLibrary: if (!f) { const U = { [g]: [r] }, K = await Nb(U, a, l, e, c); if ((b = (v = K == null ? void 0 : K.body) == null ? void 0 : v.resources) != null && b[g]) { const W = (S = (k = (y = K.body) == null ? void 0 : y.resources) == null ? void 0 : k[g]) == null ? void 0 : S[r], Z = (M = (P = (C = W == null ? void 0 : W.relationships) == null ? void 0 : C.library) == null ? void 0 : P.data) == null ? void 0 : M[0]; f = Z == null ? void 0 : Z.id } } return await pse(f, g, e); case Bs.AddToLibrary: return o ? await Ob(o, e) : await Ob({ [`${g}`]: [r] }, e); case Bs.RemoveFromPlaylist: return await _se(r, d, e); default: throw new Error("Non recognizable LibraryRelationshipOperationType") } } catch (R) { throw new Error(`an error occurred at LibraryRelationshipsIntentController: ${R}`) } } }; function bse(n, e) { const t = nt.countryCode(e), i = new je(`/v1/catalog/${t}/stations`, e); return i.queryString.addParameters({ "art[url]": "f", "filter[identity]": n, extend: "editorialArtwork" }), pt({ url: i.string }, e) } function yse(n, e) { const t = nt.countryCode(e), i = new je(`/v1/catalog/${t}/stations/${n}`, e); return i.queryString.addParameters({ "art[url]": "f", extend: "editorialArtwork" }), pt({ url: i.string }, e) } const xc = "ra.1668874463", wse = "The Official Rihanna Halftime Show Interview on Apple Music", Bb = "Get ready for one of the most anticipated Super Bowl Halftime Shows of all time. Ahead of her performance, Rihanna sits down with Nadeska to discuss her music career as well as her time away from the stage building her beauty and fashion empire. Join us on Apple Music."; function kse(n, e, t, i, r) { var s, o, a, l, u, c, d, f, g; const h = bn(n, t); if (!(e != null && e.attributes) || !i) return h; const m = e.id, v = Ge(Ue.localization, t), b = e.attributes.name, y = e.attributes.kind, k = (o = (s = e.attributes.editorialArtwork) === null || s === void 0 ? void 0 : s.subscriptionCover) !== null && o !== void 0 ? o : (l = (a = e == null ? void 0 : e.attributes) === null || a === void 0 ? void 0 : a.editorialArtwork) === null || l === void 0 ? void 0 : l.subscriptionHero, S = "jpg", C = Hn.quality, P = k ? "wp" : "bf", M = (d = (u = k == null ? void 0 : k.url) !== null && u !== void 0 ? u : (c = e.attributes.artwork) === null || c === void 0 ? void 0 : c.url) !== null && d !== void 0 ? d : Ai.url, R = di(M, { width: 216, height: 216, fileType: S, crop: "wp", quality: C }, { forceCropCode: !0 }); function F(ke, we) { var Te; return (!we || we && !(!((Te = Object.keys(we)) === null || Te === void 0) && Te.length)) && (we = {}), v.string(ke, we) } const N = e.id === xc, O = v.languageCode.toLocaleLowerCase().startsWith("en") && N; function B() { return r != null && r.title ? r.title : O && (e == null ? void 0 : e.id) === xc ? wse : b ? F("FUSE.Meta.RadioStation.PageTitle", { stationName: b }) : h == null ? void 0 : h.pageTitle } function U() { var ke; if (r != null && r.description) return r.description; if (O && (e == null ? void 0 : e.id) === xc) return Bb; if (b) return ((ke = e == null ? void 0 : e.attributes) === null || ke === void 0 ? void 0 : ke.streamingRadioSubType) === "Episode" ? F("FUSE.Meta.RadioStation.Episode.PageDescription", { stationName: b }) : F("FUSE.Meta.RadioStation.PageDescription", { stationName: b }) } function K() { return r != null && r.socialTitle ? r.socialTitle : b ? y === "editorial" || y === "artistSeeded" ? F("FUSE.Meta.Station.Title", { stationName: b }) : F("FUSE.Meta.RadioStation.Title", { stationName: b }) : Z } function W() { return r != null && r.socialDescription ? r.socialDescription : O && (e == null ? void 0 : e.id) === xc ? Bb : v.string("FUSE.Meta.Station.Description.Social") } const Z = B(), Q = U(), G = K(), ae = W(); function ee() { var ke, we, Te; return r != null && r.description || N ? Q : (Te = (we = (ke = e == null ? void 0 : e.attributes) === null || ke === void 0 ? void 0 : ke.editorialNotes) === null || we === void 0 ? void 0 : we.short) !== null && Te !== void 0 ? Te : Q } const pe = ee(); return { ...h, pageTitle: Z, description: Q, keywords: b ? F("FUSE.Meta.Station.PageKeywords", { stationName: b }) : void 0, appleContentId: m, appleTitle: b, appleDescription: Q, socialTitle: G, socialDescription: ae, ogType: "music.radio_station", twitterCropCode: P, artworkUrl: M, fileType: S, crop: P, quality: C, schemaName: "schema:radio-station", schemaContent: { "@context": "http://schema.org", "@type": "RadioChannel", name: b, description: pe, url: (f = e == null ? void 0 : e.attributes) === null || f === void 0 ? void 0 : f.url, image: R, potentialAction: mi((g = e == null ? void 0 : e.attributes) === null || g === void 0 ? void 0 : g.url, "ListenAction") } } } async function Dse(n, e, t) { var i, r; if (!Vn(e)) return n; const s = (i = t.body) === null || i === void 0 ? void 0 : i.data, o = (r = t.body) === null || r === void 0 ? void 0 : r.resources, a = o ? new gt(o, e) : void 0, l = a && s ? fo(s, a) : void 0; if (!(l != null && l.attributes) || !a) return n; const u = await vi(l.id, z.Stations, e), c = kse(n.canonicalURL, l, e, a, u); return { ...n, seoData: c } } function Sse(n, e, t) { if (!Vn(t)) return n; const i = bn(n.canonicalURL, t), r = Ge(Ue.localization, t), s = { ...i, noIndex: !0, noFollow: !0, pageTitle: e, description: r.string("Station.Description", { name: e }) }; return { ...n, seoData: s } } async function Cse(n, e) { try { const t = await yse(n, e); return AF(t, e) } catch (t) { throw e.required(hi).error("Error occurred fetching a radio station", t), t } } function AF(n, e) { var l, u, c, d, f, g, h, m; const t = (l = n == null ? void 0 : n.body) == null ? void 0 : l.data, i = e.required(hi); if ((n == null ? void 0 : n.statusCode) > 299) { i.error(`Non 200 status code from Library Album items response. Status code: ${n.statusCode}`); return } (!t || t.length === 0) && i.error("No resource identifiers in Library Album items response"); const r = (u = n.body) == null ? void 0 : u.resources; if (!r) { i.error("No resource map in RadioStation items response"); return } const o = new gt(r, e).resource({ id: (c = t == null ? void 0 : t[0]) == null ? void 0 : c.id, type: z.Stations }), a = { contentDescriptor: rt(o, e), title: o.attributes.name, id: (d = t == null ? void 0 : t[0]) == null ? void 0 : d.id, subtitle: (f = o.attributes.editorialNotes) == null ? void 0 : f.short, paragraphText: (g = o.attributes.editorialNotes) == null ? void 0 : g.standard, artwork: st(o.attributes.artwork), canonicalUrl: o.attributes.url, showExplicitBadge: Vt(o.attributes), playAction: Rt({ identifiers: { storeAdamID: (h = t == null ? void 0 : t[0]) == null ? void 0 : h.id }, kind: x.RadioStation, url: (m = o.attributes) == null ? void 0 : m.url }, e), isAOD: _r(o), radioStation: { isRadioEpisode: _i(o), isLiveRadio: Lr(o), isBroadcastRadio: Tr(o) } }; return Dse(a, e, n) } const Pse = { ...Ag, async perform(n, e) { const t = n.contentDescriptor.identifiers.storeAdamID, i = await Cse(t, e); return n_(i) }, actionFor(n, e, t) { return as(n.contentDescriptor, null, e, t) } }; function n_(n) { const e = [{ id: "radioStation", itemKind: "centeredItemDetailHeader", items: [n], presentation: { kind: "single" } }]; return { pageMetrics: Eo({ pageId: n.id, pageType: "Station", pageFeatureName: "station_detail" }), sections: e, canonicalURL: n.canonicalUrl, seoData: n.seoData } } var Tp = (n => (n.Name = "PersonalizedRadioStationPageIntent", n))(Tp || {}), Rp = (n => (n.Name = "GenreStationPageIntent", n))(Rp || {}); const Ase = Fr({ ...Ag, $intentKind: Tp.Name, routes(n) { return [{ rules: [{ path: "/station/me", query: ["l?"] }, { path: "/{storefront}/station/me", query: ["l?"] }, { path: "/personal-station/{id}", query: ["l?"] }, { path: "/{storefront}/personal-station/{id}", query: ["l?"] }, { path: "/personal-station/{name}/{id}", query: ["l?"] }, { path: "/{storefront}/personal-station/{name}/{id}", query: ["l?"] }], handler: (e, t) => { var s; const i = (s = t.storefront) != null ? s : t.cc, r = t.l; return { $kind: Tp.Name, id: t.id, ...qt({ storefront: i, language: r }, n) } } }] }, async perform(n, e) { var s; const t = (s = n.id) != null ? s : "me", i = await bse(t, e), r = await AF(i, e); return n_(r) }, actionFor(n, e, t) { var a; const i = "unknown", r = (a = t.metrics) != null ? a : un(e, "0", i, "navigate"), s = At({ kind: vt.CatalogPage, intent: n }, r), o = Qs(e) ? bt.Radio : bt.Home; return Lt(pr({ kind: o }, s, e), Ve) } }), Ese = { "de-de": { "chinese?genres%3DChinese": "Chinesische Musik", "devotional-&-spiritual?genres%3DDevotional+%26+Spiritual": "Religis und spirituell", "vocaloid?genres%3DVocaloid": "Vocaloid", "rockabilly?genres%3DRockabilly": "Rockabilly", "motivated-holiday?genres%3DHoliday%26moods%3DMotivated": "Musik zum Fest fr Beschwingte Stimmung", "cumbia?genres%3DCumbia": "Cumbia", "surf?genres%3DSurf": "Surf", "romantic-era?genres%3DRomantic+Era": "Musik der Romantik", "jungle?genres%3DJungle": "Jungle", "motivated-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DMotivated": "Hip-Hop/Rap fr Beschwingte Stimmung", "australian-pub-rock?genres%3DAustralian+Pub+Rock": "Australischer Pub Rock", "alternative?genres%3DAlternative": "Alternative", "doo-wop?genres%3DDoo+Wop": "Doo Wop", "1970s-funk?genres%3DFunk%26eras%3D1970s": "70er Funk", "contemporary-jazz?genres%3DContemporary+Jazz": "Contemporary Jazz", "extreme-metal?genres%3DExtreme+Metal": "Extreme Metal", "1970s-oldies?genres%3DOldies%26eras%3D1970s": "70er Oldies", "brazilian?genres%3DBrazilian": "Brasilianische Musik", "trap?genres%3DTrap": "Trap", "1980s-holiday?genres%3DHoliday%26eras%3D1980s": "80er Musik zum Fest", "trance?genres%3DTrance": "Trance", "k-rock?genres%3DK-Rock": "K-Rock", "pop-for-working-out?genres%3DPop%26tags%3DWorkout": "Pop fr Fitness", "r&b?genres%3DR%26B": "R&B", "caribbean?genres%3DCaribbean": "Karibische Musik", "screamo?genres%3DScreamo": "Screamo", "bollywood?genres%3DBollywood": "Bollywood", "russian?genres%3DRussian": "Russische Musik", "progressive-house?genres%3DProgressive+House": "Progressive House", "detroit-techno?genres%3DDetroit+Techno": "Detroit Techno", "classical-for-focusing?genres%3DClassical%26tags%3DFocusing": "Klassik fr Konzentration", "honky-tonk?genres%3DHonky+Tonk": "Honky Tonk", "hair-metal?genres%3DHair+Metal": "Hair Metal", "rock?genres%3DRock": "Rock", "christian?genres%3DChristian": "Christliche Musik", "classic-singer-songwriter?genres%3DClassic+Singer%2FSongwriter": "Klassische Singer-Songwriter", "rave?genres%3DRave": "Rave", "forr?genres%3DForr%C3%B3": "Forr", "bashment?genres%3DBashment": "Bashment", "cloud-rap?genres%3DCloud+Rap": "Cloud Rap", "cooldown?tags%3DCooldown": "Abkhlen", "christian-rap?genres%3DChristian+Rap": "Christlicher Rap", "2000s-alternative?genres%3DAlternative%26eras%3D2000s": "2000er Alternative", "1990s-rock?genres%3DRock%26eras%3D1990s": "90er Rock", "idol--anime?genres%3DIdol%3A+Anime": "Idol: Anime", "dixieland?genres%3DDixieland": "Dixieland", "russian-pop?genres%3DRussian+Pop": "Russischer Pop", "golden-age-hip-hop?genres%3DGolden+Age": "Golden Age Hip-Hop", "focusing?tags%3DFocusing": "Konzentration", "indian-independent?genres%3DIndian+Independent": "Indische Independent-Musik", "canadian?genres%3DCanadian": "Kanadische Musik", "1970s-music-for-partying?tags%3DParty%26eras%3D1970s": "70er Musik fr Party", "southern-gospel?genres%3DSouthern+Gospel": "Southern Gospel", "trap-latino?genres%3DTrap+Latino": "Trap Latino", "latino?genres%3DLatino": "Lateinamerikanische Musik", "russian-chanson?genres%3DRussian+Chanson": "Russischer Chanson", "sanat?genres%3DSanat": "Sanat", "chill-acoustic?genres%3DAcoustic%26moods%3DChill": "Akustik fr Chillige Stimmung", "alternative-rap?genres%3DAlternative+Rap": "Alternative Rap", "chill-indie?genres%3DIndie%26moods%3DChill": "Indie fr Chillige Stimmung", "1990s-dance?genres%3DDance%26eras%3D1990s": "90er Dance", "indie?genres%3DIndie": "Indie", "1970s-disco?genres%3DDisco%26eras%3D1970s": "70er Disco", "hardcore-punk?genres%3DHardcore+Punk": "Hardcore-Punk", "hip-hop-rap-italiano?genres%3DHip-Hop%2FRap+Italiano": "Hip-Hop/Rap Italiano", "sad-music?moods%3DSad": "Traurige Musik", "chill-electronica?genres%3DElectronica%26moods%3DChill": "Electronica fr Chillige Stimmung", "pop?genres%3DPop": "Pop", "lounge?genres%3DLounge": "Lounge", "psychobilly?genres%3DPsychobilly": "Psychobilly", "electronic-for-working-out?genres%3DElectronic%26tags%3DWorkout": "Electronic fr Fitness", "chill-dance?genres%3DDance%26moods%3DChill": "Dance fr Chillige Stimmung", "latin-jazz?genres%3DLatin+Jazz": "Latin Jazz", "boleros?genres%3DBoleros": "Bolero", "r&b-for-working-out?genres%3DR%26B%26tags%3DWorkout": "R&B fr Fitness", "hip-hop-rap?genres%3DHip-Hop%2FRap": "Hip-Hop/Rap", "motivated-c-pop?genres%3DC-Pop%26moods%3DMotivated": "C-Pop fr Beschwingte Stimmung", "1990s-r&b?genres%3DR%26B%26eras%3D1990s": "90er R&B", "oldies?genres%3DOldies": "Oldies", "jazz?genres%3DJazz": "Jazz", "acoustic?genres%3DAcoustic": "Akustik", "chill-nature?genres%3DNature%26moods%3DChill": "Natur fr Chillige Stimmung", "singer-songwriter?genres%3DSinger%2FSongwriter": "Singer-Songwriter", "punk?genres%3DPunk": "Punk", "motivated-music?moods%3DMotivated": "Beschwingte Musik", "spanish?genres%3DSpanish": "Spanische Musik", "1990s-disco?genres%3DDisco%26eras%3D1990s": "90er Disco", "paisley-underground?genres%3DPaisley+Underground": "Paisley Underground", "indie-r&b?genres%3DIndie+R%26B": "Indie R&B", "grunge?genres%3DGrunge": "Grunge", "lullabies?genres%3DLullabies": "Schlaflieder", "classic-metal?genres%3DClassic+Metal": "Classic Metal", "arabic?genres%3DArabic": "Arabische Musik", "worldbeat?genres%3DWorldbeat": "Worldbeat", "southern-rock?genres%3DSouthern+Rock": "Southern Rock", "german?genres%3DGerman": "Deutsche Musik", "1980s-music-for-partying?tags%3DParty%26eras%3D1980s": "80er Musik fr Party", "sad-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DSad": "Hip-Hop/Rap fr Traurige Stimmung", "piano-for-meditation?genres%3DPiano%26tags%3DMeditation": "Klaviermusik fr Meditation", "french?genres%3DFrench": "Franzsische Musik", "doom?genres%3DDoom": "Doom Metal", "country?genres%3DCountry": "Country", "south-american?genres%3DSouth+American": "Sdamerikanische Musik", "instrumental?genres%3DInstrumental": "Instrumental", "mizrahi?genres%3DMizrahi": "Mizrahi-Musik", "hyphy?genres%3DHyphy": "Hyphy", "post-grunge?genres%3DPost-Grunge": "Post-Grunge", "portuguese?genres%3DPortuguese": "Portugiesische Musik", "working-out?tags%3DWorkout": "Fitness", "balearic?genres%3DBalearic": "Ibiza House", "upbeat-music?moods%3DUpbeat": "Optimistisch Musik", "arabic-pop?genres%3DArabic+Pop": "Arabischer Pop", "holiday-for-partying?genres%3DHoliday%26tags%3DParty": "Musik zum Fest fr Party", "belgian?genres%3DBelgian": "Belgische Musik", "meditation?tags%3DMeditation": "Meditation", "j-rock?genres%3DJ-Rock": "J-Rock", "happy-music-for-partying?tags%3DParty%26moods%3DHappy": "Unbeschwerte Musik fr Party", "karaoke?genres%3DKaraoke": "Karaoke", "british-metal?genres%3DBritish+Metal": "British Metal", "russian-rock?genres%3DRussian+Rock": "Russischer Rock", "dance-for-working-out?genres%3DDance%26tags%3DWorkout": "Dance fr Fitness", "french-touch?genres%3DFrench+Touch": "French Touch", "chill-music-for-partying?tags%3DParty%26moods%3DChill": "Chillige Musik fr Party", "motivated-pop?genres%3DPop%26moods%3DMotivated": "Pop fr Beschwingte Stimmung", "metal?genres%3DMetal": "Metal", "vietnamese?genres%3DVietnamese": "Vietnamesische Musik", "mpb?genres%3DMPB": "MPB (Msica Popular Brasileira)", "cubaton?genres%3DCubaton": "Cubaton", "dance?genres%3DDance": "Dance", "1990s-indie?genres%3DIndie%26eras%3D1990s": "90er Indie", "choral?genres%3DChoral": "Chormusik", "sludge?genres%3DSludge": "Sludge", "soca?genres%3DSoca": "Soca", "salsa?genres%3DSalsa": "Salsa", "1980s-dance?genres%3DDance%26eras%3D1980s": "80er Dance", "power-pop?genres%3DPower+Pop": "Power Pop", "new-wave?genres%3DNew+Wave": "New Wave", "arena-rock?genres%3DArena+Rock": "Arena-Rock", "aussie-hip-hop-rap?genres%3DAussie+Hip-Hop%2FRap": "Australischer HipHop/Rap", "new-age?genres%3DNew+Age": "New Age", "1990s-bollywood?genres%3DBollywood%26eras%3D1990s": "90er Bollywood", "merengue?genres%3DMerengue": "Merengue", "delta-blues?genres%3DDelta+Blues": "Delta-Blues", "scottish?genres%3DScottish": "Schottische Musik", "thai-pop?genres%3DThai+Pop": "Thai-Pop", "khaleeji-tarab?genres%3DKhaleeji+Tarab": "Chalidschi Taarab", "vallenato?genres%3DVallenato": "Vallenato", "happy-dance?genres%3DDance%26moods%3DHappy": "Dance fr Unbeschwerte Stimmung", "1990s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D1990s": "90er Hip-Hop/Rap", "saxophone?genres%3DSaxophone": "Saxofon-Musik", "msica-mexicana?genres%3DM%C3%BAsica+Mexicana": "Msica Mexicana", "chinese-alt?genres%3DChinese+Alt": "China Alternative", "afrobeats?genres%3DAfrobeats": "Afrobeats", "calypso?genres%3DCalypso": "Calypso", "miami-bass?genres%3DMiami+Bass": "Miami Bass", "tango?genres%3DTango": "Tango", "sleep?tags%3DSleep": "Schlafen", "happy-pop?genres%3DPop%26moods%3DHappy": "Pop fr Unbeschwerte Stimmung", "pagode?genres%3DPagode": "Pagode", "j-hip-hop?genres%3DJ-Hip-Hop": "J-Hip-Hop/Rap", "1990s-techno?genres%3DTechno%26eras%3D1990s": "90er Techno", "electronic?genres%3DElectronic": "Electronic", "alternativo-en-espaol?genres%3DAlternativo+en+Espa%C3%B1ol": "Alternativo en Espaol", "israeli?genres%3DIsraeli": "Israelische Musik", "1980s-alternative?genres%3DAlternative%26eras%3D1980s": "80er Alternative", "roots-rock?genres%3DRoots+Rock": "Roots Rock", "entertaining?tags%3DEntertaining": "Entertainment", "uk-garage?genres%3DUK+Garage": "UK Garage", "tai-pop?genres%3DTai-Pop": "Tai-Pop", "funk?genres%3DFunk": "Funk", "mandopop?genres%3DMandopop": "Mandopop", "1970s-rock?genres%3DRock%26eras%3D1970s": "70er Rock", "piano?genres%3DPiano": "Klaviermusik", "fusion-jazz?genres%3DFusion+Jazz": "Fusion-Jazz", "1980s-soul?genres%3DSoul%26eras%3D1980s": "80er Soul", "reggaeton?genres%3DReggaeton": "Reggaeton", "malaysian-music?genres%3DMalaysian+Music": "Malaysische Musik", "korean?genres%3DKorean": "Koreanische Musik", "instrumental-for-meditation?genres%3DInstrumental%26tags%3DMeditation": "Instrumental fr Meditation", "lullabies-for-meditation?genres%3DLullabies%26tags%3DMeditation": "Schlaflieder fr Meditation", "chinese-rock?genres%3DChinese+Rock": "China Rock", "nueva-cancin?genres%3DNueva+Canci%C3%B3n": "Nueva Cancin", "schlager?genres%3DSchlager": "Schlager", "psych-rock?genres%3DPsych+Rock": "Psych-Rock", "1990s-metal?genres%3DMetal%26eras%3D1990s": "90er Metal", "soul-jazz?genres%3DSoul+Jazz": "Soul-Jazz", "new-music?eras%3DNew": "Musik der Musik von heute", "film,-tv-&-stage?genres%3DStage+and+Screen": "Filme, TVSendungen und Theater", "rock-en-espaol?genres%3DRock+en+Espa%C3%B1ol": "Rock en Espaol", "rancheras?genres%3DRancheras": "Rancheras", "goth?genres%3DGoth": "Gothic", "1990s-country?genres%3DCountry%26eras%3D1990s": "90er Country", "indie-pop?genres%3DIndie+Pop": "Indie-Pop", "dirty-south?genres%3DDirty+South": "Dirty South", "chicago-blues?genres%3DChicago+Blues": "Chicago Blues", "indie-dance?genres%3DIndie+Dance": "Indie-Dance", "garage?genres%3DGarage": "Garage", "banda?genres%3DBanda": "Banda", "turkish?genres%3DTurkish": "Trkische Musik", "k-hip-hop?genres%3DK+Hip-Hop%2FRap": "K-Hip-Hop", "1970s-r&b?genres%3DR%26B%26eras%3D1970s": "70er R&B", "underground-hip-hop-rap?genres%3DUnderground+Hip-Hop%2FRap": "Underground Hip-Hop/Rap", "c-pop?genres%3DC-Pop": "C-Pop", "relaxation-for-meditation?genres%3DRelaxation%26tags%3DMeditation": "Musik zum Entspannen fr Meditation", "alt-rock?genres%3DAlt+Rock": "Alternative Rock", "requinto?genres%3DRequinto": "Requinto", "lovers-rock?genres%3DLovers+Rock": "Kuschelrock", "bachata?genres%3DBachata": "Bachata", "country-rock?genres%3DCountry+Rock": "Country-Rock", "techno?genres%3DTechno": "Techno", "motivated-jazz?genres%3DJazz%26moods%3DMotivated": "Jazz fr Beschwingte Stimmung", "modern-era?genres%3DModern+Era": "Musik der Moderne", "kayokyoku?genres%3DKayokyoku": "Kayokyoku", "chill-1970s-music?moods%3DChill%26eras%3D1970s": "Chillige 70er Musik", "christmas?genres%3DChristmas": "Weihnachten", "k-pop-for-working-out?genres%3DK-Pop%26tags%3DWorkout": "K-Pop fr Fitness", "dancehall?genres%3DDancehall": "Dancehall", "1970s-music-for-working-out?tags%3DWorkout%26eras%3D1970s": "70er Musik fr Fitness", "chill-holiday?genres%3DHoliday%26moods%3DChill": "Musik zum Fest fr Chillige Stimmung", "disney?genres%3DDisney": "Disney", "afro-swing?genres%3DAfro-Swing": "Afro-Swing", "chill-electronic?genres%3DElectronic%26moods%3DChill": "Electronic fr Chillige Stimmung", "blues?genres%3DBlues": "Blues", "acid-house?genres%3DAcid+House": "Acid House", "2000s-country?genres%3DCountry%26eras%3D2000s": "2000er Country", "sad-bollywood?genres%3DBollywood%26moods%3DSad": "Bollywood fr Traurige Stimmung", "black-metal?genres%3DBlack+Metal": "Black Metal", "happy-music?moods%3DHappy": "Unbeschwerte Musik", "grindcore?genres%3DGrindcore": "Grindcore", "1970s-dance?genres%3DDance%26eras%3D1970s": "70er Dance", "1980s-rock?genres%3DRock%26eras%3D1980s": "80er Rock", "emo?genres%3DEMO": "EMO", "praise-&-worship?genres%3DPraise+%26+Worship": "Religise Musik", "holiday?genres%3DHoliday": "Musik zum Fest", "chill-instrumental?genres%3DInstrumental%26moods%3DChill": "Instrumental fr Chillige Stimmung", "chamber-music?genres%3DChamber+Music": "Kammermusik", "dad-rock?genres%3DDad+Rock": "Dad Rock", "chill-music?moods%3DChill": "Chillige Musik", "1970s-pop?genres%3DPop%26eras%3D1970s": "70er Pop", "cool-jazz?genres%3DCool+Jazz": "Cool Jazz", "1990s-dancehall?genres%3DDancehall%26eras%3D1990s": "90er Dancehall", "german-folk?genres%3DGerman+Folk": "Deutsche Volksmusik", "norteo?genres%3DNorte%C3%B1o": "Norteo", "hard-bop?genres%3DHard+Bop": "Hard Bop", "electronica?genres%3DElectronica": "Electronica", "partying?tags%3DParty": "Party", "holiday-for-entertaining?genres%3DHoliday%26tags%3DEntertaining": "Musik zum Fest fr Entertainment", "instrumental-for-focusing?genres%3DInstrumental%26tags%3DFocusing": "Instrumental fr Konzentration", "third-wave-ska?genres%3DThird+Wave+Ska": "Third Wave Ska", "bollywood-for-partying?genres%3DBollywood%26tags%3DParty": "Bollywood fr Party", "enka?genres%3DEnka": "Enka", "crunk?genres%3DCrunk": "Crunk", "1990s-punk?genres%3DPunk%26eras%3D1990s": "90er Punk", "2010s-music?eras%3D2010s": "Musik der 2010er", "1980s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D1980s": "80er Hip-Hop/Rap", "alternative-metal?genres%3DAlternative+Metal": "Alternative Metal", "classic-house?genres%3DClassic+House": "Classic House", "bass?genres%3DBass": "Bass", "house?genres%3DHouse": "House", "british-invasion?genres%3DBritish+Invasion": "British Invasion", "latin-pop?genres%3DPop+Latino": "Latin Pop", "christian-country?genres%3DChristian+Country": "Christliche Country-Musik", "ax?genres%3DAx%C3%A9": "Ax", "french-varit?genres%3DFrench+Vari%C3%A9t%C3%A9": "Varit Franaise", "indian-pop?genres%3DIndian+Pop": "Indischer Pop", "chill-1980s-music?moods%3DChill%26eras%3D1980s": "Chillige 80er Musik", "1980s-disco?genres%3DDisco%26eras%3D1980s": "80er Disco", "urbano-latino?genres%3DUrbano+Latino": "Urbano Latino", "1990s-reggae?genres%3DReggae%26eras%3D1990s": "90er Reggae", "k-indie?genres%3DK-Indie": "K-Indie", "motivated-music-for-meditation?tags%3DMeditation%26moods%3DMotivated": "Beschwingte Musik fr Meditation", "bebop?genres%3DBebop": "Bebop", "prog-rock?genres%3DProg-Rock": "Prog-Rock", "israeli-pop?genres%3DIsraeli+Pop": "Israelischer Pop", "new-romantic?genres%3DNew+Romantic": "New Romantic", "bossa-nova?genres%3DBossa+Nova": "Bossa Nova", "1980s-r&b?genres%3DR%26B%26eras%3D1980s": "80er R&B", "sad-instrumental?genres%3DInstrumental%26moods%3DSad": "Instrumental fr Traurige Stimmung", "australian-country?genres%3DAustralian+Country": "Australische Country-Musik", "thrash-metal?genres%3DThrash+Metal": "Thrash Metal", "post-rock?genres%3DPost-Rock": "Post-Rock", "dubstep?genres%3DDubstep": "Dubstep", "adult-urban-contemporary?genres%3DAdult+Urban+Contemporary": "Adult Urban Contemporary", "hard-rock?genres%3DHard+Rock": "Hardrock", "1980s-pop?genres%3DPop%26eras%3D1980s": "80er Pop", "motivated-1950s-music?moods%3DMotivated%26eras%3D1950s": "Beschwingte 50er Musik", "japanese?genres%3DJapanese": "Japanische Musik", "metalcore?genres%3DMetalcore": "Metalcore", "hip-hop-rap-for-partying?genres%3DHip-Hop%2FRap%26tags%3DParty": "Hip-Hop/Rap fr Party", "happy-new-music?moods%3DHappy%26eras%3DNew": "Unbeschwerte Musik von heute Musik", "post-punk?genres%3DPost-Punk": "Post-Punk", "khaleeji?genres%3DKhaleeji": "Chalidschi", "downtempo?genres%3DDowntempo": "Downtempo", "flamenco?genres%3DFlamenco": "Flamenco", "chillwave?genres%3DChillwave": "Chillwave", "classic-blues?genres%3DClassic+Blues": "Klassischer Blues", "chill-jazz?genres%3DJazz%26moods%3DChill": "Jazz fr Chillige Stimmung", "israeli-rock?genres%3DIsraeli+Rock": "Israelischer Rock", "dub?genres%3DDub": "Dub", "bluegrass?genres%3DBluegrass": "Bluegrass", "2010s-country?genres%3DCountry%26eras%3D2010s": "2010er Country", "chill-country?genres%3DCountry%26moods%3DChill": "Country fr Chillige Stimmung", "traditional-country?genres%3DTraditional+Country": "Traditional Country", "1960s-country?genres%3DCountry%26eras%3D1960s": "60er Country", "hawaiian?genres%3DHawaiian": "Hawaiianische Musik", "experimental?genres%3DExperimental": "Experimental", "country-for-partying?genres%3DCountry%26tags%3DParty": "Country fr Party", "stoner-rock?genres%3DStoner+Rock": "Stoner Rock", "gospel?genres%3DGospel": "Gospel", "2010s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D2010s": "2010er Hip-Hop/Rap", "classical?genres%3DClassical": "Klassik", "chill-music-for-focusing?tags%3DFocusing%26moods%3DChill": "Chillige Musik fr Konzentration", "1970s-country?genres%3DCountry%26eras%3D1970s": "70er Country", "strings?genres%3DStrings": "Musik mit Streichinstrumenten", "jazz-for-entertaining?genres%3DJazz%26tags%3DEntertaining": "Jazz fr Entertainment", "1960s-music-for-entertaining?tags%3DEntertaining%26eras%3D1960s": "60er Musik fr Entertainment", "smooth-jazz?genres%3DSmooth+Jazz": "Smooth Jazz", "soul?genres%3DSoul": "Soul", "grime?genres%3DGrime": "Grime", "freestyle?genres%3DFreestyle": "Freestyle", "rock-in-portuguese?genres%3DRock+in+Portuguese": "Portugiesischer Rock", "happy-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DHappy": "Hip-Hop/Rap fr Unbeschwerte Stimmung", "jangle-pop?genres%3DJangle+Pop": "Jangle Pop", "2000s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D2000s": "2000er Hip-Hop/Rap", "new-jack-swing?genres%3DNew+Jack+Swing": "New Jack Swing", "australian?genres%3DAustralian": "Australische Musik", "dutch-pop?genres%3DDutch+Pop": "Niederlndischer Pop", "jam-bands?genres%3DJam+Bands": "Jam Bands", "comedy?genres%3DComedy": "Comedy", "nu-metal?genres%3DNu+Metal": "Nu Metal", "blackgaze?genres%3DBlackgaze": "Blackgaze", "chill-lounge?genres%3DLounge%26moods%3DChill": "Lounge fr Chillige Stimmung", "chill-piano?genres%3DPiano%26moods%3DChill": "Klaviermusik fr Chillige Stimmung", "1960s-music?eras%3D1960s": "Musik der 60er", "classic-hip-hop-rap?genres%3DClassic+Hip-Hop%2FRap": "Classic Hip-Hop/Rap", "gangsta-rap?genres%3DGangsta+Rap": "Gangsta-Rap", "1970s-folk?genres%3DFolk%26eras%3D1970s": "70er Folk", "romantic---in-love-music?moods%3DRomantic+%2F+In+Love": "Romantische Musik", "edm?genres%3DEDM": "EDM", "pop-italiano?genres%3DPop+Italiano": "Italienischer Pop", "idm?genres%3DIDM": "IDM", "malayalam?genres%3DMalayalam": "Malayalam", "angry-music?moods%3DAngry": "Finstere Musik", "motivated-classical?genres%3DClassical%26moods%3DMotivated": "Klassik fr Beschwingte Stimmung", "1980s-music?eras%3D1980s": "Musik der 80er", "chill-dubstep?genres%3DDubstep%26moods%3DChill": "Dubstep fr Chillige Stimmung", "chinese-hip-hop?genres%3DChinese+Hip-Hop": "China Hip-Hop", "musique-francophone?genres%3DMusique+Francophone": "Musique Francophone", "k-pop?genres%3DK-Pop": "K-Pop", "tropical-house?genres%3DTropical+House": "Tropical House", "broken-beat?genres%3DBroken+Beat": "Broken Beat", "chill-new-music?moods%3DChill%26eras%3DNew": "Chillige Musik von heute Musik", "happy-jazz?genres%3DJazz%26moods%3DHappy": "Jazz fr Unbeschwerte Stimmung", "easy-listening?genres%3DEasy+Listening": "Easy Listening", "2000s-music?eras%3D2000s": "Musik der 2000er", "1980s-country?genres%3DCountry%26eras%3D1980s": "80er Country", "arabesque?genres%3DArabesque": "Arabeske", "motivated-music-for-focusing?tags%3DFocusing%26moods%3DMotivated": "Beschwingte Musik fr Konzentration", "british?genres%3DBritish": "Britische Musik", "chill-lullabies?genres%3DLullabies%26moods%3DChill": "Schlaflieder fr Chillige Stimmung", "breaking-up?tags%3DBreaking+Up": "Trennungsschmerz", "sad-country?genres%3DCountry%26moods%3DSad": "Country fr Traurige Stimmung", "2000s-rock?genres%3DRock%26eras%3D2000s": "2000er Rock", "chicago-house?genres%3DChicago+House": "Chicago House", "classic-punk?genres%3DClassic+Punk": "Classic Punk", "ambient?genres%3DAmbient": "Ambient", "tololoche?genres%3DTololoche": "Tololoche", "cantautori?genres%3DCantautori": "Cantautori", "samba?genres%3DSamba": "Samba", "minimalism?genres%3DMinimalism": "Minimal", "mariachi?genres%3DMariachi": "Mariachi", "corridos?genres%3DCorridos": "Corridos", "motivated-music-for-working-out?tags%3DWorkout%26moods%3DMotivated": "Beschwingte Musik fr Fitness", "1960s-pop?genres%3DPop%26eras%3D1960s": "60er Pop", "cantopop?genres%3DCantopop": "Cantopop", "polka?genres%3DPolka": "Polka", "new-years-eve?genres%3DNew+Year%27s+Eve": "Silvester", "chill-classical?genres%3DClassical%26moods%3DChill": "Klassik fr Chillige Stimmung", "marchinhas?genres%3DMarchinhas": "Marchinhas", "trova?genres%3DTrova": "Trova", "deep-house?genres%3DDeep+House": "Deep House", "chill-music-for-entertaining?tags%3DEntertaining%26moods%3DChill": "Chillige Musik fr Entertainment", "folktronica?genres%3DFolktronica": "Folktronica", "neo-soul?genres%3DNeo-Soul": "Neo-Soul", "chill-reggae?genres%3DReggae%26moods%3DChill": "Reggae fr Chillige Stimmung", "rakugo?genres%3DRakugo": "Rakugo", "disco?genres%3DDisco": "Disco", "rock-for-partying?genres%3DRock%26tags%3DParty": "Rock fr Party", "electric-blues?genres%3DElectric+Blues": "Electric Blues", "1990s-alternative?genres%3DAlternative%26eras%3D1990s": "90er Alternative", "classical-for-meditation?genres%3DClassical%26tags%3DMeditation": "Klassik fr Meditation", "ghazals?genres%3DGhazals": "Ghasele", "1950s-music?eras%3D1950s": "Musik der 50er", "east-coast?genres%3DEast+Coast": "East Coast", "1970s-soul?genres%3DSoul%26eras%3D1970s": "70er Soul", "2000s-r&b?genres%3DR%26B%26eras%3D2000s": "2000er R&B", "swiss-rap?genres%3DSwiss-Rap": "Schweizer Rap", "afro-beat?genres%3DAfro-Beat": "Afro-Beat", "1990s-pop?genres%3DPop%26eras%3D1990s": "90er Pop", "uk-hip-hop-rap?genres%3DUK+Hip-Hop%2FRap": "UK Hip-Hop/Rap", "punjabi?genres%3DPunjabi": "Punjabische Musik", "1980s-metal?genres%3DMetal%26eras%3D1980s": "80er Metal", "nature?genres%3DNature": "Natur", "sertanejo?genres%3DSertanejo": "Sertanejo", "coffee-shop?genres%3DCoffee+Shop": "Caf-Musik", "hip-hop-rap-for-working-out?genres%3DHip-Hop%2FRap%26tags%3DWorkout": "Hip-Hop/Rap fr Fitness", "contemporary-blues?genres%3DContemporary+Blues": "Contemporary Blues", "rock-for-working-out?genres%3DRock%26tags%3DWorkout": "Rock fr Fitness", "j-pop?genres%3DJ-Pop": "J-Pop", "anime?genres%3DAnime": "Anime", "african-music?genres%3DAfrican+Music": "Afrikanische Musik", "outlaw-country?genres%3DOutlaw+Country": "Outlaw-Country", "tamil?genres%3DTamil": "Tamilische Musik", "hrspiele?genres%3DH%C3%B6rspiele": "Hrspiele", "kids-&-family?genres%3DKids+%26+Family": "Kinder und Familie", "christian-rock?genres%3DChristian+Rock": "Christlicher Rock", "baile-funk?genres%3DBaile+Funk": "Baile Funk", "russian-hip-hop?genres%3DRussian+Hip-Hop": "Russischer Hip-Hop", "deutschpop?genres%3DDeutschpop": "Deutschpop", "adult-contemporary?genres%3DAdult+Contemporary": "Adult Contemporary", "motivated-acoustic?genres%3DAcoustic%26moods%3DMotivated": "Akustik fr Beschwingte Stimmung", "chill-christian?genres%3DChristian%26moods%3DChill": "Christliche Musik fr Chillige Stimmung", "levant-pop?genres%3DLevant+Pop": "Levant Pop", "pop-punk?genres%3DPop+Punk": "Pop-Punk", "contemporary-gospel?genres%3DContemporary+Gospel": "Contemporary Gospel", "sad-classical?genres%3DClassical%26moods%3DSad": "Klassik fr Traurige Stimmung", "opera?genres%3DOpera": "Oper", "motown?genres%3DMotown": "Motown", "chill-relaxation?genres%3DRelaxation%26moods%3DChill": "Musik zum Entspannen fr Chillige Stimmung", "1990s-music?eras%3D1990s": "Musik der 90er", "synth-pop?genres%3DSynth-Pop": "Synthie-Pop", "happy-holiday?genres%3DHoliday%26moods%3DHappy": "Musik zum Fest fr Unbeschwerte Stimmung", "dangdut?genres%3DDangdut": "Dangdut", "chill-rock?genres%3DRock%26moods%3DChill": "Rock fr Chillige Stimmung", "swiss-pop?genres%3DSwiss-Pop": "Schweizer Pop", "duranguense?genres%3DDuranguense": "Duranguense", "avant-garde-jazz?genres%3DAvant-Garde+Jazz": "Avantgarde-Jazz", "thai-music?genres%3DThai+Music": "Thailndische Musik", "electro?genres%3DElectro": "Electro", "indian-classical?genres%3DIndian+Classical": "Indische Klassik", "egyptian-pop?genres%3DEgyptian+Pop": "gyptischer Pop", "romantic-music?moods%3DRomantic": "Romantische Musik", "dark-wave?genres%3DDarkWave": "Dark Wave", "baroque-era?genres%3DBaroque+Era": "Barock", "2000s-pop?genres%3DPop%26eras%3D2000s": "2000er Pop", "quiet-storm?genres%3DQuiet+Storm": "Quiet Storm", "pop-in-portuguese?genres%3DPop+in+Portuguese": "Portugiesischer Pop", "teen-pop?genres%3DTeen+Pop": "Teen Pop", "adult-alternative?genres%3DAdult+Alternative": "Adult Alternative", "hip-hop-en-espaol?genres%3DHip-Hop+en+Espa%C3%B1ol": "Hip-Hop en Espaol", "chill-trance?genres%3DTrance%26moods%3DChill": "Trance fr Chillige Stimmung", "chill-music-for-meditation?tags%3DMeditation%26moods%3DChill": "Chillige Musik fr Meditation", "motivated-instrumental?genres%3DInstrumental%26moods%3DMotivated": "Instrumental fr Beschwingte Stimmung", "1990s-music-for-working-out?tags%3DWorkout%26eras%3D1990s": "90er Musik fr Fitness", "jazz-for-focusing?genres%3DJazz%26tags%3DFocusing": "Jazz fr Konzentration", "traditional-folk?genres%3DTraditional+Folk": "Traditionelle Folkmusik", "americana?genres%3DAmericana": "Americana", "motivated-country?genres%3DCountry%26moods%3DMotivated": "Country fr Beschwingte Stimmung", "2000s-dance?genres%3DDance%26eras%3D2000s": "2000er Dance", "soft-rock?genres%3DSoft+Rock": "Softrock", "1990s-music-for-partying?tags%3DParty%26eras%3D1990s": "90er Musik fr Party", "1960s-rock?genres%3DRock%26eras%3D1960s": "60er Rock", "shoegaze?genres%3DShoegaze": "Shoegaze", "french-pop?genres%3DFrench+Pop": "Franzsischer Pop", "death-metal?genres%3DDeath+Metal": "Death Metal", "telugu?genres%3DTelugu": "Telugu", "britpop?genres%3DBritpop": "Britpop", "west-coast?genres%3DWest+Coast": "West Coast", "scores?genres%3DScores": "Soundtrack", "indonesian-music?genres%3DIndonesian+Music": "Indonesische Musik", "indie-rock?genres%3DIndie+Rock": "Indie-Rock", "diy-punk?genres%3DDIY+Punk": "DIY Punk", "reggae?genres%3DReggae": "Reggae", "jazz-vocal?genres%3DJazz+Vocal": "Vokaljazz", "microhouse?genres%3DMicrohouse": "Microhouse", "dance-for-partying?genres%3DDance%26tags%3DParty": "Dance fr Party", "mexican?genres%3DMexican": "Mexikanische Musik", "chill-alternative?genres%3DAlternative%26moods%3DChill": "Alternative fr Chillige Stimmung", "mod?genres%3DMod": "Mod", "big-band?genres%3DBig+Band": "Big Band", "dutch?genres%3DDutch": "Niederlndische Musik", "conscious-hip-hop?genres%3DConscious+Hip-Hop": "Politischer Hip-Hop", "fado?genres%3DFado": "Fado", "standards?genres%3DStandards": "Standards", "old-school-hip-hop?genres%3DOld+School": "Old School Hip-Hop", "renaissance?genres%3DRenaissance": "Renaissance", "relaxation?genres%3DRelaxation": "Musik zum Entspannen", "regional-indian?genres%3DRegional+Indian": "Regionale indische Musik", "getting-it-on?tags%3DGetting+It+On": "Bettgeflster", "k-r&b?genres%3DK-R%26B": "K-R&B", "1990s-grunge?genres%3DGrunge%26eras%3D1990s": "90er Grunge", "college-rock?genres%3DCollege+Rock": "College Rock", "1970s-acoustic?genres%3DAcoustic%26eras%3D1970s": "70er Akustik", "1950s-jazz?genres%3DJazz%26eras%3D1950s": "50er Jazz", "christian-pop?genres%3DChristian+Pop": "Christlicher Pop", "1950s-rock?genres%3DRock%26eras%3D1950s": "50er Rock", "idol?genres%3DIdol": "Idol", "ragtime?genres%3DRagtime": "Ragtime", "swiss?genres%3DSwiss": "Schweizer Musik", "1980s-bollywood?genres%3DBollywood%26eras%3D1980s": "80er Bollywood", "j-r&b?genres%3DJ-R%26B": "J-R&B", "classic-rock?genres%3DClassic+Rock": "Classic Rock", "halk?genres%3DHalk": "Halk", "celtic?genres%3DCeltic": "Keltische Musik", "classic-country?genres%3DClassic+Country": "Classic Country", "nature-for-meditation?genres%3DNature%26tags%3DMeditation": "Natur fr Meditation", "folk?genres%3DFolk": "Folk", "chill-house?genres%3DHouse%26moods%3DChill": "House fr Chillige Stimmung", "ska?genres%3DSka": "Ska", "dance-punk?genres%3DDance-Punk": "Dance-Punk", "chill-pop?genres%3DPop%26moods%3DChill": "Pop fr Chillige Stimmung", "1960s-soul?genres%3DSoul%26eras%3D1960s": "60er Soul", "2010s-pop?genres%3DPop%26eras%3D2010s": "2010er Pop", "chill-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DChill": "Hip-Hop/Rap fr Chillige Stimmung", "pop-for-partying?genres%3DPop%26tags%3DParty": "Pop fr Party", "modern-dancehall?genres%3DModern+Dancehall": "Modern Dancehall", "glam-rock?genres%3DGlam+Rock": "Glam Rock", "rocksteady?genres%3DRocksteady": "Rocksteady", "irish?genres%3DIrish": "Irische Musik", "roots-reggae?genres%3DRoots+Reggae": "Roots-Reggae", "alt-country?genres%3DAlt+Country": "Alternative Country", "halloween?genres%3DHalloween": "Halloween", "kannada?genres%3DKannada": "Kannada", "deutsche-streetrap?genres%3DDeutsche+Streetrap": "Deutscher Streetrap", "folk-rock?genres%3DFolk-Rock": "Folk-Rock", "pinoy-pop?genres%3DPinoy+Pop": "Pinoy Pop", "tarab?genres%3DTarab": "Taarab", "dutch-hip-hop?genres%3DDutch+Hip-Hop": "Nederhop", "family-time?tags%3DFamily+Time": "Zeit mit der Familie", "musicals?genres%3DMusicals": "Musicals", "chill-r&b?genres%3DR%26B%26moods%3DChill": "R&B fr Chillige Stimmung", "french-hip-hop-rap?genres%3DFrench+Hip-Hop%2FRap": "Franzsischer Hip-Hop/Rap", "happy-c-pop?genres%3DC-Pop%26moods%3DHappy": "C-Pop fr Unbeschwerte Stimmung", "sad-piano?genres%3DPiano%26moods%3DSad": "Klaviermusik fr Traurige Stimmung", "yacht-rock?genres%3DYacht+Rock": "Yacht Rock", "industrial-metal?genres%3DIndustrial+Metal": "Industrial Metal", "bengali?genres%3DBengali": "Bengalische Musik", "khaleeji-pop?genres%3DKhaleeji+Pop": "Chalidschi Pop", "1970s-music?eras%3D1970s": "Musik der 70er", "afro-pop?genres%3DAfro-Pop": "Afro-Pop", "afrikaans?genres%3DAfrikaans": "Afrikaans", "sambas-de-enredo?genres%3DSambas+de+enredo": "Samba enredo", "tv-drama?genres%3DTV+Drama": "TV-Drama", "indie-en-espaol?genres%3DIndie+en+Espa%C3%B1ol": "Indie en Espaol", "chill-ambient?genres%3DAmbient%26moods%3DChill": "Ambient fr Chillige Stimmung", "orchestral?genres%3DOrchestral": "Orchestermusik", "indian?genres%3DIndian": "Indische Musik", "classic-soul?genres%3DClassic+Soul": "Classic Soul", "happy-1980s-music?moods%3DHappy%26eras%3D1980s": "Unbeschwerte 80er Musik", "israeli-alternative?genres%3DIsraeli+Alternative": "Israelischer Alternative" }, "en-gb": { "chinese?genres%3DChinese": "Chinese", "devotional-&-spiritual?genres%3DDevotional+%26+Spiritual": "Devotional & Spiritual", "vocaloid?genres%3DVocaloid": "Vocaloid", "rockabilly?genres%3DRockabilly": "Rockabilly", "motivated-holiday?genres%3DHoliday%26moods%3DMotivated": "Motivated Holiday", "cumbia?genres%3DCumbia": "Cumbia", "surf?genres%3DSurf": "Surf", "romantic-era?genres%3DRomantic+Era": "Romantic Era", "jungle?genres%3DJungle": "Jungle", "motivated-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DMotivated": "Motivated Hip-Hop / Rap", "australian-pub-rock?genres%3DAustralian+Pub+Rock": "Australian Pub Rock", "alternative?genres%3DAlternative": "Alternative", "doo-wop?genres%3DDoo+Wop": "Doo Wop", "1970s-funk?genres%3DFunk%26eras%3D1970s": "1970s Funk", "contemporary-jazz?genres%3DContemporary+Jazz": "Contemporary Jazz", "extreme-metal?genres%3DExtreme+Metal": "Extreme Metal", "1970s-oldies?genres%3DOldies%26eras%3D1970s": "1970s Oldies", "brazilian?genres%3DBrazilian": "Brazilian", "trap?genres%3DTrap": "Trap", "1980s-holiday?genres%3DHoliday%26eras%3D1980s": "1980s Holiday", "trance?genres%3DTrance": "Trance", "k-rock?genres%3DK-Rock": "K-Rock", "pop-for-working-out?genres%3DPop%26tags%3DWorkout": "Pop for Working Out", "r&b?genres%3DR%26B": "R&B", "caribbean?genres%3DCaribbean": "Caribbean", "screamo?genres%3DScreamo": "Screamo", "bollywood?genres%3DBollywood": "Bollywood", "russian?genres%3DRussian": "Russian", "progressive-house?genres%3DProgressive+House": "Progressive House", "detroit-techno?genres%3DDetroit+Techno": "Detroit Techno", "classical-for-focusing?genres%3DClassical%26tags%3DFocusing": "Classical for Focusing", "honky-tonk?genres%3DHonky+Tonk": "Honky Tonk", "hair-metal?genres%3DHair+Metal": "Hair Metal", "rock?genres%3DRock": "Rock", "christian?genres%3DChristian": "Christian", "classic-singer-songwriter?genres%3DClassic+Singer%2FSongwriter": "Classic Singer / Songwriter", "rave?genres%3DRave": "Rave", "forr?genres%3DForr%C3%B3": "Forr", "bashment?genres%3DBashment": "Bashment", "cloud-rap?genres%3DCloud+Rap": "Cloud Rap", "cooldown?tags%3DCooldown": "Cooldown", "christian-rap?genres%3DChristian+Rap": "Christian Rap", "2000s-alternative?genres%3DAlternative%26eras%3D2000s": "2000s Alternative", "1990s-rock?genres%3DRock%26eras%3D1990s": "1990s Rock", "idol--anime?genres%3DIdol%3A+Anime": "Idol: Anime", "dixieland?genres%3DDixieland": "Dixieland", "russian-pop?genres%3DRussian+Pop": "Russian Pop", "golden-age-hip-hop?genres%3DGolden+Age": " Golden Age Hip-Hop", "focusing?tags%3DFocusing": "Focusing", "indian-independent?genres%3DIndian+Independent": "Indian Independent", "canadian?genres%3DCanadian": "Canadian", "1970s-music-for-partying?tags%3DParty%26eras%3D1970s": "1970s Music for Partying", "southern-gospel?genres%3DSouthern+Gospel": "Southern Gospel", "trap-latino?genres%3DTrap+Latino": "Trap Latino", "latino?genres%3DLatino": "Latino", "russian-chanson?genres%3DRussian+Chanson": "Russian Chanson", "sanat?genres%3DSanat": "Sanat", "chill-acoustic?genres%3DAcoustic%26moods%3DChill": "Chill Acoustic", "alternative-rap?genres%3DAlternative+Rap": "Alternative Rap", "chill-indie?genres%3DIndie%26moods%3DChill": "Chill Indie", "1990s-dance?genres%3DDance%26eras%3D1990s": "1990s Dance", "indie?genres%3DIndie": "Indie", "1970s-disco?genres%3DDisco%26eras%3D1970s": "1970s Disco", "hardcore-punk?genres%3DHardcore+Punk": "Hardcore Punk", "hip-hop-rap-italiano?genres%3DHip-Hop%2FRap+Italiano": "Hip-Hop / Rap Italiano", "sad-music?moods%3DSad": "Sad Music", "chill-electronica?genres%3DElectronica%26moods%3DChill": "Chill Electronica", "pop?genres%3DPop": "Pop", "lounge?genres%3DLounge": "Lounge", "psychobilly?genres%3DPsychobilly": "Psychobilly", "electronic-for-working-out?genres%3DElectronic%26tags%3DWorkout": "Electronic for Working Out", "chill-dance?genres%3DDance%26moods%3DChill": "Chill Dance", "latin-jazz?genres%3DLatin+Jazz": "Latin Jazz", "boleros?genres%3DBoleros": "Boleros", "r&b-for-working-out?genres%3DR%26B%26tags%3DWorkout": "R&B for Working Out", "hip-hop-rap?genres%3DHip-Hop%2FRap": "Hip-Hop / Rap", "motivated-c-pop?genres%3DC-Pop%26moods%3DMotivated": "Motivated C-Pop", "1990s-r&b?genres%3DR%26B%26eras%3D1990s": "1990s R&B", "oldies?genres%3DOldies": "Oldies", "jazz?genres%3DJazz": "Jazz", "acoustic?genres%3DAcoustic": "Acoustic", "chill-nature?genres%3DNature%26moods%3DChill": "Chill Nature", "singer-songwriter?genres%3DSinger%2FSongwriter": "Singer / Songwriter", "punk?genres%3DPunk": "Punk", "motivated-music?moods%3DMotivated": "Motivated Music", "spanish?genres%3DSpanish": "Spanish", "1990s-disco?genres%3DDisco%26eras%3D1990s": "1990s Disco", "paisley-underground?genres%3DPaisley+Underground": "Paisley Underground", "indie-r&b?genres%3DIndie+R%26B": "Indie R&B", "grunge?genres%3DGrunge": "Grunge", "lullabies?genres%3DLullabies": "Lullabies", "classic-metal?genres%3DClassic+Metal": "Classic Metal", "arabic?genres%3DArabic": "Arabic", "worldbeat?genres%3DWorldbeat": "Worldbeat", "southern-rock?genres%3DSouthern+Rock": "Southern Rock", "german?genres%3DGerman": "German", "1980s-music-for-partying?tags%3DParty%26eras%3D1980s": "1980s Music for Partying", "sad-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DSad": "Sad Hip-Hop / Rap", "piano-for-meditation?genres%3DPiano%26tags%3DMeditation": "Piano for Meditating", "french?genres%3DFrench": "French", "doom?genres%3DDoom": "Doom", "country?genres%3DCountry": "Country", "south-american?genres%3DSouth+American": "South American", "instrumental?genres%3DInstrumental": "Instrumental", "mizrahi?genres%3DMizrahi": "Mizrahi", "hyphy?genres%3DHyphy": "Hyphy", "post-grunge?genres%3DPost-Grunge": "Post-Grunge", "portuguese?genres%3DPortuguese": "Portuguese", "working-out?tags%3DWorkout": "Working Out", "balearic?genres%3DBalearic": "Balearic", "upbeat-music?moods%3DUpbeat": "Upbeat Music", "arabic-pop?genres%3DArabic+Pop": "Arabic Pop", "holiday-for-partying?genres%3DHoliday%26tags%3DParty": "Holiday for Partying", "belgian?genres%3DBelgian": "Belgian", "meditation?tags%3DMeditation": "Meditating", "j-rock?genres%3DJ-Rock": "J-Rock", "happy-music-for-partying?tags%3DParty%26moods%3DHappy": "Happy Music for Partying", "karaoke?genres%3DKaraoke": "Karaoke", "british-metal?genres%3DBritish+Metal": "British Metal", "russian-rock?genres%3DRussian+Rock": "Russian Rock", "dance-for-working-out?genres%3DDance%26tags%3DWorkout": "Dance for Working Out", "french-touch?genres%3DFrench+Touch": "French Touch", "chill-music-for-partying?tags%3DParty%26moods%3DChill": "Chill Music for Partying", "motivated-pop?genres%3DPop%26moods%3DMotivated": "Motivated Pop", "metal?genres%3DMetal": "Metal", "vietnamese?genres%3DVietnamese": "Vietnamese", "mpb?genres%3DMPB": "MPB", "cubaton?genres%3DCubaton": "Cubaton", "dance?genres%3DDance": "Dance", "1990s-indie?genres%3DIndie%26eras%3D1990s": "1990s Indie", "choral?genres%3DChoral": "Choral", "sludge?genres%3DSludge": "Sludge", "soca?genres%3DSoca": "Soca", "salsa?genres%3DSalsa": "Salsa", "1980s-dance?genres%3DDance%26eras%3D1980s": "1980s Dance", "power-pop?genres%3DPower+Pop": "Power Pop", "new-wave?genres%3DNew+Wave": "New Wave", "arena-rock?genres%3DArena+Rock": "Arena Rock", "aussie-hip-hop-rap?genres%3DAussie+Hip-Hop%2FRap": "Aussie Hip-Hop / Rap", "new-age?genres%3DNew+Age": "New Age", "1990s-bollywood?genres%3DBollywood%26eras%3D1990s": "1990s Bollywood", "merengue?genres%3DMerengue": "Merengue", "delta-blues?genres%3DDelta+Blues": "Delta Blues", "scottish?genres%3DScottish": "Scottish", "thai-pop?genres%3DThai+Pop": "Thai Pop", "khaleeji-tarab?genres%3DKhaleeji+Tarab": "Khaleeji Tarab", "vallenato?genres%3DVallenato": "Vallenato", "happy-dance?genres%3DDance%26moods%3DHappy": "Happy Dance", "1990s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D1990s": "1990s Hip-Hop / Rap", "saxophone?genres%3DSaxophone": "Saxophone", "msica-mexicana?genres%3DM%C3%BAsica+Mexicana": "Msica Mexicana", "chinese-alt?genres%3DChinese+Alt": "Chinese Alt", "afrobeats?genres%3DAfrobeats": "Afrobeats", "calypso?genres%3DCalypso": "Calypso", "miami-bass?genres%3DMiami+Bass": "Miami Bass", "tango?genres%3DTango": "Tango", "sleep?tags%3DSleep": "Sleep", "happy-pop?genres%3DPop%26moods%3DHappy": "Happy Pop", "pagode?genres%3DPagode": "Pagode", "j-hip-hop?genres%3DJ-Hip-Hop": "J-Hip-Hop", "1990s-techno?genres%3DTechno%26eras%3D1990s": "1990s Techno", "electronic?genres%3DElectronic": "Electronic", "alternativo-en-espaol?genres%3DAlternativo+en+Espa%C3%B1ol": "Alternativo en Espaol", "israeli?genres%3DIsraeli": "Israeli", "1980s-alternative?genres%3DAlternative%26eras%3D1980s": "1980s Alternative", "roots-rock?genres%3DRoots+Rock": "Roots Rock", "entertaining?tags%3DEntertaining": "Entertaining", "uk-garage?genres%3DUK+Garage": "UK Garage", "tai-pop?genres%3DTai-Pop": "Tai-Pop", "funk?genres%3DFunk": "Funk", "mandopop?genres%3DMandopop": "Mandopop", "1970s-rock?genres%3DRock%26eras%3D1970s": "1970s Rock", "piano?genres%3DPiano": "Piano", "fusion-jazz?genres%3DFusion+Jazz": "Fusion Jazz", "1980s-soul?genres%3DSoul%26eras%3D1980s": "1980s Soul", "reggaeton?genres%3DReggaeton": "Reggaeton", "malaysian-music?genres%3DMalaysian+Music": "Malaysian Music", "korean?genres%3DKorean": "Korean", "instrumental-for-meditation?genres%3DInstrumental%26tags%3DMeditation": "Instrumental for Meditating", "lullabies-for-meditation?genres%3DLullabies%26tags%3DMeditation": "Lullabies for Meditating", "chinese-rock?genres%3DChinese+Rock": "Chinese Rock", "nueva-cancin?genres%3DNueva+Canci%C3%B3n": "Nueva Cancin", "schlager?genres%3DSchlager": "Schlager", "psych-rock?genres%3DPsych+Rock": "Psych Rock", "1990s-metal?genres%3DMetal%26eras%3D1990s": "1990s Metal", "soul-jazz?genres%3DSoul+Jazz": "Soul Jazz", "new-music?eras%3DNew": "New Music", "film,-tv-&-stage?genres%3DStage+and+Screen": "Film, TV & Stage", "rock-en-espaol?genres%3DRock+en+Espa%C3%B1ol": "Rock en Espaol", "rancheras?genres%3DRancheras": "Rancheras", "goth?genres%3DGoth": "Goth", "1990s-country?genres%3DCountry%26eras%3D1990s": "1990s Country", "indie-pop?genres%3DIndie+Pop": "Indie Pop", "dirty-south?genres%3DDirty+South": "Dirty South", "chicago-blues?genres%3DChicago+Blues": "Chicago Blues", "indie-dance?genres%3DIndie+Dance": "Indie Dance", "garage?genres%3DGarage": "Garage", "banda?genres%3DBanda": "Banda", "turkish?genres%3DTurkish": "Turkish", "k-hip-hop?genres%3DK+Hip-Hop%2FRap": " K-Hip-Hop", "1970s-r&b?genres%3DR%26B%26eras%3D1970s": "1970s R&B", "underground-hip-hop-rap?genres%3DUnderground+Hip-Hop%2FRap": "Underground Hip-Hop / Rap", "c-pop?genres%3DC-Pop": "C-Pop", "relaxation-for-meditation?genres%3DRelaxation%26tags%3DMeditation": "Relaxation for Meditating", "alt-rock?genres%3DAlt+Rock": "Alt Rock", "requinto?genres%3DRequinto": "Requinto", "lovers-rock?genres%3DLovers+Rock": "Lovers Rock", "bachata?genres%3DBachata": "Bachata", "country-rock?genres%3DCountry+Rock": "Country Rock", "techno?genres%3DTechno": "Techno", "motivated-jazz?genres%3DJazz%26moods%3DMotivated": "Motivated Jazz", "modern-era?genres%3DModern+Era": "Modern Era", "kayokyoku?genres%3DKayokyoku": "Kayokyoku", "chill-1970s-music?moods%3DChill%26eras%3D1970s": "Chill 1970s Music", "christmas?genres%3DChristmas": "Christmas", "k-pop-for-working-out?genres%3DK-Pop%26tags%3DWorkout": "K-Pop for Working Out", "dancehall?genres%3DDancehall": "Dancehall", "1970s-music-for-working-out?tags%3DWorkout%26eras%3D1970s": "1970s Music for Working Out", "chill-holiday?genres%3DHoliday%26moods%3DChill": "Chill Holiday", "disney?genres%3DDisney": "Disney", "afro-swing?genres%3DAfro-Swing": "Afro-Swing", "chill-electronic?genres%3DElectronic%26moods%3DChill": "Chill Electronic", "blues?genres%3DBlues": "Blues", "acid-house?genres%3DAcid+House": "Acid House", "2000s-country?genres%3DCountry%26eras%3D2000s": "2000s Country", "sad-bollywood?genres%3DBollywood%26moods%3DSad": "Sad Bollywood", "black-metal?genres%3DBlack+Metal": "Black Metal", "happy-music?moods%3DHappy": "Happy Music", "grindcore?genres%3DGrindcore": "Grindcore", "1970s-dance?genres%3DDance%26eras%3D1970s": "1970s Dance", "1980s-rock?genres%3DRock%26eras%3D1980s": "1980s Rock", "emo?genres%3DEMO": "Emo", "praise-&-worship?genres%3DPraise+%26+Worship": "Praise & Worship", "holiday?genres%3DHoliday": "Holiday", "chill-instrumental?genres%3DInstrumental%26moods%3DChill": "Chill Instrumental", "chamber-music?genres%3DChamber+Music": "Chamber Music", "dad-rock?genres%3DDad+Rock": "Dad Rock", "chill-music?moods%3DChill": "Chill Music", "1970s-pop?genres%3DPop%26eras%3D1970s": "1970s Pop", "cool-jazz?genres%3DCool+Jazz": "Cool Jazz", "1990s-dancehall?genres%3DDancehall%26eras%3D1990s": "1990s Dancehall", "german-folk?genres%3DGerman+Folk": "German Folk", "norteo?genres%3DNorte%C3%B1o": "Norteo", "hard-bop?genres%3DHard+Bop": "Hard Bop", "electronica?genres%3DElectronica": "Electronica", "partying?tags%3DParty": "Partying", "holiday-for-entertaining?genres%3DHoliday%26tags%3DEntertaining": "Holiday for Entertaining", "instrumental-for-focusing?genres%3DInstrumental%26tags%3DFocusing": "Instrumental for Focusing", "third-wave-ska?genres%3DThird+Wave+Ska": "Third Wave Ska", "bollywood-for-partying?genres%3DBollywood%26tags%3DParty": "Bollywood for Partying", "enka?genres%3DEnka": "Enka", "crunk?genres%3DCrunk": "Crunk", "1990s-punk?genres%3DPunk%26eras%3D1990s": "1990s Punk", "2010s-music?eras%3D2010s": "2010s Music", "1980s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D1980s": "1980s Hip-Hop / Rap", "alternative-metal?genres%3DAlternative+Metal": "Alternative Metal", "classic-house?genres%3DClassic+House": "Classic House", "bass?genres%3DBass": "Bass", "house?genres%3DHouse": "House", "british-invasion?genres%3DBritish+Invasion": "British Invasion", "latin-pop?genres%3DPop+Latino": "Latin Pop", "christian-country?genres%3DChristian+Country": "Christian Country", "ax?genres%3DAx%C3%A9": "Ax", "french-varit?genres%3DFrench+Vari%C3%A9t%C3%A9": "French Varit", "indian-pop?genres%3DIndian+Pop": "Indian Pop", "chill-1980s-music?moods%3DChill%26eras%3D1980s": "Chill 1980s Music", "1980s-disco?genres%3DDisco%26eras%3D1980s": "1980s Disco", "urbano-latino?genres%3DUrbano+Latino": "Urbano Latino", "1990s-reggae?genres%3DReggae%26eras%3D1990s": "1990s Reggae", "k-indie?genres%3DK-Indie": "K-Indie", "motivated-music-for-meditation?tags%3DMeditation%26moods%3DMotivated": "Motivated Music for Meditating", "bebop?genres%3DBebop": "Bebop", "prog-rock?genres%3DProg-Rock": "Prog-Rock", "israeli-pop?genres%3DIsraeli+Pop": "Israeli Pop", "new-romantic?genres%3DNew+Romantic": "New Romantic", "bossa-nova?genres%3DBossa+Nova": "Bossa Nova", "1980s-r&b?genres%3DR%26B%26eras%3D1980s": "1980s R&B", "sad-instrumental?genres%3DInstrumental%26moods%3DSad": "Sad Instrumental", "australian-country?genres%3DAustralian+Country": "Australian Country", "thrash-metal?genres%3DThrash+Metal": "Thrash Metal", "post-rock?genres%3DPost-Rock": "Post-Rock", "dubstep?genres%3DDubstep": "Dubstep", "adult-urban-contemporary?genres%3DAdult+Urban+Contemporary": "Adult Urban Contemporary", "hard-rock?genres%3DHard+Rock": "Hard Rock", "1980s-pop?genres%3DPop%26eras%3D1980s": "1980s Pop", "motivated-1950s-music?moods%3DMotivated%26eras%3D1950s": "Motivated 1950s Music", "japanese?genres%3DJapanese": "Japanese", "metalcore?genres%3DMetalcore": "Metalcore", "hip-hop-rap-for-partying?genres%3DHip-Hop%2FRap%26tags%3DParty": "Hip-Hop / Rap for Partying", "happy-new-music?moods%3DHappy%26eras%3DNew": "Happy New Music", "post-punk?genres%3DPost-Punk": "Post-Punk", "khaleeji?genres%3DKhaleeji": "Khaleeji", "downtempo?genres%3DDowntempo": "Downtempo", "flamenco?genres%3DFlamenco": "Flamenco", "chillwave?genres%3DChillwave": "Chillwave", "classic-blues?genres%3DClassic+Blues": "Classic Blues", "chill-jazz?genres%3DJazz%26moods%3DChill": "Chill Jazz", "israeli-rock?genres%3DIsraeli+Rock": "Israeli Rock", "dub?genres%3DDub": "Dub", "bluegrass?genres%3DBluegrass": "Bluegrass", "2010s-country?genres%3DCountry%26eras%3D2010s": "2010s Country", "chill-country?genres%3DCountry%26moods%3DChill": "Chill Country", "traditional-country?genres%3DTraditional+Country": "Traditional Country", "1960s-country?genres%3DCountry%26eras%3D1960s": "1960s Country", "hawaiian?genres%3DHawaiian": "Hawaiian", "experimental?genres%3DExperimental": "Experimental", "country-for-partying?genres%3DCountry%26tags%3DParty": "Country for Partying", "stoner-rock?genres%3DStoner+Rock": "Stoner Rock", "gospel?genres%3DGospel": "Gospel", "2010s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D2010s": "2010s Hip-Hop / Rap", "classical?genres%3DClassical": "Classical", "chill-music-for-focusing?tags%3DFocusing%26moods%3DChill": "Chill Music for Focusing", "1970s-country?genres%3DCountry%26eras%3D1970s": "1970s Country", "strings?genres%3DStrings": "Strings", "jazz-for-entertaining?genres%3DJazz%26tags%3DEntertaining": "Jazz for Entertaining", "1960s-music-for-entertaining?tags%3DEntertaining%26eras%3D1960s": "1960s Music for Entertaining", "smooth-jazz?genres%3DSmooth+Jazz": "Smooth Jazz", "soul?genres%3DSoul": "Soul", "grime?genres%3DGrime": "Grime", "freestyle?genres%3DFreestyle": "Freestyle", "rock-in-portuguese?genres%3DRock+in+Portuguese": "Rock in Portuguese", "happy-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DHappy": "Happy Hip-Hop / Rap", "jangle-pop?genres%3DJangle+Pop": "Jangle Pop", "2000s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D2000s": "2000s Hip-Hop / Rap", "new-jack-swing?genres%3DNew+Jack+Swing": "New Jack Swing", "australian?genres%3DAustralian": "Australian", "dutch-pop?genres%3DDutch+Pop": "Dutch Pop", "jam-bands?genres%3DJam+Bands": "Jam Bands", "comedy?genres%3DComedy": "Comedy", "nu-metal?genres%3DNu+Metal": "Nu Metal", "blackgaze?genres%3DBlackgaze": "Blackgaze", "chill-lounge?genres%3DLounge%26moods%3DChill": "Chill Lounge", "chill-piano?genres%3DPiano%26moods%3DChill": "Chill Piano", "1960s-music?eras%3D1960s": "1960s Music", "classic-hip-hop-rap?genres%3DClassic+Hip-Hop%2FRap": "Classic Hip-Hop/Rap", "gangsta-rap?genres%3DGangsta+Rap": "Gangsta Rap", "1970s-folk?genres%3DFolk%26eras%3D1970s": "1970s Folk", "romantic---in-love-music?moods%3DRomantic+%2F+In+Love": "Romantic / In Love Music", "edm?genres%3DEDM": "EDM", "pop-italiano?genres%3DPop+Italiano": "Pop Italiano", "idm?genres%3DIDM": "IDM", "malayalam?genres%3DMalayalam": "Malayalam", "angry-music?moods%3DAngry": "Angry Music", "motivated-classical?genres%3DClassical%26moods%3DMotivated": "Motivated Classical", "1980s-music?eras%3D1980s": "1980s Music", "chill-dubstep?genres%3DDubstep%26moods%3DChill": "Chill Dubstep", "chinese-hip-hop?genres%3DChinese+Hip-Hop": "Chinese Hip-Hop", "musique-francophone?genres%3DMusique+Francophone": "Musique Francophone", "k-pop?genres%3DK-Pop": "K-Pop", "tropical-house?genres%3DTropical+House": "Tropical House", "broken-beat?genres%3DBroken+Beat": "Broken Beat", "chill-new-music?moods%3DChill%26eras%3DNew": "Chill New Music", "happy-jazz?genres%3DJazz%26moods%3DHappy": "Happy Jazz", "easy-listening?genres%3DEasy+Listening": "Easy Listening", "2000s-music?eras%3D2000s": "2000s Music", "1980s-country?genres%3DCountry%26eras%3D1980s": "1980s Country", "arabesque?genres%3DArabesque": "Arabesque", "motivated-music-for-focusing?tags%3DFocusing%26moods%3DMotivated": "Motivated Music for Focusing", "british?genres%3DBritish": "British", "chill-lullabies?genres%3DLullabies%26moods%3DChill": "Chill Lullabies", "breaking-up?tags%3DBreaking+Up": "Breaking Up", "sad-country?genres%3DCountry%26moods%3DSad": "Sad Country", "2000s-rock?genres%3DRock%26eras%3D2000s": "2000s Rock", "chicago-house?genres%3DChicago+House": "Chicago House", "classic-punk?genres%3DClassic+Punk": "Classic Punk", "ambient?genres%3DAmbient": "Ambient", "tololoche?genres%3DTololoche": "Tololoche", "cantautori?genres%3DCantautori": "Cantautori", "samba?genres%3DSamba": "Samba", "minimalism?genres%3DMinimalism": "Minimalism", "mariachi?genres%3DMariachi": "Mariachi", "corridos?genres%3DCorridos": "Corridos", "motivated-music-for-working-out?tags%3DWorkout%26moods%3DMotivated": "Motivated Music for Working Out", "1960s-pop?genres%3DPop%26eras%3D1960s": "1960s Pop", "cantopop?genres%3DCantopop": "Cantopop", "polka?genres%3DPolka": "Polka", "new-years-eve?genres%3DNew+Year%27s+Eve": "New Year's Eve", "chill-classical?genres%3DClassical%26moods%3DChill": "Chill Classical", "marchinhas?genres%3DMarchinhas": "Marchinhas", "trova?genres%3DTrova": "Trova", "deep-house?genres%3DDeep+House": "Deep House", "chill-music-for-entertaining?tags%3DEntertaining%26moods%3DChill": "Chill Music for Entertaining", "folktronica?genres%3DFolktronica": "Folktronica", "neo-soul?genres%3DNeo-Soul": "Neo-Soul", "chill-reggae?genres%3DReggae%26moods%3DChill": "Chill Reggae", "rakugo?genres%3DRakugo": "Rakugo", "disco?genres%3DDisco": "Disco", "rock-for-partying?genres%3DRock%26tags%3DParty": "Rock for Partying", "electric-blues?genres%3DElectric+Blues": "Electric Blues", "1990s-alternative?genres%3DAlternative%26eras%3D1990s": "1990s Alternative", "classical-for-meditation?genres%3DClassical%26tags%3DMeditation": "Classical for Meditating", "ghazals?genres%3DGhazals": "Ghazals", "1950s-music?eras%3D1950s": "1950s Music", "east-coast?genres%3DEast+Coast": "East Coast", "1970s-soul?genres%3DSoul%26eras%3D1970s": "1970s Soul", "2000s-r&b?genres%3DR%26B%26eras%3D2000s": "2000s R&B", "swiss-rap?genres%3DSwiss-Rap": "Swiss-Rap", "afro-beat?genres%3DAfro-Beat": "Afro-Beat", "1990s-pop?genres%3DPop%26eras%3D1990s": "1990s Pop", "uk-hip-hop-rap?genres%3DUK+Hip-Hop%2FRap": "UK Hip-Hop / Rap", "punjabi?genres%3DPunjabi": "Punjabi", "1980s-metal?genres%3DMetal%26eras%3D1980s": "1980s Metal", "nature?genres%3DNature": "Nature", "sertanejo?genres%3DSertanejo": "Sertanejo", "coffee-shop?genres%3DCoffee+Shop": "Coffee Shop", "hip-hop-rap-for-working-out?genres%3DHip-Hop%2FRap%26tags%3DWorkout": "Hip-Hop / Rap for Working Out", "contemporary-blues?genres%3DContemporary+Blues": "Today's Blues", "rock-for-working-out?genres%3DRock%26tags%3DWorkout": "Rock for Working Out", "j-pop?genres%3DJ-Pop": "J-Pop", "anime?genres%3DAnime": "Anime", "african-music?genres%3DAfrican+Music": "African Music", "outlaw-country?genres%3DOutlaw+Country": "Outlaw Country", "tamil?genres%3DTamil": "Tamil", "hrspiele?genres%3DH%C3%B6rspiele": "Radio Drama", "kids-&-family?genres%3DKids+%26+Family": "Kids & Family", "christian-rock?genres%3DChristian+Rock": "Christian Rock", "baile-funk?genres%3DBaile+Funk": "Baile Funk", "russian-hip-hop?genres%3DRussian+Hip-Hop": "Russian Hip-Hop", "deutschpop?genres%3DDeutschpop": "Deutschpop", "adult-contemporary?genres%3DAdult+Contemporary": "Adult Contemporary", "motivated-acoustic?genres%3DAcoustic%26moods%3DMotivated": "Motivated Acoustic", "chill-christian?genres%3DChristian%26moods%3DChill": "Chill Christian", "levant-pop?genres%3DLevant+Pop": "Levant Pop", "pop-punk?genres%3DPop+Punk": "Pop Punk", "contemporary-gospel?genres%3DContemporary+Gospel": "Contemporary Gospel", "sad-classical?genres%3DClassical%26moods%3DSad": "Sad Classical", "opera?genres%3DOpera": "Opera", "motown?genres%3DMotown": "Motown", "chill-relaxation?genres%3DRelaxation%26moods%3DChill": "Chill Relaxation", "1990s-music?eras%3D1990s": "1990s Music", "synth-pop?genres%3DSynth-Pop": "Synth-Pop", "happy-holiday?genres%3DHoliday%26moods%3DHappy": "Happy Holiday", "dangdut?genres%3DDangdut": "Dangdut", "chill-rock?genres%3DRock%26moods%3DChill": "Chill Rock", "swiss-pop?genres%3DSwiss-Pop": "Swiss-Pop", "duranguense?genres%3DDuranguense": "Duranguense", "avant-garde-jazz?genres%3DAvant-Garde+Jazz": "Avant-Garde Jazz", "thai-music?genres%3DThai+Music": "Thai Music", "electro?genres%3DElectro": "Electro", "indian-classical?genres%3DIndian+Classical": "Indian Classical", "egyptian-pop?genres%3DEgyptian+Pop": "Egyptian Pop", "romantic-music?moods%3DRomantic": "Romantic Music", "dark-wave?genres%3DDarkWave": "Dark Wave", "baroque-era?genres%3DBaroque+Era": "Baroque Era", "2000s-pop?genres%3DPop%26eras%3D2000s": "2000s Pop", "quiet-storm?genres%3DQuiet+Storm": "Quiet Storm", "pop-in-portuguese?genres%3DPop+in+Portuguese": "Pop in Portuguese", "teen-pop?genres%3DTeen+Pop": "Teen Pop", "adult-alternative?genres%3DAdult+Alternative": "Adult Alternative", "hip-hop-en-espaol?genres%3DHip-Hop+en+Espa%C3%B1ol": "Hip-Hop en Espaol", "chill-trance?genres%3DTrance%26moods%3DChill": "Chill Trance", "chill-music-for-meditation?tags%3DMeditation%26moods%3DChill": "Chill Music for Meditating", "motivated-instrumental?genres%3DInstrumental%26moods%3DMotivated": "Motivated Instrumental", "1990s-music-for-working-out?tags%3DWorkout%26eras%3D1990s": "1990s Music for Working Out", "jazz-for-focusing?genres%3DJazz%26tags%3DFocusing": "Jazz for Focusing", "traditional-folk?genres%3DTraditional+Folk": "Traditional Folk", "americana?genres%3DAmericana": "Americana", "motivated-country?genres%3DCountry%26moods%3DMotivated": "Motivated Country", "2000s-dance?genres%3DDance%26eras%3D2000s": "2000s Dance", "soft-rock?genres%3DSoft+Rock": "Soft Rock", "1990s-music-for-partying?tags%3DParty%26eras%3D1990s": "1990s Music for Partying", "1960s-rock?genres%3DRock%26eras%3D1960s": "1960s Rock", "shoegaze?genres%3DShoegaze": "Shoegaze", "french-pop?genres%3DFrench+Pop": "French Pop", "death-metal?genres%3DDeath+Metal": "Death Metal", "telugu?genres%3DTelugu": "Telugu", "britpop?genres%3DBritpop": "Britpop", "west-coast?genres%3DWest+Coast": "West Coast", "scores?genres%3DScores": "Scores", "indonesian-music?genres%3DIndonesian+Music": "Indonesian Music", "indie-rock?genres%3DIndie+Rock": "Indie Rock", "diy-punk?genres%3DDIY+Punk": "DIY Punk", "reggae?genres%3DReggae": "Reggae", "jazz-vocal?genres%3DJazz+Vocal": "Jazz Vocal", "microhouse?genres%3DMicrohouse": "Microhouse", "dance-for-partying?genres%3DDance%26tags%3DParty": "Dance for Partying", "mexican?genres%3DMexican": "Mexican", "chill-alternative?genres%3DAlternative%26moods%3DChill": "Chill Alternative", "mod?genres%3DMod": "Mod", "big-band?genres%3DBig+Band": "Big Band", "dutch?genres%3DDutch": "Dutch", "conscious-hip-hop?genres%3DConscious+Hip-Hop": "Conscious Hip-Hop", "fado?genres%3DFado": "Fado", "standards?genres%3DStandards": "Standards", "old-school-hip-hop?genres%3DOld+School": " Old School Hip-Hop", "renaissance?genres%3DRenaissance": "Renaissance", "relaxation?genres%3DRelaxation": "Relaxation", "regional-indian?genres%3DRegional+Indian": "Regional Indian", "getting-it-on?tags%3DGetting+It+On": "Getting It On", "k-r&b?genres%3DK-R%26B": "K-R&B", "1990s-grunge?genres%3DGrunge%26eras%3D1990s": "1990s Grunge", "college-rock?genres%3DCollege+Rock": "College Rock", "1970s-acoustic?genres%3DAcoustic%26eras%3D1970s": "1970s Acoustic", "1950s-jazz?genres%3DJazz%26eras%3D1950s": "1950s Jazz", "christian-pop?genres%3DChristian+Pop": "Christian Pop", "1950s-rock?genres%3DRock%26eras%3D1950s": "1950s Rock", "idol?genres%3DIdol": "Idol", "ragtime?genres%3DRagtime": "Ragtime", "swiss?genres%3DSwiss": "Swiss", "1980s-bollywood?genres%3DBollywood%26eras%3D1980s": "1980s Bollywood", "j-r&b?genres%3DJ-R%26B": "J-R&B", "classic-rock?genres%3DClassic+Rock": "Classic Rock", "halk?genres%3DHalk": "Halk", "celtic?genres%3DCeltic": "Celtic", "classic-country?genres%3DClassic+Country": "Classic Country", "nature-for-meditation?genres%3DNature%26tags%3DMeditation": "Nature for Meditating", "folk?genres%3DFolk": "Folk", "chill-house?genres%3DHouse%26moods%3DChill": "Chill House", "ska?genres%3DSka": "Ska", "dance-punk?genres%3DDance-Punk": "Dance-Punk", "chill-pop?genres%3DPop%26moods%3DChill": "Chill Pop", "1960s-soul?genres%3DSoul%26eras%3D1960s": "1960s Soul", "2010s-pop?genres%3DPop%26eras%3D2010s": "2010s Pop", "chill-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DChill": "Chill Hip-Hop / Rap", "pop-for-partying?genres%3DPop%26tags%3DParty": "Pop for Partying", "modern-dancehall?genres%3DModern+Dancehall": "Modern Dancehall", "glam-rock?genres%3DGlam+Rock": "Glam Rock", "rocksteady?genres%3DRocksteady": "Rocksteady", "irish?genres%3DIrish": "Irish", "roots-reggae?genres%3DRoots+Reggae": "Roots Reggae", "alt-country?genres%3DAlt+Country": "Alt Country", "halloween?genres%3DHalloween": "Halloween", "kannada?genres%3DKannada": "Kannada", "deutsche-streetrap?genres%3DDeutsche+Streetrap": "Deutsche Streetrap", "folk-rock?genres%3DFolk-Rock": "Folk-Rock", "pinoy-pop?genres%3DPinoy+Pop": "Pinoy Pop", "tarab?genres%3DTarab": "Tarab", "dutch-hip-hop?genres%3DDutch+Hip-Hop": "Dutch Hip-Hop", "family-time?tags%3DFamily+Time": "Family Time", "musicals?genres%3DMusicals": "Musicals", "chill-r&b?genres%3DR%26B%26moods%3DChill": "Chill R&B", "french-hip-hop-rap?genres%3DFrench+Hip-Hop%2FRap": "French Hip-Hop / Rap", "happy-c-pop?genres%3DC-Pop%26moods%3DHappy": "Happy C-Pop", "sad-piano?genres%3DPiano%26moods%3DSad": "Sad Piano", "yacht-rock?genres%3DYacht+Rock": "Yacht Rock", "industrial-metal?genres%3DIndustrial+Metal": "Industrial Metal", "bengali?genres%3DBengali": "Bengali", "khaleeji-pop?genres%3DKhaleeji+Pop": "Khaleeji Pop", "1970s-music?eras%3D1970s": "1970s Music", "afro-pop?genres%3DAfro-Pop": "Afro-Pop", "afrikaans?genres%3DAfrikaans": "Afrikaans", "sambas-de-enredo?genres%3DSambas+de+enredo": "Sambas De Enredo", "tv-drama?genres%3DTV+Drama": "TV Drama", "indie-en-espaol?genres%3DIndie+en+Espa%C3%B1ol": "Indie en Espaol", "chill-ambient?genres%3DAmbient%26moods%3DChill": "Chill Ambient", "orchestral?genres%3DOrchestral": "Orchestral", "indian?genres%3DIndian": "Indian", "classic-soul?genres%3DClassic+Soul": "Classic Soul", "happy-1980s-music?moods%3DHappy%26eras%3D1980s": "Happy 1980s Music", "israeli-alternative?genres%3DIsraeli+Alternative": "Israeli Alternative" } }, Ise = { "ja-jp": { "chinese?genres%3DChinese": "", "devotional-&-spiritual?genres%3DDevotional+%26+Spiritual": "/", "vocaloid?genres%3DVocaloid": "", "rockabilly?genres%3DRockabilly": "", "motivated-holiday?genres%3DHoliday%26moods%3DMotivated": "", "cumbia?genres%3DCumbia": "", "surf?genres%3DSurf": "", "romantic-era?genres%3DRomantic+Era": "", "jungle?genres%3DJungle": "", "motivated-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DMotivated": "/", "australian-pub-rock?genres%3DAustralian+Pub+Rock": "", "alternative?genres%3DAlternative": "", "doo-wop?genres%3DDoo+Wop": "", "1970s-funk?genres%3DFunk%26eras%3D1970s": "1970", "contemporary-jazz?genres%3DContemporary+Jazz": "", "extreme-metal?genres%3DExtreme+Metal": "", "1970s-oldies?genres%3DOldies%26eras%3D1970s": "1970", "brazilian?genres%3DBrazilian": "", "trap?genres%3DTrap": "", "1980s-holiday?genres%3DHoliday%26eras%3D1980s": "1980", "trance?genres%3DTrance": "", "k-rock?genres%3DK-Rock": "K-", "pop-for-working-out?genres%3DPop%26tags%3DWorkout": "", "r&b?genres%3DR%26B": "R&B", "caribbean?genres%3DCaribbean": "", "screamo?genres%3DScreamo": "", "bollywood?genres%3DBollywood": "", "russian?genres%3DRussian": "", "progressive-house?genres%3DProgressive+House": "", "detroit-techno?genres%3DDetroit+Techno": "", "classical-for-focusing?genres%3DClassical%26tags%3DFocusing": "", "honky-tonk?genres%3DHonky+Tonk": "", "hair-metal?genres%3DHair+Metal": "", "rock?genres%3DRock": "", "christian?genres%3DChristian": "", "classic-singer-songwriter?genres%3DClassic+Singer%2FSongwriter": "", "rave?genres%3DRave": "", "forr?genres%3DForr%C3%B3": "", "bashment?genres%3DBashment": "", "cloud-rap?genres%3DCloud+Rap": "", "cooldown?tags%3DCooldown": "", "christian-rap?genres%3DChristian+Rap": "", "2000s-alternative?genres%3DAlternative%26eras%3D2000s": "2000", "1990s-rock?genres%3DRock%26eras%3D1990s": "1990", "idol--anime?genres%3DIdol%3A+Anime": "", "dixieland?genres%3DDixieland": "", "russian-pop?genres%3DRussian+Pop": "", "golden-age-hip-hop?genres%3DGolden+Age": "", "focusing?tags%3DFocusing": "", "indian-independent?genres%3DIndian+Independent": "", "canadian?genres%3DCanadian": "", "1970s-music-for-partying?tags%3DParty%26eras%3D1970s": "1970", "southern-gospel?genres%3DSouthern+Gospel": "", "trap-latino?genres%3DTrap+Latino": "", "latino?genres%3DLatino": "", "russian-chanson?genres%3DRussian+Chanson": "", "sanat?genres%3DSanat": "", "chill-acoustic?genres%3DAcoustic%26moods%3DChill": "", "alternative-rap?genres%3DAlternative+Rap": "", "chill-indie?genres%3DIndie%26moods%3DChill": "", "1990s-dance?genres%3DDance%26eras%3D1990s": "1990", "indie?genres%3DIndie": "", "1970s-disco?genres%3DDisco%26eras%3D1970s": "1970", "hardcore-punk?genres%3DHardcore+Punk": "", "hip-hop-rap-italiano?genres%3DHip-Hop%2FRap+Italiano": "/", "sad-music?moods%3DSad": "", "chill-electronica?genres%3DElectronica%26moods%3DChill": "", "pop?genres%3DPop": "", "lounge?genres%3DLounge": "", "psychobilly?genres%3DPsychobilly": "", "electronic-for-working-out?genres%3DElectronic%26tags%3DWorkout": "", "chill-dance?genres%3DDance%26moods%3DChill": "", "latin-jazz?genres%3DLatin+Jazz": "", "boleros?genres%3DBoleros": "", "r&b-for-working-out?genres%3DR%26B%26tags%3DWorkout": "R&B", "hip-hop-rap?genres%3DHip-Hop%2FRap": "/", "motivated-c-pop?genres%3DC-Pop%26moods%3DMotivated": "C-Pop", "1990s-r&b?genres%3DR%26B%26eras%3D1990s": "1990R&B", "oldies?genres%3DOldies": "", "jazz?genres%3DJazz": "", "acoustic?genres%3DAcoustic": "", "chill-nature?genres%3DNature%26moods%3DChill": "", "singer-songwriter?genres%3DSinger%2FSongwriter": "", "punk?genres%3DPunk": "", "motivated-music?moods%3DMotivated": "", "spanish?genres%3DSpanish": "", "1990s-disco?genres%3DDisco%26eras%3D1990s": "1990", "paisley-underground?genres%3DPaisley+Underground": "", "indie-r&b?genres%3DIndie+R%26B": "R&B", "grunge?genres%3DGrunge": "", "lullabies?genres%3DLullabies": "", "classic-metal?genres%3DClassic+Metal": "", "arabic?genres%3DArabic": "", "worldbeat?genres%3DWorldbeat": "", "southern-rock?genres%3DSouthern+Rock": "", "german?genres%3DGerman": "", "1980s-music-for-partying?tags%3DParty%26eras%3D1980s": "1980", "sad-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DSad": "/", "piano-for-meditation?genres%3DPiano%26tags%3DMeditation": "", "french?genres%3DFrench": "", "doom?genres%3DDoom": "", "country?genres%3DCountry": "", "south-american?genres%3DSouth+American": "", "instrumental?genres%3DInstrumental": "", "mizrahi?genres%3DMizrahi": "", "hyphy?genres%3DHyphy": "", "post-grunge?genres%3DPost-Grunge": "", "portuguese?genres%3DPortuguese": "", "working-out?tags%3DWorkout": "", "balearic?genres%3DBalearic": "", "upbeat-music?moods%3DUpbeat": "", "arabic-pop?genres%3DArabic+Pop": "", "holiday-for-partying?genres%3DHoliday%26tags%3DParty": "", "belgian?genres%3DBelgian": "", "meditation?tags%3DMeditation": "", "j-rock?genres%3DJ-Rock": "J-", "happy-music-for-partying?tags%3DParty%26moods%3DHappy": "", "karaoke?genres%3DKaraoke": "", "british-metal?genres%3DBritish+Metal": "", "russian-rock?genres%3DRussian+Rock": "", "dance-for-working-out?genres%3DDance%26tags%3DWorkout": "", "french-touch?genres%3DFrench+Touch": "", "chill-music-for-partying?tags%3DParty%26moods%3DChill": "", "motivated-pop?genres%3DPop%26moods%3DMotivated": "", "metal?genres%3DMetal": "", "vietnamese?genres%3DVietnamese": "", "mpb?genres%3DMPB": "MPB", "cubaton?genres%3DCubaton": "", "dance?genres%3DDance": "", "1990s-indie?genres%3DIndie%26eras%3D1990s": "1990", "choral?genres%3DChoral": "", "sludge?genres%3DSludge": "", "soca?genres%3DSoca": "", "salsa?genres%3DSalsa": "", "1980s-dance?genres%3DDance%26eras%3D1980s": "1980", "power-pop?genres%3DPower+Pop": "", "new-wave?genres%3DNew+Wave": "", "arena-rock?genres%3DArena+Rock": "", "aussie-hip-hop-rap?genres%3DAussie+Hip-Hop%2FRap": "/", "new-age?genres%3DNew+Age": "", "1990s-bollywood?genres%3DBollywood%26eras%3D1990s": "1990", "merengue?genres%3DMerengue": "", "delta-blues?genres%3DDelta+Blues": "", "scottish?genres%3DScottish": "", "thai-pop?genres%3DThai+Pop": "", "khaleeji-tarab?genres%3DKhaleeji+Tarab": "", "vallenato?genres%3DVallenato": "", "happy-dance?genres%3DDance%26moods%3DHappy": "", "1990s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D1990s": "1990/", "saxophone?genres%3DSaxophone": "", "msica-mexicana?genres%3DM%C3%BAsica+Mexicana": "", "chinese-alt?genres%3DChinese+Alt": "", "afrobeats?genres%3DAfrobeats": "", "calypso?genres%3DCalypso": "", "miami-bass?genres%3DMiami+Bass": "", "tango?genres%3DTango": "", "sleep?tags%3DSleep": "", "happy-pop?genres%3DPop%26moods%3DHappy": "", "pagode?genres%3DPagode": "", "j-hip-hop?genres%3DJ-Hip-Hop": "J-", "1990s-techno?genres%3DTechno%26eras%3D1990s": "1990", "electronic?genres%3DElectronic": "", "alternativo-en-espaol?genres%3DAlternativo+en+Espa%C3%B1ol": "", "israeli?genres%3DIsraeli": "", "1980s-alternative?genres%3DAlternative%26eras%3D1980s": "1980", "roots-rock?genres%3DRoots+Rock": "", "entertaining?tags%3DEntertaining": "", "uk-garage?genres%3DUK+Garage": "UK", "tai-pop?genres%3DTai-Pop": "", "funk?genres%3DFunk": "", "mandopop?genres%3DMandopop": "", "1970s-rock?genres%3DRock%26eras%3D1970s": "1970", "piano?genres%3DPiano": "", "fusion-jazz?genres%3DFusion+Jazz": "", "1980s-soul?genres%3DSoul%26eras%3D1980s": "1980", "reggaeton?genres%3DReggaeton": "", "malaysian-music?genres%3DMalaysian+Music": "", "korean?genres%3DKorean": "", "instrumental-for-meditation?genres%3DInstrumental%26tags%3DMeditation": "", "lullabies-for-meditation?genres%3DLullabies%26tags%3DMeditation": "", "chinese-rock?genres%3DChinese+Rock": "", "nueva-cancin?genres%3DNueva+Canci%C3%B3n": "", "schlager?genres%3DSchlager": "", "psych-rock?genres%3DPsych+Rock": "", "1990s-metal?genres%3DMetal%26eras%3D1990s": "1990", "soul-jazz?genres%3DSoul+Jazz": "", "new-music?eras%3DNew": "", "film,-tv-&-stage?genres%3DStage+and+Screen": "", "rock-en-espaol?genres%3DRock+en+Espa%C3%B1ol": "", "rancheras?genres%3DRancheras": "", "goth?genres%3DGoth": "", "1990s-country?genres%3DCountry%26eras%3D1990s": "1990", "indie-pop?genres%3DIndie+Pop": "", "dirty-south?genres%3DDirty+South": "", "chicago-blues?genres%3DChicago+Blues": "", "indie-dance?genres%3DIndie+Dance": "", "garage?genres%3DGarage": "", "banda?genres%3DBanda": "", "turkish?genres%3DTurkish": "", "k-hip-hop?genres%3DK+Hip-Hop%2FRap": "K-Hip-Hop", "1970s-r&b?genres%3DR%26B%26eras%3D1970s": "1970R&B", "underground-hip-hop-rap?genres%3DUnderground+Hip-Hop%2FRap": "/", "c-pop?genres%3DC-Pop": "C-Pop", "relaxation-for-meditation?genres%3DRelaxation%26tags%3DMeditation": "", "alt-rock?genres%3DAlt+Rock": "", "requinto?genres%3DRequinto": "", "lovers-rock?genres%3DLovers+Rock": "", "bachata?genres%3DBachata": "", "country-rock?genres%3DCountry+Rock": "", "techno?genres%3DTechno": "", "motivated-jazz?genres%3DJazz%26moods%3DMotivated": "", "modern-era?genres%3DModern+Era": "", "kayokyoku?genres%3DKayokyoku": "", "chill-1970s-music?moods%3DChill%26eras%3D1970s": "1970", "christmas?genres%3DChristmas": "", "k-pop-for-working-out?genres%3DK-Pop%26tags%3DWorkout": "K-Pop", "dancehall?genres%3DDancehall": "", "1970s-music-for-working-out?tags%3DWorkout%26eras%3D1970s": "1970", "chill-holiday?genres%3DHoliday%26moods%3DChill": "", "disney?genres%3DDisney": "", "afro-swing?genres%3DAfro-Swing": "", "chill-electronic?genres%3DElectronic%26moods%3DChill": "", "blues?genres%3DBlues": "", "acid-house?genres%3DAcid+House": "", "2000s-country?genres%3DCountry%26eras%3D2000s": "2000", "sad-bollywood?genres%3DBollywood%26moods%3DSad": "", "black-metal?genres%3DBlack+Metal": "", "happy-music?moods%3DHappy": "", "grindcore?genres%3DGrindcore": "", "1970s-dance?genres%3DDance%26eras%3D1970s": "1970", "1980s-rock?genres%3DRock%26eras%3D1980s": "1980", "emo?genres%3DEMO": "", "praise-&-worship?genres%3DPraise+%26+Worship": "/", "holiday?genres%3DHoliday": "", "chill-instrumental?genres%3DInstrumental%26moods%3DChill": "", "chamber-music?genres%3DChamber+Music": "", "dad-rock?genres%3DDad+Rock": "", "chill-music?moods%3DChill": "", "1970s-pop?genres%3DPop%26eras%3D1970s": "1970", "cool-jazz?genres%3DCool+Jazz": "", "1990s-dancehall?genres%3DDancehall%26eras%3D1990s": "1990", "german-folk?genres%3DGerman+Folk": "", "norteo?genres%3DNorte%C3%B1o": "", "hard-bop?genres%3DHard+Bop": "", "electronica?genres%3DElectronica": "", "partying?tags%3DParty": "", "holiday-for-entertaining?genres%3DHoliday%26tags%3DEntertaining": "", "instrumental-for-focusing?genres%3DInstrumental%26tags%3DFocusing": "", "third-wave-ska?genres%3DThird+Wave+Ska": "", "bollywood-for-partying?genres%3DBollywood%26tags%3DParty": "", "enka?genres%3DEnka": "", "crunk?genres%3DCrunk": "", "1990s-punk?genres%3DPunk%26eras%3D1990s": "1990", "2010s-music?eras%3D2010s": "2010", "1980s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D1980s": "1980/", "alternative-metal?genres%3DAlternative+Metal": "", "classic-house?genres%3DClassic+House": "", "bass?genres%3DBass": "", "house?genres%3DHouse": "", "british-invasion?genres%3DBritish+Invasion": "", "pop-latino?genres%3DPop+Latino": "", "christian-country?genres%3DChristian+Country": "", "ax?genres%3DAx%C3%A9": "", "french-varit?genres%3DFrench+Vari%C3%A9t%C3%A9": "", "indian-pop?genres%3DIndian+Pop": "", "chill-1980s-music?moods%3DChill%26eras%3D1980s": "1980", "1980s-disco?genres%3DDisco%26eras%3D1980s": "1980", "urbano-latino?genres%3DUrbano+Latino": "", "1990s-reggae?genres%3DReggae%26eras%3D1990s": "1990", "k-indie?genres%3DK-Indie": "K-", "motivated-music-for-meditation?tags%3DMeditation%26moods%3DMotivated": "", "bebop?genres%3DBebop": "", "prog-rock?genres%3DProg-Rock": "", "israeli-pop?genres%3DIsraeli+Pop": "", "new-romantic?genres%3DNew+Romantic": "", "bossa-nova?genres%3DBossa+Nova": "", "1980s-r&b?genres%3DR%26B%26eras%3D1980s": "1980R&B", "sad-instrumental?genres%3DInstrumental%26moods%3DSad": "", "australian-country?genres%3DAustralian+Country": "", "thrash-metal?genres%3DThrash+Metal": "", "post-rock?genres%3DPost-Rock": "", "dubstep?genres%3DDubstep": "", "adult-urban-contemporary?genres%3DAdult+Urban+Contemporary": "", "hard-rock?genres%3DHard+Rock": "", "1980s-pop?genres%3DPop%26eras%3D1980s": "1980", "motivated-1950s-music?moods%3DMotivated%26eras%3D1950s": "1950", "japanese?genres%3DJapanese": "", "metalcore?genres%3DMetalcore": "", "hip-hop-rap-for-partying?genres%3DHip-Hop%2FRap%26tags%3DParty": "/", "happy-new-music?moods%3DHappy%26eras%3DNew": "", "post-punk?genres%3DPost-Punk": "", "khaleeji?genres%3DKhaleeji": "", "downtempo?genres%3DDowntempo": "", "flamenco?genres%3DFlamenco": "", "chillwave?genres%3DChillwave": "", "classic-blues?genres%3DClassic+Blues": "", "chill-jazz?genres%3DJazz%26moods%3DChill": "", "israeli-rock?genres%3DIsraeli+Rock": "", "dub?genres%3DDub": "", "bluegrass?genres%3DBluegrass": "", "2010s-country?genres%3DCountry%26eras%3D2010s": "2010", "chill-country?genres%3DCountry%26moods%3DChill": "", "traditional-country?genres%3DTraditional+Country": "", "1960s-country?genres%3DCountry%26eras%3D1960s": "1960", "hawaiian?genres%3DHawaiian": "", "experimental?genres%3DExperimental": "", "country-for-partying?genres%3DCountry%26tags%3DParty": "", "stoner-rock?genres%3DStoner+Rock": "", "gospel?genres%3DGospel": "", "2010s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D2010s": "2010/", "classical?genres%3DClassical": "", "chill-music-for-focusing?tags%3DFocusing%26moods%3DChill": "", "1970s-country?genres%3DCountry%26eras%3D1970s": "1970", "strings?genres%3DStrings": "", "jazz-for-entertaining?genres%3DJazz%26tags%3DEntertaining": "", "1960s-music-for-entertaining?tags%3DEntertaining%26eras%3D1960s": "1960", "smooth-jazz?genres%3DSmooth+Jazz": "", "soul?genres%3DSoul": "", "grime?genres%3DGrime": "", "freestyle?genres%3DFreestyle": "", "rock-in-portuguese?genres%3DRock+in+Portuguese": "", "happy-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DHappy": "/", "jangle-pop?genres%3DJangle+Pop": "", "2000s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D2000s": "2000/", "new-jack-swing?genres%3DNew+Jack+Swing": "", "australian?genres%3DAustralian": "", "dutch-pop?genres%3DDutch+Pop": "", "jam-bands?genres%3DJam+Bands": "", "comedy?genres%3DComedy": "", "nu-metal?genres%3DNu+Metal": "", "blackgaze?genres%3DBlackgaze": "", "chill-lounge?genres%3DLounge%26moods%3DChill": "", "chill-piano?genres%3DPiano%26moods%3DChill": "", "1960s-music?eras%3D1960s": "1960", "classic-hip-hop-rap?genres%3DClassic+Hip-Hop%2FRap": "/", "gangsta-rap?genres%3DGangsta+Rap": "", "1970s-folk?genres%3DFolk%26eras%3D1970s": "1970", "romantic---in-love-music?moods%3DRomantic+%2F+In+Love": "", "edm?genres%3DEDM": "EDM", "pop-italiano?genres%3DPop+Italiano": "", "idm?genres%3DIDM": "IDM", "malayalam?genres%3DMalayalam": "", "angry-music?moods%3DAngry": "", "motivated-classical?genres%3DClassical%26moods%3DMotivated": "", "1980s-music?eras%3D1980s": "1980", "chill-dubstep?genres%3DDubstep%26moods%3DChill": "", "chinese-hip-hop?genres%3DChinese+Hip-Hop": "", "musique-francophone?genres%3DMusique+Francophone": "", "k-pop?genres%3DK-Pop": "K-Pop", "tropical-house?genres%3DTropical+House": "", "broken-beat?genres%3DBroken+Beat": "", "chill-new-music?moods%3DChill%26eras%3DNew": "", "happy-jazz?genres%3DJazz%26moods%3DHappy": "", "easy-listening?genres%3DEasy+Listening": "", "2000s-music?eras%3D2000s": "2000", "1980s-country?genres%3DCountry%26eras%3D1980s": "1980", "arabesque?genres%3DArabesque": "", "motivated-music-for-focusing?tags%3DFocusing%26moods%3DMotivated": "", "british?genres%3DBritish": "", "chill-lullabies?genres%3DLullabies%26moods%3DChill": "", "breaking-up?tags%3DBreaking+Up": "", "sad-country?genres%3DCountry%26moods%3DSad": "", "2000s-rock?genres%3DRock%26eras%3D2000s": "2000", "chicago-house?genres%3DChicago+House": "", "classic-punk?genres%3DClassic+Punk": "", "ambient?genres%3DAmbient": "", "tololoche?genres%3DTololoche": "", "cantautori?genres%3DCantautori": "", "samba?genres%3DSamba": "", "minimalism?genres%3DMinimalism": "", "mariachi?genres%3DMariachi": "", "corridos?genres%3DCorridos": "", "motivated-music-for-working-out?tags%3DWorkout%26moods%3DMotivated": "", "1960s-pop?genres%3DPop%26eras%3D1960s": "1960", "cantopop?genres%3DCantopop": "", "polka?genres%3DPolka": "", "new-years-eve?genres%3DNew+Year%27s+Eve": "", "chill-classical?genres%3DClassical%26moods%3DChill": "", "marchinhas?genres%3DMarchinhas": "", "trova?genres%3DTrova": "", "deep-house?genres%3DDeep+House": "", "chill-music-for-entertaining?tags%3DEntertaining%26moods%3DChill": "", "folktronica?genres%3DFolktronica": "", "neo-soul?genres%3DNeo-Soul": "", "chill-reggae?genres%3DReggae%26moods%3DChill": "", "rakugo?genres%3DRakugo": "", "disco?genres%3DDisco": "", "rock-for-partying?genres%3DRock%26tags%3DParty": "", "electric-blues?genres%3DElectric+Blues": "", "1990s-alternative?genres%3DAlternative%26eras%3D1990s": "1990", "classical-for-meditation?genres%3DClassical%26tags%3DMeditation": "", "ghazals?genres%3DGhazals": "", "1950s-music?eras%3D1950s": "1950", "east-coast?genres%3DEast+Coast": "", "1970s-soul?genres%3DSoul%26eras%3D1970s": "1970", "2000s-r&b?genres%3DR%26B%26eras%3D2000s": "2000R&B", "swiss-rap?genres%3DSwiss-Rap": "", "afro-beat?genres%3DAfro-Beat": "", "1990s-pop?genres%3DPop%26eras%3D1990s": "1990", "uk-hip-hop-rap?genres%3DUK+Hip-Hop%2FRap": "UK/", "punjabi?genres%3DPunjabi": "", "1980s-metal?genres%3DMetal%26eras%3D1980s": "1980", "nature?genres%3DNature": "", "sertanejo?genres%3DSertanejo": "", "coffee-shop?genres%3DCoffee+Shop": "", "hip-hop-rap-for-working-out?genres%3DHip-Hop%2FRap%26tags%3DWorkout": "/", "contemporary-blues?genres%3DContemporary+Blues": "", "rock-for-working-out?genres%3DRock%26tags%3DWorkout": "", "j-pop?genres%3DJ-Pop": "J-Pop", "anime?genres%3DAnime": "", "african-music?genres%3DAfrican+Music": "", "outlaw-country?genres%3DOutlaw+Country": "", "tamil?genres%3DTamil": "", "hrspiele?genres%3DH%C3%B6rspiele": "", "kids-&-family?genres%3DKids+%26+Family": "", "christian-rock?genres%3DChristian+Rock": "", "baile-funk?genres%3DBaile+Funk": "", "russian-hip-hop?genres%3DRussian+Hip-Hop": "", "deutschpop?genres%3DDeutschpop": "", "adult-contemporary?genres%3DAdult+Contemporary": "", "motivated-acoustic?genres%3DAcoustic%26moods%3DMotivated": "", "chill-christian?genres%3DChristian%26moods%3DChill": "", "levant-pop?genres%3DLevant+Pop": "", "pop-punk?genres%3DPop+Punk": "", "contemporary-gospel?genres%3DContemporary+Gospel": "", "sad-classical?genres%3DClassical%26moods%3DSad": "", "opera?genres%3DOpera": "", "motown?genres%3DMotown": "", "chill-relaxation?genres%3DRelaxation%26moods%3DChill": "", "1990s-music?eras%3D1990s": "1990", "synth-pop?genres%3DSynth-Pop": "", "happy-holiday?genres%3DHoliday%26moods%3DHappy": "", "dangdut?genres%3DDangdut": "", "chill-rock?genres%3DRock%26moods%3DChill": "", "swiss-pop?genres%3DSwiss-Pop": "", "duranguense?genres%3DDuranguense": "", "avant-garde-jazz?genres%3DAvant-Garde+Jazz": "", "thai-music?genres%3DThai+Music": "", "electro?genres%3DElectro": "", "indian-classical?genres%3DIndian+Classical": "", "egyptian-pop?genres%3DEgyptian+Pop": "", "romantic-music?moods%3DRomantic": "", "darkwave?genres%3DDarkWave": "", "baroque-era?genres%3DBaroque+Era": "", "2000s-pop?genres%3DPop%26eras%3D2000s": "2000", "quiet-storm?genres%3DQuiet+Storm": "", "pop-in-portuguese?genres%3DPop+in+Portuguese": "", "teen-pop?genres%3DTeen+Pop": "", "adult-alternative?genres%3DAdult+Alternative": "", "hip-hop-en-espaol?genres%3DHip-Hop+en+Espa%C3%B1ol": "", "chill-trance?genres%3DTrance%26moods%3DChill": "", "chill-music-for-meditation?tags%3DMeditation%26moods%3DChill": "", "motivated-instrumental?genres%3DInstrumental%26moods%3DMotivated": "", "1990s-music-for-working-out?tags%3DWorkout%26eras%3D1990s": "1990", "jazz-for-focusing?genres%3DJazz%26tags%3DFocusing": "", "traditional-folk?genres%3DTraditional+Folk": "", "americana?genres%3DAmericana": "", "motivated-country?genres%3DCountry%26moods%3DMotivated": "", "2000s-dance?genres%3DDance%26eras%3D2000s": "2000", "soft-rock?genres%3DSoft+Rock": "", "1990s-music-for-partying?tags%3DParty%26eras%3D1990s": "1990", "1960s-rock?genres%3DRock%26eras%3D1960s": "1960", "shoegaze?genres%3DShoegaze": "", "french-pop?genres%3DFrench+Pop": "", "death-metal?genres%3DDeath+Metal": "", "telugu?genres%3DTelugu": "", "britpop?genres%3DBritpop": "", "west-coast?genres%3DWest+Coast": "", "scores?genres%3DScores": "", "indonesian-music?genres%3DIndonesian+Music": "", "indie-rock?genres%3DIndie+Rock": "", "diy-punk?genres%3DDIY+Punk": "DIY", "reggae?genres%3DReggae": "", "jazz-vocal?genres%3DJazz+Vocal": "", "microhouse?genres%3DMicrohouse": "", "dance-for-partying?genres%3DDance%26tags%3DParty": "", "mexican?genres%3DMexican": "", "chill-alternative?genres%3DAlternative%26moods%3DChill": "", "mod?genres%3DMod": "", "big-band?genres%3DBig+Band": "", "dutch?genres%3DDutch": "", "conscious-hip-hop?genres%3DConscious+Hip-Hop": "", "fado?genres%3DFado": "", "standards?genres%3DStandards": "", "old-school-hip-hop?genres%3DOld+School": "", "renaissance?genres%3DRenaissance": "", "relaxation?genres%3DRelaxation": "", "regional-indian?genres%3DRegional+Indian": "", "getting-it-on?tags%3DGetting+It+On": "", "k-r&b?genres%3DK-R%26B": "K-R&B", "1990s-grunge?genres%3DGrunge%26eras%3D1990s": "1990", "college-rock?genres%3DCollege+Rock": "", "1970s-acoustic?genres%3DAcoustic%26eras%3D1970s": "1970", "1950s-jazz?genres%3DJazz%26eras%3D1950s": "1950", "christian-pop?genres%3DChristian+Pop": "", "1950s-rock?genres%3DRock%26eras%3D1950s": "1950", "idol?genres%3DIdol": "", "ragtime?genres%3DRagtime": "", "swiss?genres%3DSwiss": "", "1980s-bollywood?genres%3DBollywood%26eras%3D1980s": "1980", "j-r&b?genres%3DJ-R%26B": "R&B", "classic-rock?genres%3DClassic+Rock": "", "halk?genres%3DHalk": "", "celtic?genres%3DCeltic": "", "classic-country?genres%3DClassic+Country": "", "nature-for-meditation?genres%3DNature%26tags%3DMeditation": "", "folk?genres%3DFolk": "", "chill-house?genres%3DHouse%26moods%3DChill": "", "ska?genres%3DSka": "", "dance-punk?genres%3DDance-Punk": "", "chill-pop?genres%3DPop%26moods%3DChill": "", "1960s-soul?genres%3DSoul%26eras%3D1960s": "1960", "2010s-pop?genres%3DPop%26eras%3D2010s": "2010", "chill-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DChill": "/", "pop-for-partying?genres%3DPop%26tags%3DParty": "", "modern-dancehall?genres%3DModern+Dancehall": "", "glam-rock?genres%3DGlam+Rock": "", "rocksteady?genres%3DRocksteady": "", "irish?genres%3DIrish": "", "roots-reggae?genres%3DRoots+Reggae": "", "alt-country?genres%3DAlt+Country": "", "halloween?genres%3DHalloween": "", "kannada?genres%3DKannada": "", "deutsche-streetrap?genres%3DDeutsche+Streetrap": "", "folk-rock?genres%3DFolk-Rock": "", "pinoy-pop?genres%3DPinoy+Pop": "", "tarab?genres%3DTarab": "", "dutch-hip-hop?genres%3DDutch+Hip-Hop": "", "family-time?tags%3DFamily+Time": "", "musicals?genres%3DMusicals": "", "chill-r&b?genres%3DR%26B%26moods%3DChill": "R&B", "french-hip-hop-rap?genres%3DFrench+Hip-Hop%2FRap": "/", "happy-c-pop?genres%3DC-Pop%26moods%3DHappy": "C-Pop", "sad-piano?genres%3DPiano%26moods%3DSad": "", "yacht-rock?genres%3DYacht+Rock": "", "industrial-metal?genres%3DIndustrial+Metal": "", "bengali?genres%3DBengali": "", "khaleeji-pop?genres%3DKhaleeji+Pop": "", "1970s-music?eras%3D1970s": "1970", "afro-pop?genres%3DAfro-Pop": "", "afrikaans?genres%3DAfrikaans": "", "sambas-de-enredo?genres%3DSambas+de+enredo": "", "tv-drama?genres%3DTV+Drama": "TV", "indie-en-espaol?genres%3DIndie+en+Espa%C3%B1ol": "", "chill-ambient?genres%3DAmbient%26moods%3DChill": "", "orchestral?genres%3DOrchestral": "", "indian?genres%3DIndian": "", "classic-soul?genres%3DClassic+Soul": "", "happy-1980s-music?moods%3DHappy%26eras%3D1980s": "1980", "israeli-alternative?genres%3DIsraeli+Alternative": "" }, "en-us": { "chinese?genres%3DChinese": "Chinese", "devotional-&-spiritual?genres%3DDevotional+%26+Spiritual": "Devotional & Spiritual", "vocaloid?genres%3DVocaloid": "Vocaloid", "rockabilly?genres%3DRockabilly": "Rockabilly", "motivated-holiday?genres%3DHoliday%26moods%3DMotivated": "Motivated Holiday", "cumbia?genres%3DCumbia": "Cumbia", "surf?genres%3DSurf": "Surf", "romantic-era?genres%3DRomantic+Era": "Romantic Era", "jungle?genres%3DJungle": "Jungle", "motivated-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DMotivated": "Motivated Hip-Hop / Rap", "australian-pub-rock?genres%3DAustralian+Pub+Rock": "Australian Pub Rock", "alternative?genres%3DAlternative": "Alternative", "doo-wop?genres%3DDoo+Wop": "Doo Wop", "1970s-funk?genres%3DFunk%26eras%3D1970s": "1970s Funk", "contemporary-jazz?genres%3DContemporary+Jazz": "Contemporary Jazz", "extreme-metal?genres%3DExtreme+Metal": "Extreme Metal", "1970s-oldies?genres%3DOldies%26eras%3D1970s": "1970s Oldies", "brazilian?genres%3DBrazilian": "Brazilian", "trap?genres%3DTrap": "Trap", "1980s-holiday?genres%3DHoliday%26eras%3D1980s": "1980s Holiday", "trance?genres%3DTrance": "Trance", "k-rock?genres%3DK-Rock": "K-Rock", "pop-for-working-out?genres%3DPop%26tags%3DWorkout": "Pop for Working Out", "r&b?genres%3DR%26B": "R&B", "caribbean?genres%3DCaribbean": "Caribbean", "screamo?genres%3DScreamo": "Screamo", "bollywood?genres%3DBollywood": "Bollywood", "russian?genres%3DRussian": "Russian", "progressive-house?genres%3DProgressive+House": "Progressive House", "detroit-techno?genres%3DDetroit+Techno": "Detroit Techno", "classical-for-focusing?genres%3DClassical%26tags%3DFocusing": "Classical for Focusing", "honky-tonk?genres%3DHonky+Tonk": "Honky Tonk", "hair-metal?genres%3DHair+Metal": "Hair Metal", "rock?genres%3DRock": "Rock", "christian?genres%3DChristian": "Christian", "classic-singer-songwriter?genres%3DClassic+Singer%2FSongwriter": "Classic Singer / Songwriter", "rave?genres%3DRave": "Rave", "forr?genres%3DForr%C3%B3": "Forr", "bashment?genres%3DBashment": "Bashment", "cloud-rap?genres%3DCloud+Rap": "Cloud Rap", "cooldown?tags%3DCooldown": "Cooldown", "christian-rap?genres%3DChristian+Rap": "Christian Rap", "2000s-alternative?genres%3DAlternative%26eras%3D2000s": "2000s Alternative", "1990s-rock?genres%3DRock%26eras%3D1990s": "1990s Rock", "idol--anime?genres%3DIdol%3A+Anime": "Idol: Anime", "dixieland?genres%3DDixieland": "Dixieland", "russian-pop?genres%3DRussian+Pop": "Russian Pop", "golden-age-hip-hop?genres%3DGolden+Age": " Golden Age Hip-Hop", "focusing?tags%3DFocusing": "Focusing", "indian-independent?genres%3DIndian+Independent": "Indian Independent", "canadian?genres%3DCanadian": "Canadian", "1970s-music-for-partying?tags%3DParty%26eras%3D1970s": "1970s Music for Partying", "southern-gospel?genres%3DSouthern+Gospel": "Southern Gospel", "trap-latino?genres%3DTrap+Latino": "Trap Latino", "latino?genres%3DLatino": "Latino", "russian-chanson?genres%3DRussian+Chanson": "Russian Chanson", "sanat?genres%3DSanat": "Sanat", "chill-acoustic?genres%3DAcoustic%26moods%3DChill": "Chill Acoustic", "alternative-rap?genres%3DAlternative+Rap": "Alternative Rap", "chill-indie?genres%3DIndie%26moods%3DChill": "Chill Indie", "1990s-dance?genres%3DDance%26eras%3D1990s": "1990s Dance", "indie?genres%3DIndie": "Indie", "1970s-disco?genres%3DDisco%26eras%3D1970s": "1970s Disco", "hardcore-punk?genres%3DHardcore+Punk": "Hardcore Punk", "hip-hop-rap-italiano?genres%3DHip-Hop%2FRap+Italiano": "Hip-Hop / Rap Italiano", "sad-music?moods%3DSad": "Sad Music", "chill-electronica?genres%3DElectronica%26moods%3DChill": "Chill Electronica", "pop?genres%3DPop": "Pop", "lounge?genres%3DLounge": "Lounge", "psychobilly?genres%3DPsychobilly": "Psychobilly", "electronic-for-working-out?genres%3DElectronic%26tags%3DWorkout": "Electronic for Working Out", "chill-dance?genres%3DDance%26moods%3DChill": "Chill Dance", "latin-jazz?genres%3DLatin+Jazz": "Latin Jazz", "boleros?genres%3DBoleros": "Boleros", "r&b-for-working-out?genres%3DR%26B%26tags%3DWorkout": "R&B for Working Out", "hip-hop-rap?genres%3DHip-Hop%2FRap": "Hip-Hop / Rap", "motivated-c-pop?genres%3DC-Pop%26moods%3DMotivated": "Motivated C-Pop", "1990s-r&b?genres%3DR%26B%26eras%3D1990s": "1990s R&B", "oldies?genres%3DOldies": "Oldies", "jazz?genres%3DJazz": "Jazz", "acoustic?genres%3DAcoustic": "Acoustic", "chill-nature?genres%3DNature%26moods%3DChill": "Chill Nature", "singer-songwriter?genres%3DSinger%2FSongwriter": "Singer / Songwriter", "punk?genres%3DPunk": "Punk", "motivated-music?moods%3DMotivated": "Motivated Music", "spanish?genres%3DSpanish": "Spanish", "1990s-disco?genres%3DDisco%26eras%3D1990s": "1990s Disco", "paisley-underground?genres%3DPaisley+Underground": "Paisley Underground", "indie-r&b?genres%3DIndie+R%26B": "Indie R&B", "grunge?genres%3DGrunge": "Grunge", "lullabies?genres%3DLullabies": "Lullabies", "classic-metal?genres%3DClassic+Metal": "Classic Metal", "arabic?genres%3DArabic": "Arabic", "worldbeat?genres%3DWorldbeat": "Worldbeat", "southern-rock?genres%3DSouthern+Rock": "Southern Rock", "german?genres%3DGerman": "German", "1980s-music-for-partying?tags%3DParty%26eras%3D1980s": "1980s Music for Partying", "sad-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DSad": "Sad Hip-Hop / Rap", "piano-for-meditation?genres%3DPiano%26tags%3DMeditation": "Piano for Meditating", "french?genres%3DFrench": "French", "doom?genres%3DDoom": "Doom", "country?genres%3DCountry": "Country", "south-american?genres%3DSouth+American": "South American", "instrumental?genres%3DInstrumental": "Instrumental", "mizrahi?genres%3DMizrahi": "Mizrahi", "hyphy?genres%3DHyphy": "Hyphy", "post-grunge?genres%3DPost-Grunge": "Post-Grunge", "portuguese?genres%3DPortuguese": "Portuguese", "working-out?tags%3DWorkout": "Working Out", "balearic?genres%3DBalearic": "Balearic", "upbeat-music?moods%3DUpbeat": "Upbeat Music", "arabic-pop?genres%3DArabic+Pop": "Arabic Pop", "holiday-for-partying?genres%3DHoliday%26tags%3DParty": "Holiday for Partying", "belgian?genres%3DBelgian": "Belgian", "meditation?tags%3DMeditation": "Meditating", "j-rock?genres%3DJ-Rock": "J-Rock", "happy-music-for-partying?tags%3DParty%26moods%3DHappy": "Happy Music for Partying", "karaoke?genres%3DKaraoke": "Karaoke", "british-metal?genres%3DBritish+Metal": "British Metal", "russian-rock?genres%3DRussian+Rock": "Russian Rock", "dance-for-working-out?genres%3DDance%26tags%3DWorkout": "Dance for Working Out", "french-touch?genres%3DFrench+Touch": "French Touch", "chill-music-for-partying?tags%3DParty%26moods%3DChill": "Chill Music for Partying", "motivated-pop?genres%3DPop%26moods%3DMotivated": "Motivated Pop", "metal?genres%3DMetal": "Metal", "vietnamese?genres%3DVietnamese": "Vietnamese", "mpb?genres%3DMPB": "MPB", "cubaton?genres%3DCubaton": "Cubaton", "dance?genres%3DDance": "Dance", "1990s-indie?genres%3DIndie%26eras%3D1990s": "1990s Indie", "choral?genres%3DChoral": "Choral", "sludge?genres%3DSludge": "Sludge", "soca?genres%3DSoca": "Soca", "salsa?genres%3DSalsa": "Salsa", "1980s-dance?genres%3DDance%26eras%3D1980s": "1980s Dance", "power-pop?genres%3DPower+Pop": "Power Pop", "new-wave?genres%3DNew+Wave": "New Wave", "arena-rock?genres%3DArena+Rock": "Arena Rock", "aussie-hip-hop-rap?genres%3DAussie+Hip-Hop%2FRap": "Aussie Hip-Hop / Rap", "new-age?genres%3DNew+Age": "New Age", "1990s-bollywood?genres%3DBollywood%26eras%3D1990s": "1990s Bollywood", "merengue?genres%3DMerengue": "Merengue", "delta-blues?genres%3DDelta+Blues": "Delta Blues", "scottish?genres%3DScottish": "Scottish", "thai-pop?genres%3DThai+Pop": "Thai Pop", "khaleeji-tarab?genres%3DKhaleeji+Tarab": "Khaleeji Tarab", "vallenato?genres%3DVallenato": "Vallenato", "happy-dance?genres%3DDance%26moods%3DHappy": "Happy Dance", "1990s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D1990s": "1990s Hip-Hop / Rap", "saxophone?genres%3DSaxophone": "Saxophone", "msica-mexicana?genres%3DM%C3%BAsica+Mexicana": "Msica Mexicana", "chinese-alt?genres%3DChinese+Alt": "Chinese Alt", "afrobeats?genres%3DAfrobeats": "Afrobeats", "calypso?genres%3DCalypso": "Calypso", "miami-bass?genres%3DMiami+Bass": "Miami Bass", "tango?genres%3DTango": "Tango", "sleep?tags%3DSleep": "Sleep", "happy-pop?genres%3DPop%26moods%3DHappy": "Happy Pop", "pagode?genres%3DPagode": "Pagode", "j-hip-hop?genres%3DJ-Hip-Hop": "J-Hip-Hop", "1990s-techno?genres%3DTechno%26eras%3D1990s": "1990s Techno", "electronic?genres%3DElectronic": "Electronic", "alternativo-en-espaol?genres%3DAlternativo+en+Espa%C3%B1ol": "Alternativo en Espaol", "israeli?genres%3DIsraeli": "Israeli", "1980s-alternative?genres%3DAlternative%26eras%3D1980s": "1980s Alternative", "roots-rock?genres%3DRoots+Rock": "Roots Rock", "entertaining?tags%3DEntertaining": "Entertaining", "uk-garage?genres%3DUK+Garage": "UK Garage", "tai-pop?genres%3DTai-Pop": "Tai-Pop", "funk?genres%3DFunk": "Funk", "mandopop?genres%3DMandopop": "Mandopop", "1970s-rock?genres%3DRock%26eras%3D1970s": "1970s Rock", "piano?genres%3DPiano": "Piano", "fusion-jazz?genres%3DFusion+Jazz": "Fusion Jazz", "1980s-soul?genres%3DSoul%26eras%3D1980s": "1980s Soul", "reggaeton?genres%3DReggaeton": "Reggaeton", "malaysian-music?genres%3DMalaysian+Music": "Malaysian Music", "korean?genres%3DKorean": "Korean", "instrumental-for-meditation?genres%3DInstrumental%26tags%3DMeditation": "Instrumental for Meditating", "lullabies-for-meditation?genres%3DLullabies%26tags%3DMeditation": "Lullabies for Meditating", "chinese-rock?genres%3DChinese+Rock": "Chinese Rock", "nueva-cancin?genres%3DNueva+Canci%C3%B3n": "Nueva Cancin", "schlager?genres%3DSchlager": "Schlager", "psych-rock?genres%3DPsych+Rock": "Psych Rock", "1990s-metal?genres%3DMetal%26eras%3D1990s": "1990s Metal", "soul-jazz?genres%3DSoul+Jazz": "Soul Jazz", "new-music?eras%3DNew": "New Music", "film,-tv-&-stage?genres%3DStage+and+Screen": "Film, TV & Stage", "rock-en-espaol?genres%3DRock+en+Espa%C3%B1ol": "Rock en Espaol", "rancheras?genres%3DRancheras": "Rancheras", "goth?genres%3DGoth": "Goth", "1990s-country?genres%3DCountry%26eras%3D1990s": "1990s Country", "indie-pop?genres%3DIndie+Pop": "Indie Pop", "dirty-south?genres%3DDirty+South": "Dirty South", "chicago-blues?genres%3DChicago+Blues": "Chicago Blues", "indie-dance?genres%3DIndie+Dance": "Indie Dance", "garage?genres%3DGarage": "Garage", "banda?genres%3DBanda": "Banda", "turkish?genres%3DTurkish": "Turkish", "k-hip-hop?genres%3DK+Hip-Hop%2FRap": " K-Hip-Hop", "1970s-r&b?genres%3DR%26B%26eras%3D1970s": "1970s R&B", "underground-hip-hop-rap?genres%3DUnderground+Hip-Hop%2FRap": "Underground Hip-Hop / Rap", "c-pop?genres%3DC-Pop": "C-Pop", "relaxation-for-meditation?genres%3DRelaxation%26tags%3DMeditation": "Relaxation for Meditating", "alt-rock?genres%3DAlt+Rock": "Alt Rock", "requinto?genres%3DRequinto": "Requinto", "lovers-rock?genres%3DLovers+Rock": "Lovers Rock", "bachata?genres%3DBachata": "Bachata", "country-rock?genres%3DCountry+Rock": "Country Rock", "techno?genres%3DTechno": "Techno", "motivated-jazz?genres%3DJazz%26moods%3DMotivated": "Motivated Jazz", "modern-era?genres%3DModern+Era": "Modern Era", "kayokyoku?genres%3DKayokyoku": "Kayokyoku", "chill-1970s-music?moods%3DChill%26eras%3D1970s": "Chill 1970s Music", "christmas?genres%3DChristmas": "Christmas", "k-pop-for-working-out?genres%3DK-Pop%26tags%3DWorkout": "K-Pop for Working Out", "dancehall?genres%3DDancehall": "Dancehall", "1970s-music-for-working-out?tags%3DWorkout%26eras%3D1970s": "1970s Music for Working Out", "chill-holiday?genres%3DHoliday%26moods%3DChill": "Chill Holiday", "disney?genres%3DDisney": "Disney", "afro-swing?genres%3DAfro-Swing": "Afro-Swing", "chill-electronic?genres%3DElectronic%26moods%3DChill": "Chill Electronic", "blues?genres%3DBlues": "Blues", "acid-house?genres%3DAcid+House": "Acid House", "2000s-country?genres%3DCountry%26eras%3D2000s": "2000s Country", "sad-bollywood?genres%3DBollywood%26moods%3DSad": "Sad Bollywood", "black-metal?genres%3DBlack+Metal": "Black Metal", "happy-music?moods%3DHappy": "Happy Music", "grindcore?genres%3DGrindcore": "Grindcore", "1970s-dance?genres%3DDance%26eras%3D1970s": "1970s Dance", "1980s-rock?genres%3DRock%26eras%3D1980s": "1980s Rock", "emo?genres%3DEMO": "Emo", "praise-&-worship?genres%3DPraise+%26+Worship": "Praise & Worship", "holiday?genres%3DHoliday": "Holiday", "chill-instrumental?genres%3DInstrumental%26moods%3DChill": "Chill Instrumental", "chamber-music?genres%3DChamber+Music": "Chamber Music", "dad-rock?genres%3DDad+Rock": "Dad Rock", "chill-music?moods%3DChill": "Chill Music", "1970s-pop?genres%3DPop%26eras%3D1970s": "1970s Pop", "cool-jazz?genres%3DCool+Jazz": "Cool Jazz", "1990s-dancehall?genres%3DDancehall%26eras%3D1990s": "1990s Dancehall", "german-folk?genres%3DGerman+Folk": "German Folk", "norteo?genres%3DNorte%C3%B1o": "Norteo", "hard-bop?genres%3DHard+Bop": "Hard Bop", "electronica?genres%3DElectronica": "Electronica", "partying?tags%3DParty": "Partying", "holiday-for-entertaining?genres%3DHoliday%26tags%3DEntertaining": "Holiday for Entertaining", "instrumental-for-focusing?genres%3DInstrumental%26tags%3DFocusing": "Instrumental for Focusing", "third-wave-ska?genres%3DThird+Wave+Ska": "Third Wave Ska", "bollywood-for-partying?genres%3DBollywood%26tags%3DParty": "Bollywood for Partying", "enka?genres%3DEnka": "Enka", "crunk?genres%3DCrunk": "Crunk", "1990s-punk?genres%3DPunk%26eras%3D1990s": "1990s Punk", "2010s-music?eras%3D2010s": "2010s Music", "1980s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D1980s": "1980s Hip-Hop / Rap", "alternative-metal?genres%3DAlternative+Metal": "Alternative Metal", "classic-house?genres%3DClassic+House": "Classic House", "bass?genres%3DBass": "Bass", "house?genres%3DHouse": "House", "british-invasion?genres%3DBritish+Invasion": "British Invasion", "pop-latino?genres%3DPop+Latino": "Latin Pop", "christian-country?genres%3DChristian+Country": "Christian Country", "ax?genres%3DAx%C3%A9": "Ax", "french-varit?genres%3DFrench+Vari%C3%A9t%C3%A9": "French Varit", "indian-pop?genres%3DIndian+Pop": "Indian Pop", "chill-1980s-music?moods%3DChill%26eras%3D1980s": "Chill 1980s Music", "1980s-disco?genres%3DDisco%26eras%3D1980s": "1980s Disco", "urbano-latino?genres%3DUrbano+Latino": "Urbano Latino", "1990s-reggae?genres%3DReggae%26eras%3D1990s": "1990s Reggae", "k-indie?genres%3DK-Indie": "K-Indie", "motivated-music-for-meditation?tags%3DMeditation%26moods%3DMotivated": "Motivated Music for Meditating", "bebop?genres%3DBebop": "Bebop", "prog-rock?genres%3DProg-Rock": "Prog-Rock", "israeli-pop?genres%3DIsraeli+Pop": "Israeli Pop", "new-romantic?genres%3DNew+Romantic": "New Romantic", "bossa-nova?genres%3DBossa+Nova": "Bossa Nova", "1980s-r&b?genres%3DR%26B%26eras%3D1980s": "1980s R&B", "sad-instrumental?genres%3DInstrumental%26moods%3DSad": "Sad Instrumental", "australian-country?genres%3DAustralian+Country": "Australian Country", "thrash-metal?genres%3DThrash+Metal": "Thrash Metal", "post-rock?genres%3DPost-Rock": "Post-Rock", "dubstep?genres%3DDubstep": "Dubstep", "adult-urban-contemporary?genres%3DAdult+Urban+Contemporary": "Adult Urban Contemporary", "hard-rock?genres%3DHard+Rock": "Hard Rock", "1980s-pop?genres%3DPop%26eras%3D1980s": "1980s Pop", "motivated-1950s-music?moods%3DMotivated%26eras%3D1950s": "Motivated 1950s Music", "japanese?genres%3DJapanese": "Japanese", "metalcore?genres%3DMetalcore": "Metalcore", "hip-hop-rap-for-partying?genres%3DHip-Hop%2FRap%26tags%3DParty": "Hip-Hop / Rap for Partying", "happy-new-music?moods%3DHappy%26eras%3DNew": "Happy New Music", "post-punk?genres%3DPost-Punk": "Post-Punk", "khaleeji?genres%3DKhaleeji": "Khaleeji", "downtempo?genres%3DDowntempo": "Downtempo", "flamenco?genres%3DFlamenco": "Flamenco", "chillwave?genres%3DChillwave": "Chillwave", "classic-blues?genres%3DClassic+Blues": "Classic Blues", "chill-jazz?genres%3DJazz%26moods%3DChill": "Chill Jazz", "israeli-rock?genres%3DIsraeli+Rock": "Israeli Rock", "dub?genres%3DDub": "Dub", "bluegrass?genres%3DBluegrass": "Bluegrass", "2010s-country?genres%3DCountry%26eras%3D2010s": "2010s Country", "chill-country?genres%3DCountry%26moods%3DChill": "Chill Country", "traditional-country?genres%3DTraditional+Country": "Traditional Country", "1960s-country?genres%3DCountry%26eras%3D1960s": "1960s Country", "hawaiian?genres%3DHawaiian": "Hawaiian", "experimental?genres%3DExperimental": "Experimental", "country-for-partying?genres%3DCountry%26tags%3DParty": "Country for Partying", "stoner-rock?genres%3DStoner+Rock": "Stoner Rock", "gospel?genres%3DGospel": "Gospel", "2010s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D2010s": "2010s Hip-Hop / Rap", "classical?genres%3DClassical": "Classical", "chill-music-for-focusing?tags%3DFocusing%26moods%3DChill": "Chill Music for Focusing", "1970s-country?genres%3DCountry%26eras%3D1970s": "1970s Country", "strings?genres%3DStrings": "Strings", "jazz-for-entertaining?genres%3DJazz%26tags%3DEntertaining": "Jazz for Entertaining", "1960s-music-for-entertaining?tags%3DEntertaining%26eras%3D1960s": "1960s Music for Entertaining", "smooth-jazz?genres%3DSmooth+Jazz": "Smooth Jazz", "soul?genres%3DSoul": "Soul", "grime?genres%3DGrime": "Grime", "freestyle?genres%3DFreestyle": "Freestyle", "rock-in-portuguese?genres%3DRock+in+Portuguese": "Rock in Portuguese", "happy-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DHappy": "Happy Hip-Hop / Rap", "jangle-pop?genres%3DJangle+Pop": "Jangle Pop", "2000s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D2000s": "2000s Hip-Hop / Rap", "new-jack-swing?genres%3DNew+Jack+Swing": "New Jack Swing", "australian?genres%3DAustralian": "Australian", "dutch-pop?genres%3DDutch+Pop": "Dutch Pop", "jam-bands?genres%3DJam+Bands": "Jam Bands", "comedy?genres%3DComedy": "Comedy", "nu-metal?genres%3DNu+Metal": "Nu Metal", "blackgaze?genres%3DBlackgaze": "Blackgaze", "chill-lounge?genres%3DLounge%26moods%3DChill": "Chill Lounge", "chill-piano?genres%3DPiano%26moods%3DChill": "Chill Piano", "1960s-music?eras%3D1960s": "1960s Music", "classic-hip-hop-rap?genres%3DClassic+Hip-Hop%2FRap": "Classic Hip-Hop/Rap", "gangsta-rap?genres%3DGangsta+Rap": "Gangsta Rap", "1970s-folk?genres%3DFolk%26eras%3D1970s": "1970s Folk", "romantic---in-love-music?moods%3DRomantic+%2F+In+Love": "Romantic / In Love Music", "edm?genres%3DEDM": "EDM", "pop-italiano?genres%3DPop+Italiano": "Pop Italiano", "idm?genres%3DIDM": "IDM", "malayalam?genres%3DMalayalam": "Malayalam", "angry-music?moods%3DAngry": "Angry Music", "motivated-classical?genres%3DClassical%26moods%3DMotivated": "Motivated Classical", "1980s-music?eras%3D1980s": "1980s Music", "chill-dubstep?genres%3DDubstep%26moods%3DChill": "Chill Dubstep", "chinese-hip-hop?genres%3DChinese+Hip-Hop": "Chinese Hip-Hop", "musique-francophone?genres%3DMusique+Francophone": "Musique Francophone", "k-pop?genres%3DK-Pop": "K-Pop", "tropical-house?genres%3DTropical+House": "Tropical House", "broken-beat?genres%3DBroken+Beat": "Broken Beat", "chill-new-music?moods%3DChill%26eras%3DNew": "Chill New Music", "happy-jazz?genres%3DJazz%26moods%3DHappy": "Happy Jazz", "easy-listening?genres%3DEasy+Listening": "Easy Listening", "2000s-music?eras%3D2000s": "2000s Music", "1980s-country?genres%3DCountry%26eras%3D1980s": "1980s Country", "arabesque?genres%3DArabesque": "Arabesque", "motivated-music-for-focusing?tags%3DFocusing%26moods%3DMotivated": "Motivated Music for Focusing", "british?genres%3DBritish": "British", "chill-lullabies?genres%3DLullabies%26moods%3DChill": "Chill Lullabies", "breaking-up?tags%3DBreaking+Up": "Breaking Up", "sad-country?genres%3DCountry%26moods%3DSad": "Sad Country", "2000s-rock?genres%3DRock%26eras%3D2000s": "2000s Rock", "chicago-house?genres%3DChicago+House": "Chicago House", "classic-punk?genres%3DClassic+Punk": "Classic Punk", "ambient?genres%3DAmbient": "Ambient", "tololoche?genres%3DTololoche": "Tololoche", "cantautori?genres%3DCantautori": "Cantautori", "samba?genres%3DSamba": "Samba", "minimalism?genres%3DMinimalism": "Minimalism", "mariachi?genres%3DMariachi": "Mariachi", "corridos?genres%3DCorridos": "Corridos", "motivated-music-for-working-out?tags%3DWorkout%26moods%3DMotivated": "Motivated Music for Working Out", "1960s-pop?genres%3DPop%26eras%3D1960s": "1960s Pop", "cantopop?genres%3DCantopop": "Cantopop", "polka?genres%3DPolka": "Polka", "new-years-eve?genres%3DNew+Year%27s+Eve": "New Year's Eve", "chill-classical?genres%3DClassical%26moods%3DChill": "Chill Classical", "marchinhas?genres%3DMarchinhas": "Marchinhas", "trova?genres%3DTrova": "Trova", "deep-house?genres%3DDeep+House": "Deep House", "chill-music-for-entertaining?tags%3DEntertaining%26moods%3DChill": "Chill Music for Entertaining", "folktronica?genres%3DFolktronica": "Folktronica", "neo-soul?genres%3DNeo-Soul": "Neo-Soul", "chill-reggae?genres%3DReggae%26moods%3DChill": "Chill Reggae", "rakugo?genres%3DRakugo": "Rakugo", "disco?genres%3DDisco": "Disco", "rock-for-partying?genres%3DRock%26tags%3DParty": "Rock for Partying", "electric-blues?genres%3DElectric+Blues": "Electric Blues", "1990s-alternative?genres%3DAlternative%26eras%3D1990s": "1990s Alternative", "classical-for-meditation?genres%3DClassical%26tags%3DMeditation": "Classical for Meditating", "ghazals?genres%3DGhazals": "Ghazals", "1950s-music?eras%3D1950s": "1950s Music", "east-coast?genres%3DEast+Coast": "East Coast", "1970s-soul?genres%3DSoul%26eras%3D1970s": "1970s Soul", "2000s-r&b?genres%3DR%26B%26eras%3D2000s": "2000s R&B", "swiss-rap?genres%3DSwiss-Rap": "Swiss-Rap", "afro-beat?genres%3DAfro-Beat": "Afro-Beat", "1990s-pop?genres%3DPop%26eras%3D1990s": "1990s Pop", "uk-hip-hop-rap?genres%3DUK+Hip-Hop%2FRap": "UK Hip-Hop / Rap", "punjabi?genres%3DPunjabi": "Punjabi", "1980s-metal?genres%3DMetal%26eras%3D1980s": "1980s Metal", "nature?genres%3DNature": "Nature", "sertanejo?genres%3DSertanejo": "Sertanejo", "coffee-shop?genres%3DCoffee+Shop": "Coffee Shop", "hip-hop-rap-for-working-out?genres%3DHip-Hop%2FRap%26tags%3DWorkout": "Hip-Hop / Rap for Working Out", "contemporary-blues?genres%3DContemporary+Blues": "Today's Blues", "rock-for-working-out?genres%3DRock%26tags%3DWorkout": "Rock for Working Out", "j-pop?genres%3DJ-Pop": "J-Pop", "anime?genres%3DAnime": "Anime", "african-music?genres%3DAfrican+Music": "African Music", "outlaw-country?genres%3DOutlaw+Country": "Outlaw Country", "tamil?genres%3DTamil": "Tamil", "hrspiele?genres%3DH%C3%B6rspiele": "Radio Drama", "kids-&-family?genres%3DKids+%26+Family": "Kids & Family", "christian-rock?genres%3DChristian+Rock": "Christian Rock", "baile-funk?genres%3DBaile+Funk": "Baile Funk", "russian-hip-hop?genres%3DRussian+Hip-Hop": "Russian Hip-Hop", "deutschpop?genres%3DDeutschpop": "Deutschpop", "adult-contemporary?genres%3DAdult+Contemporary": "Adult Contemporary", "motivated-acoustic?genres%3DAcoustic%26moods%3DMotivated": "Motivated Acoustic", "chill-christian?genres%3DChristian%26moods%3DChill": "Chill Christian", "levant-pop?genres%3DLevant+Pop": "Levant Pop", "pop-punk?genres%3DPop+Punk": "Pop Punk", "contemporary-gospel?genres%3DContemporary+Gospel": "Contemporary Gospel", "sad-classical?genres%3DClassical%26moods%3DSad": "Sad Classical", "opera?genres%3DOpera": "Opera", "motown?genres%3DMotown": "Motown", "chill-relaxation?genres%3DRelaxation%26moods%3DChill": "Chill Relaxation", "1990s-music?eras%3D1990s": "1990s Music", "synth-pop?genres%3DSynth-Pop": "Synth-Pop", "happy-holiday?genres%3DHoliday%26moods%3DHappy": "Happy Holiday", "dangdut?genres%3DDangdut": "Dangdut", "chill-rock?genres%3DRock%26moods%3DChill": "Chill Rock", "swiss-pop?genres%3DSwiss-Pop": "Swiss-Pop", "duranguense?genres%3DDuranguense": "Duranguense", "avant-garde-jazz?genres%3DAvant-Garde+Jazz": "Avant-Garde Jazz", "thai-music?genres%3DThai+Music": "Thai Music", "electro?genres%3DElectro": "Electro", "indian-classical?genres%3DIndian+Classical": "Indian Classical", "egyptian-pop?genres%3DEgyptian+Pop": "Egyptian Pop", "romantic-music?moods%3DRomantic": "Romantic Music", "darkwave?genres%3DDarkWave": "Dark Wave", "baroque-era?genres%3DBaroque+Era": "Baroque Era", "2000s-pop?genres%3DPop%26eras%3D2000s": "2000s Pop", "quiet-storm?genres%3DQuiet+Storm": "Quiet Storm", "pop-in-portuguese?genres%3DPop+in+Portuguese": "Pop in Portuguese", "teen-pop?genres%3DTeen+Pop": "Teen Pop", "adult-alternative?genres%3DAdult+Alternative": "Adult Alternative", "hip-hop-en-espaol?genres%3DHip-Hop+en+Espa%C3%B1ol": "Hip-Hop en Espaol", "chill-trance?genres%3DTrance%26moods%3DChill": "Chill Trance", "chill-music-for-meditation?tags%3DMeditation%26moods%3DChill": "Chill Music for Meditating", "motivated-instrumental?genres%3DInstrumental%26moods%3DMotivated": "Motivated Instrumental", "1990s-music-for-working-out?tags%3DWorkout%26eras%3D1990s": "1990s Music for Working Out", "jazz-for-focusing?genres%3DJazz%26tags%3DFocusing": "Jazz for Focusing", "traditional-folk?genres%3DTraditional+Folk": "Traditional Folk", "americana?genres%3DAmericana": "Americana", "motivated-country?genres%3DCountry%26moods%3DMotivated": "Motivated Country", "2000s-dance?genres%3DDance%26eras%3D2000s": "2000s Dance", "soft-rock?genres%3DSoft+Rock": "Soft Rock", "1990s-music-for-partying?tags%3DParty%26eras%3D1990s": "1990s Music for Partying", "1960s-rock?genres%3DRock%26eras%3D1960s": "1960s Rock", "shoegaze?genres%3DShoegaze": "Shoegaze", "french-pop?genres%3DFrench+Pop": "French Pop", "death-metal?genres%3DDeath+Metal": "Death Metal", "telugu?genres%3DTelugu": "Telugu", "britpop?genres%3DBritpop": "Britpop", "west-coast?genres%3DWest+Coast": "West Coast", "scores?genres%3DScores": "Scores", "indonesian-music?genres%3DIndonesian+Music": "Indonesian Music", "indie-rock?genres%3DIndie+Rock": "Indie Rock", "diy-punk?genres%3DDIY+Punk": "DIY Punk", "reggae?genres%3DReggae": "Reggae", "jazz-vocal?genres%3DJazz+Vocal": "Jazz Vocal", "microhouse?genres%3DMicrohouse": "Microhouse", "dance-for-partying?genres%3DDance%26tags%3DParty": "Dance for Partying", "mexican?genres%3DMexican": "Mexican", "chill-alternative?genres%3DAlternative%26moods%3DChill": "Chill Alternative", "mod?genres%3DMod": "Mod", "big-band?genres%3DBig+Band": "Big Band", "dutch?genres%3DDutch": "Dutch", "conscious-hip-hop?genres%3DConscious+Hip-Hop": "Conscious Hip-Hop", "fado?genres%3DFado": "Fado", "standards?genres%3DStandards": "Standards", "old-school-hip-hop?genres%3DOld+School": " Old School Hip-Hop", "renaissance?genres%3DRenaissance": "Renaissance", "relaxation?genres%3DRelaxation": "Relaxation", "regional-indian?genres%3DRegional+Indian": "Regional Indian", "getting-it-on?tags%3DGetting+It+On": "Getting It On", "k-r&b?genres%3DK-R%26B": "K-R&B", "1990s-grunge?genres%3DGrunge%26eras%3D1990s": "1990s Grunge", "college-rock?genres%3DCollege+Rock": "College Rock", "1970s-acoustic?genres%3DAcoustic%26eras%3D1970s": "1970s Acoustic", "1950s-jazz?genres%3DJazz%26eras%3D1950s": "1950s Jazz", "christian-pop?genres%3DChristian+Pop": "Christian Pop", "1950s-rock?genres%3DRock%26eras%3D1950s": "1950s Rock", "idol?genres%3DIdol": "Idol", "ragtime?genres%3DRagtime": "Ragtime", "swiss?genres%3DSwiss": "Swiss", "1980s-bollywood?genres%3DBollywood%26eras%3D1980s": "1980s Bollywood", "j-r&b?genres%3DJ-R%26B": "J-R&B", "classic-rock?genres%3DClassic+Rock": "Classic Rock", "halk?genres%3DHalk": "Halk", "celtic?genres%3DCeltic": "Celtic", "classic-country?genres%3DClassic+Country": "Classic Country", "nature-for-meditation?genres%3DNature%26tags%3DMeditation": "Nature for Meditating", "folk?genres%3DFolk": "Folk", "chill-house?genres%3DHouse%26moods%3DChill": "Chill House", "ska?genres%3DSka": "Ska", "dance-punk?genres%3DDance-Punk": "Dance-Punk", "chill-pop?genres%3DPop%26moods%3DChill": "Chill Pop", "1960s-soul?genres%3DSoul%26eras%3D1960s": "1960s Soul", "2010s-pop?genres%3DPop%26eras%3D2010s": "2010s Pop", "chill-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DChill": "Chill Hip-Hop / Rap", "pop-for-partying?genres%3DPop%26tags%3DParty": "Pop for Partying", "modern-dancehall?genres%3DModern+Dancehall": "Modern Dancehall", "glam-rock?genres%3DGlam+Rock": "Glam Rock", "rocksteady?genres%3DRocksteady": "Rocksteady", "irish?genres%3DIrish": "Irish", "roots-reggae?genres%3DRoots+Reggae": "Roots Reggae", "alt-country?genres%3DAlt+Country": "Alt Country", "halloween?genres%3DHalloween": "Halloween", "kannada?genres%3DKannada": "Kannada", "deutsche-streetrap?genres%3DDeutsche+Streetrap": "Deutsche Streetrap", "folk-rock?genres%3DFolk-Rock": "Folk-Rock", "pinoy-pop?genres%3DPinoy+Pop": "Pinoy Pop", "tarab?genres%3DTarab": "Tarab", "dutch-hip-hop?genres%3DDutch+Hip-Hop": "Dutch Hip-Hop", "family-time?tags%3DFamily+Time": "Family Time", "musicals?genres%3DMusicals": "Musicals", "chill-r&b?genres%3DR%26B%26moods%3DChill": "Chill R&B", "french-hip-hop-rap?genres%3DFrench+Hip-Hop%2FRap": "French Hip-Hop / Rap", "happy-c-pop?genres%3DC-Pop%26moods%3DHappy": "Happy C-Pop", "sad-piano?genres%3DPiano%26moods%3DSad": "Sad Piano", "yacht-rock?genres%3DYacht+Rock": "Yacht Rock", "industrial-metal?genres%3DIndustrial+Metal": "Industrial Metal", "bengali?genres%3DBengali": "Bengali", "khaleeji-pop?genres%3DKhaleeji+Pop": "Khaleeji Pop", "1970s-music?eras%3D1970s": "1970s Music", "afro-pop?genres%3DAfro-Pop": "Afro-Pop", "afrikaans?genres%3DAfrikaans": "Afrikaans", "sambas-de-enredo?genres%3DSambas+de+enredo": "Sambas De Enredo", "tv-drama?genres%3DTV+Drama": "TV Drama", "indie-en-espaol?genres%3DIndie+en+Espa%C3%B1ol": "Indie en Espaol", "chill-ambient?genres%3DAmbient%26moods%3DChill": "Chill Ambient", "orchestral?genres%3DOrchestral": "Orchestral", "indian?genres%3DIndian": "Indian", "classic-soul?genres%3DClassic+Soul": "Classic Soul", "happy-1980s-music?moods%3DHappy%26eras%3D1980s": "Happy 1980s Music", "israeli-alternative?genres%3DIsraeli+Alternative": "Israeli Alternative" } }, Mse = { "fr-fr": { "chinese?genres%3DChinese": "Chinoise", "devotional-&-spiritual?genres%3DDevotional+%26+Spiritual": "Religieuse et spirituelle", "vocaloid?genres%3DVocaloid": "Vocaloid", "rockabilly?genres%3DRockabilly": "Rockabilly", "motivated-holiday?genres%3DHoliday%26moods%3DMotivated": "Atmosphre Se motiver : Vacances", "cumbia?genres%3DCumbia": "Cumbia", "surf?genres%3DSurf": "Surf", "romantic-era?genres%3DRomantic+Era": "Priode romantique", "jungle?genres%3DJungle": "Jungle", "motivated-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DMotivated": "Atmosphre Se motiver : Hip-hop / Rap", "australian-pub-rock?genres%3DAustralian+Pub+Rock": "Pub rock australien", "alternative?genres%3DAlternative": "Alternative", "doo-wop?genres%3DDoo+Wop": "Doo-wop", "1970s-funk?genres%3DFunk%26eras%3D1970s": "Annes70 : Funk", "contemporary-jazz?genres%3DContemporary+Jazz": "Jazz contemporain", "extreme-metal?genres%3DExtreme+Metal": "Metal extrme", "1970s-oldies?genres%3DOldies%26eras%3D1970s": "Annes70 : Chansons inoubliables", "brazilian?genres%3DBrazilian": "Brsilienne", "trap?genres%3DTrap": "Trap", "1980s-holiday?genres%3DHoliday%26eras%3D1980s": "Annes80 : Vacances", "trance?genres%3DTrance": "Trance", "k-rock?genres%3DK-Rock": "Rock coren", "pop-for-working-out?genres%3DPop%26tags%3DWorkout": "Pop : Sentraner", "r&b?genres%3DR%26B": "RnB", "caribbean?genres%3DCaribbean": "Des Antilles", "screamo?genres%3DScreamo": "Screamo", "bollywood?genres%3DBollywood": "Bollywood", "russian?genres%3DRussian": "Russe", "progressive-house?genres%3DProgressive+House": "House progressive", "detroit-techno?genres%3DDetroit+Techno": "Techno de Dtroit", "classical-for-focusing?genres%3DClassical%26tags%3DFocusing": "Classique : Se concentrer", "honky-tonk?genres%3DHonky+Tonk": "Honky tonk", "hair-metal?genres%3DHair+Metal": "Hair metal", "rock?genres%3DRock": "Rock", "christian?genres%3DChristian": "Religieuse", "classic-singer-songwriter?genres%3DClassic+Singer%2FSongwriter": "Auteur-compositeur/Interprte classique", "rave?genres%3DRave": "Rave", "forr?genres%3DForr%C3%B3": "Forr", "bashment?genres%3DBashment": "Bashment", "cloud-rap?genres%3DCloud+Rap": "Cloud rap", "cooldown?tags%3DCooldown": "Relax", "christian-rap?genres%3DChristian+Rap": "Rap chrtien", "2000s-alternative?genres%3DAlternative%26eras%3D2000s": "Annes2000 : Alternative", "1990s-rock?genres%3DRock%26eras%3D1990s": "Annes90 : Rock", "idol--anime?genres%3DIdol%3A+Anime": "Idoles: anime", "dixieland?genres%3DDixieland": "Dixieland", "russian-pop?genres%3DRussian+Pop": "Pop russe", "golden-age-hip-hop?genres%3DGolden+Age": "ge d'or du hip-hop", "focusing?tags%3DFocusing": "Se concentrer", "indian-independent?genres%3DIndian+Independent": "Ind indien", "canadian?genres%3DCanadian": "canadienne", "1970s-music-for-partying?tags%3DParty%26eras%3D1970s": "Annes70 : Faire la fte", "southern-gospel?genres%3DSouthern+Gospel": "Gospel du sud", "trap-latino?genres%3DTrap+Latino": "Trap latino", "latino?genres%3DLatino": "Latino", "russian-chanson?genres%3DRussian+Chanson": "Chanson russe", "sanat?genres%3DSanat": "Sanat", "chill-acoustic?genres%3DAcoustic%26moods%3DChill": "Atmosphre relaxante : Acoustique", "alternative-rap?genres%3DAlternative+Rap": "Rap alternatif", "chill-indie?genres%3DIndie%26moods%3DChill": "Atmosphre relaxante : Ind", "1990s-dance?genres%3DDance%26eras%3D1990s": "Annes90 : Dance", "indie?genres%3DIndie": "Ind", "1970s-disco?genres%3DDisco%26eras%3D1970s": "Annes70 : Disco", "hardcore-punk?genres%3DHardcore+Punk": "Punk hardcore", "hip-hop-rap-italiano?genres%3DHip-Hop%2FRap+Italiano": "Hip-Hop / Rap italien", "sad-music?moods%3DSad": "Musique triste", "chill-electronica?genres%3DElectronica%26moods%3DChill": "Atmosphre relaxante : Electronica", "pop?genres%3DPop": "Pop", "lounge?genres%3DLounge": "Lounge", "psychobilly?genres%3DPsychobilly": "Psychobilly", "electronic-for-working-out?genres%3DElectronic%26tags%3DWorkout": "lectronique : Sentraner", "chill-dance?genres%3DDance%26moods%3DChill": "Atmosphre relaxante : Dance", "latin-jazz?genres%3DLatin+Jazz": "Jazz latino", "boleros?genres%3DBoleros": "Boleros", "r&b-for-working-out?genres%3DR%26B%26tags%3DWorkout": "RnB : Sentraner", "hip-hop-rap?genres%3DHip-Hop%2FRap": "Hip-hop / Rap", "motivated-c-pop?genres%3DC-Pop%26moods%3DMotivated": "Atmosphre Se motiver : C-pop", "1990s-r&b?genres%3DR%26B%26eras%3D1990s": "Annes90 : RnB", "oldies?genres%3DOldies": "Chansons inoubliables", "jazz?genres%3DJazz": "Jazz", "acoustic?genres%3DAcoustic": "Acoustique", "chill-nature?genres%3DNature%26moods%3DChill": "Atmosphre relaxante : Nature", "singer-songwriter?genres%3DSinger%2FSongwriter": "Auteur-compositeur/Interprte", "punk?genres%3DPunk": "Punk", "motivated-music?moods%3DMotivated": "Musique Se motiver", "spanish?genres%3DSpanish": "espagnole", "1990s-disco?genres%3DDisco%26eras%3D1990s": "Annes90 : Disco", "paisley-underground?genres%3DPaisley+Underground": "Paisley underground", "indie-r&b?genres%3DIndie+R%26B": "R&B ind", "grunge?genres%3DGrunge": "Grunge", "lullabies?genres%3DLullabies": "Berceuses", "classic-metal?genres%3DClassic+Metal": "Metal classique", "arabic?genres%3DArabic": "Arabe", "worldbeat?genres%3DWorldbeat": "Worldbeat", "southern-rock?genres%3DSouthern+Rock": "Rock sudiste", "german?genres%3DGerman": "Allemande", "1980s-music-for-partying?tags%3DParty%26eras%3D1980s": "Annes80 : Faire la fte", "sad-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DSad": "Atmosphre triste : Hip-hop / Rap", "piano-for-meditation?genres%3DPiano%26tags%3DMeditation": "Piano : Mditer", "french?genres%3DFrench": "Franaise", "doom?genres%3DDoom": "Doom", "country?genres%3DCountry": "Country", "south-american?genres%3DSouth+American": "Musique sud-amricaine", "instrumental?genres%3DInstrumental": "Instrumentale", "mizrahi?genres%3DMizrahi": "Mizrahi", "hyphy?genres%3DHyphy": "Hyphy", "post-grunge?genres%3DPost-Grunge": "Post-grunge", "portuguese?genres%3DPortuguese": "Musique portugaise", "working-out?tags%3DWorkout": "Sentraner", "balearic?genres%3DBalearic": "Musique des Balares", "upbeat-music?moods%3DUpbeat": "Musique Bonne humeur", "arabic-pop?genres%3DArabic+Pop": "Pop arabe", "holiday-for-partying?genres%3DHoliday%26tags%3DParty": "Vacances : Faire la fte", "belgian?genres%3DBelgian": "belge", "meditation?tags%3DMeditation": "Mditer", "j-rock?genres%3DJ-Rock": "Rock japonais", "happy-music-for-partying?tags%3DParty%26moods%3DHappy": "Musique joyeuse : Faire la fte", "karaoke?genres%3DKaraoke": "Karaok", "british-metal?genres%3DBritish+Metal": "Metal britannique", "russian-rock?genres%3DRussian+Rock": "Rock russe", "dance-for-working-out?genres%3DDance%26tags%3DWorkout": "Dance : Sentraner", "french-touch?genres%3DFrench+Touch": "French touch", "chill-music-for-partying?tags%3DParty%26moods%3DChill": "Musique relaxante : Faire la fte", "motivated-pop?genres%3DPop%26moods%3DMotivated": "Atmosphre Se motiver : Pop", "metal?genres%3DMetal": "Metal", "vietnamese?genres%3DVietnamese": "vietnamienne", "mpb?genres%3DMPB": "MPB (musique populaire brsilienne)", "cubaton?genres%3DCubaton": "Cubaton", "dance?genres%3DDance": "Dance", "1990s-indie?genres%3DIndie%26eras%3D1990s": "Annes90 : Ind", "choral?genres%3DChoral": "Churs", "sludge?genres%3DSludge": "Sludge", "soca?genres%3DSoca": "Soca", "salsa?genres%3DSalsa": "Salsa", "1980s-dance?genres%3DDance%26eras%3D1980s": "Annes80 : Dance", "power-pop?genres%3DPower+Pop": "Powerpop", "new-wave?genres%3DNew+Wave": "New wave", "arena-rock?genres%3DArena+Rock": "Arena rock", "aussie-hip-hop-rap?genres%3DAussie+Hip-Hop%2FRap": "Hip-hop/Rap australiens", "new-age?genres%3DNew+Age": "New age", "1990s-bollywood?genres%3DBollywood%26eras%3D1990s": "Annes90 : Bollywood", "merengue?genres%3DMerengue": "Merengue", "delta-blues?genres%3DDelta+Blues": "Delta blues", "scottish?genres%3DScottish": "cossaise", "thai-pop?genres%3DThai+Pop": "Pop thalandaise", "khaleeji-tarab?genres%3DKhaleeji+Tarab": "Khaleeji tarab", "vallenato?genres%3DVallenato": "Vallenato", "happy-dance?genres%3DDance%26moods%3DHappy": "Atmosphre joyeuse : Dance", "1990s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D1990s": "Annes90 : Hip-hop / Rap", "saxophone?genres%3DSaxophone": "Saxophone", "msica-mexicana?genres%3DM%C3%BAsica+Mexicana": "Mexicaine", "chinese-alt?genres%3DChinese+Alt": "Alternative chinoise", "afrobeats?genres%3DAfrobeats": "Afrobeats", "calypso?genres%3DCalypso": "Calypso", "miami-bass?genres%3DMiami+Bass": "Miami bass", "tango?genres%3DTango": "Tango", "sleep?tags%3DSleep": "Nuit", "happy-pop?genres%3DPop%26moods%3DHappy": "Atmosphre joyeuse : Pop", "pagode?genres%3DPagode": "Pagode", "j-hip-hop?genres%3DJ-Hip-Hop": "Hip-hop japonais", "1990s-techno?genres%3DTechno%26eras%3D1990s": "Annes90 : Techno", "electronic?genres%3DElectronic": "lectronique", "alternativo-en-espaol?genres%3DAlternativo+en+Espa%C3%B1ol": "alternative en espagnol", "israeli?genres%3DIsraeli": "Isralienne", "1980s-alternative?genres%3DAlternative%26eras%3D1980s": "Annes80 : Alternative", "roots-rock?genres%3DRoots+Rock": "Rock roots", "entertaining?tags%3DEntertaining": "Se divertir", "uk-garage?genres%3DUK+Garage": "UK Garage", "tai-pop?genres%3DTai-Pop": "Pop tawanaise", "funk?genres%3DFunk": "Funk", "mandopop?genres%3DMandopop": "Mandopop", "1970s-rock?genres%3DRock%26eras%3D1970s": "Annes70 : Rock", "piano?genres%3DPiano": "Piano", "fusion-jazz?genres%3DFusion+Jazz": "Jazz fusion", "1980s-soul?genres%3DSoul%26eras%3D1980s": "Annes80 : Soul", "reggaeton?genres%3DReggaeton": "Reggaeton", "malaysian-music?genres%3DMalaysian+Music": "Malaisienne", "korean?genres%3DKorean": "Corenne", "instrumental-for-meditation?genres%3DInstrumental%26tags%3DMeditation": "Instrumentale : Mditer", "lullabies-for-meditation?genres%3DLullabies%26tags%3DMeditation": "Berceuses : Mditer", "chinese-rock?genres%3DChinese+Rock": "Rock chinois", "nueva-cancin?genres%3DNueva+Canci%C3%B3n": "Nueva cancin", "schlager?genres%3DSchlager": "Schlager", "psych-rock?genres%3DPsych+Rock": "Rock psychdlique", "1990s-metal?genres%3DMetal%26eras%3D1990s": "Annes90 : Metal", "soul-jazz?genres%3DSoul+Jazz": "Jazz soul", "new-music?eras%3DNew": "Nouveauts", "film,-tv-&-stage?genres%3DStage+and+Screen": "Film, TV et thtre", "rock-en-espaol?genres%3DRock+en+Espa%C3%B1ol": "Rock en espagnol", "rancheras?genres%3DRancheras": "Rancheras", "goth?genres%3DGoth": "Gothique", "1990s-country?genres%3DCountry%26eras%3D1990s": "Annes90 : Country", "indie-pop?genres%3DIndie+Pop": "Pop ind", "dirty-south?genres%3DDirty+South": "Dirty South", "chicago-blues?genres%3DChicago+Blues": "Blues de Chicago", "indie-dance?genres%3DIndie+Dance": "Dance ind", "garage?genres%3DGarage": "Garage", "banda?genres%3DBanda": "Banda", "turkish?genres%3DTurkish": "Turque", "k-hip-hop?genres%3DK+Hip-Hop%2FRap": "K-Hip-Hop", "1970s-r&b?genres%3DR%26B%26eras%3D1970s": "Annes70 : RnB", "underground-hip-hop-rap?genres%3DUnderground+Hip-Hop%2FRap": "Underground Hip-Hop / Rap", "c-pop?genres%3DC-Pop": "C-pop", "relaxation-for-meditation?genres%3DRelaxation%26tags%3DMeditation": "Relaxation : Mditer", "alt-rock?genres%3DAlt+Rock": "Rock alternatif", "requinto?genres%3DRequinto": "Musique au requinto", "lovers-rock?genres%3DLovers+Rock": "Rock pour couples", "bachata?genres%3DBachata": "Bachata", "country-rock?genres%3DCountry+Rock": "Rock country", "techno?genres%3DTechno": "Techno", "motivated-jazz?genres%3DJazz%26moods%3DMotivated": "Atmosphre Se motiver : Jazz", "modern-era?genres%3DModern+Era": "poque moderne", "kayokyoku?genres%3DKayokyoku": "Kayokyoku", "chill-1970s-music?moods%3DChill%26eras%3D1970s": "Musique relaxante : Annes70", "christmas?genres%3DChristmas": "Musique de Nol", "k-pop-for-working-out?genres%3DK-Pop%26tags%3DWorkout": "K-pop : Sentraner", "dancehall?genres%3DDancehall": "Dancehall", "1970s-music-for-working-out?tags%3DWorkout%26eras%3D1970s": "Annes70 : Sentraner", "chill-holiday?genres%3DHoliday%26moods%3DChill": "Atmosphre relaxante : Vacances", "disney?genres%3DDisney": "Disney", "afro-swing?genres%3DAfro-Swing": "Afro-swing", "chill-electronic?genres%3DElectronic%26moods%3DChill": "Atmosphre relaxante : lectronique", "blues?genres%3DBlues": "Blues", "acid-house?genres%3DAcid+House": "Acid house", "2000s-country?genres%3DCountry%26eras%3D2000s": "Annes2000 : Country", "sad-bollywood?genres%3DBollywood%26moods%3DSad": "Atmosphre triste : Bollywood", "black-metal?genres%3DBlack+Metal": "Black metal", "happy-music?moods%3DHappy": "Musique joyeuse", "grindcore?genres%3DGrindcore": "Grindcore", "1970s-dance?genres%3DDance%26eras%3D1970s": "Annes70 : Dance", "1980s-rock?genres%3DRock%26eras%3D1980s": "Annes80 : Rock", "emo?genres%3DEMO": "Emo", "praise-&-worship?genres%3DPraise+%26+Worship": "Louange et adoration", "holiday?genres%3DHoliday": "Vacances", "chill-instrumental?genres%3DInstrumental%26moods%3DChill": "Atmosphre relaxante : Instrumentale", "chamber-music?genres%3DChamber+Music": "De chambre", "dad-rock?genres%3DDad+Rock": "Rock  papa", "chill-music?moods%3DChill": "Musique relaxante", "1970s-pop?genres%3DPop%26eras%3D1970s": "Annes70 : Pop", "cool-jazz?genres%3DCool+Jazz": "Cool jazz", "1990s-dancehall?genres%3DDancehall%26eras%3D1990s": "Annes90 : Dancehall", "german-folk?genres%3DGerman+Folk": "Folk allemand", "norteo?genres%3DNorte%C3%B1o": "Norteo", "hard-bop?genres%3DHard+Bop": "Hard bop", "electronica?genres%3DElectronica": "Electronica", "partying?tags%3DParty": "Faire la fte", "holiday-for-entertaining?genres%3DHoliday%26tags%3DEntertaining": "Vacances : Se divertir", "instrumental-for-focusing?genres%3DInstrumental%26tags%3DFocusing": "Instrumentale : Se concentrer", "third-wave-ska?genres%3DThird+Wave+Ska": "Ska troisime vague", "bollywood-for-partying?genres%3DBollywood%26tags%3DParty": "Bollywood : Faire la fte", "enka?genres%3DEnka": "Enka", "crunk?genres%3DCrunk": "Crunk", "1990s-punk?genres%3DPunk%26eras%3D1990s": "Annes90 : Punk", "2010s-music?eras%3D2010s": "Annes2010", "1980s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D1980s": "Annes80 : Hip-hop / Rap", "alternative-metal?genres%3DAlternative+Metal": "Metal alternatif", "classic-house?genres%3DClassic+House": "House classique", "bass?genres%3DBass": "Bass", "house?genres%3DHouse": "House", "british-invasion?genres%3DBritish+Invasion": "Rock britannique", "latin-pop?genres%3DPop+Latino": "Pop latine", "christian-country?genres%3DChristian+Country": "Country chrtienne", "ax?genres%3DAx%C3%A9": "Ax", "french-varit?genres%3DFrench+Vari%C3%A9t%C3%A9": "Varit franaise", "indian-pop?genres%3DIndian+Pop": "Pop indienne", "chill-1980s-music?moods%3DChill%26eras%3D1980s": "Musique relaxante : Annes80", "1980s-disco?genres%3DDisco%26eras%3D1980s": "Annes80 : Disco", "urbano-latino?genres%3DUrbano+Latino": "Urban latino", "1990s-reggae?genres%3DReggae%26eras%3D1990s": "Annes90 : Reggae", "k-indie?genres%3DK-Indie": "K-Indie", "motivated-music-for-meditation?tags%3DMeditation%26moods%3DMotivated": "Musique Se motiver : Mditer", "bebop?genres%3DBebop": "Bebop", "prog-rock?genres%3DProg-Rock": "Rock progressif", "israeli-pop?genres%3DIsraeli+Pop": "Pop isralienne", "new-romantic?genres%3DNew+Romantic": "Nouveaux Romantiques", "bossa-nova?genres%3DBossa+Nova": "Bossa nova", "1980s-r&b?genres%3DR%26B%26eras%3D1980s": "Annes80 : RnB", "sad-instrumental?genres%3DInstrumental%26moods%3DSad": "Atmosphre triste : Instrumentale", "australian-country?genres%3DAustralian+Country": "Country australienne", "thrash-metal?genres%3DThrash+Metal": "Thrash metal", "post-rock?genres%3DPost-Rock": "Post-rock", "dubstep?genres%3DDubstep": "Dubstep", "adult-urban-contemporary?genres%3DAdult+Urban+Contemporary": "Pop urbaine", "hard-rock?genres%3DHard+Rock": "Hard rock", "1980s-pop?genres%3DPop%26eras%3D1980s": "Annes80 : Pop", "motivated-1950s-music?moods%3DMotivated%26eras%3D1950s": "Musique Se motiver : Annes50", "japanese?genres%3DJapanese": "Japonaise", "metalcore?genres%3DMetalcore": "Metalcore", "hip-hop-rap-for-partying?genres%3DHip-Hop%2FRap%26tags%3DParty": "Hip-hop / Rap : Faire la fte", "happy-new-music?moods%3DHappy%26eras%3DNew": "Musique joyeuse : Nouveauts", "post-punk?genres%3DPost-Punk": "Post-punk", "khaleeji?genres%3DKhaleeji": "Khaliji", "downtempo?genres%3DDowntempo": "Downtempo", "flamenco?genres%3DFlamenco": "Flamenco", "chillwave?genres%3DChillwave": "Chillwave", "classic-blues?genres%3DClassic+Blues": "Blues classique", "chill-jazz?genres%3DJazz%26moods%3DChill": "Atmosphre relaxante : Jazz", "israeli-rock?genres%3DIsraeli+Rock": "Rock isralien", "dub?genres%3DDub": "Dub", "bluegrass?genres%3DBluegrass": "Bluegrass", "2010s-country?genres%3DCountry%26eras%3D2010s": "Annes2010 : Country", "chill-country?genres%3DCountry%26moods%3DChill": "Atmosphre relaxante : Country", "traditional-country?genres%3DTraditional+Country": "Country traditionnelle", "1960s-country?genres%3DCountry%26eras%3D1960s": "Annes60 : Country", "hawaiian?genres%3DHawaiian": "Hawaenne", "experimental?genres%3DExperimental": "Exprimentale", "country-for-partying?genres%3DCountry%26tags%3DParty": "Country : Faire la fte", "stoner-rock?genres%3DStoner+Rock": "Stoner rock", "gospel?genres%3DGospel": "Gospel", "2010s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D2010s": "Annes2010 : Hip-hop / Rap", "classical?genres%3DClassical": "Classique", "chill-music-for-focusing?tags%3DFocusing%26moods%3DChill": "Musique relaxante : Se concentrer", "1970s-country?genres%3DCountry%26eras%3D1970s": "Annes70 : Country", "strings?genres%3DStrings": "Instruments  cordes", "jazz-for-entertaining?genres%3DJazz%26tags%3DEntertaining": "Jazz : Se divertir", "1960s-music-for-entertaining?tags%3DEntertaining%26eras%3D1960s": "Annes60 : Se divertir", "smooth-jazz?genres%3DSmooth+Jazz": "Smooth jazz", "soul?genres%3DSoul": "Soul", "grime?genres%3DGrime": "Grime", "freestyle?genres%3DFreestyle": "Freestyle", "rock-in-portuguese?genres%3DRock+in+Portuguese": "Rock en portugais", "happy-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DHappy": "Atmosphre joyeuse : Hip-hop / Rap", "jangle-pop?genres%3DJangle+Pop": "Jangle pop", "2000s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D2000s": "Annes2000 : Hip-hop / Rap", "new-jack-swing?genres%3DNew+Jack+Swing": "New jack swing", "australian?genres%3DAustralian": "australienne", "dutch-pop?genres%3DDutch+Pop": "Pop nerlandaise", "jam-bands?genres%3DJam+Bands": "Jam bands", "comedy?genres%3DComedy": "Humour", "nu-metal?genres%3DNu+Metal": "Nu metal", "blackgaze?genres%3DBlackgaze": "Blackgaze", "chill-lounge?genres%3DLounge%26moods%3DChill": "Atmosphre relaxante : Lounge", "chill-piano?genres%3DPiano%26moods%3DChill": "Atmosphre relaxante : Piano", "1960s-music?eras%3D1960s": "Annes60", "classic-hip-hop-rap?genres%3DClassic+Hip-Hop%2FRap": "Hip-hop/rap classique", "gangsta-rap?genres%3DGangsta+Rap": "Gangsta rap", "1970s-folk?genres%3DFolk%26eras%3D1970s": "Annes70 : Folk", "romantic---in-love-music?moods%3DRomantic+%2F+In+Love": "Musique Romantique / Amoureux", "edm?genres%3DEDM": "EDM", "pop-italiano?genres%3DPop+Italiano": "Pop italienne", "idm?genres%3DIDM": "IDM", "malayalam?genres%3DMalayalam": "Malayalam", "angry-music?moods%3DAngry": "Musique enrage", "motivated-classical?genres%3DClassical%26moods%3DMotivated": "Atmosphre Se motiver : Classique", "1980s-music?eras%3D1980s": "Annes80", "chill-dubstep?genres%3DDubstep%26moods%3DChill": "Atmosphre relaxante : Dubstep", "chinese-hip-hop?genres%3DChinese+Hip-Hop": "Hip-hop chinois", "musique-francophone?genres%3DMusique+Francophone": "Francophone", "k-pop?genres%3DK-Pop": "K-pop", "tropical-house?genres%3DTropical+House": "Tropical House", "broken-beat?genres%3DBroken+Beat": "Broken beat", "chill-new-music?moods%3DChill%26eras%3DNew": "Musique relaxante : Nouveauts", "happy-jazz?genres%3DJazz%26moods%3DHappy": "Atmosphre joyeuse : Jazz", "easy-listening?genres%3DEasy+Listening": "Easy listening", "2000s-music?eras%3D2000s": "Annes2000", "1980s-country?genres%3DCountry%26eras%3D1980s": "Annes80 : Country", "arabesque?genres%3DArabesque": "Arabesque", "motivated-music-for-focusing?tags%3DFocusing%26moods%3DMotivated": "Musique Se motiver : Se concentrer", "british?genres%3DBritish": "britannique", "chill-lullabies?genres%3DLullabies%26moods%3DChill": "Atmosphre relaxante : Berceuses", "breaking-up?tags%3DBreaking+Up": "Se sparer", "sad-country?genres%3DCountry%26moods%3DSad": "Atmosphre triste : Country", "2000s-rock?genres%3DRock%26eras%3D2000s": "Annes2000 : Rock", "chicago-house?genres%3DChicago+House": "Chicago house", "classic-punk?genres%3DClassic+Punk": "Punk classique", "ambient?genres%3DAmbient": "Ambient", "tololoche?genres%3DTololoche": "Tololoche", "cantautori?genres%3DCantautori": "Cantautori", "samba?genres%3DSamba": "Samba", "minimalism?genres%3DMinimalism": "Minimalisme", "mariachi?genres%3DMariachi": "Mariachi", "corridos?genres%3DCorridos": "Corridos", "motivated-music-for-working-out?tags%3DWorkout%26moods%3DMotivated": "Musique Se motiver : Sentraner", "1960s-pop?genres%3DPop%26eras%3D1960s": "Annes60 : Pop", "cantopop?genres%3DCantopop": "Pop cantonaise", "polka?genres%3DPolka": "Polka", "new-years-eve?genres%3DNew+Year%27s+Eve": "Rveillon du jour de l'an", "chill-classical?genres%3DClassical%26moods%3DChill": "Atmosphre relaxante : Classique", "marchinhas?genres%3DMarchinhas": "Marchinha", "trova?genres%3DTrova": "Trova", "deep-house?genres%3DDeep+House": "Deep house", "chill-music-for-entertaining?tags%3DEntertaining%26moods%3DChill": "Musique relaxante : Se divertir", "folktronica?genres%3DFolktronica": "Folktronica", "neo-soul?genres%3DNeo-Soul": "Nu soul", "chill-reggae?genres%3DReggae%26moods%3DChill": "Atmosphre relaxante : Reggae", "rakugo?genres%3DRakugo": "Rakugo", "disco?genres%3DDisco": "Disco", "rock-for-partying?genres%3DRock%26tags%3DParty": "Rock : Faire la fte", "electric-blues?genres%3DElectric+Blues": "Blues lectrique", "1990s-alternative?genres%3DAlternative%26eras%3D1990s": "Annes90 : Alternative", "classical-for-meditation?genres%3DClassical%26tags%3DMeditation": "Classique : Mditer", "ghazals?genres%3DGhazals": "Ghazal", "1950s-music?eras%3D1950s": "Annes50", "east-coast?genres%3DEast+Coast": "East coast", "1970s-soul?genres%3DSoul%26eras%3D1970s": "Annes70 : Soul", "2000s-r&b?genres%3DR%26B%26eras%3D2000s": "Annes2000 : RnB", "swiss-rap?genres%3DSwiss-Rap": "Rap suisse", "afro-beat?genres%3DAfro-Beat": "Afrobeat", "1990s-pop?genres%3DPop%26eras%3D1990s": "Annes90 : Pop", "uk-hip-hop-rap?genres%3DUK+Hip-Hop%2FRap": "Hip-Hop / Rap britannique", "punjabi?genres%3DPunjabi": "Pendjabi", "1980s-metal?genres%3DMetal%26eras%3D1980s": "Annes80 : Metal", "nature?genres%3DNature": "Nature", "sertanejo?genres%3DSertanejo": "Sertanejo", "coffee-shop?genres%3DCoffee+Shop": "Coffee Shop", "hip-hop-rap-for-working-out?genres%3DHip-Hop%2FRap%26tags%3DWorkout": "Hip-hop / Rap : Sentraner", "contemporary-blues?genres%3DContemporary+Blues": "Blues contemporain", "rock-for-working-out?genres%3DRock%26tags%3DWorkout": "Rock : Sentraner", "j-pop?genres%3DJ-Pop": "Pop japonaise", "anime?genres%3DAnime": "Anime", "african-music?genres%3DAfrican+Music": "Africaine", "outlaw-country?genres%3DOutlaw+Country": "Outlaw country", "tamil?genres%3DTamil": "Tamil", "hrspiele?genres%3DH%C3%B6rspiele": "Hrspiele", "kids-&-family?genres%3DKids+%26+Family": "Pour toute la famille", "christian-rock?genres%3DChristian+Rock": "Rock chrtien", "baile-funk?genres%3DBaile+Funk": "Baile funk", "russian-hip-hop?genres%3DRussian+Hip-Hop": "Hip-hop russe", "deutschpop?genres%3DDeutschpop": "Deutschpop", "adult-contemporary?genres%3DAdult+Contemporary": "Contemporaine pour adultes", "motivated-acoustic?genres%3DAcoustic%26moods%3DMotivated": "Atmosphre Se motiver : Acoustique", "chill-christian?genres%3DChristian%26moods%3DChill": "Atmosphre relaxante : Religieuse", "levant-pop?genres%3DLevant+Pop": "Levant pop", "pop-punk?genres%3DPop+Punk": "Punk pop", "contemporary-gospel?genres%3DContemporary+Gospel": "Gospel contemporain", "sad-classical?genres%3DClassical%26moods%3DSad": "Atmosphre triste : Classique", "opera?genres%3DOpera": "Opra", "motown?genres%3DMotown": "Motown", "chill-relaxation?genres%3DRelaxation%26moods%3DChill": "Atmosphre relaxante : Relaxation", "1990s-music?eras%3D1990s": "Annes90", "synth-pop?genres%3DSynth-Pop": "Pop-synth", "happy-holiday?genres%3DHoliday%26moods%3DHappy": "Atmosphre joyeuse : Vacances", "dangdut?genres%3DDangdut": "Dangdut", "chill-rock?genres%3DRock%26moods%3DChill": "Atmosphre relaxante : Rock", "swiss-pop?genres%3DSwiss-Pop": "Pop suisse", "duranguense?genres%3DDuranguense": "Duranguense", "avant-garde-jazz?genres%3DAvant-Garde+Jazz": "Jazz davant-garde", "thai-music?genres%3DThai+Music": "Thalandaise", "electro?genres%3DElectro": "lectronique", "indian-classical?genres%3DIndian+Classical": "Indienne classique", "egyptian-pop?genres%3DEgyptian+Pop": "Pop gyptienne", "romantic-music?moods%3DRomantic": "Musique romantique", "dark-wave?genres%3DDarkWave": "Darkwave", "baroque-era?genres%3DBaroque+Era": "re baroque", "2000s-pop?genres%3DPop%26eras%3D2000s": "Annes2000 : Pop", "quiet-storm?genres%3DQuiet+Storm": "Quiet Storm", "pop-in-portuguese?genres%3DPop+in+Portuguese": "Pop en portugais", "teen-pop?genres%3DTeen+Pop": "Teen pop", "adult-alternative?genres%3DAdult+Alternative": "Alternative adulte", "hip-hop-en-espaol?genres%3DHip-Hop+en+Espa%C3%B1ol": "Hip-Hop en espagnol", "chill-trance?genres%3DTrance%26moods%3DChill": "Atmosphre relaxante : Trance", "chill-music-for-meditation?tags%3DMeditation%26moods%3DChill": "Musique relaxante : Mditer", "motivated-instrumental?genres%3DInstrumental%26moods%3DMotivated": "Atmosphre Se motiver : Instrumentale", "1990s-music-for-working-out?tags%3DWorkout%26eras%3D1990s": "Annes90 : Sentraner", "jazz-for-focusing?genres%3DJazz%26tags%3DFocusing": "Jazz : Se concentrer", "traditional-folk?genres%3DTraditional+Folk": "Folk traditionnel", "americana?genres%3DAmericana": "Americana", "motivated-country?genres%3DCountry%26moods%3DMotivated": "Atmosphre Se motiver : Country", "2000s-dance?genres%3DDance%26eras%3D2000s": "Annes2000 : Dance", "soft-rock?genres%3DSoft+Rock": "Soft rock", "1990s-music-for-partying?tags%3DParty%26eras%3D1990s": "Annes90 : Faire la fte", "1960s-rock?genres%3DRock%26eras%3D1960s": "Annes60 : Rock", "shoegaze?genres%3DShoegaze": "Shoegaze", "french-pop?genres%3DFrench+Pop": "Pop franaise", "death-metal?genres%3DDeath+Metal": "Death metal", "telugu?genres%3DTelugu": "Telugu", "britpop?genres%3DBritpop": "Britpop", "west-coast?genres%3DWest+Coast": "West coast", "scores?genres%3DScores": "Films", "indonesian-music?genres%3DIndonesian+Music": "Indonsienne", "indie-rock?genres%3DIndie+Rock": "Rock ind", "diy-punk?genres%3DDIY+Punk": "Punk DIY", "reggae?genres%3DReggae": "Reggae", "jazz-vocal?genres%3DJazz+Vocal": "Jazz vocal", "microhouse?genres%3DMicrohouse": "Microhouse", "dance-for-partying?genres%3DDance%26tags%3DParty": "Dance : Faire la fte", "mexican?genres%3DMexican": "mexicaine", "chill-alternative?genres%3DAlternative%26moods%3DChill": "Atmosphre relaxante : Alternative", "mod?genres%3DMod": "Mod", "big-band?genres%3DBig+Band": "Big band", "dutch?genres%3DDutch": "nerlandaise", "conscious-hip-hop?genres%3DConscious+Hip-Hop": "Hip-hop conscient", "fado?genres%3DFado": "Fado", "standards?genres%3DStandards": "Standards", "old-school-hip-hop?genres%3DOld+School": "Hip-hop Old School", "renaissance?genres%3DRenaissance": "Renaissance", "relaxation?genres%3DRelaxation": "Relaxation", "regional-indian?genres%3DRegional+Indian": "Indienne rgionale", "getting-it-on?tags%3DGetting+It+On": "Sduire", "k-r&b?genres%3DK-R%26B": "K-R&B", "1990s-grunge?genres%3DGrunge%26eras%3D1990s": "Annes90 : Grunge", "college-rock?genres%3DCollege+Rock": "College rock", "1970s-acoustic?genres%3DAcoustic%26eras%3D1970s": "Annes70 : Acoustique", "1950s-jazz?genres%3DJazz%26eras%3D1950s": "Annes50 : Jazz", "christian-pop?genres%3DChristian+Pop": "Pop chrtienne", "1950s-rock?genres%3DRock%26eras%3D1950s": "Annes50 : Rock", "idol?genres%3DIdol": "Idoles japonaises", "ragtime?genres%3DRagtime": "Ragtime", "swiss?genres%3DSwiss": "suisse", "1980s-bollywood?genres%3DBollywood%26eras%3D1980s": "Annes80 : Bollywood", "j-r&b?genres%3DJ-R%26B": "R&B japonais", "classic-rock?genres%3DClassic+Rock": "Rock classique", "halk?genres%3DHalk": "Halk", "celtic?genres%3DCeltic": "Celtique", "classic-country?genres%3DClassic+Country": "Country classique", "nature-for-meditation?genres%3DNature%26tags%3DMeditation": "Nature : Mditer", "folk?genres%3DFolk": "Folk", "chill-house?genres%3DHouse%26moods%3DChill": "Atmosphre relaxante : House", "ska?genres%3DSka": "Ska", "dance-punk?genres%3DDance-Punk": "Dance-punk", "chill-pop?genres%3DPop%26moods%3DChill": "Atmosphre relaxante : Pop", "1960s-soul?genres%3DSoul%26eras%3D1960s": "Annes60 : Soul", "2010s-pop?genres%3DPop%26eras%3D2010s": "Annes2010 : Pop", "chill-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DChill": "Atmosphre relaxante : Hip-hop / Rap", "pop-for-partying?genres%3DPop%26tags%3DParty": "Pop : Faire la fte", "modern-dancehall?genres%3DModern+Dancehall": "Dancehall moderne", "glam-rock?genres%3DGlam+Rock": "Glam rock", "rocksteady?genres%3DRocksteady": "Rocksteady", "irish?genres%3DIrish": "irlandaise", "roots-reggae?genres%3DRoots+Reggae": "Reggae roots", "alt-country?genres%3DAlt+Country": "Country alternative", "halloween?genres%3DHalloween": "Halloween", "kannada?genres%3DKannada": "Kannada", "deutsche-streetrap?genres%3DDeutsche+Streetrap": "Deutscher Streetrap", "folk-rock?genres%3DFolk-Rock": "Folk-rock", "pinoy-pop?genres%3DPinoy+Pop": "Pop philippine", "tarab?genres%3DTarab": "Tarab", "dutch-hip-hop?genres%3DDutch+Hip-Hop": "Hip-hop nerlandais", "family-time?tags%3DFamily+Time": "Passer du temps en famille", "musicals?genres%3DMusicals": "Comdies musicales", "chill-r&b?genres%3DR%26B%26moods%3DChill": "Atmosphre relaxante : RnB", "french-hip-hop-rap?genres%3DFrench+Hip-Hop%2FRap": "Hip-hop/Rap franais", "happy-c-pop?genres%3DC-Pop%26moods%3DHappy": "Atmosphre joyeuse : C-pop", "sad-piano?genres%3DPiano%26moods%3DSad": "Atmosphre triste : Piano", "yacht-rock?genres%3DYacht+Rock": "Yacht rock", "industrial-metal?genres%3DIndustrial+Metal": "Metal industriel", "bengali?genres%3DBengali": "Bengali", "khaleeji-pop?genres%3DKhaleeji+Pop": "Khaleeji pop", "1970s-music?eras%3D1970s": "Annes70", "afro-pop?genres%3DAfro-Pop": "Afro pop", "afrikaans?genres%3DAfrikaans": "Afrikaans", "sambas-de-enredo?genres%3DSambas+de+enredo": "Samba enredo", "tv-drama?genres%3DTV+Drama": "Sries TV", "indie-en-espaol?genres%3DIndie+en+Espa%C3%B1ol": "Ind en espagnol", "chill-ambient?genres%3DAmbient%26moods%3DChill": "Atmosphre relaxante : Ambient", "orchestral?genres%3DOrchestral": "Orchestre", "indian?genres%3DIndian": "Indienne", "classic-soul?genres%3DClassic+Soul": "Soul classique", "happy-1980s-music?moods%3DHappy%26eras%3D1980s": "Musique joyeuse : Annes80", "israeli-alternative?genres%3DIsraeli+Alternative": "Alternative isralienne" }, "en-gb": { "chinese?genres%3DChinese": "Chinese", "devotional-&-spiritual?genres%3DDevotional+%26+Spiritual": "Devotional & Spiritual", "vocaloid?genres%3DVocaloid": "Vocaloid", "rockabilly?genres%3DRockabilly": "Rockabilly", "motivated-holiday?genres%3DHoliday%26moods%3DMotivated": "Motivated Holiday", "cumbia?genres%3DCumbia": "Cumbia", "surf?genres%3DSurf": "Surf", "romantic-era?genres%3DRomantic+Era": "Romantic Era", "jungle?genres%3DJungle": "Jungle", "motivated-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DMotivated": "Motivated Hip-Hop / Rap", "australian-pub-rock?genres%3DAustralian+Pub+Rock": "Australian Pub Rock", "alternative?genres%3DAlternative": "Alternative", "doo-wop?genres%3DDoo+Wop": "Doo Wop", "1970s-funk?genres%3DFunk%26eras%3D1970s": "1970s Funk", "contemporary-jazz?genres%3DContemporary+Jazz": "Contemporary Jazz", "extreme-metal?genres%3DExtreme+Metal": "Extreme Metal", "1970s-oldies?genres%3DOldies%26eras%3D1970s": "1970s Oldies", "brazilian?genres%3DBrazilian": "Brazilian", "trap?genres%3DTrap": "Trap", "1980s-holiday?genres%3DHoliday%26eras%3D1980s": "1980s Holiday", "trance?genres%3DTrance": "Trance", "k-rock?genres%3DK-Rock": "K-Rock", "pop-for-working-out?genres%3DPop%26tags%3DWorkout": "Pop for Working Out", "r&b?genres%3DR%26B": "R&B", "caribbean?genres%3DCaribbean": "Caribbean", "screamo?genres%3DScreamo": "Screamo", "bollywood?genres%3DBollywood": "Bollywood", "russian?genres%3DRussian": "Russian", "progressive-house?genres%3DProgressive+House": "Progressive House", "detroit-techno?genres%3DDetroit+Techno": "Detroit Techno", "classical-for-focusing?genres%3DClassical%26tags%3DFocusing": "Classical for Focusing", "honky-tonk?genres%3DHonky+Tonk": "Honky Tonk", "hair-metal?genres%3DHair+Metal": "Hair Metal", "rock?genres%3DRock": "Rock", "christian?genres%3DChristian": "Christian", "classic-singer-songwriter?genres%3DClassic+Singer%2FSongwriter": "Classic Singer / Songwriter", "rave?genres%3DRave": "Rave", "forr?genres%3DForr%C3%B3": "Forr", "bashment?genres%3DBashment": "Bashment", "cloud-rap?genres%3DCloud+Rap": "Cloud Rap", "cooldown?tags%3DCooldown": "Cooldown", "christian-rap?genres%3DChristian+Rap": "Christian Rap", "2000s-alternative?genres%3DAlternative%26eras%3D2000s": "2000s Alternative", "1990s-rock?genres%3DRock%26eras%3D1990s": "1990s Rock", "idol--anime?genres%3DIdol%3A+Anime": "Idol: Anime", "dixieland?genres%3DDixieland": "Dixieland", "russian-pop?genres%3DRussian+Pop": "Russian Pop", "golden-age-hip-hop?genres%3DGolden+Age": " Golden Age Hip-Hop", "focusing?tags%3DFocusing": "Focusing", "indian-independent?genres%3DIndian+Independent": "Indian Independent", "canadian?genres%3DCanadian": "Canadian", "1970s-music-for-partying?tags%3DParty%26eras%3D1970s": "1970s Music for Partying", "southern-gospel?genres%3DSouthern+Gospel": "Southern Gospel", "trap-latino?genres%3DTrap+Latino": "Trap Latino", "latino?genres%3DLatino": "Latino", "russian-chanson?genres%3DRussian+Chanson": "Russian Chanson", "sanat?genres%3DSanat": "Sanat", "chill-acoustic?genres%3DAcoustic%26moods%3DChill": "Chill Acoustic", "alternative-rap?genres%3DAlternative+Rap": "Alternative Rap", "chill-indie?genres%3DIndie%26moods%3DChill": "Chill Indie", "1990s-dance?genres%3DDance%26eras%3D1990s": "1990s Dance", "indie?genres%3DIndie": "Indie", "1970s-disco?genres%3DDisco%26eras%3D1970s": "1970s Disco", "hardcore-punk?genres%3DHardcore+Punk": "Hardcore Punk", "hip-hop-rap-italiano?genres%3DHip-Hop%2FRap+Italiano": "Hip-Hop / Rap Italiano", "sad-music?moods%3DSad": "Sad Music", "chill-electronica?genres%3DElectronica%26moods%3DChill": "Chill Electronica", "pop?genres%3DPop": "Pop", "lounge?genres%3DLounge": "Lounge", "psychobilly?genres%3DPsychobilly": "Psychobilly", "electronic-for-working-out?genres%3DElectronic%26tags%3DWorkout": "Electronic for Working Out", "chill-dance?genres%3DDance%26moods%3DChill": "Chill Dance", "latin-jazz?genres%3DLatin+Jazz": "Latin Jazz", "boleros?genres%3DBoleros": "Boleros", "r&b-for-working-out?genres%3DR%26B%26tags%3DWorkout": "R&B for Working Out", "hip-hop-rap?genres%3DHip-Hop%2FRap": "Hip-Hop / Rap", "motivated-c-pop?genres%3DC-Pop%26moods%3DMotivated": "Motivated C-Pop", "1990s-r&b?genres%3DR%26B%26eras%3D1990s": "1990s R&B", "oldies?genres%3DOldies": "Oldies", "jazz?genres%3DJazz": "Jazz", "acoustic?genres%3DAcoustic": "Acoustic", "chill-nature?genres%3DNature%26moods%3DChill": "Chill Nature", "singer-songwriter?genres%3DSinger%2FSongwriter": "Singer / Songwriter", "punk?genres%3DPunk": "Punk", "motivated-music?moods%3DMotivated": "Motivated Music", "spanish?genres%3DSpanish": "Spanish", "1990s-disco?genres%3DDisco%26eras%3D1990s": "1990s Disco", "paisley-underground?genres%3DPaisley+Underground": "Paisley Underground", "indie-r&b?genres%3DIndie+R%26B": "Indie R&B", "grunge?genres%3DGrunge": "Grunge", "lullabies?genres%3DLullabies": "Lullabies", "classic-metal?genres%3DClassic+Metal": "Classic Metal", "arabic?genres%3DArabic": "Arabic", "worldbeat?genres%3DWorldbeat": "Worldbeat", "southern-rock?genres%3DSouthern+Rock": "Southern Rock", "german?genres%3DGerman": "German", "1980s-music-for-partying?tags%3DParty%26eras%3D1980s": "1980s Music for Partying", "sad-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DSad": "Sad Hip-Hop / Rap", "piano-for-meditation?genres%3DPiano%26tags%3DMeditation": "Piano for Meditating", "french?genres%3DFrench": "French", "doom?genres%3DDoom": "Doom", "country?genres%3DCountry": "Country", "south-american?genres%3DSouth+American": "South American", "instrumental?genres%3DInstrumental": "Instrumental", "mizrahi?genres%3DMizrahi": "Mizrahi", "hyphy?genres%3DHyphy": "Hyphy", "post-grunge?genres%3DPost-Grunge": "Post-Grunge", "portuguese?genres%3DPortuguese": "Portuguese", "working-out?tags%3DWorkout": "Working Out", "balearic?genres%3DBalearic": "Balearic", "upbeat-music?moods%3DUpbeat": "Upbeat Music", "arabic-pop?genres%3DArabic+Pop": "Arabic Pop", "holiday-for-partying?genres%3DHoliday%26tags%3DParty": "Holiday for Partying", "belgian?genres%3DBelgian": "Belgian", "meditation?tags%3DMeditation": "Meditating", "j-rock?genres%3DJ-Rock": "J-Rock", "happy-music-for-partying?tags%3DParty%26moods%3DHappy": "Happy Music for Partying", "karaoke?genres%3DKaraoke": "Karaoke", "british-metal?genres%3DBritish+Metal": "British Metal", "russian-rock?genres%3DRussian+Rock": "Russian Rock", "dance-for-working-out?genres%3DDance%26tags%3DWorkout": "Dance for Working Out", "french-touch?genres%3DFrench+Touch": "French Touch", "chill-music-for-partying?tags%3DParty%26moods%3DChill": "Chill Music for Partying", "motivated-pop?genres%3DPop%26moods%3DMotivated": "Motivated Pop", "metal?genres%3DMetal": "Metal", "vietnamese?genres%3DVietnamese": "Vietnamese", "mpb?genres%3DMPB": "MPB", "cubaton?genres%3DCubaton": "Cubaton", "dance?genres%3DDance": "Dance", "1990s-indie?genres%3DIndie%26eras%3D1990s": "1990s Indie", "choral?genres%3DChoral": "Choral", "sludge?genres%3DSludge": "Sludge", "soca?genres%3DSoca": "Soca", "salsa?genres%3DSalsa": "Salsa", "1980s-dance?genres%3DDance%26eras%3D1980s": "1980s Dance", "power-pop?genres%3DPower+Pop": "Power Pop", "new-wave?genres%3DNew+Wave": "New Wave", "arena-rock?genres%3DArena+Rock": "Arena Rock", "aussie-hip-hop-rap?genres%3DAussie+Hip-Hop%2FRap": "Aussie Hip-Hop / Rap", "new-age?genres%3DNew+Age": "New Age", "1990s-bollywood?genres%3DBollywood%26eras%3D1990s": "1990s Bollywood", "merengue?genres%3DMerengue": "Merengue", "delta-blues?genres%3DDelta+Blues": "Delta Blues", "scottish?genres%3DScottish": "Scottish", "thai-pop?genres%3DThai+Pop": "Thai Pop", "khaleeji-tarab?genres%3DKhaleeji+Tarab": "Khaleeji Tarab", "vallenato?genres%3DVallenato": "Vallenato", "happy-dance?genres%3DDance%26moods%3DHappy": "Happy Dance", "1990s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D1990s": "1990s Hip-Hop / Rap", "saxophone?genres%3DSaxophone": "Saxophone", "msica-mexicana?genres%3DM%C3%BAsica+Mexicana": "Msica Mexicana", "chinese-alt?genres%3DChinese+Alt": "Chinese Alt", "afrobeats?genres%3DAfrobeats": "Afrobeats", "calypso?genres%3DCalypso": "Calypso", "miami-bass?genres%3DMiami+Bass": "Miami Bass", "tango?genres%3DTango": "Tango", "sleep?tags%3DSleep": "Sleep", "happy-pop?genres%3DPop%26moods%3DHappy": "Happy Pop", "pagode?genres%3DPagode": "Pagode", "j-hip-hop?genres%3DJ-Hip-Hop": "J-Hip-Hop", "1990s-techno?genres%3DTechno%26eras%3D1990s": "1990s Techno", "electronic?genres%3DElectronic": "Electronic", "alternativo-en-espaol?genres%3DAlternativo+en+Espa%C3%B1ol": "Alternativo en Espaol", "israeli?genres%3DIsraeli": "Israeli", "1980s-alternative?genres%3DAlternative%26eras%3D1980s": "1980s Alternative", "roots-rock?genres%3DRoots+Rock": "Roots Rock", "entertaining?tags%3DEntertaining": "Entertaining", "uk-garage?genres%3DUK+Garage": "UK Garage", "tai-pop?genres%3DTai-Pop": "Tai-Pop", "funk?genres%3DFunk": "Funk", "mandopop?genres%3DMandopop": "Mandopop", "1970s-rock?genres%3DRock%26eras%3D1970s": "1970s Rock", "piano?genres%3DPiano": "Piano", "fusion-jazz?genres%3DFusion+Jazz": "Fusion Jazz", "1980s-soul?genres%3DSoul%26eras%3D1980s": "1980s Soul", "reggaeton?genres%3DReggaeton": "Reggaeton", "malaysian-music?genres%3DMalaysian+Music": "Malaysian Music", "korean?genres%3DKorean": "Korean", "instrumental-for-meditation?genres%3DInstrumental%26tags%3DMeditation": "Instrumental for Meditating", "lullabies-for-meditation?genres%3DLullabies%26tags%3DMeditation": "Lullabies for Meditating", "chinese-rock?genres%3DChinese+Rock": "Chinese Rock", "nueva-cancin?genres%3DNueva+Canci%C3%B3n": "Nueva Cancin", "schlager?genres%3DSchlager": "Schlager", "psych-rock?genres%3DPsych+Rock": "Psych Rock", "1990s-metal?genres%3DMetal%26eras%3D1990s": "1990s Metal", "soul-jazz?genres%3DSoul+Jazz": "Soul Jazz", "new-music?eras%3DNew": "New Music", "film,-tv-&-stage?genres%3DStage+and+Screen": "Film, TV & Stage", "rock-en-espaol?genres%3DRock+en+Espa%C3%B1ol": "Rock en Espaol", "rancheras?genres%3DRancheras": "Rancheras", "goth?genres%3DGoth": "Goth", "1990s-country?genres%3DCountry%26eras%3D1990s": "1990s Country", "indie-pop?genres%3DIndie+Pop": "Indie Pop", "dirty-south?genres%3DDirty+South": "Dirty South", "chicago-blues?genres%3DChicago+Blues": "Chicago Blues", "indie-dance?genres%3DIndie+Dance": "Indie Dance", "garage?genres%3DGarage": "Garage", "banda?genres%3DBanda": "Banda", "turkish?genres%3DTurkish": "Turkish", "k-hip-hop?genres%3DK+Hip-Hop%2FRap": " K-Hip-Hop", "1970s-r&b?genres%3DR%26B%26eras%3D1970s": "1970s R&B", "underground-hip-hop-rap?genres%3DUnderground+Hip-Hop%2FRap": "Underground Hip-Hop / Rap", "c-pop?genres%3DC-Pop": "C-Pop", "relaxation-for-meditation?genres%3DRelaxation%26tags%3DMeditation": "Relaxation for Meditating", "alt-rock?genres%3DAlt+Rock": "Alt Rock", "requinto?genres%3DRequinto": "Requinto", "lovers-rock?genres%3DLovers+Rock": "Lovers Rock", "bachata?genres%3DBachata": "Bachata", "country-rock?genres%3DCountry+Rock": "Country Rock", "techno?genres%3DTechno": "Techno", "motivated-jazz?genres%3DJazz%26moods%3DMotivated": "Motivated Jazz", "modern-era?genres%3DModern+Era": "Modern Era", "kayokyoku?genres%3DKayokyoku": "Kayokyoku", "chill-1970s-music?moods%3DChill%26eras%3D1970s": "Chill 1970s Music", "christmas?genres%3DChristmas": "Christmas", "k-pop-for-working-out?genres%3DK-Pop%26tags%3DWorkout": "K-Pop for Working Out", "dancehall?genres%3DDancehall": "Dancehall", "1970s-music-for-working-out?tags%3DWorkout%26eras%3D1970s": "1970s Music for Working Out", "chill-holiday?genres%3DHoliday%26moods%3DChill": "Chill Holiday", "disney?genres%3DDisney": "Disney", "afro-swing?genres%3DAfro-Swing": "Afro-Swing", "chill-electronic?genres%3DElectronic%26moods%3DChill": "Chill Electronic", "blues?genres%3DBlues": "Blues", "acid-house?genres%3DAcid+House": "Acid House", "2000s-country?genres%3DCountry%26eras%3D2000s": "2000s Country", "sad-bollywood?genres%3DBollywood%26moods%3DSad": "Sad Bollywood", "black-metal?genres%3DBlack+Metal": "Black Metal", "happy-music?moods%3DHappy": "Happy Music", "grindcore?genres%3DGrindcore": "Grindcore", "1970s-dance?genres%3DDance%26eras%3D1970s": "1970s Dance", "1980s-rock?genres%3DRock%26eras%3D1980s": "1980s Rock", "emo?genres%3DEMO": "Emo", "praise-&-worship?genres%3DPraise+%26+Worship": "Praise & Worship", "holiday?genres%3DHoliday": "Holiday", "chill-instrumental?genres%3DInstrumental%26moods%3DChill": "Chill Instrumental", "chamber-music?genres%3DChamber+Music": "Chamber Music", "dad-rock?genres%3DDad+Rock": "Dad Rock", "chill-music?moods%3DChill": "Chill Music", "1970s-pop?genres%3DPop%26eras%3D1970s": "1970s Pop", "cool-jazz?genres%3DCool+Jazz": "Cool Jazz", "1990s-dancehall?genres%3DDancehall%26eras%3D1990s": "1990s Dancehall", "german-folk?genres%3DGerman+Folk": "German Folk", "norteo?genres%3DNorte%C3%B1o": "Norteo", "hard-bop?genres%3DHard+Bop": "Hard Bop", "electronica?genres%3DElectronica": "Electronica", "partying?tags%3DParty": "Partying", "holiday-for-entertaining?genres%3DHoliday%26tags%3DEntertaining": "Holiday for Entertaining", "instrumental-for-focusing?genres%3DInstrumental%26tags%3DFocusing": "Instrumental for Focusing", "third-wave-ska?genres%3DThird+Wave+Ska": "Third Wave Ska", "bollywood-for-partying?genres%3DBollywood%26tags%3DParty": "Bollywood for Partying", "enka?genres%3DEnka": "Enka", "crunk?genres%3DCrunk": "Crunk", "1990s-punk?genres%3DPunk%26eras%3D1990s": "1990s Punk", "2010s-music?eras%3D2010s": "2010s Music", "1980s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D1980s": "1980s Hip-Hop / Rap", "alternative-metal?genres%3DAlternative+Metal": "Alternative Metal", "classic-house?genres%3DClassic+House": "Classic House", "bass?genres%3DBass": "Bass", "house?genres%3DHouse": "House", "british-invasion?genres%3DBritish+Invasion": "British Invasion", "latin-pop?genres%3DPop+Latino": "Latin Pop", "christian-country?genres%3DChristian+Country": "Christian Country", "ax?genres%3DAx%C3%A9": "Ax", "french-varit?genres%3DFrench+Vari%C3%A9t%C3%A9": "French Varit", "indian-pop?genres%3DIndian+Pop": "Indian Pop", "chill-1980s-music?moods%3DChill%26eras%3D1980s": "Chill 1980s Music", "1980s-disco?genres%3DDisco%26eras%3D1980s": "1980s Disco", "urbano-latino?genres%3DUrbano+Latino": "Urbano Latino", "1990s-reggae?genres%3DReggae%26eras%3D1990s": "1990s Reggae", "k-indie?genres%3DK-Indie": "K-Indie", "motivated-music-for-meditation?tags%3DMeditation%26moods%3DMotivated": "Motivated Music for Meditating", "bebop?genres%3DBebop": "Bebop", "prog-rock?genres%3DProg-Rock": "Prog-Rock", "israeli-pop?genres%3DIsraeli+Pop": "Israeli Pop", "new-romantic?genres%3DNew+Romantic": "New Romantic", "bossa-nova?genres%3DBossa+Nova": "Bossa Nova", "1980s-r&b?genres%3DR%26B%26eras%3D1980s": "1980s R&B", "sad-instrumental?genres%3DInstrumental%26moods%3DSad": "Sad Instrumental", "australian-country?genres%3DAustralian+Country": "Australian Country", "thrash-metal?genres%3DThrash+Metal": "Thrash Metal", "post-rock?genres%3DPost-Rock": "Post-Rock", "dubstep?genres%3DDubstep": "Dubstep", "adult-urban-contemporary?genres%3DAdult+Urban+Contemporary": "Adult Urban Contemporary", "hard-rock?genres%3DHard+Rock": "Hard Rock", "1980s-pop?genres%3DPop%26eras%3D1980s": "1980s Pop", "motivated-1950s-music?moods%3DMotivated%26eras%3D1950s": "Motivated 1950s Music", "japanese?genres%3DJapanese": "Japanese", "metalcore?genres%3DMetalcore": "Metalcore", "hip-hop-rap-for-partying?genres%3DHip-Hop%2FRap%26tags%3DParty": "Hip-Hop / Rap for Partying", "happy-new-music?moods%3DHappy%26eras%3DNew": "Happy New Music", "post-punk?genres%3DPost-Punk": "Post-Punk", "khaleeji?genres%3DKhaleeji": "Khaleeji", "downtempo?genres%3DDowntempo": "Downtempo", "flamenco?genres%3DFlamenco": "Flamenco", "chillwave?genres%3DChillwave": "Chillwave", "classic-blues?genres%3DClassic+Blues": "Classic Blues", "chill-jazz?genres%3DJazz%26moods%3DChill": "Chill Jazz", "israeli-rock?genres%3DIsraeli+Rock": "Israeli Rock", "dub?genres%3DDub": "Dub", "bluegrass?genres%3DBluegrass": "Bluegrass", "2010s-country?genres%3DCountry%26eras%3D2010s": "2010s Country", "chill-country?genres%3DCountry%26moods%3DChill": "Chill Country", "traditional-country?genres%3DTraditional+Country": "Traditional Country", "1960s-country?genres%3DCountry%26eras%3D1960s": "1960s Country", "hawaiian?genres%3DHawaiian": "Hawaiian", "experimental?genres%3DExperimental": "Experimental", "country-for-partying?genres%3DCountry%26tags%3DParty": "Country for Partying", "stoner-rock?genres%3DStoner+Rock": "Stoner Rock", "gospel?genres%3DGospel": "Gospel", "2010s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D2010s": "2010s Hip-Hop / Rap", "classical?genres%3DClassical": "Classical", "chill-music-for-focusing?tags%3DFocusing%26moods%3DChill": "Chill Music for Focusing", "1970s-country?genres%3DCountry%26eras%3D1970s": "1970s Country", "strings?genres%3DStrings": "Strings", "jazz-for-entertaining?genres%3DJazz%26tags%3DEntertaining": "Jazz for Entertaining", "1960s-music-for-entertaining?tags%3DEntertaining%26eras%3D1960s": "1960s Music for Entertaining", "smooth-jazz?genres%3DSmooth+Jazz": "Smooth Jazz", "soul?genres%3DSoul": "Soul", "grime?genres%3DGrime": "Grime", "freestyle?genres%3DFreestyle": "Freestyle", "rock-in-portuguese?genres%3DRock+in+Portuguese": "Rock in Portuguese", "happy-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DHappy": "Happy Hip-Hop / Rap", "jangle-pop?genres%3DJangle+Pop": "Jangle Pop", "2000s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D2000s": "2000s Hip-Hop / Rap", "new-jack-swing?genres%3DNew+Jack+Swing": "New Jack Swing", "australian?genres%3DAustralian": "Australian", "dutch-pop?genres%3DDutch+Pop": "Dutch Pop", "jam-bands?genres%3DJam+Bands": "Jam Bands", "comedy?genres%3DComedy": "Comedy", "nu-metal?genres%3DNu+Metal": "Nu Metal", "blackgaze?genres%3DBlackgaze": "Blackgaze", "chill-lounge?genres%3DLounge%26moods%3DChill": "Chill Lounge", "chill-piano?genres%3DPiano%26moods%3DChill": "Chill Piano", "1960s-music?eras%3D1960s": "1960s Music", "classic-hip-hop-rap?genres%3DClassic+Hip-Hop%2FRap": "Classic Hip-Hop/Rap", "gangsta-rap?genres%3DGangsta+Rap": "Gangsta Rap", "1970s-folk?genres%3DFolk%26eras%3D1970s": "1970s Folk", "romantic---in-love-music?moods%3DRomantic+%2F+In+Love": "Romantic / In Love Music", "edm?genres%3DEDM": "EDM", "pop-italiano?genres%3DPop+Italiano": "Pop Italiano", "idm?genres%3DIDM": "IDM", "malayalam?genres%3DMalayalam": "Malayalam", "angry-music?moods%3DAngry": "Angry Music", "motivated-classical?genres%3DClassical%26moods%3DMotivated": "Motivated Classical", "1980s-music?eras%3D1980s": "1980s Music", "chill-dubstep?genres%3DDubstep%26moods%3DChill": "Chill Dubstep", "chinese-hip-hop?genres%3DChinese+Hip-Hop": "Chinese Hip-Hop", "musique-francophone?genres%3DMusique+Francophone": "Musique Francophone", "k-pop?genres%3DK-Pop": "K-Pop", "tropical-house?genres%3DTropical+House": "Tropical House", "broken-beat?genres%3DBroken+Beat": "Broken Beat", "chill-new-music?moods%3DChill%26eras%3DNew": "Chill New Music", "happy-jazz?genres%3DJazz%26moods%3DHappy": "Happy Jazz", "easy-listening?genres%3DEasy+Listening": "Easy Listening", "2000s-music?eras%3D2000s": "2000s Music", "1980s-country?genres%3DCountry%26eras%3D1980s": "1980s Country", "arabesque?genres%3DArabesque": "Arabesque", "motivated-music-for-focusing?tags%3DFocusing%26moods%3DMotivated": "Motivated Music for Focusing", "british?genres%3DBritish": "British", "chill-lullabies?genres%3DLullabies%26moods%3DChill": "Chill Lullabies", "breaking-up?tags%3DBreaking+Up": "Breaking Up", "sad-country?genres%3DCountry%26moods%3DSad": "Sad Country", "2000s-rock?genres%3DRock%26eras%3D2000s": "2000s Rock", "chicago-house?genres%3DChicago+House": "Chicago House", "classic-punk?genres%3DClassic+Punk": "Classic Punk", "ambient?genres%3DAmbient": "Ambient", "tololoche?genres%3DTololoche": "Tololoche", "cantautori?genres%3DCantautori": "Cantautori", "samba?genres%3DSamba": "Samba", "minimalism?genres%3DMinimalism": "Minimalism", "mariachi?genres%3DMariachi": "Mariachi", "corridos?genres%3DCorridos": "Corridos", "motivated-music-for-working-out?tags%3DWorkout%26moods%3DMotivated": "Motivated Music for Working Out", "1960s-pop?genres%3DPop%26eras%3D1960s": "1960s Pop", "cantopop?genres%3DCantopop": "Cantopop", "polka?genres%3DPolka": "Polka", "new-years-eve?genres%3DNew+Year%27s+Eve": "New Year's Eve", "chill-classical?genres%3DClassical%26moods%3DChill": "Chill Classical", "marchinhas?genres%3DMarchinhas": "Marchinhas", "trova?genres%3DTrova": "Trova", "deep-house?genres%3DDeep+House": "Deep House", "chill-music-for-entertaining?tags%3DEntertaining%26moods%3DChill": "Chill Music for Entertaining", "folktronica?genres%3DFolktronica": "Folktronica", "neo-soul?genres%3DNeo-Soul": "Neo-Soul", "chill-reggae?genres%3DReggae%26moods%3DChill": "Chill Reggae", "rakugo?genres%3DRakugo": "Rakugo", "disco?genres%3DDisco": "Disco", "rock-for-partying?genres%3DRock%26tags%3DParty": "Rock for Partying", "electric-blues?genres%3DElectric+Blues": "Electric Blues", "1990s-alternative?genres%3DAlternative%26eras%3D1990s": "1990s Alternative", "classical-for-meditation?genres%3DClassical%26tags%3DMeditation": "Classical for Meditating", "ghazals?genres%3DGhazals": "Ghazals", "1950s-music?eras%3D1950s": "1950s Music", "east-coast?genres%3DEast+Coast": "East Coast", "1970s-soul?genres%3DSoul%26eras%3D1970s": "1970s Soul", "2000s-r&b?genres%3DR%26B%26eras%3D2000s": "2000s R&B", "swiss-rap?genres%3DSwiss-Rap": "Swiss-Rap", "afro-beat?genres%3DAfro-Beat": "Afro-Beat", "1990s-pop?genres%3DPop%26eras%3D1990s": "1990s Pop", "uk-hip-hop-rap?genres%3DUK+Hip-Hop%2FRap": "UK Hip-Hop / Rap", "punjabi?genres%3DPunjabi": "Punjabi", "1980s-metal?genres%3DMetal%26eras%3D1980s": "1980s Metal", "nature?genres%3DNature": "Nature", "sertanejo?genres%3DSertanejo": "Sertanejo", "coffee-shop?genres%3DCoffee+Shop": "Coffee Shop", "hip-hop-rap-for-working-out?genres%3DHip-Hop%2FRap%26tags%3DWorkout": "Hip-Hop / Rap for Working Out", "contemporary-blues?genres%3DContemporary+Blues": "Today's Blues", "rock-for-working-out?genres%3DRock%26tags%3DWorkout": "Rock for Working Out", "j-pop?genres%3DJ-Pop": "J-Pop", "anime?genres%3DAnime": "Anime", "african-music?genres%3DAfrican+Music": "African Music", "outlaw-country?genres%3DOutlaw+Country": "Outlaw Country", "tamil?genres%3DTamil": "Tamil", "hrspiele?genres%3DH%C3%B6rspiele": "Radio Drama", "kids-&-family?genres%3DKids+%26+Family": "Kids & Family", "christian-rock?genres%3DChristian+Rock": "Christian Rock", "baile-funk?genres%3DBaile+Funk": "Baile Funk", "russian-hip-hop?genres%3DRussian+Hip-Hop": "Russian Hip-Hop", "deutschpop?genres%3DDeutschpop": "Deutschpop", "adult-contemporary?genres%3DAdult+Contemporary": "Adult Contemporary", "motivated-acoustic?genres%3DAcoustic%26moods%3DMotivated": "Motivated Acoustic", "chill-christian?genres%3DChristian%26moods%3DChill": "Chill Christian", "levant-pop?genres%3DLevant+Pop": "Levant Pop", "pop-punk?genres%3DPop+Punk": "Pop Punk", "contemporary-gospel?genres%3DContemporary+Gospel": "Contemporary Gospel", "sad-classical?genres%3DClassical%26moods%3DSad": "Sad Classical", "opera?genres%3DOpera": "Opera", "motown?genres%3DMotown": "Motown", "chill-relaxation?genres%3DRelaxation%26moods%3DChill": "Chill Relaxation", "1990s-music?eras%3D1990s": "1990s Music", "synth-pop?genres%3DSynth-Pop": "Synth-Pop", "happy-holiday?genres%3DHoliday%26moods%3DHappy": "Happy Holiday", "dangdut?genres%3DDangdut": "Dangdut", "chill-rock?genres%3DRock%26moods%3DChill": "Chill Rock", "swiss-pop?genres%3DSwiss-Pop": "Swiss-Pop", "duranguense?genres%3DDuranguense": "Duranguense", "avant-garde-jazz?genres%3DAvant-Garde+Jazz": "Avant-Garde Jazz", "thai-music?genres%3DThai+Music": "Thai Music", "electro?genres%3DElectro": "Electro", "indian-classical?genres%3DIndian+Classical": "Indian Classical", "egyptian-pop?genres%3DEgyptian+Pop": "Egyptian Pop", "romantic-music?moods%3DRomantic": "Romantic Music", "dark-wave?genres%3DDarkWave": "Dark Wave", "baroque-era?genres%3DBaroque+Era": "Baroque Era", "2000s-pop?genres%3DPop%26eras%3D2000s": "2000s Pop", "quiet-storm?genres%3DQuiet+Storm": "Quiet Storm", "pop-in-portuguese?genres%3DPop+in+Portuguese": "Pop in Portuguese", "teen-pop?genres%3DTeen+Pop": "Teen Pop", "adult-alternative?genres%3DAdult+Alternative": "Adult Alternative", "hip-hop-en-espaol?genres%3DHip-Hop+en+Espa%C3%B1ol": "Hip-Hop en Espaol", "chill-trance?genres%3DTrance%26moods%3DChill": "Chill Trance", "chill-music-for-meditation?tags%3DMeditation%26moods%3DChill": "Chill Music for Meditating", "motivated-instrumental?genres%3DInstrumental%26moods%3DMotivated": "Motivated Instrumental", "1990s-music-for-working-out?tags%3DWorkout%26eras%3D1990s": "1990s Music for Working Out", "jazz-for-focusing?genres%3DJazz%26tags%3DFocusing": "Jazz for Focusing", "traditional-folk?genres%3DTraditional+Folk": "Traditional Folk", "americana?genres%3DAmericana": "Americana", "motivated-country?genres%3DCountry%26moods%3DMotivated": "Motivated Country", "2000s-dance?genres%3DDance%26eras%3D2000s": "2000s Dance", "soft-rock?genres%3DSoft+Rock": "Soft Rock", "1990s-music-for-partying?tags%3DParty%26eras%3D1990s": "1990s Music for Partying", "1960s-rock?genres%3DRock%26eras%3D1960s": "1960s Rock", "shoegaze?genres%3DShoegaze": "Shoegaze", "french-pop?genres%3DFrench+Pop": "French Pop", "death-metal?genres%3DDeath+Metal": "Death Metal", "telugu?genres%3DTelugu": "Telugu", "britpop?genres%3DBritpop": "Britpop", "west-coast?genres%3DWest+Coast": "West Coast", "scores?genres%3DScores": "Scores", "indonesian-music?genres%3DIndonesian+Music": "Indonesian Music", "indie-rock?genres%3DIndie+Rock": "Indie Rock", "diy-punk?genres%3DDIY+Punk": "DIY Punk", "reggae?genres%3DReggae": "Reggae", "jazz-vocal?genres%3DJazz+Vocal": "Jazz Vocal", "microhouse?genres%3DMicrohouse": "Microhouse", "dance-for-partying?genres%3DDance%26tags%3DParty": "Dance for Partying", "mexican?genres%3DMexican": "Mexican", "chill-alternative?genres%3DAlternative%26moods%3DChill": "Chill Alternative", "mod?genres%3DMod": "Mod", "big-band?genres%3DBig+Band": "Big Band", "dutch?genres%3DDutch": "Dutch", "conscious-hip-hop?genres%3DConscious+Hip-Hop": "Conscious Hip-Hop", "fado?genres%3DFado": "Fado", "standards?genres%3DStandards": "Standards", "old-school-hip-hop?genres%3DOld+School": " Old School Hip-Hop", "renaissance?genres%3DRenaissance": "Renaissance", "relaxation?genres%3DRelaxation": "Relaxation", "regional-indian?genres%3DRegional+Indian": "Regional Indian", "getting-it-on?tags%3DGetting+It+On": "Getting It On", "k-r&b?genres%3DK-R%26B": "K-R&B", "1990s-grunge?genres%3DGrunge%26eras%3D1990s": "1990s Grunge", "college-rock?genres%3DCollege+Rock": "College Rock", "1970s-acoustic?genres%3DAcoustic%26eras%3D1970s": "1970s Acoustic", "1950s-jazz?genres%3DJazz%26eras%3D1950s": "1950s Jazz", "christian-pop?genres%3DChristian+Pop": "Christian Pop", "1950s-rock?genres%3DRock%26eras%3D1950s": "1950s Rock", "idol?genres%3DIdol": "Idol", "ragtime?genres%3DRagtime": "Ragtime", "swiss?genres%3DSwiss": "Swiss", "1980s-bollywood?genres%3DBollywood%26eras%3D1980s": "1980s Bollywood", "j-r&b?genres%3DJ-R%26B": "J-R&B", "classic-rock?genres%3DClassic+Rock": "Classic Rock", "halk?genres%3DHalk": "Halk", "celtic?genres%3DCeltic": "Celtic", "classic-country?genres%3DClassic+Country": "Classic Country", "nature-for-meditation?genres%3DNature%26tags%3DMeditation": "Nature for Meditating", "folk?genres%3DFolk": "Folk", "chill-house?genres%3DHouse%26moods%3DChill": "Chill House", "ska?genres%3DSka": "Ska", "dance-punk?genres%3DDance-Punk": "Dance-Punk", "chill-pop?genres%3DPop%26moods%3DChill": "Chill Pop", "1960s-soul?genres%3DSoul%26eras%3D1960s": "1960s Soul", "2010s-pop?genres%3DPop%26eras%3D2010s": "2010s Pop", "chill-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DChill": "Chill Hip-Hop / Rap", "pop-for-partying?genres%3DPop%26tags%3DParty": "Pop for Partying", "modern-dancehall?genres%3DModern+Dancehall": "Modern Dancehall", "glam-rock?genres%3DGlam+Rock": "Glam Rock", "rocksteady?genres%3DRocksteady": "Rocksteady", "irish?genres%3DIrish": "Irish", "roots-reggae?genres%3DRoots+Reggae": "Roots Reggae", "alt-country?genres%3DAlt+Country": "Alt Country", "halloween?genres%3DHalloween": "Halloween", "kannada?genres%3DKannada": "Kannada", "deutsche-streetrap?genres%3DDeutsche+Streetrap": "Deutsche Streetrap", "folk-rock?genres%3DFolk-Rock": "Folk-Rock", "pinoy-pop?genres%3DPinoy+Pop": "Pinoy Pop", "tarab?genres%3DTarab": "Tarab", "dutch-hip-hop?genres%3DDutch+Hip-Hop": "Dutch Hip-Hop", "family-time?tags%3DFamily+Time": "Family Time", "musicals?genres%3DMusicals": "Musicals", "chill-r&b?genres%3DR%26B%26moods%3DChill": "Chill R&B", "french-hip-hop-rap?genres%3DFrench+Hip-Hop%2FRap": "French Hip-Hop / Rap", "happy-c-pop?genres%3DC-Pop%26moods%3DHappy": "Happy C-Pop", "sad-piano?genres%3DPiano%26moods%3DSad": "Sad Piano", "yacht-rock?genres%3DYacht+Rock": "Yacht Rock", "industrial-metal?genres%3DIndustrial+Metal": "Industrial Metal", "bengali?genres%3DBengali": "Bengali", "khaleeji-pop?genres%3DKhaleeji+Pop": "Khaleeji Pop", "1970s-music?eras%3D1970s": "1970s Music", "afro-pop?genres%3DAfro-Pop": "Afro-Pop", "afrikaans?genres%3DAfrikaans": "Afrikaans", "sambas-de-enredo?genres%3DSambas+de+enredo": "Sambas De Enredo", "tv-drama?genres%3DTV+Drama": "TV Drama", "indie-en-espaol?genres%3DIndie+en+Espa%C3%B1ol": "Indie en Espaol", "chill-ambient?genres%3DAmbient%26moods%3DChill": "Chill Ambient", "orchestral?genres%3DOrchestral": "Orchestral", "indian?genres%3DIndian": "Indian", "classic-soul?genres%3DClassic+Soul": "Classic Soul", "happy-1980s-music?moods%3DHappy%26eras%3D1980s": "Happy 1980s Music", "israeli-alternative?genres%3DIsraeli+Alternative": "Israeli Alternative" } }, Lse = { "en-gb": { "chinese?genres%3DChinese": "Chinese", "devotional-&-spiritual?genres%3DDevotional+%26+Spiritual": "Devotional & Spiritual", "vocaloid?genres%3DVocaloid": "Vocaloid", "rockabilly?genres%3DRockabilly": "Rockabilly", "motivated-holiday?genres%3DHoliday%26moods%3DMotivated": "Motivated Holiday", "cumbia?genres%3DCumbia": "Cumbia", "surf?genres%3DSurf": "Surf", "romantic-era?genres%3DRomantic+Era": "Romantic Era", "jungle?genres%3DJungle": "Jungle", "motivated-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DMotivated": "Motivated Hip-Hop / Rap", "australian-pub-rock?genres%3DAustralian+Pub+Rock": "Australian Pub Rock", "alternative?genres%3DAlternative": "Alternative", "doo-wop?genres%3DDoo+Wop": "Doo Wop", "1970s-funk?genres%3DFunk%26eras%3D1970s": "1970s Funk", "contemporary-jazz?genres%3DContemporary+Jazz": "Contemporary Jazz", "extreme-metal?genres%3DExtreme+Metal": "Extreme Metal", "1970s-oldies?genres%3DOldies%26eras%3D1970s": "1970s Oldies", "brazilian?genres%3DBrazilian": "Brazilian", "trap?genres%3DTrap": "Trap", "1980s-holiday?genres%3DHoliday%26eras%3D1980s": "1980s Holiday", "trance?genres%3DTrance": "Trance", "k-rock?genres%3DK-Rock": "K-Rock", "pop-for-working-out?genres%3DPop%26tags%3DWorkout": "Pop for Working Out", "r&b?genres%3DR%26B": "R&B", "caribbean?genres%3DCaribbean": "Caribbean", "screamo?genres%3DScreamo": "Screamo", "bollywood?genres%3DBollywood": "Bollywood", "russian?genres%3DRussian": "Russian", "progressive-house?genres%3DProgressive+House": "Progressive House", "detroit-techno?genres%3DDetroit+Techno": "Detroit Techno", "classical-for-focusing?genres%3DClassical%26tags%3DFocusing": "Classical for Focusing", "honky-tonk?genres%3DHonky+Tonk": "Honky Tonk", "hair-metal?genres%3DHair+Metal": "Hair Metal", "rock?genres%3DRock": "Rock", "christian?genres%3DChristian": "Christian", "classic-singer-songwriter?genres%3DClassic+Singer%2FSongwriter": "Classic Singer / Songwriter", "rave?genres%3DRave": "Rave", "forr?genres%3DForr%C3%B3": "Forr", "bashment?genres%3DBashment": "Bashment", "cloud-rap?genres%3DCloud+Rap": "Cloud Rap", "cooldown?tags%3DCooldown": "Cooldown", "christian-rap?genres%3DChristian+Rap": "Christian Rap", "2000s-alternative?genres%3DAlternative%26eras%3D2000s": "2000s Alternative", "1990s-rock?genres%3DRock%26eras%3D1990s": "1990s Rock", "idol--anime?genres%3DIdol%3A+Anime": "Idol: Anime", "dixieland?genres%3DDixieland": "Dixieland", "russian-pop?genres%3DRussian+Pop": "Russian Pop", "golden-age-hip-hop?genres%3DGolden+Age": " Golden Age Hip-Hop", "focusing?tags%3DFocusing": "Focusing", "indian-independent?genres%3DIndian+Independent": "Indian Independent", "canadian?genres%3DCanadian": "Canadian", "1970s-music-for-partying?tags%3DParty%26eras%3D1970s": "1970s Music for Partying", "southern-gospel?genres%3DSouthern+Gospel": "Southern Gospel", "trap-latino?genres%3DTrap+Latino": "Trap Latino", "latino?genres%3DLatino": "Latino", "russian-chanson?genres%3DRussian+Chanson": "Russian Chanson", "sanat?genres%3DSanat": "Sanat", "chill-acoustic?genres%3DAcoustic%26moods%3DChill": "Chill Acoustic", "alternative-rap?genres%3DAlternative+Rap": "Alternative Rap", "chill-indie?genres%3DIndie%26moods%3DChill": "Chill Indie", "1990s-dance?genres%3DDance%26eras%3D1990s": "1990s Dance", "indie?genres%3DIndie": "Indie", "1970s-disco?genres%3DDisco%26eras%3D1970s": "1970s Disco", "hardcore-punk?genres%3DHardcore+Punk": "Hardcore Punk", "hip-hop-rap-italiano?genres%3DHip-Hop%2FRap+Italiano": "Hip-Hop / Rap Italiano", "sad-music?moods%3DSad": "Sad Music", "chill-electronica?genres%3DElectronica%26moods%3DChill": "Chill Electronica", "pop?genres%3DPop": "Pop", "lounge?genres%3DLounge": "Lounge", "psychobilly?genres%3DPsychobilly": "Psychobilly", "electronic-for-working-out?genres%3DElectronic%26tags%3DWorkout": "Electronic for Working Out", "chill-dance?genres%3DDance%26moods%3DChill": "Chill Dance", "latin-jazz?genres%3DLatin+Jazz": "Latin Jazz", "boleros?genres%3DBoleros": "Boleros", "r&b-for-working-out?genres%3DR%26B%26tags%3DWorkout": "R&B for Working Out", "hip-hop-rap?genres%3DHip-Hop%2FRap": "Hip-Hop / Rap", "motivated-c-pop?genres%3DC-Pop%26moods%3DMotivated": "Motivated C-Pop", "1990s-r&b?genres%3DR%26B%26eras%3D1990s": "1990s R&B", "oldies?genres%3DOldies": "Oldies", "jazz?genres%3DJazz": "Jazz", "acoustic?genres%3DAcoustic": "Acoustic", "chill-nature?genres%3DNature%26moods%3DChill": "Chill Nature", "singer-songwriter?genres%3DSinger%2FSongwriter": "Singer / Songwriter", "punk?genres%3DPunk": "Punk", "motivated-music?moods%3DMotivated": "Motivated Music", "spanish?genres%3DSpanish": "Spanish", "1990s-disco?genres%3DDisco%26eras%3D1990s": "1990s Disco", "paisley-underground?genres%3DPaisley+Underground": "Paisley Underground", "indie-r&b?genres%3DIndie+R%26B": "Indie R&B", "grunge?genres%3DGrunge": "Grunge", "lullabies?genres%3DLullabies": "Lullabies", "classic-metal?genres%3DClassic+Metal": "Classic Metal", "arabic?genres%3DArabic": "Arabic", "worldbeat?genres%3DWorldbeat": "Worldbeat", "southern-rock?genres%3DSouthern+Rock": "Southern Rock", "german?genres%3DGerman": "German", "1980s-music-for-partying?tags%3DParty%26eras%3D1980s": "1980s Music for Partying", "sad-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DSad": "Sad Hip-Hop / Rap", "piano-for-meditation?genres%3DPiano%26tags%3DMeditation": "Piano for Meditating", "french?genres%3DFrench": "French", "doom?genres%3DDoom": "Doom", "country?genres%3DCountry": "Country", "south-american?genres%3DSouth+American": "South American", "instrumental?genres%3DInstrumental": "Instrumental", "mizrahi?genres%3DMizrahi": "Mizrahi", "hyphy?genres%3DHyphy": "Hyphy", "post-grunge?genres%3DPost-Grunge": "Post-Grunge", "portuguese?genres%3DPortuguese": "Portuguese", "working-out?tags%3DWorkout": "Working Out", "balearic?genres%3DBalearic": "Balearic", "upbeat-music?moods%3DUpbeat": "Upbeat Music", "arabic-pop?genres%3DArabic+Pop": "Arabic Pop", "holiday-for-partying?genres%3DHoliday%26tags%3DParty": "Holiday for Partying", "belgian?genres%3DBelgian": "Belgian", "meditation?tags%3DMeditation": "Meditating", "j-rock?genres%3DJ-Rock": "J-Rock", "happy-music-for-partying?tags%3DParty%26moods%3DHappy": "Happy Music for Partying", "karaoke?genres%3DKaraoke": "Karaoke", "british-metal?genres%3DBritish+Metal": "British Metal", "russian-rock?genres%3DRussian+Rock": "Russian Rock", "dance-for-working-out?genres%3DDance%26tags%3DWorkout": "Dance for Working Out", "french-touch?genres%3DFrench+Touch": "French Touch", "chill-music-for-partying?tags%3DParty%26moods%3DChill": "Chill Music for Partying", "motivated-pop?genres%3DPop%26moods%3DMotivated": "Motivated Pop", "metal?genres%3DMetal": "Metal", "vietnamese?genres%3DVietnamese": "Vietnamese", "mpb?genres%3DMPB": "MPB", "cubaton?genres%3DCubaton": "Cubaton", "dance?genres%3DDance": "Dance", "1990s-indie?genres%3DIndie%26eras%3D1990s": "1990s Indie", "choral?genres%3DChoral": "Choral", "sludge?genres%3DSludge": "Sludge", "soca?genres%3DSoca": "Soca", "salsa?genres%3DSalsa": "Salsa", "1980s-dance?genres%3DDance%26eras%3D1980s": "1980s Dance", "power-pop?genres%3DPower+Pop": "Power Pop", "new-wave?genres%3DNew+Wave": "New Wave", "arena-rock?genres%3DArena+Rock": "Arena Rock", "aussie-hip-hop-rap?genres%3DAussie+Hip-Hop%2FRap": "Aussie Hip-Hop / Rap", "new-age?genres%3DNew+Age": "New Age", "1990s-bollywood?genres%3DBollywood%26eras%3D1990s": "1990s Bollywood", "merengue?genres%3DMerengue": "Merengue", "delta-blues?genres%3DDelta+Blues": "Delta Blues", "scottish?genres%3DScottish": "Scottish", "thai-pop?genres%3DThai+Pop": "Thai Pop", "khaleeji-tarab?genres%3DKhaleeji+Tarab": "Khaleeji Tarab", "vallenato?genres%3DVallenato": "Vallenato", "happy-dance?genres%3DDance%26moods%3DHappy": "Happy Dance", "1990s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D1990s": "1990s Hip-Hop / Rap", "saxophone?genres%3DSaxophone": "Saxophone", "msica-mexicana?genres%3DM%C3%BAsica+Mexicana": "Msica Mexicana", "chinese-alt?genres%3DChinese+Alt": "Chinese Alt", "afrobeats?genres%3DAfrobeats": "Afrobeats", "calypso?genres%3DCalypso": "Calypso", "miami-bass?genres%3DMiami+Bass": "Miami Bass", "tango?genres%3DTango": "Tango", "sleep?tags%3DSleep": "Sleep", "happy-pop?genres%3DPop%26moods%3DHappy": "Happy Pop", "pagode?genres%3DPagode": "Pagode", "j-hip-hop?genres%3DJ-Hip-Hop": "J-Hip-Hop", "1990s-techno?genres%3DTechno%26eras%3D1990s": "1990s Techno", "electronic?genres%3DElectronic": "Electronic", "alternativo-en-espaol?genres%3DAlternativo+en+Espa%C3%B1ol": "Alternativo en Espaol", "israeli?genres%3DIsraeli": "Israeli", "1980s-alternative?genres%3DAlternative%26eras%3D1980s": "1980s Alternative", "roots-rock?genres%3DRoots+Rock": "Roots Rock", "entertaining?tags%3DEntertaining": "Entertaining", "uk-garage?genres%3DUK+Garage": "UK Garage", "tai-pop?genres%3DTai-Pop": "Tai-Pop", "funk?genres%3DFunk": "Funk", "mandopop?genres%3DMandopop": "Mandopop", "1970s-rock?genres%3DRock%26eras%3D1970s": "1970s Rock", "piano?genres%3DPiano": "Piano", "fusion-jazz?genres%3DFusion+Jazz": "Fusion Jazz", "1980s-soul?genres%3DSoul%26eras%3D1980s": "1980s Soul", "reggaeton?genres%3DReggaeton": "Reggaeton", "malaysian-music?genres%3DMalaysian+Music": "Malaysian Music", "korean?genres%3DKorean": "Korean", "instrumental-for-meditation?genres%3DInstrumental%26tags%3DMeditation": "Instrumental for Meditating", "lullabies-for-meditation?genres%3DLullabies%26tags%3DMeditation": "Lullabies for Meditating", "chinese-rock?genres%3DChinese+Rock": "Chinese Rock", "nueva-cancin?genres%3DNueva+Canci%C3%B3n": "Nueva Cancin", "schlager?genres%3DSchlager": "Schlager", "psych-rock?genres%3DPsych+Rock": "Psych Rock", "1990s-metal?genres%3DMetal%26eras%3D1990s": "1990s Metal", "soul-jazz?genres%3DSoul+Jazz": "Soul Jazz", "new-music?eras%3DNew": "New Music", "film,-tv-&-stage?genres%3DStage+and+Screen": "Film, TV & Stage", "rock-en-espaol?genres%3DRock+en+Espa%C3%B1ol": "Rock en Espaol", "rancheras?genres%3DRancheras": "Rancheras", "goth?genres%3DGoth": "Goth", "1990s-country?genres%3DCountry%26eras%3D1990s": "1990s Country", "indie-pop?genres%3DIndie+Pop": "Indie Pop", "dirty-south?genres%3DDirty+South": "Dirty South", "chicago-blues?genres%3DChicago+Blues": "Chicago Blues", "indie-dance?genres%3DIndie+Dance": "Indie Dance", "garage?genres%3DGarage": "Garage", "banda?genres%3DBanda": "Banda", "turkish?genres%3DTurkish": "Turkish", "k-hip-hop?genres%3DK+Hip-Hop%2FRap": " K-Hip-Hop", "1970s-r&b?genres%3DR%26B%26eras%3D1970s": "1970s R&B", "underground-hip-hop-rap?genres%3DUnderground+Hip-Hop%2FRap": "Underground Hip-Hop / Rap", "c-pop?genres%3DC-Pop": "C-Pop", "relaxation-for-meditation?genres%3DRelaxation%26tags%3DMeditation": "Relaxation for Meditating", "alt-rock?genres%3DAlt+Rock": "Alt Rock", "requinto?genres%3DRequinto": "Requinto", "lovers-rock?genres%3DLovers+Rock": "Lovers Rock", "bachata?genres%3DBachata": "Bachata", "country-rock?genres%3DCountry+Rock": "Country Rock", "techno?genres%3DTechno": "Techno", "motivated-jazz?genres%3DJazz%26moods%3DMotivated": "Motivated Jazz", "modern-era?genres%3DModern+Era": "Modern Era", "kayokyoku?genres%3DKayokyoku": "Kayokyoku", "chill-1970s-music?moods%3DChill%26eras%3D1970s": "Chill 1970s Music", "christmas?genres%3DChristmas": "Christmas", "k-pop-for-working-out?genres%3DK-Pop%26tags%3DWorkout": "K-Pop for Working Out", "dancehall?genres%3DDancehall": "Dancehall", "1970s-music-for-working-out?tags%3DWorkout%26eras%3D1970s": "1970s Music for Working Out", "chill-holiday?genres%3DHoliday%26moods%3DChill": "Chill Holiday", "disney?genres%3DDisney": "Disney", "afro-swing?genres%3DAfro-Swing": "Afro-Swing", "chill-electronic?genres%3DElectronic%26moods%3DChill": "Chill Electronic", "blues?genres%3DBlues": "Blues", "acid-house?genres%3DAcid+House": "Acid House", "2000s-country?genres%3DCountry%26eras%3D2000s": "2000s Country", "sad-bollywood?genres%3DBollywood%26moods%3DSad": "Sad Bollywood", "black-metal?genres%3DBlack+Metal": "Black Metal", "happy-music?moods%3DHappy": "Happy Music", "grindcore?genres%3DGrindcore": "Grindcore", "1970s-dance?genres%3DDance%26eras%3D1970s": "1970s Dance", "1980s-rock?genres%3DRock%26eras%3D1980s": "1980s Rock", "emo?genres%3DEMO": "Emo", "praise-&-worship?genres%3DPraise+%26+Worship": "Praise & Worship", "holiday?genres%3DHoliday": "Holiday", "chill-instrumental?genres%3DInstrumental%26moods%3DChill": "Chill Instrumental", "chamber-music?genres%3DChamber+Music": "Chamber Music", "dad-rock?genres%3DDad+Rock": "Dad Rock", "chill-music?moods%3DChill": "Chill Music", "1970s-pop?genres%3DPop%26eras%3D1970s": "1970s Pop", "cool-jazz?genres%3DCool+Jazz": "Cool Jazz", "1990s-dancehall?genres%3DDancehall%26eras%3D1990s": "1990s Dancehall", "german-folk?genres%3DGerman+Folk": "German Folk", "norteo?genres%3DNorte%C3%B1o": "Norteo", "hard-bop?genres%3DHard+Bop": "Hard Bop", "electronica?genres%3DElectronica": "Electronica", "partying?tags%3DParty": "Partying", "holiday-for-entertaining?genres%3DHoliday%26tags%3DEntertaining": "Holiday for Entertaining", "instrumental-for-focusing?genres%3DInstrumental%26tags%3DFocusing": "Instrumental for Focusing", "third-wave-ska?genres%3DThird+Wave+Ska": "Third Wave Ska", "bollywood-for-partying?genres%3DBollywood%26tags%3DParty": "Bollywood for Partying", "enka?genres%3DEnka": "Enka", "crunk?genres%3DCrunk": "Crunk", "1990s-punk?genres%3DPunk%26eras%3D1990s": "1990s Punk", "2010s-music?eras%3D2010s": "2010s Music", "1980s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D1980s": "1980s Hip-Hop / Rap", "alternative-metal?genres%3DAlternative+Metal": "Alternative Metal", "classic-house?genres%3DClassic+House": "Classic House", "bass?genres%3DBass": "Bass", "house?genres%3DHouse": "House", "british-invasion?genres%3DBritish+Invasion": "British Invasion", "latin-pop?genres%3DPop+Latino": "Latin Pop", "christian-country?genres%3DChristian+Country": "Christian Country", "ax?genres%3DAx%C3%A9": "Ax", "french-varit?genres%3DFrench+Vari%C3%A9t%C3%A9": "French Varit", "indian-pop?genres%3DIndian+Pop": "Indian Pop", "chill-1980s-music?moods%3DChill%26eras%3D1980s": "Chill 1980s Music", "1980s-disco?genres%3DDisco%26eras%3D1980s": "1980s Disco", "urbano-latino?genres%3DUrbano+Latino": "Urbano Latino", "1990s-reggae?genres%3DReggae%26eras%3D1990s": "1990s Reggae", "k-indie?genres%3DK-Indie": "K-Indie", "motivated-music-for-meditation?tags%3DMeditation%26moods%3DMotivated": "Motivated Music for Meditating", "bebop?genres%3DBebop": "Bebop", "prog-rock?genres%3DProg-Rock": "Prog-Rock", "israeli-pop?genres%3DIsraeli+Pop": "Israeli Pop", "new-romantic?genres%3DNew+Romantic": "New Romantic", "bossa-nova?genres%3DBossa+Nova": "Bossa Nova", "1980s-r&b?genres%3DR%26B%26eras%3D1980s": "1980s R&B", "sad-instrumental?genres%3DInstrumental%26moods%3DSad": "Sad Instrumental", "australian-country?genres%3DAustralian+Country": "Australian Country", "thrash-metal?genres%3DThrash+Metal": "Thrash Metal", "post-rock?genres%3DPost-Rock": "Post-Rock", "dubstep?genres%3DDubstep": "Dubstep", "adult-urban-contemporary?genres%3DAdult+Urban+Contemporary": "Adult Urban Contemporary", "hard-rock?genres%3DHard+Rock": "Hard Rock", "1980s-pop?genres%3DPop%26eras%3D1980s": "1980s Pop", "motivated-1950s-music?moods%3DMotivated%26eras%3D1950s": "Motivated 1950s Music", "japanese?genres%3DJapanese": "Japanese", "metalcore?genres%3DMetalcore": "Metalcore", "hip-hop-rap-for-partying?genres%3DHip-Hop%2FRap%26tags%3DParty": "Hip-Hop / Rap for Partying", "happy-new-music?moods%3DHappy%26eras%3DNew": "Happy New Music", "post-punk?genres%3DPost-Punk": "Post-Punk", "khaleeji?genres%3DKhaleeji": "Khaleeji", "downtempo?genres%3DDowntempo": "Downtempo", "flamenco?genres%3DFlamenco": "Flamenco", "chillwave?genres%3DChillwave": "Chillwave", "classic-blues?genres%3DClassic+Blues": "Classic Blues", "chill-jazz?genres%3DJazz%26moods%3DChill": "Chill Jazz", "israeli-rock?genres%3DIsraeli+Rock": "Israeli Rock", "dub?genres%3DDub": "Dub", "bluegrass?genres%3DBluegrass": "Bluegrass", "2010s-country?genres%3DCountry%26eras%3D2010s": "2010s Country", "chill-country?genres%3DCountry%26moods%3DChill": "Chill Country", "traditional-country?genres%3DTraditional+Country": "Traditional Country", "1960s-country?genres%3DCountry%26eras%3D1960s": "1960s Country", "hawaiian?genres%3DHawaiian": "Hawaiian", "experimental?genres%3DExperimental": "Experimental", "country-for-partying?genres%3DCountry%26tags%3DParty": "Country for Partying", "stoner-rock?genres%3DStoner+Rock": "Stoner Rock", "gospel?genres%3DGospel": "Gospel", "2010s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D2010s": "2010s Hip-Hop / Rap", "classical?genres%3DClassical": "Classical", "chill-music-for-focusing?tags%3DFocusing%26moods%3DChill": "Chill Music for Focusing", "1970s-country?genres%3DCountry%26eras%3D1970s": "1970s Country", "strings?genres%3DStrings": "Strings", "jazz-for-entertaining?genres%3DJazz%26tags%3DEntertaining": "Jazz for Entertaining", "1960s-music-for-entertaining?tags%3DEntertaining%26eras%3D1960s": "1960s Music for Entertaining", "smooth-jazz?genres%3DSmooth+Jazz": "Smooth Jazz", "soul?genres%3DSoul": "Soul", "grime?genres%3DGrime": "Grime", "freestyle?genres%3DFreestyle": "Freestyle", "rock-in-portuguese?genres%3DRock+in+Portuguese": "Rock in Portuguese", "happy-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DHappy": "Happy Hip-Hop / Rap", "jangle-pop?genres%3DJangle+Pop": "Jangle Pop", "2000s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D2000s": "2000s Hip-Hop / Rap", "new-jack-swing?genres%3DNew+Jack+Swing": "New Jack Swing", "australian?genres%3DAustralian": "Australian", "dutch-pop?genres%3DDutch+Pop": "Dutch Pop", "jam-bands?genres%3DJam+Bands": "Jam Bands", "comedy?genres%3DComedy": "Comedy", "nu-metal?genres%3DNu+Metal": "Nu Metal", "blackgaze?genres%3DBlackgaze": "Blackgaze", "chill-lounge?genres%3DLounge%26moods%3DChill": "Chill Lounge", "chill-piano?genres%3DPiano%26moods%3DChill": "Chill Piano", "1960s-music?eras%3D1960s": "1960s Music", "classic-hip-hop-rap?genres%3DClassic+Hip-Hop%2FRap": "Classic Hip-Hop/Rap", "gangsta-rap?genres%3DGangsta+Rap": "Gangsta Rap", "1970s-folk?genres%3DFolk%26eras%3D1970s": "1970s Folk", "romantic---in-love-music?moods%3DRomantic+%2F+In+Love": "Romantic / In Love Music", "edm?genres%3DEDM": "EDM", "pop-italiano?genres%3DPop+Italiano": "Pop Italiano", "idm?genres%3DIDM": "IDM", "malayalam?genres%3DMalayalam": "Malayalam", "angry-music?moods%3DAngry": "Angry Music", "motivated-classical?genres%3DClassical%26moods%3DMotivated": "Motivated Classical", "1980s-music?eras%3D1980s": "1980s Music", "chill-dubstep?genres%3DDubstep%26moods%3DChill": "Chill Dubstep", "chinese-hip-hop?genres%3DChinese+Hip-Hop": "Chinese Hip-Hop", "musique-francophone?genres%3DMusique+Francophone": "Musique Francophone", "k-pop?genres%3DK-Pop": "K-Pop", "tropical-house?genres%3DTropical+House": "Tropical House", "broken-beat?genres%3DBroken+Beat": "Broken Beat", "chill-new-music?moods%3DChill%26eras%3DNew": "Chill New Music", "happy-jazz?genres%3DJazz%26moods%3DHappy": "Happy Jazz", "easy-listening?genres%3DEasy+Listening": "Easy Listening", "2000s-music?eras%3D2000s": "2000s Music", "1980s-country?genres%3DCountry%26eras%3D1980s": "1980s Country", "arabesque?genres%3DArabesque": "Arabesque", "motivated-music-for-focusing?tags%3DFocusing%26moods%3DMotivated": "Motivated Music for Focusing", "british?genres%3DBritish": "British", "chill-lullabies?genres%3DLullabies%26moods%3DChill": "Chill Lullabies", "breaking-up?tags%3DBreaking+Up": "Breaking Up", "sad-country?genres%3DCountry%26moods%3DSad": "Sad Country", "2000s-rock?genres%3DRock%26eras%3D2000s": "2000s Rock", "chicago-house?genres%3DChicago+House": "Chicago House", "classic-punk?genres%3DClassic+Punk": "Classic Punk", "ambient?genres%3DAmbient": "Ambient", "tololoche?genres%3DTololoche": "Tololoche", "cantautori?genres%3DCantautori": "Cantautori", "samba?genres%3DSamba": "Samba", "minimalism?genres%3DMinimalism": "Minimalism", "mariachi?genres%3DMariachi": "Mariachi", "corridos?genres%3DCorridos": "Corridos", "motivated-music-for-working-out?tags%3DWorkout%26moods%3DMotivated": "Motivated Music for Working Out", "1960s-pop?genres%3DPop%26eras%3D1960s": "1960s Pop", "cantopop?genres%3DCantopop": "Cantopop", "polka?genres%3DPolka": "Polka", "new-years-eve?genres%3DNew+Year%27s+Eve": "New Year's Eve", "chill-classical?genres%3DClassical%26moods%3DChill": "Chill Classical", "marchinhas?genres%3DMarchinhas": "Marchinhas", "trova?genres%3DTrova": "Trova", "deep-house?genres%3DDeep+House": "Deep House", "chill-music-for-entertaining?tags%3DEntertaining%26moods%3DChill": "Chill Music for Entertaining", "folktronica?genres%3DFolktronica": "Folktronica", "neo-soul?genres%3DNeo-Soul": "Neo-Soul", "chill-reggae?genres%3DReggae%26moods%3DChill": "Chill Reggae", "rakugo?genres%3DRakugo": "Rakugo", "disco?genres%3DDisco": "Disco", "rock-for-partying?genres%3DRock%26tags%3DParty": "Rock for Partying", "electric-blues?genres%3DElectric+Blues": "Electric Blues", "1990s-alternative?genres%3DAlternative%26eras%3D1990s": "1990s Alternative", "classical-for-meditation?genres%3DClassical%26tags%3DMeditation": "Classical for Meditating", "ghazals?genres%3DGhazals": "Ghazals", "1950s-music?eras%3D1950s": "1950s Music", "east-coast?genres%3DEast+Coast": "East Coast", "1970s-soul?genres%3DSoul%26eras%3D1970s": "1970s Soul", "2000s-r&b?genres%3DR%26B%26eras%3D2000s": "2000s R&B", "swiss-rap?genres%3DSwiss-Rap": "Swiss-Rap", "afro-beat?genres%3DAfro-Beat": "Afro-Beat", "1990s-pop?genres%3DPop%26eras%3D1990s": "1990s Pop", "uk-hip-hop-rap?genres%3DUK+Hip-Hop%2FRap": "UK Hip-Hop / Rap", "punjabi?genres%3DPunjabi": "Punjabi", "1980s-metal?genres%3DMetal%26eras%3D1980s": "1980s Metal", "nature?genres%3DNature": "Nature", "sertanejo?genres%3DSertanejo": "Sertanejo", "coffee-shop?genres%3DCoffee+Shop": "Coffee Shop", "hip-hop-rap-for-working-out?genres%3DHip-Hop%2FRap%26tags%3DWorkout": "Hip-Hop / Rap for Working Out", "contemporary-blues?genres%3DContemporary+Blues": "Today's Blues", "rock-for-working-out?genres%3DRock%26tags%3DWorkout": "Rock for Working Out", "j-pop?genres%3DJ-Pop": "J-Pop", "anime?genres%3DAnime": "Anime", "african-music?genres%3DAfrican+Music": "African Music", "outlaw-country?genres%3DOutlaw+Country": "Outlaw Country", "tamil?genres%3DTamil": "Tamil", "hrspiele?genres%3DH%C3%B6rspiele": "Radio Drama", "kids-&-family?genres%3DKids+%26+Family": "Kids & Family", "christian-rock?genres%3DChristian+Rock": "Christian Rock", "baile-funk?genres%3DBaile+Funk": "Baile Funk", "russian-hip-hop?genres%3DRussian+Hip-Hop": "Russian Hip-Hop", "deutschpop?genres%3DDeutschpop": "Deutschpop", "adult-contemporary?genres%3DAdult+Contemporary": "Adult Contemporary", "motivated-acoustic?genres%3DAcoustic%26moods%3DMotivated": "Motivated Acoustic", "chill-christian?genres%3DChristian%26moods%3DChill": "Chill Christian", "levant-pop?genres%3DLevant+Pop": "Levant Pop", "pop-punk?genres%3DPop+Punk": "Pop Punk", "contemporary-gospel?genres%3DContemporary+Gospel": "Contemporary Gospel", "sad-classical?genres%3DClassical%26moods%3DSad": "Sad Classical", "opera?genres%3DOpera": "Opera", "motown?genres%3DMotown": "Motown", "chill-relaxation?genres%3DRelaxation%26moods%3DChill": "Chill Relaxation", "1990s-music?eras%3D1990s": "1990s Music", "synth-pop?genres%3DSynth-Pop": "Synth-Pop", "happy-holiday?genres%3DHoliday%26moods%3DHappy": "Happy Holiday", "dangdut?genres%3DDangdut": "Dangdut", "chill-rock?genres%3DRock%26moods%3DChill": "Chill Rock", "swiss-pop?genres%3DSwiss-Pop": "Swiss-Pop", "duranguense?genres%3DDuranguense": "Duranguense", "avant-garde-jazz?genres%3DAvant-Garde+Jazz": "Avant-Garde Jazz", "thai-music?genres%3DThai+Music": "Thai Music", "electro?genres%3DElectro": "Electro", "indian-classical?genres%3DIndian+Classical": "Indian Classical", "egyptian-pop?genres%3DEgyptian+Pop": "Egyptian Pop", "romantic-music?moods%3DRomantic": "Romantic Music", "dark-wave?genres%3DDarkWave": "Dark Wave", "baroque-era?genres%3DBaroque+Era": "Baroque Era", "2000s-pop?genres%3DPop%26eras%3D2000s": "2000s Pop", "quiet-storm?genres%3DQuiet+Storm": "Quiet Storm", "pop-in-portuguese?genres%3DPop+in+Portuguese": "Pop in Portuguese", "teen-pop?genres%3DTeen+Pop": "Teen Pop", "adult-alternative?genres%3DAdult+Alternative": "Adult Alternative", "hip-hop-en-espaol?genres%3DHip-Hop+en+Espa%C3%B1ol": "Hip-Hop en Espaol", "chill-trance?genres%3DTrance%26moods%3DChill": "Chill Trance", "chill-music-for-meditation?tags%3DMeditation%26moods%3DChill": "Chill Music for Meditating", "motivated-instrumental?genres%3DInstrumental%26moods%3DMotivated": "Motivated Instrumental", "1990s-music-for-working-out?tags%3DWorkout%26eras%3D1990s": "1990s Music for Working Out", "jazz-for-focusing?genres%3DJazz%26tags%3DFocusing": "Jazz for Focusing", "traditional-folk?genres%3DTraditional+Folk": "Traditional Folk", "americana?genres%3DAmericana": "Americana", "motivated-country?genres%3DCountry%26moods%3DMotivated": "Motivated Country", "2000s-dance?genres%3DDance%26eras%3D2000s": "2000s Dance", "soft-rock?genres%3DSoft+Rock": "Soft Rock", "1990s-music-for-partying?tags%3DParty%26eras%3D1990s": "1990s Music for Partying", "1960s-rock?genres%3DRock%26eras%3D1960s": "1960s Rock", "shoegaze?genres%3DShoegaze": "Shoegaze", "french-pop?genres%3DFrench+Pop": "French Pop", "death-metal?genres%3DDeath+Metal": "Death Metal", "telugu?genres%3DTelugu": "Telugu", "britpop?genres%3DBritpop": "Britpop", "west-coast?genres%3DWest+Coast": "West Coast", "scores?genres%3DScores": "Scores", "indonesian-music?genres%3DIndonesian+Music": "Indonesian Music", "indie-rock?genres%3DIndie+Rock": "Indie Rock", "diy-punk?genres%3DDIY+Punk": "DIY Punk", "reggae?genres%3DReggae": "Reggae", "jazz-vocal?genres%3DJazz+Vocal": "Jazz Vocal", "microhouse?genres%3DMicrohouse": "Microhouse", "dance-for-partying?genres%3DDance%26tags%3DParty": "Dance for Partying", "mexican?genres%3DMexican": "Mexican", "chill-alternative?genres%3DAlternative%26moods%3DChill": "Chill Alternative", "mod?genres%3DMod": "Mod", "big-band?genres%3DBig+Band": "Big Band", "dutch?genres%3DDutch": "Dutch", "conscious-hip-hop?genres%3DConscious+Hip-Hop": "Conscious Hip-Hop", "fado?genres%3DFado": "Fado", "standards?genres%3DStandards": "Standards", "old-school-hip-hop?genres%3DOld+School": " Old School Hip-Hop", "renaissance?genres%3DRenaissance": "Renaissance", "relaxation?genres%3DRelaxation": "Relaxation", "regional-indian?genres%3DRegional+Indian": "Regional Indian", "getting-it-on?tags%3DGetting+It+On": "Getting It On", "k-r&b?genres%3DK-R%26B": "K-R&B", "1990s-grunge?genres%3DGrunge%26eras%3D1990s": "1990s Grunge", "college-rock?genres%3DCollege+Rock": "College Rock", "1970s-acoustic?genres%3DAcoustic%26eras%3D1970s": "1970s Acoustic", "1950s-jazz?genres%3DJazz%26eras%3D1950s": "1950s Jazz", "christian-pop?genres%3DChristian+Pop": "Christian Pop", "1950s-rock?genres%3DRock%26eras%3D1950s": "1950s Rock", "idol?genres%3DIdol": "Idol", "ragtime?genres%3DRagtime": "Ragtime", "swiss?genres%3DSwiss": "Swiss", "1980s-bollywood?genres%3DBollywood%26eras%3D1980s": "1980s Bollywood", "j-r&b?genres%3DJ-R%26B": "J-R&B", "classic-rock?genres%3DClassic+Rock": "Classic Rock", "halk?genres%3DHalk": "Halk", "celtic?genres%3DCeltic": "Celtic", "classic-country?genres%3DClassic+Country": "Classic Country", "nature-for-meditation?genres%3DNature%26tags%3DMeditation": "Nature for Meditating", "folk?genres%3DFolk": "Folk", "chill-house?genres%3DHouse%26moods%3DChill": "Chill House", "ska?genres%3DSka": "Ska", "dance-punk?genres%3DDance-Punk": "Dance-Punk", "chill-pop?genres%3DPop%26moods%3DChill": "Chill Pop", "1960s-soul?genres%3DSoul%26eras%3D1960s": "1960s Soul", "2010s-pop?genres%3DPop%26eras%3D2010s": "2010s Pop", "chill-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DChill": "Chill Hip-Hop / Rap", "pop-for-partying?genres%3DPop%26tags%3DParty": "Pop for Partying", "modern-dancehall?genres%3DModern+Dancehall": "Modern Dancehall", "glam-rock?genres%3DGlam+Rock": "Glam Rock", "rocksteady?genres%3DRocksteady": "Rocksteady", "irish?genres%3DIrish": "Irish", "roots-reggae?genres%3DRoots+Reggae": "Roots Reggae", "alt-country?genres%3DAlt+Country": "Alt Country", "halloween?genres%3DHalloween": "Halloween", "kannada?genres%3DKannada": "Kannada", "deutsche-streetrap?genres%3DDeutsche+Streetrap": "Deutsche Streetrap", "folk-rock?genres%3DFolk-Rock": "Folk-Rock", "pinoy-pop?genres%3DPinoy+Pop": "Pinoy Pop", "tarab?genres%3DTarab": "Tarab", "dutch-hip-hop?genres%3DDutch+Hip-Hop": "Dutch Hip-Hop", "family-time?tags%3DFamily+Time": "Family Time", "musicals?genres%3DMusicals": "Musicals", "chill-r&b?genres%3DR%26B%26moods%3DChill": "Chill R&B", "french-hip-hop-rap?genres%3DFrench+Hip-Hop%2FRap": "French Hip-Hop / Rap", "happy-c-pop?genres%3DC-Pop%26moods%3DHappy": "Happy C-Pop", "sad-piano?genres%3DPiano%26moods%3DSad": "Sad Piano", "yacht-rock?genres%3DYacht+Rock": "Yacht Rock", "industrial-metal?genres%3DIndustrial+Metal": "Industrial Metal", "bengali?genres%3DBengali": "Bengali", "khaleeji-pop?genres%3DKhaleeji+Pop": "Khaleeji Pop", "1970s-music?eras%3D1970s": "1970s Music", "afro-pop?genres%3DAfro-Pop": "Afro-Pop", "afrikaans?genres%3DAfrikaans": "Afrikaans", "sambas-de-enredo?genres%3DSambas+de+enredo": "Sambas De Enredo", "tv-drama?genres%3DTV+Drama": "TV Drama", "indie-en-espaol?genres%3DIndie+en+Espa%C3%B1ol": "Indie en Espaol", "chill-ambient?genres%3DAmbient%26moods%3DChill": "Chill Ambient", "orchestral?genres%3DOrchestral": "Orchestral", "indian?genres%3DIndian": "Indian", "classic-soul?genres%3DClassic+Soul": "Classic Soul", "happy-1980s-music?moods%3DHappy%26eras%3D1980s": "Happy 1980s Music", "israeli-alternative?genres%3DIsraeli+Alternative": "Israeli Alternative" } }, Tse = { "en-us": { "chinese?genres%3DChinese": "Chinese", "devotional-&-spiritual?genres%3DDevotional+%26+Spiritual": "Devotional & Spiritual", "vocaloid?genres%3DVocaloid": "Vocaloid", "rockabilly?genres%3DRockabilly": "Rockabilly", "motivated-holiday?genres%3DHoliday%26moods%3DMotivated": "Motivated Holiday", "cumbia?genres%3DCumbia": "Cumbia", "surf?genres%3DSurf": "Surf", "romantic-era?genres%3DRomantic+Era": "Romantic Era", "jungle?genres%3DJungle": "Jungle", "motivated-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DMotivated": "Motivated Hip-Hop / Rap", "australian-pub-rock?genres%3DAustralian+Pub+Rock": "Australian Pub Rock", "alternative?genres%3DAlternative": "Alternative", "doo-wop?genres%3DDoo+Wop": "Doo Wop", "1970s-funk?genres%3DFunk%26eras%3D1970s": "1970s Funk", "contemporary-jazz?genres%3DContemporary+Jazz": "Contemporary Jazz", "extreme-metal?genres%3DExtreme+Metal": "Extreme Metal", "1970s-oldies?genres%3DOldies%26eras%3D1970s": "1970s Oldies", "brazilian?genres%3DBrazilian": "Brazilian", "trap?genres%3DTrap": "Trap", "1980s-holiday?genres%3DHoliday%26eras%3D1980s": "1980s Holiday", "trance?genres%3DTrance": "Trance", "k-rock?genres%3DK-Rock": "K-Rock", "pop-for-working-out?genres%3DPop%26tags%3DWorkout": "Pop for Working Out", "r&b?genres%3DR%26B": "R&B", "caribbean?genres%3DCaribbean": "Caribbean", "screamo?genres%3DScreamo": "Screamo", "bollywood?genres%3DBollywood": "Bollywood", "russian?genres%3DRussian": "Russian", "progressive-house?genres%3DProgressive+House": "Progressive House", "detroit-techno?genres%3DDetroit+Techno": "Detroit Techno", "classical-for-focusing?genres%3DClassical%26tags%3DFocusing": "Classical for Focusing", "honky-tonk?genres%3DHonky+Tonk": "Honky Tonk", "hair-metal?genres%3DHair+Metal": "Hair Metal", "rock?genres%3DRock": "Rock", "christian?genres%3DChristian": "Christian", "classic-singer-songwriter?genres%3DClassic+Singer%2FSongwriter": "Classic Singer / Songwriter", "rave?genres%3DRave": "Rave", "forr?genres%3DForr%C3%B3": "Forr", "bashment?genres%3DBashment": "Bashment", "cloud-rap?genres%3DCloud+Rap": "Cloud Rap", "cooldown?tags%3DCooldown": "Cooldown", "christian-rap?genres%3DChristian+Rap": "Christian Rap", "2000s-alternative?genres%3DAlternative%26eras%3D2000s": "2000s Alternative", "1990s-rock?genres%3DRock%26eras%3D1990s": "1990s Rock", "idol--anime?genres%3DIdol%3A+Anime": "Idol: Anime", "dixieland?genres%3DDixieland": "Dixieland", "russian-pop?genres%3DRussian+Pop": "Russian Pop", "golden-age-hip-hop?genres%3DGolden+Age": " Golden Age Hip-Hop", "focusing?tags%3DFocusing": "Focusing", "indian-independent?genres%3DIndian+Independent": "Indian Independent", "canadian?genres%3DCanadian": "Canadian", "1970s-music-for-partying?tags%3DParty%26eras%3D1970s": "1970s Music for Partying", "southern-gospel?genres%3DSouthern+Gospel": "Southern Gospel", "trap-latino?genres%3DTrap+Latino": "Trap Latino", "latino?genres%3DLatino": "Latino", "russian-chanson?genres%3DRussian+Chanson": "Russian Chanson", "sanat?genres%3DSanat": "Sanat", "chill-acoustic?genres%3DAcoustic%26moods%3DChill": "Chill Acoustic", "alternative-rap?genres%3DAlternative+Rap": "Alternative Rap", "chill-indie?genres%3DIndie%26moods%3DChill": "Chill Indie", "1990s-dance?genres%3DDance%26eras%3D1990s": "1990s Dance", "indie?genres%3DIndie": "Indie", "1970s-disco?genres%3DDisco%26eras%3D1970s": "1970s Disco", "hardcore-punk?genres%3DHardcore+Punk": "Hardcore Punk", "hip-hop-rap-italiano?genres%3DHip-Hop%2FRap+Italiano": "Hip-Hop / Rap Italiano", "sad-music?moods%3DSad": "Sad Music", "chill-electronica?genres%3DElectronica%26moods%3DChill": "Chill Electronica", "pop?genres%3DPop": "Pop", "lounge?genres%3DLounge": "Lounge", "psychobilly?genres%3DPsychobilly": "Psychobilly", "electronic-for-working-out?genres%3DElectronic%26tags%3DWorkout": "Electronic for Working Out", "chill-dance?genres%3DDance%26moods%3DChill": "Chill Dance", "latin-jazz?genres%3DLatin+Jazz": "Latin Jazz", "boleros?genres%3DBoleros": "Boleros", "r&b-for-working-out?genres%3DR%26B%26tags%3DWorkout": "R&B for Working Out", "hip-hop-rap?genres%3DHip-Hop%2FRap": "Hip-Hop / Rap", "motivated-c-pop?genres%3DC-Pop%26moods%3DMotivated": "Motivated C-Pop", "1990s-r&b?genres%3DR%26B%26eras%3D1990s": "1990s R&B", "oldies?genres%3DOldies": "Oldies", "jazz?genres%3DJazz": "Jazz", "acoustic?genres%3DAcoustic": "Acoustic", "chill-nature?genres%3DNature%26moods%3DChill": "Chill Nature", "singer-songwriter?genres%3DSinger%2FSongwriter": "Singer / Songwriter", "punk?genres%3DPunk": "Punk", "motivated-music?moods%3DMotivated": "Motivated Music", "spanish?genres%3DSpanish": "Spanish", "1990s-disco?genres%3DDisco%26eras%3D1990s": "1990s Disco", "paisley-underground?genres%3DPaisley+Underground": "Paisley Underground", "indie-r&b?genres%3DIndie+R%26B": "Indie R&B", "grunge?genres%3DGrunge": "Grunge", "lullabies?genres%3DLullabies": "Lullabies", "classic-metal?genres%3DClassic+Metal": "Classic Metal", "arabic?genres%3DArabic": "Arabic", "worldbeat?genres%3DWorldbeat": "Worldbeat", "southern-rock?genres%3DSouthern+Rock": "Southern Rock", "german?genres%3DGerman": "German", "1980s-music-for-partying?tags%3DParty%26eras%3D1980s": "1980s Music for Partying", "sad-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DSad": "Sad Hip-Hop / Rap", "piano-for-meditation?genres%3DPiano%26tags%3DMeditation": "Piano for Meditating", "french?genres%3DFrench": "French", "doom?genres%3DDoom": "Doom", "country?genres%3DCountry": "Country", "south-american?genres%3DSouth+American": "South American", "instrumental?genres%3DInstrumental": "Instrumental", "mizrahi?genres%3DMizrahi": "Mizrahi", "hyphy?genres%3DHyphy": "Hyphy", "post-grunge?genres%3DPost-Grunge": "Post-Grunge", "portuguese?genres%3DPortuguese": "Portuguese", "working-out?tags%3DWorkout": "Working Out", "balearic?genres%3DBalearic": "Balearic", "upbeat-music?moods%3DUpbeat": "Upbeat Music", "arabic-pop?genres%3DArabic+Pop": "Arabic Pop", "holiday-for-partying?genres%3DHoliday%26tags%3DParty": "Holiday for Partying", "belgian?genres%3DBelgian": "Belgian", "meditation?tags%3DMeditation": "Meditating", "j-rock?genres%3DJ-Rock": "J-Rock", "happy-music-for-partying?tags%3DParty%26moods%3DHappy": "Happy Music for Partying", "karaoke?genres%3DKaraoke": "Karaoke", "british-metal?genres%3DBritish+Metal": "British Metal", "russian-rock?genres%3DRussian+Rock": "Russian Rock", "dance-for-working-out?genres%3DDance%26tags%3DWorkout": "Dance for Working Out", "french-touch?genres%3DFrench+Touch": "French Touch", "chill-music-for-partying?tags%3DParty%26moods%3DChill": "Chill Music for Partying", "motivated-pop?genres%3DPop%26moods%3DMotivated": "Motivated Pop", "metal?genres%3DMetal": "Metal", "vietnamese?genres%3DVietnamese": "Vietnamese", "mpb?genres%3DMPB": "MPB", "cubaton?genres%3DCubaton": "Cubaton", "dance?genres%3DDance": "Dance", "1990s-indie?genres%3DIndie%26eras%3D1990s": "1990s Indie", "choral?genres%3DChoral": "Choral", "sludge?genres%3DSludge": "Sludge", "soca?genres%3DSoca": "Soca", "salsa?genres%3DSalsa": "Salsa", "1980s-dance?genres%3DDance%26eras%3D1980s": "1980s Dance", "power-pop?genres%3DPower+Pop": "Power Pop", "new-wave?genres%3DNew+Wave": "New Wave", "arena-rock?genres%3DArena+Rock": "Arena Rock", "aussie-hip-hop-rap?genres%3DAussie+Hip-Hop%2FRap": "Aussie Hip-Hop / Rap", "new-age?genres%3DNew+Age": "New Age", "1990s-bollywood?genres%3DBollywood%26eras%3D1990s": "1990s Bollywood", "merengue?genres%3DMerengue": "Merengue", "delta-blues?genres%3DDelta+Blues": "Delta Blues", "scottish?genres%3DScottish": "Scottish", "thai-pop?genres%3DThai+Pop": "Thai Pop", "khaleeji-tarab?genres%3DKhaleeji+Tarab": "Khaleeji Tarab", "vallenato?genres%3DVallenato": "Vallenato", "happy-dance?genres%3DDance%26moods%3DHappy": "Happy Dance", "1990s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D1990s": "1990s Hip-Hop / Rap", "saxophone?genres%3DSaxophone": "Saxophone", "msica-mexicana?genres%3DM%C3%BAsica+Mexicana": "Msica Mexicana", "chinese-alt?genres%3DChinese+Alt": "Chinese Alt", "afrobeats?genres%3DAfrobeats": "Afrobeats", "calypso?genres%3DCalypso": "Calypso", "miami-bass?genres%3DMiami+Bass": "Miami Bass", "tango?genres%3DTango": "Tango", "sleep?tags%3DSleep": "Sleep", "happy-pop?genres%3DPop%26moods%3DHappy": "Happy Pop", "pagode?genres%3DPagode": "Pagode", "j-hip-hop?genres%3DJ-Hip-Hop": "J-Hip-Hop", "1990s-techno?genres%3DTechno%26eras%3D1990s": "1990s Techno", "electronic?genres%3DElectronic": "Electronic", "alternativo-en-espaol?genres%3DAlternativo+en+Espa%C3%B1ol": "Alternativo en Espaol", "israeli?genres%3DIsraeli": "Israeli", "1980s-alternative?genres%3DAlternative%26eras%3D1980s": "1980s Alternative", "roots-rock?genres%3DRoots+Rock": "Roots Rock", "entertaining?tags%3DEntertaining": "Entertaining", "uk-garage?genres%3DUK+Garage": "UK Garage", "tai-pop?genres%3DTai-Pop": "Tai-Pop", "funk?genres%3DFunk": "Funk", "mandopop?genres%3DMandopop": "Mandopop", "1970s-rock?genres%3DRock%26eras%3D1970s": "1970s Rock", "piano?genres%3DPiano": "Piano", "fusion-jazz?genres%3DFusion+Jazz": "Fusion Jazz", "1980s-soul?genres%3DSoul%26eras%3D1980s": "1980s Soul", "reggaeton?genres%3DReggaeton": "Reggaeton", "malaysian-music?genres%3DMalaysian+Music": "Malaysian Music", "korean?genres%3DKorean": "Korean", "instrumental-for-meditation?genres%3DInstrumental%26tags%3DMeditation": "Instrumental for Meditating", "lullabies-for-meditation?genres%3DLullabies%26tags%3DMeditation": "Lullabies for Meditating", "chinese-rock?genres%3DChinese+Rock": "Chinese Rock", "nueva-cancin?genres%3DNueva+Canci%C3%B3n": "Nueva Cancin", "schlager?genres%3DSchlager": "Schlager", "psych-rock?genres%3DPsych+Rock": "Psych Rock", "1990s-metal?genres%3DMetal%26eras%3D1990s": "1990s Metal", "soul-jazz?genres%3DSoul+Jazz": "Soul Jazz", "new-music?eras%3DNew": "New Music", "film,-tv-&-stage?genres%3DStage+and+Screen": "Film, TV & Stage", "rock-en-espaol?genres%3DRock+en+Espa%C3%B1ol": "Rock en Espaol", "rancheras?genres%3DRancheras": "Rancheras", "goth?genres%3DGoth": "Goth", "1990s-country?genres%3DCountry%26eras%3D1990s": "1990s Country", "indie-pop?genres%3DIndie+Pop": "Indie Pop", "dirty-south?genres%3DDirty+South": "Dirty South", "chicago-blues?genres%3DChicago+Blues": "Chicago Blues", "indie-dance?genres%3DIndie+Dance": "Indie Dance", "garage?genres%3DGarage": "Garage", "banda?genres%3DBanda": "Banda", "turkish?genres%3DTurkish": "Turkish", "k-hip-hop?genres%3DK+Hip-Hop%2FRap": " K-Hip-Hop", "1970s-r&b?genres%3DR%26B%26eras%3D1970s": "1970s R&B", "underground-hip-hop-rap?genres%3DUnderground+Hip-Hop%2FRap": "Underground Hip-Hop / Rap", "c-pop?genres%3DC-Pop": "C-Pop", "relaxation-for-meditation?genres%3DRelaxation%26tags%3DMeditation": "Relaxation for Meditating", "alt-rock?genres%3DAlt+Rock": "Alt Rock", "requinto?genres%3DRequinto": "Requinto", "lovers-rock?genres%3DLovers+Rock": "Lovers Rock", "bachata?genres%3DBachata": "Bachata", "country-rock?genres%3DCountry+Rock": "Country Rock", "techno?genres%3DTechno": "Techno", "motivated-jazz?genres%3DJazz%26moods%3DMotivated": "Motivated Jazz", "modern-era?genres%3DModern+Era": "Modern Era", "kayokyoku?genres%3DKayokyoku": "Kayokyoku", "chill-1970s-music?moods%3DChill%26eras%3D1970s": "Chill 1970s Music", "christmas?genres%3DChristmas": "Christmas", "k-pop-for-working-out?genres%3DK-Pop%26tags%3DWorkout": "K-Pop for Working Out", "dancehall?genres%3DDancehall": "Dancehall", "1970s-music-for-working-out?tags%3DWorkout%26eras%3D1970s": "1970s Music for Working Out", "chill-holiday?genres%3DHoliday%26moods%3DChill": "Chill Holiday", "disney?genres%3DDisney": "Disney", "afro-swing?genres%3DAfro-Swing": "Afro-Swing", "chill-electronic?genres%3DElectronic%26moods%3DChill": "Chill Electronic", "blues?genres%3DBlues": "Blues", "acid-house?genres%3DAcid+House": "Acid House", "2000s-country?genres%3DCountry%26eras%3D2000s": "2000s Country", "sad-bollywood?genres%3DBollywood%26moods%3DSad": "Sad Bollywood", "black-metal?genres%3DBlack+Metal": "Black Metal", "happy-music?moods%3DHappy": "Happy Music", "grindcore?genres%3DGrindcore": "Grindcore", "1970s-dance?genres%3DDance%26eras%3D1970s": "1970s Dance", "1980s-rock?genres%3DRock%26eras%3D1980s": "1980s Rock", "emo?genres%3DEMO": "Emo", "praise-&-worship?genres%3DPraise+%26+Worship": "Praise & Worship", "holiday?genres%3DHoliday": "Holiday", "chill-instrumental?genres%3DInstrumental%26moods%3DChill": "Chill Instrumental", "chamber-music?genres%3DChamber+Music": "Chamber Music", "dad-rock?genres%3DDad+Rock": "Dad Rock", "chill-music?moods%3DChill": "Chill Music", "1970s-pop?genres%3DPop%26eras%3D1970s": "1970s Pop", "cool-jazz?genres%3DCool+Jazz": "Cool Jazz", "1990s-dancehall?genres%3DDancehall%26eras%3D1990s": "1990s Dancehall", "german-folk?genres%3DGerman+Folk": "German Folk", "norteo?genres%3DNorte%C3%B1o": "Norteo", "hard-bop?genres%3DHard+Bop": "Hard Bop", "electronica?genres%3DElectronica": "Electronica", "partying?tags%3DParty": "Partying", "holiday-for-entertaining?genres%3DHoliday%26tags%3DEntertaining": "Holiday for Entertaining", "instrumental-for-focusing?genres%3DInstrumental%26tags%3DFocusing": "Instrumental for Focusing", "third-wave-ska?genres%3DThird+Wave+Ska": "Third Wave Ska", "bollywood-for-partying?genres%3DBollywood%26tags%3DParty": "Bollywood for Partying", "enka?genres%3DEnka": "Enka", "crunk?genres%3DCrunk": "Crunk", "1990s-punk?genres%3DPunk%26eras%3D1990s": "1990s Punk", "2010s-music?eras%3D2010s": "2010s Music", "1980s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D1980s": "1980s Hip-Hop / Rap", "alternative-metal?genres%3DAlternative+Metal": "Alternative Metal", "classic-house?genres%3DClassic+House": "Classic House", "bass?genres%3DBass": "Bass", "house?genres%3DHouse": "House", "british-invasion?genres%3DBritish+Invasion": "British Invasion", "pop-latino?genres%3DPop+Latino": "Latin Pop", "christian-country?genres%3DChristian+Country": "Christian Country", "ax?genres%3DAx%C3%A9": "Ax", "french-varit?genres%3DFrench+Vari%C3%A9t%C3%A9": "French Varit", "indian-pop?genres%3DIndian+Pop": "Indian Pop", "chill-1980s-music?moods%3DChill%26eras%3D1980s": "Chill 1980s Music", "1980s-disco?genres%3DDisco%26eras%3D1980s": "1980s Disco", "urbano-latino?genres%3DUrbano+Latino": "Urbano Latino", "1990s-reggae?genres%3DReggae%26eras%3D1990s": "1990s Reggae", "k-indie?genres%3DK-Indie": "K-Indie", "motivated-music-for-meditation?tags%3DMeditation%26moods%3DMotivated": "Motivated Music for Meditating", "bebop?genres%3DBebop": "Bebop", "prog-rock?genres%3DProg-Rock": "Prog-Rock", "israeli-pop?genres%3DIsraeli+Pop": "Israeli Pop", "new-romantic?genres%3DNew+Romantic": "New Romantic", "bossa-nova?genres%3DBossa+Nova": "Bossa Nova", "1980s-r&b?genres%3DR%26B%26eras%3D1980s": "1980s R&B", "sad-instrumental?genres%3DInstrumental%26moods%3DSad": "Sad Instrumental", "australian-country?genres%3DAustralian+Country": "Australian Country", "thrash-metal?genres%3DThrash+Metal": "Thrash Metal", "post-rock?genres%3DPost-Rock": "Post-Rock", "dubstep?genres%3DDubstep": "Dubstep", "adult-urban-contemporary?genres%3DAdult+Urban+Contemporary": "Adult Urban Contemporary", "hard-rock?genres%3DHard+Rock": "Hard Rock", "1980s-pop?genres%3DPop%26eras%3D1980s": "1980s Pop", "motivated-1950s-music?moods%3DMotivated%26eras%3D1950s": "Motivated 1950s Music", "japanese?genres%3DJapanese": "Japanese", "metalcore?genres%3DMetalcore": "Metalcore", "hip-hop-rap-for-partying?genres%3DHip-Hop%2FRap%26tags%3DParty": "Hip-Hop / Rap for Partying", "happy-new-music?moods%3DHappy%26eras%3DNew": "Happy New Music", "post-punk?genres%3DPost-Punk": "Post-Punk", "khaleeji?genres%3DKhaleeji": "Khaleeji", "downtempo?genres%3DDowntempo": "Downtempo", "flamenco?genres%3DFlamenco": "Flamenco", "chillwave?genres%3DChillwave": "Chillwave", "classic-blues?genres%3DClassic+Blues": "Classic Blues", "chill-jazz?genres%3DJazz%26moods%3DChill": "Chill Jazz", "israeli-rock?genres%3DIsraeli+Rock": "Israeli Rock", "dub?genres%3DDub": "Dub", "bluegrass?genres%3DBluegrass": "Bluegrass", "2010s-country?genres%3DCountry%26eras%3D2010s": "2010s Country", "chill-country?genres%3DCountry%26moods%3DChill": "Chill Country", "traditional-country?genres%3DTraditional+Country": "Traditional Country", "1960s-country?genres%3DCountry%26eras%3D1960s": "1960s Country", "hawaiian?genres%3DHawaiian": "Hawaiian", "experimental?genres%3DExperimental": "Experimental", "country-for-partying?genres%3DCountry%26tags%3DParty": "Country for Partying", "stoner-rock?genres%3DStoner+Rock": "Stoner Rock", "gospel?genres%3DGospel": "Gospel", "2010s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D2010s": "2010s Hip-Hop / Rap", "classical?genres%3DClassical": "Classical", "chill-music-for-focusing?tags%3DFocusing%26moods%3DChill": "Chill Music for Focusing", "1970s-country?genres%3DCountry%26eras%3D1970s": "1970s Country", "strings?genres%3DStrings": "Strings", "jazz-for-entertaining?genres%3DJazz%26tags%3DEntertaining": "Jazz for Entertaining", "1960s-music-for-entertaining?tags%3DEntertaining%26eras%3D1960s": "1960s Music for Entertaining", "smooth-jazz?genres%3DSmooth+Jazz": "Smooth Jazz", "soul?genres%3DSoul": "Soul", "grime?genres%3DGrime": "Grime", "freestyle?genres%3DFreestyle": "Freestyle", "rock-in-portuguese?genres%3DRock+in+Portuguese": "Rock in Portuguese", "happy-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DHappy": "Happy Hip-Hop / Rap", "jangle-pop?genres%3DJangle+Pop": "Jangle Pop", "2000s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D2000s": "2000s Hip-Hop / Rap", "new-jack-swing?genres%3DNew+Jack+Swing": "New Jack Swing", "australian?genres%3DAustralian": "Australian", "dutch-pop?genres%3DDutch+Pop": "Dutch Pop", "jam-bands?genres%3DJam+Bands": "Jam Bands", "comedy?genres%3DComedy": "Comedy", "nu-metal?genres%3DNu+Metal": "Nu Metal", "blackgaze?genres%3DBlackgaze": "Blackgaze", "chill-lounge?genres%3DLounge%26moods%3DChill": "Chill Lounge", "chill-piano?genres%3DPiano%26moods%3DChill": "Chill Piano", "1960s-music?eras%3D1960s": "1960s Music", "classic-hip-hop-rap?genres%3DClassic+Hip-Hop%2FRap": "Classic Hip-Hop/Rap", "gangsta-rap?genres%3DGangsta+Rap": "Gangsta Rap", "1970s-folk?genres%3DFolk%26eras%3D1970s": "1970s Folk", "romantic---in-love-music?moods%3DRomantic+%2F+In+Love": "Romantic / In Love Music", "edm?genres%3DEDM": "EDM", "pop-italiano?genres%3DPop+Italiano": "Pop Italiano", "idm?genres%3DIDM": "IDM", "malayalam?genres%3DMalayalam": "Malayalam", "angry-music?moods%3DAngry": "Angry Music", "motivated-classical?genres%3DClassical%26moods%3DMotivated": "Motivated Classical", "1980s-music?eras%3D1980s": "1980s Music", "chill-dubstep?genres%3DDubstep%26moods%3DChill": "Chill Dubstep", "chinese-hip-hop?genres%3DChinese+Hip-Hop": "Chinese Hip-Hop", "musique-francophone?genres%3DMusique+Francophone": "Musique Francophone", "k-pop?genres%3DK-Pop": "K-Pop", "tropical-house?genres%3DTropical+House": "Tropical House", "broken-beat?genres%3DBroken+Beat": "Broken Beat", "chill-new-music?moods%3DChill%26eras%3DNew": "Chill New Music", "happy-jazz?genres%3DJazz%26moods%3DHappy": "Happy Jazz", "easy-listening?genres%3DEasy+Listening": "Easy Listening", "2000s-music?eras%3D2000s": "2000s Music", "1980s-country?genres%3DCountry%26eras%3D1980s": "1980s Country", "arabesque?genres%3DArabesque": "Arabesque", "motivated-music-for-focusing?tags%3DFocusing%26moods%3DMotivated": "Motivated Music for Focusing", "british?genres%3DBritish": "British", "chill-lullabies?genres%3DLullabies%26moods%3DChill": "Chill Lullabies", "breaking-up?tags%3DBreaking+Up": "Breaking Up", "sad-country?genres%3DCountry%26moods%3DSad": "Sad Country", "2000s-rock?genres%3DRock%26eras%3D2000s": "2000s Rock", "chicago-house?genres%3DChicago+House": "Chicago House", "classic-punk?genres%3DClassic+Punk": "Classic Punk", "ambient?genres%3DAmbient": "Ambient", "tololoche?genres%3DTololoche": "Tololoche", "cantautori?genres%3DCantautori": "Cantautori", "samba?genres%3DSamba": "Samba", "minimalism?genres%3DMinimalism": "Minimalism", "mariachi?genres%3DMariachi": "Mariachi", "corridos?genres%3DCorridos": "Corridos", "motivated-music-for-working-out?tags%3DWorkout%26moods%3DMotivated": "Motivated Music for Working Out", "1960s-pop?genres%3DPop%26eras%3D1960s": "1960s Pop", "cantopop?genres%3DCantopop": "Cantopop", "polka?genres%3DPolka": "Polka", "new-years-eve?genres%3DNew+Year%27s+Eve": "New Year's Eve", "chill-classical?genres%3DClassical%26moods%3DChill": "Chill Classical", "marchinhas?genres%3DMarchinhas": "Marchinhas", "trova?genres%3DTrova": "Trova", "deep-house?genres%3DDeep+House": "Deep House", "chill-music-for-entertaining?tags%3DEntertaining%26moods%3DChill": "Chill Music for Entertaining", "folktronica?genres%3DFolktronica": "Folktronica", "neo-soul?genres%3DNeo-Soul": "Neo-Soul", "chill-reggae?genres%3DReggae%26moods%3DChill": "Chill Reggae", "rakugo?genres%3DRakugo": "Rakugo", "disco?genres%3DDisco": "Disco", "rock-for-partying?genres%3DRock%26tags%3DParty": "Rock for Partying", "electric-blues?genres%3DElectric+Blues": "Electric Blues", "1990s-alternative?genres%3DAlternative%26eras%3D1990s": "1990s Alternative", "classical-for-meditation?genres%3DClassical%26tags%3DMeditation": "Classical for Meditating", "ghazals?genres%3DGhazals": "Ghazals", "1950s-music?eras%3D1950s": "1950s Music", "east-coast?genres%3DEast+Coast": "East Coast", "1970s-soul?genres%3DSoul%26eras%3D1970s": "1970s Soul", "2000s-r&b?genres%3DR%26B%26eras%3D2000s": "2000s R&B", "swiss-rap?genres%3DSwiss-Rap": "Swiss-Rap", "afro-beat?genres%3DAfro-Beat": "Afro-Beat", "1990s-pop?genres%3DPop%26eras%3D1990s": "1990s Pop", "uk-hip-hop-rap?genres%3DUK+Hip-Hop%2FRap": "UK Hip-Hop / Rap", "punjabi?genres%3DPunjabi": "Punjabi", "1980s-metal?genres%3DMetal%26eras%3D1980s": "1980s Metal", "nature?genres%3DNature": "Nature", "sertanejo?genres%3DSertanejo": "Sertanejo", "coffee-shop?genres%3DCoffee+Shop": "Coffee Shop", "hip-hop-rap-for-working-out?genres%3DHip-Hop%2FRap%26tags%3DWorkout": "Hip-Hop / Rap for Working Out", "contemporary-blues?genres%3DContemporary+Blues": "Today's Blues", "rock-for-working-out?genres%3DRock%26tags%3DWorkout": "Rock for Working Out", "j-pop?genres%3DJ-Pop": "J-Pop", "anime?genres%3DAnime": "Anime", "african-music?genres%3DAfrican+Music": "African Music", "outlaw-country?genres%3DOutlaw+Country": "Outlaw Country", "tamil?genres%3DTamil": "Tamil", "hrspiele?genres%3DH%C3%B6rspiele": "Radio Drama", "kids-&-family?genres%3DKids+%26+Family": "Kids & Family", "christian-rock?genres%3DChristian+Rock": "Christian Rock", "baile-funk?genres%3DBaile+Funk": "Baile Funk", "russian-hip-hop?genres%3DRussian+Hip-Hop": "Russian Hip-Hop", "deutschpop?genres%3DDeutschpop": "Deutschpop", "adult-contemporary?genres%3DAdult+Contemporary": "Adult Contemporary", "motivated-acoustic?genres%3DAcoustic%26moods%3DMotivated": "Motivated Acoustic", "chill-christian?genres%3DChristian%26moods%3DChill": "Chill Christian", "levant-pop?genres%3DLevant+Pop": "Levant Pop", "pop-punk?genres%3DPop+Punk": "Pop Punk", "contemporary-gospel?genres%3DContemporary+Gospel": "Contemporary Gospel", "sad-classical?genres%3DClassical%26moods%3DSad": "Sad Classical", "opera?genres%3DOpera": "Opera", "motown?genres%3DMotown": "Motown", "chill-relaxation?genres%3DRelaxation%26moods%3DChill": "Chill Relaxation", "1990s-music?eras%3D1990s": "1990s Music", "synth-pop?genres%3DSynth-Pop": "Synth-Pop", "happy-holiday?genres%3DHoliday%26moods%3DHappy": "Happy Holiday", "dangdut?genres%3DDangdut": "Dangdut", "chill-rock?genres%3DRock%26moods%3DChill": "Chill Rock", "swiss-pop?genres%3DSwiss-Pop": "Swiss-Pop", "duranguense?genres%3DDuranguense": "Duranguense", "avant-garde-jazz?genres%3DAvant-Garde+Jazz": "Avant-Garde Jazz", "thai-music?genres%3DThai+Music": "Thai Music", "electro?genres%3DElectro": "Electro", "indian-classical?genres%3DIndian+Classical": "Indian Classical", "egyptian-pop?genres%3DEgyptian+Pop": "Egyptian Pop", "romantic-music?moods%3DRomantic": "Romantic Music", "darkwave?genres%3DDarkWave": "Dark Wave", "baroque-era?genres%3DBaroque+Era": "Baroque Era", "2000s-pop?genres%3DPop%26eras%3D2000s": "2000s Pop", "quiet-storm?genres%3DQuiet+Storm": "Quiet Storm", "pop-in-portuguese?genres%3DPop+in+Portuguese": "Pop in Portuguese", "teen-pop?genres%3DTeen+Pop": "Teen Pop", "adult-alternative?genres%3DAdult+Alternative": "Adult Alternative", "hip-hop-en-espaol?genres%3DHip-Hop+en+Espa%C3%B1ol": "Hip-Hop en Espaol", "chill-trance?genres%3DTrance%26moods%3DChill": "Chill Trance", "chill-music-for-meditation?tags%3DMeditation%26moods%3DChill": "Chill Music for Meditating", "motivated-instrumental?genres%3DInstrumental%26moods%3DMotivated": "Motivated Instrumental", "1990s-music-for-working-out?tags%3DWorkout%26eras%3D1990s": "1990s Music for Working Out", "jazz-for-focusing?genres%3DJazz%26tags%3DFocusing": "Jazz for Focusing", "traditional-folk?genres%3DTraditional+Folk": "Traditional Folk", "americana?genres%3DAmericana": "Americana", "motivated-country?genres%3DCountry%26moods%3DMotivated": "Motivated Country", "2000s-dance?genres%3DDance%26eras%3D2000s": "2000s Dance", "soft-rock?genres%3DSoft+Rock": "Soft Rock", "1990s-music-for-partying?tags%3DParty%26eras%3D1990s": "1990s Music for Partying", "1960s-rock?genres%3DRock%26eras%3D1960s": "1960s Rock", "shoegaze?genres%3DShoegaze": "Shoegaze", "french-pop?genres%3DFrench+Pop": "French Pop", "death-metal?genres%3DDeath+Metal": "Death Metal", "telugu?genres%3DTelugu": "Telugu", "britpop?genres%3DBritpop": "Britpop", "west-coast?genres%3DWest+Coast": "West Coast", "scores?genres%3DScores": "Scores", "indonesian-music?genres%3DIndonesian+Music": "Indonesian Music", "indie-rock?genres%3DIndie+Rock": "Indie Rock", "diy-punk?genres%3DDIY+Punk": "DIY Punk", "reggae?genres%3DReggae": "Reggae", "jazz-vocal?genres%3DJazz+Vocal": "Jazz Vocal", "microhouse?genres%3DMicrohouse": "Microhouse", "dance-for-partying?genres%3DDance%26tags%3DParty": "Dance for Partying", "mexican?genres%3DMexican": "Mexican", "chill-alternative?genres%3DAlternative%26moods%3DChill": "Chill Alternative", "mod?genres%3DMod": "Mod", "big-band?genres%3DBig+Band": "Big Band", "dutch?genres%3DDutch": "Dutch", "conscious-hip-hop?genres%3DConscious+Hip-Hop": "Conscious Hip-Hop", "fado?genres%3DFado": "Fado", "standards?genres%3DStandards": "Standards", "old-school-hip-hop?genres%3DOld+School": " Old School Hip-Hop", "renaissance?genres%3DRenaissance": "Renaissance", "relaxation?genres%3DRelaxation": "Relaxation", "regional-indian?genres%3DRegional+Indian": "Regional Indian", "getting-it-on?tags%3DGetting+It+On": "Getting It On", "k-r&b?genres%3DK-R%26B": "K-R&B", "1990s-grunge?genres%3DGrunge%26eras%3D1990s": "1990s Grunge", "college-rock?genres%3DCollege+Rock": "College Rock", "1970s-acoustic?genres%3DAcoustic%26eras%3D1970s": "1970s Acoustic", "1950s-jazz?genres%3DJazz%26eras%3D1950s": "1950s Jazz", "christian-pop?genres%3DChristian+Pop": "Christian Pop", "1950s-rock?genres%3DRock%26eras%3D1950s": "1950s Rock", "idol?genres%3DIdol": "Idol", "ragtime?genres%3DRagtime": "Ragtime", "swiss?genres%3DSwiss": "Swiss", "1980s-bollywood?genres%3DBollywood%26eras%3D1980s": "1980s Bollywood", "j-r&b?genres%3DJ-R%26B": "J-R&B", "classic-rock?genres%3DClassic+Rock": "Classic Rock", "halk?genres%3DHalk": "Halk", "celtic?genres%3DCeltic": "Celtic", "classic-country?genres%3DClassic+Country": "Classic Country", "nature-for-meditation?genres%3DNature%26tags%3DMeditation": "Nature for Meditating", "folk?genres%3DFolk": "Folk", "chill-house?genres%3DHouse%26moods%3DChill": "Chill House", "ska?genres%3DSka": "Ska", "dance-punk?genres%3DDance-Punk": "Dance-Punk", "chill-pop?genres%3DPop%26moods%3DChill": "Chill Pop", "1960s-soul?genres%3DSoul%26eras%3D1960s": "1960s Soul", "2010s-pop?genres%3DPop%26eras%3D2010s": "2010s Pop", "chill-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DChill": "Chill Hip-Hop / Rap", "pop-for-partying?genres%3DPop%26tags%3DParty": "Pop for Partying", "modern-dancehall?genres%3DModern+Dancehall": "Modern Dancehall", "glam-rock?genres%3DGlam+Rock": "Glam Rock", "rocksteady?genres%3DRocksteady": "Rocksteady", "irish?genres%3DIrish": "Irish", "roots-reggae?genres%3DRoots+Reggae": "Roots Reggae", "alt-country?genres%3DAlt+Country": "Alt Country", "halloween?genres%3DHalloween": "Halloween", "kannada?genres%3DKannada": "Kannada", "deutsche-streetrap?genres%3DDeutsche+Streetrap": "Deutsche Streetrap", "folk-rock?genres%3DFolk-Rock": "Folk-Rock", "pinoy-pop?genres%3DPinoy+Pop": "Pinoy Pop", "tarab?genres%3DTarab": "Tarab", "dutch-hip-hop?genres%3DDutch+Hip-Hop": "Dutch Hip-Hop", "family-time?tags%3DFamily+Time": "Family Time", "musicals?genres%3DMusicals": "Musicals", "chill-r&b?genres%3DR%26B%26moods%3DChill": "Chill R&B", "french-hip-hop-rap?genres%3DFrench+Hip-Hop%2FRap": "French Hip-Hop / Rap", "happy-c-pop?genres%3DC-Pop%26moods%3DHappy": "Happy C-Pop", "sad-piano?genres%3DPiano%26moods%3DSad": "Sad Piano", "yacht-rock?genres%3DYacht+Rock": "Yacht Rock", "industrial-metal?genres%3DIndustrial+Metal": "Industrial Metal", "bengali?genres%3DBengali": "Bengali", "khaleeji-pop?genres%3DKhaleeji+Pop": "Khaleeji Pop", "1970s-music?eras%3D1970s": "1970s Music", "afro-pop?genres%3DAfro-Pop": "Afro-Pop", "afrikaans?genres%3DAfrikaans": "Afrikaans", "sambas-de-enredo?genres%3DSambas+de+enredo": "Sambas De Enredo", "tv-drama?genres%3DTV+Drama": "TV Drama", "indie-en-espaol?genres%3DIndie+en+Espa%C3%B1ol": "Indie en Espaol", "chill-ambient?genres%3DAmbient%26moods%3DChill": "Chill Ambient", "orchestral?genres%3DOrchestral": "Orchestral", "indian?genres%3DIndian": "Indian", "classic-soul?genres%3DClassic+Soul": "Classic Soul", "happy-1980s-music?moods%3DHappy%26eras%3D1980s": "Happy 1980s Music", "israeli-alternative?genres%3DIsraeli+Alternative": "Israeli Alternative" }, "es-mx": { "chinese?genres%3DChinese": "China", "devotional-&-spiritual?genres%3DDevotional+%26+Spiritual": "Espiritual y religiosa", "vocaloid?genres%3DVocaloid": "Vocaloid", "rockabilly?genres%3DRockabilly": "Rockabilly", "motivated-holiday?genres%3DHoliday%26moods%3DMotivated": "Msica Festiva motivante", "cumbia?genres%3DCumbia": "Cumbia", "surf?genres%3DSurf": "Surf", "romantic-era?genres%3DRomantic+Era": "Romanticismo", "jungle?genres%3DJungle": "Jungle", "motivated-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DMotivated": "Msica Hip-hop/Rap motivante", "australian-pub-rock?genres%3DAustralian+Pub+Rock": "Pub rock australiano", "alternative?genres%3DAlternative": "Alternativa", "doo-wop?genres%3DDoo+Wop": "Doo Wop", "1970s-funk?genres%3DFunk%26eras%3D1970s": "Funk de los 70", "contemporary-jazz?genres%3DContemporary+Jazz": "Jazz contemporneo", "extreme-metal?genres%3DExtreme+Metal": "Metal extremo", "1970s-oldies?genres%3DOldies%26eras%3D1970s": "Clsicos pop de los 70", "brazilian?genres%3DBrazilian": "Brasilea", "trap?genres%3DTrap": "Trap", "1980s-holiday?genres%3DHoliday%26eras%3D1980s": "Festiva de los 80", "trance?genres%3DTrance": "Trance", "k-rock?genres%3DK-Rock": "K-rock", "pop-for-working-out?genres%3DPop%26tags%3DWorkout": "Pop para hacer ejercicio", "r&b?genres%3DR%26B": "R&B", "caribbean?genres%3DCaribbean": "Caribea", "screamo?genres%3DScreamo": "Screamo", "bollywood?genres%3DBollywood": "Bollywood", "russian?genres%3DRussian": "Rusa", "progressive-house?genres%3DProgressive+House": "House progresivo", "detroit-techno?genres%3DDetroit+Techno": "Detroit techno", "classical-for-focusing?genres%3DClassical%26tags%3DFocusing": "Clsica para concentrarse", "honky-tonk?genres%3DHonky+Tonk": "Honky tonk", "hair-metal?genres%3DHair+Metal": "Hair Metal", "rock?genres%3DRock": "Rock", "christian?genres%3DChristian": "Cristiana", "classic-singer-songwriter?genres%3DClassic+Singer%2FSongwriter": "De cantautores clsicos", "rave?genres%3DRave": "Rave", "forr?genres%3DForr%C3%B3": "Forr", "bashment?genres%3DBashment": "Bashment", "cloud-rap?genres%3DCloud+Rap": "Cloud rap", "cooldown?tags%3DCooldown": "Msica para Relajacin", "christian-rap?genres%3DChristian+Rap": "Rap cristiano", "2000s-alternative?genres%3DAlternative%26eras%3D2000s": "Alternativa de la dcada del 2000", "1990s-rock?genres%3DRock%26eras%3D1990s": "Rock de los 90", "idol--anime?genres%3DIdol%3A+Anime": "Idol: anime", "dixieland?genres%3DDixieland": "Dixieland", "russian-pop?genres%3DRussian+Pop": "Pop de Rusia", "golden-age-hip-hop?genres%3DGolden+Age": "Hip-hop de la poca dorada", "focusing?tags%3DFocusing": "Msica para concentrarse", "indian-independent?genres%3DIndian+Independent": "India independiente", "canadian?genres%3DCanadian": "canadiense", "1970s-music-for-partying?tags%3DParty%26eras%3D1970s": "Msica de los 70 para fiestas", "southern-gospel?genres%3DSouthern+Gospel": "Gospel sureo", "trap-latino?genres%3DTrap+Latino": "Trap latino", "latino?genres%3DLatino": "Latina", "russian-chanson?genres%3DRussian+Chanson": "Cancin rusa", "sanat?genres%3DSanat": "Sanat", "chill-acoustic?genres%3DAcoustic%26moods%3DChill": "Msica Acstica relajante", "alternative-rap?genres%3DAlternative+Rap": "Rap alternativo", "chill-indie?genres%3DIndie%26moods%3DChill": "Msica Indie relajante", "1990s-dance?genres%3DDance%26eras%3D1990s": "Dance de los 90", "indie?genres%3DIndie": "Indie", "1970s-disco?genres%3DDisco%26eras%3D1970s": "Disco de los 70", "hardcore-punk?genres%3DHardcore+Punk": "Hardcore punk", "hip-hop-rap-italiano?genres%3DHip-Hop%2FRap+Italiano": "Hip-hop/Rap italiano", "sad-music?moods%3DSad": "Msica triste", "chill-electronica?genres%3DElectronica%26moods%3DChill": "Msica Electrnica relajante", "pop?genres%3DPop": "Pop", "lounge?genres%3DLounge": "Lounge", "psychobilly?genres%3DPsychobilly": "Psychobilly", "electronic-for-working-out?genres%3DElectronic%26tags%3DWorkout": "Electrnica para hacer ejercicio", "chill-dance?genres%3DDance%26moods%3DChill": "Msica Dance relajante", "latin-jazz?genres%3DLatin+Jazz": "Jazz de Latinoamrica", "boleros?genres%3DBoleros": '"Boleros"', "r&b-for-working-out?genres%3DR%26B%26tags%3DWorkout": "R&B para hacer ejercicio", "hip-hop-rap?genres%3DHip-Hop%2FRap": "Hip-hop/Rap", "motivated-c-pop?genres%3DC-Pop%26moods%3DMotivated": "Msica C-Pop motivante", "1990s-r&b?genres%3DR%26B%26eras%3D1990s": "R&B de los 90", "oldies?genres%3DOldies": "Clsicos pop", "jazz?genres%3DJazz": "Jazz", "acoustic?genres%3DAcoustic": "Acstica", "chill-nature?genres%3DNature%26moods%3DChill": "Msica Naturaleza relajante", "singer-songwriter?genres%3DSinger%2FSongwriter": "Cantautores", "punk?genres%3DPunk": "Punk", "motivated-music?moods%3DMotivated": "Msica motivante", "spanish?genres%3DSpanish": "espaola", "1990s-disco?genres%3DDisco%26eras%3D1990s": "Disco de los 90", "paisley-underground?genres%3DPaisley+Underground": "Paisley underground", "indie-r&b?genres%3DIndie+R%26B": "R&B indie", "grunge?genres%3DGrunge": "Grunge", "lullabies?genres%3DLullabies": "Nanas", "classic-metal?genres%3DClassic+Metal": "Metal clsico", "arabic?genres%3DArabic": "rabe", "worldbeat?genres%3DWorldbeat": "Worldbeat", "southern-rock?genres%3DSouthern+Rock": "Rock sureo", "german?genres%3DGerman": "Alemana", "1980s-music-for-partying?tags%3DParty%26eras%3D1980s": "Msica de los 80 para fiestas", "sad-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DSad": "Msica Hip-hop/Rap triste", "piano-for-meditation?genres%3DPiano%26tags%3DMeditation": "Piano para meditar", "french?genres%3DFrench": "Francesa", "doom?genres%3DDoom": "Doom", "country?genres%3DCountry": "Country", "south-american?genres%3DSouth+American": "Msica sudamericana", "instrumental?genres%3DInstrumental": "Instrumental", "mizrahi?genres%3DMizrahi": "Mizraj", "hyphy?genres%3DHyphy": "Hyphy", "post-grunge?genres%3DPost-Grunge": "Post-grunge", "portuguese?genres%3DPortuguese": "Msica portuguesa", "working-out?tags%3DWorkout": "Msica para hacer ejercicio", "balearic?genres%3DBalearic": "Ibiza house", "upbeat-music?moods%3DUpbeat": "Msica Alegre", "arabic-pop?genres%3DArabic+Pop": "Pop rabe", "holiday-for-partying?genres%3DHoliday%26tags%3DParty": "Festiva para fiestas", "belgian?genres%3DBelgian": "belga", "meditation?tags%3DMeditation": "Msica para meditar", "j-rock?genres%3DJ-Rock": "J-rock", "happy-music-for-partying?tags%3DParty%26moods%3DHappy": "Msica feliz para fiestas", "karaoke?genres%3DKaraoke": "Karaoke", "british-metal?genres%3DBritish+Metal": "Metal de Gran Bretaa", "russian-rock?genres%3DRussian+Rock": "Rock de Rusia", "dance-for-working-out?genres%3DDance%26tags%3DWorkout": "Dance para hacer ejercicio", "french-touch?genres%3DFrench+Touch": "French touch", "chill-music-for-partying?tags%3DParty%26moods%3DChill": "Msica relajante para fiestas", "motivated-pop?genres%3DPop%26moods%3DMotivated": "Msica Pop motivante", "metal?genres%3DMetal": "Metal", "vietnamese?genres%3DVietnamese": "vietnamita", "mpb?genres%3DMPB": "MPB", "cubaton?genres%3DCubaton": "Cubatn", "dance?genres%3DDance": "Dance", "1990s-indie?genres%3DIndie%26eras%3D1990s": "Indie de los 90", "choral?genres%3DChoral": '"Coros"', "sludge?genres%3DSludge": "Sludge", "soca?genres%3DSoca": "Soca", "salsa?genres%3DSalsa": "Salsa", "1980s-dance?genres%3DDance%26eras%3D1980s": "Dance de los 80", "power-pop?genres%3DPower+Pop": "Power pop", "new-wave?genres%3DNew+Wave": "New wave", "arena-rock?genres%3DArena+Rock": "Arena rock", "aussie-hip-hop-rap?genres%3DAussie+Hip-Hop%2FRap": "Hip-hop/Rap australiano", "new-age?genres%3DNew+Age": "New age", "1990s-bollywood?genres%3DBollywood%26eras%3D1990s": "Bollywood de los 90", "merengue?genres%3DMerengue": "Merengue", "delta-blues?genres%3DDelta+Blues": "Delta Blues", "scottish?genres%3DScottish": "escocesa", "thai-pop?genres%3DThai+Pop": "Pop tailands", "khaleeji-tarab?genres%3DKhaleeji+Tarab": "Tarab Khaleeji", "vallenato?genres%3DVallenato": "Vallenato", "happy-dance?genres%3DDance%26moods%3DHappy": "Msica Dance feliz", "1990s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D1990s": "Hip-hop/Rap de los 90", "saxophone?genres%3DSaxophone": "Saxofn", "msica-mexicana?genres%3DM%C3%BAsica+Mexicana": "Msica mexicana", "chinese-alt?genres%3DChinese+Alt": "Alternativa china", "afrobeats?genres%3DAfrobeats": "Afrobeat", "calypso?genres%3DCalypso": "Calipso", "miami-bass?genres%3DMiami+Bass": "Miami bass", "tango?genres%3DTango": "Tango", "sleep?tags%3DSleep": "Msica para Dormir", "happy-pop?genres%3DPop%26moods%3DHappy": "Msica Pop feliz", "pagode?genres%3DPagode": "Pagode", "j-hip-hop?genres%3DJ-Hip-Hop": "Hip-hop en japons", "1990s-techno?genres%3DTechno%26eras%3D1990s": "Techno de los 90", "electronic?genres%3DElectronic": "Electrnica", "alternativo-en-espaol?genres%3DAlternativo+en+Espa%C3%B1ol": "Alternativa en espaol", "israeli?genres%3DIsraeli": "Israel", "1980s-alternative?genres%3DAlternative%26eras%3D1980s": "Alternativa de los 80", "roots-rock?genres%3DRoots+Rock": "Roots rock", "entertaining?tags%3DEntertaining": "Msica para entretenerse", "uk-garage?genres%3DUK+Garage": "Garage de Reino Unido", "tai-pop?genres%3DTai-Pop": "Tai-Pop", "funk?genres%3DFunk": "Funk", "mandopop?genres%3DMandopop": "Mandopop", "1970s-rock?genres%3DRock%26eras%3D1970s": "Rock de los 70", "piano?genres%3DPiano": "Piano", "fusion-jazz?genres%3DFusion+Jazz": "Jazz fusin", "1980s-soul?genres%3DSoul%26eras%3D1980s": "Soul de los 80", "reggaeton?genres%3DReggaeton": "Reggaeton", "malaysian-music?genres%3DMalaysian+Music": "De Malasia", "korean?genres%3DKorean": "Coreana", "instrumental-for-meditation?genres%3DInstrumental%26tags%3DMeditation": "Instrumental para meditar", "lullabies-for-meditation?genres%3DLullabies%26tags%3DMeditation": "Nanas para meditar", "chinese-rock?genres%3DChinese+Rock": "Rock de China", "nueva-cancin?genres%3DNueva+Canci%C3%B3n": "Nueva Cancin", "schlager?genres%3DSchlager": "Schlager", "psych-rock?genres%3DPsych+Rock": "Rock psicodlico", "1990s-metal?genres%3DMetal%26eras%3D1990s": "Metal de los 90", "soul-jazz?genres%3DSoul+Jazz": "Soul jazz", "new-music?eras%3DNew": "Msica actual", "film,-tv-&-stage?genres%3DStage+and+Screen": "Pelculas, televisin y teatro", "rock-en-espaol?genres%3DRock+en+Espa%C3%B1ol": "Rock en espaol", "rancheras?genres%3DRancheras": "Rancheras", "goth?genres%3DGoth": "Gtica", "1990s-country?genres%3DCountry%26eras%3D1990s": "Country de los 90", "indie-pop?genres%3DIndie+Pop": "Pop indie", "dirty-south?genres%3DDirty+South": "Dirty South", "chicago-blues?genres%3DChicago+Blues": "Blues de Chicago", "indie-dance?genres%3DIndie+Dance": "Indie dance", "garage?genres%3DGarage": "Garage", "banda?genres%3DBanda": "Banda", "turkish?genres%3DTurkish": "Turca", "k-hip-hop?genres%3DK+Hip-Hop%2FRap": "K-hip-hop", "1970s-r&b?genres%3DR%26B%26eras%3D1970s": "R&B de los 70", "underground-hip-hop-rap?genres%3DUnderground+Hip-Hop%2FRap": "Hip-hop/Rap underground", "c-pop?genres%3DC-Pop": "C-Pop", "relaxation-for-meditation?genres%3DRelaxation%26tags%3DMeditation": "Relajante para meditar", "alt-rock?genres%3DAlt+Rock": "Rock alt.", "requinto?genres%3DRequinto": "Requinto", "lovers-rock?genres%3DLovers+Rock": "Lovers rock", "bachata?genres%3DBachata": "Bachata", "country-rock?genres%3DCountry+Rock": "Country rock", "techno?genres%3DTechno": "Techno", "motivated-jazz?genres%3DJazz%26moods%3DMotivated": "Msica Jazz motivante", "modern-era?genres%3DModern+Era": "Era moderna", "kayokyoku?genres%3DKayokyoku": "Kayokyoku", "chill-1970s-music?moods%3DChill%26eras%3D1970s": "Msica relajante de los 70", "christmas?genres%3DChristmas": "Navidad", "k-pop-for-working-out?genres%3DK-Pop%26tags%3DWorkout": "K-pop para hacer ejercicio", "dancehall?genres%3DDancehall": "Dancehall", "1970s-music-for-working-out?tags%3DWorkout%26eras%3D1970s": "Msica de los 70 para hacer ejercicio", "chill-holiday?genres%3DHoliday%26moods%3DChill": "Msica Festiva relajante", "disney?genres%3DDisney": "Disney", "afro-swing?genres%3DAfro-Swing": "Afro swing", "chill-electronic?genres%3DElectronic%26moods%3DChill": "Msica Electrnica relajante", "blues?genres%3DBlues": "Blues", "acid-house?genres%3DAcid+House": "Acid house", "2000s-country?genres%3DCountry%26eras%3D2000s": "Country de la dcada del 2000", "sad-bollywood?genres%3DBollywood%26moods%3DSad": "Msica Bollywood triste", "black-metal?genres%3DBlack+Metal": "Black metal", "happy-music?moods%3DHappy": "Msica feliz", "grindcore?genres%3DGrindcore": "Grindcore", "1970s-dance?genres%3DDance%26eras%3D1970s": "Dance de los 70", "1980s-rock?genres%3DRock%26eras%3D1980s": "Rock de los 80", "emo?genres%3DEMO": "EMO", "praise-&-worship?genres%3DPraise+%26+Worship": "Alabanza y adoracin", "holiday?genres%3DHoliday": "Festiva", "chill-instrumental?genres%3DInstrumental%26moods%3DChill": "Msica Instrumental relajante", "chamber-music?genres%3DChamber+Music": "De cmara", "dad-rock?genres%3DDad+Rock": "Rock de pap", "chill-music?moods%3DChill": "Msica relajante", "1970s-pop?genres%3DPop%26eras%3D1970s": "Pop de los 70", "cool-jazz?genres%3DCool+Jazz": "Cool jazz", "1990s-dancehall?genres%3DDancehall%26eras%3D1990s": "Dancehall de los 90", "german-folk?genres%3DGerman+Folk": "Folk alemn", "norteo?genres%3DNorte%C3%B1o": "Norteo", "hard-bop?genres%3DHard+Bop": "Hard bop", "electronica?genres%3DElectronica": "Electrnica", "partying?tags%3DParty": "Msica para fiestas", "holiday-for-entertaining?genres%3DHoliday%26tags%3DEntertaining": "Festiva para entretenerse", "instrumental-for-focusing?genres%3DInstrumental%26tags%3DFocusing": "Instrumental para concentrarse", "third-wave-ska?genres%3DThird+Wave+Ska": "Third wave ska", "bollywood-for-partying?genres%3DBollywood%26tags%3DParty": "Bollywood para fiestas", "enka?genres%3DEnka": "Enka", "crunk?genres%3DCrunk": "Crunk", "1990s-punk?genres%3DPunk%26eras%3D1990s": "Punk de los 90", "2010s-music?eras%3D2010s": "Msica de la dcada del 2010", "1980s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D1980s": "Hip-hop/Rap de los 80", "alternative-metal?genres%3DAlternative+Metal": "Metal alt.", "classic-house?genres%3DClassic+House": "House clsico", "bass?genres%3DBass": "Bass", "house?genres%3DHouse": "House", "british-invasion?genres%3DBritish+Invasion": '"Invasin britnica"', "pop-latino?genres%3DPop+Latino": "Pop de Latinoamrica", "christian-country?genres%3DChristian+Country": "Country cristiano", "ax?genres%3DAx%C3%A9": "Ax", "french-varit?genres%3DFrench+Vari%C3%A9t%C3%A9": "Varit francesa", "indian-pop?genres%3DIndian+Pop": "Pop de la India", "chill-1980s-music?moods%3DChill%26eras%3D1980s": "Msica relajante de los 80", "1980s-disco?genres%3DDisco%26eras%3D1980s": "Disco de los 80", "urbano-latino?genres%3DUrbano+Latino": "Urbano latino", "1990s-reggae?genres%3DReggae%26eras%3D1990s": "Reggae de los 90", "k-indie?genres%3DK-Indie": "K-indie", "motivated-music-for-meditation?tags%3DMeditation%26moods%3DMotivated": "Msica motivante para meditar", "bebop?genres%3DBebop": "Bebop", "prog-rock?genres%3DProg-Rock": "Rock progresivo", "israeli-pop?genres%3DIsraeli+Pop": "Pop israel", "new-romantic?genres%3DNew+Romantic": "Nuevos romnticos", "bossa-nova?genres%3DBossa+Nova": "Bossa nova", "1980s-r&b?genres%3DR%26B%26eras%3D1980s": "R&B de los 80", "sad-instrumental?genres%3DInstrumental%26moods%3DSad": "Msica Instrumental triste", "australian-country?genres%3DAustralian+Country": "Country australiano", "thrash-metal?genres%3DThrash+Metal": "Thrash metal", "post-rock?genres%3DPost-Rock": "Post-rock", "dubstep?genres%3DDubstep": "Dubstep", "adult-urban-contemporary?genres%3DAdult+Urban+Contemporary": "Urbano contemporneo para adultos", "hard-rock?genres%3DHard+Rock": "Hard rock", "1980s-pop?genres%3DPop%26eras%3D1980s": "Pop de los 80", "motivated-1950s-music?moods%3DMotivated%26eras%3D1950s": "Msica motivante de los 50", "japanese?genres%3DJapanese": "Japonesa", "metalcore?genres%3DMetalcore": "Metalcore", "hip-hop-rap-for-partying?genres%3DHip-Hop%2FRap%26tags%3DParty": "Hip-hop/Rap para fiestas", "happy-new-music?moods%3DHappy%26eras%3DNew": "Msica feliz actual", "post-punk?genres%3DPost-Punk": "Post-punk", "khaleeji?genres%3DKhaleeji": "Khaliji", "downtempo?genres%3DDowntempo": "Downtempo", "flamenco?genres%3DFlamenco": "Flamenco", "chillwave?genres%3DChillwave": "Chillwave", "classic-blues?genres%3DClassic+Blues": "Blues clsico", "chill-jazz?genres%3DJazz%26moods%3DChill": "Msica Jazz relajante", "israeli-rock?genres%3DIsraeli+Rock": "Rock israel", "dub?genres%3DDub": "Dub", "bluegrass?genres%3DBluegrass": "Bluegrass", "2010s-country?genres%3DCountry%26eras%3D2010s": "Country de la dcada del 2010", "chill-country?genres%3DCountry%26moods%3DChill": "Msica Country relajante", "traditional-country?genres%3DTraditional+Country": "Country tradicional", "1960s-country?genres%3DCountry%26eras%3D1960s": "Country de los 60", "hawaiian?genres%3DHawaiian": "Hawaiana", "experimental?genres%3DExperimental": "Experimental", "country-for-partying?genres%3DCountry%26tags%3DParty": "Country para fiestas", "stoner-rock?genres%3DStoner+Rock": "Stoner rock", "gospel?genres%3DGospel": "Gospel", "2010s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D2010s": "Hip-hop/Rap de la dcada del 2010", "classical?genres%3DClassical": "Clsica", "chill-music-for-focusing?tags%3DFocusing%26moods%3DChill": "Msica relajante para concentrarse", "1970s-country?genres%3DCountry%26eras%3D1970s": "Country de los 70", "strings?genres%3DStrings": "De cuerda", "jazz-for-entertaining?genres%3DJazz%26tags%3DEntertaining": "Jazz para entretenerse", "1960s-music-for-entertaining?tags%3DEntertaining%26eras%3D1960s": "Msica de los 60 para entretenerse", "smooth-jazz?genres%3DSmooth+Jazz": "Smooth jazz", "soul?genres%3DSoul": "Soul", "grime?genres%3DGrime": "Grime", "freestyle?genres%3DFreestyle": "Freestyle", "rock-in-portuguese?genres%3DRock+in+Portuguese": "Rock en portugus", "happy-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DHappy": "Msica Hip-hop/Rap feliz", "jangle-pop?genres%3DJangle+Pop": "Jangle pop", "2000s-hip-hop-rap?genres%3DHip-Hop%2FRap%26eras%3D2000s": "Hip-hop/Rap de la dcada del 2000", "new-jack-swing?genres%3DNew+Jack+Swing": "New jack swing", "australian?genres%3DAustralian": "australiana", "dutch-pop?genres%3DDutch+Pop": "Pop de Holanda", "jam-bands?genres%3DJam+Bands": "Jam bands", "comedy?genres%3DComedy": "Comedia", "nu-metal?genres%3DNu+Metal": "Nu metal", "blackgaze?genres%3DBlackgaze": "Gaze metal", "chill-lounge?genres%3DLounge%26moods%3DChill": "Msica Lounge relajante", "chill-piano?genres%3DPiano%26moods%3DChill": "Msica Piano relajante", "1960s-music?eras%3D1960s": "Msica de los 60", "classic-hip-hop-rap?genres%3DClassic+Hip-Hop%2FRap": "Hip-hop/Rap clsico", "gangsta-rap?genres%3DGangsta+Rap": "Gangsta rap", "1970s-folk?genres%3DFolk%26eras%3D1970s": "Folk de los 70", "romantic---in-love-music?moods%3DRomantic+%2F+In+Love": "Msica Romntico / Enamorado/a", "edm?genres%3DEDM": "EDM", "pop-italiano?genres%3DPop+Italiano": "Pop de Italia", "idm?genres%3DIDM": "IDM", "malayalam?genres%3DMalayalam": "Malayalam", "angry-music?moods%3DAngry": "Msica enfadada", "motivated-classical?genres%3DClassical%26moods%3DMotivated": "Msica Clsica motivante", "1980s-music?eras%3D1980s": "Msica de los 80", "chill-dubstep?genres%3DDubstep%26moods%3DChill": "Msica Dubstep relajante", "chinese-hip-hop?genres%3DChinese+Hip-Hop": "Hip-Hop de China", "musique-francophone?genres%3DMusique+Francophone": "Francfona", "k-pop?genres%3DK-Pop": "K-pop", "tropical-house?genres%3DTropical+House": "House tropical", "broken-beat?genres%3DBroken+Beat": "Broken beat", "chill-new-music?moods%3DChill%26eras%3DNew": "Msica relajante actual", "happy-jazz?genres%3DJazz%26moods%3DHappy": "Msica Jazz feliz", "easy-listening?genres%3DEasy+Listening": "Msica ligera", "2000s-music?eras%3D2000s": "Msica de la dcada del 2000", "1980s-country?genres%3DCountry%26eras%3D1980s": "Country de los 80", "arabesque?genres%3DArabesque": "Arabesca", "motivated-music-for-focusing?tags%3DFocusing%26moods%3DMotivated": "Msica motivante para concentrarse", "british?genres%3DBritish": "britnica", "chill-lullabies?genres%3DLullabies%26moods%3DChill": "Msica Nanas relajante", "breaking-up?tags%3DBreaking+Up": "Msica para rupturas", "sad-country?genres%3DCountry%26moods%3DSad": "Msica Country triste", "2000s-rock?genres%3DRock%26eras%3D2000s": "Rock de la dcada del 2000", "chicago-house?genres%3DChicago+House": "Chicago house", "classic-punk?genres%3DClassic+Punk": "Punk clsico", "ambient?genres%3DAmbient": "Ambient", "tololoche?genres%3DTololoche": "Tololoche", "cantautori?genres%3DCantautori": "Cantautor", "samba?genres%3DSamba": "Samba", "minimalism?genres%3DMinimalism": "Minimalista", "mariachi?genres%3DMariachi": "Mariachi", "corridos?genres%3DCorridos": "Corridos", "motivated-music-for-working-out?tags%3DWorkout%26moods%3DMotivated": "Msica motivante para hacer ejercicio", "1960s-pop?genres%3DPop%26eras%3D1960s": "Pop de los 60", "cantopop?genres%3DCantopop": "Pop cantons", "polka?genres%3DPolka": "Polca", "new-years-eve?genres%3DNew+Year%27s+Eve": "Fin de ao", "chill-classical?genres%3DClassical%26moods%3DChill": "Msica Clsica relajante", "marchinhas?genres%3DMarchinhas": "Marchinhas", "trova?genres%3DTrova": "Trova", "deep-house?genres%3DDeep+House": "Deep house", "chill-music-for-entertaining?tags%3DEntertaining%26moods%3DChill": "Msica relajante para entretenerse", "folktronica?genres%3DFolktronica": "Folktrnica", "neo-soul?genres%3DNeo-Soul": "Neo-soul", "chill-reggae?genres%3DReggae%26moods%3DChill": "Msica Reggae relajante", "rakugo?genres%3DRakugo": "Rakugo", "disco?genres%3DDisco": "Disco", "rock-for-partying?genres%3DRock%26tags%3DParty": "Rock para fiestas", "electric-blues?genres%3DElectric+Blues": "Blues elctrico", "1990s-alternative?genres%3DAlternative%26eras%3D1990s": "Alternativa de los 90", "classical-for-meditation?genres%3DClassical%26tags%3DMeditation": "Clsica para meditar", "ghazals?genres%3DGhazals": "Ghazals", "1950s-music?eras%3D1950s": "Msica de los 50", "east-coast?genres%3DEast+Coast": "Costa Este", "1970s-soul?genres%3DSoul%26eras%3D1970s": "Soul de los 70", "2000s-r&b?genres%3DR%26B%26eras%3D2000s": "R&B de la dcada del 2000", "swiss-rap?genres%3DSwiss-Rap": "Rap suizo", "afro-beat?genres%3DAfro-Beat": "Afro-beat", "1990s-pop?genres%3DPop%26eras%3D1990s": "Pop de los 90", "uk-hip-hop-rap?genres%3DUK+Hip-Hop%2FRap": "Hip-hop/Rap britnico", "punjabi?genres%3DPunjabi": "Punyab", "1980s-metal?genres%3DMetal%26eras%3D1980s": "Metal de los 80", "nature?genres%3DNature": "Naturaleza", "sertanejo?genres%3DSertanejo": "Sertaneja", "coffee-shop?genres%3DCoffee+Shop": "Msica de cafetera", "hip-hop-rap-for-working-out?genres%3DHip-Hop%2FRap%26tags%3DWorkout": "Hip-hop/Rap para hacer ejercicio", "contemporary-blues?genres%3DContemporary+Blues": "Blues contemporneo", "rock-for-working-out?genres%3DRock%26tags%3DWorkout": "Rock para hacer ejercicio", "j-pop?genres%3DJ-Pop": "J-Pop", "anime?genres%3DAnime": "Anime", "african-music?genres%3DAfrican+Music": "Msica africana", "outlaw-country?genres%3DOutlaw+Country": "Country outlaw", "tamil?genres%3DTamil": "Tamil", "hrspiele?genres%3DH%C3%B6rspiele": "Radionovela", "kids-&-family?genres%3DKids+%26+Family": "Nios y familia", "christian-rock?genres%3DChristian+Rock": "Rock cristiano", "baile-funk?genres%3DBaile+Funk": "Baile funk", "russian-hip-hop?genres%3DRussian+Hip-Hop": "Hip-Hop de Rusia", "deutschpop?genres%3DDeutschpop": "Deutschpop", "adult-contemporary?genres%3DAdult+Contemporary": "Contempornea para adultos", "motivated-acoustic?genres%3DAcoustic%26moods%3DMotivated": "Msica Acstica motivante", "chill-christian?genres%3DChristian%26moods%3DChill": "Msica Cristiana relajante", "levant-pop?genres%3DLevant+Pop": "Levant pop", "pop-punk?genres%3DPop+Punk": "Pop punk", "contemporary-gospel?genres%3DContemporary+Gospel": "Gspel contemporneo", "sad-classical?genres%3DClassical%26moods%3DSad": "Msica Clsica triste", "opera?genres%3DOpera": "pera", "motown?genres%3DMotown": "Motown", "chill-relaxation?genres%3DRelaxation%26moods%3DChill": "Msica Relajante relajante", "1990s-music?eras%3D1990s": "Msica de los 90", "synth-pop?genres%3DSynth-Pop": "Synth-pop", "happy-holiday?genres%3DHoliday%26moods%3DHappy": "Msica Festiva feliz", "dangdut?genres%3DDangdut": "Dangdut", "chill-rock?genres%3DRock%26moods%3DChill": "Msica Rock relajante", "swiss-pop?genres%3DSwiss-Pop": "Pop suizo", "duranguense?genres%3DDuranguense": "Duranguense", "avant-garde-jazz?genres%3DAvant-Garde+Jazz": "Jazz de vanguardia", "thai-music?genres%3DThai+Music": "Tailandesa", "electro?genres%3DElectro": "Electro", "indian-classical?genres%3DIndian+Classical": "Clsica de la India", "egyptian-pop?genres%3DEgyptian+Pop": "Pop egipcio", "romantic-music?moods%3DRomantic": "Msica romntica", "darkwave?genres%3DDarkWave": "Darkwave", "baroque-era?genres%3DBaroque+Era": "Barroca", "2000s-pop?genres%3DPop%26eras%3D2000s": "Pop de la dcada del 2000", "quiet-storm?genres%3DQuiet+Storm": "Quiet storm", "pop-in-portuguese?genres%3DPop+in+Portuguese": "Pop en portugus", "teen-pop?genres%3DTeen+Pop": "Teen pop", "adult-alternative?genres%3DAdult+Alternative": "Alternativa para adultos", "hip-hop-en-espaol?genres%3DHip-Hop+en+Espa%C3%B1ol": "Hip-hop en espaol", "chill-trance?genres%3DTrance%26moods%3DChill": "Msica Trance relajante", "chill-music-for-meditation?tags%3DMeditation%26moods%3DChill": "Msica relajante para meditar", "motivated-instrumental?genres%3DInstrumental%26moods%3DMotivated": "Msica Instrumental motivante", "1990s-music-for-working-out?tags%3DWorkout%26eras%3D1990s": "Msica de los 90 para hacer ejercicio", "jazz-for-focusing?genres%3DJazz%26tags%3DFocusing": "Jazz para concentrarse", "traditional-folk?genres%3DTraditional+Folk": "Folk tradicional", "americana?genres%3DAmericana": "Americana", "motivated-country?genres%3DCountry%26moods%3DMotivated": "Msica Country motivante", "2000s-dance?genres%3DDance%26eras%3D2000s": "Dance de la dcada del 2000", "soft-rock?genres%3DSoft+Rock": "Soft rock", "1990s-music-for-partying?tags%3DParty%26eras%3D1990s": "Msica de los 90 para fiestas", "1960s-rock?genres%3DRock%26eras%3D1960s": "Rock de los 60", "shoegaze?genres%3DShoegaze": "Shoegaze", "french-pop?genres%3DFrench+Pop": "Pop de Francia", "death-metal?genres%3DDeath+Metal": "Death Metal", "telugu?genres%3DTelugu": "Telugu", "britpop?genres%3DBritpop": "Britpop", "west-coast?genres%3DWest+Coast": "Costa Oeste", "scores?genres%3DScores": "Bandas sonoras", "indonesian-music?genres%3DIndonesian+Music": "De Indonesia", "indie-rock?genres%3DIndie+Rock": "Rock indie", "diy-punk?genres%3DDIY+Punk": "Punk DIY", "reggae?genres%3DReggae": "Reggae", "jazz-vocal?genres%3DJazz+Vocal": "Jazz vocal", "microhouse?genres%3DMicrohouse": "Microhouse", "dance-for-partying?genres%3DDance%26tags%3DParty": "Dance para fiestas", "mexican?genres%3DMexican": "mexicana", "chill-alternative?genres%3DAlternative%26moods%3DChill": "Msica Alternativa relajante", "mod?genres%3DMod": "Mod", "big-band?genres%3DBig+Band": "Big band", "dutch?genres%3DDutch": "holandesa", "conscious-hip-hop?genres%3DConscious+Hip-Hop": "Hip-hop poltico", "fado?genres%3DFado": "Fado", "standards?genres%3DStandards": "Standards", "old-school-hip-hop?genres%3DOld+School": "Hip-hop de la vieja escuela", "renaissance?genres%3DRenaissance": "Renacentista", "relaxation?genres%3DRelaxation": "Relajante", "regional-indian?genres%3DRegional+Indian": "Regional de la India", "getting-it-on?tags%3DGetting+It+On": "Msica para momentos de pasin", "k-r&b?genres%3DK-R%26B": "K-R&B", "1990s-grunge?genres%3DGrunge%26eras%3D1990s": "Grunge de los 90", "college-rock?genres%3DCollege+Rock": "College rock", "1970s-acoustic?genres%3DAcoustic%26eras%3D1970s": "Acstica de los 70", "1950s-jazz?genres%3DJazz%26eras%3D1950s": "Jazz de los 50", "christian-pop?genres%3DChristian+Pop": "Pop cristiano", "1950s-rock?genres%3DRock%26eras%3D1950s": "Rock de los 50", "idol?genres%3DIdol": "Idol", "ragtime?genres%3DRagtime": "Ragtime", "swiss?genres%3DSwiss": "suiza", "1980s-bollywood?genres%3DBollywood%26eras%3D1980s": "Bollywood de los 80", "j-r&b?genres%3DJ-R%26B": "J-R&B", "classic-rock?genres%3DClassic+Rock": "Rock clsico", "halk?genres%3DHalk": "Halk", "celtic?genres%3DCeltic": "Celta", "classic-country?genres%3DClassic+Country": "Country clsico", "nature-for-meditation?genres%3DNature%26tags%3DMeditation": "Naturaleza para meditar", "folk?genres%3DFolk": "Folk", "chill-house?genres%3DHouse%26moods%3DChill": "Msica House relajante", "ska?genres%3DSka": "Ska", "dance-punk?genres%3DDance-Punk": "Dance punk", "chill-pop?genres%3DPop%26moods%3DChill": "Msica Pop relajante", "1960s-soul?genres%3DSoul%26eras%3D1960s": "Soul de los 60", "2010s-pop?genres%3DPop%26eras%3D2010s": "Pop de la dcada del 2010", "chill-hip-hop-rap?genres%3DHip-Hop%2FRap%26moods%3DChill": "Msica Hip-hop/Rap relajante", "pop-for-partying?genres%3DPop%26tags%3DParty": "Pop para fiestas", "modern-dancehall?genres%3DModern+Dancehall": "Dancehall moderno", "glam-rock?genres%3DGlam+Rock": "Glam rock", "rocksteady?genres%3DRocksteady": "Rocksteady", "irish?genres%3DIrish": "irlandesa", "roots-reggae?genres%3DRoots+Reggae": "Roots reggae", "alt-country?genres%3DAlt+Country": "Country alt.", "halloween?genres%3DHalloween": "Halloween", "kannada?genres%3DKannada": "Kannada", "deutsche-streetrap?genres%3DDeutsche+Streetrap": "Deutsche Streetrap", "folk-rock?genres%3DFolk-Rock": "Folk rock", "pinoy-pop?genres%3DPinoy+Pop": "Pinoy Pop", "tarab?genres%3DTarab": "Tarab", "dutch-hip-hop?genres%3DDutch+Hip-Hop": "Hip-hop holands", "family-time?tags%3DFamily+Time": "Msica para estar en familia", "musicals?genres%3DMusicals": "Musicales", "chill-r&b?genres%3DR%26B%26moods%3DChill": "Msica R&B relajante", "french-hip-hop-rap?genres%3DFrench+Hip-Hop%2FRap": "Hip-hop/Rap francs", "happy-c-pop?genres%3DC-Pop%26moods%3DHappy": "Msica C-Pop feliz", "sad-piano?genres%3DPiano%26moods%3DSad": "Msica Piano triste", "yacht-rock?genres%3DYacht+Rock": "Yacht Rock", "industrial-metal?genres%3DIndustrial+Metal": "Metal industrial", "bengali?genres%3DBengali": "Bengal", "khaleeji-pop?genres%3DKhaleeji+Pop": "Pop Khaleeji", "1970s-music?eras%3D1970s": "Msica de los 70", "afro-pop?genres%3DAfro-Pop": "Afro-pop", "afrikaans?genres%3DAfrikaans": "Afrikaans", "sambas-de-enredo?genres%3DSambas+de+enredo": "Samba-enredo", "tv-drama?genres%3DTV+Drama": "Series dramticas", "indie-en-espaol?genres%3DIndie+en+Espa%C3%B1ol": "Indie en espaol", "chill-ambient?genres%3DAmbient%26moods%3DChill": "Msica Ambient relajante", "orchestral?genres%3DOrchestral": "Orquestal", "indian?genres%3DIndian": "India", "classic-soul?genres%3DClassic+Soul": "Soul clsico", "happy-1980s-music?moods%3DHappy%26eras%3D1980s": "Msica feliz de los 80", "israeli-alternative?genres%3DIsraeli+Alternative": "Alternativa israel" } }, Rse = { de: Ese, jp: Ise, fr: Mse, gb: Lse, us: Tse }, Fse = { ...Ag, $intentKind: Rp.Name, routes() { return [{ rules: [{ path: "/genre-stations/{id}", query: ["l?", "eras?", "moods?", "tags?", "genres?"] }, { path: "/{storefront}/genre-stations/{id}", query: ["l?", "eras?", "moods?", "tags?", "genres?"] }], handler: (n, e) => { var r; const t = (r = e.storefront) != null ? r : e.cc, i = e.l; return { $kind: Rp.Name, storefront: t, language: i, id: e.id, url: n.toString(), eras: e.eras, moods: e.moods, tags: e.tags, genres: e.genres } } }] }, async perform(n, e) { const { id: t, storefront: i, language: r, url: s, eras: o, moods: a, tags: l, genres: u } = n, c = Ose(u, o, l, a), d = Rse[i]; if (!d) throw new Error(`Unable to find a valid genre station storefront: ${i}`); const f = Object.keys(d).map(y => y == null ? void 0 : y.toLowerCase()), g = f.includes(r) ? d[r] : d[f[0]], h = Nse(t, g, c); if (!h) throw new Error("Unable to find a valid genre station title"); const v = { contentDescriptor: { kind: x.RadioStation, identifiers: {}, url: s }, id: t, title: h, canonicalUrl: s }, b = n_(v); return Sse(b, h, e) }, actionFor(n, e, t) { var o; const i = "unknown", r = (o = t.metrics) != null ? o : un(e, "0", i, "navigate"), s = At({ kind: vt.CatalogPage, intent: n }, r); return Lt(pr({ kind: bt.Radio }, s, e), Ve) } }; function Ose(n, e, t, i) { return [{ genres: n }, { eras: e }, { tags: t }, { moods: i }].filter(r => Object.keys(r).every(s => !!r[s])).map(r => { const s = Object.keys(r)[0]; return `${s}=${r[s]}` }) } function Nse(n, e, t) { let i; for (const [r, s] of Object.entries(e)) { const [o, a] = r.split("?"); if (n === o) { const l = decodeURIComponent(a).split("&"); if (t.every(u => !!l.find(c => c.toLowerCase() === u.toLowerCase()))) { i = s; break } } } return i } function Bse(n, e, t, i, r) { if (n == null || (n == null ? void 0 : n.length) === 0 || !t || t.length === 0) throw new Error("name & tracks are required for requestCreateNewPlaylist"); const s = new je("/v1/me/library/playlists", r); i && s.queryString.addParameters({ with: "shared" }), s.queryString.shouldIncludePlatform = !1, s.queryString.shouldIncludeFormatResourcesMap = !1; const a = JSON.stringify({ attributes: { name: n, description: e, isPublic: i }, relationships: { tracks: { data: t } } }); return pt({ url: s.string, body: a, method: "POST" }, r) } function EF(n, e, t, i) { if (!n && !i || !e) throw new Error("id, type and storefront are required for requestContainerTracks"); const r = yl(i), s = r ? i.replace("library-", "") : i, o = r ? `/v1/me/library/${s}/${n}/tracks` : `/v1/catalog/${e}/${s}/${n}/tracks`, a = new je(o, t); return a.queryString.shouldIncludeFormatResourcesMap = !1, pt({ url: a.string }, t) } const Use = { $intentKind: sR.Name, async perform(n, e) { var u, c; const t = Xn(e), { name: i, description: r, track: s, contentDescriptor: o, storefront: a, isPublic: l } = n; try { let d; if (o && !s) { const g = Rg(o), h = Qt({ contentDescriptor: o }), m = yl(g), v = await EF(h, a, t, g);[200, 201].includes(v == null ? void 0 : v.statusCode) && (d = v.body.data.map(b => ({ id: b.id, type: m ? z.LibrarySongs : z.Songs }))) } const f = await Bse(i, r, d || [s], !!l, t); return [200, 201].includes(f == null ? void 0 : f.statusCode) ? (c = (u = f == null ? void 0 : f.body) == null ? void 0 : u.data) == null ? void 0 : c[0] : null } catch (d) { throw new Error(`an error occurred at CreatePlaylistIntentController: ${d}`) } } }; var IF = (n => (n.Name = "CatalogPlaylistFromLibraryIntent", n))(IF || {}); function Hse(n) { return { ...n, $kind: "CatalogPlaylistFromLibraryIntent" } } function $se(n, e) { if (!n) throw new Error("id is required for requestCatalogPlaylist"); const t = new je(`/v1/me/library/playlists/${n}/catalog`, e); return t.queryString.shouldIncludePlatform = !1, t.queryString.shouldIncludeFormatResourcesMap = !1, pt({ url: t.string, body: "", method: "POST" }, e) } const Vse = { $intentKind: IF.Name, async perform(n, e) { var r, s; const t = Xn(e), { id: i } = n; try { const o = await $se(i, t); return [200, 201].includes(o == null ? void 0 : o.statusCode) ? (s = (r = o == null ? void 0 : o.body) == null ? void 0 : r.data) == null ? void 0 : s[0] : null } catch (o) { throw new Error(`an error occurred at CatalogPlaylistFromLibraryIntentController: ${o}`) } } }; var MF = (n => (n.Name = "AddToPlaylistIntent", n))(MF || {}); function LF(n) { return { ...n, $kind: "AddToPlaylistIntent" } } function zse(n, e, t) { if (!n || !e || e.length === 0) throw new Error("playlistId and tracks are required for requestAddToPlaylist"); try { const i = new je(`/v1/me/library/playlists/${n}/tracks`, t); i.queryString.shouldIncludePlatform = !1, i.queryString.shouldIncludeFormatResourcesMap = !1, i.queryString.addParameters({ representation: "resources" }); const s = JSON.stringify({ data: e }); return pt({ url: i.string, body: s, method: "POST" }, t) } catch (i) { throw new Error(`error in requestAddToPlaylist: ${i}`) } } const qse = [z.Albums, z.LibraryAlbums], Wse = [z.Playlists, z.LibraryPlaylists], Kse = { $intentKind: MF.Name, async perform(n, e) { var o, a; const { playlistId: t, storefront: i, items: r } = n; try { const u = (await Promise.all(r.map(async d => { const f = pT.includes(d.type); return qse.includes(d.type) || Wse.includes(d.type) ? s(d.type, d.id, f) : [d] }))).reduce((d, f) => (d = [...d, ...f], d), []), c = await zse(t, u, e); return [200, 201, 204].includes(c == null ? void 0 : c.statusCode) ? (a = (o = c == null ? void 0 : c.body) == null ? void 0 : o.data) == null ? void 0 : a[0] : null } catch (l) { throw new Error(`an error occurred at AddToPlaylistIntentController: ${l}`) } async function s(l, u, c) { const d = await EF(u, i, e, l); if ([200, 201].includes(d == null ? void 0 : d.statusCode)) return d.body.data.map(f => ({ id: f.id, type: c ? z.LibrarySongs : z.Songs })) } } }; var TF = (n => (n.Name = "MoveToFolderIntent", n))(TF || {}); function RF(n) { return { ...n, $kind: "MoveToFolderIntent" } } function Jse(n, e, t) { if (!n || !e) throw new Error("playlistId and folderId are required for requestMoveToFolder"); try { const i = new je(`/v1/me/library/playlists/${n}/parent`, t), r = { data: [{ id: e, type: z.LibraryPlaylistFolders }] }, s = JSON.stringify(r); return pt({ url: i.string, body: s, method: "PUT" }, t) } catch (i) { throw new Error(`error in requestMoveToFolder: ${i}`) } } const Yse = { $intentKind: TF.Name, async perform(n, e) { const { playlistId: t, folderId: i } = n; try { const r = await Jse(t, i, Xn(e)); return [204, 200].indexOf(r == null ? void 0 : r.statusCode) > -1 ? {} : null } catch (r) { throw new Error(`an error occurred at MoveToFolderIntentController: ${r}`) } } }; var FF = (n => (n.Name = "UpdatePlaylistTracksIntent", n))(FF || {}); function Xse(n) { return { ...n, $kind: "UpdatePlaylistTracksIntent" } } async function Zse(n, e, t) { if (!n || !e) throw new Error("id and value are required for requestUpdatePlaylistTracks"); try { await pt({ url: new je(`/v1/me/library/playlists/${n}/tracks`, t).string, method: "PUT", body: JSON.stringify({ data: e }) }, t) } catch (i) { throw new Error(`error in requestUpdatePlaylistTracks: ${i}`) } } const Qse = { $intentKind: FF.Name, async perform(n, e) { return await Zse(n.id, n.tracks, Xn(e)) } }; var OF = (n => (n.Name = "LibraryPlaylistRequestAllItemIdsIntent", n))(OF || {}); function jse(n) { return { $kind: "LibraryPlaylistRequestAllItemIdsIntent", id: n } } async function Gse(n, e) { if (!n) throw new Error("id and value are required for requestAllPlaylistTrackIds"); const t = e.required(hi); try { return await mse(`/v1/me/library/playlists/${n}/tracks`, { "omit[resource]": "autos" }, e, t) } catch (i) { throw new Error(`error in requestAllPlaylistTrackIds: ${i}`) } } const xse = { $intentKind: OF.Name, async perform(n, e) { return await Gse(n.id, Xn(e)) } }, eoe = { $intentKind: "ReorderLibraryPlaylistTracksIntent", perform(n, e) { const t = n.metadata.order, i = typeof t == "string" ? t.split(",") : null, r = { instruction: { instruction: "reorderItemsOnSection", sectionAndItemIdsToReorder: { id: `track-list - ${n.metadata.id}`, itemIds: i } } }; return Promise.resolve(r) } }; var NF = (n => (n.Name = "RatingsIntent", n))(NF || {}); function toe(n) { return { ...n, $kind: "RatingsIntent" } } async function noe(n, e, t, i) { if (!n || !e) throw new Error("id or type are required for requestUpdateRatings"); const r = new je(`/v1/me/ratings/${e}/${n}`, i); r.queryString.shouldIncludeLanguage = !1, r.queryString.shouldIncludePlatform = !1, r.queryString.shouldIncludeFormatResourcesMap = !1; const o = JSON.stringify({ attributes: { value: t }, type: "rating" }); return pt({ url: r.string, body: o, method: "PUT" }, i) } async function ioe(n, e, t) { if (!n || !e) throw new Error("id or type are required for requestDeleteRatings"); const i = new je(`/v1/me/ratings/${e}/${n}`, t); return i.queryString.shouldIncludeLanguage = !1, i.queryString.shouldIncludePlatform = !1, i.queryString.shouldIncludeFormatResourcesMap = !1, pt({ url: i.string, method: "DELETE" }, t) } var Vu = (n => (n.SuggestLess = "suggestLess", n.UndoSuggestLess = "undoSuggestLess", n))(Vu || {}); const roe = { $intentKind: NF.Name, async perform(n, e) { const { id: t, type: i, operationType: r } = n; let s; const o = Xn(e); if (!Hu.includes(i)) return {}; try { switch (r) { case Vu.SuggestLess: return s = await noe(t, i, -1, o), [204, 200].indexOf(s == null ? void 0 : s.statusCode) > -1 ? {} : null; case Vu.UndoSuggestLess: return s = await ioe(t, i, o), [204, 200].indexOf(s == null ? void 0 : s.statusCode) > -1 ? {} : null; default: throw new Error("Non recognizable RatingsOperationType") } } catch (a) { throw new Error(`an error occurred at RatingsIntentController: ${a}`) } } }; function soe(n, e) { const t = En(uf({ ...n, inLibrary: !1 }), "AppleMusic", e, "button"), i = En(uf({ ...n, inLibrary: !0 }), "YourLibrary", e, "button"); return { inLibrary: !!n.inLibrary, inLibrarySegue: i, catalogSegue: t } } function uf(n) { const e = new Ln("https://music.apple.com"), { storefront: t, language: i, inLibrary: r, term: s } = n; return tt(t) && e.path(t), e.path("search"), tt(i) && e.param("l", i), typeof s == "string" && e.param("term", s), r && e.param("searchIn", "library"), e.toString() } function BF(n, e, t) { const { term: i } = n; return { ...e, term: i, scopeBar: Qs(t) ? soe(n, t) : null, search: !0 } } function ooe(n, e) { return n.inLibrary ? { ...e, sections: e.sections.filter(t => t.itemKind !== "brickLockup") } : e } function aoe(n, e) { if (!Vn(e)) return n; const t = Ge(Ue.localization, e), i = bn(n.canonicalURL, e), r = t.string("FUSE.Meta.SearchLanding.Title"), s = t.string("FUSE.Meta.SearchLanding.Description"), o = { ...i, pageTitle: r, description: s, socialTitle: r, socialDescription: s, appleContentId: void 0, appleTitle: r, appleDescription: s }; return { ...n, seoData: o } } const loe = { ...pp, routes(n) { return [{ rules: [{ path: "/search", query: ["l?", "searchIn?"], exclusions: [{ query: ["term"] }] }, { path: "/{storefront}/search", query: ["l?", "searchIn?"], exclusions: [{ query: ["term"] }] }, { path: "/genre/{id}", query: ["l?"] }, { path: "/{storefront}/genre/{id}", query: ["l?"] }, { path: "/genre/{seoSegment}/{id}", query: ["l?"] }, { path: "/{storefront}/genre/{seoSegment}/{id}", query: ["l?"] }], handler(e, t) { return { ...ZL(qt({ storefront: t.storefront, language: t.l }, n)), inLibrary: t.searchIn === "library" } } }] }, async perform(n, e) { let t = await pp.perform(n, e); t = BF(n, t, e), t = ooe(n, t); const i = uf({ ...n, ...qt(n, e) }); return aoe({ ...t, canonicalURL: i }, e) } }; async function uoe(n, e, t) { const i = new je("/v1/me/library/search", t), r = [z.LibraryAlbums, z.LibraryArtists, z.LibraryPlaylists, z.LibrarySongs]; return i.queryString.addParameters({ term: n, l: e, platform: "web", limit: "21", "include[library-artists]": "catalog", "include[library-songs]": "catalog" }), r.forEach(i.queryString.types.add, i.queryString.types), await pt({ url: i.string, method: "GET" }, t) } function coe(n, e, t, i) { const r = JSON.parse(JSON.stringify(n)); let s = foe(r, e); return goe(s), doe(r), hoe(r, t, i), s } function doe(n) { return n.body.meta.metrics = { dataSetId: "" }, n } function foe(n, e) { for (const t in n.body.results) { let i; switch (t) { case z.LibraryAlbums: i = e.string("ASE.Web.Music.SideBar.Album"); break; case z.LibraryArtists: i = e.string("ASE.Web.Music.SideBar.Artists"); break; case z.LibraryPlaylists: i = e.string("ASE.Web.Music.Library.Playlists"); break; case z.LibrarySongs: i = e.string("ASE.Web.Music.SideBar.Songs"); break }n.body.results[t].name = i } return n } function goe(n, e) { var t, i; for (const r in n.body.results) { const s = (i = (t = n == null ? void 0 : n.body) == null ? void 0 : t.results[r]) == null ? void 0 : i.data; (s == null ? void 0 : s.length) >= 20 && (n.body.results[r].groupId = r, n.body.results[r].next = n.body.results[r].href) } } function hoe(n, e, t) { var r, s; const i = (s = (r = n == null ? void 0 : n.body) == null ? void 0 : r.results["library-artists"]) == null ? void 0 : s.data; i && e.resources(i).forEach(o => { var f, g, h, m; const { attributes: a } = o, l = (g = (f = o == null ? void 0 : o.relationships) == null ? void 0 : f.catalog) == null ? void 0 : g.data, u = (h = i[0]) == null ? void 0 : h.id, c = qt({ storefront: nt.countryCode(t), language: nt.languageTag(t) }, t), d = `${sl("/library/artists/", c)}${encodeURIComponent(u)}`; if (o.attributes.url = d, l && l.length > 0) { const v = l[0].id, b = e.resourceWithID(v, z.Artists); a.artwork = (m = b == null ? void 0 : b.attributes) == null ? void 0 : m.artwork } }) } const moe = { ..._p, routes(n) { return [{ rules: [{ path: "/search", query: ["term", "l?", "searchIn?"] }, { path: "/{storefront}/search", query: ["term", "l?", "searchIn?"] }], handler: (e, t) => ({ ...D1({ term: t.term, ...qt({ storefront: t.storefront, language: t.l }, n) }), inLibrary: t.searchIn === "library" }) }] }, async perform(n, e) { var o; const { inLibrary: t, language: i, term: r } = n; let s; if (t) { const a = Ge(Ue.localization, e); try { const l = await uoe(n.term, i, e), u = new gt((o = l.body) == null ? void 0 : o.resources, e), c = coe(l, a, u, e); s = JL(r, c.body, u, e), s.sections.forEach(f => { f.items.forEach(g => { var v, b, y, k, S; f.itemKind === "trackLockup" && (g.segue = null); const h = [x.Artist, x.Song], m = (v = g.contentDescriptor) == null ? void 0 : v.kind; if (h.includes(m)) { const C = Qt(g), P = u.resource({ id: C, type: I1[m] }), M = (S = (k = (y = (b = P == null ? void 0 : P.relationships) == null ? void 0 : b.catalog) == null ? void 0 : y.data) == null ? void 0 : k[0]) == null ? void 0 : S.id, R = ig(pa[m], m, M); g.contentDescriptor = { ...g.contentDescriptor, ...R, identifiers: { ...g.contentDescriptor.identifiers, ...R.identifiers } } } }) }); const d = s.sections.find(f => { var m, v; const g = (m = f.items) == null ? void 0 : m[0], h = g != null && g.contentDescriptor ? vl(g.contentDescriptor) : null; return f.itemKind === "squareLockup" && h.has("library") && ((v = g.contentDescriptor) == null ? void 0 : v.kind) === x.Playlist }); if (d) { const f = Xn(e); d.items = await Cc(d.items, f) } } catch (l) { throw new Error("Failed to get library search results", l) } } else s = await _p.perform(n, e); return s = BF(n, s, e), { ...s, canonicalURL: uf({ ...n, ...qt(n, e) }) } }, actionFor(n, e, t) { const i = { kind: vt.SearchResults, searchParameters: { term: n.term, inLibrary: n.inLibrary }, storefront: n.storefront, language: n.language }, r = At(i, t.metrics); return t.isDeepLinkAction ? Lt([ri({ kind: bt.Search }, Ve, e), r], Ve) : r } }, poe = { $intentKind: oR.Name, async perform(n, e) { const t = Xn(e), { id: i, name: r, description: s, isPublic: o } = n, a = Xn(t), l = new je(`/v1/me/library/playlists/${i}`, a); o && l.queryString.addParameters({ with: "shared" }); const u = { attributes: { name: r, description: s, isPublic: o } }; try { await pt({ url: l.string, method: "PATCH", body: JSON.stringify(u) }, a) } catch (c) { throw new Error(`error in requestUpdatePlaylist: ${c}`) } } }; async function _oe(n, e) { const t = nt.countryCode(e), i = new je(`/v1/catalog/${t}/songs/${n}`, e); return i.queryString.addParameters({ include: "albums,artists,credits,lyrics,music-videos", extend: "lyricsExcerpt,offers", "fields[artists]": "name,url", "fields[albums]": "artistName,artistUrl,artwork,name,url" }), await pt({ url: i.string }, e) } function voe(n) { return n.replace(/([\p{L}\d])([\p{L}\d]*)/giu, (e, t, i) => t.toUpperCase() + i.toLowerCase()).replace(/[^\p{L}\d&]/giu, " ") } const boe = "credit-artists", yoe = [Ee.RelatedVideos, Ee.MoreByArtist], woe = { $intentKind: "SongDetailPageIntent", ..._L, async perform(n, e) { var c, d; const t = n.contentDescriptor.identifiers.storeAdamID; if (!t) throw new Error("Missing id in SongDetailPageIntent"); const i = await _oe(t, e), r = (c = i.body) == null ? void 0 : c.data, s = (d = i.body) == null ? void 0 : d.resources, o = new gt(s, e), a = o.resource(r[0]), l = a.relationships.artists.data[0].id; a.views = { [Ee.RelatedVideos]: { attributes: { title: ei.string("ASE.Web.Music.MediaComponents.MusicVideos.Header", e) }, ...a.relationships["music-videos"] }, [Ee.MoreByArtist]: { attributes: { title: ei.string("ASE.Web.Music.MediaComponents.MoreByArtist.Header", e, { artistName: a.attributes.artistName }) }, ...s.artists[l].relationships.albums } }; const u = koe(o, a, e); return HK(u, e, i) } }; function koe(n, e, t) { var d, f, g, h, m, v, b, y, k, S, C, P, M; const [i] = n.resourcesForType(z.Songs), r = n.resources((f = (d = i == null ? void 0 : i.relationships) == null ? void 0 : d.credits) == null ? void 0 : f.data), [s] = n.resources((h = (g = i == null ? void 0 : i.relationships) == null ? void 0 : g.albums) == null ? void 0 : h.data), o = n.resourcesForType(z.Lyrics), a = { identifiers: { storeAdamID: i.id }, albumID: s == null ? void 0 : s.id, kind: x.Song, url: (m = i.attributes) == null ? void 0 : m.url }, l = po((v = i.attributes) == null ? void 0 : v.releaseDate, t), u = [{ id: "songDetail", itemKind: "songDetailHeader", items: [{ showExplicitBadge: ((b = i.attributes) == null ? void 0 : b.contentRating) === "explicit", artwork: st((y = i.attributes) == null ? void 0 : y.artwork), playAction: Rt(a, t), title: (k = i.attributes) == null ? void 0 : k.name, artists: (S = i.attributes) == null ? void 0 : S.artistName, artistLinks: Gi(i, n, t), album: (C = i.attributes) == null ? void 0 : C.albumName, albumLinks: Gs(z.Albums, i, n, t, (P = i.attributes) == null ? void 0 : P.albumName), releaseDate: l, contentDescriptor: a }], presentation: { kind: "single" } }, Doe(o, i, t), ...Soe(r, n, t)]; let c = !0; return yoe.forEach(R => { const F = ga(e, R, t, n); F && (c && (u.push(Wd(`footer - ${e.id}`, t, "alternate")), c = !1), F.backgroundTreatment = "alternate", u.push(F)) }), { pageMetrics: Eo({ pageFeatureName: "credits_detail", pageType: "Credits", pageId: i.id }), sections: u, canonicalURL: Do((M = i.attributes) == null ? void 0 : M.url, i.id) } } function Doe(n, e, t) { var u, c; const { albumName: i, artistName: r, releaseDate: s, name: o, lyricsExcerpt: a } = e.attributes; if (!a) return {}; const l = po(s, t); return { id: "lyric-details", itemKind: "songDetailItemLockup", title: ei.string("ASE.Web.Music.MediaComponents.Lyrics.Header", t), items: [{ lyricsExcerpt: a, lyricsTTML: (c = (u = n == null ? void 0 : n[0]) == null ? void 0 : u.attributes) == null ? void 0 : c.ttml, name: o, albumName: i, artistName: r, releaseDate: l, songId: e.id }], presentation: { kind: "collection", layout: "list" } } } function Soe(n, e, t) { return n.map(i => { var l, u; const { kind: r, title: s } = i.attributes, o = (u = (l = i.relationships) == null ? void 0 : l[boe]) == null ? void 0 : u.data, a = o == null ? void 0 : o.map(c => { var b, y, k, S, C, P; const d = e.resourceWithID(c.id, c.type), f = (k = (y = (b = d.relationships) == null ? void 0 : b.artists) == null ? void 0 : y.data[0]) == null ? void 0 : k.id, g = e.resourceWithID(f, z.Artists), { artwork: h, name: m, roleNames: v } = d == null ? void 0 : d.attributes; return { artwork: st(h), name: m, roleNames: v, segue: En((S = g == null ? void 0 : g.attributes) == null ? void 0 : S.url, (C = g == null ? void 0 : g.attributes) == null ? void 0 : C.id, t), url: (P = g == null ? void 0 : g.attributes) == null ? void 0 : P.url } }); return { id: r, itemKind: "songDetailItemLockup", title: voe(s), items: a, presentation: { kind: "collection", layout: "list" } } }) } const Coe = { $intentKind: "DeleteLockupIntent", perform(n) { var r; const e = (r = n.metadata) == null ? void 0 : r.id; let t = 0; n.data.sections.every((s, o) => { var l; return ((l = s.items) == null ? void 0 : l.find(u => { var d; const c = (u == null ? void 0 : u.item) || u; return (d = c == null ? void 0 : c.id) == null ? void 0 : d.includes(e) })) ? (t = o, !1) : !0 }); const i = n.data.sections[t]; return Promise.resolve({ instruction: { instruction: "removeItemsFromSections", sectionAndItemIdsToRemove: [{ id: i.id, itemIds: e ? [e] : [] }] } }) } }; var UF = (n => (n.Name = "LyricsSharingPageIntent", n))(UF || {}); function Poe(n) { return { ...n, $kind: "LyricsSharingPageIntent" } } var Ub; (function (n) { n.MUSICKIT = "music_kit-integration", n.OTHER = "other", n.MINI = "mini", n.SONG = "song", n.ALBUM = "album", n.ALBUM_CLASSICAL = "album-classical", n.ARTIST = "artist", n.COMPILATION = "compilation", n.COMPILATION_CLASSICAL = "compilation-classical", n.PLAYLIST = "playlist", n.PLAYLIST_CLASSICAL = "playlist-classical", n.RADIO = "radio", n.SEARCH = "search", n.STATION = "station" })(Ub || (Ub = {})); var Hb; (function (n) { n[n.UNKNOWN = 0] = "UNKNOWN", n[n.RADIO = 1] = "RADIO", n[n.PLAYLIST = 2] = "PLAYLIST", n[n.ALBUM = 3] = "ALBUM", n[n.ARTIST = 4] = "ARTIST" })(Hb || (Hb = {})); var Fp; (function (n) { n[n.NOT_APPLICABLE = 0] = "NOT_APPLICABLE", n[n.OTHER = 1] = "OTHER", n[n.TRACK_SKIPPED_FORWARDS = 2] = "TRACK_SKIPPED_FORWARDS", n[n.PLAYBACK_MANUALLY_PAUSED = 3] = "PLAYBACK_MANUALLY_PAUSED", n[n.PLAYBACK_SUSPENDED = 4] = "PLAYBACK_SUSPENDED", n[n.MANUALLY_SELECTED_PLAYBACK_OF_A_DIFF_ITEM = 5] = "MANUALLY_SELECTED_PLAYBACK_OF_A_DIFF_ITEM", n[n.PLAYBACK_PAUSED_DUE_TO_INACTIVITY = 6] = "PLAYBACK_PAUSED_DUE_TO_INACTIVITY", n[n.NATURAL_END_OF_TRACK = 7] = "NATURAL_END_OF_TRACK", n[n.PLAYBACK_STOPPED_DUE_TO_SESSION_TIMEOUT = 8] = "PLAYBACK_STOPPED_DUE_TO_SESSION_TIMEOUT", n[n.TRACK_BANNED = 9] = "TRACK_BANNED", n[n.FAILED_TO_LOAD = 10] = "FAILED_TO_LOAD", n[n.PAUSED_ON_TIMEOUT = 11] = "PAUSED_ON_TIMEOUT", n[n.SCRUB_BEGIN = 12] = "SCRUB_BEGIN", n[n.SCRUB_END = 13] = "SCRUB_END", n[n.TRACK_SKIPPED_BACKWARDS = 14] = "TRACK_SKIPPED_BACKWARDS", n[n.NOT_SUPPORTED_BY_CLIENT = 15] = "NOT_SUPPORTED_BY_CLIENT", n[n.QUICK_PLAY = 16] = "QUICK_PLAY", n[n.EXITED_APPLICATION = 17] = "EXITED_APPLICATION" })(Fp || (Fp = {})); var $b; (function (n) { n[n.Manual = 0] = "Manual", n[n.Interval = 1] = "Interval", n[n.SkipIntro = 2] = "SkipIntro", n[n.Automatic = 3] = "Automatic", n[n.SkipToLiveManual = 4] = "SkipToLiveManual", n[n.SkipToLiveAutomatic = 5] = "SkipToLiveAutomatic" })($b || ($b = {})); var Vb; (function (n) { n[n.UNKNOWN = 0] = "UNKNOWN", n[n.NO_RIGHTS = 1] = "NO_RIGHTS", n[n.PURCHASED = 2] = "PURCHASED", n[n.UPLOADED = 3] = "UPLOADED", n[n.MATCHED = 4] = "MATCHED", n[n.ADDED = 5] = "ADDED", n[n.SUBSCRIBED = 6] = "SUBSCRIBED", n[n.NOT_SUPPORTED = 7] = "NOT_SUPPORTED" })(Vb || (Vb = {})); var zb; (function (n) { n[n.NO_SELECTION_PLAY = 0] = "NO_SELECTION_PLAY", n[n.RESUME_LAST_PLAYED_SONG = 1] = "RESUME_LAST_PLAYED_SONG", n[n.RESUME_CURRENT_DEVICE_POSITION = 2] = "RESUME_CURRENT_DEVICE_POSITION" })(zb || (zb = {})); var qb; (function (n) { n[n.NOT_APPLICABLE = 0] = "NOT_APPLICABLE", n[n.SIMILARITIES = 1] = "SIMILARITIES", n[n.ESSENTIALS = 2] = "ESSENTIALS", n[n.USER_LIBRARY = 3] = "USER_LIBRARY", n[n.ALGO_HEATSEEKER = 4] = "ALGO_HEATSEEKER", n[n.SEED_TRACK = 5] = "SEED_TRACK", n[n.GN_1M_TEMPORARY = 6] = "GN_1M_TEMPORARY", n[n.VECTOR = 8] = "VECTOR", n[n.ARTIST_SIMILARITIES = 9] = "ARTIST_SIMILARITIES", n[n.STORY_ALBUM_LISTENERS_ALSO_BOUGHT = 10] = "STORY_ALBUM_LISTENERS_ALSO_BOUGHT", n[n.STORY_ALBUM_SALES_LEADER = 11] = "STORY_ALBUM_SALES_LEADER", n[n.STORY_BILLBOARD = 12] = "STORY_BILLBOARD", n[n.STORY_COMPLETE_MY_ALBUM = 13] = "STORY_COMPLETE_MY_ALBUM", n[n.STORY_CRITICAL_PICK = 14] = "STORY_CRITICAL_PICK", n[n.STORY_ITUNES_ESSENTIAL = 15] = "STORY_ITUNES_ESSENTIAL", n[n.STORY_HEATSEEKER = 16] = "STORY_HEATSEEKER", n[n.STORY_IDENTITY = 17] = "STORY_IDENTITY", n[n.STORY_POWER_SONG = 18] = "STORY_POWER_SONG", n[n.STORY_SONG_SALES_LEADER = 20] = "STORY_SONG_SALES_LEADER", n[n.GENRE_SIMILARITIES = 21] = "GENRE_SIMILARITIES", n[n.STORY_IMIX = 22] = "STORY_IMIX", n[n.STORY_OTHER_MIX = 23] = "STORY_OTHER_MIX", n[n.EDITORIAL = 24] = "EDITORIAL", n[n.TOP_SONGS = 25] = "TOP_SONGS", n[n.SUBFORMAT_SONGS = 26] = "SUBFORMAT_SONGS", n[n.CRITICAL_PICKS = 27] = "CRITICAL_PICKS", n[n.US_ARTIST_SIMS = 28] = "US_ARTIST_SIMS", n[n.HEAVY_ROTATION = 29] = "HEAVY_ROTATION", n[n.STORY_FORMAT_STATION_HEAVY_ROTATION = 30] = "STORY_FORMAT_STATION_HEAVY_ROTATION", n[n.ARTIST_BASED_CORE_SIMILAR_ARTISTS = 31] = "ARTIST_BASED_CORE_SIMILAR_ARTISTS", n[n.ARTIST_BASED_FAMILIAR_SIMILAR_ARTISTS = 32] = "ARTIST_BASED_FAMILIAR_SIMILAR_ARTISTS", n[n.ARTIST_BASED_DISCOVERIES = 33] = "ARTIST_BASED_DISCOVERIES", n[n.ARTIST_BASED_HOT_SONGS = 34] = "ARTIST_BASED_HOT_SONGS", n[n.ARTIST_BASED_SEED_ARTIST = 35] = "ARTIST_BASED_SEED_ARTIST", n[n.ARTIST_BASED_COMPOSER = 36] = "ARTIST_BASED_COMPOSER", n[n.EDITORIAL_STATION_INTRO = 37] = "EDITORIAL_STATION_INTRO", n[n.EDITORIAL_RELATIVE_REPEAT = 38] = "EDITORIAL_RELATIVE_REPEAT", n[n.EDITORIAL_ABSOLUTE_REPEAT = 39] = "EDITORIAL_ABSOLUTE_REPEAT", n[n.EDITORIAL_SCHEDULED = 40] = "EDITORIAL_SCHEDULED", n[n.EDITORIAL_SUGGESTED_ARTIST = 41] = "EDITORIAL_SUGGESTED_ARTIST", n[n.FOR_YOU_FAMILIAR = 42] = "FOR_YOU_FAMILIAR", n[n.FOR_YOU_RECOMMENDED = 43] = "FOR_YOU_RECOMMENDED", n[n.FOR_YOU_FAVORITE_ARTIST = 44] = "FOR_YOU_FAVORITE_ARTIST", n[n.FOR_YOU_RECOMMENDED_ARTIST = 45] = "FOR_YOU_RECOMMENDED_ARTIST", n[n.EDITORIAL_POSITIONAL = 46] = "EDITORIAL_POSITIONAL", n[n.SIMILAR_SONGS = 47] = "SIMILAR_SONGS", n[n.SONG_ATTRIBUTE_FAVORITE_ARTIST = 48] = "SONG_ATTRIBUTE_FAVORITE_ARTIST", n[n.SONG_ATTRIBUTE_FAVORITE_ARTIST_DERIVED = 49] = "SONG_ATTRIBUTE_FAVORITE_ARTIST_DERIVED", n[n.SONG_ATTRIBUTE_FAVORITE_ARTIST_EDITORIAL = 50] = "SONG_ATTRIBUTE_FAVORITE_ARTIST_EDITORIAL", n[n.SONG_ATTRIBUTE_RECOMMENDED = 51] = "SONG_ATTRIBUTE_RECOMMENDED", n[n.SONG_ATTRIBUTE_RECOMMENDED_DERIVED = 52] = "SONG_ATTRIBUTE_RECOMMENDED_DERIVED", n[n.SONG_ATTRIBUTE_RECOMMENDED_EDITORIAL = 53] = "SONG_ATTRIBUTE_RECOMMENDED_EDITORIAL", n[n.SONG_ATTRIBUTE_NON_PERSONALIZED = 54] = "SONG_ATTRIBUTE_NON_PERSONALIZED", n[n.SONG_ATTRIBUTE_NON_PERSONALIZED_DERIVED = 55] = "SONG_ATTRIBUTE_NON_PERSONALIZED_DERIVED", n[n.SONG_ATTRIBUTE_NON_PERSONALIZED_EDITORIAL = 56] = "SONG_ATTRIBUTE_NON_PERSONALIZED_EDITORIAL", n[n.PERSONAL_STATION = 57] = "PERSONAL_STATION", n[n.PERSONAL_STATION_FAVORITE_ARTIST = 58] = "PERSONAL_STATION_FAVORITE_ARTIST", n[n.PERSONAL_STATION_RECOMMENDED = 59] = "PERSONAL_STATION_RECOMMENDED", n[n.NEW_MUSIC_STATION = 60] = "NEW_MUSIC_STATION", n[n.NEW_MUSIC_STATION_FAVORITE_ARTIST = 61] = "NEW_MUSIC_STATION_FAVORITE_ARTIST", n[n.NEW_MUSIC_STATION_RECOMMENDED = 62] = "NEW_MUSIC_STATION_RECOMMENDED" })(qb || (qb = {})); var Wb; (function (n) { n.NONE = "none", n.FAIRPLAY = "com.apple.fps", n.PLAYREADY = "com.microsoft.playready", n.WIDEVINE = "com.widevine.alpha" })(Wb || (Wb = {})); var Kb; (function (n) { n[n.STANDARD = 64] = "STANDARD", n[n.HIGH = 256] = "HIGH" })(Kb || (Kb = {})); var Jb; (function (n) { n.apiStorefrontChanged = "apiStorefrontChanged", n.hlsLevelUpdated = "hlsLevelUpdated", n.mediaContentComplete = "mediaContentComplete", n.playbackPause = "playbackPause", n.playbackPlay = "playbackPlay", n.playbackScrub = "playbackScrub", n.playbackSeek = "playbackSeek", n.playbackSkip = "playbackSkip", n.playbackStop = "playbackStop", n.lyricsPlay = "lyricsPlay", n.lyricsStop = "lyricsStop", n.playerActivate = "playerActivate", n.playerExit = "playerExit", n.queueModified = "queueModified", n.userActivityIntent = "userActivityIntent", n.applicationActivityIntent = "applicationActivityIntent", n.timedMetadata = "timedMetadata" })(Jb || (Jb = {})); function Aoe(n) { const e = new Ln("https://music.apple.com"), { storefront: t, language: i, ts: r, te: s, tk: o, id: a, l } = n; return tt(t) && e.path(t), e.path(`lyrics/${a}`), tt(i) ? e.param("l", i) : typeof l == "string" && e.param("l", l), typeof r == "string" && e.param("ts", r), typeof s == "string" && e.param("te", s), typeof o == "string" && e.param("tk", o), e.toString() } function Eoe(n, e, t) { const { storefront: i, l: r } = e, s = { kind: x.Album, identifiers: { storeAdamID: n }, locale: qt({ storefront: i, language: r }, t) }; return r1(s, t) } function Ioe(n, e, t, i) { var h, m, v, b, y, k, S, C, P, M, R, F; const { id: r, ts: s, te: o } = t, a = (m = (h = n == null ? void 0 : n.body) == null ? void 0 : h.results) == null ? void 0 : m.text, l = (k = (y = (b = (v = n == null ? void 0 : n.body) == null ? void 0 : v.results) == null ? void 0 : b.album) == null ? void 0 : y.attributes) == null ? void 0 : k.artwork, u = (M = (P = (C = (S = n == null ? void 0 : n.body) == null ? void 0 : S.results) == null ? void 0 : C.album) == null ? void 0 : P.attributes) == null ? void 0 : M.url; if (!u) return; const c = new Ln(u).param("i", r), d = { identifiers: { storeAdamID: r }, kind: x.Song, url: c.toString(), startTime: parseInt(s) }, f = Rt(d, i), g = JSON.parse(JSON.stringify(xi())); return g.actionMetrics.custom.endReasonType = Fp.NATURAL_END_OF_TRACK, { startTime: parseInt(s), endTime: parseInt(o), name: (R = e.attributes) == null ? void 0 : R.name, artistName: (F = e.attributes) == null ? void 0 : F.artistName, duration: parseInt(o) - parseInt(s), artwork: st(l), snippet: a, playAction: f, naturalPauseAction: g, pauseAction: xi(), resumeAction: Wi() } } function Moe(n, e) { const { id: t, ts: i, te: r, tk: s, l: o } = n, a = nt.countryCode(e), l = new je(`/v1/lyrics/${a}/snippet/songs/${t}`, e); return l.queryString.addParameters({ ts: i, te: r, tk: s, l: o, platform: "web", "omit[resource]": "autos" }), l.queryString.with.add("album"), l.queryString.shouldIncludeFormatResourcesMap = !1, l.queryString.shouldIncludeLanguage = !1, pt({ url: l.string }, e) } function Loe(n, e, t, i, r) { var s, o, a, l, u, c, d, f, g; const h = bn(n, t); if (!e.attributes) return h; const m = e.id, v = Ge(Ue.localization, t), b = (s = e.attributes) === null || s === void 0 ? void 0 : s.albumName, y = (o = i == null ? void 0 : i.attributes) === null || o === void 0 ? void 0 : o.name, k = (a = e.attributes) === null || a === void 0 ? void 0 : a.artistName, S = (u = (l = e.attributes.artwork) === null || l === void 0 ? void 0 : l.url) !== null && u !== void 0 ? u : h.artworkUrl, C = (c = e.attributes) === null || c === void 0 ? void 0 : c.releaseDate, P = $n(C, t), M = (d = e.attributes) === null || d === void 0 ? void 0 : d.durationInMillis, R = (g = (f = e.attributes) === null || f === void 0 ? void 0 : f.genreNames) === null || g === void 0 ? void 0 : g[0]; function F() { return r != null && r.title ? r.title : k && y ? v.string("FUSE.Meta.Track.Title", { artistName: k, trackName: y }) : k && b ? v.string("FUSE.Meta.Album.PageTitle", { artistName: k, albumName: b }) : h.pageTitle } function N() { if (r != null && r.description) return r.description; if (P && M) return v.string("FUSE.Meta.Track.Description.Social", { duration: Lu(M, t), year: P }) } function O() { return r != null && r.socialTitle ? r.socialTitle : K } function B() { return r != null && r.socialDescription ? r.socialDescription : W } function U() { if (b && k && R) return v.string("FUSE.Meta.Album.PageKeywords", { artistName: k, albumName: b, genreName: R }) } const K = F(), W = N(), Z = O(), Q = B(), G = U(); return { ...h, pageTitle: K, description: W, keywords: G, appleContentId: m, appleDescription: W, artworkUrl: S, crop: "wp", twitterCropCode: "bf", twitterCardType: "summary", twitterHeight: 600, twitterWidth: 600, ogType: "music.lyric", socialTitle: Z, socialDescription: Q } } async function Toe(n, e, t, i) { if (!Vn(t) || !e || !i) return n; const r = await vi(e.id, z.Songs, t), s = Loe(n.canonicalURL, e, t, i, r); return { ...n, seoData: s } } const Roe = { $intentKind: UF.Name, routes(n) { return [{ rules: [{ path: "/{storefront}/lyrics/{id}", query: ["l", "ts", "te", "tk"] }], handler: (e, t) => { const { storefront: i, l: r, ts: s, te: o, tk: a, id: l } = t; return Poe({ id: l, l: r, ts: s, te: o, tk: a, ...qt({ storefront: i, language: r }, n) }) } }] }, async perform(n, e) { var y, k, S; const { id: t, ts: i, te: r, tk: s, l: o } = n, a = await Moe({ id: t, ts: i, te: r, tk: s, l: o }, e), l = (k = (y = a == null ? void 0 : a.body) == null ? void 0 : y.results) == null ? void 0 : k.album, u = l == null ? void 0 : l.id, c = Eoe(u, n, e), d = await Jt(c, e), f = Ou(d, e, n, t), g = (S = d.body) == null ? void 0 : S.resources, h = new gt(g, e), m = h.resource({ id: t, type: z.Songs }), v = h.resource(l); return { ...await Toe({ ...f, canonicalURL: Aoe(n) }, v, e, m), pageMetrics: tn(e, d, "web_lyrics_share", "Album", h), lyricsModal: Ioe(a, m, n, e) } } }; var HF = (n => (n.Name = "DeepLinkPageIntent", n))(HF || {}); function Foe(n) { return { ...n, skipPrefetch: !0, $kind: "DeepLinkPageIntent" } } function Ooe(n) { return n.$kind === "DeepLinkPageIntent" } const { routes: Noe } = Ei(Foe, "/deeplink", ["app?", "p?"]), Yb = { "subscribe-family": fi.subscribe }, Boe = { $intentKind: HF.Name, routes: Noe, async perform(n) { return { pageMetrics: { instructions: [], pageFields: {}, custom: {} }, sections: [], deeplinkPath: n.path } }, actionFor(n, e, t) { var u, c, d; const i = (u = t.metrics) != null ? u : un(e, "0", "unknown", "navigate"), r = At({ kind: vt.CatalogPage, intent: n }, i), { app: s, p: o, language: a, storefront: l } = n; if (s === "music" && Yb[o] !== void 0) { const f = { iso2code: l != null ? l : qr, locale: (d = (c = xr.normalize({ storefront: l != null ? l : qr, language: a })) == null ? void 0 : c.language) != null ? d : Nu.toLowerCase() }; return Lt([...pr({ kind: bt.New }, r, e), vr({ type: ir.Open, activePath: Yb[o], modalParams: f })], Ve) } return r } }; function Uoe(n) { return tt(n.staticCanonicalUrlFor) } const Hoe = { $intentKind: kT.Name, async perform(n, e) { const t = n.intent, r = Ge(Ue.intentDispatcher, e).controller(t); if (r && Uoe(r)) return r.staticCanonicalUrlFor(t, e) } }; var $F = (n => (n.Name = "LibraryAllPlaylistsPageIntent", n))($F || {}); function i_(n) { return { ...n, $kind: "LibraryAllPlaylistsPageIntent" } } var VF = (n => (n.Name = "LibraryPlaylistsRequestItemsIntent", n))(VF || {}); function zF(n) { return { ...n, $kind: "LibraryPlaylistsRequestItemsIntent" } } const { routes: $oe, makeCanonicalUrl: Voe } = Ei(i_, "/library/all-playlists/", []), zoe = Fr({ $intentKind: $F.Name, routes: $oe, async perform(n, e) { var o; let t; try { t = await AR(0, Xn(e)) } catch (a) { if (((o = a.userInfo) == null ? void 0 : o.status) != 404) throw new Error(`an error occurred at LibraryAllPlaylistsPageIntentController: ${a}`) } const i = { kind: "virtualScroll" }, r = [{ id: "libraryAllPlaylists", itemKind: "squareLockup", items: (t == null ? void 0 : t.items) || [], presentation: i, fetchIntent: zF, metadata: { total: (t == null ? void 0 : t.total) || 0 } }]; return { pageMetrics: qoe(), invalidationRules: { eventTriggers: [{ events: [{ name: "libraryItemsDeleted" }], intent: Al({ data: { sections: r } }) }] }, sections: r, libraryType: "all-playlists", canonicalURL: Voe(n) } }, actionFor(n, e, t) { return Ao(n, { kind: bt.AllPlaylists }, e, t) } }); function qoe() { return { instructions: [{ data: { topic: void 0, shouldFlush: !1, fields: { eventType: "page" }, includingFields: ["pageFields", "languages"], excludingFields: [] }, invocationPoints: [mr.PageInvocationPoint.pageEnter] }], pageFields: { page: "Picker_AllPlaylistsMain", pageId: "AllPlaylistsMain", pageType: "Picker" }, custom: {} } } const Woe = { $intentKind: VF.Name, async perform(n, e) { const { offset: t, id: i } = n; try { return i ? await ER(i, t, e) : await AR(t, Xn(e)) } catch (r) { throw new Error(`an error occurred at LibraryPlaylistsRequestItemsIntentController: ${r}`) } } }, { routes: Koe, makeCanonicalUrl: Joe } = js(R1, "/library/playlist-folder/{id}"), Yoe = Fr({ $intentKind: JT.Name, routes: Koe, async perform(n, e) { var a; const { id: t } = n; let i; try { i = await ER(t, 0, e) } catch (l) { if (((a = l.userInfo) == null ? void 0 : a.status) != 404) throw new Error(`an error occurred at LibraryPlaylistFolderPageIntentController: ${l}`) } const r = { kind: "virtualScroll" }, s = [{ id: `libraryPlaylistFolder-${t}`, itemKind: "squareLockup", items: (i == null ? void 0 : i.items) || [], presentation: r, fetchIntent: l => zF({ ...l, id: t }), metadata: { total: (i == null ? void 0 : i.total) || 0 } }]; return { pageMetrics: Xoe(), invalidationRules: { eventTriggers: [{ events: [{ name: "libraryItemsDeleted" }], intent: Al({ data: { sections: s } }) }] }, sections: s, libraryType: "playlist-folder", canonicalURL: Joe(n) } } }); function Xoe() { return { instructions: [{ data: { topic: void 0, shouldFlush: !1, fields: { eventType: "page" }, includingFields: ["pageFields", "languages"], excludingFields: [] }, invocationPoints: [dr.PageInvocationPoint.pageEnter] }], pageFields: { page: "Picker_PlaylistFolderMain", pageId: "PlaylistFolderMain", pageType: "Picker" }, custom: {} } } const Si = Tt({ audioCtx: null, currentItemId: null, currentState: null, currentItemPreviewUrl: null, lcdPlaybackInterrupted: !1, suggestionsState: {} }), Zoe = { $intentKind: TR.Name, async perform(n, e) { var d, f, g, h, m, v, b, y, k, S; const t = e.required(hi), i = { ...(d = n.data) == null ? void 0 : d.libraryPlaylistPageData }, r = (f = i.sections) == null ? void 0 : f.find(C => C.itemKind === "trackLockup"), s = (g = i.sections) == null ? void 0 : g.find(C => C.itemKind === "suggestionsListComponentModel"), o = (h = i.sections) == null ? void 0 : h.find(C => C.itemKind === "containerDetailHeaderLockup"), a = (m = o == null ? void 0 : o.items) == null ? void 0 : m[0], l = a ? a == null ? void 0 : a.contentDescriptor : null; if (!(l ? Pr(l) : null)) throw new Error("Unable to find playlistId for UpdateLibraryPlaylistSuggestionsIntent :" + n.name); if (n.name === "addSuggestionToPlaylist") { const C = (v = n == null ? void 0 : n.metadata) == null ? void 0 : v.id; if (!C || !s) throw t.error("no suggestion item id found"), new Error("No Suggestion Item Id found to add to the library playlist tracklist section"); const { suggestionAddedIndex: P, suggestionAddedTrackLockup: M } = xoe(C, s), R = (b = n == null ? void 0 : n.metadata) == null ? void 0 : b.librarySong; if (M && R) { const F = So(R.id, R, z.LibraryPlaylists, null, {}, e, !1); r.items.push({ ...F, subtitleLinks: M == null ? void 0 : M.subtitleLinks, tertiaryLinks: M == null ? void 0 : M.tertiaryLinks }) } await Goe(s, P, l, r == null ? void 0 : r.items, e), (y = n == null ? void 0 : n.metadata) != null && y.shouldRefresh && Qoe(s, l, r == null ? void 0 : r.items, e), Xb(i, r, e) } else if (n.name === "refreshSuggestionsShelf") try { await joe(s, l, r == null ? void 0 : r.items, e) } catch (C) { t.error(`Refreshing suggestion items failed: ${C}`) } else if (n.name === "deleteLibraryPlaylistTrack") { const C = (k = n == null ? void 0 : n.metadata) == null ? void 0 : k.id; C && (r.items = eae(r.items, C)), Xb(i, r, e) } MR(i), o.items = [{ ...a, trackCount: (S = r.items) == null ? void 0 : S.length }]; const c = { instruction: "replacePage", newPage: { ...i } }; return Promise.resolve({ instruction: c }) } }; async function Qoe(n, e, t, i) { const r = n.items.splice(na, n.items.length), s = r_(t), o = await s_(e, s, i); n.items = n.items.concat(o), tae(r) } async function joe(n, e, t, i) { var r; if (((r = n.items) == null ? void 0 : r.length) < 2 * na) { const s = r_(t), o = await s_(e, s, i); n.items = n.items.concat(o) } n.items.splice(0, na) } async function Goe(n, e, t, i, r) { var s, o; if (((s = n.items) == null ? void 0 : s.length) > 1 && n.items.length > na) { const a = n.items.splice(na, 1); n.items[e] = a[0] } else if (((o = n.items) == null ? void 0 : o.length) === 1) n.items = []; else { const a = r_(i), l = await s_(t, a, r); n.items.splice(e, 1), n.items = n.items.concat(l) } } function xoe(n, e) { var r; let t; const i = ((r = e.items) == null ? void 0 : r.find((s, o) => { const a = Qt({ contentDescriptor: s == null ? void 0 : s.contentDescriptor }); return a === n && (t = o), a === n })) || null; return { suggestionAddedIndex: t, suggestionAddedTrackLockup: i } } function Xb(n, e, t) { let i; const r = n.sections.find((l, u) => l.itemKind === "containerDetailTracklistFooterLockup" ? (i = u, !0) : !1), s = r.items[0], o = aR(e, t), a = { ...r, items: [{ ...s, description: o }] }; n.sections[i] = a } function r_(n) { const e = []; return n.map(t => { var o, a, l, u, c; const i = (a = (o = t == null ? void 0 : t.contentDescriptor) == null ? void 0 : o.identifiers) == null ? void 0 : a.cloudUniversalLibraryID, r = ((l = t == null ? void 0 : t.contentDescriptor) == null ? void 0 : l.catalogUrl) || ((u = t == null ? void 0 : t.contentDescriptor) == null ? void 0 : u.url), s = r == null ? void 0 : r.match(new RegExp("i=(?<id>[0-9]+)")); (c = s == null ? void 0 : s.groups) != null && c.id && e.push({ id: i, type: z.Songs, href: null, attributes: null, relationships: { catalog: { href: r, data: [{ id: s.groups.id, type: z.Songs }] } } }) }), e } async function s_(n, e, t) { var o; const i = (o = $t(Si)) == null ? void 0 : o.suggestionsState, r = Pr(n), s = await N1(r, t, i); return LR(s, e, t, n) } function eae(n, e) { return n.filter(t => Qt({ contentDescriptor: t == null ? void 0 : t.contentDescriptor }) !== e) } function tae(n) { const e = n.map(t => Pr(t == null ? void 0 : t.contentDescriptor)); Si.update(t => { const i = t.suggestionsState, r = Object.keys(i).reduce((s, o) => (!i[o].selected && !e.includes(o) && (s[o] = i[o]), s), {}); return { ...t, suggestionsState: r } }) } var qF = (n => (n.Name = "JoinSharePlayPageIntent", n))(qF || {}); function WF(n) { return { $kind: "JoinSharePlayPageIntent", skipPrefetch: !0, ...n } } function nae({ p: n, v: e, h: t }) { return { $kind: "joinSharePlayAction", p: n, v: e, h: t, actionMetrics: { data: [], custom: {} } } } const { makeCanonicalUrl: iae } = Ei(WF, "/join", ["p", "v", "h"]), rae = { $intentKind: qF.Name, routes(n) { return [{ rules: [{ path: "/join", query: ["l?", "p", "v?", "h?"] }, { path: "/{storefront}/join", query: ["l?", "p", "v?", "h?"] }], handler(e, t) { var r; const i = Mg(n); return WF({ ...qt({ storefront: (r = i != null ? i : t.storefront) != null ? r : "us", language: t.l }, n), p: t.p, v: t.v, h: t.h, skipPrefetch: !0 }) } }] }, async perform(n, e) { if (typeof window < "u") { const { storefront: t, language: i } = n, s = ur({ storefront: t, language: i }); return await fa.inject(Ue.intentDispatcher, e).dispatch(s, e) } else { let t = iae(n); return { pageMetrics: { instructions: [], custom: {} }, sections: [], canonicalURL: t.toString() } } }, actionFor(n, e, t) { var s; const i = (s = t.metrics) != null ? s : un(e, "0", "unknown", "navigate"), r = At({ kind: vt.CatalogPage, intent: n }, i); return t.isDeepLinkAction ? Lt([...pr({ kind: bt.New }, r, e), nae({ p: n.p, v: n.v, h: n.h })], Ve) : r } }; var KF = (n => (n.Name = "GetMotionArtworkIntent", n))(KF || {}); function sae(n) { return { ...n, $kind: "GetMotionArtworkIntent" } } async function oae(n, e, t) { if (!n || !e) throw new Error("id or storefront are required for requestGetMotionArtwork"); const i = new je(`/v1/catalog/${e}/songs/${n}`, t); return i.queryString.addParameters({ platform: "web", include: "albums", "omit[resource]": "autos", "fields[albums]": "editorialVideo" }), pt({ url: i.string }, t) } const aae = { $intentKind: KF.Name, async perform(n, e) { var a, l, u, c, d; const t = await oae(n.id, n.storefront, e), i = (a = t == null ? void 0 : t.body) == null ? void 0 : a.resources; if (!i) throw new Error("No resource map in motion artwork response"); const s = new gt(i, e).resourcesForType(z.Albums); if ((u = (l = s[0]) == null ? void 0 : l.attributes) == null ? void 0 : u.editorialVideo) return { dictionary: (d = (c = s[0]) == null ? void 0 : c.attributes) == null ? void 0 : d.editorialVideo, cropStyle: "cc" } } }; var JF = (n => (n.Name = "GetContainerItemsIntent", n))(JF || {}); function lae(n) { return { ...n, $kind: "GetContainerItemsIntent" } } async function uae(n, e, t, i, r) { if (!n || !e || !t && !r) throw new Error("id and type or storefront are required for requestGetContainerItems"); const s = t ? e.replace("library-", "") : e, o = s === z.Playlists || s === z.Albums, a = `${t ? "/v1/me/library" : `/v1/catalog/${r}`}/${s}/${n}${o ? "/tracks" : ""}`, l = new je(a, i); return l.queryString.addParameters({ platform: "web", [`fields[${e}]`]: "artwork", relate: "catalog", "omit[resource]": "autos" }), (e === z.Songs || e === z.LibrarySongs) && l.queryString.addParameters({ include: "albums", "fields[albums]": "url" }), pt({ url: l.string }, i) } const cae = { $intentKind: JF.Name, async perform(n, e) { var f, g; const t = nt.countryCode(e), i = fr({ contentDescriptor: n == null ? void 0 : n.contentDescriptor }), r = Rg(n == null ? void 0 : n.contentDescriptor), s = Pl(n == null ? void 0 : n.contentDescriptor) && r !== z.Songs, o = await uae(i, r, s, e, t), a = (f = o == null ? void 0 : o.body) == null ? void 0 : f.resources; if (!a) throw new Error("No resource map in motion artwork response"); const l = (g = o.body) == null ? void 0 : g.data, u = new gt(a, e), c = u.resources(l); return (s ? c.map(h => { var m, v, b; return ((b = (v = (m = h == null ? void 0 : h.relationships) == null ? void 0 : m.catalog) == null ? void 0 : v.data) == null ? void 0 : b[0]) || null }) : c).map(h => { var v, b, y; const m = (y = (b = (v = h.relationships) == null ? void 0 : v.albums) == null ? void 0 : b.data) == null ? void 0 : y[0]; return { contentDescriptor: { ...rt(h, e, u) }, containerContentDescriptor: m ? rt(u.resource(m), e, u) : null } }) } }; var YF = (n => (n.Name = "LibrarySuggestedPlaylistsIntent", n))(YF || {}); function dae(n) { return { ...n, $kind: "LibrarySuggestedPlaylistsIntent" } } function fae(n) { const e = new je("/v1/me/library/playlists", n); return e.queryString.addParameters({ platform: "web", "filter[featured]": "suggested" }), pt({ url: e.string }, n) } const gae = { $intentKind: YF.Name, async perform(n, e) { var i; const t = Xn(e); try { const { body: r } = await fae(t), s = r.resources; return new gt(s, t).resources((i = r == null ? void 0 : r.data) == null ? void 0 : i.splice(0, 3)).map(l => pR(l)) } catch (r) { throw new Error(`an error occurred at LibrarySuggestedPlaylistsIntentController: ${r}`) } } }, hae = { $intentKind: RR.Name, async perform(n, e) { let t = n.data.libraryPlaylistPageData.sections.find(o => o.itemKind === "containerDetailHeaderLockup"), i = JSON.parse(JSON.stringify(t)), r = i.items[0]; r.title = n.metadata.title, r.isPublic = n.metadata.isPublic, r.modalPresentationDescriptor = { ...r.modalPresentationDescriptor, headerTitle: n.metadata.title, paragraphText: n.metadata.description }; const s = { instruction: "replaceSection", newSection: i }; return Promise.resolve({ instruction: s }) } }; var XF = (n => (n.Name = "RefreshSuggestionsIntent", n))(XF || {}); function mae(n) { return { ...n, $kind: "RefreshSuggestionsIntent" } } const pae = { $intentKind: XF.Name, async perform(n, e) { var i; const t = Xn(e); try { if (n != null && n.isFinalSave) { const r = (i = $t(Si)) == null ? void 0 : i.suggestionsState; await N1(n.playlistId, t, r, !0) } } catch (r) { throw new Error(`an error occurred at RefreshSuggestionsIntentController: ${r}`) } } }; var ZF = (n => (n.Name = "ReportAConcernIntent", n))(ZF || {}); function _ae(n) { return { ...n, $kind: "ReportAConcernIntent" } } async function vae(n, e, t, i) { if (!e || !t) throw new Error("concernData or type are required for requestReportAConcern"); try { const r = nt.countryCode(i), s = new je(`/v1/catalog/${r}/concerns`, i); s.queryString.shouldIncludeLanguage = !1, s.queryString.shouldIncludePlatform = !1, s.queryString.shouldIncludeFormatResourcesMap = !1; const o = { concern: n, ...e }, a = JSON.stringify(o), l = await pt({ url: s.string, body: a, method: "POST" }, i); return [204, 202, 200].indexOf(l == null ? void 0 : l.statusCode) > -1 ? {} : null } catch (r) { throw new Error(`error in requestReportAConcern: ${r}`) } } const bae = { $intentKind: ZF.Name, async perform(n, e) { const { concern: t, concernData: i, type: r } = n; try { return await vae(t, i, r, e) } catch (s) { return { errors: [{ detail: s.message }] } } } }; var QF = (n => (n.Name = "SSSyncStatusRequestIntent", n))(QF || {}); function jF(n) { return { ...n, $kind: "SSSyncStatusRequestIntent" } } const yae = { $intentKind: QF.Name, async perform(n, e) { var r; if (n.sessionID.trim().length === 0) throw "Invalid SongShift sessionID"; const t = new je(`/v1/me/library/import/jobs/${n.sessionID}/progress`, e); return (r = (await pt({ url: t.string }, e)).body) == null ? void 0 : r.results } }; var GF = (n => (n.Name = "TransferMusicPageIntent", n))(GF || {}); function xF(n) { return { $kind: "TransferMusicPageIntent", skipPrefetch: !0, ...n } } var qo = (n => (n.AuthSessionDismissListener = "listenToAuthenticationSessionDidDismiss", n.GenerateAuthCode = "generateAuthorizationCode", n.DismissWebView = "dismissWebView", n.RegisterDismissListener = "listenToDismissSelected", n.ShowAlert = "showAlert", n))(qo || {}), yr = (n => (n[n.Initiated = 0] = "Initiated", n[n.ReviewComplete = 1] = "ReviewComplete", n[n.ReviewDismissed = 2] = "ReviewDismissed", n[n.FinishLater = 3] = "FinishLater", n[n.NoAlternatives = 4] = "NoAlternatives", n[n.CancelSession = 10] = "CancelSession", n[n.FailSession = 11] = "FailSession", n[n.AddToLibError = 12] = "AddToLibError", n[n.ReviewError = 13] = "ReviewError", n[n.ReviewSubmissionError = 14] = "ReviewSubmissionError", n))(yr || {}), Wo = (n => (n[n.AuthError = 1] = "AuthError", n[n.ThirdPartyAuthError = 2] = "ThirdPartyAuthError", n[n.AddToLibError = 3] = "AddToLibError", n[n.ReviewMatchesError = 4] = "ReviewMatchesError", n[n.ReviewSubmissionError = 5] = "ReviewSubmissionError", n[n.ReviewItemNotSelected = 20] = "ReviewItemNotSelected", n))(Wo || {}), Vr = (n => (n[n.NotStarted = 0] = "NotStarted", n[n.InProgress = 1] = "InProgress", n[n.InReview = 2] = "InReview", n[n.Complete = 3] = "Complete", n))(Vr || {}), es = (n => (n[n.review = 0] = "review", n[n.start = 1] = "start", n))(es || {}); function zu(n) { return { $kind: "launchSongShiftAction", launchAction: n, actionMetrics: { data: [{ excludingFields: [], includingFields: [], shouldFlush: !1, fields: { actionType: "navigate", targetId: n === es.review ? "ReviewNow" : "TransferMusic", targetType: "banner", actionContext: n === es.review ? "transfer_review" : "transfer_start", eventType: "click" } }], custom: {} } } } function eO(n, e) { return { ...bn(n, e), noIndex: !0, noFollow: !0 } } const { makeCanonicalUrl: wae } = Ei(xF, "/transfer-music", []), kae = { $intentKind: GF.Name, routes(n) { return [{ rules: [{ path: "/transfer-music", query: ["l?"] }, { path: "/{storefront}/transfer-music", query: ["l?"] }], handler(e, t) { var r; const i = Mg(n); return xF({ ...qt({ storefront: (r = i != null ? i : t.storefront) != null ? r : qr, language: t.l }, n), skipPrefetch: !0 }) } }] }, async perform(n, e) { if (typeof window < "u") { const { storefront: t, language: i } = n, s = ur({ storefront: t, language: i }); return await fa.inject(Ue.intentDispatcher, e).dispatch(s, e) } else { const t = wae(n); return { pageMetrics: { instructions: [], custom: {} }, sections: [], canonicalURL: t, seoData: eO(t, e) } } }, actionFor(n, e, t) { var s; const i = (s = t.metrics) != null ? s : un(e, "0", "unknown", "navigate"), r = At({ kind: vt.CatalogPage, intent: n }, i); return t.isDeepLinkAction ? Lt([...pr({ kind: bt.New }, r, e), zu(es.start)], Ve) : r } }; var tO = (n => (n.Name = "TransferMusicAuthCallbackIntent", n))(tO || {}); function nO(n) { return { $kind: "TransferMusicAuthCallbackIntent", skipPrefetch: !0, ...n } } function Dae(n) { return { $kind: "completeTransferMusicAuth", oauthData: n, actionMetrics: { data: [], custom: {} } } } const { makeCanonicalUrl: Sae } = Ei(nO, "/transfer-music/auth-callback", []), Cae = { $intentKind: tO.Name, routes(n) { return [{ rules: [{ path: "/transfer-music/auth-callback", query: ["l?"] }, { path: "/{storefront}/transfer-music/auth-callback", query: ["l?"] }], handler(e, t) { var r; const i = Mg(n); return nO({ ...qt({ storefront: (r = i != null ? i : t.storefront) != null ? r : qr, language: t.l }, n), skipPrefetch: !0, query: Ln.toQueryString(e.query) }) } }] }, async perform(n, e) { var t; if (typeof window < "u") { const { storefront: i, language: r } = n, o = ur({ storefront: i, language: r }); return await fa.inject(Ue.intentDispatcher, e).dispatch(o, e) } else { const i = Sae(n); return { pageMetrics: { instructions: [], custom: {} }, sections: [], canonicalURL: Ln.from(i.toString()).append("query", Ln.queryFromString((t = n.query) != null ? t : "")).toString(), seoData: eO(i, e) } } }, actionFor(n, e, t) { var s; const i = (s = t.metrics) != null ? s : un(e, "0", "unknown", "navigate"), r = At({ kind: vt.CatalogPage, intent: n }, i); return !t.isDeepLinkAction || !n.query ? r : Lt([...pr({ kind: bt.New }, r, e), Dae(n.query)], Ve) } }, hi = pn("LocalLogger"), Pae = n => ({ async addIntents(e) { e.register(Hoe), e.register(wte), e.register(kte), e.register(Bte), e.register($te), e.register(Kte), e.register(Jte), e.register(Gte), e.register(nne), e.register(oie), e.register(die), e.register(_ie), e.register(rie), e.register(sie), e.register(qne), e.register(Sie), e.register(Cne), e.register(Qse), e.register(xse), e.register(eoe), e.register(Pie), e.register(Pne), e.register(Vse), e.register(Bie), e.register(ase), e.register(sne), e.register(vse), e.register(Ase), e.register(Fse), e.register(Pse), e.register(fse), e.register(Use), e.register(Kse), e.register(Yse), e.register(roe), e.register(FT), e.register(loe), e.register(moe), e.register(poe), e.register(woe), e.register(Coe), e.register(Ane), e.register(Roe), e.register(Boe), e.register(zoe), e.register(Zoe), e.register(pae), e.register(hae), e.register(Woe), e.register(Yoe), e.register(gae), e.register(aae), e.register(rae), e.register(Qee), e.register(cae), e.register(yae), e.register(kae), e.register(Cae), e.register(bae); const { GetLibraryPinsIntentController: t } = await ft(() => import("./GetLibraryPinsIntentController-69a1738b.js"), ["assets/GetLibraryPinsIntentController-69a1738b.js", "assets/libraryPinsAPI-0270cc5e.js"]); e.register(t); const { AddLibraryPinIntentController: i } = await ft(() => import("./AddLibraryPinIntentController-bb461653.js"), ["assets/AddLibraryPinIntentController-bb461653.js", "assets/libraryPinsAPI-0270cc5e.js"]), { DeleteLibraryPinIntentController: r } = await ft(() => import("./DeleteLibraryPinIntentController-c06739b5.js"), ["assets/DeleteLibraryPinIntentController-c06739b5.js", "assets/libraryPinsAPI-0270cc5e.js"]), { MoveLibraryPinIntentController: s } = await ft(() => import("./MoveLibraryPinIntentController-f9244294.js"), ["assets/MoveLibraryPinIntentController-f9244294.js", "assets/libraryPinsAPI-0270cc5e.js"]), { UpdateLibraryPinIntentController: o } = await ft(() => import("./UpdateLibraryPinIntentController-719363f2.js"), ["assets/UpdateLibraryPinIntentController-719363f2.js", "assets/libraryPinsAPI-0270cc5e.js"]); e.register(i), e.register(r), e.register(s), e.register(o) }, modifyObjectGraph(e) { const t = n.loggerFor("music-ui-js"); return e.adding(hi, t) } }); class Aae { getOverrides() { } } const Vs = "2536.10.0-future.external", Eae = A1.makeBuilder(Vs, Cl); function Iae(n, e, t, i, r) { const s = xd.build(n); return { bag: s, bundle: Eae(), campaignAttributionService: new oee, cloudLibraryStatusProvider: new aee, features: lee(), findFriendsContactsProvider: new uee, host: new vee, locale: new pee(r), loggerFactory: E1.create(n, "music-ui-js"), net: new wee(e, i), persistence: new mT(n), prebootstrap: Pae(n), random: new kee, recentLibrarySearchesProvider: new Fee(n), restrictionsController: new Oee, dataOverrides: new Aae, subscriptionStatusCoordinator: new $ee(s, t), userSocialProfileCoordinator: new Vee } } const Mae = "serialized-server-data", Lae = { "<": "\\u003C", "\u2028": "\\u2028", "\u2029": "\\u2029" }; new RegExp(`[${Object.keys(Lae).join("")}]`, "g"); function Tae() { var e; const n = document.getElementById(Mae); if (n) { (e = n.parentNode) == null || e.removeChild(n); try { return JSON.parse(n.textContent || "") } catch (t) { return } } } function cf(n) { if (Array.isArray(n)) return `[${n.map(cf).join(",")}]`; if (k$(n)) { const e = [...Object.keys(n)]; return e.sort(), `{${e.filter(i => typeof n[i] < "u").map(i => `${JSON.stringify(i)}:${cf(n[i])}`).join(",")}}` } return JSON.stringify(n) } function Rae(n) { return Array.isArray(n) && n.every(Fae) } function Fae(n) { return Oae(n) && Nae(n.intent) } function Oae(n) { return n !== null && typeof n == "object" && "intent" in n && "data" in n } function Nae(n) { return n !== null && typeof n == "object" && "$kind" in n } function Bae(n, e) { const t = n.loggerFor("getPrefetchedIntents"), i = e == null ? void 0 : e.evenIfSignedIn, r = e == null ? void 0 : e.featureKitItfe, s = Tae(); return !s || !Rae(s) ? new Map : !i && Ci("media-user-token") || r ? (t.info("Discarding prefetched intents - signed in user or ITFE enabled"), new Map) : (t.debug("received prefetched intents from the server:", s), new Map(s.map(({ intent: o, data: a }) => { try { return o.$kind.includes("Library") ? null : [cf(o), a] } catch (l) { return null } }).filter(S$))) } class qu { constructor(e) { He(this, "intents"); this.intents = e } static empty() { return new qu(new Map) } static fromDom(e, t) { return new qu(Bae(e, t)) } get(e) { if (this.intents.size === 0) return; let t; try { t = cf(e) } catch (r) { return } const i = this.intents.get(t); return this.intents.delete(t), i } } const Uae = (n, e) => ({ shouldEnableFunnelKit: function () { const { accountStatus: t } = n.subscriptionStatus; return t !== "subscribed" }, getConsumerId: async function () { const t = e.get("playback"), i = await (t == null ? void 0 : t.consumerId()); return i || null } }); class Hae { addMetricsFields(e, t) { var r, s, o; const i = Vae((o = (r = $t(Ite)) == null ? void 0 : r.type) != null ? o : (s = $t(Cn)) == null ? void 0 : s.type); e.addValue(i, "pageContext") } } const $ae = { home: "Home", new: "New", radio: "Radio", replay: "Replay", search: "Search" }; function Vae(n) { return qT.includes(n) ? "Library" : $ae[n] || "Transient" } class zae { constructor(e) { this.context = e, this.context = e } addMetricsFields(e, t) { const { storefront: i } = this.context.get("locale"); e.addValue(i, "storeFrontCountryCode") } } class qae { constructor(e) { this.subscriptionStatusCoordinator = e, this.subscriptionStatusCoordinator = e } addMetricsFields(e, t) { const i = this.subscriptionStatusCoordinator.subscriptionStatus.accountStatus; e.addValue(i, "userType") } } const Wae = (n, e) => [{ provider: new Hae, request: "pageContext" }, { provider: new zae(e), request: "storeFrontCountryCode" }, { provider: new qae(n), request: "userType" }]; class Kae { constructor(e) { He(this, "musicKitPromise"); He(this, "musicKitEventListeners", new Array); this.musicKitPromise = e, this.musicKitEventListeners = [] } async getMusicKit() { return (await this.getRejectingMusicKitPromise()).musicKit } async getMusicKitGlobal() { return (await this.getRejectingMusicKitPromise()).musicKitGlobal } async ready() { await this.getMusicKit() } setupBeforeUnloadHandler() { "onbeforeunload" in window && window.addEventListener("beforeunload", this.handleBeforeUnload.bind(this)) } async handleBeforeUnload(e) { (await this.getMusicKit()).isPlaying && (e.preventDefault(), e.returnValue = "") } async addOneTimeEventListener(e, t, i = {}) { const r = await this.getMusicKit(), s = (...o) => { t(...o), r.removeEventListener(e, s) }; r.addEventListener(e, s, i) } async addEventListener(e, t, i = {}) { return this.musicKitEventListeners.push({ name: e, callback: t }), (await this.getMusicKit()).addEventListener(e, t, i) } async removeEventListener(e) { const t = this.musicKitEventListeners.find(i => i.name === e); if (this.musicKitEventListeners = this.musicKitEventListeners.filter(i => i.name !== e), t) return (await this.getMusicKit()).removeEventListener(e, t.callback) } async removeEventListenerWithCb(e, t) { return (await this.getMusicKit()).removeEventListener(e, t) } async getRejectingMusicKitPromise() { const e = await this.musicKitPromise; if (e === null) throw new Error("MusicKit failed to initialize"); return e } async pausePlayback(e) { const t = await this.getMusicKit(), i = e || null; await (i ? t.pause(i) : t.pause()) } async resumePlayback() { await (await this.getMusicKit()).play() } } var Op = (n => (n[n.off = 0] = "off", n[n.songs = 1] = "songs", n))(Op || {}), Wu = (n => (n[n.none = 0] = "none", n[n.one = 1] = "one", n[n.all = 2] = "all", n))(Wu || {}); const Jae = () => { const e = Tt({ nowPlayingItem: null, nowPlayingItemIndex: -1, nowPlayingItemInfo: null, state: null, items: [], autoplayEnabled: !1, repeatMode: 0, shuffleMode: 0 }), t = xu(e, s => { var v; const { items: o, state: a, nowPlayingItem: l, nowPlayingItemIndex: u } = s, c = o.slice(0, u + 1), d = o.slice(u + 1), f = o.filter(({ isAutoplay: b }) => !b), g = o.filter(({ isAutoplay: b }) => b), h = [], m = []; return d.forEach(b => { b.isAutoplay && b.index > f[f.length - 1].index ? m.push(b) : h.push(b) }), { ...s, nowPlayingItemId: ((v = l == null ? void 0 : l.item) == null ? void 0 : v.id) || null, historyItems: c, unplayedItems: d, userAddedItems: f, autoplayItems: g, unplayedUserItems: h, unplayedAutoplayItems: m, derivedStates: { isNone: a === 0 || !a, isPlaying: a === 2, isLoading: a === 1 || a === 8, isPaused: a === 3, isSeeking: a === 6, isStopped: a === 4 } } }), i = s => { e.update(o => ({ ...o, ...s })) }, r = Tt(0); return { internal: { setNowPlayingItem: s => i({ nowPlayingItem: s }), setNowPlayingItemInfo: s => i({ nowPlayingItemInfo: s }), setPlaybackState: s => i({ state: s }), setNowPlayingItemIndex: s => i({ nowPlayingItemIndex: s != null ? s : void 0 }), setQueueItems: s => i({ items: s.map((o, a) => ({ ...o, index: a })) }), setAutoplayEnabled: s => { i({ autoplayEnabled: s }) }, setCurrentPlaybackTime: s => { r.set(s) }, setShuffleMode: s => { i({ shuffleMode: s }) }, setRepeatMode: s => { i({ repeatMode: s }) } }, external: { subscribe: t.subscribe, currentPlaybackTime: { subscribe: r.subscribe } } } }; var Yae = ["affC", "adId", "advp", "at", "ct", "itsct", "itscg", "itscc", "itcCt", "its_qt", "ls", "partnerId", "pt", "qtkid", "uo"], Xae = "https://itunes.apple.com/WebObjects/MZStoreServices.woa/wa/processRedirectUrl", Zae = "https://xp.apple.com/register"; function Zb(n, e) { if (e && typeof e == "object") for (const t in e) e[t] && n.setRequestHeader(t, e[t]) } function Qae(n) { return Object.keys(n).reduce((e, t) => ["name", "value"].includes(t) ? e : `${e};${t}=${n[t]}`, `${n.name}=${n.value}`) } function jae(n, e) { const i = (n.indexOf("?") > -1 ? n.split("?")[1] : n).split("&"); let r = e; if (r || (r = []), n && n.trim() !== "") for (let s = 0; s < i.length; s++) { const o = i[s].split("="), a = o[0], l = o[1]; if (r.indexOf(a) > -1) return a === "at" ? !!l.match(/^[a-zA-Z0-9]+$/) : !0 } return !1 } function iO(n, e) { return new Promise(function (t, i) { n.onload = function () { n.status < 200 || n.status >= 300 ? i({ request: n }) : t(n) }, n.onerror = function () { i({ request: n }) }, e ? n.send(e) : n.send() }) } function Gae() { const n = new XMLHttpRequest; return n.open("GET", Zae), n.withCredentials = !0, iO(n) } function xae(n, e, t) { let i; t.customXhr ? i = t.customXhr : typeof itms < "u" ? i = itms.makeStoreXMLHttpRequest() : i = new XMLHttpRequest, i.open("POST", e), i.withCredentials = !0, Zb(i, { "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8" }), Zb(i, t.headers); let r = "url=" + encodeURIComponent(n); return t.ignoreMarketing && (r += "&ignoreMarketing=true"), iO(i, r).then(function (s) { const o = s.response; if (s.status === 200 && o !== "") { const l = JSON.parse(o); return l.setCookies && l.setCookies.forEach(u => { document.cookie = Qae(u) }), l.redirectUrl } }) } function ele(n, e) { const t = e || {}; if (!jae(n, Yae)) return Promise.reject("No campaign or affiliate query params found"); const i = t.endpoint || Xae; return Gae().then(function () { return xae(n, i, t) }) } async function tle(n, e, t) { let i = n; try { const { pathname: r, search: s } = new URL(i), o = `${e}${r}${s}`, a = await ele(o, { ignoreMarketing: !0, endpoint: t }); a && (i = a) } catch (r) { } return i } function nle(n, e, { isExternalAction: t, isCompoundExternalAction: i }) { return (s, o) => { o && (!t(o) && !(i != null && i(o)) && s.preventDefault(), s.stopPropagation(), e.info("dispatching:", o), n.perform(o)) } } function ile(n, e, { isExternalAction: t, isCompoundExternalAction: i }) { return (s, o) => { let a; function l() { a && s.removeEventListener("click", a) } function u(c) { l(), c !== null && (a = d => { !t(c) && !(i != null && i(c)) && d.preventDefault(), d.stopPropagation(), e.info("dispatching:", c), n.perform(c) }, s.addEventListener("click", a)) } return u(o), { update: u, destroy: l } } } const Qb = 10; function o_(n, { threshold: e = 500, enabled: t = !0, allowClasses: i = [], allowTags: r = [], preventDefault: s = !0 }) { const o = a => { if (!(a != null && a.target)) return; const l = a.target, { clientX: u, clientY: c } = a.changedTouches[0], d = Array.from(l.classList).filter(m => i.includes(m)); if (r.includes(l.tagName) || d.length > 0) return; s && (a.preventDefault(), a.stopPropagation()); const f = setTimeout(() => { l.dispatchEvent(new CustomEvent("longpress")), g() }, e), g = () => { clearTimeout(f), l.removeEventListener("touchend", g), l.removeEventListener("touchmove", h), l.removeEventListener("touchcancel", g) }, h = m => { const { clientX: v, clientY: b } = m.changedTouches[0]; (Math.abs(v - u) > Qb || Math.abs(b - c) > Qb) && g() }; l.addEventListener("touchmove", h), l.addEventListener("touchcancel", g), l.addEventListener("touchend", g) }; return typeof document > "u" ? null : (t && n.addEventListener("touchstart", o), { update({ enabled: a }) { a ? n.addEventListener("touchstart", o) : n.removeEventListener("touchstart", o) }, destroy() { t && n.removeEventListener("touchstart", o) } }) } const rle = n => { var e; return ((e = window.navigator) == null ? void 0 : e.canShare) && window.navigator.canShare({ url: n }) }; function sle(n, e, t) { return { ...n, $kind: "WebShareAction", url: e, actionMetrics: { data: [{ excludingFields: [], includingFields: [], shouldFlush: !1, fields: { ...t, actionType: "share", targetType: "button", actionContext: "contextual", eventType: "click" } }], custom: {} } } } function ole(n) { const { jet: e, logger: t } = n, i = t.loggerFor("jet/action-handlers/web-share-action"); e.onAction("WebShareAction", async r => { const s = r.url; i.info("received WebShareAction: ", r); try { await window.navigator.share({ url: s }) } catch (o) { console.warn("Sharing failed. Did you close the share dialog? ", o) } return "performed" }) } function ale({ url: n, actionHandler: e, pageFields: t }) { if (rle(n)) { const r = sle({}, n, t); return { hasWebShareActionHandler: !0, actionHandler: () => e(r) } } return { hasWebShareActionHandler: !1, actionHandler: () => { } } } function lle(n) { const { pathname: e, searchParams: t } = new URL(n), r = /^\/([A-Za-z]{2})(-[A-Za-z]{2})?\//.exec(e); return { intent: null, action: null, storefront: r == null ? void 0 : r[0].substring(1, r[0].lastIndexOf("/")).toLowerCase(), language: t.get("l") } } let va = () => { throw new Error("need to call setupClickAction") }, bu = () => { throw new Error("need to call setupHandleClickAction") }; function rO(n) { var e; return yo(n) && ((e = n == null ? void 0 : n.subactions) == null ? void 0 : e.some(t => ws(t))) } function ra(n) { var e; return yo(n) && ((e = n == null ? void 0 : n.subactions) == null ? void 0 : e.some(t => zs(t))) } function zs(n) { return (n == null ? void 0 : n.$kind) === "openExternalURLAction" } function ule(n, e) { const t = e.loggerFor("clickAction"); va = ile(n, t, { isExternalAction: zs, isCompoundExternalAction: ra }), bu = nle(n, t, { isExternalAction: zs, isCompoundExternalAction: ra }) } function cle(n) { return { contentDescriptor: n, $kind: "SongDetailPageIntent" } } function dle(n) { return n.$kind === "SongDetailPageIntent" } function sO(n) { const { destination: e } = n; switch (e.kind) { case vt.CatalogItemDetailPage: return gle(e); case vt.CatalogPage: return e.intent; case vt.SearchResults: const { searchParameters: t, storefront: i, language: r } = e; return D1({ inLibrary: t.inLibrary, term: t.term, storefront: i, language: r }); case vt.LibraryItemDetailPage: return fle(e); default: if ([pi.LibraryPage, pi.CommercePage, pi.ReplayPage].includes(e.kind)) return e.intent; throw new Error(`unhandleable FlowAction destination: ${e.kind}`) } } function fle(n) { const { identifiers: e, kind: t } = n.contentDescriptor, { prominentItemIdentifier: i } = n; switch (t) { case x.Album: return Og({ id: e.storeCloudAlbumID, prominentItemIdentifier: i }); case x.Artist: return Fg({ artistId: e.cloudUniversalLibraryID }); case x.Playlist: return eo({ id: e.cloudUniversalLibraryID, prominentItemIdentifier: i }); case x.PlaylistFolder: return R1({ id: e.cloudUniversalLibraryID }); default: oO(t) } } function gle(n) { const { contentDescriptor: e, prominentItemIdentifier: t } = n; switch (e.kind) { case x.Album: return bg(e, t); case x.Artist: return yg(e); case x.AppleCurator: return yL(e); case x.ArtistUploadedVideo: return h1(e); case x.ArtistUploadedSong: throw new Error("ArtistUploadedSong has no PageIntent in shared business logic"); case x.Curator: return Kee(e); case x.EditorialItem: throw new Error("EditorialItem has no PageIntent in shared business logic"); case x.Movie: return l1(e); case x.MusicVideo: return f1(e); case x.Playlist: return Qd(e, t, n == null ? void 0 : n.collaborationRequest); case x.PlaylistFolder: return Qd(e, t); case x.RadioStation: return Xee(n.contentDescriptor); case x.RecordLabel: return DE(e); case x.SocialProfile: return co({ contentDescriptor: e }); case x.Song: return jf(e); case x.TVEpisode: return g1(e); case x.TVSeason: throw new Error("TVSeason has no PageIntent in shared business logic"); case x.TVShow: return vL(e); default: oO(e.kind) } } function Kr(n) { var e, t, i, r, s, o, a; if (ws(n)) { if ((n == null ? void 0 : n.destination).intent && dle((n == null ? void 0 : n.destination).intent)) { const { contentDescriptor: l } = (e = n == null ? void 0 : n.destination) == null ? void 0 : e.intent; return (t = l == null ? void 0 : l.url) != null ? t : Do(l == null ? void 0 : l.catalogUrl, l == null ? void 0 : l.identifiers.storeAdamID) } else if ((n == null ? void 0 : n.destination).intent && (BZ((n == null ? void 0 : n.destination).intent) || pK((n == null ? void 0 : n.destination).intent) || Lx((n == null ? void 0 : n.destination).intent) || IZ((n == null ? void 0 : n.destination).intent))) return (i = (n == null ? void 0 : n.destination).intent.contentDescriptor) == null ? void 0 : i.url; return (s = (r = n == null ? void 0 : n.destination) == null ? void 0 : r.contentDescriptor) == null ? void 0 : s.url } else { if (zs(n)) return n == null ? void 0 : n.url; if (rO(n)) { const l = (o = n == null ? void 0 : n.subactions) == null ? void 0 : o.find(u => ws(u)); return Kr(l) } else if (ra(n)) { const l = (a = n == null ? void 0 : n.subactions) == null ? void 0 : a.find(u => zs(u)); return Kr(l) } } return null } function oO(n) { throw new Error(`unhandleable ContentDescriptor kind: ${n}`) } const aO = "web-music-app", hle = "xp_amp_music_perf", mle = { baseFields: { appName: "com.apple.music", delegateApp: aO, appVersion: Vs, resourceRevNum: Vs }, clickstream: { constraintProfiles: ["AMPWeb"], topic: "xp_its_music_main" }, funnel: { constraintProfiles: ["AMPFunnel"], topic: "xp_amp_music_cs_unidentified" }, initialURL: null }, ple = { topic: hle, appName: aO, appVersion: Vs, resourceRevNum: Vs }, lO = "jet"; class a_ { static load(e, t, i, r, s, o = qu.empty(), a) { const l = Iae(e, i, r, s, a), { subscriptionStatusCoordinator: u } = l, c = lT(l); let d; const f = async k => { const S = tee({ fields: k }); return d.dispatch(S) }, g = Uae(u, t), h = Wae(u, t), m = WV.load(e, t, f, mle, h, g), v = new _7.ActionDispatcher(m.metricsPipeline), { bag: b, bundle: y } = l; return d = new a_(e.loggerFor("Jet"), c, v, b, y, m, u, o), t.set(lO, d), d } constructor(e, t, i, r, s, o, a, l) { this.log = e, this.runtime = t, this.actionDispatcher = i, this.bag = r, this.bundle = s, this.metrics = o, this.subscriptionStatusCoordinator = a, this.prefetchedIntents = l, this.wiredActions = new Set } async didEnterPage(e) { await this.metrics.didEnterPage(e) } get pageMetrics() { var e; return (e = this.metrics.currentPageMetrics) == null ? void 0 : e.pageMetrics } async dispatch(e) { const t = this.prefetchedIntents.get(e); return t ? (this.log.info("re-using prefetched intent response for:", e, "data:", t), t) : this.runtime.dispatch(e) } async getStaticCanonicalUrl(e) { return this.dispatch(zee({ intent: e })) } async perform(e, t) { t || (this.pageMetrics ? t = { behavior: "fromAction", context: this.pageMetrics || {} } : (this.log.warn("No pageMetrics found for jet.perform action:", e), t = { behavior: "notProcessed" })); const i = await this.actionDispatcher.perform(e, t); return i === "unsupported" && this.log.error("unable to perform action:", e, t), i } onAction(e, t) { if (this.wiredActions.has(e)) throw new Error(`onAction called twice with the same action type: ${e}`); this.actionDispatcher.register(e, t), this.wiredActions.add(e) } async routeUrl(e) { const t = new URL(e), i = new URL(t.pathname + t.search, "https://music.apple.com"), r = await this.dispatch(qee({ url: i.toString() })), { subactions: s } = r; if (s.length === 1 && vY(s[0])) return this.log.info("url resolved to a 404:", e), null; const o = r.subactions.filter(ws).map(a => { try { return sO(a) } catch (l) { return null } }).filter(a => a !== null); if (o.length === 1) { const [a] = o; if (Yee(a)) return { intent: a, action: r, ...xr.normalize(a) }; if (Jee(a)) { let l = function (c) { return "locale" in c }; const { contentDescriptor: u } = a; if (l(u)) return { intent: a, action: r, ...xr.normalize(u.locale) }; this.log.warn("url resolved to a unhandleable content descriptor intent:", e, a) } else this.log.warn("url resolved to a flow action with non routeable intent:", e, a) } else this.log.warn("url did not resolve to one flow action with a discernable intent:", e, r); return null } setLocale(e, t, i) { this.bundle.setLocalizationKeys(e.currentKeys), this.bag.setLocale(t, i) } updateUserInfo(e) { this.subscriptionStatusCoordinator.updateUserInfo(e), this.subscriptionStatusCoordinator.subscriptionStatus.accountStatus === "subscribed" ? this.disableFunnelKit() : this.enableFunnelKit() } isUserInHomeStorefront() { return this.subscriptionStatusCoordinator.isUserInHomeStorefront } recordCustomMetricsEvent(e) { this.metrics.recordCustomEvent(e) } enableFunnelKit() { this.metrics.enableFunnelKit() } disableFunnelKit() { this.metrics.disableFunnelKit() } getBagMusicTabs() { return this.bag.dictionary("musicTabs").undecided } } function fn() { const n = gi(lO); if (!n) throw new Error("getJet called before Jet.load"); return n } function sn() { const n = fn(); return e => e ? n.perform(e) : Promise.resolve("noActionProvided") } function uO(n) { return n.id.type === "folder" } function cO(n) { var e; return !((e = n.children) != null && e.some(t => uO(t) ? !cO(t) : t.canEdit)) } function l_(n) { return n.id.type === "playlist" } const dO = async (n, e, t, i, r = 0) => { const s = o => new Promise(a => setTimeout(a, o)); try { const o = t(n); return await e.dispatch(o) } catch (o) { if (i.warn("Fetching Jet items failed. Error:", o), r >= 5) return Array(length).fill(null); const a = r + 1; return await s(a * 1e3), dO(n, e, t, i, a) } }, _le = 5; function vle(n) { const { jet: e, logger: t } = n, i = t.loggerFor("jet/action-handlers/update-library-playlists-action"); e.onAction("updateLibraryPlaylistsAction", async r => { i.info("received UpdateLibraryPlaylistsAction:", r); try { const s = $t(to), o = async function (a = 1) { const l = a < _le, u = async () => { l ? (a++, await new Promise(c => setTimeout(c, a * WT.LIBRARY_PLAYLISTS_UPDATE)), await o(a)) : i.warn("Unable to update the sidebar after the maximum number attempts.") }; try { const c = await dO({}, e, bR, i); lne(s, c) ? dR(c) : await u() } catch (c) { if (i.warn("Updating playlists failed.", c), l) await u(); else throw new Error(c) } }; return await o(), "performed" } catch (s) { throw i.error("Update Library Playlists Action Error:", s), new Error("an error occurred while handling UpdateLibraryPlaylistsAction") } }) } function Kg() { return { $kind: "updateLibraryPlaylistsAction", actionMetrics: { custom: {}, data: [{ excludingFields: [], includingFields: [], shouldFlush: !1, fields: { actionType: "updateLibraryPlaylists", targetType: "button", actionDetails: { actionType: "add", details: "updateLibraryPlaylists" } } }] } } } function ble(n) { const { jet: e, logger: t, localLibraryState: i } = n, r = t.loggerFor("jet/action-handlers/add-to-library-action"); e.onAction("addToLibraryAction", async s => { r.info("received AddToLibraryAction:", s); try { const o = s.items.filter(c => { var d; return !((d = i.get(fr(c), c.contentDescriptor.kind)) != null && d.inLibrary) }), a = CF(o.map(c => c.contentDescriptor), !1, !0); if (!a) { r.warn("No valid descriptor items are provided or are already added recently"); return } const l = Wg({ operationType: Bs.AddToLibrary, descriptor: a }), u = await e.dispatch(l); return u && (await Promise.all(o.map(async c => { const d = fr(c), f = yle(u, d, c == null ? void 0 : c.contentDescriptor); if (a[z.Playlists] && s.destinationFolderId) { const g = RF({ folderId: s.destinationFolderId, playlistId: f }); await e.dispatch(g) } i.set(d, c.contentDescriptor.kind, { inLibrary: !0, libraryId: f }) })), a[z.Playlists] && e.perform(Kg())), "performed" } catch (o) { throw r.error("Add to Library Action Error:", o), new Error("an error occurred while handling AddToLibraryAction") } }) } function df(n, e = {}) { var t; return { $kind: "addToLibraryAction", ...n, actionMetrics: { custom: {}, data: [{ excludingFields: [], includingFields: ["pageFields", "languages"], shouldFlush: !1, fields: { actionType: "add", targetType: "button", actionDetails: { addTo: "Library", kind: (t = n.items[0]) == null ? void 0 : t.contentDescriptor.kind }, eventType: "click", ...e } }] } } } function yle(n, e, t) { var a, l, u; const i = (a = n.body) == null ? void 0 : a.meta, r = Rg(t), s = (l = i == null ? void 0 : i.operation) == null ? void 0 : l[r], o = s == null ? void 0 : s[e]; return (u = o == null ? void 0 : o[0]) == null ? void 0 : u.id } function wle(n) { const { jet: e, logger: t } = n, i = t.loggerFor("jet/action-handlers/add-to-playlist-action"); e.onAction("addToPlaylistAction", async r => { i.info("received AddToPlaylistAction:", r); try { const s = r.items.map(a => { let l = Qt({ contentDescriptor: a }), u = ta({ contentDescriptor: a }); return { id: l, type: u } }), o = LF({ storefront: r.storefront, playlistId: r.playlistId, items: s }); return await e.dispatch(o), "performed" } catch (s) { throw i.error("Add to Playlist Action Error:", s), new Error("an error occurred while handling AddToPlaylistAction") } }) } function u_(n, e = {}) { return { $kind: "addToPlaylistAction", ...n, actionMetrics: { custom: {}, data: [{ excludingFields: [], includingFields: ["pageFields", "languages"], shouldFlush: !1, fields: { actionType: "add", targetType: "button", targetId: n == null ? void 0 : n.playlistId, eventType: "click", actionDetails: { sectionName: "allPlaylists", actionType: "add", details: "addToPlaylist" }, ...e } }] } } } function kle() { return { $kind: "getLibraryPinsAction", actionMetrics: { custom: {}, data: [] } } } function Dle(n, e) { return { $kind: "addLibraryPinAction", itemId: n, actionMetrics: { custom: {}, data: [{ excludingFields: [], includingFields: ["pageFields", "languages"], shouldFlush: !1, fields: { actionContext: "contextualAction", actionType: "pin", eventType: "click", targetId: n, targetType: "button", ...e != null ? e : {} } }] } } } function Sle(n, e) { return { $kind: "deleteLibraryPinAction", itemId: n, actionMetrics: { custom: {}, data: [{ excludingFields: [], includingFields: ["pageFields", "languages"], shouldFlush: !1, fields: { actionContext: "contextualAction", actionType: "unpin", eventType: "click", targetId: n, targetType: "button", ...e != null ? e : {} } }] } } } function Cle(n, e) { return { $kind: "moveLibraryPinAction", itemId: n, after: e, actionMetrics: { custom: {}, data: [] } } } function Ple(n) { let e, t, i = [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M5.93 20.16a1.94 1.94 0 0 1-1.43-.502c-.334-.335-.502-.794-.502-1.393v-7.142c0-.362.062-.688.177-.953.123-.264.326-.529.6-.75l6.145-5.157c.176-.141.344-.247.52-.318.176-.07.362-.105.564-.105.194 0 .388.035.565.105.176.07.352.177.52.318l6.146 5.158c.273.23.467.476.59.75.124.264.177.59.177.96v7.134c0 .59-.159 1.058-.503 1.393-.335.335-.811.503-1.428.503H5.929Zm12.14-1.172c.221 0 .406-.07.547-.212a.688.688 0 0 0 .22-.511v-7.142c0-.177-.026-.344-.087-.459a.97.97 0 0 0-.265-.353l-6.154-5.149a.756.756 0 0 0-.177-.115.37.37 0 0 0-.15-.035.37.37 0 0 0-.158.035l-.177.115-6.145 5.15a.982.982 0 0 0-.274.352 1.13 1.13 0 0 0-.088.468v7.133c0 .203.08.379.23.511a.744.744 0 0 0 .546.212h12.133Zm-8.323-4.7c0-.176.062-.326.177-.432a.6.6 0 0 1 .423-.159h3.315c.176 0 .326.053.432.16s.159.255.159.431v4.973H9.756v-4.973Z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function Ale(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Ele = class extends oe { constructor(e) { super(), se(this, e, Ale, Ple, ht, {}) } }; function Ile(n) { let e, t, i = [{ height: "24" }, { viewBox: "0 0 24 24" }, { width: "24" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { height: !0, viewBox: !0, width: !0 }); var o = E(e); t = be(o, "path", { d: !0, "fill-opacity": !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M9.92 11.354c.966 0 1.453-.487 1.453-1.49v-3.4c0-1.004-.487-1.483-1.453-1.483H6.452C5.487 4.981 5 5.46 5 6.464v3.4c0 1.003.487 1.49 1.452 1.49zm7.628 0c.965 0 1.452-.487 1.452-1.49v-3.4c0-1.004-.487-1.483-1.452-1.483h-3.46c-.974 0-1.46.479-1.46 1.483v3.4c0 1.003.486 1.49 1.46 1.49zm-7.65-1.073h-3.43c-.266 0-.396-.137-.396-.418v-3.4c0-.273.13-.41.396-.41h3.43c.265 0 .402.137.402.41v3.4c0 .281-.137.418-.403.418zm7.634 0h-3.43c-.273 0-.402-.137-.402-.418v-3.4c0-.273.129-.41.403-.41h3.43c.265 0 .395.137.395.41v3.4c0 .281-.13.418-.396.418zm-7.612 8.7c.966 0 1.453-.48 1.453-1.483v-3.407c0-.996-.487-1.483-1.453-1.483H6.452c-.965 0-1.452.487-1.452 1.483v3.407c0 1.004.487 1.483 1.452 1.483zm7.628 0c.965 0 1.452-.48 1.452-1.483v-3.407c0-.996-.487-1.483-1.452-1.483h-3.46c-.974 0-1.46.487-1.46 1.483v3.407c0 1.004.486 1.483 1.46 1.483zm-7.65-1.072h-3.43c-.266 0-.396-.137-.396-.41v-3.4c0-.282.13-.418.396-.418h3.43c.265 0 .402.136.402.418v3.4c0 .273-.137.41-.403.41zm7.634 0h-3.43c-.273 0-.402-.137-.402-.41v-3.4c0-.282.129-.418.403-.418h3.43c.265 0 .395.136.395.418v3.4c0 .273-.13.41-.396.41z"), p(t, "fill-opacity", ".95"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ height: "24" }, { viewBox: "0 0 24 24" }, { width: "24" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function Mle(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Lle = class extends oe { constructor(e) { super(), se(this, e, Mle, Ile, ht, {}) } }; function Tle(n) { let e, t, i = [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M19.359 18.57C21.033 16.818 22 14.461 22 11.89s-.967-4.93-2.641-6.68c-.276-.292-.653-.26-.868-.023-.222.246-.176.591.085.868 1.466 1.535 2.272 3.593 2.272 5.835 0 2.241-.806 4.3-2.272 5.835-.261.268-.307.621-.085.86.215.245.592.276.868-.016zm-13.85.014c.222-.238.176-.59-.085-.86-1.474-1.535-2.272-3.593-2.272-5.834 0-2.242.798-4.3 2.272-5.835.261-.277.307-.622.085-.868-.215-.238-.592-.269-.868.023C2.967 6.96 2 9.318 2 11.89s.967 4.929 2.641 6.68c.276.29.653.26.868.014zm1.957-1.873c.223-.253.162-.583-.1-.867-.951-1.068-1.473-2.45-1.473-3.954 0-1.505.522-2.887 1.474-3.954.26-.284.322-.614.1-.876-.23-.26-.622-.26-.891.039-1.175 1.274-1.827 2.963-1.827 4.79 0 1.82.652 3.517 1.827 4.784.269.3.66.307.89.038zm9.958-.038c1.175-1.267 1.827-2.964 1.827-4.783 0-1.828-.652-3.517-1.827-4.791-.269-.3-.66-.3-.89-.039-.23.262-.162.592.092.876.96 1.067 1.481 2.449 1.481 3.954 0 1.504-.522 2.886-1.481 3.954-.254.284-.323.614-.092.867.23.269.621.261.89-.038zm-8.061-1.966c.23-.26.13-.568-.092-.883-.415-.522-.63-1.197-.63-1.934 0-.737.215-1.413.63-1.943.222-.307.322-.614.092-.875s-.653-.261-.906.054a4.385 4.385 0 0 0-.968 2.764 4.38 4.38 0 0 0 .968 2.756c.253.322.675.322.906.061zm6.18-.061a4.38 4.38 0 0 0 .968-2.756 4.385 4.385 0 0 0-.968-2.764c-.253-.315-.675-.315-.906-.054-.23.261-.138.568.092.875.415.53.63 1.206.63 1.943 0 .737-.215 1.412-.63 1.934-.23.315-.322.622-.092.883s.653.261.906-.061zm-3.547-.967c.96 0 1.789-.814 1.789-1.797s-.83-1.789-1.789-1.789c-.96 0-1.781.806-1.781 1.789 0 .983.821 1.797 1.781 1.797z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function Rle(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Fle = class extends oe { constructor(e) { super(), se(this, e, Rle, Tle, ht, {}) } }; function Ole(n) { let e, t, i = [{ height: "24" }, { viewBox: "0 0 24 24" }, { width: "24" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { height: !0, viewBox: !0, width: !0 }); var o = E(e); t = be(o, "path", { d: !0, "fill-opacity": !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M17.979 18.553c.476 0 .813-.366.813-.835a.807.807 0 0 0-.235-.586l-3.45-3.457a5.61 5.61 0 0 0 1.158-3.413c0-3.098-2.535-5.633-5.633-5.633C7.542 4.63 5 7.156 5 10.262c0 3.098 2.534 5.632 5.632 5.632a5.614 5.614 0 0 0 3.274-1.055l3.472 3.472a.835.835 0 0 0 .6.242zm-7.347-3.875c-2.417 0-4.416-2-4.416-4.416 0-2.417 2-4.417 4.416-4.417 2.417 0 4.417 2 4.417 4.417s-2 4.416-4.417 4.416z"), p(t, "fill-opacity", ".95"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ height: "24" }, { viewBox: "0 0 24 24" }, { width: "24" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function Nle(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let fO = class extends oe { constructor(e) { super(), se(this, e, Nle, Ole, ht, {}) } }; function Ble(n) { let e, t, i = [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, { "xml:space": "preserve" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0, "xml:space": !0 }); var o = E(e); t = be(o, "path", { d: !0, style: !0, transform: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M5.55 8.73H7.4c.45 0 .8-.13 1.06-.38.25-.26.37-.62.37-1.1V5.5c0-.46-.12-.83-.37-1.08-.26-.26-.6-.39-1.06-.39H5.55c-.45 0-.8.13-1.06.39-.25.25-.37.62-.37 1.08v1.77c0 .47.12.83.37 1.09.26.25.6.38 1.06.38Zm.16-1.14c-.15 0-.26-.04-.34-.12-.07-.07-.1-.2-.1-.35V5.63c0-.15.03-.27.1-.35.08-.07.2-.11.34-.11h1.52c.14 0 .25.04.34.11.08.08.12.2.12.35v1.49c0 .16-.04.28-.12.35a.46.46 0 0 1-.34.12H5.7Zm5.62 1.14h1.84c.46 0 .8-.13 1.06-.38.25-.26.37-.62.37-1.1V5.5c0-.46-.12-.83-.37-1.08a1.4 1.4 0 0 0-1.06-.39h-1.84c-.45 0-.8.13-1.05.39A1.5 1.5 0 0 0 9.9 5.5v1.77c0 .47.13.83.38 1.09.25.25.6.38 1.05.38Zm.16-1.14c-.15 0-.26-.04-.34-.12-.07-.07-.11-.2-.11-.35V5.63c0-.15.04-.27.11-.35.08-.07.19-.11.34-.11h1.53c.14 0 .25.04.33.11.08.08.11.2.11.35v1.49c0 .16-.04.28-.11.35-.08.08-.2.12-.33.12h-1.53Zm5.63 1.14h1.84c.45 0 .8-.13 1.06-.38.25-.26.38-.62.38-1.1V5.5c0-.46-.13-.83-.38-1.08-.25-.26-.6-.39-1.06-.39h-1.84c-.45 0-.8.13-1.05.39-.26.25-.38.62-.38 1.08v1.77c0 .47.12.83.38 1.09.25.25.6.38 1.05.38Zm.16-1.14c-.15 0-.26-.04-.34-.12-.08-.07-.12-.2-.12-.35V5.63c0-.15.04-.27.12-.35.08-.07.2-.11.34-.11h1.52c.14 0 .25.04.33.11.08.08.12.2.12.35v1.49c0 .16-.04.28-.12.35-.07.08-.18.12-.33.12h-1.52ZM5.55 14.35H7.4c.45 0 .8-.13 1.06-.38.25-.26.37-.62.37-1.08V11.1c0-.47-.12-.83-.37-1.09-.26-.25-.6-.38-1.06-.38H5.55c-.45 0-.8.13-1.06.38-.25.26-.37.62-.37 1.09v1.78c0 .46.12.82.37 1.08.26.25.6.38 1.06.38Zm.16-1.14c-.15 0-.26-.04-.34-.12-.07-.08-.1-.2-.1-.35v-1.5c0-.15.03-.26.1-.34.08-.08.2-.12.34-.12h1.52c.14 0 .25.04.34.12.08.08.12.2.12.34v1.5c0 .15-.04.27-.12.35a.45.45 0 0 1-.34.12H5.7Zm5.62 1.14h1.84c.46 0 .8-.13 1.06-.38.25-.26.37-.62.37-1.08V11.1c0-.47-.12-.83-.37-1.09a1.4 1.4 0 0 0-1.06-.38h-1.84c-.45 0-.8.13-1.05.38-.25.26-.38.62-.38 1.09v1.78c0 .46.13.82.38 1.08.25.25.6.38 1.05.38Zm.16-1.14c-.15 0-.26-.04-.34-.12a.523.523 0 0 1-.11-.35v-1.5c0-.15.04-.26.11-.34.08-.08.19-.12.34-.12h1.53c.14 0 .25.04.33.12.08.08.11.2.11.34v1.5c0 .15-.04.27-.11.35-.08.08-.2.12-.33.12h-1.53Zm5.63 1.14h1.84c.45 0 .8-.13 1.06-.38.25-.26.38-.62.38-1.08V11.1c0-.47-.13-.83-.38-1.09-.25-.25-.6-.38-1.06-.38h-1.84c-.45 0-.8.13-1.05.38-.26.26-.38.62-.38 1.09v1.78c0 .46.12.82.38 1.08.25.25.6.38 1.05.38Zm.16-1.14c-.15 0-.26-.04-.34-.12-.08-.08-.12-.2-.12-.35v-1.5c0-.15.04-.26.12-.34.08-.08.2-.12.34-.12h1.52c.14 0 .25.04.33.12.08.08.12.2.12.34v1.5c0 .15-.04.27-.12.35-.07.08-.18.12-.33.12h-1.52ZM5.55 19.97H7.4c.45 0 .8-.13 1.06-.38.25-.26.37-.62.37-1.1v-1.76c0-.47-.12-.83-.37-1.09-.26-.25-.6-.38-1.06-.38H5.55c-.45 0-.8.13-1.06.38-.25.26-.37.62-.37 1.09v1.77c0 .47.12.83.37 1.09.26.25.6.38 1.06.38Zm.16-1.15c-.15 0-.26-.04-.34-.11-.07-.08-.1-.2-.1-.35v-1.49c0-.16.03-.28.1-.36.08-.07.2-.11.34-.11h1.52c.14 0 .25.04.34.11.08.08.12.2.12.36v1.49c0 .15-.04.27-.12.35a.46.46 0 0 1-.34.11H5.7Zm5.62 1.15h1.84c.46 0 .8-.13 1.06-.38.25-.26.37-.62.37-1.1v-1.76c0-.47-.12-.83-.37-1.09a1.4 1.4 0 0 0-1.06-.38h-1.84c-.45 0-.8.13-1.05.38-.25.26-.38.62-.38 1.09v1.77c0 .47.13.83.38 1.09.25.25.6.38 1.05.38Zm.16-1.15c-.15 0-.26-.04-.34-.11a.523.523 0 0 1-.11-.35v-1.49c0-.16.04-.28.11-.36.08-.07.19-.11.34-.11h1.53c.14 0 .25.04.33.11.08.08.11.2.11.36v1.49c0 .15-.04.27-.11.35-.08.07-.2.11-.33.11h-1.53Zm5.63 1.15h1.84c.45 0 .8-.13 1.06-.38.25-.26.38-.62.38-1.1v-1.76c0-.47-.13-.83-.38-1.09-.25-.25-.6-.38-1.06-.38h-1.84c-.45 0-.8.13-1.05.38-.26.26-.38.62-.38 1.09v1.77c0 .47.12.83.38 1.09.25.25.6.38 1.05.38Zm.16-1.15c-.15 0-.26-.04-.34-.11-.08-.08-.12-.2-.12-.35v-1.49c0-.16.04-.28.12-.36.08-.07.2-.11.34-.11h1.52c.14 0 .25.04.33.11.08.08.12.2.12.36v1.49c0 .15-.04.27-.12.35-.07.07-.18.11-.33.11h-1.52Z"), Pt(t, "fill-rule", "nonzero"), p(t, "transform", "translate(.7 .94) scale(.92237)"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, { "xml:space": "preserve" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function Ule(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Hle = class extends oe { constructor(e) { super(), se(this, e, Ule, Ble, ht, {}) } }; const c_ = { type: "home" }, qs = { type: "new" }, gO = { type: "radio" }, hO = { type: "search" }, $le = { type: "replay" }, mO = { type: "recently-added" }, pO = { type: "artists" }, _O = { type: "albums" }, vO = { type: "songs" }, d_ = { type: "made-for-you" }, bO = { type: "all-playlists" }; function yO(n) { return { ...n, $kind: "SearchLandingPageIntent" } } const Jg = Tt(!1), wO = "new", sa = "/new", Vle = Rc({ id: bO, locKey: "ASE.Web.Music.AllPlaylists.Pageheader", icon: Hle, url: "/library/all-playlists", intent: i_ }, gr), kO = Rc({ id: hO, locKey: "ASE.Web.Music.Search.Pageheader", icon: fO, url: "/search", intent: n => yO({ ...n, inLibrary: $t(Jg) }) }, gr), DO = Rc({ id: c_, locKey: "ASE.Web.Music.Home.Pageheader", icon: Ele, url: "/home", targetId: "listenNow", intent: ma }, gr), SO = Rc({ id: qs, locKey: "ASE.Web.Music.New.Pageheader", icon: Lle, url: sa, intent: ur }, gr), jb = [DO, SO, ...CO([{ id: gO, locKey: "ASE.Web.Music.Radio.Pageheader", icon: Fle, url: "/radio", intent: HL }], gr), kO]; function zle(n) { return n.getBagMusicTabs().some(i => i.id === vn.Browse) ? jb : jb.filter(i => i.id !== qs) } function CO(n, e) { return n.map(t => Rc(t, e)) } function Rc(n, e) { const { id: t, locKey: i, icon: r, url: s, targetId: o, intent: a, storageKey: l } = n; return { id: t, storageKey: l, locKey: i, icon: r, url: s, opaqueData: u => { const c = xr.canonicalize(u), d = sl(s, u); return e(a(c), o || t.type, d) } } } function gr(n, e, t) { return At({ kind: vt.CatalogPage, intent: n }, { data: [{ fields: { actionType: "navigate", eventType: "click", targetId: e, targetType: "tab", actionUrl: t }, shouldFlush: !1, includingFields: ["pageFields", "languages"], excludingFields: [] }], custom: {} }) } function qle(n) { let e, t, i = [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M18.39 9.42c1.289-1.282 1.34-2.908.102-4.139-1.23-1.216-2.85-1.186-4.138.103l4.036 4.035zm-6.08 9.858a.66.66 0 0 0 .667-.667v-4.328l-.051-1.048 2.234-2.072c.842.11 1.728-.235 2.49-1.004l-4.03-4.035c-.776.761-1.098 1.633-.988 2.475l-6.805 7.332c-.278.3-.322.717.022 1.062L4.913 18.2a.31.31 0 0 0 .037.418l.212.22a.309.309 0 0 0 .425.029l1.208-.945c.33.344.755.3 1.048.022l3.8-3.516v4.182a.66.66 0 0 0 .667.667zm-5.053-2.073-.674-.674 6.453-6.84c.124.205.278.402.461.593.183.183.373.344.571.476l-6.811 6.445z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function Wle(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Kle = class extends oe { constructor(e) { super(), se(this, e, Wle, qle, ht, {}) } }; function Jle(n) { let e, t, i = [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M15.477 3.937c-.044-.61-.396-.937-1.07-.937H9.431c-.675 0-1.027.327-1.07.937h7.115zm1.24 2.013c-.11-.654-.425-1.025-1.159-1.025H8.222c-.741 0-1.057.37-1.167 1.025h9.662zm-.3 14.05c1.313 0 2.083-.756 2.083-2.252v-8.37c0-1.496-.778-2.252-2.304-2.252H7.804C6.27 7.126 5.5 7.875 5.5 9.38v8.369C5.5 19.244 6.27 20 7.804 20h8.612zm-.023-1.17H7.818c-.733 0-1.137-.392-1.137-1.148V9.437c0-.756.404-1.14 1.137-1.14h8.356c.727 0 1.145.384 1.145 1.14v8.245c0 .756-.418 1.148-.925 1.148z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function Yle(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Xle = class extends oe { constructor(e) { super(), se(this, e, Yle, Jle, ht, {}) } }; function Zle(n) { let e, t, i = [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M6.729 20.011H17.27c1.825 0 2.729-.903 2.729-2.694V6.706c0-1.79-.904-2.695-2.729-2.695H6.73C4.913 4.011 4 4.906 4 6.706v10.611c0 1.8.913 2.694 2.729 2.694zm5.275-5.101c-3.085 0-5.31 1.486-6.24 3.372-.243-.235-.365-.574-.365-1.034V6.775c0-.904.478-1.365 1.347-1.365h10.508c.86 0 1.347.461 1.347 1.365v10.473c0 .451-.122.8-.356 1.025-.93-1.886-3.086-3.363-6.24-3.363zm0-1.452c1.66.018 2.964-1.399 2.964-3.259 0-1.747-1.304-3.19-2.964-3.19s-2.98 1.443-2.972 3.19c.009 1.86 1.312 3.233 2.972 3.26z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function Qle(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let jle = class extends oe { constructor(e) { super(), se(this, e, Qle, Zle, ht, {}) } }; function Gle(n) { let e, t, i = [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M12 20c4.376 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C7.624 4 4 7.624 4 12c0 4.369 3.631 8 8 8zm0-1.333A6.634 6.634 0 0 1 5.341 12a6.628 6.628 0 0 1 6.651-6.667A6.653 6.653 0 0 1 18.667 12 6.636 6.636 0 0 1 12 18.667zm-.008-5.82a.54.54 0 0 0 .55-.549V7.012a.54.54 0 0 0-.55-.541.532.532 0 0 0-.541.54v4.746H7.898a.534.534 0 0 0-.549.541c0 .314.235.55.549.55h4.094z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function xle(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let eue = class extends oe { constructor(e) { super(), se(this, e, xle, Gle, ht, {}) } }; function tue(n) { let e, t, i = [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M9.732 19.241c1.077 0 2.688-.79 2.688-2.922V9.617c0-.388.074-.469.418-.542l3.347-.732a.48.48 0 0 0 .403-.484V5.105c0-.388-.315-.637-.689-.563l-3.764.82c-.47.102-.725.359-.725.769l.014 8.144c.037.36-.132.594-.454.66l-1.164.241c-1.465.308-2.154 1.055-2.154 2.16 0 1.122.864 1.905 2.08 1.905z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function nue(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let iue = class extends oe { constructor(e) { super(), se(this, e, nue, tue, ht, {}) } }; function rue(n, e, t) { return vs({ kind: pi.LibraryPage, intent: n }, { data: [{ fields: { actionType: "navigate", eventType: "click", targetId: Bg[e], targetType: e === d_.type ? "ListItem" : "tab", actionUrl: t }, shouldFlush: !1, includingFields: ["pageFields", "languages"], excludingFields: [] }], custom: {} }) } const sue = [...CO([{ id: mO, storageKey: "library.recently-added", locKey: "ASE.Web.Music.SideBar.RecentlyAdded", icon: eue, url: "/library/recently-added", intent: $R }, { id: pO, storageKey: "library.artists", locKey: "ASE.Web.Music.SideBar.Artists", icon: Kle, url: "/library/artists", intent: Fg }, { id: _O, storageKey: "library.albums", locKey: "ASE.Web.Music.SideBar.Album", icon: Xle, url: "/library/albums", intent: VT }, { id: vO, storageKey: "library.songs", locKey: "ASE.Web.Music.SideBar.Songs", icon: iue, url: "/library/songs", intent: BT }, { id: d_, storageKey: "library.made-for-you.index", locKey: "ASE.Web.Music.MadeForYou", icon: jle, url: "/library/made-for-you", intent: V1 }], rue)], oue = (n, e) => { const t = n[e]; return t ? typeof t == "function" ? t() : Promise.resolve(t) : new Promise((i, r) => { (typeof queueMicrotask == "function" ? queueMicrotask : setTimeout)(r.bind(null, new Error("Unknown variable dynamic import: " + e))) }) }; function dt(n) { return n == 1 ? "one" : "other" } function no(n) { return n == 0 || n == 1 ? "one" : "other" } function Mo(n) { return n >= 0 && n <= 1 ? "one" : "other" } function si(n) { var e = String(n).split("."), t = !e[1]; return n == 1 && t ? "one" : "other" } function dn(n) { return "other" } function Lo(n) { return n == 1 ? "one" : n == 2 ? "two" : "other" } const aue = dn, lue = dt, uue = no, cue = Mo, due = dt; function fue(n) { var e = String(n).split("."), t = Number(e[0]) == n, i = t && e[0].slice(-2); return n == 0 ? "zero" : n == 1 ? "one" : n == 2 ? "two" : i >= 3 && i <= 10 ? "few" : i >= 11 && i <= 99 ? "many" : "other" } function gue(n) { var e = String(n).split("."), t = Number(e[0]) == n, i = t && e[0].slice(-2); return n == 0 ? "zero" : n == 1 ? "one" : n == 2 ? "two" : i >= 3 && i <= 10 ? "few" : i >= 11 && i <= 99 ? "many" : "other" } const hue = Mo, mue = dt, pue = si, _ue = dt; function vue(n) { var e = String(n).split("."), t = Number(e[0]) == n, i = t && e[0].slice(-1), r = t && e[0].slice(-2); return i == 1 && r != 11 ? "one" : i >= 2 && i <= 4 && (r < 12 || r > 14) ? "few" : t && i == 0 || i >= 5 && i <= 9 || r >= 11 && r <= 14 ? "many" : "other" } const bue = dt, yue = dt, wue = dt, kue = no, Due = dn, Sue = Mo, Cue = dn; function Pue(n) { var e = String(n).split("."), t = Number(e[0]) == n, i = t && e[0].slice(-1), r = t && e[0].slice(-2), s = t && e[0].slice(-6); return i == 1 && r != 11 && r != 71 && r != 91 ? "one" : i == 2 && r != 12 && r != 72 && r != 92 ? "two" : (i == 3 || i == 4 || i == 9) && (r < 10 || r > 19) && (r < 70 || r > 79) && (r < 90 || r > 99) ? "few" : n != 0 && t && s == 0 ? "many" : "other" } const Aue = dt; function Eue(n) { var e = String(n).split("."), t = e[0], i = e[1] || "", r = !e[1], s = t.slice(-1), o = t.slice(-2), a = i.slice(-1), l = i.slice(-2); return r && s == 1 && o != 11 || a == 1 && l != 11 ? "one" : r && s >= 2 && s <= 4 && (o < 12 || o > 14) || a >= 2 && a <= 4 && (l < 12 || l > 14) ? "few" : "other" } const Iue = si, Mue = dt; function Lue(n) { var e = String(n).split("."), t = e[0], i = e[1] || "", r = !e[1], s = t.slice(-1), o = i.slice(-1); return r && (t == 1 || t == 2 || t == 3) || r && s != 4 && s != 6 && s != 9 || !r && o != 4 && o != 6 && o != 9 ? "one" : "other" } const Tue = dt, Rue = dt, Fue = dt; function Oue(n) { var e = String(n).split("."), t = e[0], i = !e[1]; return n == 1 && i ? "one" : t >= 2 && t <= 4 && i ? "few" : i ? "other" : "many" } function Nue(n) { return n == 0 ? "zero" : n == 1 ? "one" : n == 2 ? "two" : n == 3 ? "few" : n == 6 ? "many" : "other" } function Bue(n) { var e = String(n).split("."), t = e[0], i = Number(e[0]) == n; return n == 1 || !i && (t == 0 || t == 1) ? "one" : "other" } const Uue = si; function Hue(n) { var e = String(n).split("."), t = e[0], i = e[1] || "", r = !e[1], s = t.slice(-2), o = i.slice(-2); return r && s == 1 || o == 1 ? "one" : r && s == 2 || o == 2 ? "two" : r && (s == 3 || s == 4) || o == 3 || o == 4 ? "few" : "other" } const $ue = dt, Vue = dn, zue = dt, que = dt, Wue = si, Kue = dt, Jue = dt, Yue = si, Xue = dt, Zue = Mo; function Que(n) { return n >= 0 && n < 2 ? "one" : "other" } const jue = si; function Gue(n) { var e = String(n).split("."), t = e[0], i = e[1] || "", r = !e[1], s = t.slice(-1), o = i.slice(-1); return r && (t == 1 || t == 2 || t == 3) || r && s != 4 && s != 6 && s != 9 || !r && o != 4 && o != 6 && o != 9 ? "one" : "other" } const xue = dt; function ece(n) { return n >= 0 && n < 2 ? "one" : "other" } const tce = dt, nce = si; function ice(n) { var e = String(n).split("."), t = Number(e[0]) == n; return n == 1 ? "one" : n == 2 ? "two" : t && n >= 3 && n <= 6 ? "few" : t && n >= 7 && n <= 10 ? "many" : "other" } function rce(n) { var e = String(n).split("."), t = Number(e[0]) == n; return n == 1 || n == 11 ? "one" : n == 2 || n == 12 ? "two" : t && n >= 3 && n <= 10 || t && n >= 13 && n <= 19 ? "few" : "other" } const sce = si, oce = dt, ace = Mo, lce = no; function uce(n) { var e = String(n).split("."), t = e[0], i = !e[1], r = t.slice(-1), s = t.slice(-2); return i && r == 1 ? "one" : i && r == 2 ? "two" : i && (s == 0 || s == 20 || s == 40 || s == 60 || s == 80) ? "few" : i ? "other" : "many" } const cce = dt, dce = dt; function fce(n) { var e = String(n).split("."), t = e[0], i = !e[1], r = Number(e[0]) == n, s = r && e[0].slice(-1); return n == 1 && i ? "one" : t == 2 && i ? "two" : i && (n < 0 || n > 10) && r && s == 0 ? "many" : "other" } const gce = Mo; function hce(n) { var e = String(n).split("."), t = e[0], i = e[1] || "", r = !e[1], s = t.slice(-1), o = t.slice(-2), a = i.slice(-1), l = i.slice(-2); return r && s == 1 && o != 11 || a == 1 && l != 11 ? "one" : r && s >= 2 && s <= 4 && (o < 12 || o > 14) || a >= 2 && a <= 4 && (l < 12 || l > 14) ? "few" : "other" } function mce(n) { var e = String(n).split("."), t = e[0], i = e[1] || "", r = !e[1], s = t.slice(-2), o = i.slice(-2); return r && s == 1 || o == 1 ? "one" : r && s == 2 || o == 2 ? "two" : r && (s == 3 || s == 4) || o == 3 || o == 4 ? "few" : "other" } const pce = dt; function _ce(n) { return n >= 0 && n < 2 ? "one" : "other" } const vce = si, bce = dn, yce = dn, wce = dn, kce = si; function Dce(n) { var e = String(n).split("."), t = e[0], i = Number(e[0]) == n, r = t.slice(-1), s = t.slice(-2); return i && r == 1 && s != 11 || !i ? "one" : "other" } const Sce = si, Cce = Lo; function Pce(n) { var e = String(n).split("."), t = e[0], i = !e[1], r = Number(e[0]) == n, s = r && e[0].slice(-1); return n == 1 && i ? "one" : t == 2 && i ? "two" : i && (n < 0 || n > 10) && r && s == 0 ? "many" : "other" } const Ace = dn, Ece = dn, Ice = dt, Mce = si, Lce = dt, Tce = dn, Rce = dn, Fce = dt; function Oce(n) { return n >= 0 && n < 2 ? "one" : "other" } const Nce = dt, Bce = dt, Uce = dn, Hce = dn, $ce = dt, Vce = dt, zce = dt, qce = dn, Wce = Mo, Kce = dn, Jce = dt, Yce = dt; function Xce(n) { return n == 0 ? "zero" : n == 1 ? "one" : "other" } const Zce = dt; function Qce(n) { var e = String(n).split("."), t = Number(e[0]) == n, i = t && e[0].slice(-2), r = t && e[0].slice(-3), s = t && e[0].slice(-5), o = t && e[0].slice(-6); return n == 0 ? "zero" : n == 1 ? "one" : i == 2 || i == 22 || i == 42 || i == 62 || i == 82 || t && r == 0 && (s >= 1e3 && s <= 2e4 || s == 4e4 || s == 6e4 || s == 8e4) || n != 0 && o == 1e5 ? "two" : i == 3 || i == 23 || i == 43 || i == 63 || i == 83 ? "few" : n != 1 && (i == 1 || i == 21 || i == 41 || i == 61 || i == 81) ? "many" : "other" } const jce = dt; function Gce(n) { var e = String(n).split("."), t = e[0]; return n == 0 ? "zero" : (t == 0 || t == 1) && n != 0 ? "one" : "other" } const xce = dt, ede = dt, tde = dn, nde = no, ide = dn; function rde(n) { var e = String(n).split("."), t = e[1] || "", i = Number(e[0]) == n, r = i && e[0].slice(-1), s = i && e[0].slice(-2); return r == 1 && (s < 11 || s > 19) ? "one" : r >= 2 && r <= 9 && (s < 11 || s > 19) ? "few" : t != 0 ? "many" : "other" } function sde(n) { var e = String(n).split("."), t = e[1] || "", i = t.length, r = Number(e[0]) == n, s = r && e[0].slice(-1), o = r && e[0].slice(-2), a = t.slice(-2), l = t.slice(-1); return r && s == 0 || o >= 11 && o <= 19 || i == 2 && a >= 11 && a <= 19 ? "zero" : s == 1 && o != 11 || i == 2 && l == 1 && a != 11 || i != 2 && l == 1 ? "one" : "other" } const ode = dt, ade = no, lde = dt; function ude(n) { var e = String(n).split("."), t = e[0], i = e[1] || "", r = !e[1], s = t.slice(-1), o = t.slice(-2), a = i.slice(-1), l = i.slice(-2); return r && s == 1 && o != 11 || a == 1 && l != 11 ? "one" : "other" } const cde = dt, dde = dt; function fde(n) { var e = String(n).split("."), t = !e[1], i = Number(e[0]) == n, r = i && e[0].slice(-2); return n == 1 && t ? "one" : !t || n == 0 || r >= 2 && r <= 19 ? "few" : "other" } const gde = dt, hde = dn; function mde(n) { var e = String(n).split("."), t = Number(e[0]) == n, i = t && e[0].slice(-2); return n == 1 ? "one" : n == 0 || i >= 2 && i <= 10 ? "few" : i >= 11 && i <= 19 ? "many" : "other" } const pde = dn, _de = dt, vde = Lo, bde = dt, yde = dt, wde = dt, kde = si, Dde = dt, Sde = dt, Cde = dt, Pde = dn, Ade = dt, Ede = no, Ide = dt, Mde = dt, Lde = dt, Tde = dt, Rde = dt, Fde = dn, Ode = no, Nde = dt; function Bde(n) { var e = String(n).split("."), t = e[0], i = !e[1], r = t.slice(-1), s = t.slice(-2); return n == 1 && i ? "one" : i && r >= 2 && r <= 4 && (s < 12 || s > 14) ? "few" : i && t != 1 && (r == 0 || r == 1) || i && r >= 5 && r <= 9 || i && s >= 12 && s <= 14 ? "many" : "other" } function Ude(n) { var e = String(n).split("."), t = e[1] || "", i = t.length, r = Number(e[0]) == n, s = r && e[0].slice(-1), o = r && e[0].slice(-2), a = t.slice(-2), l = t.slice(-1); return r && s == 0 || o >= 11 && o <= 19 || i == 2 && a >= 11 && a <= 19 ? "zero" : s == 1 && o != 11 || i == 2 && l == 1 && a != 11 || i != 2 && l == 1 ? "one" : "other" } const Hde = dt; function $de(n) { var e = String(n).split("."), t = e[0]; return t == 0 || t == 1 ? "one" : "other" } const Vde = si, zde = dt; function qde(n) { var e = String(n).split("."), t = !e[1], i = Number(e[0]) == n, r = i && e[0].slice(-2); return n == 1 && t ? "one" : !t || n == 0 || r >= 2 && r <= 19 ? "few" : "other" } const Wde = dt, Kde = dn; function Jde(n) { var e = String(n).split("."), t = e[0], i = !e[1], r = t.slice(-1), s = t.slice(-2); return i && r == 1 && s != 11 ? "one" : i && r >= 2 && r <= 4 && (s < 12 || s > 14) ? "few" : i && r == 0 || i && r >= 5 && r <= 9 || i && s >= 11 && s <= 14 ? "many" : "other" } const Yde = dt, Xde = dn, Zde = dt, Qde = si, jde = si, Gde = dt, xde = dt, efe = Lo, tfe = dt, nfe = dn, ife = dn; function rfe(n) { var e = String(n).split("."), t = e[0], i = e[1] || "", r = !e[1], s = t.slice(-1), o = t.slice(-2), a = i.slice(-1), l = i.slice(-2); return r && s == 1 && o != 11 || a == 1 && l != 11 ? "one" : r && s >= 2 && s <= 4 && (o < 12 || o > 14) || a >= 2 && a <= 4 && (l < 12 || l > 14) ? "few" : "other" } function sfe(n) { var e = String(n).split("."), t = Number(e[0]) == n; return n >= 0 && n <= 1 ? "one" : t && n >= 2 && n <= 10 ? "few" : "other" } function ofe(n) { var e = String(n).split("."), t = e[0], i = e[1] || ""; return n == 0 || n == 1 || t == 0 && i == 1 ? "one" : "other" } function afe(n) { var e = String(n).split("."), t = e[0], i = !e[1]; return n == 1 && i ? "one" : t >= 2 && t <= 4 && i ? "few" : i ? "other" : "many" } function lfe(n) { var e = String(n).split("."), t = e[0], i = !e[1], r = t.slice(-2); return i && r == 1 ? "one" : i && r == 2 ? "two" : i && (r == 3 || r == 4) || !i ? "few" : "other" } const ufe = Lo, cfe = Lo, dfe = Lo, ffe = Lo, gfe = Lo, hfe = dt, mfe = dt, pfe = dt; function _fe(n) { var e = String(n).split("."), t = e[0], i = e[1] || "", r = !e[1], s = t.slice(-1), o = t.slice(-2), a = i.slice(-1), l = i.slice(-2); return r && s == 1 && o != 11 || a == 1 && l != 11 ? "one" : r && s >= 2 && s <= 4 && (o < 12 || o > 14) || a >= 2 && a <= 4 && (l < 12 || l > 14) ? "few" : "other" } const vfe = dt, bfe = dt, yfe = dt, wfe = dn, kfe = si, Dfe = si, Sfe = dt, Cfe = dt, Pfe = dt, Afe = dt, Efe = dn, Ife = no, Mfe = dt, Lfe = dt; function Tfe(n) { var e = String(n).split("."), t = e[0], i = e[1] || "", r = !e[1], s = t.slice(-1), o = i.slice(-1); return r && (t == 1 || t == 2 || t == 3) || r && s != 4 && s != 6 && s != 9 || !r && o != 4 && o != 6 && o != 9 ? "one" : "other" } const Rfe = dt, Ffe = dn, Ofe = dt, Nfe = dt; function Bfe(n) { var e = String(n).split("."), t = Number(e[0]) == n; return n == 0 || n == 1 || t && n >= 11 && n <= 99 ? "one" : "other" } const Ufe = dt; function Hfe(n) { var e = String(n).split("."), t = e[0], i = !e[1], r = t.slice(-1), s = t.slice(-2); return i && r == 1 && s != 11 ? "one" : i && r >= 2 && r <= 4 && (s < 12 || s > 14) ? "few" : i && r == 0 || i && r >= 5 && r <= 9 || i && s >= 11 && s <= 14 ? "many" : "other" } const $fe = si, Vfe = dt, zfe = dt, qfe = dn, Wfe = dt, Kfe = dt, Jfe = no, Yfe = dt, Xfe = dn, Zfe = dt, Qfe = dt, jfe = si, Gfe = dn, xfe = dn, ege = dn, tge = Mo, nge = Object.freeze(Object.defineProperty({ __proto__: null, _in: aue, af: lue, ak: uue, am: cue, an: due, ar: fue, ars: gue, as: hue, asa: mue, ast: pue, az: _ue, be: vue, bem: bue, bez: yue, bg: wue, bho: kue, bm: Due, bn: Sue, bo: Cue, br: Pue, brx: Aue, bs: Eue, ca: Iue, ce: Mue, ceb: Lue, cgg: Tue, chr: Rue, ckb: Fue, cs: Oue, cy: Nue, da: Bue, de: Uue, dsb: Hue, dv: $ue, dz: Vue, ee: zue, el: que, en: Wue, eo: Kue, es: Jue, et: Yue, eu: Xue, fa: Zue, ff: Que, fi: jue, fil: Gue, fo: xue, fr: ece, fur: tce, fy: nce, ga: ice, gd: rce, gl: sce, gsw: oce, gu: ace, guw: lce, gv: uce, ha: cce, haw: dce, he: fce, hi: gce, hr: hce, hsb: mce, hu: pce, hy: _ce, ia: vce, id: bce, ig: yce, ii: wce, io: kce, is: Dce, it: Sce, iu: Cce, iw: Pce, ja: Ace, jbo: Ece, jgo: Ice, ji: Mce, jmc: Lce, jv: Tce, jw: Rce, ka: Fce, kab: Oce, kaj: Nce, kcg: Bce, kde: Uce, kea: Hce, kk: $ce, kkj: Vce, kl: zce, km: qce, kn: Wce, ko: Kce, ks: Jce, ksb: Yce, ksh: Xce, ku: Zce, kw: Qce, ky: jce, lag: Gce, lb: xce, lg: ede, lkt: tde, ln: nde, lo: ide, lt: rde, lv: sde, mas: ode, mg: ade, mgo: lde, mk: ude, ml: cde, mn: dde, mo: fde, mr: gde, ms: hde, mt: mde, my: pde, nah: _de, naq: vde, nb: bde, nd: yde, ne: wde, nl: kde, nn: Dde, nnh: Sde, no: Cde, nqo: Pde, nr: Ade, nso: Ede, ny: Ide, nyn: Mde, om: Lde, or: Tde, os: Rde, osa: Fde, pa: Ode, pap: Nde, pl: Bde, prg: Ude, ps: Hde, pt: $de, pt_PT: Vde, rm: zde, ro: qde, rof: Wde, root: Kde, ru: Jde, rwk: Yde, sah: Xde, saq: Zde, sc: Qde, scn: jde, sd: Gde, sdh: xde, se: efe, seh: tfe, ses: nfe, sg: ife, sh: rfe, shi: sfe, si: ofe, sk: afe, sl: lfe, sma: ufe, smi: cfe, smj: dfe, smn: ffe, sms: gfe, sn: hfe, so: mfe, sq: pfe, sr: _fe, ss: vfe, ssy: bfe, st: yfe, su: wfe, sv: kfe, sw: Dfe, syr: Sfe, ta: Cfe, te: Pfe, teo: Afe, th: Efe, ti: Ife, tig: Mfe, tk: Lfe, tl: Tfe, tn: Rfe, to: Ffe, tr: Ofe, ts: Nfe, tzm: Bfe, ug: Ufe, uk: Hfe, ur: $fe, uz: Vfe, ve: zfe, vi: qfe, vo: Wfe, vun: Kfe, wa: Jfe, wae: Yfe, wo: Xfe, xh: Zfe, xog: Qfe, yi: jfe, yo: Gfe, yue: xfe, zh: ege, zu: tge }, Symbol.toStringTag, { value: "Module" })), ige = n => `**${n}**`, rge = /@@(.*?)@@/g; function sge(n, e, t, i, r) { return e.replace(rge, function (o, a) { const l = t.hasOwnProperty(a), u = typeof t[a], c = u === "undefined", d = u === "string" || u === "number"; let f = o; if (l && d) { let g = t[a]; u === "number" && t.hasOwnProperty("count") && (g = g.toLocaleString([r, "en-US"])), f = g } else i && c && i(n, f); return f }) } function oge(n) { return nge[n] } const age = (n, e, t) => { const i = t.split("-")[0], s = oge(i === "dev" ? "en" : i); let o = null; return s && (o = s(n), (o === "few" || o === "many") && (o = "other")), o ? `${e}.${o}` : e }; class lge { constructor(e, t, i = {}) { He(this, "translationMap"); He(this, "locale"); He(this, "onMissingKeyFn"); He(this, "onMissingInterpolationFn"); const { onMissingKeyFn: r = ige, onMissingInterpolationFn: s = null } = i; this.locale = e, this.translationMap = new Map(Object.entries(t)), this.onMissingKeyFn = r, this.onMissingInterpolationFn = s } getValue(e) { return this.translationMap.get(e) || null } getUninterpolatedString(e) { const t = this.getValue(e); return t || this.onMissingKeyFn(e) } translate(e, t = {}) { let i = e; const { count: r } = t; r && !isNaN(r) && (i = age(r, e, this.locale)); const s = this.getValue(i); return s ? sge(i, s, t, this.onMissingInterpolationFn, this.locale) : this.onMissingKeyFn(i) } } const uge = n => typeof n == "number" ? { count: n } : n; class cge { constructor(e, t = "en-us", i = {}, r = !1) { He(this, "log"); He(this, "locale"); He(this, "translator"); He(this, "keys"); He(this, "alwaysShowScreamers"); He(this, "t", (e, t = {}) => { if (this.alwaysShowScreamers) return e; let i = uge(t); return typeof e != "string" ? (this.log.warn("received non-string key:", e), "") : this.translator.translate(e, i) }); this.log = e, this.locale = t, this.translator = new lge(t, i, { onMissingKeyFn: s => (e.warn("key missing:", s), `**${s}**`), onMissingInterpolationFn: (s, o) => { e.warn(`key ${s} missing interpolation:`, o) } }), this.keys = i, this.alwaysShowScreamers = r } get currentLocale() { return this.locale } get currentKeys() { return this.keys } getUninterpolatedString(e) { return this.alwaysShowScreamers ? e : this.translator.getUninterpolatedString(e) } } const dge = ["he"], fge = ["ar", "he", "ku", "ur", "ps", "yi"]; function PO(n, e = null) { const t = n.split("-")[0], i = fge.includes(t), r = typeof e == "string" && dge.includes(e); return i || r ? "rtl" : "ltr" } const Gb = n => { const e = ["-hans-", "-hant-"], t = n.toLowerCase(); return e.some(i => t.includes(i)) }, gge = (n, e, t) => { let i = null; return t && (i = t[0].toUpperCase() + t.substring(1).toLowerCase()), [n.toLowerCase(), i, e.toUpperCase()].filter(s => s !== null).join("-") }; function hge(n) { const e = PO(n); let t = n; const i = n.split("-"), r = Gb(n) ? 2 : 1, s = i[0], o = Gb(n) ? i[1] : void 0, a = i[r]; return s && a && (t = gge(s, a, o)), { dir: e, lang: t } } function mge(n) { if (typeof window > "u") return; const e = hge(n); for (let [t, i] of Object.entries(e)) window.document.documentElement.setAttribute(t, i) } const AO = "i18n"; async function pge(n, e, t) { const i = e.loggerFor("i18n"), r = await _ge(i, t), s = new cge(i, t, r), o = ca(s); return n.set(AO, o), s } function ot() { const n = gi(AO); if (!n) throw new Error("getI18n called before setup"); return n } async function _ge(n, e) { try { return (await vge(e)).default } catch (t) { throw n.error("failed to load:", t), new Error("i18n failed to load") } } function vge(n) { return oue(Object.assign({ "../../tmp/locales/ar/translations.json": () => ft(() => import("./translations-469978e2.js"), []), "../../tmp/locales/bn/translations.json": () => ft(() => import("./translations-3d46d50c.js"), []), "../../tmp/locales/ca-es/translations.json": () => ft(() => import("./translations-14593b48.js"), []), "../../tmp/locales/ca/translations.json": () => ft(() => import("./translations-d3ee2fb4.js"), []), "../../tmp/locales/cs/translations.json": () => ft(() => import("./translations-bd056229.js"), []), "../../tmp/locales/da/translations.json": () => ft(() => import("./translations-dc33934c.js"), []), "../../tmp/locales/de-ch/translations.json": () => ft(() => import("./translations-c01d0676.js"), []), "../../tmp/locales/de-de/translations.json": () => ft(() => import("./translations-d95a1bfe.js"), []), "../../tmp/locales/dev/translations.json": () => ft(() => import("./translations-35dd5b3c.js"), []), "../../tmp/locales/el/translations.json": () => ft(() => import("./translations-7579a294.js"), []), "../../tmp/locales/en-au/translations.json": () => ft(() => import("./translations-99ed2e6a.js"), []), "../../tmp/locales/en-ca/translations.json": () => ft(() => import("./translations-b2f61cc9.js"), []), "../../tmp/locales/en-gb/translations.json": () => ft(() => import("./translations-05e97111.js"), []), "../../tmp/locales/en-us/translations.json": () => ft(() => import("./translations-60e6d6c8.js"), []), "../../tmp/locales/es-es/translations.json": () => ft(() => import("./translations-16217b31.js"), []), "../../tmp/locales/es-mx/translations.json": () => ft(() => import("./translations-b36ac54c.js"), []), "../../tmp/locales/es-us/translations.json": () => ft(() => import("./translations-48382943.js"), []), "../../tmp/locales/fi/translations.json": () => ft(() => import("./translations-ddced0cd.js"), []), "../../tmp/locales/fr-ca/translations.json": () => ft(() => import("./translations-15282dcf.js"), []), "../../tmp/locales/fr-fr/translations.json": () => ft(() => import("./translations-e672eb48.js"), []), "../../tmp/locales/gu/translations.json": () => ft(() => import("./translations-a2d6566f.js"), []), "../../tmp/locales/he/translations.json": () => ft(() => import("./translations-0fbb0fb9.js"), []), "../../tmp/locales/hi-in/translations.json": () => ft(() => import("./translations-6ffed64e.js"), []), "../../tmp/locales/hi/translations.json": () => ft(() => import("./translations-71dff02d.js"), []), "../../tmp/locales/hr/translations.json": () => ft(() => import("./translations-9af1f7bd.js"), []), "../../tmp/locales/hu/translations.json": () => ft(() => import("./translations-daee0a52.js"), []), "../../tmp/locales/id/translations.json": () => ft(() => import("./translations-96670369.js"), []), "../../tmp/locales/it/translations.json": () => ft(() => import("./translations-14d8b4f7.js"), []), "../../tmp/locales/ja/translations.json": () => ft(() => import("./translations-acfaecba.js"), []), "../../tmp/locales/kn/translations.json": () => ft(() => import("./translations-a0446eca.js"), []), "../../tmp/locales/ko-kr/translations.json": () => ft(() => import("./translations-b79b73f9.js"), []), "../../tmp/locales/ko/translations.json": () => ft(() => import("./translations-669f2ea3.js"), []), "../../tmp/locales/ml/translations.json": () => ft(() => import("./translations-075a12d6.js"), []), "../../tmp/locales/mr/translations.json": () => ft(() => import("./translations-6c002f1f.js"), []), "../../tmp/locales/ms/translations.json": () => ft(() => import("./translations-04e15124.js"), []), "../../tmp/locales/nb/translations.json": () => ft(() => import("./translations-e3e07bd8.js"), []), "../../tmp/locales/nl/translations.json": () => ft(() => import("./translations-5ecf3821.js"), []), "../../tmp/locales/or/translations.json": () => ft(() => import("./translations-0b2d50c4.js"), []), "../../tmp/locales/pa/translations.json": () => ft(() => import("./translations-8afc1229.js"), []), "../../tmp/locales/pl/translations.json": () => ft(() => import("./translations-e6fb9ab3.js"), []), "../../tmp/locales/pt-br/translations.json": () => ft(() => import("./translations-954dca05.js"), []), "../../tmp/locales/pt-pt/translations.json": () => ft(() => import("./translations-b133fbea.js"), []), "../../tmp/locales/ro/translations.json": () => ft(() => import("./translations-7b860ad1.js"), []), "../../tmp/locales/ru/translations.json": () => ft(() => import("./translations-6654f155.js"), []), "../../tmp/locales/sk/translations.json": () => ft(() => import("./translations-5a6098ef.js"), []), "../../tmp/locales/sl/translations.json": () => ft(() => import("./translations-43f779d6.js"), []), "../../tmp/locales/sv/translations.json": () => ft(() => import("./translations-fd5a6075.js"), []), "../../tmp/locales/ta/translations.json": () => ft(() => import("./translations-82f018bd.js"), []), "../../tmp/locales/te/translations.json": () => ft(() => import("./translations-58e34d6c.js"), []), "../../tmp/locales/th/translations.json": () => ft(() => import("./translations-a1a72a38.js"), []), "../../tmp/locales/tr/translations.json": () => ft(() => import("./translations-205cbee8.js"), []), "../../tmp/locales/uk/translations.json": () => ft(() => import("./translations-5f4c7002.js"), []), "../../tmp/locales/ur/translations.json": () => ft(() => import("./translations-44ed4b0f.js"), []), "../../tmp/locales/vi/translations.json": () => ft(() => import("./translations-764dd4d9.js"), []), "../../tmp/locales/zh-hans-cn/translations.json": () => ft(() => import("./translations-70d7f9dd.js"), []), "../../tmp/locales/zh-hant-hk/translations.json": () => ft(() => import("./translations-bb877023.js"), []), "../../tmp/locales/zh-hant-tw/translations.json": () => ft(() => import("./translations-539ddcb3.js"), []) }), `../../tmp/locales/${n}/translations.json`) } const Np = Tt(!1), al = Tt(!1); function bge(n = window.location.href) { try { return new URL(n).pathname.includes("/login") } catch (e) { return !1 } } const yge = ["billing-info", "subscribe-success", "subscription-confirmation", "create-account"], wge = () => { const { subscribe: n, update: e } = Tt({ isLoadingUserProfile: !1, isLoadingUser: !1, isSetup: !1, user: null, userSocialProfile: null, upsellOfferDetails: null, subscriptionStatus: null, suppressUpSells: !1 }); return { internal: { setLoadingUser: m => e(v => ({ ...v, isLoadingUser: m })), setLoadingUserProfile: m => e(v => ({ ...v, isLoadingUserProfile: m })), setup: () => { e(m => ({ ...m, isSetup: !0 })) }, setUser: m => e(v => ({ ...v, user: m ? { ...v.user, ...m } : v.user })), setUpsellOfferDetails: m => e(v => ({ ...v, upsellOfferDetails: m })), suppressUpSells: m => { e(v => ({ ...v, suppressUpSells: m })) }, setUserSocialProfile: m => e(v => ({ ...v, userSocialProfile: m })), setUserSubscriptionStatus: m => e(v => ({ ...v, subscriptionStatus: m })) }, external: { openModal: (m, v) => { e(b => ({ ...b, modal: { activePath: m, isOpen: !0, modalParams: v } })) }, closeModal: () => { e(m => ({ ...m, modal: { activePath: null, isOpen: !1 } })) }, subscribe: n, resetUser: () => { e(m => ({ ...m, user: null })) } } } }; async function Yg(n, e, t = !1) { if (t || await n.isAuthorized()) { let i; try { e.setLoadingUser(!0), i = await n.me() } catch (r) { } if (e.setLoadingUser(!1), i) return IT(i) } return null } const xb = { AUTHORIZATION_ERROR: "ASE.Web.Music.WEB.ERROR.AuthorizationFailure", CONTENT_RESTRICTED: "ASE.Web.Music.WEB.ERROR.ContentRestricted", CONTENT_EQUIVALENT: "ASE.Web.Music.WEB.ERROR.ItemNotAvailableInCountry", CONTENT_UNSUPPORTED: "ASE.Web.Music.Error.NotSupportedPlaybackOnBrowser.Web", UNSUPPORTED_ERROR: "ASE.Web.Music.Error.NotSupportedPlaybackOnBrowser.Web", CONTENT_UNAVAILABLE: "ASE.Web.Music.Error.NotSupportedPlaybackOnBrowser.Web", SUBSCRIPTION_ERROR: "ASE.Web.Music.ListenNow.Banner.Header", MEDIA_LICENSE: "ASE.Web.Music.Error.AnErrorOccurred", WIDEVINE_CDM_EXPIRED: "ASE.Web.Music.Error.BrowserUpdateRequired.Header", DEFAULT: "ASE.Web.Music.Error.AnErrorOccurred" }, qh = { AUTHORIZATION_ERROR: "ASE.Web.Music.WEB.ERROR.PleaseLogIn", CONTENT_RESTRICTED: "ASE.Web.Music.WEB.ERROR.ExplicitContent", CONTENT_EQUIVALENT: "ASE.Web.Music.WEB.ERROR.SwitchStorefronts", CONTENT_UNSUPPORTED: "ASE.Web.Music.Error.NotSupportedPlaybackOnBrowser.OpenInAppleMusic", UNSUPPORTED_ERROR: "ASE.Web.Music.Error.NotSupportedPlaybackOnBrowser.OpenInAppleMusic", CONTENT_UNAVAILABLE: "ASE.Web.Music.Error.NotSupportedPlaybackOnBrowser.OpenInAppleMusic", CONTENT_UNSUPPORTED_NATIVE: "ASE.Web.Music.Error.NotSupportedPlaybackOnBrowser.OpenInMusic", UNSUPPORTED_ERROR_NATIVE: "ASE.Web.Music.Error.NotSupportedPlaybackOnBrowser.OpenInMusic", CONTENT_UNAVAILABLE_NATIVE: "ASE.Web.Music.Error.NotSupportedPlaybackOnBrowser.OpenInMusic", SUBSCRIPTION_ERROR: "ASE.Web.Music.ListenNow.Banner.Body", NOT_FOUND: "ASE.Web.Music.WEB.ERROR.ItemNotAvailableInAppleMusic", MEDIA_LICENSE: "ASE.Web.Music.WEB.ERROR.PleaseTryAgain", WIDEVINE_CDM_EXPIRED: "ASE.Web.Music.Error.BrowserUpdateRequired", DEFAULT: "ASE.Web.Music.WEB.ERROR.PleaseTryAgain" }, kge = { CONTENT_RESTRICTED: "ASE.Web.Music.Go.To.Settings" }, e2 = { CONTENT_RESTRICTED: "ASE.Web.Music.Cancel", DEFAULT: "ASE.Web.Music.OK" }, EO = ["STREAM_UPSELL", "DEVICE_LIMIT"]; function IO(n, e, t) { var u; const i = ["CONTENT_UNSUPPORTED", "UNSUPPORTED_ERROR", "CONTENT_UNAVAILABLE"], r = ["NOT_FOUND"]; if (EO.includes(n) && (t != null && t.dialog)) { const { dialog: c } = t; return { header: c.message, message: c.explanation, action: c.okButtonString, actionUrl: (u = c.okButtonAction) == null ? void 0 : u.url, confirm: c.cancelButtonString, mkError: t.reason } } const s = r.includes(n) ? null : xb[n] || xb.DEFAULT, o = kge[n] || null, a = e2[n] || e2.DEFAULT; let l; return e && i.includes(n) ? l = qh[`${n}_NATIVE`] : l = qh[n] || qh.DEFAULT, { header: s, message: l, action: o, actionUrl: null, confirm: a, mkError: n } } function Dge(n) { let e; return { c() { e = L("div"), this.h() }, l(t) { e = T(t, "DIV", { id: !0 }), E(e).forEach(_), this.h() }, h() { p(e, "id", MO) }, m(t, i) { I(t, e, i) }, p: j, i: j, o: j, d(t) { t && _(e) } } } const MO = "ck-container"; class Sge extends oe { constructor(e) { super(), se(this, e, null, Dge, ye, {}) } } var Ri = (n => (n.Artwork = "artwork", n.Queue = "queue", n.Lyrics = "lyrics", n.Pivots = "pivots", n))(Ri || {}); const Cge = "music-app-pref:last-now-playing-view-", Pge = "lyrics", LO = "artwork"; function t2() { const n = Ci("media-user-token"); return n && `${Cge}${n}` } function n2(n) { var t; let e; return n ? e = (t = window.localStorage.getItem(n)) != null ? t : Pge : e = LO, { isVisible: !1, nowPlayingView: e } } function Age() { let n = t2(); const { subscribe: e, update: t } = Tt(n2(n)); return { subscribe: e, setVisibility: i => { t(r => ({ ...r, isVisible: i })) }, setNowPlayingView: i => { n && i !== "pivots" && window.localStorage.setItem(n, i), t(r => ({ ...r, nowPlayingView: i })) }, reset: () => { t(() => (n = t2(), n2(n))) } } } const Er = Age(), Ege = !1, TO = "commerce", Ige = "music", Mge = new Set(["subscribe-success", "subscription-confirmation", "subscription-price-increase"]), i2 = { [fi.studentReverification]: { segment: "student" } }; class f_ { constructor(e, t, i, r, s) { this.manager = e, this.stateModifiers = t.internal, this.state = t.external, this.playback = i, this.jet = r, this.locale = s } static setup(e, t, i, r, s, o) { const a = wge(), l = t.loggerFor("Commerce"), u = new f_((async () => { let c; const { AuthType: d, EventName: f, setupCommerceKit: g } = await ft(() => Promise.resolve().then(() => sse), void 0), h = { containerSelector: `#${MO}`, onModalReadyToBeShown: () => { np.set(!0) } }, m = () => { Cd(i, r, l, a, s), r2(c, i, a), bge() && r.perform(gr(ur({ storefront: null, language: null }), qs.type, sa)) }, v = () => { Zo.set(!1) }, b = async (S, C) => { np.set(!1), l.info("Closing CommerceKit Modal: ", C); const { data: P = {}, result: M } = C, R = $t(Zo); R && (P == null ? void 0 : P.from) === "privacy" ? (r.perform(wR()), Zo.set(!1)) : R && M === "cancel" && r.perform(vr({ type: ir.Open, activePath: fi.gdpr })), Mge.has(P == null ? void 0 : P.from) && r.perform(gr(ur(o), qs.type, sa)), (!P || yge.includes(P == null ? void 0 : P.from)) && Cd(i, r, l, a, s) }, y = () => { Cd(i, r, l, a, s) }, k = { authOptions: { type: d.DefaultWeb }, devToken: Bu, fetchOptions: { shouldEnableFetchProxy: !0 }, hostedAppMetadata: { subdomain: ol.Music }, locale: o.language, logLevel: "off", modalOptions: h, product: Ige, storefront: o.storefront, useRelativeIframeSrc: !Ege }; return Lge(i, a, l, r, s), Fge(i, r, l, s, a, o), c = g(k), c.eventEmitter.addListener(f.DidSignIn, m), c.eventEmitter.addListener(f.DidGdprAcknowledge, v), c.eventEmitter.addListener(f.ModalDidClose, b), c.eventEmitter.addListener(f.SubscriptionDidChange, y), r2(c, i, a), a.internal.setup(), c })(), a, i, r, o); return e.set(TO, u), u } async open(e, t = {}) { const i = new URL(window.location.href).searchParams, r = Object.fromEntries(i), s = await this.manager, o = { ...t, ...r }; Vie(e) && zie(o.iso2code) && this.stateModifiers.suppressUpSells(!0); const a = ose[e]; return Lp.includes(e) ? s.createIframe(a, { queryParams: o }) : e === fi.authenticate ? s.authenticate({ queryParams: o }) : i2[e] ? s.openModal(a, { queryParams: o, pathParams: i2[e] }) : s.openModal(a, { queryParams: o }) } async logout() { return (await this.manager).logout() } async refreshUser() { await this.playback.me() } async getUserSubscription() { return Yg(this.playback, this.stateModifiers) } async generateOAuthCode(e, t) { const i = "https://auth.music.apple.com", r = "/auth/v1/oauth/direct-authorization-code", s = { client_id: e, scope: t }, o = { url: `${i}${r}`, headers: {}, method: "POST", body: "" }; return o.headers.Authorization = `Bearer ${Bu}`, o.headers["Content-Type"] = "application/x-www-form-urlencoded", o.body = Object.keys(s).map(a => encodeURIComponent(a) + "=" + encodeURIComponent(s[a])).join("&"), fetch(o.url, { credentials: "include", ...o }).then(a => a.json()).catch(a => Promise.resolve({ code: "", error: a })) } async registerDeviceBrowser(e) { return Promise.resolve({ pushToken: e }) } } function Lge(n, e, t, i, r) { Yg(n, e.internal).then(s => { e.internal.setUser(s), i.updateUserInfo(s), r.isSubscribed = s.isSubscribed, s.isSubscribed && (RO(e), FO(i, e)) }).catch(s => { t.error("error while getting userInfo:", s) }), n.musicSubscriptionOffers().then(s => { const o = fb(s); e.internal.setUpsellOfferDetails(o) }).catch(s => { t.error("Error in getting Subscription Offers: ", s), e.internal.setUpsellOfferDetails(fb([])) }) } async function Tge(n) { var t; const e = await n.getInboxMessages({ subscriptionType: "MUSIC" }); return (t = e == null ? void 0 : e.body) == null ? void 0 : t.messages } async function Rge(n, e) { await e.openInboxMessages(n) } async function r2(n, e, t) { const i = await Yg(e, t.internal, !0); if (LT(i == null ? void 0 : i.subscriberType)) { const r = await Tge(n); r != null && r.length && await Rge(r, n) } } function Fge(n, e, t, i, r, s) { Oge(n, e, i), Nge(n, e), Bge(n, e, t, r, s, i) } function Oge(n, e, t) { n.addEventListener("eligibleForSubscribeView", ({ item: i }) => { var r, s; t != null && t.inSession || e.perform(vr({ type: ir.Open, activePath: fi.subscribe, modalParams: { contentId: i == null ? void 0 : i.id, contentType: (s = (r = i == null ? void 0 : i.attributes) == null ? void 0 : r.playParams) == null ? void 0 : s.kind } })) }) } function Nge(n, e) { n.addEventListener("needsGDPRDidChange", ({ needsGDPR: t }) => { t && (Zo.set(t), e.perform(vr({ type: ir.Open, activePath: fi.gdpr }))) }) } function Bge(n, e, t, i, r, s) { n.addEventListener("authorizationStatusDidChange", async ({ authorizationStatus: o }) => { var a; o === 3 && ((a = $t(i.external)) == null ? void 0 : a.user) === null && (await Cd(n, e, t, i, s), n.setPreviewOnlyBasedOnSF(r.storefront)) }) } async function Cd(n, e, t, i, r) { n.updateUserTokenFromStorage(), Er.reset(); const s = await Yg(n, i.internal, !0); try { if (s) i.internal.setUser(s), e.updateUserInfo(s), e.perform(tr({ kind: "subscriptionStatusChange" })), r.isSubscribed = s.isSubscribed, s.isSubscribed && (RO(i), FO(e, i)); else { const o = IO("AUTHORIZATION_ERROR", !0); n.stateModifiers.setPlaybackError(o) } } catch (o) { t.error("error while getting userInfo:", o) } } async function RO(n) { var t; const e = await Hee(); e && (n.internal.setUser((t = e == null ? void 0 : e.account) != null ? t : null), n.internal.setUserSubscriptionStatus(e.music)) } async function FO(n, e) { try { e.internal.setLoadingUserProfile(!0); const t = await n.dispatch(TG({})); e.internal.setLoadingUserProfile(!1), t && e.internal.setUserSocialProfile(t) } catch (t) { e.internal.setLoadingUserProfile(!1) } } function xt() { const n = gi(TO); if (!n) throw new Error("getCommerce called before Commerce.setup"); return n } function Uge(n) { let e, t, i = [{ height: "11" }, { viewBox: "0 0 10 11" }, { width: "10" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { height: !0, viewBox: !0, width: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M5 5.295c-1.296 0-2.385-1.176-2.385-2.678C2.61 1.152 3.716 0 5 0c1.29 0 2.39 1.128 2.39 2.611C7.39 4.12 6.297 5.295 5 5.295zM1.314 11C.337 11 0 10.698 0 10.144c0-1.55 1.929-3.685 5-3.685 3.065 0 5 2.135 5 3.685 0 .554-.337.856-1.314.856z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ height: "11" }, { viewBox: "0 0 10 11" }, { width: "10" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function Hge(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let $ge = class extends oe { constructor(e) { super(), se(this, e, Hge, Uge, ht, {}) } }; function Vge(n) { let e, t, i, r, s = n[0]("AMP.Shared.AX.SignIn") + "", o, a, l, u; return t = new $ge({ props: { class: "auth-icon" } }), { c() { e = L("button"), V(t.$$.fragment), i = Y(), r = L("span"), o = le(s), this.h() }, l(c) { e = T(c, "BUTTON", { tabindex: !0, "data-testid": !0, class: !0 }); var d = E(e); q(t.$$.fragment, d), i = X(d), r = T(d, "SPAN", { class: !0 }); var f = E(r); o = ue(f, s), f.forEach(_), d.forEach(_), this.h() }, h() { p(r, "class", "button-text"), p(e, "tabindex", "0"), p(e, "data-testid", "sign-in-button"), p(e, "class", "commerce-button signin svelte-jf121i") }, m(c, d) { I(c, e, d), H(t, e, null), A(e, i), A(e, r), A(r, o), a = !0, l || (u = Me(e, "click", n[1]), l = !0) }, p(c, [d]) { (!a || d & 1) && s !== (s = c[0]("AMP.Shared.AX.SignIn") + "") && me(o, s) }, i(c) { a || (w(t.$$.fragment, c), a = !0) }, o(c) { D(t.$$.fragment, c), a = !1 }, d(c) { c && _(e), $(t), l = !1, u() } } } function zge(n, e, t) { let { translateFn: i } = e; function r(s) { Bt.call(this, n, s) } return n.$$set = s => { "translateFn" in s && t(0, i = s.translateFn) }, [i, r] } class qge extends oe { constructor(e) { super(), se(this, e, zge, Vge, ye, { translateFn: 0 }) } } function Wge(n) { let e, t, i = [{ viewBox: "0 0 28 28" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M14.007 28C6.299 28 0 21.703 0 14S6.299 0 14.007 0C21.7 0 28 6.297 28 14s-6.299 14-13.993 14zm0-9.392c4.253 0 7.49 1.514 8.805 3.216 1.815-2.08 2.899-4.81 2.899-7.824 0-6.54-5.12-11.784-11.704-11.784C7.41 2.216 2.289 7.46 2.289 14c0 3.014 1.084 5.743 2.9 7.824 1.313-1.702 4.55-3.216 8.818-3.216zm-.014-2.297c-2.6-.027-4.646-2.19-4.646-5.095-.014-2.73 2.059-4.986 4.646-4.986 2.601 0 4.647 2.256 4.647 4.986 0 2.906-2.032 5.122-4.647 5.095z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ viewBox: "0 0 28 28" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function Kge(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let s2 = class extends oe { constructor(e) { super(), se(this, e, Kge, Wge, ht, {}) } }; function Jge(n) { return { items: n } } function Yge(n) { let e, t, i; var r = s2; function s(o, a) { return { props: { class: "icon", "data-testid": "account-menu-fallback-icon", "aria-hidden": "true" } } } return r && (e = jt(r, s())), { c() { e && V(e.$$.fragment), t = re() }, l(o) { e && q(e.$$.fragment, o), t = re() }, m(o, a) { e && H(e, o, a), I(o, t, a), i = !0 }, p(o, a) { if (r !== (r = s2)) { if (e) { te(); const l = e; D(l.$$.fragment, 1, 0, () => { $(l, 1) }), ne() } r ? (e = jt(r, s()), V(e.$$.fragment), w(e.$$.fragment, 1), H(e, t.parentNode, t)) : e = null } }, i(o) { i || (e && w(e.$$.fragment, o), i = !0) }, o(o) { e && D(e.$$.fragment, o), i = !1 }, d(o) { o && _(t), e && $(e, o) } } } function Xge(n) { let e, t, i, r; return { c() { e = L("img"), this.h() }, l(s) { e = T(s, "IMG", { "data-testid": !0, role: !0, alt: !0, src: !0, class: !0 }), this.h() }, h() { p(e, "data-testid", "account-menu-avatar"), p(e, "role", "presentation"), p(e, "alt", ""), ji(e.src, t = n[1]) || p(e, "src", t), p(e, "class", "web-navigation__user-icon svelte-19ix11y") }, m(s, o) { I(s, e, o), i || (r = Me(e, "error", n[7]), i = !0) }, p(s, o) { o & 2 && !ji(e.src, t = s[1]) && p(e, "src", t) }, i: j, o: j, d(s) { s && _(e), i = !1, r() } } } function Zge(n) { let e, t, i, r, s, o, a; const l = [Xge, Yge], u = []; function c(d, f) { return d[1] && !d[2] ? 0 : 1 } return r = c(n), s = u[r] = l[r](n), { c() { e = L("div"), t = L("amp-contextual-menu-button"), i = L("span"), s.c(), this.h() }, l(d) { e = T(d, "DIV", { class: !0, "data-testid": !0 }); var f = E(e); t = T(f, "AMP-CONTEXTUAL-MENU-BUTTON", { buttonLabel: !0, config: !0 }); var g = E(t); i = T(g, "SPAN", { class: !0, "data-testid": !0, slot: !0 }); var h = E(i); s.l(h), h.forEach(_), g.forEach(_), f.forEach(_), this.h() }, h() { p(i, "class", "user svelte-19ix11y"), p(i, "data-testid", "account-menu-trigger"), p(i, "slot", "trigger-content"), Xe(t, "buttonLabel", o = n[0]("FUSE.ForYou.MyAccount")), Xe(t, "config", n[3]), p(e, "class", "account-menu svelte-19ix11y"), p(e, "data-testid", "account-menu") }, m(d, f) { I(d, e, f), A(e, t), A(t, i), u[r].m(i, null), a = !0 }, p(d, [f]) { let g = r; r = c(d), r === g ? u[r].p(d, f) : (te(), D(u[g], 1, 1, () => { u[g] = null }), ne(), s = u[r], s ? s.p(d, f) : (s = u[r] = l[r](d), s.c()), w(s, 1), s.m(i, null)), (!a || f & 1 && o !== (o = d[0]("FUSE.ForYou.MyAccount"))) && Xe(t, "buttonLabel", o), (!a || f & 8) && Xe(t, "config", d[3]) }, i(d) { a || (w(s), a = !0) }, o(d) { D(s), a = !1 }, d(d) { d && _(e), u[r].d() } } } function Qge(n, e, t) { let i, { translateFn: r } = e, { avatarArtworkUrl: s } = e, { helpUrl: o = null } = e, { items: a = [] } = e, { showSettings: l = !0 } = e, u = !1; const c = It(), d = () => t(2, u = !0); return n.$$set = f => { "translateFn" in f && t(0, r = f.translateFn), "avatarArtworkUrl" in f && t(1, s = f.avatarArtworkUrl), "helpUrl" in f && t(4, o = f.helpUrl), "items" in f && t(5, a = f.items), "showSettings" in f && t(6, l = f.showSettings) }, n.$$.update = () => { n.$$.dirty & 113 && t(3, i = Jge([...o ? [{ label: r("AMP.Shared.AccountMenu.Help"), action: () => window.open(o, "_blank"), icon: '<svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><path d="M32.32 61.417c16.075 0 29.08-13.032 29.08-29.164 0-16.103-13.005-29.135-29.08-29.135C16.215 3.117 3.238 16.15 3.238 32.253c0 16.132 12.977 29.164 29.082 29.164zm0-5.672c-13.033 0-23.243-10.515-23.243-23.492 0-12.95 10.21-23.463 23.243-23.463 13.032 0 23.213 10.515 23.213 23.463 0 12.977-10.183 23.492-23.213 23.492zm-.665-17.985c1.522 0 2.517-.885 2.6-2.02v-.333c.083-1.437 1.08-2.379 2.878-3.54 2.74-1.8 4.484-3.377 4.484-6.585 0-4.594-4.15-7.222-9.077-7.222-4.758 0-7.967 2.13-8.827 4.732-.166.496-.276.966-.276 1.466 0 1.327 1.051 2.185 2.325 2.185 1.605 0 1.991-.83 2.821-1.8.887-1.355 2.075-2.156 3.709-2.156 2.185 0 3.596 1.245 3.596 3.071 0 1.715-1.161 2.6-3.486 4.234-1.964 1.355-3.404 2.793-3.404 5.256v.305c0 1.577.942 2.407 2.657 2.407zm-.027 8.495c1.77 0 3.237-1.3 3.237-3.043 0-1.772-1.438-3.045-3.237-3.045-1.826 0-3.266 1.3-3.266 3.045 0 1.715 1.466 3.043 3.266 3.043z"></path></svg>' }] : [], ...l ? [{ label: r("AMP.Shared.AccountMenu.Settings"), action: () => c("settings"), icon: '<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" clip-rule="evenodd" version="1.1" viewBox="0 0 16 16" xml:space="preserve" class="context-menu__option-icon"><path fill-rule="nonzero" d="M31.475,57.622C32.114,57.622 32.702,57.571 33.34,57.52L34.77,60.228C35.077,60.891 35.766,61.249 36.558,61.12C37.298,60.994 37.809,60.43 37.912,59.665L38.346,56.651C39.546,56.32 40.696,55.885 41.845,55.4L44.066,57.392C44.629,57.928 45.369,58.031 46.085,57.648C46.749,57.263 47.005,56.575 46.877,55.809L46.238,52.82C47.26,52.115 48.218,51.321 49.098,50.445L51.883,51.62C52.597,51.928 53.313,51.748 53.849,51.11C54.334,50.548 54.411,49.806 53.977,49.143L52.367,46.537C53.079,45.524 53.695,44.446 54.207,43.318L57.247,43.472C58.012,43.498 58.677,43.089 58.907,42.349C59.163,41.658 58.933,40.876 58.345,40.432L55.945,38.543C56.249,37.393 56.505,36.143 56.606,34.866L59.468,33.946C60.234,33.716 60.694,33.128 60.694,32.362C60.694,31.571 60.234,31.008 59.468,30.752L56.606,29.834C56.505,28.557 56.249,27.357 55.945,26.157L58.318,24.265C58.932,23.806 59.162,23.091 58.906,22.375C58.676,21.66 58.012,21.226 57.245,21.252L54.206,21.38C53.645,20.23 53.083,19.183 52.368,18.135L53.977,15.555C54.387,14.965 54.334,14.17 53.849,13.64C53.312,12.977 52.597,12.825 51.883,13.105L49.098,14.254C48.198,13.4 47.242,12.606 46.237,11.878L46.877,8.915C47.005,8.149 46.723,7.434 46.085,7.077C45.369,6.692 44.629,6.769 44.066,7.332L41.846,9.298C40.702,8.821 39.535,8.404 38.348,8.048L37.914,5.058C37.834,4.32 37.267,3.722 36.534,3.603C35.768,3.5 35.078,3.833 34.772,4.471L33.342,7.178C32.703,7.154 32.115,7.102 31.477,7.102C30.838,7.102 30.251,7.154 29.612,7.178L28.182,4.471C27.849,3.832 27.186,3.501 26.394,3.603C25.654,3.731 25.144,4.293 25.04,5.058L24.606,8.048C23.406,8.405 22.231,8.814 21.108,9.298L18.885,7.332C18.298,6.769 17.583,6.694 16.842,7.077C16.203,7.434 15.949,8.149 16.075,8.942L16.714,11.878C15.709,12.606 14.753,13.4 13.852,14.254L11.069,13.104C10.329,12.824 9.639,12.977 9.077,13.64C8.618,14.179 8.566,14.96 8.949,15.555L10.559,18.135C9.875,19.17 9.269,20.255 8.746,21.38L5.68,21.252C4.941,21.219 4.264,21.677 4.02,22.375C3.79,23.091 3.995,23.806 4.608,24.266L6.982,26.154C6.7,27.354 6.445,28.554 6.343,29.831L3.457,30.751C2.717,30.981 2.282,31.569 2.282,32.36C2.282,33.126 2.717,33.714 3.457,33.945L6.343,34.889C6.445,36.14 6.675,37.392 6.982,38.542L4.606,40.43C4.022,40.877 3.785,41.65 4.018,42.347C4.253,43.052 4.938,43.515 5.68,43.47L8.745,43.316C9.28,44.466 9.868,45.539 10.557,46.534L8.947,49.141C8.551,49.751 8.604,50.554 9.077,51.107C9.64,51.745 10.329,51.924 11.069,51.617L13.828,50.442C14.722,51.312 15.688,52.107 16.714,52.817L16.075,55.807C15.948,56.573 16.203,57.262 16.868,57.645C17.583,58.028 18.298,57.925 18.86,57.415L21.106,55.397C22.231,55.882 23.406,56.317 24.606,56.648L25.04,59.664C25.143,60.428 25.654,60.991 26.394,61.144C27.186,61.247 27.849,60.888 28.182,60.225L29.612,57.517C30.251,57.568 30.838,57.619 31.477,57.619L31.475,57.621L31.475,57.622ZM38.168,30.345C36.891,27.049 34.337,25.262 31.322,25.262C30.762,25.261 30.205,25.33 29.662,25.466L22.766,13.64C25.492,12.368 28.466,11.714 31.474,11.724C42.254,11.724 50.732,19.822 51.729,30.344L38.168,30.344L38.168,30.345ZM11.145,32.362C11.145,25.543 14.286,19.515 19.242,15.762L26.188,27.637C24.834,29.145 24.222,30.752 24.222,32.438C24.222,34.074 24.809,35.58 26.188,37.138L19.063,48.835C14.209,45.055 11.145,39.105 11.145,32.362ZM28.283,32.412C28.283,30.702 29.738,29.374 31.373,29.374C33.085,29.374 34.489,30.702 34.489,32.412C34.481,34.114 33.076,35.509 31.374,35.505C29.738,35.505 28.282,34.125 28.282,32.412L28.283,32.412ZM31.475,53.025C28.257,53.025 25.218,52.285 22.562,50.982L29.637,39.386C30.377,39.565 30.887,39.616 31.322,39.616C34.362,39.616 36.915,37.776 38.168,34.405L51.729,34.405C50.732,44.903 42.252,53.025 31.475,53.025Z" transform="matrix(.27119 0 0 .27119 -.54 -.78)"></path></svg>' }] : [], ...a, { label: r("AMP.Shared.AccountMenu.SignOut"), action: () => c("signOut"), styles: { color: "var(--systemRed-default_IC, var(--systemPrimary))" } }])) }, [r, s, u, i, o, a, l, d] } class jge extends oe { constructor(e) { super(), se(this, e, Qge, Zge, ye, { translateFn: 0, avatarArtworkUrl: 1, helpUrl: 4, items: 5, showSettings: 6 }) } } function OO(n) { return { $kind: "flowAction", destination: { kind: pi.CommercePage, intent: XR({ path: "/account/settings", ...n }) }, actionMetrics: { data: [], custom: {} } } } const Ku = Tt({ currentWarning: null }); async function io(n) { return new Promise(e => { Ku.set({ currentWarning: { ...n, resolveCb: e } }) }) } const Gge = "transfer-music-bubble-tip-first-view", xge = 7 * 24 * 60 * 60 * 1e3; function NO() { const n = Ci("media-user-token"); return _0.getUserKey(Gge, n) } function g_() { const n = NO(), e = _0.getItem(n); return e && parseInt(e, 10) || null } function ehe(n) { const e = NO(); _0.setItem(e, n.toString()) } function the() { const n = g_(); return n ? Date.now() - n < xge : !0 } function nhe() { g_() || ehe(Date.now()) } function ihe() { const n = { showBubbleTip: !1, bubbleTipDismissed: !1, modalActive: !1, iframeURL: "", sessionID: null, sessionState: Vr.NotStarted, alternateCounts: { albums: 0, songs: 0, "music-videos": 0 } }, e = Tt(n), f = { setIframeURL: h => { e.update(m => ({ ...m, iframeURL: h })) }, getIframeURL: () => $t(e).iframeURL, setModalVisibility: h => { e.update(m => ({ ...m, modalActive: h })) }, setSession: h => { e.update(m => { var v, b; return { ...m, sessionID: (v = h.sessionID) != null ? v : m.sessionID, sessionState: (b = h.sessionState) != null ? b : m.sessionState } }) }, getSession: () => $t(e), updateSessionId: h => { e.update(m => ({ ...m, sessionID: h })) }, setAlternativeCounts: h => { e.update(m => ({ ...m, alternateCounts: { ...m.alternateCounts, ...h } })) }, setBubbleTipVisibility: h => { h && !g_() && nhe(), e.update(m => ({ ...m, showBubbleTip: h && the() && !m.bubbleTipDismissed })) }, setBubbleTipDismissed: h => { e.update(m => ({ ...m, bubbleTipDismissed: h, showBubbleTip: h ? !1 : m.showBubbleTip })) }, clearSession: () => { e.set(n) } }, g = { subscribe: e.subscribe }; return { internal: f, external: g } } const BO = "songShift", Wh = "https://apple.songshift.com", o2 = "https://support.apple.com/118249?cid=mc-ols-AppleMusic-article_118249-musicapp-04242025", a2 = ["cn", "ru", "mm"], l2 = "transfer-music-oauth", ed = "music-app:song-shift-session", rhe = 1e3 * 60 * 60 * 24 * 30; function she(n) { return { [Wo.AuthError]: { header: n.t("ASE.Web.Music.TransferMusic.Alert.Error.Generic"), message: n.t("ASE.Web.Music.TransferMusic.Alert.Error.Cancel"), actionText: n.t("ASE.Web.Music.Error.TryAgain"), confirmText: n.t("ASE.Web.Music.Cancel") }, [Wo.ThirdPartyAuthError]: { header: n.t("ASE.Web.Music.TransferMusic.Alert.Error.Generic"), message: n.t("ASE.Web.Music.TransferMusic.Alert.Error.Cancel"), actionText: n.t("ASE.Web.Music.Error.TryAgain"), confirmText: n.t("ASE.Web.Music.Cancel") }, [Wo.ReviewMatchesError]: { header: n.t("ASE.Web.Music.TransferMusic.Alert.Error.Generic"), message: n.t("ASE.Web.Music.TransferMusic.Alert.Error.Cancel"), actionText: n.t("ASE.Web.Music.Error.TryAgain"), confirmText: n.t("ASE.Web.Music.Cancel") }, [Wo.ReviewSubmissionError]: { header: n.t("ASE.Web.Music.TransferMusic.Alert.Error.Generic"), message: n.t("ASE.Web.Music.TransferMusic.Alert.Error.Cancel"), actionText: n.t("ASE.Web.Music.Error.TryAgain"), confirmText: n.t("ASE.Web.Music.Cancel") }, [Wo.AddToLibError]: { header: n.t("ASE.Web.Music.TransferMusic.Alert.Error.Generic"), message: n.t("ASE.Web.Music.TransferMusic.Alert.Error.TryAgain"), actionText: n.t("ASE.Web.Music.Error.TryAgain"), confirmText: n.t("ASE.Web.Music.Cancel") }, [Wo.ReviewItemNotSelected]: { header: n.t("ASE.Web.Music.TransferMusic.Alert.ItemNotSelected.Title"), message: n.t("ASE.Web.Music.TransferMusic.Alert.ItemNotSelected.SubTitle"), actionText: n.t("ASE.Web.Music.TransferMusic.Alert.CTA.FinishLater"), confirmText: n.t("ASE.Web.Music.TransferMusic.Alert.CTA.Complete") } } } function Fc() { const n = gi(BO); if (!n) throw new Error("getSongShift called before SongShift.setup"); return n.songShiftState } function UO(n, e) { return !(a2.includes(e.toLowerCase()) || !n || a2.includes(n.toLowerCase())) } class h_ { static setup(e, t, i, r, s, o) { const a = ihe(), l = new h_(t, i, r, a, s, o); return e.set(BO, { songShiftState: a.external }), l } constructor(e, t, i, r, s, o) { this.jet = e, this.commerce = t, this.logger = i.loggerFor("Web Music <> SongShift"), this.store = r, this.locale = s, this.i18n = o, this.messageHandler = this.handleMessage.bind(this), this.handlers = new Map([[qo.AuthSessionDismissListener, this.handleAuthDismissListener], [qo.GenerateAuthCode, this.handleGenerateAuthCode], [qo.DismissWebView, this.handleDismissWebView], [qo.RegisterDismissListener, this.handleDismissListener], [qo.ShowAlert, this.handleShowAlert]]), this.invalidateExpiredSavedSessions(), this.getSavedSession(); const a = (l, u) => { var d, f; const c = !u.sessionID && u.sessionState === Vr.NotStarted && !((d = l == null ? void 0 : l.user) != null && d.isMinor) && !!((f = l == null ? void 0 : l.subscriptionStatus) != null && f.isInFreeTrial); u.showBubbleTip !== c && !u.bubbleTipDismissed && this.store.internal.setBubbleTipVisibility(c) }; t.state.subscribe(l => { const u = this.store.internal.getSession(); a(l, u) }), this.store.external.subscribe(l => { const u = $t(t.state); a(u, l) }) } async start() { const e = await this.getSongShiftURL(); if (!e) return; let t = { platform: "web", l: this.locale.language }; Ci("itre") === "1" && (t = { ...t, restrict: "explicit" }); const r = new URLSearchParams([...Object.entries(t)]).toString(); window.addEventListener("message", this.messageHandler), this.openTransferMusicModal(`${e}?${r}`) } async review() { var o, a; const e = this.store.internal.getSession(); if (!e.sessionID) return; const t = await this.getSongShiftURL("/review-matches/"); if (!t) return; let i = 0; e.alternateCounts.songs && (i += e.alternateCounts.songs), e.alternateCounts["music-videos"] && (i += e.alternateCounts["music-videos"]); const r = { platform: "web", l: this.locale.language, sessionID: e.sessionID, songsCount: i, albumsCount: (a = (o = e.alternateCounts) == null ? void 0 : o.albums) != null ? a : 0 }, s = new URLSearchParams([...Object.entries(r)]).toString(); window.addEventListener("message", this.messageHandler), this.openTransferMusicModal(`${t}?${s}`) } openTransferMusicModal(e) { this.store.internal.setIframeURL(e != null ? e : ""), this.store.internal.setModalVisibility(!0) } close() { this.dismissDefer ? this.dismissDefer.resolve({ response: 1 }) : this.dismissModal() } completeOAuth(e) { const t = new BroadcastChannel(l2); t.postMessage(e), t.close(), window.close() } async getSongShiftURL(e = "/") { var i; const t = await this.commerce.getUserSubscription(); return t ? UO(t.subscriptionStorefront, this.locale.storefront) ? `${Wh}/${(i = t.subscriptionStorefront) != null ? i : "us"}${e}` : (this.logger.error("Storefront not supported for user"), window.location.replace(o2), null) : (this.logger.error("User subscription not found"), window.location.replace(o2), null) } getSavedSession() { var r; const e = Ci("media-user-token"), t = `${ed}-${e}`; let i; try { i = window.localStorage.getItem(t) } catch (s) { this.logger.error("Unable to retrieve SongShift session:", s) } if (i) { let s; try { s = JSON.parse(i) } catch (o) { this.logger.error("Unable to parse SongShift session data:", o) } s && (new Date().getTime() <= s.exp ? (this.store.internal.updateSessionId(s.value), this.logger.debug("SongShift session data retrieved")) : (this.clearSession(t), this.logger.debug("Saved SongShift session expired"))) } else this.logger.debug("No saved SongShift sessions found"); return (r = this.store.internal.getSession().sessionID) != null ? r : null } saveSession(e) { const t = Ci("media-user-token"); if (t) { const i = new Date().getTime() + rhe; try { window.localStorage.setItem(`${ed}-${t}`, JSON.stringify({ value: e, exp: i })), this.logger.debug("Saved SongShift session") } catch (r) { this.logger.error("Unable to save SongShift session data:", r) } } else this.logger.error("Unable to save SongShift session") } updateSession(e) { const { action: t = null, itemsToReview: i = {} } = e, r = this.store.internal.getSession(); r != null && r.sessionID && (t === "review" && (this.store.internal.setAlternativeCounts(i), this.store.internal.setSession({ sessionState: Vr.InReview, sessionID: r.sessionID })), t === "close" && this.store.internal.setSession({ sessionState: Vr.Complete, sessionID: r.sessionID })) } clearSession(e) { const t = Ci("media-user-token"), i = e != null ? e : `${ed}-${t}`; try { this.store.internal.clearSession(), window.localStorage.removeItem(i) } catch (r) { this.logger.error("Could not clear SongShift session key", r) } } hideBubbleTip() { this.store.internal.setBubbleTipDismissed(!0) } invalidateExpiredSavedSessions() { this.logger.debug("Checking for expired SongShift session keys"); for (let e = 0; e < window.localStorage.length; e++) { const t = window.localStorage.key(e); if (t.startsWith(ed)) try { const i = window.localStorage.getItem(t), r = JSON.parse(i); new Date().getTime() > r.exp && this.clearSession(t) } catch (i) { this.logger.error("Error evaluating saved SongShift session data:", i), this.clearSession(t) } } } dismissModal() { this.store.internal.setModalVisibility(!1), this.dismissDefer = null, window.removeEventListener("message", this.messageHandler) } sendMessage(e) { var t, i; this.logger.debug("Message to song shift", e); try { const r = (t = document == null ? void 0 : document.querySelector(".ss-container")) == null ? void 0 : t.querySelector("iframe"); (i = r == null ? void 0 : r.contentWindow) == null || i.postMessage(e, Wh) } catch (r) { this.logger.error("Cannot communicate with SongShift", r) } } verifyOrigin(e) { return new URL(e).origin === Wh } verifyMessage(e) { var i; if (!this.verifyOrigin(e.origin)) return this.logger.warn("Unable to verify the message: Invalid Origin:", e.origin), !1; const t = (i = e.data) == null ? void 0 : i.actionType; return !t || !Object.values(qo).includes(t) ? (this.logger.warn("Unable to verify the message: Invalid Action Type", t), !1) : !0 } async handleMessage(e) { var o, a; if (!this.verifyMessage(e)) return; this.logger.debug("Message from SongShift", e.data); const { actionType: t, replyIdentifier: i, ...r } = e.data, s = await ((a = (o = this.handlers) == null ? void 0 : o.get(t)) == null ? void 0 : a.call(this, r)); s && i && this.sendMessage({ ...s, replyIdentifier: i }) } async handleGenerateAuthCode(e) { this.logger.debug("Auth code request", e); const t = await this.commerce.generateOAuthCode(e.client_id, e.scope); return { response: { authorizationCode: t == null ? void 0 : t.code, state: e.state } } } handleDismissWebView(e) { var a, l; this.logger.debug("Flow Dismissed:", e); let t = this.store.internal.getSession().sessionState, i = this.store.internal.getSession().sessionID; const { reason: r, ...s } = e; let o = "unknown"; switch (r) { case yr.Initiated: t = Vr.InProgress, o = "started"; break; case yr.ReviewComplete: case yr.ReviewDismissed: case yr.NoAlternatives: t = Vr.Complete, o = "reviewed"; break; case yr.FinishLater: case yr.ReviewError: case yr.ReviewSubmissionError: t = Vr.InReview; break; case yr.CancelSession: case yr.FailSession: { t = Vr.NotStarted, i = null; break } default: { this.logger.error("Dismiss Reason can't be handled: ", (a = Object.keys(yr).find(u => yr[u] === r)) != null ? a : `unknown (${r})`); return } }e.sessionID && this.saveSession(e.sessionID), this.store.internal.setSession({ sessionState: t, sessionID: i, ...s }), this.dismissModal(), this.jet.recordCustomMetricsEvent({ eventType: "page", extRefUrl: oA(this.store.internal.getIframeURL()), pageDetails: { referralStatus: o }, pageUrl: (l = window == null ? void 0 : window.location) == null ? void 0 : l.href }) } handleDismissListener() { return this.logger.debug("Dismiss Listener request"), this.dismissDefer = s3(), this.dismissDefer.promise } handleAuthDismissListener() { this.logger.debug("Auth Dismiss Listener request"); const e = s3(), t = new BroadcastChannel(l2); return t.onmessage = i => { e.resolve({ response: { params: `?${i.data}` } }), t.close() }, e.promise } async handleShowAlert(e) { this.logger.debug("Show Alert request", e); const t = she(this.i18n); if (t != null && t[e == null ? void 0 : e.reason]) { const i = t[e.reason], r = await io(i); return this.jet.recordCustomMetricsEvent({ eventType: "dialog", actionType: r ? "select" : "dismiss", dialogId: "UnmatchedConfirmation", dialogType: "OkCancel", message: i.message, options: [i.confirmText, i.actionText], pageUrl: window.location.href, title: i.header }), { response: r ? 1 : 0, reason: e.reason } } } } function ohe(n) { let e, t; return e = new qge({ props: { translateFn: n[0].t } }), e.$on("click", n[7]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.translateFn = i[0].t), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function ahe(n) { var i; let e, t; return e = new jge({ props: { avatarArtworkUrl: (i = n[1].user) == null ? void 0 : i.avatarArtworkUrl, helpUrl: n[0].t("ASE.Web.Music.SupportURL"), translateFn: n[0].t, items: n[2] } }), e.$on("signOut", n[6]), e.$on("settings", n[8]), { c() { V(e.$$.fragment) }, l(r) { q(e.$$.fragment, r) }, m(r, s) { H(e, r, s), t = !0 }, p(r, s) { var a; const o = {}; s & 2 && (o.avatarArtworkUrl = (a = r[1].user) == null ? void 0 : a.avatarArtworkUrl), s & 1 && (o.helpUrl = r[0].t("ASE.Web.Music.SupportURL")), s & 1 && (o.translateFn = r[0].t), s & 4 && (o.items = r[2]), e.$set(o) }, i(r) { t || (w(e.$$.fragment, r), t = !0) }, o(r) { D(e.$$.fragment, r), t = !1 }, d(r) { $(e, r) } } } function lhe(n) { let e, t, i, r; const s = [ahe, ohe], o = []; function a(l, u) { return l[1].user !== null ? 0 : l[1].isSetup ? 1 : -1 } return ~(t = a(n)) && (i = o[t] = s[t](n)), { c() { e = L("div"), i && i.c(), this.h() }, l(l) { e = T(l, "DIV", { class: !0, "data-testid": !0 }); var u = E(e); i && i.l(u), u.forEach(_), this.h() }, h() { p(e, "class", "auth-content svelte-1idfncr"), p(e, "data-testid", "auth-content") }, m(l, u) { I(l, e, u), ~t && o[t].m(e, null), r = !0 }, p(l, [u]) { let c = t; t = a(l), t === c ? ~t && o[t].p(l, u) : (i && (te(), D(o[c], 1, 1, () => { o[c] = null }), ne()), ~t ? (i = o[t], i ? i.p(l, u) : (i = o[t] = s[t](l), i.c()), w(i, 1), i.m(e, null)) : i = null) }, i(l) { r || (w(i), r = !0) }, o(l) { D(i), r = !1 }, d(l) { l && _(e), ~t && o[t].d() } } } function uhe(n, e, t) { let i, r, s, o, a, l; var u, c; const { state: d } = xt(); ce(n, d, S => t(1, l = S)); let f = Fc(); ce(n, f, S => t(14, a = S)); const g = ot(); ce(n, g, S => t(0, o = S)); const h = Tn(), m = sn(), v = () => { m(wR()) }, b = () => { const S = vr({ type: ir.Open, activePath: fi.authenticate }); m(S) }, y = () => { const S = OO(h); m(S) }; let k = []; return n.$$.update = () => { if (n.$$.dirty & 514 && t(12, i = bi(t(9, u = l.user) === null || u === void 0 ? void 0 : u.subscriberType)), n.$$.dirty & 1026 && t(13, r = t(10, c = l.user) === null || c === void 0 ? void 0 : c.subscriptionStorefront), n.$$.dirty & 8192 && t(11, s = UO(r, h.storefront)), n.$$.dirty & 22529 && i && s) { const S = C => () => { m(zu(C)) }; a.sessionState === Vr.NotStarted ? t(2, k = [{ label: o.t("ASE.Web.Music.TransferMusic.EntryPoint.Start"), action: S(es.start), icon: '<svg width="45px" height="33px" viewBox="0 0 45 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M35.2271449,-1.40964857e-05 C38.6210842,-1.40964857e-05 41.0519589,0.409206885 42.8413567,2.17747006 C44.6168832,3.93191867 45.0000425,6.33480563 45.0000425,9.72360081 L45.0000425,23.2670814 C45.0000425,26.6696911 44.6168832,29.0586226 42.8413567,30.8268858 C41.0658302,32.5952899 38.6210842,33 35.2271449,33 L21.6373749,33 C18.2434357,33 15.812561,32.5952899 14.0231632,30.8268858 C12.7209594,29.5401585 12.1682306,27.9039794 11.9658228,25.7810487 C12.3271844,25.875918 12.7043988,25.9259606 13.0906721,25.9259606 C13.9539482,25.9259606 14.7464524,25.6959059 15.4257215,25.2558136 C15.5548096,26.5285853 15.8874377,27.5708795 16.584966,28.2757038 C17.5539754,29.2267937 19.1933367,29.5259211 21.1491901,29.5259211 L35.7153298,29.5259211 C37.6711832,29.5259211 39.310686,29.2362383 40.2795539,28.2757038 C41.234692,27.3106584 41.5116934,25.7149362 41.5116934,23.7576391 L41.5116934,9.23741301 C41.5116934,7.28504974 41.2440339,5.68425282 40.2795539,4.72879301 C39.310686,3.76811751 37.6711832,3.47843473 35.7153298,3.47843473 L21.2058076,3.47843473 C19.2028201,3.47843473 17.544492,3.75881383 16.584966,4.71934837 C16.3243837,4.98267072 16.1161726,5.2956127 15.9488677,5.64985739 C15.1705179,4.95687415 14.1658394,4.57739675 13.0906721,4.57739675 C12.8926522,4.57739675 12.6970385,4.59121131 12.5045388,4.61644402 C12.83561,3.69058684 13.3236533,2.88356303 14.0326466,2.17747006 C15.8081731,0.409206885 18.2529191,-1.40964857e-05 21.5714155,-1.40964857e-05 Z M33.6814857,7.33397864 C34.7570777,7.10928066 35.2514905,7.4464686 35.2514905,8.39318858 L35.2514905,20.3987426 C35.2514905,22.8910013 33.3709384,23.9485196 31.9178489,23.9485196 C30.3665279,23.9485196 29.2350261,22.93611 29.2350261,21.5199771 C29.2350261,20.1309094 30.155486,19.2467778 31.9743249,18.8431954 L33.2618081,18.5628163 C33.5784417,18.4978315 33.7417834,18.2975204 33.7417834,17.9683675 L33.6959232,12.6651286 C33.6959232,12.3740362 33.5659859,12.3046814 33.2128339,12.3696662 L26.3936741,13.7807245 C26.0732188,13.8365465 26.0317464,13.9053374 26.0317464,14.2432302 L26.0317464,22.2452413 C26.0317464,24.7194564 24.1053341,25.8457657 22.6521031,25.8457657 C21.1190412,25.8457657 20.0151405,24.833356 20.0151405,23.421734 C20.0151405,21.977549 20.9305048,21.0339302 22.7131085,20.6803904 L24.0344206,20.4181957 C24.3316628,20.3625146 24.4485781,20.1678422 24.4485781,19.8430591 L24.4071057,10.1434082 C24.4071057,9.55840409 24.7878587,9.1704688 25.4399514,9.03782087 Z M13.0906862,7.3967221 C13.5051267,7.3967221 13.8537493,7.53627731 14.1341477,7.81905281 L20.3620787,14.0078329 L20.3755254,14.0209427 C20.754863,14.3880152 20.9637818,14.8266978 20.9637818,15.2563587 C20.9637818,15.684328 20.7579769,16.1153985 20.3705713,16.5009374 L14.1378279,22.6805548 L14.1240981,22.6945104 C13.8519092,22.9719292 13.5139024,23.1066916 13.0906862,23.1066916 C12.5828268,23.1066916 12.2552942,22.8901696 12.0697302,22.7081839 C11.8855816,22.527608 11.6659055,22.2078997 11.6659055,21.7101528 C11.6659055,21.3406839 11.8387306,20.9307581 12.1171474,20.6389608 L13.1682523,19.5694604 L16.3688426,16.7333885 L1.47488728,16.7335294 C0.971840316,16.7335294 0.639778361,16.5154568 0.459734539,16.342211 L0.42916106,16.3121855 C0.15230122,16.0350486 -2.48689958e-14,15.660082 -2.48689958e-14,15.2563587 C-2.48689958e-14,14.8496751 0.151735045,14.4731579 0.427462533,14.196162 C0.61897141,14.003745 0.956270488,13.7742542 1.47488728,13.7742542 L16.3678518,13.7739722 L13.1683938,10.9432569 L12.1170058,9.86868184 C11.9455962,9.68599138 11.6659055,9.30961521 11.6659055,8.79748989 C11.6659055,8.2976285 11.8852985,7.97707442 12.0694471,7.79607554 C12.254728,7.61394894 12.5822606,7.3967221 13.0906862,7.3967221 Z"></path></g></svg>' }]) : a.sessionState === Vr.InReview && t(2, k = [{ label: o.t("ASE.Web.Music.TransferMusic.EntryPoint.Review"), action: S(es.review), icon: "" }]) } }, [o, l, k, d, f, g, v, b, y, u, c, s, i, r, a] } class m_ extends oe { constructor(e) { super(), se(this, e, uhe, lhe, ye, {}) } } function che(n) { let e, t, i = [{ height: "20" }, { viewBox: "0 0 83 20" }, { width: "83" }, { xmlns: "http://www.w3.org/2000/svg" }, { class: "logo" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { height: !0, viewBox: !0, width: !0, xmlns: !0, class: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M34.752 19.746V6.243h-.088l-5.433 13.503h-2.074L21.711 6.243h-.087v13.503h-2.548V1.399h3.235l5.833 14.621h.1l5.82-14.62h3.248v18.347h-2.56zm16.649 0h-2.586v-2.263h-.062c-.725 1.602-2.061 2.504-4.072 2.504-2.86 0-4.61-1.894-4.61-4.958V6.37h2.698v8.125c0 2.034.95 3.127 2.81 3.127 1.95 0 3.124-1.373 3.124-3.458V6.37H51.4v13.376zm7.394-13.618c3.06 0 5.046 1.73 5.134 4.196h-2.536c-.15-1.296-1.087-2.11-2.598-2.11-1.462 0-2.436.724-2.436 1.793 0 .839.6 1.41 2.023 1.741l2.136.496c2.686.636 3.71 1.704 3.71 3.636 0 2.442-2.236 4.12-5.333 4.12-3.285 0-5.26-1.64-5.509-4.183h2.673c.25 1.398 1.187 2.085 2.836 2.085 1.623 0 2.623-.687 2.623-1.78 0-.865-.487-1.373-1.924-1.704l-2.136-.508c-2.498-.585-3.735-1.806-3.735-3.75 0-2.391 2.049-4.032 5.072-4.032zM66.1 2.836c0-.878.7-1.577 1.561-1.577.862 0 1.55.7 1.55 1.577 0 .864-.688 1.576-1.55 1.576a1.573 1.573 0 0 1-1.56-1.576zm.212 3.534h2.698v13.376h-2.698zm14.089 4.603c-.275-1.424-1.324-2.556-3.085-2.556-2.086 0-3.46 1.767-3.46 4.64 0 2.938 1.386 4.642 3.485 4.642 1.66 0 2.748-.928 3.06-2.48H83C82.713 18.067 80.477 20 77.317 20c-3.76 0-6.208-2.62-6.208-6.942 0-4.247 2.448-6.93 6.183-6.93 3.385 0 5.446 2.213 5.683 4.845h-2.573zM10.824 3.189c-.698.834-1.805 1.496-2.913 1.398-.145-1.128.41-2.33 1.036-3.065C9.644.662 10.848.05 11.835 0c.121 1.178-.336 2.33-1.01 3.19zm.999 1.619c.624.049 2.425.244 3.578 1.98-.096.074-2.137 1.272-2.113 3.79.024 3.01 2.593 4.012 2.617 4.037-.024.074-.407 1.419-1.344 2.812-.817 1.224-1.657 2.422-3.002 2.447-1.297.024-1.73-.783-3.218-.783-1.489 0-1.97.758-3.194.807-1.297.048-2.28-1.297-3.097-2.52C.368 14.908-.904 10.408.825 7.375c.84-1.516 2.377-2.47 4.034-2.495 1.273-.023 2.45.857 3.218.857.769 0 2.137-1.027 3.746-.93z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ height: "20" }, { viewBox: "0 0 83 20" }, { width: "83" }, { xmlns: "http://www.w3.org/2000/svg" }, { class: "logo" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function dhe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let fhe = class extends oe { constructor(e) { super(), se(this, e, dhe, che, ht, {}) } }; function ghe(n) { let e, t, i, r = [{ xmlns: "http://www.w3.org/2000/svg" }, { width: "32" }, { height: "14" }, { viewBox: "0 0 32 14" }, { class: "beta" }, n[0]], s = {}; for (let o = 0; o < r.length; o += 1)s = fe(s, r[o]); return { c() { e = ve("svg"), t = ve("style"), i = ve("path"), this.h() }, l(o) { e = be(o, "svg", { xmlns: !0, width: !0, height: !0, viewBox: !0, class: !0 }); var a = E(e); t = be(a, "style", {}); var l = E(t); l.forEach(_), i = be(a, "path", { fill: !0, "fill-rule": !0, d: !0, opacity: !0, style: !0 }), E(i).forEach(_), a.forEach(_), this.h() }, h() { p(i, "fill", "#4E4E4E"), p(i, "fill-rule", "evenodd"), p(i, "d", "M6.08 0h19.84c1.83 0 2.7.23 3.52.67a4.54 4.54 0 0 1 1.9 1.89c.43.81.66 1.69.66 3.52v1.84c0 1.83-.23 2.7-.67 3.52a4.54 4.54 0 0 1-1.89 1.9c-.81.43-1.69.66-3.52.66H6.08c-1.83 0-2.7-.23-3.52-.67a4.54 4.54 0 0 1-1.9-1.89C.24 10.63 0 9.75 0 7.92V6.08c0-1.83.23-2.7.67-3.52A4.54 4.54 0 0 1 2.56.66C3.37.24 4.25 0 6.08 0zm3.1 10c1.43 0 2.34-.76 2.34-1.93a1.6 1.6 0 0 0-1.56-1.58V6.4c.71-.1 1.25-.7 1.25-1.42 0-1.04-.79-1.67-2.13-1.67H5.96V10h3.22zM7.67 4.5h.96c.58 0 .92.3.92.77 0 .48-.36.76-.99.76h-.9V4.51zm0 4.3V7.07h1.02c.7 0 1.1.3 1.1.85 0 .57-.39.88-1.1.88H7.67zm7.98-.32c-.1.3-.44.48-.91.48-.63 0-1.02-.42-1.03-1.1v-.08h3.47v-.45c0-1.65-.92-2.61-2.51-2.61-1.6 0-2.57 1.03-2.57 2.73s.94 2.67 2.59 2.67c1.33 0 2.28-.63 2.46-1.64h-1.5zm-.98-2.6c.55 0 .9.36.92.96h-1.87c.04-.58.42-.96.95-.96zm3.71-2.23v1.26h-.8v1.22h.8v2.46c0 1 .54 1.42 1.9 1.42.3 0 .6-.03.78-.07V8.78l-.41.02c-.43 0-.63-.2-.63-.58v-2.1h1.04v-1.2h-1.04V3.65h-1.64zm4.93 6.43c.66 0 1.22-.28 1.46-.72h.08V10h1.6V6.48c0-1.11-.81-1.76-2.24-1.76-1.4 0-2.3.62-2.38 1.62h1.47c.11-.27.39-.42.82-.42.46 0 .72.21.72.56v.4l-1.13.07c-1.33.08-2.07.62-2.07 1.57 0 .94.68 1.56 1.67 1.56zm.6-1.15c-.41 0-.68-.2-.68-.53 0-.31.25-.5.74-.54l.87-.05v.33c0 .45-.4.8-.93.8z"), p(i, "opacity", ".4"), Pt(i, "fill", "#4e4e4e"), Pt(i, "opacity", ".4"), Le(e, s) }, m(o, a) { I(o, e, a), A(e, t), A(e, i) }, p(o, [a]) { Le(e, s = at(r, [{ xmlns: "http://www.w3.org/2000/svg" }, { width: "32" }, { height: "14" }, { viewBox: "0 0 32 14" }, { class: "beta" }, a & 1 && o[0]])) }, i: j, o: j, d(o) { o && _(e) } } } function hhe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let mhe = class extends oe { constructor(e) { super(), se(this, e, hhe, ghe, ht, {}) } }; const HO = "beta.music.apple.com", phe = `https://${HO}`; function $O() { return typeof window > "u" ? !1 : window.location.hostname === HO } function _he(n) { let e, t; return e = new mhe({ props: { "aria-hidden": "true" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function vhe(n) { let e, t, i, r = $O(), s, o, a, l, u; i = new fhe({ props: { "aria-hidden": "true" } }); let c = r && _he(); return { c() { e = L("div"), t = L("a"), V(i.$$.fragment), c && c.c(), this.h() }, l(d) { e = T(d, "DIV", { "data-testid": !0, class: !0 }); var f = E(e); t = T(f, "A", { "aria-label": !0, role: !0, href: !0, class: !0 }); var g = E(t); q(i.$$.fragment, g), c && c.l(g), g.forEach(_), f.forEach(_), this.h() }, h() { p(t, "aria-label", s = n[2].t("ASE.Web.Music.AppleMusic")), p(t, "role", "img"), p(t, "href", n[1]), p(t, "class", "svelte-1o7dz8w"), p(e, "data-testid", "logo"), p(e, "class", "logo svelte-1o7dz8w") }, m(d, f) { I(d, e, f), A(e, t), H(i, t, null), c && c.m(t, null), a = !0, l || (u = [Ut(o = va.call(null, t, n[0])), Me(t, "click", n[5])], l = !0) }, p(d, [f]) { (!a || f & 4 && s !== (s = d[2].t("ASE.Web.Music.AppleMusic"))) && p(t, "aria-label", s), (!a || f & 2) && p(t, "href", d[1]), o && Ft(o.update) && f & 1 && o.update.call(null, d[0]) }, i(d) { a || (w(i.$$.fragment, d), w(c), a = !0) }, o(d) { D(i.$$.fragment, d), D(c), a = !1 }, d(d) { d && _(e), $(i), c && c.d(), l = !1, Ot(u) } } } function bhe(n, e, t) { let i, r, s, o, a, l; const u = ot(); ce(n, u, g => t(2, l = g)); const c = Tn(), { state: d } = xt(); ce(n, d, g => t(8, a = g)); const f = () => Cn.set(r.id); return n.$$.update = () => { n.$$.dirty & 256 && t(7, i = a.user !== null), n.$$.dirty & 128 && t(6, r = i ? DO : SO), n.$$.dirty & 64 && t(1, s = sl(r.url, c)), n.$$.dirty & 64 && t(0, o = r.opaqueData(c)) }, [o, s, l, u, d, f, r, i, a] } class yhe extends oe { constructor(e) { super(), se(this, e, bhe, vhe, ye, {}) } } function whe(n) { let e, t, i = [{ height: "16" }, { width: "16" }, { viewBox: "0 0 16 16" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { height: !0, width: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M11.87 10.835c.018.015.035.03.051.047l3.864 3.863a.735.735 0 1 1-1.04 1.04l-3.863-3.864a.744.744 0 0 1-.047-.051 6.667 6.667 0 1 1 1.035-1.035zM6.667 12a5.333 5.333 0 1 0 0-10.667 5.333 5.333 0 0 0 0 10.667z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ height: "16" }, { width: "16" }, { viewBox: "0 0 16 16" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function khe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let VO = class extends oe { constructor(e) { super(), se(this, e, khe, whe, ht, {}) } }; function Dhe(n) { let e, t, i, r, s, o, a, l, u, c; return e = new VO({ props: { class: "search-suggestion-svg", "aria-hidden": "true" } }), { c() { V(e.$$.fragment), t = Y(), i = L("span"), r = L("span"), s = le(n[2]), o = L("span"), a = le(n[1]), l = L("span"), u = le(n[0]), this.h() }, l(d) { q(e.$$.fragment, d), t = X(d), i = T(d, "SPAN", { class: !0 }); var f = E(i); r = T(f, "SPAN", { "data-testid": !0 }); var g = E(r); s = ue(g, n[2]), g.forEach(_), o = T(f, "SPAN", { class: !0, "data-testid": !0 }); var h = E(o); a = ue(h, n[1]), h.forEach(_), l = T(f, "SPAN", { "data-testid": !0 }); var m = E(l); u = ue(m, n[0]), m.forEach(_), f.forEach(_), this.h() }, h() { p(r, "data-testid", "suggestion-autofill-before"), p(o, "class", "highlighted svelte-1i0w8bs"), p(o, "data-testid", "suggestion-autofill-highlighted"), p(l, "data-testid", "suggestion-autofill-after"), p(i, "class", "suggestion svelte-1i0w8bs") }, m(d, f) { H(e, d, f), I(d, t, f), I(d, i, f), A(i, r), A(r, s), A(i, o), A(o, a), A(i, l), A(l, u), c = !0 }, p(d, [f]) { (!c || f & 4) && me(s, d[2]), (!c || f & 2) && me(a, d[1]), (!c || f & 1) && me(u, d[0]) }, i(d) { c || (w(e.$$.fragment, d), c = !0) }, o(d) { D(e.$$.fragment, d), c = !1 }, d(d) { d && (_(t), _(i)), $(e, d) } } } function She(n, e, t) { let i, r, s, { suggestion: o } = e; return n.$$set = a => { "suggestion" in a && t(3, o = a.suggestion) }, n.$$.update = () => { n.$$.dirty & 8 && t(2, i = o.autofillBefore), n.$$.dirty & 8 && t(1, r = o.highlighted), n.$$.dirty & 8 && t(0, s = o.autofillAfter) }, [s, r, i, o] } class zO extends oe { constructor(e) { super(), se(this, e, She, Dhe, ye, { suggestion: 3 }) } } class u2 extends Error { constructor() { super("component was destroyed before tick resolved."), this.name = "DestroyedError" } } const p_ = () => { let n = !1; return mn(() => { n = !0 }), async e => { try { await e(async () => { if (await jU(), n) throw new u2 }) } catch (t) { if (!(t instanceof u2)) throw t } } }; class Che { constructor() { He(this, "queue"); He(this, "RAF_FN_LIMIT_MS"); He(this, "requestId"); this.queue = [], this.RAF_FN_LIMIT_MS = 3, this.requestId = null } flush() { this.requestId = this.queue.length === 0 ? null : window.requestAnimationFrame(e => { const t = window.performance.now(); let i = 0; const { RAF_FN_LIMIT_MS: r } = this; let s = 0; for (; s < this.queue.length && i < r;) { let a = this.queue[s]; a && a(e); const l = window.performance.now(); s = s + 1, i = l - t } const o = this.queue.slice(s); this.queue = o, this.flush() }) } add(e) { this.queue.push(e), this.requestId === null && this.flush() } } let td = null; const To = () => (typeof window > "u" ? td = { add: n => n() } : td === null && (td = new Che), td); function Phe() { const n = new WeakMap, { subscribe: e, update: t } = Tt(n); return { subscribe: e, addEntry: (i, r) => { t(s => (s.set(i, r), s)) }, cleanupEntry: i => { t(r => (r.delete(i), r)) } } } const Ahe = n => ({ isVisible: n & 1 }), c2 = n => ({ isVisible: n[0] }); function Ehe(n) { let e; const t = n[4].default, i = We(t, n, n[3], c2); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, [s]) { i && i.p && (!e || s & 9) && Je(i, t, r, r[3], e ? Ke(t, r[3], s, Ahe) : Ye(r[3]), c2) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } const Ihe = To(); let Ju = null, Bp = null; const Mhe = () => { let n = { root: null, rootMargin: "0px", threshold: 0 }; return new IntersectionObserver(e => { e.forEach(t => { Ihe.add(() => { $t(Ju).get(t.target) || Ju.addEntry(t.target, t.isIntersecting) }) }) }, n) }; xP && (Bp = Mhe(), Ju = Phe()); function Lhe(n, e, t) { let { $$slots: i = {}, $$scope: r } = e, s = !1, o, a = !1, l = () => { }; const u = () => { l(), Bp.unobserve(o), Ju.cleanupEntry(o) }; function c(d) { o = d, t(2, s = !0), Bp.observe(o), l = Ju.subscribe(f => { t(0, a = f.get(o)) }) } return mn(() => { s && u() }), n.$$set = d => { "$$scope" in d && t(3, r = d.$$scope) }, n.$$.update = () => { n.$$.dirty & 5 && a && s && (u(), t(2, s = !1)) }, [a, c, s, r, i] } class The extends oe { constructor(e) { super(), se(this, e, Lhe, Ehe, ye, { onSlotMount: 1 }) } get onSlotMount() { return this.$$.ctx[1] } } const Rhe = n => ({ isVisible: n & 1 }), d2 = n => ({ isVisible: n[0] }); function Fhe(n) { let e; const t = n[4].default, i = We(t, n, n[3], d2); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, [s]) { i && i.p && (!e || s & 9) && Je(i, t, r, r[3], e ? Ke(t, r[3], s, Rhe) : Ye(r[3]), d2) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function Ohe(n, e, t) { let i, { $$slots: r = {}, $$scope: s } = e, o = !1; function a(u) { t(2, o = !0) } const l = typeof window > "u"; return n.$$set = u => { "$$scope" in u && t(3, s = u.$$scope) }, n.$$.update = () => { n.$$.dirty & 4 && t(0, i = o || l) }, [i, a, o, s, r] } class Nhe extends oe { constructor(e) { super(), se(this, e, Ohe, Fhe, ye, { onSlotMount: 1 }) } get onSlotMount() { return this.$$.ctx[1] } } const Bhe = n => ({ isVisible: n & 128 }), f2 = n => ({ isVisible: n[7] }), Uhe = n => ({ isVisible: n & 128 }), g2 = n => ({ isVisible: n[7] }); function Hhe(n) { let e, t, i = { $$slots: { default: [Vhe, ({ isVisible: r }) => ({ 7: r }), ({ isVisible: r }) => r ? 128 : 0] }, $$scope: { ctx: n } }; return e = new Nhe({ props: i }), n[5](e), { c() { V(e.$$.fragment) }, l(r) { q(e.$$.fragment, r) }, m(r, s) { H(e, r, s), t = !0 }, p(r, s) { const o = {}; s & 192 && (o.$$scope = { dirty: s, ctx: r }), e.$set(o) }, i(r) { t || (w(e.$$.fragment, r), t = !0) }, o(r) { D(e.$$.fragment, r), t = !1 }, d(r) { n[5](null), $(e, r) } } } function $he(n) { let e, t, i = { $$slots: { default: [zhe, ({ isVisible: r }) => ({ 7: r }), ({ isVisible: r }) => r ? 128 : 0] }, $$scope: { ctx: n } }; return e = new The({ props: i }), n[4](e), { c() { V(e.$$.fragment) }, l(r) { q(e.$$.fragment, r) }, m(r, s) { H(e, r, s), t = !0 }, p(r, s) { const o = {}; s & 192 && (o.$$scope = { dirty: s, ctx: r }), e.$set(o) }, i(r) { t || (w(e.$$.fragment, r), t = !0) }, o(r) { D(e.$$.fragment, r), t = !1 }, d(r) { n[4](null), $(e, r) } } } function Vhe(n) { let e; const t = n[3].default, i = We(t, n, n[6], f2); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 192) && Je(i, t, r, r[6], e ? Ke(t, r[6], s, Bhe) : Ye(r[6]), f2) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function zhe(n) { let e; const t = n[3].default, i = We(t, n, n[6], g2); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 192) && Je(i, t, r, r[6], e ? Ke(t, r[6], s, Uhe) : Ye(r[6]), g2) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function qhe(n) { let e, t, i, r; const s = [$he, Hhe], o = []; function a(l, u) { return l[0] === ff.LAZY && xP ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, [u]) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } const ff = { LAZY: "LAZY", NONE: "NONE" }; function Whe(n, e, t) { let { $$slots: i = {}, $$scope: r } = e, { loaderType: s = ff.LAZY } = e, o; function a(c) { o.onSlotMount(c) } function l(c) { wt[c ? "unshift" : "push"](() => { o = c, t(1, o) }) } function u(c) { wt[c ? "unshift" : "push"](() => { o = c, t(1, o) }) } return n.$$set = c => { "loaderType" in c && t(0, s = c.loaderType), "$$scope" in c && t(6, r = c.$$scope) }, [s, o, a, i, l, u, r] } class Khe extends oe { constructor(e) { super(), se(this, e, Whe, qhe, ye, { loaderType: 0, onSlotMount: 2 }) } get onSlotMount() { return this.$$.ctx[2] } } const __ = "shelf-aspect-ratio", v_ = () => gi(__), Up = () => QU(__), Jhe = n => { const { subscribe: e, update: t } = Tt(new Map), i = o => { const a = tf(o).toFixed(2); t(l => { const u = l.get(a), c = l.has(a) ? u + 1 : 0; return l.set(a, c), l }) }; return { shelfAspectRatio: xu({ subscribe: e, addProfile: i }, o => { let a = null; if (o.size > 1) { if (n.type === "fixed") a = n.aspectRatio; else if (n.type === "dominant") { let l = 0; for (const [u, c] of o.entries()) l < c && (a = u, l = c) } } return a }), addProfile: i } }, Yhe = n => (ZU(__, Jhe(n)), v_()), Xhe = "shared-components:preconnect-tracker"; function qO() { return gi(Xhe) } const Zhe = /^rgba?\(\s*[\d.]+\s*%?\s*(,\s*[\d.]+\s*%?\s*){2,3}\)$/, Qhe = /^([0-9a-f]{3}){1,2}$/i, jhe = n => { const e = n == null ? void 0 : n.replace("#", ""); return Qhe.test(e) ? `#${e}` : Zhe.test(e) ? e : "" }; const Ghe = n => ({}), h2 = n => ({}), xhe = n => ({}), m2 = n => ({}); function eme(n) { let e, t; const i = n[43]["placeholder-component"], r = We(i, n, n[46], h2); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0, "data-testid": !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "artwork-component__contents svelte-uduhys"), p(e, "data-testid", "artwork-component__placeholder") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o[1] & 32768) && Je(r, i, s, s[46], t ? Ke(i, s[46], o, Ghe) : Ye(s[46]), h2) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function tme(n) { let e, t; const i = n[43]["loading-component"], r = We(i, n, n[46], m2); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0, "data-testid": !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "artwork-component__contents svelte-uduhys"), p(e, "data-testid", "artwork-component__loading") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o[1] & 32768) && Je(r, i, s, s[46], t ? Ke(i, s[46], o, xhe) : Ye(s[46]), m2) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function p2(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m = n[27] && _2(n); return { c() { e = L("picture"), m && m.c(), t = Y(), i = L("source"), o = Y(), a = L("img"), this.h() }, l(v) { e = T(v, "PICTURE", { class: !0 }); var b = E(e); m && m.l(b), t = X(b), i = T(b, "SOURCE", { sizes: !0, srcset: !0, type: !0 }), o = X(b), a = T(b, "IMG", { alt: !0, class: !0, loading: !0, src: !0, role: !0, decoding: !0, width: !0, height: !0 }), b.forEach(_), this.h() }, h() { var v, b; p(i, "sizes", n[24]), IP(i, r = n[28]) || p(i, "srcset", r), p(i, "type", s = tp[n[29]]), p(a, "alt", n[0]), p(a, "class", "artwork-component__contents artwork-component__image svelte-uduhys"), p(a, "loading", l = n[3] ? "lazy" : null), ji(a.src, u = "/assets/artwork/1x1.gif") || p(a, "src", u), p(a, "role", c = n[9] ? "presentation" : null), p(a, "decoding", "async"), p(a, "width", d = `${n[18].width}`), p(a, "height", f = `${n[18].height + ((b = (v = n[6]) == null ? void 0 : v.height) != null ? b : 0)}`), Pt(a, "opacity", n[26]), p(e, "class", "svelte-uduhys") }, m(v, b) { I(v, e, b), m && m.m(e, null), A(e, t), A(e, i), A(e, o), A(e, a), g || (h = [Me(a, "load", n[30]), Me(a, "error", n[32])], g = !0) }, p(v, b) { var y, k; v[27] ? m ? m.p(v, b) : (m = _2(v), m.c(), m.m(e, t)) : m && (m.d(1), m = null), b[0] & 16777216 && p(i, "sizes", v[24]), b[0] & 268435456 && r !== (r = v[28]) && p(i, "srcset", r), b[0] & 536870912 && s !== (s = tp[v[29]]) && p(i, "type", s), b[0] & 1 && p(a, "alt", v[0]), b[0] & 8 && l !== (l = v[3] ? "lazy" : null) && p(a, "loading", l), b[0] & 512 && c !== (c = v[9] ? "presentation" : null) && p(a, "role", c), b[0] & 262144 && d !== (d = `${v[18].width}`) && p(a, "width", d), b[0] & 262208 && f !== (f = `${v[18].height + ((k = (y = v[6]) == null ? void 0 : y.height) != null ? k : 0)}`) && p(a, "height", f), b[0] & 67108864 && Pt(a, "opacity", v[26]) }, d(v) { v && _(e), m && m.d(), g = !1, Ot(h) } } } function _2(n) { let e, t; return { c() { e = L("source"), this.h() }, l(i) { e = T(i, "SOURCE", { sizes: !0, srcset: !0, type: !0 }), this.h() }, h() { p(e, "sizes", n[24]), IP(e, t = n[27]) || p(e, "srcset", t), p(e, "type", tp.webp) }, m(i, r) { I(i, e, r) }, p(i, r) { r[0] & 16777216 && p(e, "sizes", i[24]), r[0] & 134217728 && t !== (t = i[27]) && p(e, "srcset", t) }, d(i) { i && _(e) } } } function nme(n) { let e, t = !n[15] && n[49] && p2(n); return { c() { t && t.c(), e = re() }, l(i) { t && t.l(i), e = re() }, m(i, r) { t && t.m(i, r), I(i, e, r) }, p(i, r) { !i[15] && i[49] ? t ? t.p(i, r) : (t = p2(i), t.c(), t.m(e.parentNode, e)) : t && (t.d(1), t = null) }, d(i) { i && _(e), t && t.d(i) } } } function ime(n) { let e, t, i, r, s, o, a, l, u; const c = [tme, eme], d = []; function f(h, m) { return h[14] && h[34]["loading-component"] ? 0 : h[15] && h[34]["placeholder-component"] ? 1 : -1 } ~(t = f(n)) && (i = d[t] = c[t](n)); let g = { loaderType: n[25], $$slots: { default: [nme, ({ isVisible: h }) => ({ 49: h }), ({ isVisible: h }) => [0, h ? 262144 : 0]] }, $$scope: { ctx: n } }; return s = new Khe({ props: g }), n[44](s), { c() { e = L("div"), i && i.c(), r = Y(), V(s.$$.fragment), this.h() }, l(h) { e = T(h, "DIV", { "data-testid": !0, id: !0, class: !0, style: !0 }); var m = E(e); i && i.l(m), r = X(m), q(s.$$.fragment, m), m.forEach(_), this.h() }, h() { p(e, "data-testid", "artwork-component"), p(e, "id", n[1]), p(e, "class", o = ys(`artwork-component artwork-component--aspect-ratio artwork-component--orientation-${n[33](n[16])}`) + " svelte-uduhys"), p(e, "style", n[23]), J(e, "container-style", n[4]), J(e, "artwork-component--downloaded", !n[14] && n[13]), J(e, "artwork-component--error", n[15]), J(e, "artwork-component--fullwidth", n[7]), J(e, "artwork-component--top-rounded-secondary", n[2]), J(e, "artwork-component--auto-center", !n[8] && (n[22] || !n[12])), J(e, "artwork-component--bg-override", n[21]), J(e, "artwork-component--has-borders", !n[17] && !n[10]), J(e, "artwork-component--no-anchor", n[5]) }, m(h, m) { I(h, e, m), ~t && d[t].m(e, null), A(e, r), H(s, e, null), n[45](e), a = !0, l || (u = Me(e, "transitionend", n[31]), l = !0) }, p(h, m) { let v = t; t = f(h), t === v ? ~t && d[t].p(h, m) : (i && (te(), D(d[v], 1, 1, () => { d[v] = null }), ne()), ~t ? (i = d[t], i ? i.p(h, m) : (i = d[t] = c[t](h), i.c()), w(i, 1), i.m(e, r)) : i = null); const b = {}; m[0] & 33554432 && (b.loaderType = h[25]), m[0] & 1023705673 | m[1] & 294912 && (b.$$scope = { dirty: m, ctx: h }), s.$set(b), (!a || m[0] & 2) && p(e, "id", h[1]), (!a || m[0] & 65536 && o !== (o = ys(`artwork-component artwork-component--aspect-ratio artwork-component--orientation-${h[33](h[16])}`) + " svelte-uduhys")) && p(e, "class", o), (!a || m[0] & 8388608) && p(e, "style", h[23]), (!a || m[0] & 65552) && J(e, "container-style", h[4]), (!a || m[0] & 90112) && J(e, "artwork-component--downloaded", !h[14] && h[13]), (!a || m[0] & 98304) && J(e, "artwork-component--error", h[15]), (!a || m[0] & 65664) && J(e, "artwork-component--fullwidth", h[7]), (!a || m[0] & 65540) && J(e, "artwork-component--top-rounded-secondary", h[2]), (!a || m[0] & 4264192) && J(e, "artwork-component--auto-center", !h[8] && (h[22] || !h[12])), (!a || m[0] & 2162688) && J(e, "artwork-component--bg-override", h[21]), (!a || m[0] & 197632) && J(e, "artwork-component--has-borders", !h[17] && !h[10]), (!a || m[0] & 65568) && J(e, "artwork-component--no-anchor", h[5]) }, i(h) { a || (w(i), w(s.$$.fragment, h), a = !0) }, o(h) { D(i), D(s.$$.fragment, h), a = !1 }, d(h) { h && _(e), ~t && d[t].d(), n[44](null), $(s), n[45](null), l = !1, u() } } } function rme(n, e, t) {
    let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P = j, M = () => (P(), P = yn(Ce, Fe => t(42, C = Fe)), Ce); n.$$.on_destroy.push(() => P()); let { $$slots: R = {}, $$scope: F } = e; const N = wn(R), O = qO(); let { artwork: B } = e, { alt: U = "" } = e, { id: K = void 0 } = e, { profile: W } = e, { imageSettings: Z = {} } = e, { topRoundedSecondary: Q = !1 } = e, { lazyLoad: G = !0 } = e, { useContainerStyle: ae = !0 } = e, { noShelfChevronAnchor: ee = !1 } = e, { chinConfig: pe = void 0 } = e, { forceFullWidth: ke = !0 } = e, { disableAutoCenter: we = !1 } = e, { isDecorative: Te = !U } = e, { withoutBorder: ge = !1 } = e, Ce = null; if (M(), Up()) { const { addProfile: Fe, shelfAspectRatio: Be } = v_(); Fe(W), M(Ce = Be) } let he = !0; const Ae = Fe => { const Be = Fe.target; if (Be.naturalHeight !== 0 && Be.naturalWidth !== 0) { const lt = Math.round(Be.naturalWidth / Be.naturalHeight * 100) / 100, _t = Math.round(h * 100) / 100; lt !== _t && Math.abs((lt - _t) / ((lt + _t) / 2)) > .1 && t(12, he = !1) } t(14, r = !1) }; let ze = !1; const Pe = Fe => { const Be = Fe.target; parseFloat(Be.style.opacity) === 1 ? t(13, ze = !0) : t(13, ze = !1) }, Oe = () => { t(15, s = !0), t(14, r = !1) }; let _e, Se; const Re = p_(); Yt(async () => { await Re(async Fe => { await Fe(), _e.onSlotMount(Se) }) }); const Ze = Fe => { let Be; return Fe === 1 ? Be = "square" : Fe > 1 ? Be = "landscape" : Be = "portrait", Be }; function De(Fe) { wt[Fe ? "unshift" : "push"](() => { _e = Fe, t(19, _e) }) } function xe(Fe) { wt[Fe ? "unshift" : "push"](() => { Se = Fe, t(20, Se) }) } return n.$$set = Fe => { "artwork" in Fe && t(35, B = Fe.artwork), "alt" in Fe && t(0, U = Fe.alt), "id" in Fe && t(1, K = Fe.id), "profile" in Fe && t(36, W = Fe.profile), "imageSettings" in Fe && t(37, Z = Fe.imageSettings), "topRoundedSecondary" in Fe && t(2, Q = Fe.topRoundedSecondary), "lazyLoad" in Fe && t(3, G = Fe.lazyLoad), "useContainerStyle" in Fe && t(4, ae = Fe.useContainerStyle), "noShelfChevronAnchor" in Fe && t(5, ee = Fe.noShelfChevronAnchor), "chinConfig" in Fe && t(6, pe = Fe.chinConfig), "forceFullWidth" in Fe && t(7, ke = Fe.forceFullWidth), "disableAutoCenter" in Fe && t(8, we = Fe.disableAutoCenter), "isDecorative" in Fe && t(9, Te = Fe.isDecorative), "withoutBorder" in Fe && t(10, ge = Fe.withoutBorder), "$$scope" in Fe && t(46, F = Fe.$$scope) }, n.$$.update = () => {
        var Fe; n.$$.dirty[1] & 16 && t(38, i = B && B.template), n.$$.dirty[1] & 128 && t(14, r = !!i), n.$$.dirty[1] & 16 && t(15, s = !B), n.$$.dirty[1] & 16 && t(41, o = B == null ? void 0 : B.backgroundColor), n.$$.dirty[1] & 64 && t(29, { fileType: a = jP } = Z, a), n.$$.dirty[1] & 64 && t(17, l = (Fe = Z == null ? void 0 : Z.hasTransparentBackground) != null ? Fe : !1), n.$$.dirty[0] & 131072 | n.$$.dirty[1] & 1024 && t(39, u = l ? "transparent" : jhe(o)), n.$$.dirty[0] & 64 | n.$$.dirty[1] & 112 && t(28, c = B && gb(B, Z, W, pe)), n.$$.dirty[0] & 64 | n.$$.dirty[1] & 112 && t(27, d = B && gb(B, Object.assign({}, Z, { fileType: "webp" }), W, pe)), n.$$.dirty[1] & 32 && t(40, f = tf(W)), n.$$.dirty[1] & 32 && t(18, g = nte(W)), n.$$.dirty[0] & 262208 | n.$$.dirty[1] & 512 && t(16, h = (() => { var ie; const Be = (ie = pe == null ? void 0 : pe.height) != null ? ie : 0; if (Be === 0 || f === null) return f; const lt = g.height, _t = g.width, et = lt + Be; return _t / et })()), n.$$.dirty[0] & 16384 && t(26, m = `${r && typeof window < "u" ? 0 : 1}`), n.$$.dirty[0] & 8 && t(25, v = G && typeof window < "u" ? ff.LAZY : ff.NONE), n.$$.dirty[1] & 48 && t(24, b = dte(W, B == null ? void 0 : B.width)), n.$$.dirty[0] & 237568 | n.$$.dirty[1] & 256 && t(23, y = (() => {
            const Be = N["placeholder-component"] && s || ze || l ? "transparent" : `${u}`, lt = u ? `--artwork-bg-color: ${u};` : "", _t = Be ? `--placeholder-bg-color: ${Be};` : ""; return `
            ${lt}
            --aspect-ratio: ${h !== null ? h : 1};
            ${_t}
       `})()), n.$$.dirty[1] & 128 && (O == null || O.trackUrl(i)), n.$$.dirty[0] & 2048 | n.$$.dirty[1] & 2048 && t(22, k = Ce !== null && C !== null), n.$$.dirty[0] & 71680 | n.$$.dirty[1] & 2048 && t(21, S = (() => { let Be = !1; if (Ce !== null) { const lt = parseFloat(C); if (!isNaN(lt)) { const _t = Math.round(lt * 100) / 100, et = Math.round(h * 100) / 100; _t !== et && (Be = !0) } } else he || (Be = !0); return Be })())
    }, [U, K, Q, G, ae, ee, pe, ke, we, Te, ge, Ce, he, ze, r, s, h, l, g, _e, Se, S, k, y, b, v, m, d, c, a, Ae, Pe, Oe, Ze, N, B, W, Z, i, u, f, o, C, R, De, xe, F]
} class ba extends oe { constructor(e) { super(), se(this, e, rme, ime, ye, { artwork: 35, alt: 0, id: 1, profile: 36, imageSettings: 37, topRoundedSecondary: 2, lazyLoad: 3, useContainerStyle: 4, noShelfChevronAnchor: 5, chinConfig: 6, forceFullWidth: 7, disableAutoCenter: 8, isDecorative: 9, withoutBorder: 10 }, null, [-1, -1]) } } function sme(n) {
    let e, t, i, r, s, o; return {
        c() {
            e = ve("svg"), t = ve("style"), i = le(`:root {
            --icon: rgba(60, 60, 67, 0.18);
            color-scheme: light dark;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --icon: rgba(235, 235, 245, 0.16);
            }
        }
    `), r = ve("g"), s = ve("path"), o = ve("path"), this.h()
        }, l(a) {
            e = be(a, "svg", { viewBox: !0, xmlns: !0, width: !0, height: !0 }); var l = E(e); t = be(l, "style", {}); var u = E(t); i = ue(u, `:root {
            --icon: rgba(60, 60, 67, 0.18);
            color-scheme: light dark;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --icon: rgba(235, 235, 245, 0.16);
            }
        }
    `), u.forEach(_), r = be(l, "g", { fill: !0, "fill-rule": !0 }); var c = E(r); s = be(c, "path", { fill: !0, d: !0 }), E(s).forEach(_), o = be(c, "path", { fill: !0, d: !0, "fill-rule": !0 }), E(o).forEach(_), c.forEach(_), l.forEach(_), this.h()
        }, h() { p(s, "fill", "var(--genericJoeColor)"), p(s, "d", "M0 0h100v100H0z"), p(o, "fill", "var(--icon)"), p(o, "d", "M34.098 73.66c3.256 0 8.153-2.404 8.153-8.873v-21c0-1.146.202-1.393 1.235-1.596L61.5 38.485c1.146-.247 1.595.045 1.595 1.078l.157 14.083c0 1.146-.584 1.865-1.64 2.09l-3.346.74c-4.493.966-6.694 3.078-6.694 6.447 0 3.347 2.718 5.795 6.424 5.795 3.257 0 8.064-2.291 8.064-8.738V28.76c0-2.112-.966-2.763-3.392-2.291l-21.27 4.402c-1.483.292-2.27 1.1-2.27 2.381l.136 25.358c0 1.056-.494 1.775-1.438 1.954l-3.504.72c-4.447.943-6.558 3.166-6.558 6.603 0 3.391 2.628 5.772 6.334 5.772Z"), p(o, "fill-rule", "nonzero"), p(r, "fill", "none"), p(r, "fill-rule", "evenodd"), p(e, "viewBox", "0 0 100 100"), p(e, "xmlns", "http://www.w3.org/2000/svg"), p(e, "width", "100"), p(e, "height", "100") }, m(a, l) { I(a, e, l), A(e, t), A(t, i), A(e, r), A(r, s), A(r, o) }, p: j, i: j, o: j, d(a) { a && _(e) }
    }
} class WO extends oe { constructor(e) { super(), se(this, e, null, sme, ye, {}) } } function ome(n) {
    let e, t, i, r, s, o; return {
        c() {
            e = ve("svg"), t = ve("style"), i = le(`:root {
            --icon: rgba(60, 60, 67, 0.18);
            color-scheme: light dark;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --icon: rgb(235, 235, 245, 0.16);
            }
        }
    `), r = ve("g"), s = ve("path"), o = ve("path"), this.h()
        }, l(a) {
            e = be(a, "svg", { viewBox: !0, xmlns: !0 }); var l = E(e); t = be(l, "style", {}); var u = E(t); i = ue(u, `:root {
            --icon: rgba(60, 60, 67, 0.18);
            color-scheme: light dark;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --icon: rgb(235, 235, 245, 0.16);
            }
        }
    `), u.forEach(_), r = be(l, "g", { fill: !0, "fill-rule": !0 }); var c = E(r); s = be(c, "path", { fill: !0, d: !0 }), E(s).forEach(_), o = be(c, "path", { fill: !0, d: !0, "fill-rule": !0 }), E(o).forEach(_), c.forEach(_), l.forEach(_), this.h()
        }, h() { p(s, "fill", "var(--genericJoeColor)"), p(s, "d", "M0 0h100v100H0z"), p(o, "fill", "var(--icon)"), p(o, "d", "M69.227 41.518c3.953-3.909 4.11-8.917.314-12.69-3.773-3.73-8.737-3.64-12.69.314l12.376 12.376ZM50.584 71.75a2.018 2.018 0 0 0 2.044-2.021V53.063l6.716-6.2c2.56.337 5.256-.718 7.614-3.077L54.604 31.41c-2.38 2.359-3.369 5.009-3.01 7.592L30.707 61.485c-.853.921-.988 2.202.067 3.257l-2.875 3.706c-.27.36-.292.876.113 1.28l.651.674c.382.382.899.405 1.303.09l3.706-2.897c1.01 1.055 2.313.92 3.212.067L48.54 56.881v12.848c0 1.123.898 2.021 2.044 2.021Zm-15.498-6.356-2.066-2.067 19.81-21.023c.382.651.831 1.258 1.393 1.864a9.29 9.29 0 0 0 1.752 1.437l-20.89 19.789Z"), p(o, "fill-rule", "nonzero"), p(r, "fill", "none"), p(r, "fill-rule", "evenodd"), p(e, "viewBox", "0 0 100 100"), p(e, "xmlns", "http://www.w3.org/2000/svg") }, m(a, l) { I(a, e, l), A(e, t), A(t, i), A(e, r), A(r, s), A(r, o) }, p: j, i: j, o: j, d(a) { a && _(e) }
    }
} class ame extends oe { constructor(e) { super(), se(this, e, null, ome, ye, {}) } } function lme(n) {
    let e, t, i, r, s, o; return {
        c() {
            e = ve("svg"), t = ve("style"), i = le(`:root {
            --icon: rgba(60, 60, 67, 0.18);
            color-scheme: light dark;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --icon: rgba(235, 235, 245, 0.16);
            }
        }
    `), r = ve("g"), s = ve("path"), o = ve("path"), this.h()
        }, l(a) {
            e = be(a, "svg", { viewBox: !0, xmlns: !0 }); var l = E(e); t = be(l, "style", {}); var u = E(t); i = ue(u, `:root {
            --icon: rgba(60, 60, 67, 0.18);
            color-scheme: light dark;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --icon: rgba(235, 235, 245, 0.16);
            }
        }
    `), u.forEach(_), r = be(l, "g", { fill: !0, "fill-rule": !0 }); var c = E(r); s = be(c, "path", { fill: !0, d: !0 }), E(s).forEach(_), o = be(c, "path", { fill: !0, d: !0, "fill-rule": !0 }), E(o).forEach(_), c.forEach(_), l.forEach(_), this.h()
        }, h() { p(s, "fill", "var(--genericJoeColor)"), p(s, "d", "M0 0h178v100H0z"), p(o, "fill", "var(--icon)"), p(o, "d", "M113.329 67.756c4.37 0 6.713-2.344 6.713-6.738V32.893c0-4.395-2.343-6.739-6.713-6.739H64.696c-4.395 0-6.738 2.344-6.738 6.739v28.125c0 4.394 2.343 6.738 6.738 6.738h48.633Zm-.293-4.663H64.964c-1.562 0-2.343-.757-2.343-2.344V33.161c0-1.587.78-2.344 2.343-2.344h48.072c1.562 0 2.343.757 2.343 2.344V60.75c0 1.587-.78 2.344-2.343 2.344Zm-29.078-3.638c3.516 0 5.909-2.515 5.909-6.079v-8.081c0-.855.195-1.074.708-1.172l5.688-1.392c1.22-.293 1.587-.585 1.587-2.026V35.92c0-1.001-.39-1.416-1.709-1.099l-7.129 1.783c-1.245.292-1.513.585-1.513 2.05v10.694c0 1.05-.074 1.22-1.27 1.538l-2.222.586c-2.319.61-4.126 1.977-4.126 4.345 0 2.124 1.587 3.638 4.077 3.638Zm17.53 16.821c1.22 0 2.221-1 2.221-2.197a2.23 2.23 0 0 0-2.221-2.222H76.512c-1.22 0-2.197 1.001-2.197 2.222 0 1.196.977 2.197 2.197 2.197h24.976Z"), p(o, "fill-rule", "nonzero"), p(r, "fill", "none"), p(r, "fill-rule", "evenodd"), p(e, "viewBox", "0 0 178 100"), p(e, "xmlns", "http://www.w3.org/2000/svg") }, m(a, l) { I(a, e, l), A(e, t), A(t, i), A(e, r), A(r, s), A(r, o) }, p: j, i: j, o: j, d(a) { a && _(e) }
    }
} class ume extends oe { constructor(e) { super(), se(this, e, null, lme, ye, {}) } } function cme(n) { let e, t, i, r, s, o, a; return { c() { e = ve("svg"), t = ve("defs"), i = ve("path"), r = ve("g"), s = ve("mask"), o = ve("use"), a = ve("path"), this.h() }, l(l) { e = be(l, "svg", { xmlns: !0, "xmlns:xlink": !0, width: !0, height: !0, version: !0, viewBox: !0 }); var u = E(e); t = be(u, "defs", {}); var c = E(t); i = be(c, "path", { id: !0, d: !0 }), E(i).forEach(_), c.forEach(_), r = be(u, "g", { fill: !0, "fill-rule": !0, stroke: !0, "stroke-width": !0 }); var d = E(r); s = be(d, "mask", { id: !0, fill: !0 }); var f = E(s); o = be(f, "use", { "xlink:href": !0 }), E(o).forEach(_), f.forEach(_), a = be(d, "path", { fill: !0, d: !0, mask: !0 }), E(a).forEach(_), d.forEach(_), u.forEach(_), this.h() }, h() { p(i, "id", "a"), p(i, "d", "M0 0L36 0 36 36 0 36z"), $U(o, "xlink:href", "#a"), p(s, "id", "b"), p(s, "fill", "#fff"), p(a, "fill", "#fc3159"), p(a, "d", "M18,7.84307315 C21.344495,7.84307315 23.9814377,10.7870862 23.9814377,14.314671 C23.9814377,18.0596649 21.3723385,20.9382918 18,20.9105027 C14.6161965,20.8843482 12.0054595,18.0596649 12.0054595,14.314671 C11.977616,10.7870862 14.6424022,7.84307315 18,7.84307315 M29.6516833,28.2926032 C32.0298453,25.5512873 33.4580528,21.955047 33.4580528,18.0057213 C33.4580528,9.38945648 26.6609645,2.45688598 18,2.45688598 C9.34067334,2.45688598 2.54194722,9.38945648 2.54194722,18.0057213 C2.54194722,21.955047 3.97015469,25.5512873 6.3499545,28.2926032 C7.98125569,25.9713935 12.3035487,23.8953821 18,23.8953821 C23.6980892,23.8953821 28.033485,25.9713935 29.6516833,28.2926032 M0,18.0057213 C0,8.10134859 8.10245678,0 18,0 C27.9122839,0 36,8.10134859 36,18.0057213 C36,27.8986514 27.9122839,36 18,36 C8.10245678,36 0,27.8986514 0,18.0057213"), p(a, "mask", "url(#b)"), p(r, "fill", "none"), p(r, "fill-rule", "evenodd"), p(r, "stroke", "none"), p(r, "stroke-width", "1"), p(e, "xmlns", "http://www.w3.org/2000/svg"), p(e, "xmlns:xlink", "http://www.w3.org/1999/xlink"), p(e, "width", "100%"), p(e, "height", "100%"), p(e, "version", "1.1"), p(e, "viewBox", "0 0 36 36") }, m(l, u) { I(l, e, u), A(e, t), A(t, i), A(e, r), A(r, s), A(s, o), A(r, a) }, p: j, i: j, o: j, d(l) { l && _(e) } } } class dme extends oe { constructor(e) { super(), se(this, e, null, cme, ye, {}) } } function fme(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 243 243" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0, fill: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M83.2 166.2h81.7c8.7 0 13.8-5.1 13.8-15.2v-50.1c0-10.1-5.1-15.1-15.3-15.1h-46.9c-3.3 0-5.3-.8-7.7-2.9l-3-2.5c-3.2-2.7-5.7-3.6-10.5-3.6h-14c-8.5 0-13.5 4.8-13.5 14.7V151c.1 10.1 5.2 15.2 15.4 15.2zm.1-7.9c-4.9 0-7.6-2.6-7.6-7.6V91.9c0-4.8 2.5-7.3 7.3-7.3h10.3c3.3 0 5.2.8 7.7 2.9l3 2.5c3.1 2.6 5.7 3.6 10.6 3.6h48.8c4.8 0 7.6 2.6 7.6 7.7v49.4c0 5-2.8 7.6-7.6 7.6H83.3zm-10.7-46.8h101.3v-7.4H72.6v7.4z"), p(t, "fill", "var(--keyColor)"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 243 243" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function gme(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let hme = class extends oe { constructor(e) { super(), se(this, e, gme, fme, ht, {}) } }; const mme = n => ({}), v2 = n => ({}); function pme(n) { let e, t, i; var r = n[10]; function s(o, a) { return {} } return r && (t = jt(r, s())), { c() { e = L("div"), t && V(t.$$.fragment), this.h() }, l(o) { e = T(o, "DIV", { class: !0, "data-testid": !0 }); var a = E(e); t && q(t.$$.fragment, a), a.forEach(_), this.h() }, h() { p(e, "class", "artwork-fallback svelte-1dcaujl"), p(e, "data-testid", "artwork-fallback") }, m(o, a) { I(o, e, a), t && H(t, e, null), i = !0 }, p(o, a) { if (a & 1024 && r !== (r = o[10])) { if (t) { te(); const l = t; D(l.$$.fragment, 1, 0, () => { $(l, 1) }), ne() } r ? (t = jt(r, s()), V(t.$$.fragment), w(t.$$.fragment, 1), H(t, e, null)) : t = null } }, i(o) { i || (t && w(t.$$.fragment, o), i = !0) }, o(o) { t && D(t.$$.fragment, o), i = !1 }, d(o) { o && _(e), t && $(t) } } } function _me(n) { let e; const t = n[16]["artwork-fallback-override"], i = We(t, n, n[17], v2); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 131072) && Je(i, t, r, r[17], e ? Ke(t, r[17], s, mme) : Ye(r[17]), v2) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function vme(n) { let e, t, i, r; const s = [_me, pme], o = []; function a(l, u) { return l[12]["artwork-fallback-override"] && l[5] ? 0 : l[10] && !l[5] ? 1 : -1 } return ~(e = a(n)) && (t = o[e] = s[e](n)), { c() { t && t.c(), i = re() }, l(l) { t && t.l(l), i = re() }, m(l, u) { ~e && o[e].m(l, u), I(l, i, u), r = !0 }, p(l, u) { let c = e; e = a(l), e === c ? ~e && o[e].p(l, u) : (t && (te(), D(o[c], 1, 1, () => { o[c] = null }), ne()), ~e ? (t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) : t = null) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), ~e && o[e].d(l) } } } function bme(n) { let e, t; return e = new ba({ props: { artwork: n[11], profile: n[0], topRoundedSecondary: n[2], useContainerStyle: n[3], forceFullWidth: n[4], imageSettings: n[9], alt: n[1], isDecorative: n[6], disableAutoCenter: n[7], noShelfChevronAnchor: n[8], $$slots: { "placeholder-component": [vme] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 2048 && (s.artwork = i[11]), r & 1 && (s.profile = i[0]), r & 4 && (s.topRoundedSecondary = i[2]), r & 8 && (s.useContainerStyle = i[3]), r & 16 && (s.forceFullWidth = i[4]), r & 512 && (s.imageSettings = i[9]), r & 2 && (s.alt = i[1]), r & 64 && (s.isDecorative = i[6]), r & 128 && (s.disableAutoCenter = i[7]), r & 256 && (s.noShelfChevronAnchor = i[8]), r & 136224 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function ll(n) { var e; const t = (n == null ? void 0 : n.dictionary) || {}, i = ["url", "width", "height"]; let r = null; return i.every(s => s in t) && (r = { template: n.dictionary.url, width: n.dictionary.width, height: n.dictionary.height, backgroundColor: (e = n.dictionary) === null || e === void 0 ? void 0 : e.bgColor }), r } function yme(n, e, t) { let i, r, { $$slots: s = {}, $$scope: o } = e; const a = wn(s); let { artwork: l = null } = e, { profile: u } = e, { fallbackKind: c = null } = e, { alt: d = "" } = e, { topRoundedSecondary: f = !1 } = e, { useContainerStyle: g = !1 } = e, { forceFullWidth: h = !0 } = e, { suppressFallbackArt: m = !1 } = e, { isDecorative: v = !0 } = e, { disableAutoCenter: b = !1 } = e, { noShelfChevronAnchor: y = !1 } = e, { forceCropCode: k = !1 } = e; const S = ll; let C; return n.$$set = P => { "artwork" in P && t(13, l = P.artwork), "profile" in P && t(0, u = P.profile), "fallbackKind" in P && t(14, c = P.fallbackKind), "alt" in P && t(1, d = P.alt), "topRoundedSecondary" in P && t(2, f = P.topRoundedSecondary), "useContainerStyle" in P && t(3, g = P.useContainerStyle), "forceFullWidth" in P && t(4, h = P.forceFullWidth), "suppressFallbackArt" in P && t(5, m = P.suppressFallbackArt), "isDecorative" in P && t(6, v = P.isDecorative), "disableAutoCenter" in P && t(7, b = P.disableAutoCenter), "noShelfChevronAnchor" in P && t(8, y = P.noShelfChevronAnchor), "forceCropCode" in P && t(15, k = P.forceCropCode), "$$scope" in P && t(17, o = P.$$scope) }, n.$$.update = () => { n.$$.dirty & 32768 && t(9, C = { forceCropCode: k }), n.$$.dirty & 8192 && t(11, i = l ? S(l) : null), n.$$.dirty & 16384 && t(10, r = (P => { switch (P) { case x.Artist: case x.AppleCurator: case x.Curator: case x.RecordLabel: return ame; case x.SocialProfile: return dme; case x.ArtistUploadedVideo: case x.Movie: case x.MusicVideo: case x.TVEpisode: case x.TVSeason: case x.TVShow: return ume; case x.PlaylistFolder: return hme; case x.Album: case x.ArtistUploadedSong: case x.EditorialItem: case x.Playlist: case x.RadioStation: case x.Song: case null: return WO } })(c)) }, [u, d, f, g, h, m, v, b, y, C, r, i, a, l, c, k, s, o] } class Gt extends oe { constructor(e) { super(), se(this, e, yme, bme, ye, { artwork: 13, profile: 0, fallbackKind: 14, alt: 1, topRoundedSecondary: 2, useContainerStyle: 3, forceFullWidth: 4, suppressFallbackArt: 5, isDecorative: 6, disableAutoCenter: 7, noShelfChevronAnchor: 8, forceCropCode: 15 }) } } function wme(n) { let e, t, i = [{ "stroke-linejoin": "round" }, { viewBox: "0 0 36 64" }, { width: "36" }, { height: "64" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { "stroke-linejoin": !0, viewBox: !0, width: !0, height: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M3.344 64c.957 0 1.768-.368 2.394-.994l29.2-28.538c.701-.7 1.069-1.547 1.069-2.468 0-.957-.368-1.841-1.068-2.467L5.774 1.031C5.112.37 4.301.001 3.344.001 1.43 0-.006 1.472-.006 3.387c0 .884.367 1.767.956 2.393L27.758 32 .95 58.218a3.5 3.5 0 0 0-.956 2.395c0 1.914 1.435 3.387 3.35 3.387z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ "stroke-linejoin": "round" }, { viewBox: "0 0 36 64" }, { width: "36" }, { height: "64" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function kme(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Il = class extends oe { constructor(e) { super(), se(this, e, kme, wme, ht, {}) } }; function Dme(n) { let e, t, i = [{ viewBox: "0 0 9 9" }, { width: "9" }, { height: "9" }, { "aria-hidden": "true" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { viewBox: !0, width: !0, height: !0, "aria-hidden": !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M3.9 7h1.9c.4 0 .7-.2.7-.5s-.3-.4-.7-.4H4.1V4.9h1.5c.4 0 .7-.1.7-.4 0-.3-.3-.5-.7-.5H4.1V2.9h1.7c.4 0 .7-.2.7-.5 0-.2-.3-.4-.7-.4H3.9c-.6 0-.9.3-.9.7v3.7c0 .3.3.6.9.6zM1.6 0h5.8C8.5 0 9 .5 9 1.6v5.9C9 8.5 8.5 9 7.4 9H1.6C.5 9 0 8.5 0 7.4V1.6C0 .5.5 0 1.6 0z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ viewBox: "0 0 9 9" }, { width: "9" }, { height: "9" }, { "aria-hidden": "true" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function Sme(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let KO = class extends oe { constructor(e) { super(), se(this, e, Sme, Dme, ht, {}) } }; function Cme(n) { let e, t, i, r, s, o, a, l; return { c() { e = L("amp-contextual-menu-button"), t = L("span"), i = ve("svg"), r = ve("circle"), s = ve("path"), this.h() }, l(u) { e = T(u, "AMP-CONTEXTUAL-MENU-BUTTON", { config: !0, class: !0 }); var c = E(e); t = T(c, "SPAN", { "aria-label": !0, class: !0, "data-testid": !0, slot: !0 }); var d = E(t); i = be(d, "svg", { width: !0, height: !0, viewBox: !0, class: !0, xmlns: !0 }); var f = E(i); r = be(f, "circle", { fill: !0, cx: !0, cy: !0, r: !0 }), E(r).forEach(_), s = be(f, "path", { fill: !0, d: !0 }), E(s).forEach(_), f.forEach(_), d.forEach(_), c.forEach(_), this.h() }, h() { p(r, "fill", "var(--iconCircleFill, transparent)"), p(r, "cx", "14"), p(r, "cy", "14"), p(r, "r", "14"), p(s, "fill", "var(--iconEllipsisFill, white)"), p(s, "d", "M10.105 14c0-.87-.687-1.55-1.564-1.55-.862 0-1.557.695-1.557 1.55 0 .848.695 1.55 1.557 1.55.855 0 1.564-.702 1.564-1.55zm5.437 0c0-.87-.68-1.55-1.542-1.55A1.55 1.55 0 0012.45 14c0 .848.695 1.55 1.55 1.55.848 0 1.542-.702 1.542-1.55zm5.474 0c0-.87-.687-1.55-1.557-1.55-.87 0-1.564.695-1.564 1.55 0 .848.694 1.55 1.564 1.55.848 0 1.557-.702 1.557-1.55z"), p(i, "width", "28"), p(i, "height", "28"), p(i, "viewBox", "0 0 28 28"), p(i, "class", "glyph"), p(i, "xmlns", "http://www.w3.org/2000/svg"), p(t, "aria-label", o = n[3]("AMP.Shared.Truncate.More")), p(t, "class", "more-button svelte-1sn4kz"), p(t, "data-testid", "more-button"), p(t, "slot", "trigger-content"), J(t, "more-button--platter", n[1] === "platter"), J(t, "more-button--non-platter", n[1] === "non-platter"), J(t, "more-button--material", n[2] && n[1] === "platter"), Xe(e, "config", n[4]), Xe(e, "class", "svelte-1sn4kz") }, m(u, c) { I(u, e, c), A(e, t), A(t, i), A(i, r), A(i, s), n[11](e), a || (l = [Me(t, "mouseover", n[9]), Me(t, "focus", n[10]), Me(e, "contextualMenuOpen", n[5]), Me(e, "contextualMenuFocused", n[6])], a = !0) }, p(u, [c]) { c & 8 && o !== (o = u[3]("AMP.Shared.Truncate.More")) && p(t, "aria-label", o), c & 2 && J(t, "more-button--platter", u[1] === "platter"), c & 2 && J(t, "more-button--non-platter", u[1] === "non-platter"), c & 6 && J(t, "more-button--material", u[2] && u[1] === "platter"), c & 16 && Xe(e, "config", u[4]) }, i: j, o: j, d(u) { u && _(e), n[11](null), a = !1, Ot(l) } } } function Pme(n, e, t) { let i, { config: r } = e, { buttonStyle: s = "platter" } = e, { hasMaterial: o = !0 } = e, { contextualMenuButtonElement: a = null } = e, { parentElement: l = null } = e, { translateFn: u } = e, c = !1; const d = It(); function f() { c = !c, d("contextMenuVisibilityChange", { open: c }) } function g() { f() } function h() { c && f(), d("triggerFocus") } function m(y) { Bt.call(this, n, y) } function v(y) { Bt.call(this, n, y) } function b(y) { wt[y ? "unshift" : "push"](() => { a = y, t(0, a) }) } return n.$$set = y => { "config" in y && t(7, r = y.config), "buttonStyle" in y && t(1, s = y.buttonStyle), "hasMaterial" in y && t(2, o = y.hasMaterial), "contextualMenuButtonElement" in y && t(0, a = y.contextualMenuButtonElement), "parentElement" in y && t(8, l = y.parentElement), "translateFn" in y && t(3, u = y.translateFn) }, n.$$.update = () => { n.$$.dirty & 384 && t(4, i = l ? { ...r, parentElement: l } : r) }, [a, s, o, u, i, g, h, r, l, m, v, b] } class Ro extends oe { constructor(e) { super(), se(this, e, Pme, Cme, ye, { config: 7, buttonStyle: 1, hasMaterial: 2, contextualMenuButtonElement: 0, parentElement: 8, translateFn: 3 }) } } const Ame = { name: "Apple Music", version: "1.0", build: Vs }, Eme = { sourceType: 16 }; function Ime() { var n, e, t, i, r, s; return { clientName: "AMUW", applicationName: "applemusiceverywhere", serviceName: "app.music.subscription", browserName: (n = Oi.clientName()) != null ? n : "", browserMajorVersion: (t = (e = Oi.majorVersion()) == null ? void 0 : e.toString()) != null ? t : "", browserMinorVersion: (r = (i = Oi.minorVersion()) == null ? void 0 : i.toString()) != null ? r : "", osVersion: (s = Oi.osName()) != null ? s : "", storeBagURL: "https://mediaservices.cdn-apple.com/store_bags/hlsjs/amuw/rtc_storebag.json" } } var Hp = (n => (n[n.none = 0] = "none", n[n.loading = 1] = "loading", n[n.playing = 2] = "playing", n[n.paused = 3] = "paused", n[n.stopped = 4] = "stopped", n[n.ended = 5] = "ended", n[n.seeking = 6] = "seeking", n[n.waiting = 8] = "waiting", n[n.stalled = 9] = "stalled", n[n.completed = 10] = "completed", n))(Hp || {}); async function Mme() { return window.MusicKit ? window.MusicKit : new Promise((n, e) => { function t() { document.removeEventListener("musickitloaded", t); const i = window.MusicKit; i ? n(i) : e(new Error("window.MusicKit not defined after musickitloaded")) } document.addEventListener("musickitloaded", t) }) } async function Lme(n) { const e = await Mme(), t = await e.configure({ developerToken: Bu, app: Ame, bitrate: e.PlaybackBitrate.HIGH, disableLogoutURL: !0, meParameters: { "challenge[subscriptionCapabilities]": ["voice,premium"] }, persist: "cookie", playbackActions: [e.PlaybackActions.AUTOPLAY, e.PlaybackActions.REPEAT, e.PlaybackActions.SHUFFLE], rtcOptions: Ime(), storefrontId: n, suppressErrorDialog: !0, ...Eme }); return { musicKitGlobal: e, musicKit: t } } const Tme = () => { const { subscribe: n, update: e } = Tt({ isChromeVisible: !1, isNoSongLoaded: !0, playbackCapabilities: {}, playbackError: null, radioSeedArtistId: null }), t = c => e(d => ({ ...d, isChromeVisible: c })), i = c => e(d => ({ ...d, isNoSongLoaded: c })), r = c => { e(d => ({ ...d, playbackCapabilities: { ...d.playbackCapabilities, ...c } })) }, s = c => { e(d => ({ ...d, playbackError: c })) }, o = () => { e(c => ({ ...c, playbackError: null })) }; return { internal: { setIsNoSongLoaded: i, setIsChromeVisible: t, setPlaybackCapabilities: r, setPlaybackError: s, clearPlaybackError: o, setRadioSeedArtistId: c => { e(d => ({ ...d, radioSeedArtistId: c })) } }, external: { subscribe: n, setIsChromeVisible: t, clearPlaybackError: o } } }, Rme = () => Jae(), Fme = 1e3, Ome = Object.freeze(Object.defineProperty({ __proto__: null, playDebounceInterval: Fme }, Symbol.toStringTag, { value: "Module" })), JO = [x.Artist, x.Movie, x.TVEpisode], Nme = [x.ArtistUploadedSong, x.ArtistUploadedVideo, x.TVEpisode, x.Movie], Bme = ["context", "parameters", "startTime", "startWith"]; function Jl(n, e, t, i = {}) { var f; const r = (f = i.useUrl) != null ? f : !0, s = i.recoID, o = Array.isArray(n) ? n : [{ contentDescriptor: n }], a = t && (() => !Array.isArray(t) && JO.includes(t.kind) ? null : (Array.isArray(t) ? t : [t]).map(h => ({ contentDescriptor: h })))(), u = i.prioritizeItems && o.length > 1 ? o : a || o, c = Hme(u, r); if (!c) return; const d = { context: { featureName: e, ...s && { reco_id: s } }, ...c }; if (i.language && (d.parameters = { l: i.language, itfe: i.itfe }), a) { const g = o[0]; d.startWith = { id: Qt(g), type: pa[g.contentDescriptor.kind] } } if (Ume(a, o)) { const g = o[0].contentDescriptor.startTime; g && (d.startTime = g) } return d } function Ume(n, e) { return !n && e.length === 1 } function Hme(n, e = !0, t = !1) { var i, r; return e && n.length === 1 && ((i = n[0].contentDescriptor) != null && i.url) && !Nme.includes((r = n[0].contentDescriptor) == null ? void 0 : r.kind) ? { url: n[0].contentDescriptor.url } : CF(n.map(s => s.contentDescriptor), !0, t) } function Yl(n) { return n != null && n.url ? `${n.url}` : n && Object.keys(n).filter(e => !Bme.includes(e)).reduce((e, t) => { const i = n[t], r = Array.isArray(i) ? i.join(", ") : i, s = `${t} (${r})`; return [e, s].filter(Boolean).join(", ") }, "") || "" } const YO = Tt(null); function b_(n) { var e, t, i, r; return n != null && n.containerContentDescriptor && !JO.includes(n.containerContentDescriptor.kind) ? [n.containerContentDescriptor] : "containerItems" in n && n.containerItems ? n.containerItems : [x.Album, x.Playlist].includes((i = (t = (e = n.items) == null ? void 0 : e[0]) == null ? void 0 : t.contentDescriptor) == null ? void 0 : i.kind) ? [(r = n.items) == null ? void 0 : r[0].contentDescriptor] : null } function $i(n, e) { var i, r, s, o; return ((r = (i = e == null ? void 0 : e.pageMetrics) == null ? void 0 : i.custom) == null ? void 0 : r.recoID) || ((o = (s = n == null ? void 0 : n.actionMetrics) == null ? void 0 : s.custom) == null ? void 0 : o.recoID) || null } const Xg = n => ({ dictionary: { url: `${n.split("/").slice(0, -1).join("/")}/{w}x{h}{c}.{f}`, width: 600, height: 600 } }); function XO(n, e, t = !1, i, r) { let s = null; return e === "radioStation" && !r || (s = {}, t ? (s.cloudUniversalLibraryID = n, i && (s.storeAdamID = i)) : s.storeAdamID = n), { identifiers: s, kind: $me(e, !!r) } } function Oc({ id: n, type: e, attributes: t, container: i }, r) { var g, h, m, v, b; const { artistName: s, name: o, streamingItemId: a, isLibrary: l, streamingArtworkUrl: u } = r, c = a != null ? a : n, d = XO(c, e, (h = l != null ? l : (g = t == null ? void 0 : t.playParams) == null ? void 0 : g.isLibrary) != null ? h : !1, (m = t == null ? void 0 : t.playParams) == null ? void 0 : m.catalogId, a); let f; if (u) f = Xg(u); else if (t.artwork) { const { url: y, width: k, height: S } = t.artwork; f = { dictionary: { url: y, width: k, height: S } } } return { id: c, contentDescriptor: d, title: o != null ? o : t.name, artistName: s != null ? s : t.artistName, duration: t.durationInMillis, artwork: f, participantIdentifier: t.participantIdentifier, participantName: t.participantName, hasCollaboration: (b = (v = i == null ? void 0 : i.attributes) == null ? void 0 : v.hasCollaboration) != null ? b : !1, meta: { title: o != null ? o : t.name, description: s != null ? s : t.artistName } } } function ZO({ id: n, type: e, attributes: t }, i) { return { ...Oc({ id: n, type: e, attributes: t }, {}), playAction: SR(n, i), removeFromQueueAction: CR(n, i) } } function b2({ id: n, type: e, attributes: t, meta: i }, r) { var a, l, u, c, d; const s = Oc({ id: n, type: e, attributes: t }, {}), o = (d = (c = (u = (l = (a = i == null ? void 0 : i.associations) == null ? void 0 : a["recommended-entry-tracks"]) == null ? void 0 : l.data) == null ? void 0 : u[0]) == null ? void 0 : c.id) != null ? d : n; return { ...s, meta: { ...s.meta, ...i == null ? void 0 : i.pivot }, playAction: SR(o, r), removeFromQueueAction: CR(o, r) } } function $me(n, e = !1) { const t = Vme(n) ? n : Ic[n]; return t === x.RadioStation && e ? x.Song : t } function Vme(n) { return n in pa } function zme() { const { set: n, update: e, subscribe: t } = Tt({ loaded: !1, isLoading: !1, showPivotView: !1, previewed: new Set }); return { subscribe: t, setLoadingState: () => { e(i => ({ ...i, isLoading: !0, loaded: !1, showPivotView: !1, previewed: null })) }, setPivots: (i, r, s) => { var a; const o = (a = r == null ? void 0 : r.slice(0, 14)) == null ? void 0 : a.map(l => b2(l, s.findIndex(u => { var c, d, f, g, h; return u.id === ((h = (g = (f = (d = (c = l.meta) == null ? void 0 : c.associations) == null ? void 0 : d["recommended-entry-tracks"]) == null ? void 0 : f.data) == null ? void 0 : g[0]) == null ? void 0 : h.id) }) + 1)); e(l => ({ ...l, pivots: o, currentPivot: b2(i, 0), isLoading: !1, loaded: !0, showPivotView: !0 })) }, setPreviewed: i => { e(r => ({ ...r, previewed: i })) }, showPivotView: () => { e(i => ({ ...i, isLoading: !1, loaded: !0, showPivotView: !0 })) }, hidePivotView: () => { e(i => ({ ...i, showPivotView: !1 })) } } } const Va = zme(), QO = "playback", Kh = "music-app-pref:volume-pref-for-user", y2 = "music-app-pref:autoplay"; function zn() { const n = gi(QO); if (!n) throw new Error("getPlayback called before Playback.load"); return { ready: n.ready(), state: n.state, queue: n.queue, shouldDisplayPrivacyLink: n.shouldDisplayPrivacyLink.bind(n), isRestricted: n.isRestricted.bind(n), getVolumeAndSubscribeToUpdates: n.getVolumeAndSubscribeToUpdates.bind(n) } } class y_ { constructor(e, t, i, r, s, o) { this.lastPlayTime = 0, this.musicKitAdapter = new Kae(t), this.addEventListener = this.musicKitAdapter.addEventListener.bind(this.musicKitAdapter), this.addOneTimeEventListener = this.musicKitAdapter.addOneTimeEventListener.bind(this.musicKitAdapter), this.removeEventListener = this.musicKitAdapter.removeEventListener.bind(this.musicKitAdapter), this.removeEventListenerWithCb = this.musicKitAdapter.removeEventListenerWithCb.bind(this.musicKitAdapter), this.ready = this.musicKitAdapter.ready.bind(this.musicKitAdapter), this.setupBeforeUnloadHandler = this.musicKitAdapter.setupBeforeUnloadHandler.bind(this.musicKitAdapter), this.log = e, this.jet = s, this.language = o, this.stateModifiers = i.internal, this.state = i.external, this.queueModifiers = r.internal, this.queue = r.external } static load(e, t, i, r, s, o) { const a = t.loggerFor("Playback"), l = async () => { try { let f = function () { g.musicKit.deferPlayback(), document.body.removeEventListener("mousedown", f) }; const g = await Lme(s); return a.info("MusicKit initialized"), document.body.addEventListener("mousedown", f), g } catch (f) { return a.error("error while loading MusicKit:", f), null } }, u = Tme(), c = Rme(), d = new y_(a, l(), u, c, i, o); return e.set(QO, d), d.setupBeforeUnloadHandler(), d.bindMusicKitEvents(), d.checkUserVolumeSettings(), d.syncPlaybackCapabilities(), d.setPreviewOnlyBasedOnSF(s), d.setITFE(r == null ? void 0 : r.itfe), d } get musicKit() { return this.musicKitAdapter.getMusicKit() } get musicKitGlobal() { return this.musicKitAdapter.getMusicKitGlobal() } setITFE(e) { this.itfe = e } async bindMusicKitEvents() { try { const e = await this.musicKit, { Events: t } = await this.musicKitGlobal; await Promise.all([this.addEventListener(t.capabilitiesChanged, this.onCapabilitiesChange.bind(this)), this.addEventListener(t.mediaPlaybackError, this.handlePlaybackError.bind(this)), this.addEventListener(t.nowPlayingItemDidChange, this.onNowPlayingItemChange.bind(this)), this.addEventListener(t.timedMetadataDidChange, this.onTimedMetadataChange.bind(this)), this.addEventListener(t.playbackStateDidChange, this.onPlaybackStateChange.bind(this)), this.addEventListener(t.queuePositionDidChange, this.onQueuePositionChange.bind(this)), this.addEventListener(t.queueItemsDidChange, this.onQueueChange.bind(this)), this.addEventListener(t.playbackVolumeDidChange, this.onPlaybackVolumeDidChange.bind(this)), this.addEventListener(t.autoplayEnabledDidChange, this.syncAutoplay.bind(this)), this.addEventListener(t.playbackTimeDidChange, this.onPlaybackTimeDidChange.bind(this)), this.addEventListener(t.shuffleModeDidChange, this.onShuffleModeDidChange.bind(this)), this.addEventListener(t.repeatModeDidChange, this.onRepeatModeDidChange.bind(this)), this.addEventListener("pivot:stateDidChange", this.handlePivotStateDidChange.bind(this))]), await Promise.all([this.setAutoplayFromLocalStorage(), this.onNowPlayingItemChange(), this.onPlaybackStateChange()]) } catch (e) { this.log.error("Error while binding MusicKit Events", e) } } getFeatureName(e) { var i, r, s, o, a, l, u, c, d, f, g; if (e != null && e.featureName) return e.featureName; const t = (i = $t(Cn)) == null ? void 0 : i.type; return qT.includes(t) ? t === "playlist" ? "library / playlist_detail" : t === "all-playlists" && ((s = (r = this.jet.pageMetrics) == null ? void 0 : r.pageFields) != null && s.pageFeatureName) ? `library / ${t} / ${(a = (o = this.jet.pageMetrics) == null ? void 0 : o.pageFields) == null ? void 0 : a.pageFeatureName}` : t === "pin" ? (u = (l = this.jet.pageMetrics) == null ? void 0 : l.pageFields) != null && u.pageFeatureName ? `${wb} / ${(d = (c = this.jet.pageMetrics) == null ? void 0 : c.pageFields) == null ? void 0 : d.pageFeatureName}` : wb : `library / ${t}` : `${t} / ${(g = (f = this.jet.pageMetrics) == null ? void 0 : f.pageFields) == null ? void 0 : g.pageFeatureName}` } async handlePlaybackError(e) { const t = (await this.musicKitGlobal).MKError; if (!(e instanceof t)) { this.log.error("Unhandled MusicKit playback error", e); return } const { reason: i, name: r } = e; if (r === "AbortError") return; const s = IO(i, Oi.canOpenNative(), e); this.stateModifiers.setPlaybackError(s) } async onCapabilitiesChange() { this.syncPlaybackCapabilities() } async onNowPlayingItemChange() { var o, a, l, u, c, d, f, g; const e = await this.musicKit, { queue: t, storefrontId: i } = e, r = t == null ? void 0 : t.currentQueueItem; t && this.queueModifiers.setNowPlayingItem(r); const { item: s } = r || {}; this.queueModifiers.setNowPlayingItemInfo({ name: (o = s == null ? void 0 : s.attributes) == null ? void 0 : o.name, artistName: (a = s == null ? void 0 : s.attributes) == null ? void 0 : a.artistName, url: ((l = s == null ? void 0 : s.attributes) == null ? void 0 : l.url) || ((c = (u = s == null ? void 0 : s.container) == null ? void 0 : u.attributes) == null ? void 0 : c.url), isLibrary: ((f = (d = s == null ? void 0 : s.attributes) == null ? void 0 : d.playParams) == null ? void 0 : f.isLibrary) || !1, streamingItemId: null, mediaItemType: (g = r == null ? void 0 : r.item) == null ? void 0 : g.type }), s != null && s.id && i && YO.set(async () => await this.jet.dispatch(sae({ id: s == null ? void 0 : s.id, storefront: i }))), this.log.info("Now playing item has changed:", r) } async onTimedMetadataChange(e) { var r; const t = (r = e == null ? void 0 : e.links.find(({ description: s }) => s.startsWith("artwork"))) == null ? void 0 : r.url, i = { name: e.title, artistName: e.performer, url: null, isLibrary: !1, streamingItemId: (e == null ? void 0 : e.adamId) || null, mediaItemType: null, streamingArtworkUrl: t }; this.queueModifiers.setNowPlayingItemInfo(i), this.log.info("Timed metadata has changed:", i) } async onPlaybackVolumeDidChange() { const e = (await this.musicKit).volume, t = (await this.musicKit).musicUserToken; this.log.info("Playback volume changed:", e), localStorage.setItem(`${Kh}-${t}`, `${e}`), this.log.info(`Playback volume persisted at: ${Kh} - ${t}`) } async onPlaybackTimeDidChange() { const e = (await this.musicKit).currentPlaybackTime; this.queueModifiers.setCurrentPlaybackTime(e) } async onPlaybackStateChange() { const e = (await this.musicKit).playbackState; this.queueModifiers.setPlaybackState(e), this.log.info("Playback state has changed:", e) } async onQueuePositionChange() { const e = await this.musicKit, { position: t } = e.queue; this.queueModifiers.setNowPlayingItemIndex(t), this.log.info("Queue position has changed:", t) } async onQueueChange() { const e = await this.musicKit, t = e.queue.items.map((i, r) => e.queue.queueItem(r)); this.queueModifiers.setQueueItems(t), this.log.info("Queue items have changed:", { items: t }) } async onShuffleModeDidChange() { const e = (await this.musicKit).shuffleMode; this.queueModifiers.setShuffleMode(e), this.log.info("Shuffle mode has changed:", e) } async onRepeatModeDidChange() { const e = (await this.musicKit).repeatMode; this.queueModifiers.setRepeatMode(e), this.log.info("Repeat mode has changed:", e) } async syncAutoplay() { try { const e = await this.musicKit, t = await this.isAuthorized(), i = e.musicUserToken, r = t && e.autoplayEnabled; this.queueModifiers.setAutoplayEnabled(r), localStorage.setItem(`${y2}-${i}`, `${r}`), this.log.info("Autoplay state changed:", r) } catch (e) { throw this.log.error("error while syncing autoplayEnagled", e), new Error("syncAutoplay failed") } } async setAutoplayFromLocalStorage() { try { const e = await this.musicKit, t = await this.isAuthorized(), i = e.musicUserToken, r = localStorage.getItem(`${y2}-${i}`); t && r === "true" && (e.autoplayEnabled = !0), this.log.info("Set autoplay from local value:", r, t) } catch (e) { throw this.log.error("error while syncing autoplay from localStorage", e), new Error("syncAutoplayFromLocalStorage failed") } } async isAuthorized() { return (await this.musicKit).isAuthorized } async musicSubscriptionOffers() { return (await this.musicKit).musicSubscriptionOffers() } async isRestricted() { return (await this.musicKit).restrictedEnabled } async getVolumeAndSubscribeToUpdates(e) { let t; const { Events: i } = await this.musicKitGlobal; return typeof e == "function" && (this.addEventListener(i.playbackVolumeDidChange, e), t = async () => { this.removeEventListenerWithCb(i.playbackVolumeDidChange, e) }), { volume: (await this.musicKit).volume, removeEventListenerCb: t } } async me() { return (await this.musicKit).me() } async unauthorize() { return (await this.musicKit).unauthorize() } async shouldDisplayPrivacyLink() { return (await this.musicKit).shouldDisplayPrivacyLink() } async updateUserTokenFromStorage() { return (await this.musicKit).updateUserTokenFromStorage() } async generateEmbedCode(e, t) { return (await this.musicKitGlobal).generateEmbedCode(e, t) } async consumerId() { return (await this.musicKitGlobal).getInstance().cid } async play(e) { var l; const { playDebounceInterval: t } = Ome, i = Date.now(); if (t && i - this.lastPlayTime <= t) return; this.lastPlayTime = i; const r = this.getFeatureName(e), s = b_(e), o = $i(e, this.jet), a = Jl(e.items, r, s, { useUrl: !0, recoID: o, language: this.language, itfe: this.itfe, prioritizeItems: ((l = e.containerContentDescriptor) == null ? void 0 : l.kind) === x.Artist }); try { if (!a) throw new Error("no play params"); const u = await this.musicKit; this.log.info("playing:", a), this.stateModifiers.setIsNoSongLoaded(!1), await u.setQueue(a), await u.play() } catch (u) { throw this.log.error(`error while playing ${Yl(a)}:`, u), this.handlePlaybackError(u), new Error("play failed") } } async setShuffle(e) { try { const t = await this.musicKit; this.log.info("shuffle:", e), t.shuffle = e } catch (t) { throw this.log.error("error while shuffling", t), new Error("shuffle failed") } } async stop() { try { this.log.info("stop"), (await this.musicKit).stop() } catch (e) { throw this.log.error("error while stopping:", e), this.handlePlaybackError(e), new Error("stop failed") } } async pause(e) { var t; try { const i = ((t = e == null ? void 0 : e.actionMetrics) == null ? void 0 : t.custom) || null; this.log.info("pause"), await this.musicKitAdapter.pausePlayback(i) } catch (i) { throw this.log.error("error while pausing:", i), this.handlePlaybackError(i), new Error("pause failed") } } async resume() { try { this.log.info("resume"), await this.musicKitAdapter.resumePlayback() } catch (e) { throw this.log.error("error while resuming:", e), this.handlePlaybackError(e), new Error("resume failed") } } async playLater(e) { const t = this.getFeatureName(e), i = $i(e, this.jet), r = Jl(e.contentDescriptor, t, null, { useUrl: !1, recoID: i, language: this.language, itfe: this.itfe }); try { const s = await this.musicKit; this.log.info("playing later:", r), await s.playLater(r) } catch (s) { throw this.log.error(`error while adding to play later - ${Yl(r)}:`, s), this.handlePlaybackError(s), new Error("play later failed") } } async playNext(e) { const t = this.getFeatureName(e), i = $i(e, this.jet), r = Jl(e.contentDescriptor, t, null, { useUrl: !1, recoID: i, language: this.language, itfe: this.itfe }); try { const s = await this.musicKit; this.log.info("playing next:", r), await s.playNext(r) } catch (s) { throw this.log.error(`error while adding to play next - ${Yl(r)}:`, s), this.handlePlaybackError(s), new Error("play next failed") } } async playNow(e) { var r, s; const t = this.getFeatureName(), i = Jl(e, t, null, { useUrl: !1, language: this.language, itfe: this.itfe }); try { const o = await this.musicKit; this.log.info("playing now:", i), await o.playNext(i); const a = ((s = (r = o.queue) == null ? void 0 : r.position) != null ? s : -1) + 1, { Events: l, PlayerRepeatMode: u } = await this.musicKitGlobal; o.repeatMode == u.one ? (o.repeatMode = u.none, await o.changeToMediaAtIndex(a), await this.musicKitAdapter.addOneTimeEventListener(l.nowPlayingItemDidChange, () => { o.repeatMode = u.one })) : await o.changeToMediaAtIndex(a) } catch (o) { throw this.log.error(`error while playing now - ${Yl(i)}:`, o), this.handlePlaybackError(o), new Error("play now failed") } } async playAt(e, t) { const i = this.getFeatureName(), r = t.map(o => ({ contentDescriptor: o })), s = Jl(r, i, null, { useUrl: !1, language: this.language, itfe: this.itfe }); try { const o = await this.musicKit; this.log.info(`adding to queue at position ${e}:`, s), await o.playAt(e, s) } catch (o) { throw this.log.error(`error while adding to queue on position ${e} - ${Yl(s)}:`, o), this.handlePlaybackError(o), new Error("play at failed") } } async changeToQueueItem(e, t) { try { const i = await this.musicKit; if (i.queue.item(t).id !== e) throw new Error("The given item is not at the expected position in queue"); this.log.info(`change current queue item: ${e} at position ${t}`), await i.changeToMediaAtIndex(t) } catch (i) { throw this.log.error(`error while changing current queue item - ${e} at position ${t}:`, i), new Error("changeToQueueItem failed") } } async clearQueue() { try { this.log.info("clear queue"), (await this.musicKit).clearQueue() } catch (e) { throw this.log.error("error while clearing the queue", e), new Error("clear queue failed") } } async findAndRemoveQueueItems(e) { var t; try { const i = await this.musicKit; if (e != null && e.includes((t = i.queue.currentItem) == null ? void 0 : t.id)) { const r = i.queue.items.findIndex(s => { var o; return (s == null ? void 0 : s.id) === ((o = i.queue.currentItem) == null ? void 0 : o.id) }); i.changeToMediaAtIndex(r) } i.queue.removeQueueItems(r => { var o; return e.includes((o = r == null ? void 0 : r.item) == null ? void 0 : o.id) }) } catch (i) { throw this.log.error(`error while finding and removing the queue items:  ${e}`, i), new Error("findAndRemoveQueueItem failed") } } async removeQueueItem(e, t) { try { const i = await this.musicKit; if (i.queue.item(t).id !== e) throw new Error("The given item is not at the expected position in queue"); this.log.info(`remove item from queue: ${e} at position ${t}`), i.queue.remove(t) } catch (i) { throw this.log.error(`error while removing item from the queue - ${e} at position ${t}:`, i), new Error("removing item from the queue failed") } } async createStation(e, t) { var i, r, s; try { const o = await this.musicKit, a = ((s = (r = (i = this.jet) == null ? void 0 : i.pageMetrics) == null ? void 0 : r.custom) == null ? void 0 : s.recoID) || null, { radioSeedArtistId: l } = $t(this.state); if (l === e && !o.isPlaying) o.play(); else { const u = this.getFeatureName(), c = { station: `ra.${e}`, context: { ...u && { featureName: u }, ...a && { reco_id: a } }, ...this.language ? { parameters: { l: this.language } } : {} }; await o.setQueue(c), this.stateModifiers.setRadioSeedArtistId(e), await o.play() } this.log.info(`createStation called for: ${e} with kind ${t}`) } catch (o) { throw this.log.error(`error while creating station for item - ${e} and kind ${t}:`, o), this.handlePlaybackError(o), new Error("createStation failed") } } async checkUserVolumeSettings() { try { const e = await this.musicKit, t = e.musicUserToken, i = localStorage.getItem(`${Kh}-${t}`); let r; i ? r = parseFloat(i) : r = .5, e.volume = r } catch (e) { this.log.warn("error while adjusting volume", e) } } async syncPlaybackCapabilities() { try { const t = { canEditPlaybackQueue: (await this.musicKit).capabilities.canEditPlaybackQueue }; this.stateModifiers.setPlaybackCapabilities(t), this.log.info("Playback Capabilities state has been updated", t) } catch (e) { this.log.warn("error while syncing capabilities", e) } } async setPreviewOnlyBasedOnSF(e) { var t; try { const i = await this.musicKit, r = (e == null ? void 0 : e.toLowerCase()) === ((t = i == null ? void 0 : i.storefrontCountryCode) == null ? void 0 : t.toLowerCase()); i.previewOnly = !r } catch (i) { this.log.error("error while setting previewOnly flag", i) } } async startSharePlay(e) { return (await this.musicKit).startSharePlay(e) } async endSharePlay() { return (await this.musicKit).endSharePlay() } async startPivotSession() { return this.pivotSession = await (await this.musicKit).startPivotSession(), this.pivotSession } async getPivots() { var i, r; if (this.handlePivotStateDidChange({ state: "loading" }), !this.pivotSession) return this.startPivotSession(); const e = $t(this.queue).nowPlayingItem.item, t = $t(Va).previewed; return ((i = this.pivotSession.currentPivotItem) == null ? void 0 : i.id) !== e.id ? (r = this.pivotSession) == null ? void 0 : r.getMorePivots(e, t) : setTimeout(() => { Va.showPivotView() }, 1e3) } async setPivotQueue(e) { return (await this.musicKit).queue.updateItems(e) } async handlePivotStateDidChange({ state: e, pivots: t = [], currentPivot: i, pivotTracks: r }) { e === "loading" ? Va.setLoadingState() : e === "loaded" && (Va.setPivots(i, t, r), this.setPivotQueue([i, ...r])) } } const qme = '<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="context-menu__option-icon"><path d="M9.765 2.567a.776.776 0 0 1-.783-.784c0-.438.344-.783.783-.783h5.452c.438 0 .783.345.783.783a.776.776 0 0 1-.783.784H9.765zM5.285 6.43c-.533.428-1.233.167-1.233-.533v-.752H2.527c-.23 0-.334.126-.334.334V6.62c0 .783-.397 1.274-1.096 1.274-.7 0-1.097-.49-1.097-1.274v-1.42c0-1.4.982-2.246 2.381-2.246h1.671V2.18c0-.73.68-.992 1.233-.543l2.329 1.89a.636.636 0 0 1 0 1.024l-2.33 1.88zm4.48.428a.776.776 0 0 1-.783-.783c0-.439.344-.784.783-.784h5.452c.438 0 .783.345.783.784a.776.776 0 0 1-.783.783H9.765zM.783 11.151A.776.776 0 0 1 0 10.368c0-.438.345-.783.783-.783h14.434c.438 0 .783.345.783.783a.776.776 0 0 1-.783.783H.783zm0 4.293A.776.776 0 0 1 0 14.66c0-.44.345-.784.783-.784h14.434c.438 0 .783.345.783.784a.776.776 0 0 1-.783.783H.783z"></path></svg>', Wme = '<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="context-menu__option-icon"><path d="M.783 1h14.434c.438 0 .783.345.783.783a.776.776 0 0 1-.783.784H.783A.776.776 0 0 1 0 1.783C0 1.345.345 1 .783 1zm0 4.292h14.434c.438 0 .783.345.783.784a.776.776 0 0 1-.783.783H.783A.776.776 0 0 1 0 6.076c0-.439.345-.784.783-.784zm4.502 4.721l2.329 1.88a.636.636 0 0 1 0 1.023l-2.33 1.89c-.553.45-1.232.189-1.232-.542v-.773h-1.67C.981 13.49 0 12.645 0 11.245v-1.42c0-.783.397-1.274 1.097-1.274s1.096.49 1.096 1.274v1.138c0 .21.105.335.334.335h1.525v-.752c0-.7.7-.961 1.233-.533zm4.48-.428h5.452c.438 0 .783.345.783.783a.776.776 0 0 1-.783.783H9.765a.776.776 0 0 1-.783-.783c0-.438.344-.783.783-.783zm0 4.292h5.452c.438 0 .783.345.783.784a.776.776 0 0 1-.783.783H9.765a.776.776 0 0 1-.783-.783c0-.44.344-.784.783-.784z"></path></svg>', Kme = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="context-menu__option-icon"><path d="M8.007 10.42c-.338 0-.617-.293-.617-.643V2.752l.046-1.041-.41.517-.922 1.04a.549.549 0 01-.418.189.542.542 0 01-.55-.559c0-.174.06-.3.172-.419L7.536.223C7.695.056 7.848 0 8.006 0c.166 0 .312.056.471.223l2.228 2.256a.575.575 0 01.179.42.547.547 0 01-.557.558.559.559 0 01-.418-.189l-.921-1.04-.411-.51.053 1.034v7.025c0 .35-.279.643-.623.643zM4.18 16C2.75 16 2 15.218 2 13.723V6.858c0-1.501.75-2.277 2.181-2.277h1.81v1.39H4.267c-.61 0-.948.335-.948 1.006v6.62c0 .671.338 1.006.948 1.006h7.466c.603 0 .948-.335.948-1.005V6.977c0-.67-.345-1.006-.948-1.006h-1.704v-1.39h1.79c1.438 0 2.181.783 2.181 2.277v6.865C14 15.218 13.257 16 11.819 16H4.18z"></path></svg>', Jme = '<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="context-menu__option-icon"><path d="M11.51 5.264a6.54 6.54 0 0 1-.12-.145 2.308 2.308 0 0 1-.176-.247.782.782 0 0 1-.133-.4c0-.6.26-.933.832-.933.367 0 .646.163.96.54l2.84 3.331c.182.206.287.47.287.735 0 .27-.1.522-.294.75L12.893 12.2c-.336.4-.259.311-.344.375-.121.09-.24.118-.44.118-.507 0-.786-.293-.862-.812-.008-.05-.012-.1-.012-.152 0-.255.086-.486.264-.711l2.433-2.896-2.423-2.857zm-7.005 5.758a1.11 1.11 0 0 1 .248.858c-.076.519-.355.812-.862.812-.2 0-.319-.027-.44-.118-.085-.064-.008.025-.342-.374L.294 8.896A1.141 1.141 0 0 1 0 8.145c0-.265.105-.53.284-.732l2.842-3.331c.315-.38.594-.543.96-.543.573 0 .833.333.833.932 0 .13-.048.26-.133.401a2.308 2.308 0 0 1-.175.247 6.569 6.569 0 0 1-.12.145L2.067 8.121l2.437 2.9zm1.188 2.277a.89.89 0 0 1 .028-.233L8.638 2.63a.86.86 0 0 1 .84-.63.859.859 0 0 1 .824 1.099l-2.91 10.433a.862.862 0 0 1-.832.614.854.854 0 0 1-.867-.847z"></path></svg>', Yme = '<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="context-menu__option-icon"><path d="M3.772 16.002c-1.036 0-1.924-.367-2.663-1.1C.369 14.168 0 13.289 0 12.262c0-1.025.37-1.919 1.109-2.68L4.095 6.63c.943-.916 1.895-1.434 2.854-1.555.96-.122 1.812.173 2.557.885a.98.98 0 0 1 .298.703.923.923 0 0 1-.29.695.962.962 0 0 1-.703.298.948.948 0 0 1-.695-.29c-.441-.37-.902-.444-1.382-.223-.48.22-.893.521-1.24.902l-2.987 2.953a1.731 1.731 0 0 0-.521 1.258c0 .485.176.901.529 1.249.353.347.772.521 1.257.521.486 0 .91-.174 1.275-.521l.81-.811a.966.966 0 0 1 1.398.017c.193.215.29.45.29.703 0 .253-.097.485-.29.695l-.81.794c-.75.733-1.641 1.1-2.673 1.1zm11.12-14.8C15.63 1.957 16 2.848 16 3.874c0 1.026-.37 1.908-1.109 2.647L11.715 9.69c-.988.976-1.986 1.464-2.995 1.464-.822 0-1.564-.33-2.226-.993a.98.98 0 0 1-.298-.703c0-.264.1-.496.298-.695a.98.98 0 0 1 1.39-.016c.15.198.411.336.786.413.375.078.924-.217 1.646-.885l3.177-3.152c.348-.347.521-.764.521-1.249 0-.49-.17-.913-.512-1.266-.342-.353-.72-.554-1.134-.604-.408-.05-.813.089-1.216.414l-1.01 1.01a.966.966 0 0 1-1.397-.017c-.199-.215-.295-.45-.29-.704.006-.253.102-.485.29-.694l1.009-1.001c.739-.706 1.58-1.043 2.523-1.01.943.033 1.815.433 2.614 1.2z"></path></svg>', Xme = '<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="context-menu__option-icon"><path d="M6.971 15.017V9.01h-5.96C.462 9.01 0 8.558 0 8.006 0 7.453.461 7 1.012 7h5.96V.983C6.971.442 7.442 0 7.993 0s1.024.442 1.024.983V7h5.97C15.54 7 16 7.453 16 8.006c0 .552-.461 1.004-1.012 1.004h-5.97v6.007c0 .541-.473.983-1.024.983-.55 0-1.023-.442-1.023-.983z"></path></svg>', Zme = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.624 3.515h5.55a.817.817 0 1 0 0-1.637h-5.55a.814.814 0 0 0-.822.819c0 .458.364.818.822.818zm0 3.908h5.55a.821.821 0 1 0 0-1.64h-5.55a.817.817 0 0 0-.822.818c0 .458.364.822.822.822zM.818 11.327h14.355a.82.82 0 1 0 0-1.64H.818a.816.816 0 0 0-.818.818c0 .459.364.822.818.822zm0 3.905h14.355a.82.82 0 1 0 0-1.641H.818a.816.816 0 0 0-.818.818c0 .459.364.823.818.823zm3.107-6.608c2.143 0 3.93-1.787 3.93-3.934 0-2.148-1.778-3.922-3.93-3.922C1.775.768 0 2.543 0 4.69c0 2.151 1.775 3.934 3.925 3.934zm0-1.39c-.359 0-.595-.241-.595-.595V5.293H1.994c-.358 0-.6-.235-.6-.599 0-.36.234-.595.6-.595H3.33V2.767c0-.356.236-.599.595-.599.364 0 .6.234.6.6v1.33h1.34c.353 0 .595.237.595.596 0 .364-.242.6-.595.6h-1.34v1.345c0 .354-.236.595-.6.595z"/></svg>', Qme = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.07 15.501c.334.256.746.17 1.23-.178l3.697-2.716 3.697 2.716c.483.349.903.434 1.237.178.327-.249.398-.661.206-1.223L11.68 9.934l3.732-2.68c.477-.341.683-.718.548-1.116-.136-.391-.512-.583-1.102-.576l-4.579.028-1.394-4.365C8.708.656 8.416.351 7.997.351c-.413 0-.704.305-.889.874L5.715 5.59l-4.579-.028c-.59-.007-.96.185-1.095.576-.135.398.064.775.548 1.116l3.732 2.68-1.464 4.344c-.192.562-.121.974.213 1.223zm1.244-1.713c-.007-.015-.007-.022 0-.057l1.35-3.818c.122-.348.079-.569-.24-.782L2.081 6.84c-.029-.014-.043-.028-.036-.05.014-.013.028-.02.064-.02l4.045.092c.37.014.555-.107.662-.462L7.96 2.519c.007-.043.022-.05.036-.05.021 0 .028.007.042.05L9.177 6.4c.107.355.299.476.661.462l4.046-.093c.042 0 .056.008.064.022.007.021 0 .028-.036.05L10.578 9.13c-.327.22-.37.434-.25.782l1.352 3.818c.014.035.014.042 0 .057-.015.021-.029.007-.057-.007l-3.207-2.475c-.291-.227-.547-.227-.832 0l-3.206 2.475c-.028.014-.05.028-.064.007z"/></svg>', jme = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m11.808 9.842 3.604-2.588c.477-.341.683-.718.548-1.116-.136-.391-.512-.583-1.102-.576l-4.579.028-1.394-4.365C8.708.656 8.416.351 7.997.351c-.413 0-.704.305-.889.874l-.953 2.986 1.01 1.002.796-2.694c.007-.043.022-.05.036-.05.021 0 .028.007.042.05L9.177 6.4c.107.355.299.476.661.462l4.046-.093c.042 0 .056.008.064.022.007.021 0 .028-.036.05l-3.029 2.083Zm2.353 5.154c.22.22.59.22.803 0a.569.569 0 0 0 0-.796L3.254 2.526a.564.564 0 0 0-.803 0 .575.575 0 0 0 0 .796zm-11.091.505c.334.256.746.17 1.23-.178l3.697-2.716 3.697 2.716c.483.349.888.42 1.237.178.078-.057.128-.128.227-.263L8.352 11.3c-.249-.206-.519-.192-.768.007l-3.206 2.475c-.028.014-.05.028-.064.007-.007-.015-.007-.022 0-.057l1.35-3.818c.122-.348.079-.569-.24-.782L2.081 6.84c-.029-.014-.043-.028-.036-.05.014-.013.028-.02.064-.02l2.645.056-1.251-1.25-2.368-.015c-.59-.007-.96.185-1.095.576-.135.398.064.775.548 1.116l3.732 2.68-1.464 4.344c-.192.562-.121.974.213 1.223z"/></svg>', Gme = '<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="context-menu__option-icon"><path d="M6.343 0h1.479c4.12 0 6.822 2.169 6.822 5.392 0 2.258-1.262 3.727-2.228 4.85-.73.849-1.922 2.357-2.406 3.875C9.547 15.586 8.837 16 8.078 16c-1.133 0-1.981-.838-1.981-2.13 0-.818.759-2.158.759-3.154 0-.246-.306-.424-.592-.424H3.741c-1.558 0-2.268-.838-2.268-1.696 0-.404.08-.65.257-.877C1.237 7.453 1 6.911 1 6.23c0-.877.434-1.271.808-1.528a1.24 1.24 0 0 1-.177-.65c0-1.016.67-1.627 1.42-1.873C3.169 1.045 4.194 0 6.343 0zm-.04 1.075c-.896 0-1.99.404-2.129 1.074v.187h2.337c.365 0 .572.247.572.483 0 .237-.207.503-.572.503H3.445c-.424 0-.621.296-.621.75 0 .285.246.532.601.532H5.93c.365 0 .572.246.572.483 0 .236-.207.503-.572.503H2.607c-.286 0-.365.384-.365.62 0 .296.079.661.513.661h3.253c.365 0 .572.257.572.493 0 .237-.207.493-.572.493H2.853c-.098.138-.118.266-.118.434 0 .493.276.867.966.867h2.484c1.598 0 1.952.74 1.952 1.627 0 1.045-.867 2.307-.867 3.164 0 .444.148.947.73.947.305 0 .6-.493.68-.77.532-1.823 1.902-3.666 2.78-4.701.788-.917 1.863-2.219 1.863-4.131 0-2.721-2.593-4.22-5.501-4.22H6.304z"></path></svg>', xme = '<svg class="context-menu__option-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path d="M61.662 15.832V4.925c0-1.537-1.248-2.523-2.727-2.233L44.025 5.94c-1.827.406-2.842 1.421-2.842 3.045l.029 32.256c.145 1.421-.522 2.35-1.77 2.61l-4.612.958c-5.83 1.218-8.557 4.177-8.557 8.557 0 4.438 3.423 7.542 8.238 7.542 4.264 0 10.646-3.133 10.646-11.574V22.794c0-1.538.29-1.857 1.682-2.147l13.256-2.9c.957-.204 1.567-.958 1.567-1.915zM4.489 17.195h25.932c1.074 0 1.973-.899 1.973-1.972s-.9-1.944-1.973-1.944H4.49a1.95 1.95 0 00-1.972 1.944c0 1.073.87 1.972 1.972 1.972zm0 10.327h25.932c1.103 0 1.973-.9 1.973-2.002 0-1.073-.9-1.914-1.973-1.914H4.49c-1.102 0-1.972.841-1.972 1.914 0 1.103.841 2.002 1.972 2.002zm0 10.326h25.932c1.103 0 1.973-.87 1.973-1.972 0-1.074-.9-1.944-1.973-1.944H4.49a1.95 1.95 0 00-1.972 1.944c0 1.102.841 1.972 1.972 1.972z"></path></svg>', epe = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7.92 10.83c.337.21.758.132.979-.18.518-.707.82-1.654.82-2.65 0-.995-.302-1.938-.82-2.653a.718.718 0 0 0-.98-.173c-.367.23-.452.674-.147 1.165.301.453.467 1.044.467 1.661 0 .618-.17 1.206-.467 1.662-.302.495-.22.934.147 1.168zm2.677 1.658c.351.206.78.126 1.01-.225.796-1.18 1.256-2.69 1.256-4.263 0-1.572-.456-3.09-1.255-4.262-.231-.35-.66-.432-1.011-.226-.39.228-.435.698-.17 1.123.613.94.955 2.127.955 3.365 0 1.24-.35 2.423-.954 3.366-.263.425-.22.895.169 1.122zm2.677 1.66a.742.742 0 0 0 1.031-.252A10.969 10.969 0 0 0 16 8c0-2.2-.64-4.22-1.695-5.895a.74.74 0 0 0-1.03-.252c-.379.227-.432.688-.181 1.106A9.487 9.487 0 0 1 14.529 8c0 1.881-.543 3.62-1.435 5.042-.251.418-.198.879.18 1.106zm-10.14-3c1.712 0 3.14-1.427 3.14-3.139 0-1.715-1.42-3.131-3.14-3.131C1.418 4.878 0 6.295 0 8.009c0 1.72 1.417 3.139 3.135 3.139zm0-1.107c-.286 0-.474-.193-.474-.475V8.492H1.592c-.285 0-.479-.192-.479-.48 0-.287.187-.478.48-.478H2.66V6.47c0-.282.188-.48.475-.48.29 0 .479.19.479.48v1.063h1.07c.282 0 .475.191.475.479 0 .287-.193.479-.475.479h-1.07v1.074c0 .282-.188.475-.48.475z"/></svg>', tpe = '<svg viewBox="0 0 110.815 89.35"><path d="M15.318 89.35H96.998C105.73 89.35 110.815 84.243 110.815 74.187V24.052C110.815 13.996 105.678 8.942 95.497 8.942H48.631C45.325 8.941 43.352 8.131 40.92 6.084L37.922 3.614C34.692 0.87 32.182 0 27.394 0H13.46C4.94 0 0 4.845 0 14.68V74.187C0 84.264 5.138 89.35 15.318 89.35ZM15.443 81.445C10.566 81.445 7.853 78.887 7.853 73.804V15.095C7.853 10.274 10.398 7.832 15.106 7.832H25.376C28.627 7.832 30.58 8.652 33.042 10.732L36.053 13.201C39.176 15.84 41.802 16.795 46.61 16.795H95.373C100.207 16.795 102.963 19.404 102.963 24.487V73.856C102.962 78.887 100.206 81.445 95.372 81.445ZM4.776 34.646H106.03V27.26H4.776Z"></path></svg>', npe = '<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M8 16c1.093 0 2.122-.21 3.086-.627a8.178 8.178 0 0 0 2.553-1.734 8.178 8.178 0 0 0 1.734-2.553A7.674 7.674 0 0 0 16 8c0-1.093-.21-2.122-.627-3.086a8.178 8.178 0 0 0-1.734-2.553A8.165 8.165 0 0 0 11.082.627 7.702 7.702 0 0 0 7.992 0C6.9 0 5.871.21 4.906.627A8.21 8.21 0 0 0 .628 4.913 7.674 7.674 0 0 0 0 8c0 1.093.21 2.122.627 3.086a8.178 8.178 0 0 0 1.734 2.553 8.178 8.178 0 0 0 2.553 1.734A7.674 7.674 0 0 0 8 16Zm0-1.333a6.52 6.52 0 0 1-2.596-.518 6.707 6.707 0 0 1-2.122-1.431 6.653 6.653 0 0 1-1.427-2.122A6.563 6.563 0 0 1 1.34 8c0-.925.171-1.79.514-2.596a6.731 6.731 0 0 1 1.423-2.126 6.563 6.563 0 0 1 4.714-1.945c.926 0 1.791.172 2.596.514a6.72 6.72 0 0 1 3.56 3.557A6.52 6.52 0 0 1 14.668 8c0 .925-.172 1.79-.514 2.596a6.653 6.653 0 0 1-1.428 2.122 6.694 6.694 0 0 1-2.125 1.431 6.548 6.548 0 0 1-2.6.518Zm-1.373-2.353H9.82a.569.569 0 0 0 .407-.157.52.52 0 0 0 .165-.392.52.52 0 0 0-.165-.392.569.569 0 0 0-.407-.157h-.973V7.224c0-.215-.052-.386-.157-.514-.104-.128-.256-.192-.455-.192H6.761a.569.569 0 0 0-.408.157.52.52 0 0 0-.165.392.52.52 0 0 0 .165.392c.11.104.246.157.408.157H7.6v3.6h-.973a.569.569 0 0 0-.407.157.52.52 0 0 0-.165.392.52.52 0 0 0 .165.392c.11.104.245.157.407.157ZM7.93 5.208c.288 0 .53-.1.726-.298a.99.99 0 0 0 .294-.722.999.999 0 0 0-.294-.73.98.98 0 0 0-.726-.297c-.282 0-.522.1-.721.298a.992.992 0 0 0-.298.73c0 .282.1.522.298.72.199.2.44.299.721.299Z"/></svg>', ipe = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><g><path d="M7.4707 14.9414C11.5576 14.9414 14.9414 11.5503 14.9414 7.4707C14.9414 3.38379 11.5503 0 7.46338 0C3.38379 0 0 3.38379 0 7.4707C0 11.5503 3.39111 14.9414 7.4707 14.9414ZM7.4707 13.6963C4.01367 13.6963 1.25244 10.9277 1.25244 7.4707C1.25244 4.01367 4.00635 1.24512 7.46338 1.24512C10.9204 1.24512 13.6963 4.01367 13.6963 7.4707C13.6963 10.9277 10.9277 13.6963 7.4707 13.6963ZM4.59229 8.09326L10.3418 8.09326C10.752 8.09326 11.0303 7.87354 11.0303 7.48535C11.0303 7.08984 10.7666 6.86279 10.3418 6.86279L4.59229 6.86279C4.16748 6.86279 3.89648 7.08984 3.89648 7.48535C3.89648 7.87354 4.18213 8.09326 4.59229 8.09326Z" /></g></svg>', rpe = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M2.73 16h10.54c.91 0 1.593-.223 2.046-.672.457-.45.684-1.125.684-2.023V2.695c0-.898-.227-1.574-.684-2.023C14.863.222 14.18 0 13.27 0H2.73C1.82 0 1.137.223.684.672.227 1.122 0 1.797 0 2.695v10.61c0 .898.227 1.574.684 2.023.453.45 1.136.672 2.046.672Zm.016-1.398c-.433 0-.766-.114-1-.344-.23-.23-.348-.57-.348-1.024V2.766c0-.454.118-.793.348-1.024.234-.23.567-.344 1-.344h10.508c.43 0 .762.114.996.344.234.23.352.57.352 1.024v10.468c0 .454-.118.793-.352 1.024-.234.23-.566.344-.996.344Zm2.348-1.965c.207 0 .441-.059.699-.18.258-.117.477-.305.66-.562.184-.258.274-.598.274-1.024V6.824c0-.094.011-.152.03-.18.02-.027.075-.046.161-.066l3.504-.719c.16-.035.242.012.242.137l.027 2.723c0 .195-.093.312-.28.347l-.641.145c-.887.2-1.332.629-1.332 1.297 0 .34.124.62.367.844.242.218.55.328.93.328.214 0 .445-.055.699-.168.25-.114.468-.297.648-.551.18-.258.27-.594.27-1.02V3.918c0-.223-.059-.375-.176-.453-.114-.078-.297-.09-.547-.031l-4.137.851c-.32.07-.476.238-.476.512l.015 4.875c0 .18-.074.289-.226.324l-.676.137c-.875.176-1.313.617-1.313 1.332 0 .34.118.62.36.84.242.222.547.332.918.332Zm0 0"/></svg>', spe = '<svg width="15px" height="14px" viewBox="0 0 15 14" xmlns="http://www.w3.org/2000/svg"><path d="M2.363 13.856h10.281c1.573 0 2.356-.783 2.356-2.333v-9.19C15 .783 14.217 0 12.644 0H2.364C.79 0 0 .775 0 2.333v9.19c0 1.558.79 2.333 2.363 2.333zm-.112-1.212c-.67 0-1.04-.353-1.04-1.053V4.493c0-.692.37-1.053 1.04-1.053h10.491c.67 0 1.046.36 1.046 1.053v7.098c0 .7-.376 1.053-1.046 1.053H2.251zm3.778-6.502h.444c.263 0 .353-.076.353-.34V5.36c0-.264-.09-.346-.353-.346h-.444c-.264 0-.354.082-.354.346v.444c0 .263.09.339.354.339zm2.506 0h.436c.264 0 .354-.076.354-.34V5.36c0-.264-.09-.346-.354-.346h-.436c-.271 0-.354.082-.354.346v.444c0 .263.083.339.354.339zm2.499 0h.444c.263 0 .346-.076.346-.34V5.36c0-.264-.083-.346-.346-.346h-.444c-.264 0-.354.082-.354.346v.444c0 .263.09.339.354.339zM3.53 8.602h.444c.264 0 .346-.075.346-.338V7.82c0-.264-.083-.339-.346-.339H3.53c-.264 0-.354.076-.354.339v.444c0 .263.09.339.354.339zm2.499 0h.444c.263 0 .353-.075.353-.338V7.82c0-.264-.09-.339-.353-.339h-.444c-.264 0-.354.076-.354.339v.444c0 .263.09.339.354.339zm2.506 0h.436c.264 0 .354-.075.354-.338V7.82c0-.264-.09-.339-.354-.339h-.436c-.271 0-.354.076-.354.339v.444c0 .263.083.339.354.339zm2.499 0h.444c.263 0 .346-.075.346-.338V7.82c0-.264-.083-.339-.346-.339h-.444c-.264 0-.354.076-.354.339v.444c0 .263.09.339.354.339zm-7.504 2.47h.444c.264 0 .346-.083.346-.347v-.444c0-.263-.083-.339-.346-.339H3.53c-.264 0-.354.076-.354.34v.443c0 .264.09.346.354.346zm2.499 0h.444c.263 0 .353-.083.353-.347v-.444c0-.263-.09-.339-.353-.339h-.444c-.264 0-.354.076-.354.34v.443c0 .264.09.346.354.346zm2.506 0h.436c.264 0 .354-.083.354-.347v-.444c0-.263-.09-.339-.354-.339h-.436c-.271 0-.354.076-.354.34v.443c0 .264.083.346.354.346z"></path></svg>', ope = '<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="16" height="16" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2" viewBox="0 0 133 133"><style>.e{opacity:0}.en,.ltr{opacity:1}:lang(ar) .ar,:lang(ar) .rtl,:lang(he) .he,:lang(he) .rtl,:lang(hi) .hi,:lang(ja) .ja,:lang(ko) .ko,:lang(th) .th,:lang(zh) .zh{opacity:1}:lang(ar) .en,:lang(ar) .ltr,:lang(he) .en,:lang(he) .ltr,:lang(hi) .en,:lang(ja) .en,:lang(ko) .en,:lang(th) .en,:lang(zh) .en{opacity:0}</style><g class="show"><path d="M90.013,88.831C93.442,88.831 95.339,86.427 95.339,82.645L95.339,69.961L97.694,69.961C112.219,69.961 120.056,61.917 120.056,47.599L120.056,10.188C120.056,-4.13 112.219,-12.174 97.694,-12.174L34.823,-12.174C20.298,-12.174 12.461,-4.109 12.461,10.188L12.461,47.599C12.461,61.896 20.298,69.961 34.823,69.961L66.112,69.961L82.999,84.946C85.951,87.566 87.609,88.831 90.013,88.831ZM88.024,79.91L72.413,64.43C70.567,62.512 69.167,62.108 66.483,62.108L34.844,62.108C24.992,62.108 20.314,57.099 20.314,47.578L20.314,10.209C20.314,0.729 24.992,-4.269 34.844,-4.269L97.673,-4.269C107.567,-4.269 112.202,0.729 112.202,10.209L112.202,47.578C112.202,57.099 107.567,62.108 97.673,62.108L91.692,62.108C89.019,62.108 88.024,63.103 88.024,65.776L88.024,79.91Z" class="e rtl" style="fill-rule:nonzero" transform="translate(-14.82 19.351) scale(1.2236)"/><path d="M42.493,88.831C44.907,88.831 46.565,87.566 49.465,84.946L66.353,69.961L97.694,69.961C112.219,69.961 120.056,61.896 120.056,47.599L120.056,10.188C120.056,-4.109 112.219,-12.174 97.694,-12.174L34.823,-12.174C20.298,-12.174 12.461,-4.13 12.461,10.188L12.461,47.599C12.461,61.917 20.298,69.961 34.823,69.961L37.126,69.961L37.126,82.645C37.126,86.427 39.064,88.831 42.493,88.831ZM44.492,79.91L44.492,65.776C44.492,63.103 43.497,62.108 40.824,62.108L34.844,62.108C24.95,62.108 20.314,57.099 20.314,47.578L20.314,10.209C20.314,0.729 24.95,-4.269 34.844,-4.269L97.673,-4.269C107.524,-4.269 112.202,0.729 112.202,10.209L112.202,47.578C112.202,57.099 107.524,62.108 97.673,62.108L66.034,62.108C63.349,62.108 61.95,62.512 60.104,64.43L44.492,79.91Z" class="e ltr" style="fill-rule:nonzero" transform="translate(-14.82 19.351) scale(1.2236)"/><path d="M45.928,39.077L86.723,39.077C88.495,39.077 89.739,37.958 89.739,36.341C89.739,34.724 88.444,33.594 86.723,33.594L45.928,33.594C44.218,33.594 42.974,34.724 42.974,36.341C42.974,37.958 44.166,39.077 45.928,39.077ZM58.696,54.689L64.254,54.689C67.361,54.689 69.32,52.69 69.32,49.583L69.371,32.875L78.698,26.305C79.828,25.569 80.295,24.449 80.295,23.402C80.295,21.732 79.019,20.219 76.863,20.219L54.156,20.219C52.239,20.219 50.85,21.483 50.85,23.173C50.85,24.893 52.187,26.064 54.156,26.064L76.739,26.064L76.739,21.867L65.538,29.618C63.785,30.81 63.267,32.158 63.267,34.356L63.319,48.843L58.696,48.843C56.769,48.843 55.442,50.025 55.442,51.746C55.442,53.456 56.79,54.689 58.696,54.689ZM45.94,23.567C47.609,23.567 48.698,22.334 48.698,20.521L48.698,16.318L83.859,16.318L83.859,20.521C83.859,22.344 84.968,23.567 86.595,23.567C88.264,23.567 89.384,22.334 89.384,20.521L89.384,13.571C89.384,11.965 88.109,10.886 86.388,10.886L46.251,10.886C44.437,10.886 43.193,11.965 43.193,13.571L43.193,20.521C43.193,22.334 44.282,23.567 45.94,23.567ZM64.575,13.977L70.182,11.925L67.803,5.255C67.181,3.669 65.482,2.902 63.906,3.462C62.341,4.021 61.574,5.721 62.123,7.359L64.575,13.977Z" class="e zh" style="fill-rule:nonzero" transform="translate(-14.82 19.351) scale(1.2236)"/><path d="M44.767,20.499C44.767,23.35 46.197,25.09 49.803,25.09L50.947,25.09C49.492,26.441 48.775,28.478 48.775,31.336L48.775,46.579C48.775,49.181 50.36,50.755 52.65,50.755C54.991,50.755 56.577,49.181 56.577,46.579L56.577,30.114C56.577,26.931 57.689,25.556 60.852,25.556C63.298,25.556 64.676,24.396 64.676,22.406C64.676,20.478 63.298,19.152 60.852,19.152L52.466,19.152C53.626,14.337 58.223,10.916 64.791,10.916C72.178,10.916 77.124,15.228 77.124,21.938L77.124,46.579C77.124,49.181 78.709,50.755 80.999,50.755C83.34,50.755 84.925,49.181 84.925,46.579L84.925,21.938C84.925,11.57 76.705,3.994 64.687,3.994C52.627,3.994 44.767,11.871 44.767,20.499Z" class="e th" style="fill-rule:nonzero" transform="translate(-14.82 19.351) scale(1.2236)"/><path d="M44.733,12.049C44.733,13.758 46.059,15.096 47.78,15.096L67.804,15.085L62.811,11.086C62.655,22.979 57.659,30.99 46.482,37.317C42.627,39.39 45.788,44.893 49.581,42.582C62.136,35.435 68.274,25.878 68.915,12.349C69.008,10.38 67.682,8.991 65.495,8.991L47.78,8.991C46.111,8.991 44.733,10.38 44.733,12.049ZM77.872,54.495C79.53,54.495 80.971,53.065 80.971,51.396L80.971,30.168L86.729,30.168C88.387,30.168 89.776,28.79 89.776,27.069C89.776,25.463 88.387,24.022 86.729,24.022L80.971,24.022L80.971,6.381C80.971,4.661 79.53,3.23 77.872,3.23C76.151,3.23 74.773,4.661 74.773,6.381L74.773,51.396C74.773,53.116 76.151,54.495 77.872,54.495Z" class="e ko" style="fill-rule:nonzero" transform="translate(-14.82 19.351) scale(1.2236)"/><path d="M52.139,52.518C62.965,52.518 73.611,38.998 78.801,22.455C79.351,20.713 78.293,19.158 76.584,19.034C75.07,18.816 73.888,19.594 73.443,21.324C70.272,33.425 60.209,47.118 52.294,47.118C49.872,47.129 48.592,45.715 48.592,43.138C48.592,36.436 56.492,27.461 69.648,27.46C78.645,27.47 84.639,31.377 84.588,37.249C84.588,42.187 80.378,46.581 73.506,48.638C71.837,49.217 71.101,50.606 71.577,52.109C71.939,53.55 73.442,54.317 75.237,53.809C84.439,51.474 90.111,45.202 90.059,37.456C89.956,28.61 81.93,22.743 69.803,22.702C53.085,22.661 43.151,33.595 43.151,43.5C43.151,49.166 46.535,52.518 52.139,52.518ZM59.745,51.258C60.678,54.647 65.725,53.413 65.103,49.962C61.913,33.773 61.781,23.504 63.525,6.311C63.743,4.528 62.479,3.15 60.624,3.14C59.018,3.14 57.96,4.341 57.743,6.321C55.863,23.368 56.038,36.786 59.745,51.258ZM47.85,17.108C58.139,17.887 69.518,17.603 82.441,15.05C84.183,14.749 84.97,13.743 84.959,12.272C84.949,10.676 83.611,9.651 81.85,9.879C70.452,12.133 56.925,12.509 47.85,11.657C46.202,11.543 44.875,12.693 44.875,14.248C44.875,15.844 46.026,16.89 47.85,17.108Z" class="e ja" style="fill-rule:nonzero" transform="translate(-14.82 19.351) scale(1.2236)"/><path d="M44.05,12.719L88.456,12.719C90.591,12.719 92.135,11.434 92.135,9.517C92.135,7.497 90.705,6.263 88.456,6.263L44.05,6.263C41.75,6.263 40.33,7.497 40.33,9.517C40.33,11.434 41.864,12.719 44.05,12.719ZM62.916,52.688C62.916,54.512 64.439,55.983 66.211,55.983C68.035,55.983 69.579,54.501 69.579,52.688L69.579,9.92L62.916,9.92L62.916,52.688ZM41.412,33.459C41.412,40.665 46.519,45.709 53.704,45.709C61.239,45.709 65.811,39.762 65.634,28.847L62.916,28.847C62.916,35.232 59.332,39.657 53.983,39.657C50.125,39.657 47.505,37.017 47.505,33.304C47.505,29.208 50.427,26.35 55.094,25.946C57.022,25.739 58.152,24.62 58.152,23.055C58.152,21.375 56.877,20.008 54.877,19.997C47.183,19.945 41.412,25.622 41.412,33.459ZM91.084,32.184C91.084,24.978 85.977,19.934 78.792,19.934C71.256,19.934 66.685,25.881 66.861,36.796L69.579,36.796C69.579,30.411 73.163,25.976 78.502,25.976C82.37,25.976 84.98,28.626 84.98,32.38C84.98,36.435 82.068,39.283 77.401,39.749C75.474,39.904 74.344,41.023 74.344,42.588C74.344,44.268 75.618,45.635 77.619,45.646C85.313,45.698 91.084,40.02 91.084,32.184Z" class="e hi" style="fill-rule:nonzero" transform="translate(-14.82 19.351) scale(1.2236)"/><path d="M51.161,52.61C52.964,52.61 54.508,51.066 54.508,49.263L54.508,34.272C54.508,29.033 56.999,25.969 62.164,24.674L57.999,19.887C51.227,21.897 47.763,26.796 47.763,34.5L47.763,49.263C47.763,51.066 49.296,52.61 51.161,52.61ZM79.768,51.325C81.002,52.838 83.188,53.097 84.618,51.884C86.078,50.683 86.317,48.548 85.094,46.931L53.256,6.65C52.084,5.085 49.939,4.888 48.572,6.09C47.09,7.406 46.799,9.375 48.085,10.991L79.768,51.325ZM81.985,5.302C80.13,5.302 78.586,6.846 78.586,8.701L78.586,23.017C78.586,28.287 76.158,31.331 70.743,32.626L74.992,37.518C81.815,35.497 85.332,30.547 85.332,22.946L85.332,8.701C85.332,6.846 83.798,5.302 81.985,5.302Z" class="e he" style="fill-rule:nonzero" transform="translate(-14.82 19.351) scale(1.2236)"/><path d="M49.25,53.181C58.543,53.181 65.318,47.536 65.318,39.699C65.318,39.167 65.297,38.521 65.255,37.801C67.674,39.474 70.097,39.963 74.089,39.963L83.298,39.963C92.862,39.963 97.233,36.904 97.233,30.31C97.233,23.253 92.2,16.353 84.698,16.353C77.91,16.353 72.002,22.072 65.542,31.4C64.376,30.32 63.554,28.347 63.128,26.672L62.38,23.981C61.126,19.629 55.188,21.141 56.307,25.712L56.993,28.309C58.343,33.784 58.914,36.679 58.914,38.539C58.914,43.391 55.029,46.611 49.489,46.611C43.993,46.611 40.968,43.162 40.968,36.683C40.968,33.875 41.447,31.215 42.124,28.035C42.954,23.889 37.129,22.677 35.999,27.122C35.042,30.53 34.564,34.073 34.564,37.169C34.564,47.359 40.003,53.181 49.25,53.181ZM74.937,33.6C73.769,33.6 72.613,33.506 71.593,33.215C76.489,26.446 80.655,22.965 84.397,22.965C88.066,22.965 90.673,26.271 90.673,29.461C90.673,32.333 88.582,33.6 83.775,33.6L74.937,33.6ZM80.21,12.505C82.574,12.505 84.462,10.608 84.462,8.191C84.462,5.889 82.574,3.991 80.21,3.991C77.845,3.991 75.906,5.889 75.906,8.191C75.906,10.608 77.783,12.505 80.21,12.505Z" class="e ar" style="fill-rule:nonzero" transform="translate(-14.82 19.351) scale(1.2236)"/><path d="M50.179,51.898C51.951,51.898 53.184,51.038 53.961,48.769L57.507,38.396L74.958,38.396L78.545,48.769C79.271,51.028 80.514,51.898 82.297,51.898C84.483,51.898 85.913,50.53 85.913,48.51C85.913,47.784 85.747,47.049 85.364,46.003L71.682,9.117C70.75,6.599 68.854,5.304 66.181,5.304C63.559,5.304 61.767,6.599 60.783,9.117L47.091,46.003C46.759,47.049 46.593,47.784 46.593,48.499C46.593,50.541 48.023,51.898 50.179,51.898ZM59.466,32.499L65.953,13.628L66.502,13.628L72.988,32.499L59.466,32.499Z" class="e en" style="fill-rule:nonzero" transform="translate(-14.82 19.351) scale(1.2236)"/></g></svg>', ape = '<svg width="17" height="16" viewBox="0 0 17 16" xmlns="http://www.w3.org/2000/svg" xml:space="preserve"><path d="M3.95 15.45c.16.19.38.28.66.28.2 0 .4-.05.57-.16.17-.1.38-.26.62-.48l2.43-2.23h4.4a3.7 3.7 0 0 0 1.8-.4c.5-.28.88-.67 1.14-1.19.26-.5.4-1.13.4-1.86v-5.7c0-.72-.14-1.34-.4-1.85s-.64-.9-1.14-1.18a3.7 3.7 0 0 0-1.8-.41H3.37a3.7 3.7 0 0 0-1.82.4C1.06.96.7 1.36.43 1.87c-.26.5-.4 1.13-.4 1.86v5.7c0 .72.14 1.34.4 1.85.27.52.64.9 1.13 1.18.5.27 1.08.41 1.77.41h.38v1.8c0 .34.08.6.24.79Zm3.27-3.52L5 14.26v-2.11c0-.23-.05-.38-.14-.47-.1-.1-.24-.14-.44-.14h-.96c-.67 0-1.16-.17-1.48-.52-.32-.35-.48-.87-.48-1.56V3.81c0-.68.16-1.2.48-1.55.32-.34.81-.52 1.48-.52h9.1c.66 0 1.16.18 1.48.52.32.35.48.87.48 1.55v5.65c0 .7-.16 1.2-.48 1.56-.32.35-.82.52-1.48.52H8.16c-.22 0-.39.03-.52.08s-.27.15-.42.31Zm-4.29-6.5c0-.41.32-.74.7-.74h4.39c.39 0 .7.33.7.73 0 .4-.31.74-.7.74H3.64a.72.72 0 0 1-.7-.74Zm.7 1.46c-.38 0-.7.34-.7.74 0 .4.32.74.7.74h1.5c.38 0 .7-.33.7-.74 0-.4-.32-.74-.7-.74h-1.5Zm6.54-1.47c0-.4.32-.73.7-.73h1.5c.38 0 .7.33.7.73 0 .4-.32.74-.7.74h-1.5a.72.72 0 0 1-.7-.74ZM7.98 6.9c-.39 0-.7.34-.7.74 0 .4.31.74.7.74h2.21c.39 0 .7-.33.7-.74 0-.4-.31-.74-.7-.74H8Z"/></svg>', lpe = '<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="16" height="16" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2" viewBox="0 0 133 133"><style>.e{opacity:0}.en,.ltr{opacity:1}:lang(ar) .ar,:lang(ar) .rtl,:lang(he) .he,:lang(he) .rtl,:lang(hi) .hi,:lang(ja) .ja,:lang(ko) .ko,:lang(th) .th,:lang(zh) .zh{opacity:1}:lang(ar) .en,:lang(ar) .ltr,:lang(he) .en,:lang(he) .ltr,:lang(hi) .en,:lang(ja) .en,:lang(ko) .en,:lang(th) .en,:lang(zh) .en{opacity:0}</style><g class="hids"><path d="M108.465,13.766C106.405,13.387 104.302,13.224 102.192,13.285L29.421,13.285C23.829,13.285 19.112,14.363 15.204,16.452C11.229,18.473 8.264,21.506 6.243,25.414C4.221,29.322 3.143,34.038 3.143,39.563L3.143,83.023C3.143,88.549 4.154,93.265 6.243,97.173C8.264,101.081 11.296,104.046 15.204,106.135C15.374,106.226 15.546,106.315 15.719,106.402L7.291,114.819C6.419,115.759 5.949,116.833 5.949,118.041C5.949,119.249 6.419,120.256 7.291,121.128C8.075,122.005 9.204,122.496 10.379,122.471C11.571,122.481 12.714,121.994 13.534,121.128L25.572,109.119C26.806,109.24 28.089,109.302 29.421,109.302L63.987,109.302L83.123,126.214C85.01,127.898 86.694,129.111 88.042,129.92C89.39,130.728 90.872,131.133 92.489,131.133C94.454,131.232 96.362,130.439 97.677,128.977C99.01,127.298 99.682,125.187 99.564,123.047L99.564,109.302L102.596,109.302C107.986,109.302 112.636,108.224 116.476,106.135C120.273,104.109 123.373,100.985 125.37,97.173C127.55,92.783 128.614,87.923 128.47,83.023L128.47,39.563C128.47,34.038 127.459,29.322 125.438,25.414C123.639,21.936 121.04,19.206 117.736,17.175L125.895,9.036C126.753,8.189 127.216,7.019 127.17,5.814C127.17,4.538 126.768,3.532 125.895,2.726C125.022,1.854 123.948,1.384 122.74,1.384L122.673,1.384C121.465,1.384 120.391,1.854 119.518,2.726L108.465,13.766ZM109.359,25.532C111.063,26.181 112.492,27.089 113.646,28.244C116.207,30.939 117.487,34.779 117.487,39.9L117.487,82.619C117.487,87.807 116.139,91.715 113.646,94.343C111.086,96.971 107.178,98.251 101.922,98.251L94.241,98.251C92.691,98.251 91.546,98.588 90.872,99.262C90.063,99.936 89.726,101.149 89.726,102.833L89.726,118.736L89.794,118.802L89.726,118.802L89.726,118.736L72.005,101.283C70.793,100.003 69.715,99.262 68.636,98.858C67.626,98.453 66.278,98.251 64.594,98.251L36.466,98.251L109.359,25.532ZM97.883,24.336L24.432,97.699C21.741,97.081 19.575,95.951 17.967,94.343C15.474,91.648 14.193,87.807 14.193,82.619L14.193,39.9C14.193,34.779 15.474,30.871 17.967,28.244C20.527,25.616 24.503,24.336 29.758,24.336L97.883,24.336Z" class="e rtl" style="fill-rule:nonzero"/><path d="M14.834,16.624L7.227,9.036C6.369,8.189 5.906,7.019 5.952,5.814C5.952,4.538 6.355,3.532 7.227,2.726C8.1,1.854 9.174,1.384 10.382,1.384L10.449,1.384C11.657,1.384 12.731,1.854 13.604,2.726L24.449,13.558C26.095,13.329 27.762,13.237 29.434,13.285L102.205,13.285C107.797,13.285 112.514,14.363 116.422,16.452C120.397,18.473 123.362,21.506 125.383,25.414C127.405,29.322 128.483,34.038 128.483,39.563L128.483,83.023C128.483,88.549 127.472,93.265 125.383,97.173C123.442,100.926 120.569,103.809 116.883,105.882L125.831,114.819C126.704,115.759 127.173,116.833 127.173,118.041C127.173,119.249 126.704,120.256 125.831,121.128C125.048,122.005 123.919,122.496 122.743,122.471C121.552,122.481 120.408,121.994 119.589,121.128L107.392,108.961C105.755,109.187 104.026,109.302 102.205,109.302L67.639,109.302L48.503,126.214C46.616,127.898 44.932,129.111 43.584,129.92C42.236,130.728 40.754,131.133 39.137,131.133C37.172,131.232 35.264,130.439 33.949,128.977C32.616,127.298 31.944,125.187 32.062,123.047L32.062,109.302L29.03,109.302C23.64,109.302 18.99,108.224 15.15,106.135C11.353,104.109 8.253,100.985 6.256,97.173C4.076,92.783 3.012,87.923 3.156,83.023L3.156,39.563C3.156,34.038 4.167,29.322 6.188,25.414C8.155,21.611 11.078,18.702 14.834,16.624ZM23.385,25.154C21.181,25.807 19.379,26.844 17.98,28.244C15.419,30.939 14.139,34.779 14.139,39.9L14.139,82.619C14.139,87.807 15.487,91.715 17.98,94.343C20.54,96.971 24.448,98.251 29.704,98.251L37.385,98.251C38.935,98.251 40.08,98.588 40.754,99.262C41.563,99.936 41.9,101.149 41.9,102.833L41.9,118.736L41.832,118.802L41.9,118.802L41.9,118.736L59.621,101.283C60.833,100.003 61.911,99.262 62.99,98.858C64,98.453 65.348,98.251 67.032,98.251L96.657,98.251L23.385,25.154ZM35.239,24.336L108.376,97.384C110.526,96.729 112.294,95.709 113.659,94.343C116.152,91.648 117.433,87.807 117.433,82.619L117.433,39.9C117.433,34.779 116.152,30.871 113.659,28.244C111.099,25.616 107.123,24.336 101.868,24.336L35.239,24.336Z" class="e ltr" style="fill-rule:nonzero"/><path d="M63.055,74.43L63.097,86.115L57.441,86.115C55.083,86.115 53.459,87.562 53.459,89.668C53.459,91.76 55.108,93.269 57.441,93.269L64.241,93.269C68.043,93.269 70.44,90.823 70.44,87.021L70.456,81.813L63.055,74.43ZM56.065,67.457L41.818,67.457C39.725,67.457 38.203,68.84 38.203,70.818C38.203,72.797 39.662,74.166 41.818,74.166L62.79,74.166L56.065,67.457ZM87.718,67.457L93.881,73.613C94.841,73.035 95.425,72.044 95.425,70.818C95.425,68.84 93.84,67.457 91.734,67.457L87.718,67.457ZM71.332,51.091L80.081,59.83L81.915,58.538C83.298,57.638 83.869,56.267 83.869,54.986C83.869,52.943 82.308,51.091 79.67,51.091L71.332,51.091ZM63.233,39.671L59.899,39.671L66.553,46.318L88.23,46.318L88.23,51.461C88.23,53.691 89.587,55.188 91.578,55.188C93.62,55.188 94.99,53.679 94.99,51.461L94.99,42.957C94.99,40.992 93.43,39.671 91.324,39.671L63.233,39.671L71.041,39.671L68.584,32.781C67.823,30.841 65.744,29.902 63.815,30.587C61.901,31.271 60.962,33.352 61.634,35.356L63.233,39.671ZM41.832,55.188C42.422,55.188 42.952,55.062 43.408,54.83L38.471,49.905L38.471,51.461C38.471,53.679 39.804,55.188 41.832,55.188Z" class="e zh" style="fill-rule:nonzero"/><path d="M46.89,58.303C45.827,59.883 45.301,61.988 45.301,64.694L45.301,83.345C45.301,86.529 47.241,88.455 50.043,88.455C52.907,88.455 54.848,86.529 54.848,83.345L54.848,66.242L46.89,58.303ZM53.577,33.357L60.412,40.184C61.803,39.873 63.303,39.708 64.898,39.708C73.937,39.708 79.989,44.984 79.989,53.195L79.989,59.737L89.534,69.271L89.534,53.195C89.534,40.508 79.476,31.238 64.771,31.238C60.594,31.238 56.828,32.011 53.577,33.357ZM40.405,51.834L45.598,57.015C42.047,56.732 40.527,54.827 40.405,51.834Z" class="e th" style="fill-rule:nonzero"/><path d="M77.112,88.454L77.112,89.239C77.112,91.344 78.798,93.031 80.904,93.031C81.15,93.031 81.391,93.006 81.626,92.957L77.112,88.454ZM52.912,64.311C50.107,67.118 46.65,69.66 42.496,72.012C37.779,74.549 41.646,81.282 46.287,78.455C50.974,75.786 54.931,72.844 58.187,69.573L52.912,64.311ZM77.112,56.864L84.696,64.439L84.696,63.265L91.742,63.265C93.77,63.265 95.47,61.579 95.47,59.473C95.47,57.508 93.77,55.745 91.742,55.745L84.696,55.745L84.696,34.159C84.696,32.055 82.933,30.304 80.904,30.304C78.798,30.304 77.112,32.055 77.112,34.159L77.112,56.864ZM57.577,37.353L69.085,48.846C69.537,46.499 69.822,44.039 69.944,41.462C70.058,39.052 68.436,37.353 65.76,37.353L57.577,37.353Z" class="e ko" style="fill-rule:nonzero"/><path d="M74.836,86.183C73.314,87.009 72.694,88.508 73.202,90.112C73.645,91.875 75.484,92.813 77.68,92.192C78.523,91.978 79.342,91.737 80.136,91.47L74.836,86.183ZM63.679,75.053C63.541,75.216 63.403,75.377 63.265,75.537C63.619,78.153 64.051,80.858 64.565,83.705C62.601,85.499 60.566,86.989 58.485,88.121C58.563,88.437 58.643,88.754 58.724,89.07C59.866,93.217 66.041,91.707 65.28,87.485C65.026,86.195 64.788,84.936 64.565,83.705C65.871,82.512 67.144,81.184 68.376,79.739L63.679,75.053ZM49.193,60.601C42.237,65.599 38.42,72.786 38.42,79.578C38.42,86.511 42.56,90.612 49.417,90.612C52.479,90.612 55.528,89.729 58.485,88.121C57.916,85.83 57.42,83.559 56.992,81.293C57.255,82.819 58.163,87.912 58.485,88.121C61.221,86.739 63.725,84.672 64.565,83.705C64.518,83.358 63.172,74.846 63.128,74.503L55.129,66.523C55.455,71.496 56.062,76.377 56.992,81.293C54.481,83.011 51.966,84.005 49.607,84.005C46.644,84.018 45.077,82.288 45.077,79.135C45.077,74.517 48.142,69.018 53.696,65.093L49.193,60.601ZM74.952,54.318C74.855,54.518 74.838,54.614 74.911,54.65C74.965,54.745 79.869,59.632 79.966,59.714L82.649,62.394C85.407,63.796 87.391,65.752 88.389,68.127L95.576,75.306C95.742,74.29 95.823,73.248 95.816,72.182C95.723,64.166 90.348,58.087 81.518,55.485C81.709,54.916 81.86,54.404 82.041,53.827C82.714,51.696 81.419,49.793 79.328,49.641C77.476,49.375 76.029,50.327 75.485,52.443C75.322,53.065 75.144,53.691 74.952,54.318ZM74.742,54.298L74.952,54.318L74.885,54.536L74.86,54.615L74.524,54.279L74.742,54.298ZM62.708,41.002L62.659,41.596L62.599,42.368L67.576,47.339C73.579,46.896 79.871,46.075 86.495,44.767C88.626,44.398 89.589,43.167 89.576,41.367C89.564,39.415 87.926,38.16 85.772,38.439C78.415,39.894 70.333,40.71 62.708,41.002ZM56.084,35.861L61.28,41.051C61.28,41.051 62.589,42.357 62.598,42.365L62.708,41.002C62.89,38.788 63.105,36.486 63.349,34.074C63.616,31.892 62.069,30.206 59.8,30.194C57.835,30.194 56.54,31.663 56.274,34.086C56.209,34.68 56.145,35.271 56.084,35.861Z" class="e ja" style="fill-rule:nonzero"/><path d="M62.603,73.98L62.604,76.338L62.604,90.82C62.604,93.052 64.468,94.852 66.636,94.852C68.868,94.852 70.757,93.039 70.757,90.82L70.757,82.113L62.603,73.98ZM42.615,54.038C38.715,56.964 36.292,61.674 36.292,67.292C36.292,76.109 42.541,82.281 51.332,82.281C56.214,82.281 60.08,80.241 62.604,76.338L62.604,73.98L59.69,71.073C57.772,73.476 55.002,74.876 51.674,74.876C46.953,74.876 43.747,71.645 43.747,67.102C43.747,63.75 45.347,61.076 48.114,59.524L42.615,54.038ZM73.682,53.438L78.773,58.523C79.682,58.269 80.652,58.136 81.675,58.136C86.408,58.136 89.602,61.378 89.602,65.971C89.602,67.011 89.445,67.986 89.145,68.883L94.765,74.495C96.238,72.004 97.07,69.023 97.07,65.732C97.07,56.914 90.821,50.743 82.03,50.743C78.758,50.743 75.943,51.659 73.682,53.438ZM54.235,34.015L62.144,41.914L62.604,41.914L62.604,38.489L62.604,42.373L70.757,50.516L70.797,41.873L93.855,41.914C96.467,41.914 98.356,40.342 98.356,37.996C98.356,35.525 96.607,34.015 93.855,34.015L54.235,34.015Z" class="e hi" style="fill-rule:nonzero"/><path d="M90.032,53.575L76.523,67.052L79.915,71.344C79.116,71.69 83.907,70.209 76.525,67.049L74.56,69.011L70.547,73.014L83.224,89.152C84.734,91.004 87.409,91.321 89.159,89.836C90.945,88.367 91.237,85.755 89.741,83.776L79.915,71.344C86.598,68.456 90.032,62.736 90.032,54.428L90.032,53.575ZM53.812,51.709C47.543,54.531 44.256,59.933 44.071,67.85L56.634,55.302L53.812,51.709C54.082,52.15 56.627,55.302 56.627,55.302L62.558,49.385L50.784,34.488C49.35,32.573 46.726,32.332 45.053,33.803C43.239,35.413 42.883,37.823 44.457,39.8L53.812,51.709Z" class="e he" style="fill-rule:nonzero"/><path d="M65.166,78.381C63.881,84.11 59.397,88.496 53.125,90.394L65.166,78.381ZM29.864,82.04L36.221,75.69C35.908,74.368 35.749,72.882 35.749,71.237C35.749,67.801 36.335,64.546 37.163,60.655C38.179,55.582 31.051,54.099 29.669,59.538C28.498,63.708 27.913,68.043 27.913,71.831C27.913,75.792 28.584,79.214 29.864,82.04ZM95.712,47.909C101.206,50.735 104.594,57.034 104.594,63.439C104.594,71.507 99.246,75.25 87.543,75.25L76.275,75.25C73.343,75.25 71.102,75.034 69.139,74.419L76.139,67.435C76.527,67.456 76.919,67.464 77.313,67.464L88.127,67.464C94.009,67.464 96.567,65.914 96.567,62.4C96.567,58.573 93.501,54.609 89.149,54.456L95.712,47.909ZM54.447,57.487C53.758,53.862 56.771,51.926 59.247,52.693L54.447,57.487Z" class="e ar" style="fill-rule:nonzero"/><path d="M50.819,62.224L43.241,82.64C42.834,83.92 42.631,84.82 42.631,85.695C42.631,88.193 44.381,89.854 47.019,89.854C49.187,89.854 50.696,88.801 51.647,86.025L55.986,73.333L61.955,73.333L50.819,62.224ZM59.382,39.155L59.994,37.507C61.198,34.426 63.391,32.841 66.599,32.841C69.87,32.841 72.19,34.426 73.33,37.507L82.51,62.256L68.944,48.706L66.992,43.027L66.32,43.027L65.538,45.303L59.382,39.155Z" class="e en" style="fill-rule:nonzero"/></g></svg>', upe = '<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="m.93 2.9 1.19 1.19-.02.03c-.31.38-.47.92-.47 1.6v6.34c0 .77.2 1.35.57 1.74.38.39.96.58 1.74.58h1.14c.23 0 .4.05.51.15.1.1.16.28.16.53v2.37l2.63-2.6c.18-.19.35-.3.5-.36.15-.06.35-.09.6-.09h2.94l1.64 1.64H9.57l-2.84 2.51c-.28.25-.52.43-.73.55-.2.12-.42.18-.65.18-.34 0-.6-.1-.78-.32a1.3 1.3 0 0 1-.28-.88v-2.04h-.45c-.8 0-1.49-.16-2.06-.47a3.17 3.17 0 0 1-1.32-1.33 4.43 4.43 0 0 1-.46-2.1V5.67c0-.82.15-1.52.46-2.1.13-.25.28-.47.47-.67ZM1.04 0c.19 0 .34.07.48.2l16.72 16.7c.13.14.2.3.2.48s-.07.33-.2.46a.6.6 0 0 1-.47.2.64.64 0 0 1-.47-.2L.57 1.14A.64.64 0 0 1 .38.65C.38.47.45.32.58.2.7.07.85 0 1.03 0ZM14.7 1.77c.83 0 1.54.16 2.12.47.58.3 1.02.75 1.33 1.33.3.58.45 1.28.45 2.1v6.45c0 .82-.15 1.52-.45 2.1-.14.26-.3.49-.5.7l-1.19-1.2.05-.05c.3-.38.46-.92.46-1.61V5.72c0-.76-.2-1.34-.57-1.73-.38-.39-.96-.58-1.75-.58h-8.5L4.5 1.77h10.2ZM6.36 9.08a.83.83 0 1 1 0 1.66H4.71a.83.83 0 1 1 0-1.66h1.65Zm5.53 0c.46 0 .83.37.83.83v.07l-.9-.9h.07ZM4.4 6.38 6 7.97H4.7a.83.83 0 0 1-.3-1.6Zm9.7-.06a.83.83 0 1 1 0 1.66h-1.66a.83.83 0 1 1 0-1.66h1.66Zm-4.42 0a.83.83 0 0 1 .68 1.3l-1.3-1.3h.62Z" style="fill-rule:nonzero" transform="translate(.4 .14) scale(.81615)"/></svg>', cpe = '<svg viewBox="0 0 16 16"><path d="M6.9 12.9c.3 0 .5-.1.7-.4l5.3-8.4c.1-.1.1-.3.1-.4 0-.4-.2-.6-.6-.6-.3 0-.4.1-.6.3l-5 8-2.6-3.5c-.2-.2-.3-.3-.6-.3s-.6.2-.6.6c0 .2.1.3.2.5l3 3.9c.2.2.4.3.7.3z"/></svg>', ii = { AddToLibraryIcon: Xme, AddToPlaylistIcon: Zme, CalendarIcon: spe, CheckIcon: cpe, CreateStationIcon: epe, CreditsIcon: npe, EmbedCodeIcon: Jme, FavoriteIcon: Qme, FolderIcon: tpe, LinkIcon: Yme, PlayLaterIcon: Wme, PlaylistIcon: xme, PlayNextIcon: qme, RemoveFromPlaylistIcon: ipe, ShareIcon: Kme, ShowAlbumIcon: rpe, SuggestLessIcon: Gme, UnfavoriteIcon: jme, ShowTranslationIcon: ope, ShowPronunciationIcon: ape, HideTranslationIcon: lpe, HidePronunciationIcon: upe }, dpe = [z.Songs, z.LibrarySongs, z.Albums, z.LibraryAlbums, z.Playlists, z.LibraryPlaylists, z.MusicVideos, z.UploadedAudios, z.UploadedVideos]; var Pn = (n => (n.AddToLibrary = "addToLibrary", n.DeleteFromLibrary = "deleteFromLibrary", n.Favorite = "favorite", n.Unfavorite = "unfavorite", n.SuggestLess = "suggestLess", n.UndoSuggestLess = "undoSuggestLess", n))(Pn || {}); const w2 = { addToLibrary: { actionType: "select", actionDetails: { details: "addToLibrary" } }, deleteFromLibrary: { actionType: "delete", actionDetails: { details: "deleteFromLibrary" } }, favorite: { actionType: "favorite", actionDetails: null }, unfavorite: { actionType: "unfavorite", actionDetails: null }, suggestLess: { actionType: "hate", actionDetails: null }, undoSuggestLess: { actionType: "unhate", actionDetails: null } }; function fpe(n, e, t, i) { return { $kind: "catalogAction", type: n, id: e, kind: t, items: i, actionMetrics: { data: [{ excludingFields: [], includingFields: ["pageFields", "languages"], shouldFlush: !1, fields: { actionType: w2[n].actionType, targetType: "button", targetId: e, actionContext: "contextualAction", actionDetails: { ...w2[n].actionDetails, kind: t }, eventType: "click" } }], custom: {} } } } function jO(n, e, t, i) { return async (s, o, a) => { await (t == null ? void 0 : t.shouldDisplayPrivacyLink()) || (s === Pn.AddToLibrary ? await n.perform(df({ items: [{ contentDescriptor: a }] })) : await n.perform(fpe(s, o, a == null ? void 0 : a.kind)), i(s, s === Pn.DeleteFromLibrary), s === Pn.DeleteFromLibrary && !e && n.perform(tr({ kind: "libraryItemsDeleted", metadata: { id: o, type: s, isLibraryContentId: !0 } })), s === Pn.AddToLibrary && (a == null ? void 0 : a.kind) === "song" && n.perform(tr({ kind: "libraryItemAdded", metadata: { id: o } }))) } } const Jh = "library.pins.folder"; function w_(n, e, t, i, r) { if (n) { const s = e.kind; if (wne.includes(s)) return Mr.isPinned(n) ? [{ label: i.t(`ASE.Web.Music.Pins.ContextMenu.Unpin.${s}`), icon: null, action: () => t.perform(Sle(n, r)) }] : [{ label: i.t(`ASE.Web.Music.Pins.ContextMenu.Pin.${s}`), icon: null, action: () => t.perform(Dle(n, r)) }] } return [] } function gpe(n, e, t, i, r, s) { return n ? [...w_(n, t, i, r, s)] : [] } function hpe(n, e, t, i, r, s = !1, o, a, l, u, c = !1, d = void 0, f = !1) { const g = t == null ? void 0 : t.kind, h = jO(a, s, u, o), m = async () => { const y = n ? e : i.libraryId, k = Wg({ operationType: Bs.DeleteFromLibrary, libraryId: y, id: e, storefront: l.storefront, language: l.language, kind: g, noCache: !0 }); return a.dispatch(k) }, v = []; if (!e || !Lg.includes(g)) return v; const b = c && g === "playlist"; if (i != null && i.inLibrary || n) { const y = n ? e : i.libraryId; v.push(...w_(y, t, a, r)), !b && (typeof d > "u" || d) && v.push({ action: async () => { if (await mpe(g, r, f)) { const S = n ? e : i.libraryId; m() && (g === x.Playlist && cne(S), Mr.removePin(S, x.Album === g), h(Pn.DeleteFromLibrary, S, t), i.inLibrary = !1, i.libraryId = null) } }, label: r.t("ASE.Web.Music.Shared.ContextualMenu.DeleteFromLibrary"), icon: null }) } else !b && !n && v.push({ action: () => { h(Pn.AddToLibrary, e, t) }, label: r.t("ASE.Web.Music.Shared.ContextualMenu.AddToLibrary"), icon: ii.AddToLibraryIcon }); return v } async function mpe(n, e, t) { let i; switch (n) { case x.Playlist: i = t ? e.t("ASE.Web.Music.Library.Confirm.Delete.CollaborativePlaylist") : e.t("ASE.Web.Music.Library.Confirm.Delete.Playlist"); break; case x.Album: i = e.t("ASE.Web.Music.Library.Confirm.Delete.Album"); break; case x.Song: i = e.t("ASE.Web.Music.Library.Confirm.Delete.Song"); break; default: i = e.t("ASE.Web.Music.Library.Confirm.Delete") }return io({ header: e.t("ASE.Web.Music.Shared.ContextualMenu.DeleteFromLibrary"), message: i, actionText: e.t("ASE.Web.Music.OK"), confirmText: e.t("ASE.Web.Music.Cancel") }) } function ppe(n, e, t, i, r) { return e && !Uu.includes(n == null ? void 0 : n.kind) ? [{ action: () => { i.perform(Tne(n, r)) }, label: t.t("ASE.Web.Music.Shared.ContextualMenu.PlayNext"), icon: ii.PlayNextIcon }, { action: () => { i.perform(DR(n, r)) }, label: t.t("ASE.Web.Music.Shared.ContextualMenu.PlayLast"), icon: ii.PlayLaterIcon }] : [] } function _pe(n, e, t, i, r, s, o) { const a = new Map; if (_T.includes(i == null ? void 0 : i.kind)) { let l = kpe(i, r, s, o), u = vpe(e, i, t, r, s, a); u && l.push(u); const c = GO(n, i, t, r, s, a), d = [...bpe(u, n, i, t, s, a)]; return (c == null ? void 0 : c.length) > 0 && d.unshift(...c), (d == null ? void 0 : d.length) > 0 && l.push({ title: r.t("ASE.Web.Music.ContextualMenu.AllPlaylists"), items: d }), [{ label: r.t("ASE.Web.Music.ContextualMenu.AddToPlaylist"), icon: ii.AddToPlaylistIcon, styles: { ["--ctxmenu-submenu-min-width"]: "185px", ["--ctxmenu-submenu-max-width"]: "350px", ["--ctxmenu-submenu-max-height"]: "350px" }, action: () => { }, children: l }] } return [] } function vpe(n, e, t, i, r, s) { let o = ype(n, e, t, r, s); if (o.length > 0) return { title: i.t("ASE.Web.Music.ContextualMenu.RecentPlaylists"), items: o } } function bpe(n, e, t, i, r, s) { var a; let o = xO(e, t, i, r, s); return (o == null ? void 0 : o.length) <= 3 && ((a = n == null ? void 0 : n.items) != null && a.length) ? [] : o } function ype(n, e, t, i, r) { const s = Qt({ contentDescriptor: e }); let o = { targetType: "Playlist", targetId: s, eventType: "click", actionType: "select", actionDetails: { sectionName: "suggested", addTo: "playlist", contentId: s, kind: e == null ? void 0 : e.kind } }; return ((n == null ? void 0 : n.length) > 0 ? n.filter(l => l_(l)).filter(l => l.canEdit).map(l => { let u = { action: () => { var c; return i.perform(u_({ playlistId: (c = l == null ? void 0 : l.id) == null ? void 0 : c.resourceId, items: [e], storefront: t.storefront }, { ...o, targetId: l.id.resourceId })) }, label: l.label }; return r.set(u, l), u }) : []).slice(0, 3) } function GO(n, e, t, i, r, s) { return (n == null ? void 0 : n.length) > 0 ? n.filter(o => uO(o) && !cO(o)).map(o => ({ action: () => { }, label: o.label, icon: ii.FolderIcon, styles: { ["--ctxmenu-submenu-min-width"]: "185px", ["--ctxmenu-submenu-max-width"]: "350px", ["--ctxmenu-submenu-max-height"]: "250px" }, children: [...GO(o.children, e, t, i, r, s), ...xO(o.children, e, t, r, s)].filter(Boolean) })) : null } function xO(n, e, t, i, r) { const s = { targetType: "Playlist", actionType: "select", actionDetails: { addTo: "playlist", sectionName: "allPlaylists", contentId: Qt({ contentDescriptor: e }), kind: e == null ? void 0 : e.kind } }, o = wpe(n, e, t, i, s, r); return (o == null ? void 0 : o.length) > 0 ? o : [] } function wpe(n, e, t, i, r = {}, s) { return (n == null ? void 0 : n.length) > 0 ? n.filter(o => l_(o)).filter(o => o.canEdit).map(o => { let a = { action: () => { var l; return i.perform(u_({ playlistId: (l = o == null ? void 0 : o.id) == null ? void 0 : l.resourceId, items: [e], storefront: t.storefront }, r)) }, label: o.label }; return s.set(a, o), a }) : [] } function kpe(n, e, t, i) { const r = Qt({ contentDescriptor: n }); return [{ items: [{ action: () => { Dd.set({ id: r, kind: n.kind, contentDescriptor: n, title: "", description: "", isPublic: !1, artwork: i }), wd.set(!0), t.recordCustomMetricsEvent({ targetType: "button", targetId: "newPlaylist", eventType: "click", actionType: "select", actionDetails: { addTo: "playlist", contentId: r, kind: n == null ? void 0 : n.kind } }), t.recordCustomMetricsEvent({ eventType: "page", pageDetails: null, pageDisplayType: "cardView", pageId: "NewPlaylist", pageType: "Playlist" }) }, label: e.t("ASE.Web.Music.ContextualMenu.NewPlaylist"), icon: ii.AddToLibraryIcon }] }] } const eN = [z.Songs, z.LibrarySongs]; function Ml(n, e, t, i, r, s, o, a) { const l = tN(n, e, t, i, s, o), u = { inFavorites: !i }; i || (u.suggestLess = !1), r == null || r.set(n, e, u), a(l) } function tN(n, e, t, i, r, s) { const o = ta({ contentDescriptor: t }), a = i ? Pn.Unfavorite : Pn.Favorite, l = [], u = Dpe(t.identifiers.cloudUniversalLibraryID, o, a, r); u && l.push(u), !$t(Np) && eN.includes(o) && l.push(Kg()); const c = s ? vte(a, e, n) : void 0; return iee(n, o, !i, c, l) } function Dpe(n, e, t, i) { if (i && eN.includes(e) && [Pn.Unfavorite, Pn.DeleteFromLibrary].includes(t)) return tr({ kind: "favoritesPlaylistStatusChanged", metadata: { id: n, type: e } }) } function k2(n, e, t, i, r, s, o, a, l) { if (!Hu.includes(t) && !M1.includes(t)) return []; const u = jO(a, !1, l, o), c = async m => { const v = toe({ operationType: m, id: n, type: t }); return a.dispatch(v) }, d = async m => { const v = { [Pn.SuggestLess]: Vu.SuggestLess, [Pn.UndoSuggestLess]: Vu.UndoSuggestLess }; await c(v[m]) && u(m, n, i) }, g = Spe(n, t, e, s, async m => { u(m, n, i), e.inFavorites = m === Pn.Favorite; const v = tN(n, Ic[t], i, m !== Pn.Favorite, r, !1); return a.perform(v) }), h = Hu.includes(t) ? Cpe(n, t, e, s, d) : []; return [...g, ...h] } function Spe(n, e, t, i, r) { return M1.includes(e) ? !n || t != null && t.suggestLess ? [] : t != null && t.inFavorites ? [{ action: () => r(Pn.Unfavorite), label: i.t("ASE.Web.Music.Shared.ContextualMenu.Unfavorite"), icon: ii.UnfavoriteIcon }] : [{ action: () => r(Pn.Favorite), label: i.t("ASE.Web.Music.Shared.ContextualMenu.Favorite"), icon: ii.FavoriteIcon }] : [] } function Cpe(n, e, t, i, r) { return Hu.includes(e) ? !n || t != null && t.inFavorites ? [] : t != null && t.suggestLess ? [{ action: () => r(Pn.UndoSuggestLess), label: i.t("ASE.Web.Music.Shared.ContextualMenu.UndoSuggestLess"), icon: ii.SuggestLessIcon }] : [{ action: () => r(Pn.SuggestLess), label: i.t("ASE.Web.Music.Shared.ContextualMenu.SuggestLess"), icon: ii.SuggestLessIcon }] : [] } var Yu = (n => (n.Link = "link", n.Embed = "embed", n))(Yu || {}); const Ppe = { link: "copyLink", embed: "copyEmbedCode" }; function Ape(n, e, t) { return { $kind: "shareSocialAction", type: n, url: e, actionMetrics: { data: [{ excludingFields: [], includingFields: [], shouldFlush: !1, fields: { actionType: "select", targetType: "button", targetId: t, actionContext: "contextualAction", actionDetails: { details: Ppe[n] }, eventType: "click" } }], custom: {} } } } const D2 = 1e3; function Yh(n, e, t, i, r, s) { let o = s || (n == null ? void 0 : n.catalogUrl) || (n == null ? void 0 : n.url); n.kind === x.Song && (o = Do(o)); const a = async c => { r.perform(Ape(c, o, e)) }, l = dpe.includes(i); return Epe(l, r, t, a, o) } function Epe(n, e, t, i, r) { if (!r) return []; const s = { url: r, actionHandler: l => e.perform(l) }, { actionHandler: o, hasWebShareActionHandler: a } = ale(s); return [...a ? [{ label: t.t("ASE.Web.Music.Shared.ContextualMenu.Share"), styles: { ["--ctxmenu-submenu-min-width"]: "185px" }, icon: ii.ShareIcon, action: o, menuOpenOnClick: !0 }] : [], { action: () => i(Yu.Link), label: t.t("ASE.Web.Music.Shared.ContextualSharing.CopyLink.Label"), icon: ii.LinkIcon, clickTransition: { newText: t.t("ASE.Web.Music.Shared.ContextualSharing.CopyLink.SuccessMessage"), hideIcon: !0, closeAfter: D2 } }, ...n ? [{ action: () => i(Yu.Embed), label: t.t("ASE.Web.Music.Shared.ContextualSharing.CopyEmbedCode.Label"), icon: ii.EmbedCodeIcon, clickTransition: { newText: t.t("ASE.Web.Music.Shared.ContextualSharing.CopyEmbedCode.SuccessMessage"), hideIcon: !0, closeAfter: D2 } }] : []] } function Ipe(n, e, t) { return n != null && n.albumID ? Mpe(n, e, t) : (n == null ? void 0 : n.kind) === x.Song ? Lpe(n, e, t) : [] } function Mpe(n, e, t) { const i = { identifiers: { storeAdamID: n == null ? void 0 : n.albumID }, kind: x.Album, url: n.url }; return [{ label: e.t("ASE.Web.Music.ContextualMenu.ShowAlbum"), icon: ii.ShowAlbumIcon, action: () => { t.perform(At({ kind: vt.CatalogPage, intent: bg(i) }, Ve)) } }] } function Lpe(n, e, t) { return vT(n) ? [] : [{ label: e.t("ASE.Web.Music.ContextualMenu.ViewCredits"), icon: ii.CreditsIcon, action: async () => { t.perform(Lt([Nne(), At({ kind: vt.CatalogPage, intent: cle(n) }, { data: [{ excludingFields: [], includingFields: ["pageFields", "languages"], shouldFlush: !1, fields: { targetId: n == null ? void 0 : n.identifiers.storeAdamID, actionType: "credits", targetType: "button", actionContext: "contextualAction", eventType: "click" } }], custom: {} })], Ve)) } }] } async function Tpe(n, e, t, i, r, s) { let o; if ((r == null ? void 0 : r.inLibrary) === void 0 && !s && Lg.includes(t)) { const l = Wg({ operationType: Bs.GetInLibrary, storefront: i.storefront, language: i.language, id: e, kind: t }), u = await n.dispatch(l); if (o = s ? r : {}, u != null && u[0]) { const { id: c, ...d } = u == null ? void 0 : u[0]; o = { ...d } } } return o } async function Rpe(n, e) { var i; const t = await e.dispatch(Hse({ id: n })); return (i = t == null ? void 0 : t.attributes) == null ? void 0 : i.url } var nN = (n => (n.GetLink = "getLink", n.Join = "joinCollab", n.Manage = "manageCollab", n))(nN || {}), yu = (n => (n.ContextMenu = "contextMenu", n.Follow = "follow", n.NeedsApproval = "needsApproval", n))(yu || {}), $p = (n => (n.Approve = "approve", n.Remove = "remove", n))($p || {}), gf = (n => (n.Self = "self", n.Collaborator = "collaborator", n))(gf || {}), Vp = (n => (n.Host = "host", n.Collaborator = "collaborator", n))(Vp || {}); function Fpe(n, e, t) { const i = [{ $kind: "endCollaborationAction", playlistId: n, removeSourceType: e, socialProfileId: t, actionMetrics: { data: [], custom: {} } }]; return (!e || e === gf.Self) && i.push(gr(i_({ storefront: "us", language: "en" }), bO.type, "/library/all-playlists")), Lt(i, Ve) } const iN = "contextualMenu"; function Fo() { const n = gi(iN); if (!n) throw new Error("getContextualMenu called before ContextualMenu.setup"); return n } class k_ { static setup(e, t, i, r, s, o, a, l, u) { const c = new k_(t, i, r, s, o, a, l, u); return e.set(iN, c), c } constructor(e, t, i, r, s, o, a, l) { this.jet = e, this.localLibraryState = i, this.playback = r, this.locale = t, this.$i18n = s, this.log = o.loggerFor("ContextualMenu"), this.commerce = a, this.sharePlay = l } getAllMediaItemsConfig(e) { var G, ae, ee; const { contentDescriptor: t, canEditPlaybackQueue: i, skipInvalidationOnDelete: r, onCatalogActionComplete: s = () => { }, playlists: o, prependItems: a = [], recommendedPlaylists: l, shareUrl: u, isPlayable: c, itemProperties: d, isFavoritesPlaylist: f, canDelete: g } = e, h = $t((G = this.commerce) == null ? void 0 : G.state), m = bi((ae = h.user) == null ? void 0 : ae.subscriberType), { locale: v, jet: b, localLibraryState: y, playback: k } = this, { kind: S, isLibraryContentId: C, contentId: P, type: M } = this.getKindInfo(t, this.localLibraryState), R = y.get(P, S), F = this.getOptionalPlaylistItems(t, d), N = Yh(t, P, this.$i18n, M, this.jet, u), O = _pe(o, l, v, t, this.$i18n, b, d == null ? void 0 : d.artwork), B = hpe(C, P, t, R, this.$i18n, r, s, b, v, k, f, g), U = ppe(t, i, this.$i18n, b, d == null ? void 0 : d.recoID), K = this.getStationConfig(t), W = k2(P, R, M, t, f, this.$i18n, s, b, k), Z = Ipe(t, this.$i18n, b); let Q = []; return c && m && !Uu.includes(S) && this.jet.isUserInHomeStorefront() ? Q = [...B, ...O, ...U, ...K, ...W] : (ee = this.sharePlay) != null && ee.inSession && (Q = [...U]), { items: [...a, ...F, ...Q, ...Z, ...N] } } getStationConfig(e) { if ((e == null ? void 0 : e.kind) === x.Song && !vT(e)) { const t = fr({ contentDescriptor: e }); return [this.makeCreateStationOption(t, e.kind)] } return [] } getCollaborationMenuOptions(e, t, i, r = !1, s) { const o = []; if (e && t) { const a = r ? "Remove Me" : "Remove Collaborator", l = r ? gf.Self : gf.Collaborator; o.push({ label: a, icon: null, action: async () => { await Ope(i, r) && (await this.jet.perform(Fpe(e, l, t)), s(r)) } }) } return { items: o } } getArtistItemsConfig(e, t, i, r, s) { var C, P; const o = () => { }, a = $t((C = this.commerce) == null ? void 0 : C.state), l = bi((P = a == null ? void 0 : a.user) == null ? void 0 : P.subscriberType), { jet: u, playback: c, $i18n: d } = this, { type: f, isLibraryContentId: g, contentId: h } = this.getKindInfo(e, this.localLibraryState), m = e == null ? void 0 : e.identifiers.storeAdamID, v = g ? h : r == null ? void 0 : r.libraryId; let b = []; e && (b = w_(v, e, u, d)); const y = t || !m ? [] : [this.makeCreateStationOption(m, e.kind)], k = l && e ? k2(h, r, f, e, !1, d, o, u, c) : [], S = e ? Yh(e, h, d, z.Artists, this.jet, s) : []; return { items: [...b, ...y, ...k, ...S], hasTriggerButton: i } } makeCreateStationOption(e, t) { return { label: this.$i18n.t("ASE.Web.Music.ContextualMenu.CreateStation"), icon: ii.CreateStationIcon, action: () => { this.jet.perform(PR(e, t)) } } } getSharingItemsConfig(e, t, i, r) { return Yh(e, t, this.$i18n, i, this.jet, r) } getOptionalPlaylistItems(e, t) { const i = []; return e.kind === x.Playlist && t.canEdit && i.push({ label: this.$i18n.t("ASE.Web.Music.ContextualMenu.Edit"), action: () => { kd.set(!0), cR.set({ id: e.identifiers.cloudUniversalLibraryID, kind: e.kind, contentDescriptor: e, title: t.title, description: t.description, isPublic: t == null ? void 0 : t.isPublic }) } }), i } getLibrarySidebarItemConfig(e, t, i, r) { const s = { kind: t.kind, identifiers: { cloudUniversalLibraryID: e } }, o = mR.includes(t.kind), { playAction: a, playLastAction: l, playNextAction: u, shuffleAction: c } = t.contextualMenuActions, d = [{ action: () => this.jet.perform(a), label: this.$i18n.t("ASE.Web.Music.Play"), icon: null }, ...o ? [{ action: () => this.jet.perform(c), label: this.$i18n.t("ASE.Web.Music.Shuffle"), icon: null }] : []], f = [{ action: () => this.jet.perform(u), label: this.$i18n.t("ASE.Web.Music.Shared.ContextualMenu.PlayNext"), icon: null }, { action: () => this.jet.perform(l), label: this.$i18n.t("ASE.Web.Music.Shared.ContextualMenu.PlayLast"), icon: null }], g = gpe(e, t, s, this.jet, this.$i18n, r).map(m => ({ items: [m] })), h = i || o; return { items: [...h ? d : [], ...h ? [{ items: f }] : f, ...g] } } async fetchUpdatedLibraryState(e, t) { const { kind: i, isLibraryContentId: r, contentId: s, type: o } = this.getKindInfo(e, this.localLibraryState), a = () => this.localLibraryState.get(s, i); let l = a(); if (!(Uu.includes(i) || !s)) { try { const u = await Tpe(this.jet, s, i, this.locale, l, r); this.localLibraryState.set(s, i, u), l = a() } catch (u) { t.error("error in fetching Library Relationship & Ratings: ", u) } return l } } async getShareUrl(e, t) { const { isLibraryContentId: i, contentId: r, type: s } = this.getKindInfo(e, this.localLibraryState); if (!(!(i && s === z.LibraryPlaylists) || !r)) try { return Rpe(r, this.jet) } catch (o) { t.error("error in fetching Library Playlists share url: ", o) } } async getSuggestedPlaylists(e, t) { return new Promise(async i => { const r = await this.jet.dispatch(dae({})); F1.set(r), i(r) }) } getKindInfo(e, t) { var u; const i = e ? vl(e) : null, r = e == null ? void 0 : e.kind, s = fr({ contentDescriptor: e }), o = (u = t.get(s, r)) == null ? void 0 : u.libraryId, a = !Tg(e) && (o ? o === s : i == null ? void 0 : i.has("library")), l = a ? I1[r] : pa[r]; return { kind: r, isLibraryContentId: a, contentId: s, type: l } } } async function Ope(n, e) { return io({ header: e ? "Remove yourself as a collaborator?" : "Remove Collaborator?", message: e ? "Once removed, you will no longer be able to make edits to this playlist." : "Once removed, they will no longer be able to make edits to this playlist.", actionText: "Remove", confirmText: n.t("ASE.Web.Music.Cancel") }) } const rN = "localLibraryState"; function Qn() { const n = gi(rN); if (!n) throw new Error("getLocalLibraryState called before LocalLibraryState.setup"); return n } class D_ { constructor(e) { this.storesMapForContentId = new Map, this.log = e, this.state = S2() } static setup(e, t) { const i = t.loggerFor("LocalLibraryState"), r = new D_(i); return e.set(rN, r), r } set(e, t, i) { const r = this.state[t].get(e), s = { ...r, ...i }, o = r ? "overriding" : "writing"; this.log.info(`${o} state for id ${e} and kind ${t}:`, s), this.state[t].set(e, s), this.publishUpdateToContentId(e) } get(e, t) { var i; if (e) return this.log.debug(`get state for id ${e} and kind ${t}`), (i = this.state[t]) == null ? void 0 : i.get(e) } clear() { this.state = S2(); for (const [e] of this.storesMapForContentId) this.publishUpdateToContentId(e); this.storesMapForContentId = new Map } subscribeToUpdates(e) { var r; if (!e) return; this.storesMapForContentId.get(e) || this.storesMapForContentId.set(e, { count: 0, updated: Tt(Symbol()) }); const t = this.storesMapForContentId.get(e), i = (t == null ? void 0 : t.count) || 0; return this.storesMapForContentId.set(e, { ...t, count: i + 1 }), (r = this.storesMapForContentId.get(e)) == null ? void 0 : r.updated } unsubscribeFromUpdates(e) { const t = this.storesMapForContentId.get(e), i = t == null ? void 0 : t.count; i === 1 ? this.storesMapForContentId.delete(e) : i > 0 && (t.count = i - 1) } publishUpdateToContentId(e) { const t = this.storesMapForContentId.get(e); t && t.updated.set(Symbol()) } } function S2() { return { [x.Artist]: new Map, [x.Album]: new Map, [x.ArtistUploadedVideo]: new Map, [x.Playlist]: new Map, [x.Song]: new Map, [x.MusicVideo]: new Map, [x.TVEpisode]: new Map } } function Cr(n, e) { let t, i; return function (...s) { const o = () => { n.apply(this, s), i = Date.now() }; if (!i) o(); else { clearTimeout(t); const a = Date.now() - i, l = Math.max(0, e - a); t = setTimeout(() => { a >= e && o() }, l) } } } function Npe(n) { let e, t; return e = new Ro({ props: { translateFn: n[3].t, config: n[2], buttonStyle: n[0], hasMaterial: n[1] } }), e.$on("mouseover", n[7]), e.$on("triggerFocus", n[7]), e.$on("contextMenuVisibilityChange", n[20]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 8 && (s.translateFn = i[3].t), r[0] & 4 && (s.config = i[2]), r[0] & 1 && (s.buttonStyle = i[0]), r[0] & 2 && (s.hasMaterial = i[1]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } const Bpe = 3e3; function C2(n) { var e; return Array.isArray(n) ? (e = n == null ? void 0 : n[0]) === null || e === void 0 ? void 0 : e.contentDescriptor : n } function Upe(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g; ce(n, al, we => t(24, l = we)), ce(n, F1, we => t(25, u = we)), ce(n, to, we => t(26, c = we)); var h; const m = ot(); ce(n, m, we => t(3, g = we)); const { state: v } = zn(); ce(n, v, we => t(27, d = we)); const { state: b } = xt(); ce(n, b, we => t(19, f = we)); const y = Fo(), k = kn("<ProductContextMenu>"); let { attachedTo: S } = e, { isPlayable: C } = e, { itemProperties: P } = e, { canDelete: M = void 0 } = e, { prependItems: R = [] } = e, { buttonStyle: F = "platter" } = e, { hasMaterial: N = !0 } = e, { shareUrl: O = null } = e, { skipInvalidationOnDelete: B = !1 } = e; const U = It(), K = Qn(); let W = { items: [] }; const Z = (we, Te) => { U("actionComplete", { type: "catalogAction", catalogActionType: we, localLibraryStateId: o, kind: i == null ? void 0 : i.kind, isLibraryContentId: Te }), ee() }, G = Cr(async () => { ae(), pe(), ee() }, Bpe), ae = async () => { if (O || i != null && i.url || i != null && i.catalogUrl) return; const we = await y.getShareUrl(i, k); we && (t(8, O = we), ee()) }, ee = async () => { s && (a = await y.fetchUpdatedLibraryState(i, k)), t(2, W = y.getAllMediaItemsConfig({ canEditPlaybackQueue: d.playbackCapabilities.canEditPlaybackQueue, contentDescriptor: C2(S), isPlayable: C, itemLibraryState: a, itemProperties: P, onCatalogActionComplete: Z, playlists: c || [], recommendedPlaylists: u, prependItems: R, shareUrl: O, skipInvalidationOnDelete: B, isFavoritesPlaylist: l, canDelete: M })) }, pe = async () => { if (!(!_T.includes(i == null ? void 0 : i.kind) || !s)) try { await y.getSuggestedPlaylists(i, k) } catch (we) { k.error("error in fetching the suggested playlists: ", we) } finally { ee() } }; fne(we => { we && ee() }); function ke(we) { Bt.call(this, n, we) } return n.$$set = we => { "attachedTo" in we && t(9, S = we.attachedTo), "isPlayable" in we && t(10, C = we.isPlayable), "itemProperties" in we && t(11, P = we.itemProperties), "canDelete" in we && t(12, M = we.canDelete), "prependItems" in we && t(13, R = we.prependItems), "buttonStyle" in we && t(0, F = we.buttonStyle), "hasMaterial" in we && t(1, N = we.hasMaterial), "shareUrl" in we && t(8, O = we.shareUrl), "skipInvalidationOnDelete" in we && t(14, B = we.skipInvalidationOnDelete) }, n.$$.update = () => { n.$$.dirty[0] & 512 && t(16, i = C2(S)), n.$$.dirty[0] & 65536 && t(18, r = i == null ? void 0 : i.kind), n.$$.dirty[0] & 557056 && (s = bi(t(15, h = f.user) === null || h === void 0 ? void 0 : h.subscriberType)), n.$$.dirty[0] & 65536 && t(17, o = fr({ contentDescriptor: i })), n.$$.dirty[0] & 393216 && (a = K.get(o, r)) }, [F, N, W, g, m, v, b, G, O, S, C, P, M, R, B, h, i, o, r, f, ke] } class ls extends oe { constructor(e) { super(), se(this, e, Upe, Npe, ye, { attachedTo: 9, isPlayable: 10, itemProperties: 11, canDelete: 12, prependItems: 13, buttonStyle: 0, hasMaterial: 1, shareUrl: 8, skipInvalidationOnDelete: 14 }, null, [-1, -1]) } } function P2(n) { let e, t, i, r; return { c() { e = L("span"), t = ve("svg"), i = ve("path"), this.h() }, l(s) { e = T(s, "SPAN", { class: !0, "aria-label": !0 }); var o = E(e); t = be(o, "svg", { xmlns: !0, viewBox: !0, width: !0, height: !0, class: !0 }); var a = E(t); i = be(a, "path", { d: !0 }), E(i).forEach(_), a.forEach(_), o.forEach(_), this.h() }, h() { p(i, "d", "M13.559 60.051c1.102.86 2.5.565 4.166-.645l14.218-10.455L46.19 59.406c1.666 1.21 3.037 1.505 4.166.645 1.102-.833 1.344-2.204.672-4.166l-5.618-16.718 14.353-10.32c1.666-1.183 2.338-2.42 1.908-3.764-.43-1.29-1.693-1.935-3.763-1.908l-17.605.108-5.348-16.8C34.308 4.496 33.34 3.5 31.944 3.5c-1.372 0-2.34.995-2.984 2.984L23.61 23.283l-17.605-.108c-2.07-.027-3.333.618-3.763 1.908-.457 1.344.242 2.58 1.909 3.763l14.352 10.321-5.617 16.718c-.672 1.962-.43 3.333.672 4.166Z"), p(t, "xmlns", "http://www.w3.org/2000/svg"), p(t, "viewBox", "0 0 64 64"), p(t, "width", "64"), p(t, "height", "64"), p(t, "class", "svelte-17bwnrw"), p(e, "class", "favorite svelte-17bwnrw"), p(e, "aria-label", r = n[1].t("ASE.Web.Music.Favorite")) }, m(s, o) { I(s, e, o), A(e, t), A(t, i) }, p(s, o) { o & 2 && r !== (r = s[1].t("ASE.Web.Music.Favorite")) && p(e, "aria-label", r) }, d(s) { s && _(e) } } } function Hpe(n) { let e, t = n[0] && P2(n); return { c() { t && t.c(), e = re() }, l(i) { t && t.l(i), e = re() }, m(i, r) { t && t.m(i, r), I(i, e, r) }, p(i, [r]) { i[0] ? t ? t.p(i, r) : (t = P2(i), t.c(), t.m(e.parentNode, e)) : t && (t.d(1), t = null) }, i: j, o: j, d(i) { i && _(e), t && t.d(i) } } } function $pe(n, e, t) { let i; const r = ot(); ce(n, r, o => t(1, i = o)); let { inFavorites: s } = e; return n.$$set = o => { "inFavorites" in o && t(0, s = o.inFavorites) }, [s, i, r] } class us extends oe { constructor(e) { super(), se(this, e, $pe, Hpe, ye, { inFavorites: 0 }) } } const sN = ["strong", "em", "b", "i", "u", "br"], Vpe = {}; function zpe(n, e, { allowedTags: t, extraAllowedTags: i, allowedAttributes: r = Vpe, keepChildrenWhenRemovingParent: s } = {}) { if (t && i) throw new Error("sanitizeHtml got both allowedTags and extraAllowedTags"); const o = new Set([...i || [], ...t || sN]), a = {}; for (const [u, c] of Object.entries(r)) a[u] = new Set(c); const l = n.createElement("div"); for (const u of [...e.childNodes]) oN(u, o, a, s).forEach(d => { l.appendChild(d) }); return l.innerHTML } function oN(n, e, t, i) { if ([n.TEXT_NODE, n.CDATA_SECTION_NODE].includes(n.nodeType)) return [n]; const r = (n.tagName || "").toLowerCase(); if (!e.has(r)) return i ? A2(n, e, t, i) : []; const s = n.ownerDocument.createElement(r), o = t[r] || new Set; for (const { name: l, nodeValue: u } of [...n.attributes]) o.has(l) && s.setAttribute(l, u); return A2(n, e, t, i).forEach(l => { s.appendChild(l) }), [s] } const A2 = (n, e, t, i) => [...n.childNodes].map(s => oN(s, e, t, i)).flat(); let Xh = null; function Zn(n, e = {}) { if (!n) return n; Xh || (Xh = new DOMParser); const t = Xh.parseFromString(`${n}`, "text/html"), i = t.body; return zpe(t, i, e) } function qpe(n) { let e; const t = n[8].default, i = We(t, n, n[7], null); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 128) && Je(i, t, r, r[7], e ? Ke(t, r[7], s, null) : Ye(r[7]), null) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function Wpe(n) { let e, t, i, r, s; const o = n[8].default, a = We(o, n, n[7], null); return { c() { e = L("button"), a && a.c(), this.h() }, l(l) { e = T(l, "BUTTON", { "data-testid": !0, class: !0, "aria-label": !0, tabindex: !0 }); var u = E(e); a && a.l(u), u.forEach(_), this.h() }, h() { p(e, "data-testid", "click-action"), p(e, "class", "click-action svelte-c0t0j2"), p(e, "aria-label", n[1]), e.disabled = n[2], p(e, "tabindex", n[4]), J(e, "click-action--cta-link", n[3]) }, m(l, u) { I(l, e, u), a && a.m(e, null), n[11](e), i = !0, r || (s = Ut(t = va.call(null, e, n[0])), r = !0) }, p(l, u) { a && a.p && (!i || u & 128) && Je(a, o, l, l[7], i ? Ke(o, l[7], u, null) : Ye(l[7]), null), (!i || u & 2) && p(e, "aria-label", l[1]), (!i || u & 4) && (e.disabled = l[2]), (!i || u & 16) && p(e, "tabindex", l[4]), t && Ft(t.update) && u & 1 && t.update.call(null, l[0]), (!i || u & 8) && J(e, "click-action--cta-link", l[3]) }, i(l) { i || (w(a, l), i = !0) }, o(l) { D(a, l), i = !1 }, d(l) { l && _(e), a && a.d(l), n[11](null), r = !1, s() } } } function Kpe(n) { let e, t, i, r, s, o; const a = n[8].default, l = We(a, n, n[7], null); return { c() { e = L("a"), l && l.c(), this.h() }, l(u) { e = T(u, "A", { "data-testid": !0, class: !0, href: !0, target: !0, rel: !0, "aria-label": !0, tabindex: !0 }); var c = E(e); l && l.l(c), c.forEach(_), this.h() }, h() { p(e, "data-testid", "click-action"), p(e, "class", "click-action svelte-c0t0j2"), p(e, "href", t = Kr(n[0]) || "#"), p(e, "target", "_blank"), p(e, "rel", "noopener noreferrer"), p(e, "aria-label", n[1]), p(e, "tabindex", n[4]), J(e, "click-action--cta-link", n[3]) }, m(u, c) { I(u, e, c), l && l.m(e, null), n[10](e), r = !0, s || (o = Ut(i = va.call(null, e, n[0])), s = !0) }, p(u, c) { l && l.p && (!r || c & 128) && Je(l, a, u, u[7], r ? Ke(a, u[7], c, null) : Ye(u[7]), null), (!r || c & 1 && t !== (t = Kr(u[0]) || "#")) && p(e, "href", t), (!r || c & 2) && p(e, "aria-label", u[1]), (!r || c & 16) && p(e, "tabindex", u[4]), i && Ft(i.update) && c & 1 && i.update.call(null, u[0]), (!r || c & 8) && J(e, "click-action--cta-link", u[3]) }, i(u) { r || (w(l, u), r = !0) }, o(u) { D(l, u), r = !1 }, d(u) { u && _(e), l && l.d(u), n[10](null), s = !1, o() } } } function Jpe(n) { let e, t, i, r, s, o; const a = n[8].default, l = We(a, n, n[7], null); return { c() { e = L("a"), l && l.c(), this.h() }, l(u) { e = T(u, "A", { "data-testid": !0, class: !0, href: !0, "aria-label": !0, tabindex: !0 }); var c = E(e); l && l.l(c), c.forEach(_), this.h() }, h() { p(e, "data-testid", "click-action"), p(e, "class", "click-action svelte-c0t0j2"), p(e, "href", t = Kr(n[0]) || "#"), p(e, "aria-label", n[1]), p(e, "tabindex", n[4]), J(e, "click-action--cta-link", n[3]) }, m(u, c) { I(u, e, c), l && l.m(e, null), n[9](e), r = !0, s || (o = Ut(i = va.call(null, e, n[0])), s = !0) }, p(u, c) { l && l.p && (!r || c & 128) && Je(l, a, u, u[7], r ? Ke(a, u[7], c, null) : Ye(u[7]), null), (!r || c & 1 && t !== (t = Kr(u[0]) || "#")) && p(e, "href", t), (!r || c & 2) && p(e, "aria-label", u[1]), (!r || c & 16) && p(e, "tabindex", u[4]), i && Ft(i.update) && c & 1 && i.update.call(null, u[0]), (!r || c & 8) && J(e, "click-action--cta-link", u[3]) }, i(u) { r || (w(l, u), r = !0) }, o(u) { D(l, u), r = !1 }, d(u) { u && _(e), l && l.d(u), n[9](null), s = !1, o() } } } function Ype(n) { let e, t, i, r, s, o; const a = [Jpe, Kpe, Wpe, qpe], l = []; function u(c, d) { return d & 1 && (e = null), d & 1 && (t = null), e == null && (e = !!(ws(c[0]) || rO(c[0]))), e ? 0 : (t == null && (t = !!(zs(c[0]) || ra(c[0]))), t ? 1 : c[0] ? 2 : 3) } return i = u(n, -1), r = l[i] = a[i](n), { c() { r.c(), s = re() }, l(c) { r.l(c), s = re() }, m(c, d) { l[i].m(c, d), I(c, s, d), o = !0 }, p(c, [d]) { let f = i; i = u(c, d), i === f ? l[i].p(c, d) : (te(), D(l[f], 1, 1, () => { l[f] = null }), ne(), r = l[i], r ? r.p(c, d) : (r = l[i] = a[i](c), r.c()), w(r, 1), r.m(s.parentNode, s)) }, i(c) { o || (w(r), o = !0) }, o(c) { D(r), o = !1 }, d(c) { c && _(s), l[i].d(c) } } } function Xpe(n, e, t) { let { $$slots: i = {}, $$scope: r } = e, { action: s = null } = e, { ariaLabel: o = null } = e, { disabled: a = !1 } = e, { isCtaLink: l = !1 } = e, { tabIndex: u = null } = e, { nodeRef: c = () => { } } = e, d; Yt(() => { c(d) }); function f(m) { wt[m ? "unshift" : "push"](() => { d = m, t(5, d) }) } function g(m) { wt[m ? "unshift" : "push"](() => { d = m, t(5, d) }) } function h(m) { wt[m ? "unshift" : "push"](() => { d = m, t(5, d) }) } return n.$$set = m => { "action" in m && t(0, s = m.action), "ariaLabel" in m && t(1, o = m.ariaLabel), "disabled" in m && t(2, a = m.disabled), "isCtaLink" in m && t(3, l = m.isCtaLink), "tabIndex" in m && t(4, u = m.tabIndex), "nodeRef" in m && t(6, c = m.nodeRef), "$$scope" in m && t(7, r = m.$$scope) }, [s, o, a, l, u, d, c, r, i, f, g, h] } class en extends oe { constructor(e) { super(), se(this, e, Xpe, Ype, ye, { action: 0, ariaLabel: 1, disabled: 2, isCtaLink: 3, tabIndex: 4, nodeRef: 6 }) } } function E2(n) { let e, t, i, r = Zn(n[0].headline) + ""; return { c() { e = L("li"), t = L("span"), i = new Pi(!1), this.h() }, l(s) { e = T(s, "LI", { class: !0, "data-testid": !0, dir: !0 }); var o = E(e); t = T(o, "SPAN", { dir: !0 }); var a = E(t); i = hr(a, !1), a.forEach(_), o.forEach(_), this.h() }, h() { i.a = null, p(t, "dir", "auto"), p(e, "class", "top-search-list-lockup__headline svelte-1pbnx61"), p(e, "data-testid", "top-search-list-result-headline"), p(e, "dir", "auto") }, m(s, o) { I(s, e, o), A(e, t), i.m(r, t) }, p(s, o) { o[0] & 1 && r !== (r = Zn(s[0].headline) + "") && i.p(r) }, d(s) { s && _(e) } } } function Zpe(n) { let e, t = n[0].title + "", i; return { c() { e = L("span"), i = le(t), this.h() }, l(r) { e = T(r, "SPAN", { class: !0, dir: !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "top-search-list-lockup__primary svelte-1pbnx61"), p(e, "dir", "auto") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s[0] & 1 && t !== (t = r[0].title + "") && me(i, t) }, d(r) { r && _(e) } } } function I2(n) { let e, t, i; return t = new KO({}), { c() { e = L("span"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "SPAN", { class: !0, "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "top-search-list-lockup__icon top-search-list-lockup__icon--explicit svelte-1pbnx61"), p(e, "data-testid", "explicit-badge") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function Qpe(n) { let e, t = n[0].subtitle + "", i; return { c() { e = L("span"), i = le(t), this.h() }, l(r) { e = T(r, "SPAN", { dir: !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "dir", "auto") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s[0] & 1 && t !== (t = r[0].subtitle + "") && me(i, t) }, d(r) { r && _(e) } } } function M2(n) { let e, t, i = Zn(n[5], { allowedTags: ["mark"] }) + ""; return { c() { e = L("li"), t = new Pi(!1), this.h() }, l(r) { e = T(r, "LI", { class: !0, "data-testid": !0 }); var s = E(e); t = hr(s, !1), s.forEach(_), this.h() }, h() { t.a = null, p(e, "class", "top-search-list-lockup__lyrics svelte-1pbnx61"), p(e, "data-testid", "top-search-list-result-lyrics") }, m(r, s) { I(r, e, s), t.m(i, e) }, p(r, s) { s[0] & 32 && i !== (i = Zn(r[5], { allowedTags: ["mark"] }) + "") && t.p(i) }, d(r) { r && _(e) } } } function L2(n) { let e, t, i, r; const s = [Gpe, jpe], o = []; function a(l, u) { return l[9] ? 0 : l[0].contentDescriptor ? 1 : -1 } return ~(e = a(n)) && (t = o[e] = s[e](n)), { c() { t && t.c(), i = re() }, l(l) { t && t.l(l), i = re() }, m(l, u) { ~e && o[e].m(l, u), I(l, i, u), r = !0 }, p(l, u) { let c = e; e = a(l), e === c ? ~e && o[e].p(l, u) : (t && (te(), D(o[c], 1, 1, () => { o[c] = null }), ne()), ~e ? (t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) : t = null) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), ~e && o[e].d(l) } } } function jpe(n) { let e, t; return e = new ls({ props: { attachedTo: n[0].contentDescriptor, isPlayable: n[0].playAction !== null && !Uu.includes(n[4]), itemProperties: { title: n[0].title, subtitleLinks: [{ title: n[6] }], artwork: n[0].artwork }, buttonStyle: "non-platter" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 1 && (s.attachedTo = i[0].contentDescriptor), r[0] & 17 && (s.isPlayable = i[0].playAction !== null && !Uu.includes(i[4])), r[0] & 65 && (s.itemProperties = { title: i[0].title, subtitleLinks: [{ title: i[6] }], artwork: i[0].artwork }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function Gpe(n) { let e, t; return e = new Il({ props: { class: "top-search-list-lockup__icon", "aria-hidden": "true", "data-testid": "top-search-list-result-chevron" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function xpe(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k; r = new Gt({ props: { artwork: n[0].artwork, profile: n[7], forceFullWidth: !1 } }); let S = n[0].headline && E2(n); u = new en({ props: { action: n[0].segue, $$slots: { default: [Zpe] }, $$scope: { ctx: n } } }), d = new us({ props: { inFavorites: n[10] } }); let C = n[0].showExplicitBadge && I2(); m = new en({ props: { action: n[0].segue, $$slots: { default: [Qpe] }, $$scope: { ctx: n } } }); let P = n[5] && M2(n), M = n[12] && L2(n); return { c() { e = L("div"), t = L("div"), i = L("div"), V(r.$$.fragment), s = Y(), o = L("ul"), S && S.c(), a = Y(), l = L("li"), V(u.$$.fragment), c = Y(), V(d.$$.fragment), f = Y(), C && C.c(), g = Y(), h = L("li"), V(m.$$.fragment), v = Y(), P && P.c(), b = Y(), y = L("div"), M && M.c(), this.h() }, l(R) { e = T(R, "DIV", { class: !0, "data-testid": !0 }); var F = E(e); t = T(F, "DIV", { class: !0 }); var N = E(t); i = T(N, "DIV", { class: !0 }); var O = E(i); q(r.$$.fragment, O), O.forEach(_), s = X(N), o = T(N, "UL", { class: !0 }); var B = E(o); S && S.l(B), a = X(B), l = T(B, "LI", { class: !0, "data-testid": !0 }); var U = E(l); q(u.$$.fragment, U), c = X(U), q(d.$$.fragment, U), f = X(U), C && C.l(U), U.forEach(_), g = X(B), h = T(B, "LI", { class: !0, "data-testid": !0, dir: !0 }); var K = E(h); q(m.$$.fragment, K), v = X(K), P && P.l(K), K.forEach(_), B.forEach(_), N.forEach(_), b = X(F), y = T(F, "DIV", { class: !0 }); var W = E(y); M && M.l(W), W.forEach(_), F.forEach(_), this.h() }, h() { p(i, "class", "top-search-list-lockup__artwork svelte-1pbnx61"), J(i, "top-search-list-lockup__artwork--circle", n[8]), p(l, "class", "top-search-list-lockup__explicit-wrapper svelte-1pbnx61"), p(l, "data-testid", "top-search-list-result-title"), p(h, "class", "top-search-list-lockup__secondary svelte-1pbnx61"), p(h, "data-testid", "top-search-list-result-subtitle"), p(h, "dir", "auto"), p(o, "class", "top-search-list-lockup__description svelte-1pbnx61"), p(t, "class", "top-search-list-lockup__content svelte-1pbnx61"), p(y, "class", "top-search-list-lockup__icons svelte-1pbnx61"), p(e, "class", "top-search-list-lockup svelte-1pbnx61"), p(e, "data-testid", "top-search-list-result"), J(e, "top-search-list-lockup--artist", n[3]), J(e, "top-search-list-lockup--social-profile", n[2]), J(e, "top-search-list-lockup--video", n[1]) }, m(R, F) { I(R, e, F), A(e, t), A(t, i), H(r, i, null), A(t, s), A(t, o), S && S.m(o, null), A(o, a), A(o, l), H(u, l, null), A(l, c), H(d, l, null), A(l, f), C && C.m(l, null), A(o, g), A(o, h), H(m, h, null), A(h, v), P && P.m(h, null), A(e, b), A(e, y), M && M.m(y, null), k = !0 }, p(R, F) { const N = {}; F[0] & 1 && (N.artwork = R[0].artwork), F[0] & 128 && (N.profile = R[7]), r.$set(N), (!k || F[0] & 256) && J(i, "top-search-list-lockup__artwork--circle", R[8]), R[0].headline ? S ? S.p(R, F) : (S = E2(R), S.c(), S.m(o, a)) : S && (S.d(1), S = null); const O = {}; F[0] & 1 && (O.action = R[0].segue), F[0] & 1 | F[1] & 2 && (O.$$scope = { dirty: F, ctx: R }), u.$set(O); const B = {}; F[0] & 1024 && (B.inFavorites = R[10]), d.$set(B), R[0].showExplicitBadge ? C ? F[0] & 1 && w(C, 1) : (C = I2(), C.c(), w(C, 1), C.m(l, null)) : C && (te(), D(C, 1, 1, () => { C = null }), ne()); const U = {}; F[0] & 1 && (U.action = R[0].segue), F[0] & 1 | F[1] & 2 && (U.$$scope = { dirty: F, ctx: R }), m.$set(U), R[5] ? P ? P.p(R, F) : (P = M2(R), P.c(), P.m(h, null)) : P && (P.d(1), P = null), R[12] ? M ? (M.p(R, F), F[0] & 4096 && w(M, 1)) : (M = L2(R), M.c(), w(M, 1), M.m(y, null)) : M && (te(), D(M, 1, 1, () => { M = null }), ne()), (!k || F[0] & 8) && J(e, "top-search-list-lockup--artist", R[3]), (!k || F[0] & 4) && J(e, "top-search-list-lockup--social-profile", R[2]), (!k || F[0] & 2) && J(e, "top-search-list-lockup--video", R[1]) }, i(R) { k || (w(r.$$.fragment, R), w(u.$$.fragment, R), w(d.$$.fragment, R), w(C), w(m.$$.fragment, R), w(M), k = !0) }, o(R) { D(r.$$.fragment, R), D(u.$$.fragment, R), D(d.$$.fragment, R), D(C), D(m.$$.fragment, R), D(M), k = !1 }, d(R) { R && _(e), $(r), S && S.d(), $(u), $(d), C && C.d(), $(m), P && P.d(), M && M.d() } } } function e0e(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S = j, C = () => (S(), S = yn(c, pe => t(27, k = pe)), c), P, M; ce(n, ec, pe => t(12, M = pe)), n.$$.on_destroy.push(() => S()); var R, F, N, O, B, U; let { item: K } = e; const W = ["appleCurator", "brand", "show"], Z = ["musicVideo", "tvEpisode", "uploadedVideo", "movie", "artistUploadedVideo"], { state: Q } = xt(); ce(n, Q, pe => t(28, P = pe)); const G = Qn(), ae = ot(); ce(n, ae, pe => t(26, y = pe)); let ee = !1; return mn(() => { G.unsubscribeFromUpdates(r) }), n.$$set = pe => { "item" in pe && t(0, K = pe.item) }, n.$$.update = () => { if (n.$$.dirty[0] & 32769 && t(4, i = t(15, R = K.contentDescriptor) === null || R === void 0 ? void 0 : R.kind), n.$$.dirty[0] & 1 && t(22, r = Qt(K)), n.$$.dirty[0] & 268500992 && t(25, s = bi(t(16, F = P.user) === null || F === void 0 ? void 0 : F.subscriberType)), n.$$.dirty[0] & 16 && t(3, o = i === "artist"), n.$$.dirty[0] & 16 && t(2, a = i === "socialProfile"), n.$$.dirty[0] & 16 && t(23, l = W.includes(i)), n.$$.dirty[0] & 16 && t(1, u = Z.includes(i)), n.$$.dirty[0] & 4194304 && C(t(11, c = G.subscribeToUpdates(r))), n.$$.dirty[0] & 171966480 && t(24, d = (() => { var pe; if (s) return k && ((pe = G.get(r, i)) === null || pe === void 0 ? void 0 : pe.inLibrary) })()), n.$$.dirty[0] & 138543120 && t(10, f = k && (t(17, N = G.get(r, i)) === null || N === void 0 ? void 0 : N.inFavorites)), n.$$.dirty[0] & 25165836 && t(9, g = d || o || a || l), n.$$.dirty[0] & 8388621 && t(8, h = o || l || a || K.artworkTreatment === Dr.Circle), n.$$.dirty[0] & 262145 && !(t(18, O = K.artwork) === null || O === void 0) && O.dictionary) { let { height: pe, width: ke } = K.artwork.dictionary; t(21, ee = pe > ke) } n.$$.dirty[0] & 2097154 && t(7, m = `top-search-result${u ? ee ? "-poster" : "-video" : ""}`), n.$$.dirty[0] & 1572865 && t(6, v = (t(20, U = t(19, B = K.subtitle.split("")) === null || B === void 0 ? void 0 : B[1]) === null || U === void 0 ? void 0 : U.trim()) || K.subtitle), n.$$.dirty[0] & 67108865 && t(5, b = K.subheadline !== y.t("ASE.Web.Music.Music.Search.FromYourLibrary") ? K.subheadline : null) }, [K, u, a, o, i, b, v, m, h, g, f, c, M, Q, ae, R, F, N, O, B, U, ee, r, l, d, s, y, k, P] } class aN extends oe { constructor(e) { super(), se(this, e, e0e, xpe, ye, { item: 0 }, null, [-1, -1]) } } function lN(n, e) { const t = i => { n.contains(i.target) || e(i) }; return document.addEventListener("click", t), { destroy() { document.removeEventListener("click", t) } } } function t0e(n, e) { const t = Number(n.getAttribute("data-index")); return t === e && n.focus(), { update(i) { t === i && n.focus() } } } const Zg = { LTR: "ltr", RTL: "rtl" }, n0e = "", i0e = "", ui = { PLAY: "play", PAUSE: "pause", BUFFER: "buffer", PLAYING: "playing" }, Pd = { MAKE_SEARCH_QUERY_FROM_SUGGESTION: "makeSearchQueryFromSuggestion", MAKE_SEARCH_QUERY_FROM_INPUT: "makeSearchQueryFromInput", CLICKED_OUTSIDE_SUGGESTIONS: "clickedOutsideSuggestions", CLICKED_OUTSIDE: "clickedOutside", RESET_SEARCH_INPUT: "resetSearchInput", SUGGESTION_CLICKED: "suggestionClicked", SUGGESTION_FOCUSED: "suggestionFocused", SEARCH_INPUT_HAS_FOCUS: "searchInputHasFocus", MENU_ITEM_CLICK: "menuItemClick", SHOW_SEARCH_SUGGESTIONS: "showSearchSuggestions", CLEAR: "clear" }; var zp = (n => (n.Cancel = "cancel", n.Input = "input", n))(zp || {}), $r = (n => (n.Top = "top", n.Bottom = "bottom", n.Left = "left", n.Right = "right", n))($r || {}); function T2(n, e, t) { const i = n.slice(); return i[16] = e[t], i[18] = t, i } const r0e = n => ({ suggestion: n & 1 }), R2 = n => ({ suggestion: n[16] }); function s0e(n) { let e, t; return e = new zO({ props: { suggestion: n[16] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.suggestion = i[16]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function o0e(n) { let e; const t = n[9].suggestion, i = We(t, n, n[8], R2); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 257) && Je(i, t, r, r[8], e ? Ke(t, r[8], s, r0e) : Ye(r[8]), R2) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function F2(n) { let e, t, i, r, s, o, a, l, u; const c = [o0e, s0e], d = []; function f(v, b) { return v[7].suggestion ? 0 : 1 } t = f(n), i = d[t] = c[t](n); function g() { return n[10](n[16]) } function h(...v) { return n[11](n[16], ...v) } function m() { return n[12](n[16], n[18]) } return { c() { e = L("li"), i.c(), r = Y(), this.h() }, l(v) { e = T(v, "LI", { class: !0, "data-index": !0, "data-testid": !0, role: !0, tabindex: !0, "aria-selected": !0, id: !0 }); var b = E(e); i.l(b), r = X(b), b.forEach(_), this.h() }, h() { p(e, "class", "search-hint svelte-1x19btg"), p(e, "data-index", n[18]), p(e, "data-testid", `suggestion-index-${n[18]}`), p(e, "role", "option"), p(e, "tabindex", "0"), p(e, "aria-selected", s = n[1] === n[18] ? !0 : void 0), p(e, "id", `search-suggestion-${n[18]}`), J(e, "search-hint--text", n[16].kind === "text"), J(e, "search-hint--lockup", n[16].kind !== "text") }, m(v, b) { I(v, e, b), d[t].m(e, null), A(e, r), a = !0, l || (u = [Ut(o = t0e.call(null, e, n[1])), Me(e, "click", g), Me(e, "keyup", Za(h)), Me(e, "focusin", Za(m))], l = !0) }, p(v, b) { n = v; let y = t; t = f(n), t === y ? d[t].p(n, b) : (te(), D(d[y], 1, 1, () => { d[y] = null }), ne(), i = d[t], i ? i.p(n, b) : (i = d[t] = c[t](n), i.c()), w(i, 1), i.m(e, r)), (!a || b & 2 && s !== (s = n[1] === n[18] ? !0 : void 0)) && p(e, "aria-selected", s), o && Ft(o.update) && b & 2 && o.update.call(null, n[1]), (!a || b & 1) && J(e, "search-hint--text", n[16].kind === "text"), (!a || b & 1) && J(e, "search-hint--lockup", n[16].kind !== "text") }, i(v) { a || (w(i), a = !0) }, o(v) { D(i), a = !1 }, d(v) { v && _(e), d[t].d(), l = !1, Ot(u) } } } function a0e(n) { let e, t, i, r, s, o = ut(n[0]), a = []; for (let u = 0; u < o.length; u += 1)a[u] = F2(T2(n, o, u)); const l = u => D(a[u], 1, 1, () => { a[u] = null }); return { c() { e = L("ul"); for (let u = 0; u < a.length; u += 1)a[u].c(); i = Y(), r = L("div"), this.h() }, l(u) { e = T(u, "UL", { "aria-label": !0, role: !0, "data-testid": !0, id: !0, class: !0 }); var c = E(e); for (let d = 0; d < a.length; d += 1)a[d].l(c); c.forEach(_), i = X(u), r = T(u, "DIV", { class: !0, "data-testid": !0 }), E(r).forEach(_), this.h() }, h() { p(e, "aria-label", t = n[2]("AMP.Shared.SearchInput.Suggestions")), p(e, "role", "listbox"), p(e, "data-testid", "search-suggestions"), p(e, "id", "search-suggestions"), p(e, "class", "search-suggestions svelte-1x19btg"), p(r, "class", "search-suggestions-scrim svelte-1x19btg"), p(r, "data-testid", "search-suggestions-scrim") }, m(u, c) { I(u, e, c); for (let d = 0; d < a.length; d += 1)a[d] && a[d].m(e, null); I(u, i, c), I(u, r, c), n[13](r), s = !0 }, p(u, [c]) { if (c & 499) { o = ut(u[0]); let d; for (d = 0; d < o.length; d += 1) { const f = T2(u, o, d); a[d] ? (a[d].p(f, c), w(a[d], 1)) : (a[d] = F2(f), a[d].c(), w(a[d], 1), a[d].m(e, null)) } for (te(), d = o.length; d < a.length; d += 1)l(d); ne() } (!s || c & 4 && t !== (t = u[2]("AMP.Shared.SearchInput.Suggestions"))) && p(e, "aria-label", t) }, i(u) { if (!s) { for (let c = 0; c < o.length; c += 1)w(a[c]); s = !0 } }, o(u) { a = a.filter(Boolean); for (let c = 0; c < a.length; c += 1)D(a[c]); s = !1 }, d(u) { u && (_(e), _(i), _(r)), ln(a, u), n[13](null) } } } function l0e(n, e, t) { let { $$slots: i = {}, $$scope: r } = e; const s = wn(i); let { suggestions: o = [] } = e, { focusedSuggestionIndex: a = null } = e, { translateFn: l } = e; const u = It(); let c, d; Yt(() => { var S; d = document.createElement("div"), d.className = "portal", d.appendChild(c); const k = (S = document.querySelector(".app-container")) != null ? S : document.body; return k.appendChild(d), () => { d && k.removeChild(d) } }); function f(k) { u(Pd.SUGGESTION_CLICKED, { suggestion: k }) } function g(k, S) { switch (S.key) { case "Enter": case " ": u(Pd.SUGGESTION_CLICKED, { suggestion: k }); break } } function h(k, S) { u(Pd.SUGGESTION_FOCUSED, { suggestion: k, index: S }) } const m = k => f(k), v = (k, S) => g(k, S), b = (k, S) => h(k, S); function y(k) { wt[k ? "unshift" : "push"](() => { c = k, t(3, c) }) } return n.$$set = k => { "suggestions" in k && t(0, o = k.suggestions), "focusedSuggestionIndex" in k && t(1, a = k.focusedSuggestionIndex), "translateFn" in k && t(2, l = k.translateFn), "$$scope" in k && t(8, r = k.$$scope) }, [o, a, l, c, f, g, h, s, r, i, m, v, b, y] } class S_ extends oe { constructor(e) { super(), se(this, e, l0e, a0e, ye, { suggestions: 0, focusedSuggestionIndex: 1, translateFn: 2 }) } } function O2(n, e, t) { const i = n + e; return n > 0 ? e === null || i >= t ? 0 : i : e === null || i < 0 ? t - 1 : i } function Bi(n, e, t = !1) { let i; return function (...s) { const o = t && !i; clearTimeout(i), o && n.apply(this, s), i = setTimeout(() => { i = null, t || n.apply(this, s) }, e) } } const qp = 300; const u0e = n => ({ suggestion: n[1] & 4096 }), N2 = n => ({ suggestion: n[43] }), c0e = n => ({}), B2 = n => ({}); function U2(n) { let e, t, i = n[0]("FUSE.Search.Cancel") + "", r, s, o, a; return { c() { e = L("div"), t = L("button"), r = le(i), this.h() }, l(l) { e = T(l, "DIV", { class: !0, "data-testid": !0 }); var u = E(e); t = T(u, "BUTTON", { "data-testid": !0, "aria-label": !0 }); var c = E(t); r = ue(c, i), c.forEach(_), u.forEach(_), this.h() }, h() { p(t, "data-testid", "search-input__cancel-button"), p(t, "aria-label", s = n[0]("FUSE.Search.Cancel")), p(e, "class", "search-input__cancel-button-container svelte-rg26q6"), p(e, "data-testid", "search-input__cancel-button-container") }, m(l, u) { I(l, e, u), A(e, t), A(t, r), o || (a = Me(t, "click", n[16]), o = !0) }, p(l, u) { u[0] & 1 && i !== (i = l[0]("FUSE.Search.Cancel") + "") && me(r, i), u[0] & 1 && s !== (s = l[0]("FUSE.Search.Cancel")) && p(t, "aria-label", s) }, d(l) { l && _(e), o = !1, a() } } } function H2(n) { let e, t, i, r; const s = [f0e, d0e], o = []; function a(l, u) { return l[17].suggestion ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, u) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function d0e(n) { let e, t; return e = new S_({ props: { suggestions: n[4], focusedSuggestionIndex: n[6], translateFn: n[0] } }), e.$on("suggestionClicked", n[24]), e.$on("suggestionFocused", n[25]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 16 && (s.suggestions = i[4]), r[0] & 64 && (s.focusedSuggestionIndex = i[6]), r[0] & 1 && (s.translateFn = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function f0e(n) { let e, t; return e = new S_({ props: { suggestions: n[4], focusedSuggestionIndex: n[6], translateFn: n[0], $$slots: { suggestion: [g0e, ({ suggestion: i }) => ({ 43: i }), ({ suggestion: i }) => [0, i ? 4096 : 0]] }, $$scope: { ctx: n } } }), e.$on("suggestionClicked", n[22]), e.$on("suggestionFocused", n[23]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 16 && (s.suggestions = i[4]), r[0] & 64 && (s.focusedSuggestionIndex = i[6]), r[0] & 1 && (s.translateFn = i[0]), r[0] & 67108864 | r[1] & 4096 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function g0e(n) { let e; const t = n[20].suggestion, i = We(t, n, n[26], N2); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s[0] & 67108864 | s[1] & 4096) && Je(i, t, r, r[26], e ? Ke(t, r[26], s, u0e) : Ye(r[26]), N2) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function h0e(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k; r = new VO({ props: { class: "search-svg", "aria-hidden": "true" } }); let S = n[8] && U2(n); const C = n[20].searchScopeBar, P = We(C, n, n[26], B2); let M = !n[3] && n[4] && n[4].length > 0 && H2(n); return { c() { e = L("div"), t = L("div"), i = L("form"), V(r.$$.fragment), s = Y(), o = L("input"), c = Y(), S && S.c(), d = Y(), f = L("div"), P && P.c(), g = Y(), M && M.c(), this.h() }, l(R) { e = T(R, "DIV", { "data-testid": !0, "aria-controls": !0, "aria-expanded": !0, "aria-haspopup": !0, "aria-label": !0, "aria-owns": !0, class: !0, tabindex: !0, role: !0 }); var F = E(e); t = T(F, "DIV", { class: !0 }); var N = E(t); i = T(N, "FORM", { tabindex: !0, role: !0, id: !0, class: !0 }); var O = E(i); q(r.$$.fragment, O), s = X(O), o = T(O, "INPUT", { "aria-activedescendant": !0, "aria-autocomplete": !0, "aria-multiline": !0, "aria-label": !0, "aria-controls": !0, placeholder: !0, spellcheck: !0, autocomplete: !0, autocorrect: !0, autocapitalize: !0, type: !0, class: !0, "data-testid": !0 }), O.forEach(_), c = X(N), S && S.l(N), N.forEach(_), d = X(F), f = T(F, "DIV", { "data-testid": !0 }); var B = E(f); P && P.l(B), B.forEach(_), g = X(F), M && M.l(F), F.forEach(_), this.h() }, h() { o.value = n[2], p(o, "aria-activedescendant", a = Number.isInteger(n[6]) && n[6] >= 0 ? `search-suggestion-${n[6]}` : void 0), p(o, "aria-autocomplete", "list"), p(o, "aria-multiline", "false"), p(o, "aria-label", l = n[0]("AMP.Shared.SearchInput.Placeholder")), p(o, "aria-controls", "search-suggestions"), p(o, "placeholder", u = n[0]("AMP.Shared.SearchInput.Placeholder")), p(o, "spellcheck", !1), p(o, "autocomplete", "off"), p(o, "autocorrect", "off"), p(o, "autocapitalize", "off"), p(o, "type", "search"), p(o, "class", "search-input__text-field svelte-rg26q6"), p(o, "data-testid", "search-input__text-field"), p(i, "tabindex", "-1"), p(i, "role", "search"), p(i, "id", "search-input-form"), p(i, "class", "svelte-rg26q6"), p(t, "class", "flex-container svelte-rg26q6"), p(f, "data-testid", "search-scope-bar"), p(e, "data-testid", "amp-search-input"), p(e, "aria-controls", "search-suggestions"), p(e, "aria-expanded", h = n[4] && n[4].length > 0), p(e, "aria-haspopup", "listbox"), p(e, "aria-label", m = n[0]("AMP.Shared.SearchInput.AriaLabel")), p(e, "aria-owns", "search-suggestions"), p(e, "class", "search-input-container svelte-rg26q6"), p(e, "tabindex", "-1"), p(e, "role", v = n[5] ? "combobox" : "") }, m(R, F) { I(R, e, F), A(e, t), A(t, i), H(r, i, null), A(i, s), A(i, o), n[21](o), A(t, c), S && S.m(t, null), A(e, d), A(e, f), P && P.m(f, null), A(e, g), M && M.m(e, null), b = !0, y || (k = [Me(o, "input", n[14]), Me(o, "click", n[9]), Me(i, "submit", n[10]), Ut(lN.call(null, e, n[15])), Me(e, "keydown", m0e), Me(e, "keyup", n[13])], y = !0) }, p(R, F) { (!b || F[0] & 4 && o.value !== R[2]) && (o.value = R[2]), (!b || F[0] & 64 && a !== (a = Number.isInteger(R[6]) && R[6] >= 0 ? `search-suggestion-${R[6]}` : void 0)) && p(o, "aria-activedescendant", a), (!b || F[0] & 1 && l !== (l = R[0]("AMP.Shared.SearchInput.Placeholder"))) && p(o, "aria-label", l), (!b || F[0] & 1 && u !== (u = R[0]("AMP.Shared.SearchInput.Placeholder"))) && p(o, "placeholder", u), R[8] ? S ? S.p(R, F) : (S = U2(R), S.c(), S.m(t, null)) : S && (S.d(1), S = null), P && P.p && (!b || F[0] & 67108864) && Je(P, C, R, R[26], b ? Ke(C, R[26], F, c0e) : Ye(R[26]), B2), !R[3] && R[4] && R[4].length > 0 ? M ? (M.p(R, F), F[0] & 24 && w(M, 1)) : (M = H2(R), M.c(), w(M, 1), M.m(e, null)) : M && (te(), D(M, 1, 1, () => { M = null }), ne()), (!b || F[0] & 16 && h !== (h = R[4] && R[4].length > 0)) && p(e, "aria-expanded", h), (!b || F[0] & 1 && m !== (m = R[0]("AMP.Shared.SearchInput.AriaLabel"))) && p(e, "aria-label", m), (!b || F[0] & 32 && v !== (v = R[5] ? "combobox" : "")) && p(e, "role", v) }, i(R) { b || (w(r.$$.fragment, R), w(P, R), w(M), b = !0) }, o(R) { D(r.$$.fragment, R), D(P, R), D(M), b = !1 }, d(R) { R && _(e), $(r), n[21](null), S && S.d(), P && P.d(R), M && M.d(), y = !1, Ot(k) } } } function m0e(n) { switch (n.key) { case "ArrowDown": case "ArrowUp": n.preventDefault(); break } } function p0e(n, e, t) { let i, r, s = j, o = () => (s(), s = yn(S, _e => t(30, r = _e)), S); n.$$.on_destroy.push(() => s()); let { $$slots: a = {}, $$scope: l } = e; const u = wn(a), { SEARCH_INPUT_HAS_FOCUS: c, MAKE_SEARCH_QUERY_FROM_SUGGESTION: d, MAKE_SEARCH_QUERY_FROM_INPUT: f, CLICKED_OUTSIDE_SUGGESTIONS: g, CLICKED_OUTSIDE: h, RESET_SEARCH_INPUT: m, MENU_ITEM_CLICK: v, SHOW_SEARCH_SUGGESTIONS: b } = Pd; let { translateFn: y } = e, { getSuggestionsForPartialTerm: k = async () => [] } = e, { currentTab: S } = e; o(); let { defaultValue: C = null } = e, { menuItem: P } = e, { hideSuggestions: M = !1 } = e, R = [], F = [], N = C || "", O = null, B, U = !1, K = !1; const W = It(); function Z() { t(7, B.value = "", B), N = "", t(4, R = []), F = [], t(6, O = null), W(m) } function Q() { t(8, K = !0), B.value === N && F.length > 0 && (t(4, R = F), F = []), r !== P.id && (S.set(P.id), W(v, P)), W(c) } function G(_e) { const Se = B.value; _e.preventDefault(), Se && (W(f, { term: Se }), S.set(P.id), F = R, t(4, R = []), t(6, O = null), B.blur()) } function ae(_e) { W(d, { suggestion: _e }), S.set(P.id), Z(), t(7, B.value = _e.displayTerm, B) } function ee(_e) { t(6, O = _e) } function pe(_e) { switch (_e.key) { case "ArrowDown": t(6, O = O2(1, O, R.length)); break; case "ArrowUp": t(6, O = O2(-1, O, R.length)); break; case "Escape": Z(); break; case "Tab": case "Control": case "Alt": case "Meta": case "Shift": case " ": break; default: B.focus() }_e.preventDefault() } async function ke(_e) { const Se = _e != null ? _e : B; if (N = Se.value, !N) { t(4, R = []); return } let Re = await k(N); F = Re, document.activeElement === Se && (t(4, R = Re), F = []) } function we(_e) { !(_e instanceof InputEvent) && _e.target.value === "" && W("clear", { from: zp.Input }); const Se = r !== P.id || B.value === ""; S.set(P.id), Se && (t(18, P.opaqueData = () => ({ from: "searchInputClear" }), P), W(v, P)), i(_e.target) } function Te(_e) { const Se = _e.target || null, Ze = (_e.composedPath ? _e.composedPath() : []).some(De => "nodeName" in De && De.nodeName === "AMP-CONTEXTUAL-MENU"); Se && Se.nodeName === "AMP-CONTEXTUAL-MENU" || Ze || (R.length > 0 && (F = R, t(4, R = []), W(g)), t(8, K = !1), W(h)) } function ge(_e) { W(b, { showSearchSuggestions: _e }) } function Ce() { t(8, K = !1), t(7, B.value = "", B), W("clear", { from: zp.Cancel }) } function he(_e) { wt[_e ? "unshift" : "push"](() => { B = _e, t(7, B) }) } const Ae = _e => ae(_e.detail.suggestion), ze = _e => ee(_e.detail.index), Pe = _e => ae(_e.detail.suggestion), Oe = _e => ee(_e.detail.index); return n.$$set = _e => { "translateFn" in _e && t(0, y = _e.translateFn), "getSuggestionsForPartialTerm" in _e && t(19, k = _e.getSuggestionsForPartialTerm), "currentTab" in _e && o(t(1, S = _e.currentTab)), "defaultValue" in _e && t(2, C = _e.defaultValue), "menuItem" in _e && t(18, P = _e.menuItem), "hideSuggestions" in _e && t(3, M = _e.hideSuggestions), "$$scope" in _e && t(26, l = _e.$$scope) }, n.$$.update = () => { n.$$.dirty[0] & 16 && t(5, U = (R == null ? void 0 : R.length) > 0), n.$$.dirty[0] & 32 && ge(U) }, i = Bi(ke, 100), [y, S, C, M, R, U, O, B, K, Q, G, ae, ee, pe, we, Te, Ce, u, P, k, a, he, Ae, ze, Pe, Oe, l] } class _0e extends oe { constructor(e) { super(), se(this, e, p0e, h0e, ye, { translateFn: 0, getSuggestionsForPartialTerm: 19, currentTab: 1, defaultValue: 2, menuItem: 18, hideSuggestions: 3 }, null, [-1, -1]) } } const v0e = { [z.Activities]: 100, [z.Albums]: 100, [z.LibraryAlbums]: 100, [z.AppleCurators]: 100, [z.Artists]: 50, [z.LibraryArtists]: 25, [z.Curators]: 100, [z.EditorialElements]: 50, [z.MusicMovies]: 100, [z.MusicVideos]: 100, [z.LibraryMusicVideos]: 100, [z.Playlists]: 50, [z.LibraryPlaylists]: 25, [z.RecordLabels]: 100, [z.Songs]: 300, [z.LibrarySongs]: 300, [z.Stations]: 100, [z.TVEpisodes]: 100, [z.TVSeasons]: 100, [z.TVShows]: 100, [z.UploadedAudios]: 100, [z.UploadedVideos]: 100 }; function b0e(n) { const e = {}; function t(i) { if (!i.contentDescriptor) return; let r = ta(i); if (Cee.includes(r)) return; const s = fr(i); Tg(i.contentDescriptor) && (r = i.contentDescriptor.kind === "musicVideo" ? z.MusicVideos : z.Songs), e[r] ? e[r].includes(s) || e[r].push(s) : e[r] = [s] } return n == null || n.forEach(i => { var r, s; (r = i.items) == null || r.forEach(o => t(o)), (s = i.pinnedLeadingItem) != null && s.item && t(i.pinnedLeadingItem.item) }), e } function uN(n) { return pT.includes(n) } const y0e = async (n, e, t, i, r, s = !1) => { if (n) { const o = {}, a = {}, l = []; Object.entries(n).forEach(([u, c]) => { uN(u) ? a[u] = c : o[u] = c }), [...$2(o), ...$2(a)].forEach(u => { l.push(w0e(u, e, t, i, r, s)) }), await Promise.allSettled(l) } }, Qg = async (n, e, t, i, r, s, o = !1) => { if (bi(e) && n) { const a = b0e(n); i.info("Fetching inLibrary status for resourceID map", a), await y0e(a, t, i, r, s, o) } }; async function w0e(n, e, t, i, r, s = !1) { try { const o = Wg({ operationType: Bs.GetInLibrary, storefront: i.storefront, language: i.language, descriptor: n, noCache: s }); return e.dispatch(o).then(a => { a && a.forEach(l => { const [u] = Object.entries(n).find(c => !!~c[1].indexOf(l.id)) || []; if (u) { const c = Ic[u]; r.set(l.id, c, { inFavorites: l.inFavorites, suggestLess: l.suggestLess, inLibrary: uN(u) ? !0 : l.inLibrary, libraryId: l.libraryId }) } else t.error("Unable to determine item kind from response", l) }) }) } catch (o) { t.error("Loading initial library state failed for descriptor", n, o) } } function k0e(n, e) { const t = []; for (let i = 0; i < n.length; i += e)t.push(n.slice(i, i + e)); return t } function $2(n) { const e = []; return Object.entries(n).forEach(([t, i]) => { const r = v0e[t]; k0e(i, r).forEach((o, a) => { e[a] ? e[a][t] = o : e.push({ [t]: o }) }) }), e } const D0e = n => ({}), V2 = n => ({}); function S0e(n) { let e; const t = n[14].searchScopeBar, i = We(t, n, n[15], V2); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 32768) && Je(i, t, r, r[15], e ? Ke(t, r[15], s, D0e) : Ye(r[15]), V2) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function C0e(n) { let e, t; return e = new aN({ props: { item: n[26] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 67108864 && (s.item = i[26]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function P0e(n) { let e, t; return e = new zO({ props: { suggestion: n[26] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 67108864 && (s.suggestion = i[26]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function A0e(n) { let e, t, i, r; const s = [P0e, C0e], o = []; function a(l, u) { var c, d; return ((c = l[26]) == null ? void 0 : c.kind) === "text" ? 0 : ((d = l[26]) == null ? void 0 : d.kind) === "lockup" ? 1 : -1 } return ~(e = a(n)) && (t = o[e] = s[e](n)), { c() { t && t.c(), i = re() }, l(l) { t && t.l(l), i = re() }, m(l, u) { ~e && o[e].m(l, u), I(l, i, u), r = !0 }, p(l, u) { let c = e; e = a(l), e === c ? ~e && o[e].p(l, u) : (t && (te(), D(o[c], 1, 1, () => { o[c] = null }), ne()), ~e ? (t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) : t = null) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), ~e && o[e].d(l) } } } function E0e(n) { let e, t, i; return t = new _0e({ props: { defaultValue: n[1], currentTab: n[0], hideSuggestions: n[2], menuItem: kO, translateFn: n[3].t, getSuggestionsForPartialTerm: n[8], $$slots: { suggestion: [A0e, ({ suggestion: r }) => ({ 26: r }), ({ suggestion: r }) => r ? 67108864 : 0], searchScopeBar: [S0e] }, $$scope: { ctx: n } } }), t.$on("makeSearchQueryFromInput", n[6]), t.$on("makeSearchQueryFromSuggestion", n[7]), t.$on("menuItemClick", n[9]), t.$on("searchInputHasFocus", n[12]), t.$on("clickedOutside", n[11]), t.$on("showSearchSuggestions", n[13]), t.$on("clear", n[10]), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0, "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "search-input-wrapper svelte-nrtdem"), p(e, "data-testid", "search-input") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, [s]) { const o = {}; s & 2 && (o.defaultValue = r[1]), s & 1 && (o.currentTab = r[0]), s & 4 && (o.hideSuggestions = r[2]), s & 8 && (o.translateFn = r[3].t), s & 67141632 && (o.$$scope = { dirty: s, ctx: r }), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function I0e(n, e, t) { let i, r, s; ce(n, Jg, B => t(2, i = B)); let { $$slots: o = {}, $$scope: a } = e; const l = It(), u = fn(), c = ot(); ce(n, c, B => t(3, s = B)); const d = kn("<SearchInput />"), f = Tn(), g = Qn(), { state: h } = xt(); ce(n, h, B => t(16, r = B)); let { currentTab: m } = e, { defaultValue: v = null } = e; function b(B) { const { term: U } = B.detail, K = Aie(U, f, i); u.perform(K) } function y(B) { u.perform(B.detail.suggestion.action) } async function k(B) { const U = Oie({ partialTerm: B }); C(B); const K = await u.dispatch(U); return await S(K), K } async function S(B) { var U; await Qg([{ items: B }], (U = r.user) === null || U === void 0 ? void 0 : U.subscriberType, u, d, f, g) } async function C(B) { u.recordCustomMetricsEvent({ eventType: "search", targetType: "HintListItem", actionType: "hint", pageId: "SearchHints", pageContext: "Search", term: B, actionDetails: { searchPrefix: B } }) } function P() { const B = yO({ storefront: f.storefront, language: f.language, inLibrary: i }), U = { kind: vt.CatalogPage, intent: B }; return At(U, { data: [{ fields: { actionType: "delete", eventType: "click", targetId: "clearField", targetType: "button", pageId: "searchResultsMain" }, shouldFlush: !1, includingFields: [], excludingFields: [] }], custom: {} }) } function M(B) { const U = B.detail; if ((typeof (U == null ? void 0 : U.opaqueData) == "function" ? U.opaqueData(f).from : null) === "searchInputClear") { const W = P(); U.opaqueData = () => W } l("menuItemClick", U) } function R() { l("clear", P()) } function F() { l("clickedOutside") } function N() { l("searchInputHasFocus") } function O(B) { l("showSearchSuggestions", B) } return n.$$set = B => { "currentTab" in B && t(0, m = B.currentTab), "defaultValue" in B && t(1, v = B.defaultValue), "$$scope" in B && t(15, a = B.$$scope) }, [m, v, i, s, c, h, b, y, k, M, R, F, N, O, o, a] } class cN extends oe { constructor(e) { super(), se(this, e, I0e, E0e, ye, { currentTab: 0, defaultValue: 1 }) } } function z2() { return { $kind: "clearSavedSongShiftSessionAction", actionMetrics: { data: [], custom: {} } } } function M0e(n) { let e, t, i = [{ width: "18" }, { height: "18" }, { viewBox: "0 0 18 18" }, { "aria-hidden": "true" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, "aria-hidden": !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M1.2 18C.6 18 0 17.5 0 16.8c0-.4.1-.6.4-.8l7-7-7-7c-.3-.2-.4-.5-.4-.8C0 .5.6 0 1.2 0c.3 0 .6.1.8.3l7 7 7-7c.2-.2.5-.3.8-.3.6 0 1.2.5 1.2 1.2 0 .3-.1.6-.4.8l-7 7 7 7c.2.2.4.5.4.8 0 .7-.6 1.2-1.2 1.2-.3 0-.6-.1-.8-.3l-7-7-7 7c-.2.1-.5.3-.8.3z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "18" }, { height: "18" }, { viewBox: "0 0 18 18" }, { "aria-hidden": "true" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function L0e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let rr = class extends oe { constructor(e) { super(), se(this, e, L0e, M0e, ht, {}) } }; function T0e(n) { let e, t = `${dN}ms`; return { c() { e = L("progress"), this.h() }, l(i) { e = T(i, "PROGRESS", { "data-testid": !0, class: !0, "aria-label": !0 }), E(e).forEach(_), this.h() }, h() { p(e, "data-testid", "progress-bar"), p(e, "class", "progress-bar svelte-c0qlwp"), p(e, "aria-label", n[1]), e.value = n[0], Pt(e, "--progressBarAnimDuration", t) }, m(i, r) { I(i, e, r) }, p(i, [r]) { r & 2 && p(e, "aria-label", i[1]), r & 1 && (e.value = i[0]) }, i: j, o: j, d(i) { i && _(e) } } } const dN = 600; function R0e(n, e, t) { let { value: i } = e, { ariaLabel: r } = e; return n.$$set = s => { "value" in s && t(0, i = s.value), "ariaLabel" in s && t(1, r = s.ariaLabel) }, [i, r] } class F0e extends oe { constructor(e) { super(), se(this, e, R0e, T0e, ye, { value: 0, ariaLabel: 1 }) } } function O0e(n) { return { $kind: "UpdateSongShiftSessionAction", sessionStatus: n, actionMetrics: { data: [], custom: {} } } } const N0e = n => ({}), q2 = n => ({}); function B0e(n) { let e; const t = n[16].inverse, i = We(t, n, n[15], q2); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 32768) && Je(i, t, r, r[15], e ? Ke(t, r[15], s, N0e) : Ye(r[15]), q2) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function U0e(n) { let e, t, i, r, s = n[0].title + "", o, a, l, u, c, d = n[0].action && W2(n), f = n[0].subtitle && K2(n), g = n[2] && J2(n), h = n[0].action && Y2(n); return { c() { e = L("div"), t = L("div"), d && d.c(), i = Y(), r = L("p"), o = le(s), a = Y(), f && f.c(), l = Y(), g && g.c(), u = Y(), h && h.c(), this.h() }, l(m) { e = T(m, "DIV", { class: !0, "data-testid": !0 }); var v = E(e); t = T(v, "DIV", { class: !0 }); var b = E(t); d && d.l(b), i = X(b), r = T(b, "P", { class: !0, "data-testid": !0 }); var y = E(r); o = ue(y, s), y.forEach(_), a = X(b), f && f.l(b), l = X(b), g && g.l(b), u = X(b), h && h.l(b), b.forEach(_), v.forEach(_), this.h() }, h() { p(r, "class", "song-shift-status__title svelte-1d7j3hs"), p(r, "data-testid", "song-shift-title"), J(r, "crossfadeIn", n[0].action || n[2]), J(r, "song-shift-status__title--emphasized", n[0].action), J(r, "initial", !n[2] && !n[0].action), p(t, "class", "song-shift-status svelte-1d7j3hs"), p(e, "class", "song-shift-status-wrapper svelte-1d7j3hs"), p(e, "data-testid", "songshift-sync-status"), J(e, "slide-up", n[0]) }, m(m, v) { I(m, e, v), A(e, t), d && d.m(t, null), A(t, i), A(t, r), A(r, o), A(t, a), f && f.m(t, null), A(t, l), g && g.m(t, null), A(t, u), h && h.m(t, null), c = !0 }, p(m, v) { m[0].action ? d ? (d.p(m, v), v & 1 && w(d, 1)) : (d = W2(m), d.c(), w(d, 1), d.m(t, i)) : d && (te(), D(d, 1, 1, () => { d = null }), ne()), (!c || v & 1) && s !== (s = m[0].title + "") && me(o, s), (!c || v & 5) && J(r, "crossfadeIn", m[0].action || m[2]), (!c || v & 1) && J(r, "song-shift-status__title--emphasized", m[0].action), (!c || v & 5) && J(r, "initial", !m[2] && !m[0].action), m[0].subtitle ? f ? f.p(m, v) : (f = K2(m), f.c(), f.m(t, l)) : f && (f.d(1), f = null), m[2] ? g ? (g.p(m, v), v & 4 && w(g, 1)) : (g = J2(m), g.c(), w(g, 1), g.m(t, u)) : g && (te(), D(g, 1, 1, () => { g = null }), ne()), m[0].action ? h ? h.p(m, v) : (h = Y2(m), h.c(), h.m(t, null)) : h && (h.d(1), h = null), (!c || v & 1) && J(e, "slide-up", m[0]) }, i(m) { c || (w(d), w(g), c = !0) }, o(m) { D(d), D(g), c = !1 }, d(m) { m && _(e), d && d.d(), f && f.d(), g && g.d(), h && h.d() } } } function W2(n) { let e, t, i, r, s, o; return t = new rr({ props: { "aria-hidden": "true" } }), { c() { e = L("button"), V(t.$$.fragment), this.h() }, l(a) { e = T(a, "BUTTON", { class: !0, "aria-label": !0, type: !0, "data-testid": !0 }); var l = E(e); q(t.$$.fragment, l), l.forEach(_), this.h() }, h() { p(e, "class", "close-button svelte-1d7j3hs"), p(e, "aria-label", i = n[3].t("ASE.Web.Music.Shared.AX.Close")), p(e, "type", "button"), p(e, "data-testid", "song-shift-close") }, m(a, l) { I(a, e, l), H(t, e, null), r = !0, s || (o = Me(e, "click", function () { Ft(n[7](n[0].action)) && n[7](n[0].action).apply(this, arguments) }), s = !0) }, p(a, l) { n = a, (!r || l & 8 && i !== (i = n[3].t("ASE.Web.Music.Shared.AX.Close"))) && p(e, "aria-label", i) }, i(a) { r || (w(t.$$.fragment, a), r = !0) }, o(a) { D(t.$$.fragment, a), r = !1 }, d(a) { a && _(e), $(t), s = !1, o() } } } function K2(n) { let e, t = n[0].subtitle + "", i; return { c() { e = L("p"), i = le(t), this.h() }, l(r) { e = T(r, "P", { class: !0, "data-testid": !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "song-shift-status__subtitle svelte-1d7j3hs"), p(e, "data-testid", "song-shift-subtitle"), J(e, "crossfadeIn", n[0].subtitle), J(e, "crossfadeOut", !n[0].subtitle) }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 1 && t !== (t = r[0].subtitle + "") && me(i, t), s & 1 && J(e, "crossfadeIn", r[0].subtitle), s & 1 && J(e, "crossfadeOut", !r[0].subtitle) }, d(r) { r && _(e) } } } function J2(n) { let e, t; return e = new F0e({ props: { ariaLabel: n[3].t("ASE.Web.Music.TransferMusic.Progress.Loading"), value: n[0].progress } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 8 && (s.ariaLabel = i[3].t("ASE.Web.Music.TransferMusic.Progress.Loading")), r & 1 && (s.value = i[0].progress), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function Y2(n) { let e, t = n[0].actionString + "", i, r, s; return { c() { e = L("button"), i = le(t), this.h() }, l(o) { e = T(o, "BUTTON", { class: !0, type: !0, "data-testid": !0 }); var a = E(e); i = ue(a, t), a.forEach(_), this.h() }, h() { p(e, "class", "song-shift-status__action svelte-1d7j3hs"), p(e, "type", "button"), p(e, "data-testid", "song-shift-action-button"), J(e, "crossfadeIn", n[0].actionString), J(e, "crossfadeOut", !n[0].actionString) }, m(o, a) { I(o, e, a), A(e, i), r || (s = Me(e, "click", function () { Ft(n[6](n[0].action)) && n[6](n[0].action).apply(this, arguments) }), r = !0) }, p(o, a) { n = o, a & 1 && t !== (t = n[0].actionString + "") && me(i, t), a & 1 && J(e, "crossfadeIn", n[0].actionString), a & 1 && J(e, "crossfadeOut", !n[0].actionString) }, d(o) { o && _(e), r = !1, s() } } } function H0e(n) { let e, t, i, r; const s = [U0e, B0e], o = []; function a(l, u) { return l[1] ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, [u]) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function Zh(n) { return new Promise(e => setTimeout(e, n)) } function $0e(n, e, t) { let i, r, s, o, a, l, u, c; ce(n, Mu, O => t(18, l = O)), ce(n, Qa, O => t(19, u = O)), ce(n, ec, O => t(14, c = O)); let { $$slots: d = {}, $$scope: f } = e; var g; const h = fn(), m = Fc(); ce(n, m, O => t(13, a = O)); const v = kn("<SongShiftSyncStatus>"), b = ot(); ce(n, b, O => t(3, o = O)); let y = { title: o.t("ASE.Web.Music.TransferMusic.Progress.Loading") }, k = !1, S = !1, C = (g = a == null ? void 0 : a.sessionState) !== null && g !== void 0 ? g : 0; function P() { u || (Zr.set(!0), l || Qa.set(!0)) } async function M(O, B, U = 0) { var K; if (B.aborted) { t(8, k = !1); return } t(8, k = !0); try { if (O) { const W = await h.dispatch(jF({ sessionID: O })); if (B.aborted) return; W.action === "review" && (t(0, y = Object.assign(Object.assign({}, y), { progress: 1 })), await Zh(dN)), t(0, y = W), (((K = y == null ? void 0 : y.metrics) === null || K === void 0 ? void 0 : K.reason) === "transfer_complete" || y.action === "review") && (h.perform(O0e(y)), h.perform(Kg()), t(8, k = !1)), (y == null ? void 0 : y.nextRefreshInSeconds) !== void 0 && (await Zh(y.nextRefreshInSeconds * 1e3), M(O, B)) } } catch (W) { v.error("Requesting SongShift sync status failed:", W), U < 3 ? (await Zh(2 ** (U + 1) * 1e3), M(O, B, U + 1)) : t(8, k = !1) } } let R; Yt(() => { const O = () => { document.visibilityState === "visible" && a.sessionID && (R == null || R.abort(), t(10, C = a.sessionState), t(11, R = new AbortController), M(a.sessionID, R.signal)) }; return document.addEventListener("visibilitychange", O), a.sessionID && (t(11, R = new AbortController), M(a.sessionID, R.signal), document.addEventListener("visibilitychange", () => { document.visibilityState === "visible" && (R == null || R.abort(), t(10, C = a.sessionState), t(11, R = new AbortController), M(a.sessionID, R.signal)) })), () => { document.removeEventListener("visibilitychange", O) } }); function F(O) { return () => { O === "review" ? h.perform(zu(es.review)) : (h.perform(z2()), O === "close" && h.recordCustomMetricsEvent({ eventType: "click", actionType: "dismiss", targetId: y.actionString, actionContext: "transfer_complete", targetType: "banner" }), O === "start" && h.perform(zu(es.start)), t(1, s = !1)) } } function N(O) { return async () => { let B = !0, U, K, W, Z; O === "review" ? (h.recordCustomMetricsEvent({ eventType: "click", actionContext: "transfer_review", actionType: "dismiss", pageUrl: window.location.href, targetId: "Close", targetType: "banner" }), U = o.t("ASE.Web.Music.TransferMusic.Alert.ReviewUnmatched.Title"), K = o.t("ASE.Web.Music.TransferMusic.Alert.ReviewUnmatched.SubTitle"), W = o.t("ASE.Web.Music.OK"), Z = o.t("ASE.Web.Music.Cancel"), B = await io({ header: U, message: K, actionText: W, confirmText: Z }), h.recordCustomMetricsEvent({ eventType: "dialog", actionType: B ? "OK" : "dismiss", dialogId: "UnmatchedConfirmation", dialogType: "OkCancel", message: K, options: [Z, W], pageUrl: window.location.href, targetId: "Close", title: U })) : (O === "close" && h.recordCustomMetricsEvent({ eventType: "click", actionContext: "transfer_complete", actionType: "dismiss", pageUrl: window.location.href, targetId: "Close", targetType: "banner" }), h.perform(z2())), B && t(1, s = !1) } } return n.$$set = O => { "$$scope" in O && t(15, f = O.$$scope) }, n.$$.update = () => { n.$$.dirty & 1 && t(2, i = typeof (y == null ? void 0 : y.progress) < "u" && !(y != null && y.action)), n.$$.dirty & 8192 && t(12, r = a == null ? void 0 : a.modalActive), n.$$.dirty & 8192 && t(1, s = !!(a != null && a.sessionID)), n.$$.dirty & 21248 && (r && t(9, S = !0), c && S && k && !r && setTimeout(P, 2e3)), n.$$.dirty & 11264 && a.sessionState !== C && (R == null || R.abort(), t(10, C = a.sessionState), t(11, R = new AbortController), M(a.sessionID, R.signal)) }, [y, s, i, o, m, b, F, N, k, S, C, R, r, a, c, f, d] } class V0e extends oe { constructor(e) { super(), se(this, e, $0e, H0e, ye, {}) } } function z0e(n) { let e, t, i = [{ height: "16" }, { width: "16" }, { viewBox: "0 0 16 16" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { height: !0, width: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M1.559 16 13.795 3.764v8.962H16V0H3.274v2.205h8.962L0 14.441 1.559 16z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ height: "16" }, { width: "16" }, { viewBox: "0 0 16 16" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function q0e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Ll = class extends oe { constructor(e) { super(), se(this, e, q0e, z0e, ht, {}) } }; const W0e = n => ({}), X2 = n => ({}), K0e = n => ({}), Z2 = n => ({}); function J0e(n) { let e, t, i; return t = new Ll({ props: { class: "native-cta-action", "aria-hidden": "true" } }), { c() { e = L("span"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "SPAN", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "native-cta__arrow svelte-ba5e5y") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p: j, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function Y0e(n) { let e, t; const i = n[6]["google-play-badge"], r = We(i, n, n[5], X2); return { c() { e = L("span"), r && r.c(), this.h() }, l(s) { e = T(s, "SPAN", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "native-cta__badge svelte-ba5e5y") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 32) && Je(r, i, s, s[5], t ? Ke(i, s[5], o, W0e) : Ye(s[5]), X2) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function X0e(n) { let e, t, i, r, s, o, a, l, u, c, d; const f = n[6]["app-icon"], g = We(f, n, n[5], Z2), h = n[6].default, m = We(h, n, n[5], null), v = [Y0e, J0e], b = []; function y(k, S) { return k[1] ? 0 : 1 } return a = y(n), l = b[a] = v[a](n), { c() { e = L("div"), t = L("button"), i = L("span"), g && g.c(), r = Y(), s = L("span"), m && m.c(), o = Y(), l.c(), this.h() }, l(k) { e = T(k, "DIV", { "data-testid": !0, class: !0 }); var S = E(e); t = T(S, "BUTTON", { class: !0, "data-testid": !0, title: !0 }); var C = E(t); i = T(C, "SPAN", { class: !0 }); var P = E(i); g && g.l(P), P.forEach(_), r = X(C), s = T(C, "SPAN", { class: !0 }); var M = E(s); m && m.l(M), M.forEach(_), o = X(C), l.l(C), C.forEach(_), S.forEach(_), this.h() }, h() { p(i, "class", "native-cta__app-icon svelte-ba5e5y"), p(s, "class", "native-cta__label svelte-ba5e5y"), p(t, "class", "native-cta__button svelte-ba5e5y"), p(t, "data-testid", "native-cta-button"), p(t, "title", n[2]), p(e, "data-testid", "native-cta"), p(e, "class", "native-cta svelte-ba5e5y"), J(e, "native-cta--expanded", n[3]), J(e, "native-cta--authenticated", n[0]), J(e, "native-cta--android", n[1]) }, m(k, S) { I(k, e, S), A(e, t), A(t, i), g && g.m(i, null), A(t, r), A(t, s), m && m.m(s, null), A(t, o), b[a].m(t, null), u = !0, c || (d = Me(t, "click", Vi(n[7])), c = !0) }, p(k, [S]) { g && g.p && (!u || S & 32) && Je(g, f, k, k[5], u ? Ke(f, k[5], S, K0e) : Ye(k[5]), Z2), m && m.p && (!u || S & 32) && Je(m, h, k, k[5], u ? Ke(h, k[5], S, null) : Ye(k[5]), null); let C = a; a = y(k), a === C ? b[a].p(k, S) : (te(), D(b[C], 1, 1, () => { b[C] = null }), ne(), l = b[a], l ? l.p(k, S) : (l = b[a] = v[a](k), l.c()), w(l, 1), l.m(t, null)), (!u || S & 4) && p(t, "title", k[2]), (!u || S & 8) && J(e, "native-cta--expanded", k[3]), (!u || S & 1) && J(e, "native-cta--authenticated", k[0]), (!u || S & 2) && J(e, "native-cta--android", k[1]) }, i(k) { u || (w(g, k), w(m, k), w(l), u = !0) }, o(k) { D(g, k), D(m, k), D(l), u = !1 }, d(k) { k && _(e), g && g.d(k), m && m.d(k), b[a].d(), c = !1, d() } } } function Z0e(n, e, t) { let i; ce(n, Zr, d => t(3, i = d)); let { $$slots: r = {}, $$scope: s } = e, { isAuthenticated: o } = e, { isAndroid: a = !1 } = e, { title: l = null } = e; const u = It(), c = () => u("openInNativeApp"); return n.$$set = d => { "isAuthenticated" in d && t(0, o = d.isAuthenticated), "isAndroid" in d && t(1, a = d.isAndroid), "title" in d && t(2, l = d.title), "$$scope" in d && t(5, s = d.$$scope) }, [o, a, l, i, u, s, r, c] } class fN extends oe { constructor(e) { super(), se(this, e, Z0e, X0e, ye, { isAuthenticated: 0, isAndroid: 1, title: 2 }) } } function Q0e(n) { let e, t, i = [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm0 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1zm5 4.91v9.69c0 1.822-1.45 2.212-2.36 2.212-.904 0-1.649-.696-1.649-1.583 0-1.068.803-1.515 1.822-1.722l.92-.207c.372-.075.488-.348.488-.638l.009-4.639c0-.323-.15-.439-.514-.356l-5.31 1.077c-.306.05-.397.14-.397.505v6.743c0 1.83-1.474 2.253-2.386 2.253-.919 0-1.623-.705-1.623-1.583 0-1.085.812-1.532 1.78-1.764l.987-.199c.306-.074.43-.314.43-.588V7.21c0-.406.29-.58.622-.646l6.262-1.267c.571-.116.919-.05.919.613z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function j0e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let G0e = class extends oe { constructor(e) { super(), se(this, e, j0e, Q0e, ht, {}) } }; const ts = "https://music.apple.com", bs = "music", gN = `${ts}/deeplink`; function x0e(n, e, t) { const i = new URL(n), r = e || bs; if (t) { const { intent: l, storefront: u } = t; if (Ooe(l)) return Xl(i); const c = new URL(gN); if (c.searchParams.append("app", bs), e1e(l)) return c.searchParams.append("p", "library"), Xl(c); if (CW(l)) return c.searchParams.append("p", "browse"), Xl(c); if (Tj(l)) return c.searchParams.append("p", "radio"), Xl(c); if (ej(l) && i.pathname !== "/") return c.searchParams.append("p", "listenNow"), Xl(c) } const s = i.search ? "&" : "?", o = i.href.endsWith("/") ? i.href.slice(0, -1) : i.href; let a = i.search.includes("app=") ? o : `${o}${s}app=${r}`; return i.origin !== ts && (a = a.replace(i.origin, ts)), a } function e1e(n) { return Ree(n) || Dte(n) || Tee(n) || rne(n) || aie(n) || Lee(n) || vie(n) || mte(n) } function Ws(n = ts, e = bs, t) { const i = x0e(n, e, t); Oi.launchClient(i, ({ success: r }) => { !r && Oi.isAndroid() && C_() }) } function t1e() { return `https://play.google.com/store/apps/details?id=com.apple.android.music&referrer=utm_source=${encodeURIComponent(window.location.href)}` } function C_() { const n = t1e(); window.open(n, "_blank", "noopener noreferrer") } function hN() { const n = new URL(window.location.href), e = new URLSearchParams(n.search); e.append("p", "subscribe"); const t = `${gN}${n.search ? `?${e.toString()}` : ""}`; Ws(t) } function Xl(n, e = ts) { let t = n.href; return n.origin !== ts && (t = t.replace(n.origin, e)), t } const Ad = Tt(!1); function n1e(n) { let e, t; return e = new fN({ props: { isAuthenticated: n[0], $$slots: { "app-icon": [s1e], default: [r1e] }, $$scope: { ctx: n } } }), e.$on("openInNativeApp", n[8]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.isAuthenticated = i[0]), r & 4098 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function i1e(n) { let e, t; return e = new fN({ props: { isAuthenticated: n[0], isAndroid: !0, $$slots: { "google-play-badge": [l1e], "app-icon": [a1e], default: [o1e] }, $$scope: { ctx: n } } }), e.$on("openInNativeApp", n[10]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.isAuthenticated = i[0]), r & 4098 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function r1e(n) { let e = n[1].t("ASE.Web.Music.openInMusic") + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 2 && e !== (e = i[1].t("ASE.Web.Music.openInMusic") + "") && me(t, e) }, d(i) { i && _(t) } } } function s1e(n) { let e, t; return e = new G0e({ props: { slot: "app-icon", "aria-hidden": "true" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function o1e(n) { let e = n[1].t("ASE.Web.Music.installMusic") + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 2 && e !== (e = i[1].t("ASE.Web.Music.installMusic") + "") && me(t, e) }, d(i) { i && _(t) } } } function a1e(n) { let e, t; return { c() { e = L("img"), this.h() }, l(i) { e = T(i, "IMG", { slot: !0, src: !0, alt: !0 }), this.h() }, h() { p(e, "slot", "app-icon"), ji(e.src, t = "/assets/app-icons/onboarding_appicon_fy2020.png") || p(e, "src", t), p(e, "alt", "") }, m(i, r) { I(i, e, r) }, p: j, d(i) { i && _(e) } } } function l1e(n) { let e, t, i; return { c() { e = L("img"), this.h() }, l(r) { e = T(r, "IMG", { slot: !0, src: !0, alt: !0 }), this.h() }, h() { p(e, "slot", "google-play-badge"), ji(e.src, t = "/assets/badges/google-play-badge.png") || p(e, "src", t), p(e, "alt", i = n[1].t("ASE.Web.Music.getOnGooglePlay")) }, m(r, s) { I(r, e, s) }, p(r, s) { s & 2 && i !== (i = r[1].t("ASE.Web.Music.getOnGooglePlay")) && p(e, "alt", i) }, d(r) { r && _(e) } } } function u1e(n) { let e, t, i = n[1].t("ASE.Web.Music.openInAppleMusicWebBeta") + "", r, s, o, a, l, u; return o = new Ll({ props: { class: "beta-button-action", "aria-hidden": "true" } }), { c() { e = L("button"), t = L("span"), r = le(i), s = Y(), V(o.$$.fragment), this.h() }, l(c) { e = T(c, "BUTTON", { class: !0, "data-testid": !0 }); var d = E(e); t = T(d, "SPAN", { class: !0 }); var f = E(t); r = ue(f, i), f.forEach(_), s = X(d), q(o.$$.fragment, d), d.forEach(_), this.h() }, h() { p(t, "class", "beta-button__text svelte-s7qkpt"), p(e, "class", "beta-button svelte-s7qkpt"), p(e, "data-testid", "try-beta") }, m(c, d) { I(c, e, d), A(e, t), A(t, r), A(e, s), H(o, e, null), a = !0, l || (u = Me(e, "click", n[6]), l = !0) }, p(c, d) { (!a || d & 2) && i !== (i = c[1].t("ASE.Web.Music.openInAppleMusicWebBeta") + "") && me(r, i) }, i(c) { a || (w(o.$$.fragment, c), a = !0) }, o(c) { D(o.$$.fragment, c), a = !1 }, d(c) { c && _(e), $(o), l = !1, u() } } } function c1e(n) { let e, t, i = n[1].t("ASE.Web.Music.openInAppleMusicWeb") + "", r, s, o, a, l, u; return o = new Ll({ props: { class: "beta-button-action", "aria-hidden": "true" } }), { c() { e = L("button"), t = L("span"), r = le(i), s = Y(), V(o.$$.fragment), this.h() }, l(c) { e = T(c, "BUTTON", { class: !0, "data-testid": !0 }); var d = E(e); t = T(d, "SPAN", { class: !0 }); var f = E(t); r = ue(f, i), f.forEach(_), s = X(d), q(o.$$.fragment, d), d.forEach(_), this.h() }, h() { p(t, "class", "beta-button__text svelte-s7qkpt"), p(e, "class", "beta-button svelte-s7qkpt"), p(e, "data-testid", "exit-beta") }, m(c, d) { I(c, e, d), A(e, t), A(t, r), A(e, s), H(o, e, null), a = !0, l || (u = Me(e, "click", n[7]), l = !0) }, p(c, d) { (!a || d & 2) && i !== (i = c[1].t("ASE.Web.Music.openInAppleMusicWeb") + "") && me(r, i) }, i(c) { a || (w(o.$$.fragment, c), a = !0) }, o(c) { D(o.$$.fragment, c), a = !1 }, d(c) { c && _(e), $(o), l = !1, u() } } } function d1e(n) { let e, t, i, r, s, o, a; const l = [i1e, n1e], u = []; function c(h, m) { return h[3] ? 0 : h[2] ? -1 : 1 } ~(e = c(n)) && (t = u[e] = l[e](n)); const d = [c1e, u1e], f = []; function g(h, m) { return $O() ? 0 : 1 } return r = g(), s = f[r] = d[r](n), { c() { t && t.c(), i = Y(), s.c(), o = re() }, l(h) { t && t.l(h), i = X(h), s.l(h), o = re() }, m(h, m) { ~e && u[e].m(h, m), I(h, i, m), f[r].m(h, m), I(h, o, m), a = !0 }, p(h, [m]) { let v = e; e = c(h), e === v ? ~e && u[e].p(h, m) : (t && (te(), D(u[v], 1, 1, () => { u[v] = null }), ne()), ~e ? (t = u[e], t ? t.p(h, m) : (t = u[e] = l[e](h), t.c()), w(t, 1), t.m(i.parentNode, i)) : t = null), s.p(h, m) }, i(h) { a || (w(t), w(s), a = !0) }, o(h) { D(t), D(s), a = !1 }, d(h) { h && (_(i), _(o)), ~e && u[e].d(h), f[r].d(h) } } } function f1e(n, e, t) { let i, r, s, o; ce(n, Ad, m => t(2, o = m)); const a = fn(), l = Oi.isAndroid(), u = ot(); ce(n, u, m => t(1, s = m)); const { state: c } = xt(); ce(n, c, m => t(9, r = m)); const d = () => { const { pathname: m, search: v } = window.location; window.open(`${phe}${m}${v}`, "_self") }, f = () => { const { pathname: m, search: v } = window.location; window.open(`${ts}${m}${v}`, "_self") }, g = async () => { const m = await a.routeUrl(window.location.href); Ws(window.location.href, bs, m) }, h = () => C_(); return n.$$.update = () => { n.$$.dirty & 512 && t(0, i = r.user !== null) }, [i, s, o, l, u, c, d, f, g, r, h] } class g1e extends oe { constructor(e) { super(), se(this, e, f1e, d1e, ye, {}) } } function h1e(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M0 46.153c0 1.707 1.328 2.952 3.111 2.952h6.317c4.623 0 7.384-1.397 10.43-5.03l16.316-19.62c2.305-2.762 4.11-3.725 7.288-3.725h5.19v5.66c0 1.423.858 2.276 2.269 2.276.646 0 1.228-.235 1.67-.617l10.605-8.871c1.077-.89 1.067-2.325 0-3.265L52.592 7.036a2.637 2.637 0 0 0-1.671-.597c-1.411 0-2.27.833-2.27 2.251v6.137h-5.048c-4.87 0-7.993 1.319-11.495 5.538l-15.83 19.091c-2.267 2.694-4.198 3.765-7.285 3.765H3.111C1.336 43.221 0 44.477 0 46.153zm0-28.37c0 1.675 1.336 2.951 3.111 2.951h5.59c3.105 0 5.33 1.06 7.576 3.745l16.104 19.394c3.219 3.848 6.566 5.235 11.193 5.235h5.077v6.202c0 1.418.859 2.251 2.27 2.251.646 0 1.228-.234 1.67-.597l10.605-8.87c1.077-.91 1.067-2.346 0-3.286l-10.604-8.857a2.544 2.544 0 0 0-1.671-.617c-1.411 0-2.27.833-2.27 2.255v5.636h-4.935c-3.236 0-5.335-1.09-7.58-3.775L19.858 19.86c-3.047-3.633-6.1-5.03-10.724-5.03H3.111C1.328 14.83 0 16.076 0 17.783z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function m1e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let mN = class extends oe { constructor(e) { super(), se(this, e, m1e, h1e, ht, {}) } }; function p1e(n) { let e, t, i = [{ "aria-hidden": "true" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("use"), this.h() }, l(s) { e = be(s, "svg", { "aria-hidden": !0 }); var o = E(e); t = be(o, "use", { href: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "href", "#play-circle-fill"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ "aria-hidden": "true" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function _1e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let v1e = class extends oe { constructor(e) { super(), se(this, e, _1e, p1e, ht, {}) } }; function b1e(n) { let e, t, i, r = [{ viewBox: "0 0 60 60" }, { xmlns: "http://www.w3.org/2000/svg" }, { "xml:space": "preserve" }, n[0]], s = {}; for (let o = 0; o < r.length; o += 1)s = fe(s, r[o]); return { c() { e = ve("svg"), t = ve("path"), i = ve("path"), this.h() }, l(o) { e = be(o, "svg", { viewBox: !0, xmlns: !0, "xml:space": !0 }); var a = E(e); t = be(a, "path", { class: !0, fill: !0, d: !0 }), E(t).forEach(_), i = be(a, "path", { fill: !0, d: !0 }), E(i).forEach(_), a.forEach(_), this.h() }, h() { p(t, "class", "icon-circle-fill__circle"), p(t, "fill", "var(--iconCircleFillBG, transparent)"), p(t, "d", "M30 60c16.411 0 30-13.617 30-30C60 13.588 46.382 0 29.971 0 13.588 0 .001 13.588.001 30c0 16.383 13.617 30 30 30Z"), p(i, "fill", "var(--iconFillArrow, var(--keyColor, black))"), p(i, "d", "M22.86 42.19h3.413c1.302 0 1.99-.688 1.99-2.005V19.8c0-1.362-.688-1.99-1.99-1.99h-3.412c-1.302 0-1.991.688-1.991 1.99v20.385c0 1.317.689 2.005 1.99 2.005Zm10.882 0h3.397c1.317 0 1.991-.688 1.991-2.005V19.8c0-1.362-.674-1.99-1.99-1.99h-3.398c-1.317 0-2.006.688-2.006 1.99v20.385c0 1.317.689 2.005 2.006 2.005Z"), Le(e, s) }, m(o, a) { I(o, e, a), A(e, t), A(e, i) }, p(o, [a]) { Le(e, s = at(r, [{ viewBox: "0 0 60 60" }, { xmlns: "http://www.w3.org/2000/svg" }, { "xml:space": "preserve" }, a & 1 && o[0]])) }, i: j, o: j, d(o) { o && _(e) } } } function y1e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Q2 = class extends oe { constructor(e) { super(), se(this, e, y1e, b1e, ht, {}) } }; function w1e(n) { let e, t, i = [{ width: "16" }, { height: "16" }, { viewBox: "0 0 16 16" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { fill: !0, d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "fill", "var(--nonPlatterIconFill, var(--keyColor, black))"), p(t, "d", "m4.4 15.14 10.386-6.096c.842-.459.794-1.64 0-2.097L4.401.85c-.87-.53-2-.12-2 .82v12.625c0 .966 1.06 1.4 2 .844z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "16" }, { height: "16" }, { viewBox: "0 0 16 16" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function k1e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Wp = class extends oe { constructor(e) { super(), se(this, e, k1e, w1e, ht, {}) } }; function D1e(n) { let e, t, i = [{ width: "16" }, { height: "16" }, { viewBox: "0 0 16 16" }, { xmlns: "http://www.w3.org/2000/svg" }, { "fill-rule": "evenodd" }, { "clip-rule": "evenodd" }, { "stroke-linejoin": "round" }, { "stroke-miterlimit": "2" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0, "fill-rule": !0, "clip-rule": !0, "stroke-linejoin": !0, "stroke-miterlimit": !0 }); var o = E(e); t = be(o, "path", { fill: !0, d: !0, "fill-rule": !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "fill", "var(--nonPlatterIconFill, var(--keyColor, black))"), p(t, "d", "M9.918.464h2.672a.89.89 0 0 1 .89.89v13.291a.89.89 0 0 1-.89.891H9.918a.89.89 0 0 1-.89-.89V1.354a.89.89 0 0 1 .89-.891zm-6.371 0h2.398c.567 0 1.027.46 1.027 1.028v13.016c0 .568-.46 1.028-1.027 1.028H3.547c-.567 0-1.028-.46-1.028-1.028V1.492c0-.568.46-1.028 1.028-1.028z"), p(t, "fill-rule", "nonzero"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "16" }, { height: "16" }, { viewBox: "0 0 16 16" }, { xmlns: "http://www.w3.org/2000/svg" }, { "fill-rule": "evenodd" }, { "clip-rule": "evenodd" }, { "stroke-linejoin": "round" }, { "stroke-miterlimit": "2" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function S1e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Kp = class extends oe { constructor(e) { super(), se(this, e, S1e, D1e, ht, {}) } }; function C1e(n) { let e, t, i = [{ width: "16" }, { height: "16" }, { viewBox: "0 0 16 16" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { fill: !0, d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "fill", "var(--nonPlatterIconFill, var(--keyColor, black))"), p(t, "d", "M8 16h-.006c-4.389 0-8-3.611-8-8 0-4.389 3.611-8 8-8 1.896 0 3.731.674 5.176 1.9a.693.693 0 0 1 .312.577c0 .378-.312.69-.69.69a.693.693 0 0 1-.512-.227A6.632 6.632 0 0 0 8 1.373c-3.637 0-6.63 2.993-6.63 6.63 0 3.638 2.993 6.63 6.63 6.63s6.63-2.992 6.63-6.63V8a.695.695 0 0 1 .685-.607c.347 0 .643.262.685.607 0 4.389-3.611 8-8 8"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "16" }, { height: "16" }, { viewBox: "0 0 16 16" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function P1e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let j2 = class extends oe { constructor(e) { super(), se(this, e, P1e, C1e, ht, {}) } }; function A1e(n) { let e, t, i = [{ height: "28" }, { width: "28" }, { viewBox: "0 0 28 28" }, { class: "icon radial-progress-player radial-progress-player--play" }, { xmlns: "http://www.w3.org/2000/svg" }, { "stroke-linecap": "round" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { height: !0, width: !0, viewBox: !0, class: !0, xmlns: !0, "stroke-linecap": !0 }); var o = E(e); t = be(o, "path", { class: !0, d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "class", "radial-progress-player__play-glyph"), p(t, "d", "M10.958 20c.287 0 .54-.103.855-.287l8.08-4.673c.588-.342.834-.609.834-1.04 0-.431-.246-.691-.834-1.04l-8.08-4.673c-.315-.184-.568-.287-.855-.287-.561 0-.958.431-.958 1.108v9.784c0 .684.397 1.108.958 1.108z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ height: "28" }, { width: "28" }, { viewBox: "0 0 28 28" }, { class: "icon radial-progress-player radial-progress-player--play" }, { xmlns: "http://www.w3.org/2000/svg" }, { "stroke-linecap": "round" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function E1e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let I1e = class extends oe { constructor(e) { super(), se(this, e, E1e, A1e, ht, {}) } }; function M1e(n) { let e, t, i, r, s = [{ height: "28" }, { width: "28" }, { viewBox: "0 0 28 28" }, { class: "icon radial-progress-player radial-progress-player--pause" }, { xmlns: "http://www.w3.org/2000/svg" }, { "stroke-linecap": "round" }, n[0]], o = {}; for (let a = 0; a < s.length; a += 1)o = fe(o, s[a]); return { c() { e = ve("svg"), t = ve("circle"), i = ve("circle"), r = ve("path"), this.h() }, l(a) { e = be(a, "svg", { height: !0, width: !0, viewBox: !0, class: !0, xmlns: !0, "stroke-linecap": !0 }); var l = E(e); t = be(l, "circle", { style: !0, class: !0, cx: !0, cy: !0, r: !0, fill: !0, transform: !0 }), E(t).forEach(_), i = be(l, "circle", { style: !0, class: !0, cx: !0, cy: !0, r: !0, fill: !0, transform: !0 }), E(i).forEach(_), r = be(l, "path", { class: !0, d: !0 }), E(r).forEach(_), l.forEach(_), this.h() }, h() { Pt(t, "stroke-dashoffset", "0"), p(t, "class", "radial-progress-player__track"), p(t, "cx", "28"), p(t, "cy", "28"), p(t, "r", "11.95"), p(t, "fill", "none"), p(t, "transform", "rotate(-90 14 30.465) scale(1.08801)"), Pt(i, "stroke-dashoffset", "var(--progress-stroke-dashoffset, 75px)"), p(i, "class", "radial-progress-player__indicator"), p(i, "cx", "28"), p(i, "cy", "28"), p(i, "r", "11.95"), p(i, "fill", "none"), p(i, "transform", "rotate(-90 14 30.465) scale(1.08801)"), p(r, "class", "radial-progress-player__pause-glyph"), p(r, "d", "M12.174 19c.545 0 .826-.294.826-.865v-8.27c0-.583-.281-.859-.826-.865h-1.348c-.545 0-.826.294-.826.865v8.27c-.006.571.275.865.826.865h1.348zm4.998 0c.546 0 .828-.294.828-.865v-8.27c0-.583-.282-.865-.828-.865h-1.344c-.552 0-.828.294-.828.865v8.27c0 .571.276.865.828.865h1.344z"), Le(e, o) }, m(a, l) { I(a, e, l), A(e, t), A(e, i), A(e, r) }, p(a, [l]) { Le(e, o = at(s, [{ height: "28" }, { width: "28" }, { viewBox: "0 0 28 28" }, { class: "icon radial-progress-player radial-progress-player--pause" }, { xmlns: "http://www.w3.org/2000/svg" }, { "stroke-linecap": "round" }, l & 1 && a[0]])) }, i: j, o: j, d(a) { a && _(e) } } } function L1e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let T1e = class extends oe { constructor(e) { super(), se(this, e, L1e, M1e, ht, {}) } }; function R1e(n) { let e, t, i = [{ height: "28" }, { width: "28" }, { viewBox: "0 0 28 28" }, { class: "icon radial-progress-player radial-progress-player--buffer" }, { xmlns: "http://www.w3.org/2000/svg" }, { "stroke-linecap": "round" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { height: !0, width: !0, viewBox: !0, class: !0, xmlns: !0, "stroke-linecap": !0 }); var o = E(e); t = be(o, "path", { class: !0, d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "class", "radial-progress-player__buffering"), p(t, "d", "M14.005 27.995h-.01C6.317 27.995 0 21.678 0 14 0 6.322 6.317.005 13.995.005c3.316 0 6.526 1.18 9.054 3.324.34.224.546.603.546 1.01 0 .66-.546 1.206-1.207 1.206-.341 0-.666-.145-.896-.397a11.602 11.602 0 0 0-7.487-2.74c-6.362 0-11.598 5.235-11.598 11.597 0 6.364 5.236 11.598 11.598 11.598 6.363 0 11.598-5.234 11.598-11.598V14a1.216 1.216 0 0 1 1.199-1.062c.607 0 1.124.458 1.198 1.062 0 7.678-6.317 13.995-13.995 13.995"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ height: "28" }, { width: "28" }, { viewBox: "0 0 28 28" }, { class: "icon radial-progress-player radial-progress-player--buffer" }, { xmlns: "http://www.w3.org/2000/svg" }, { "stroke-linecap": "round" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function F1e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let O1e = class extends oe { constructor(e) { super(), se(this, e, F1e, R1e, ht, {}) } }; const pN = { PLATTER: "platter", NON_PLATTER: "non-platter", RADIAL_PROGRESS: "radial-progress" }, { PLAY: Qh, PAUSE: jh, BUFFER: Gh, PLAYING: xh } = ui, { PLATTER: N1e, NON_PLATTER: B1e, RADIAL_PROGRESS: U1e } = pN, Xu = { [N1e]: { [Qh]: v1e, [jh]: Q2, [Gh]: j2, [xh]: Q2 }, [B1e]: { [Qh]: Wp, [jh]: Kp, [Gh]: j2, [xh]: Kp }, [U1e]: { [Qh]: Wp, [jh]: T1e, [Gh]: O1e, [xh]: I1e } }; function H1e(n) { let e, t, i, r, s; var o = n[11]; function a(l, u) { return { props: { class: `icon ${l[7]}-svg`, "data-testid": `${l[7]}-icon`, "aria-hidden": "true", iconState: l[7] } } } return o && (t = jt(o, a(n))), { c() { e = L("button"), t && V(t.$$.fragment), this.h() }, l(l) { e = T(l, "BUTTON", { "aria-label": !0, class: !0, tabindex: !0, "data-testid": !0 }); var u = E(e); t && q(t.$$.fragment, u), u.forEach(_), this.h() }, h() { p(e, "aria-label", n[6]), p(e, "class", "play-button svelte-1omfmy3"), p(e, "tabindex", n[9]), p(e, "data-testid", "play-button"), J(e, "play-button--platter", n[8] === "platter"), J(e, "play-button--standard", n[8] === "non-platter"), J(e, "play-button--artwork-overlay", n[5] === "artworkHover"), J(e, "is-stand-alone", n[0]), J(e, "is-in-chin", n[2]), J(e, "is-large", n[1]), J(e, "is-hovered", n[3]), J(e, "is-filled", n[4]) }, m(l, u) { I(l, e, u), t && H(t, e, null), n[16](e), i = !0, r || (s = Me(e, "click", Vi(Ui(n[15]))), r = !0) }, p(l, [u]) { if (u & 2048 && o !== (o = l[11])) { if (t) { te(); const c = t; D(c.$$.fragment, 1, 0, () => { $(c, 1) }), ne() } o ? (t = jt(o, a(l)), V(t.$$.fragment), w(t.$$.fragment, 1), H(t, e, null)) : t = null } else if (o) { const c = {}; u & 128 && (c.class = `icon ${l[7]}-svg`), u & 128 && (c["data-testid"] = `${l[7]}-icon`), u & 128 && (c.iconState = l[7]), t.$set(c) } (!i || u & 64) && p(e, "aria-label", l[6]), (!i || u & 512) && p(e, "tabindex", l[9]), (!i || u & 256) && J(e, "play-button--platter", l[8] === "platter"), (!i || u & 256) && J(e, "play-button--standard", l[8] === "non-platter"), (!i || u & 32) && J(e, "play-button--artwork-overlay", l[5] === "artworkHover"), (!i || u & 1) && J(e, "is-stand-alone", l[0]), (!i || u & 4) && J(e, "is-in-chin", l[2]), (!i || u & 2) && J(e, "is-large", l[1]), (!i || u & 8) && J(e, "is-hovered", l[3]), (!i || u & 16) && J(e, "is-filled", l[4]) }, i(l) { i || (t && w(t.$$.fragment, l), i = !0) }, o(l) { t && D(t.$$.fragment, l), i = !1 }, d(l) { l && _(e), t && $(t), n[16](null), r = !1, s() } } } function $1e(n, e) { return { ...Xu, [n]: { ...Xu[n], ...e } } } function V1e(n, e, t) { let i, r, { isStandAlone: s = !1 } = e, { isLarge: o = !1 } = e, { isInChin: a = !1 } = e, { isHovered: l = !1 } = e, { isFilled: u = !1 } = e, { playButtonType: c = null } = e, { ariaLabel: d = "" } = e, { iconState: f = ui.PLAY } = e, { iconSet: g = "platter" } = e, { iconSetOverride: h = null } = e, { tabIndex: m = null } = e, { nodeRef: v = () => { } } = e, b; Yt(() => { v(b) }); function y(S) { Bt.call(this, n, S) } function k(S) { wt[S ? "unshift" : "push"](() => { b = S, t(10, b) }) } return n.$$set = S => { "isStandAlone" in S && t(0, s = S.isStandAlone), "isLarge" in S && t(1, o = S.isLarge), "isInChin" in S && t(2, a = S.isInChin), "isHovered" in S && t(3, l = S.isHovered), "isFilled" in S && t(4, u = S.isFilled), "playButtonType" in S && t(5, c = S.playButtonType), "ariaLabel" in S && t(6, d = S.ariaLabel), "iconState" in S && t(7, f = S.iconState), "iconSet" in S && t(8, g = S.iconSet), "iconSetOverride" in S && t(12, h = S.iconSetOverride), "tabIndex" in S && t(9, m = S.tabIndex), "nodeRef" in S && t(13, v = S.nodeRef) }, n.$$.update = () => { n.$$.dirty & 4096 && t(14, i = h === null ? Xu : h), n.$$.dirty & 16768 && t(11, r = i[g][f]) }, [s, o, a, l, u, c, d, f, g, m, b, r, h, v, i, y, k] } class jg extends oe { constructor(e) { super(), se(this, e, V1e, H1e, ye, { isStandAlone: 0, isLarge: 1, isInChin: 2, isHovered: 3, isFilled: 4, playButtonType: 5, ariaLabel: 6, iconState: 7, iconSet: 8, iconSetOverride: 12, tabIndex: 9, nodeRef: 13 }) } } function z1e(n) { let e, t; return e = new jg({ props: { iconState: n[10], ariaLabel: n[0], isStandAlone: n[2], isFilled: n[3], playButtonType: n[4], isInChin: n[5], iconSet: n[6], iconSetOverride: n[7], isLarge: n[1], tabIndex: n[8], nodeRef: n[9] } }), e.$on("click", n[11]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 1 && (s.ariaLabel = i[0]), r & 4 && (s.isStandAlone = i[2]), r & 8 && (s.isFilled = i[3]), r & 16 && (s.playButtonType = i[4]), r & 32 && (s.isInChin = i[5]), r & 64 && (s.iconSet = i[6]), r & 128 && (s.iconSetOverride = i[7]), r & 2 && (s.isLarge = i[1]), r & 256 && (s.tabIndex = i[8]), r & 512 && (s.nodeRef = i[9]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function q1e(n, e, t) { let { playAction: i } = e, { ariaLabel: r = "" } = e, { isLarge: s = !1 } = e, { isStandAlone: o = !1 } = e, { isFilled: a = !1 } = e, { playButtonType: l = null } = e, { isInChin: u = !1 } = e, { playButtonStyle: c = "platter" } = e, { iconSetOverride: d = null } = e, { tabIndex: f = null } = e, { nodeRef: g = () => { } } = e; const { PLAY: h } = ui, m = sn(), v = () => m(i); return n.$$set = b => { "playAction" in b && t(12, i = b.playAction), "ariaLabel" in b && t(0, r = b.ariaLabel), "isLarge" in b && t(1, s = b.isLarge), "isStandAlone" in b && t(2, o = b.isStandAlone), "isFilled" in b && t(3, a = b.isFilled), "playButtonType" in b && t(4, l = b.playButtonType), "isInChin" in b && t(5, u = b.isInChin), "playButtonStyle" in b && t(6, c = b.playButtonStyle), "iconSetOverride" in b && t(7, d = b.iconSetOverride), "tabIndex" in b && t(8, f = b.tabIndex), "nodeRef" in b && t(9, g = b.nodeRef) }, [r, s, o, a, l, u, c, d, f, g, h, v, i] } class Ki extends oe { constructor(e) { super(), se(this, e, q1e, z1e, ye, { playAction: 12, ariaLabel: 0, isLarge: 1, isStandAlone: 2, isFilled: 3, playButtonType: 4, isInChin: 5, playButtonStyle: 6, iconSetOverride: 7, tabIndex: 8, nodeRef: 9 }) } } function W1e(n) { let e, t, i = [{ height: "14" }, { viewBox: "0 0 14 14" }, { width: "14" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { height: !0, viewBox: !0, width: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0, "fill-rule": !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M6.996 14.026C3.144 14.026 0 10.88 0 7.013 0 3.153 3.144 0 6.996 0 10.856 0 14 3.153 14 7.013c0 3.868-3.144 7.013-7.004 7.013zm1.764-3.818c1.55 0 2.394-1.201 2.394-3.442 0-1.994-.818-3.11-2.292-3.11-1.33 0-2.182.86-2.182 2.232 0 1.33.912 2.037 1.892 2.037.801 0 1.261-.452 1.432-.887h.034c0 1.253-.512 2.122-1.295 2.122-.341 0-.622-.17-.818-.477-.154-.222-.316-.315-.571-.315-.273 0-.486.213-.486.52 0 .093.017.178.043.298.144.4.715 1.022 1.849 1.022zm-4.022-.077c.375 0 .613-.272.613-.715V4.508c0-.495-.247-.784-.656-.784-.281 0-.435.093-.741.323l-.98.725c-.205.153-.29.29-.29.528 0 .315.205.528.477.528.137 0 .239-.017.435-.187l.52-.418h.017v4.193c0 .443.238.715.605.715zM8.92 6.987c-.613 0-1.04-.468-1.04-1.142 0-.732.401-1.193 1.04-1.193.605 0 1.032.495 1.032 1.202 0 .665-.427 1.133-1.032 1.133z"), p(t, "fill-rule", "evenodd"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ height: "14" }, { viewBox: "0 0 14 14" }, { width: "14" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function K1e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let J1e = class extends oe { constructor(e) { super(), se(this, e, K1e, W1e, ht, {}) } }; function Y1e(n) { let e, t, i = [{ width: "14" }, { height: "14" }, { viewBox: "0 0 16 16" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M7.943 15.994c4.339 0 7.911-3.607 7.911-7.989 0-4.373-3.58-7.988-7.919-7.988C3.605.017.032 3.632.032 8.005c0 4.382 3.572 7.99 7.911 7.99zm2.025-4.672c-1.335 0-2.237-.758-2.237-1.884 0-.797.485-1.417 1.266-1.586V7.8c-.644-.192-1.031-.72-1.031-1.41 0-1.01.827-1.7 2.01-1.7 1.19 0 2.025.69 2.025 1.7 0 .69-.402 1.233-1.04 1.41v.053c.774.169 1.268.781 1.268 1.586 0 1.126-.918 1.884-2.26 1.884zm-4.172-.069c-.364 0-.584-.237-.584-.651V6.213h-.038l-.66.529c-.181.168-.28.206-.462.206-.266 0-.508-.237-.508-.536 0-.237.114-.406.326-.582l1.024-.766c.318-.26.516-.337.796-.337.448 0 .706.284.706.736v5.139c0 .414-.213.651-.6.651zm4.18-3.876c.523 0 .872-.36.872-.865 0-.498-.356-.85-.872-.85-.508 0-.857.352-.857.85 0 .505.349.865.857.865zm.007 2.965c.615 0 1.055-.406 1.055-.996 0-.575-.433-.988-1.055-.988-.614 0-1.054.413-1.054.988 0 .59.44.996 1.054.996z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "14" }, { height: "14" }, { viewBox: "0 0 16 16" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function X1e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Z1e = class extends oe { constructor(e) { super(), se(this, e, X1e, Y1e, ht, {}) } }; function Q1e(n) { let e, t, i = [{ height: "16" }, { viewBox: "0 0 16 16" }, { width: "16" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { height: !0, viewBox: !0, width: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M2.86 15.85h10.147c1.865 0 2.848-.974 2.848-2.814V2.829c0-1.84-.983-2.822-2.848-2.822H2.859C1.003.007.011.989.011 2.829v10.207c0 1.84.992 2.814 2.848 2.814zm2.41-3.89c-.538 0-.865-.319-.865-.823 0-.15.033-.327.117-.588L6.59 4.82c.244-.706.689-1.042 1.37-1.042.688 0 1.15.345 1.385 1.042l2.067 5.73c.092.26.118.436.118.596 0 .495-.32.815-.857.815-.446 0-.74-.236-.882-.773l-.462-1.37H6.614l-.462 1.37c-.151.546-.437.773-.882.773zm1.697-3.444h2l-.95-3.024h-.092z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ height: "16" }, { viewBox: "0 0 16 16" }, { width: "16" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function j1e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let G1e = class extends oe { constructor(e) { super(), se(this, e, j1e, Q1e, ht, {}) } }; const x1e = ["dz", "bh", "eg", "iq", "jo", "kw", "lb", "ly", "mr", "ma", "om", "qa", "sa", "tn", "ae", "ye"], e_e = ["gr", "cy"]; function t_e(n) { let e, t, i, r, s; var o = n[2]; function a(l, u) { return {} } return o && (t = jt(o, a())), { c() { e = L("span"), t && V(t.$$.fragment), this.h() }, l(l) { e = T(l, "SPAN", { "data-testid": !0, class: !0, "aria-label": !0, role: !0 }); var u = E(e); t && q(t.$$.fragment, u), u.forEach(_), this.h() }, h() { p(e, "data-testid", "explicit-badge"), p(e, "class", "explicit svelte-iojijn"), p(e, "aria-label", i = n[0] ? n[0] : null), p(e, "role", r = n[0] ? "img" : "presentation"), J(e, "explicit--chin-inline-sticky", n[1]) }, m(l, u) { I(l, e, u), t && H(t, e, null), s = !0 }, p(l, [u]) { if (u & 4 && o !== (o = l[2])) { if (t) { te(); const c = t; D(c.$$.fragment, 1, 0, () => { $(c, 1) }), ne() } o ? (t = jt(o, a()), V(t.$$.fragment), w(t.$$.fragment, 1), H(t, e, null)) : t = null } (!s || u & 1 && i !== (i = l[0] ? l[0] : null)) && p(e, "aria-label", i), (!s || u & 1 && r !== (r = l[0] ? "img" : "presentation")) && p(e, "role", r), (!s || u & 2) && J(e, "explicit--chin-inline-sticky", l[1]) }, i(l) { s || (t && w(t.$$.fragment, l), s = !0) }, o(l) { t && D(t.$$.fragment, l), s = !1 }, d(l) { l && _(e), t && $(t) } } } function n_e(n, e, t) { var a; let i, { explicitAriaText: r } = e, { chinInlineSticky: s = !1 } = e, { locale: o = (a = Ig()) != null ? a : null } = e; return n.$$set = l => { "explicitAriaText" in l && t(0, r = l.explicitAriaText), "chinInlineSticky" in l && t(1, s = l.chinInlineSticky), "locale" in l && t(3, o = l.locale) }, n.$$.update = () => { n.$$.dirty & 8 && t(2, i = (() => { let l = KO; return o && (o.storefront === "kr" ? l = J1e : e_e.includes(o.storefront) && o.language === "el" ? l = G1e : x1e.includes(o.storefront) && (l = Z1e)), l })()) }, [r, s, i, o] } class Nc extends oe { constructor(e) { super(), se(this, e, n_e, t_e, ye, { explicitAriaText: 0, chinInlineSticky: 1, locale: 3 }) } } function i_e(n) { let e, t, i; return t = new Nc({ props: { explicitAriaText: n[1].t("ASE.Web.Music.Explicit"), chinInlineSticky: n[0] } }), { c() { e = L("span"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "SPAN", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "explicit-wrapper svelte-j8a2wc") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, [s]) { const o = {}; s & 2 && (o.explicitAriaText = r[1].t("ASE.Web.Music.Explicit")), s & 1 && (o.chinInlineSticky = r[0]), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function r_e(n, e, t) { let i; const r = ot(); ce(n, r, o => t(1, i = o)); let { chinInlineSticky: s = !1 } = e; return n.$$set = o => { "chinInlineSticky" in o && t(0, s = o.chinInlineSticky) }, [s, i, r] } class ya extends oe { constructor(e) { super(), se(this, e, r_e, i_e, ye, { chinInlineSticky: 0 }) } } function s_e(n) { return { $kind: "openSmartPlaylistAction", id: n, actionMetrics: { custom: {}, data: [] } } } function G2(n) { let e, t; return e = new en({ props: { action: n[4] ? null : n[6], ariaLabel: n[14], disabled: n[16], nodeRef: n[27]("clickActionRef") } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 80 && (s.action = i[4] ? null : i[6]), r[0] & 16384 && (s.ariaLabel = i[14]), r[0] & 65536 && (s.disabled = i[16]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function x2(n) { let e, t; return e = new Ki({ props: { playAction: n[9] ? n[18] : n[5], ariaLabel: n[8], iconSetOverride: n[15], playButtonStyle: "non-platter", playButtonType: "artworkHover", nodeRef: n[27]("playButtonRef") } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 262688 && (s.playAction = i[9] ? i[18] : i[5]), r[0] & 256 && (s.ariaLabel = i[8]), r[0] & 32768 && (s.iconSetOverride = i[15]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function o_e(n) { let e, t, i, r; t = new Gt({ props: { artwork: n[19], fallbackKind: n[0].kind, profile: "track-list" } }); let s = n[5] && !n[10] && x2(n); return { c() { e = L("div"), V(t.$$.fragment), i = Y(), s && s.c(), this.h() }, l(o) { e = T(o, "DIV", { class: !0, slot: !0 }); var a = E(e); q(t.$$.fragment, a), i = X(a), s && s.l(a), a.forEach(_), this.h() }, h() { p(e, "class", "library-pin__artwork svelte-z2okzc"), p(e, "slot", "icon"), J(e, "library-pin__artwork--ellipse", n[17]) }, m(o, a) { I(o, e, a), H(t, e, null), A(e, i), s && s.m(e, null), r = !0 }, p(o, a) { const l = {}; a[0] & 524288 && (l.artwork = o[19]), a[0] & 1 && (l.fallbackKind = o[0].kind), t.$set(l), o[5] && !o[10] ? s ? (s.p(o, a), a[0] & 1056 && w(s, 1)) : (s = x2(o), s.c(), w(s, 1), s.m(e, null)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()), (!r || a[0] & 131072) && J(e, "library-pin__artwork--ellipse", o[17]) }, i(o) { r || (w(t.$$.fragment, o), w(s), r = !0) }, o(o) { D(t.$$.fragment, o), D(s), r = !1 }, d(o) { o && _(e), $(t), s && s.d() } } } function ey(n) { let e, t; return e = new ya({}), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function a_e(n) { let e, t, i = n[0].label + "", r, s, o, a = n[0].showExplicitBadge && ey(); return { c() { e = L("div"), t = L("span"), r = le(i), s = Y(), a && a.c(), this.h() }, l(l) { e = T(l, "DIV", { class: !0, slot: !0 }); var u = E(e); t = T(u, "SPAN", { class: !0 }); var c = E(t); r = ue(c, i), c.forEach(_), s = X(u), a && a.l(u), u.forEach(_), this.h() }, h() { p(t, "class", "library-pin__label svelte-z2okzc"), p(e, "class", "library-pin__label-wrapper svelte-z2okzc"), p(e, "slot", "label") }, m(l, u) { I(l, e, u), A(e, t), A(t, r), A(e, s), a && a.m(e, null), o = !0 }, p(l, u) { (!o || u[0] & 1) && i !== (i = l[0].label + "") && me(r, i), l[0].showExplicitBadge ? a ? u[0] & 1 && w(a, 1) : (a = ey(), a.c(), w(a, 1), a.m(e, null)) : a && (te(), D(a, 1, 1, () => { a = null }), ne()) }, i(l) { o || (w(a), o = !0) }, o(l) { D(a), o = !1 }, d(l) { l && _(e), a && a.d() } } } function l_e(n) { let e, t, i, r, s, o, a, l, u = !n[7] && G2(n); return r = new kf({ props: { icon: n[0].icon, label: n[0].label, $$slots: { label: [a_e], icon: [o_e] }, $$scope: { ctx: n } } }), { c() { e = L("div"), t = L("div"), u && u.c(), i = Y(), V(r.$$.fragment), this.h() }, l(c) { e = T(c, "DIV", { "data-testid": !0, class: !0 }); var d = E(e); t = T(d, "DIV", { class: !0 }); var f = E(t); u && u.l(f), f.forEach(_), i = X(d), q(r.$$.fragment, d), d.forEach(_), this.h() }, h() { p(t, "class", "library-pin__action svelte-z2okzc"), p(e, "data-testid", "library-pin-item"), p(e, "class", "library-pin svelte-z2okzc"), J(e, "library-pin--disabled", n[16]), J(e, "library-pin--shuffle", n[9]) }, m(c, d) { I(c, e, d), A(e, t), u && u.m(t, null), A(e, i), H(r, e, null), o = !0, a || (l = [Me(t, "click", n[21], !0), Me(e, "contextmenu", n[22]), Me(e, "longpress", n[22]), Me(e, "touchmove", n[24]), Ut(s = o_.call(null, e, { enabled: !n[1], preventDefault: !1 }))], a = !0) }, p(c, d) { c[7] ? u && (te(), D(u, 1, 1, () => { u = null }), ne()) : u ? (u.p(c, d), d[0] & 128 && w(u, 1)) : (u = G2(c), u.c(), w(u, 1), u.m(t, null)); const f = {}; d[0] & 1 && (f.icon = c[0].icon), d[0] & 1 && (f.label = c[0].label), d[0] & 952097 | d[1] & 4096 && (f.$$scope = { dirty: d, ctx: c }), r.$set(f), s && Ft(s.update) && d[0] & 2 && s.update.call(null, { enabled: !c[1], preventDefault: !1 }), (!o || d[0] & 65536) && J(e, "library-pin--disabled", c[16]), (!o || d[0] & 512) && J(e, "library-pin--shuffle", c[9]) }, i(c) { o || (w(u), w(r.$$.fragment, c), o = !0) }, o(c) { D(u), D(r.$$.fragment, c), o = !1 }, d(c) { c && _(e), u && u.d(), $(r), a = !1, Ot(l) } } } function u_e(n) { let e, t, i, r, s, o; return e = new qP({ props: { item: n[0], selected: n[2], translateFn: n[3], dragEnabled: n[12], dropEnabled: n[12], dropTargets: [Ns.Top, Ns.Bottom], dropEffect: "move", effectAllowed: "move", $$slots: { default: [l_e] }, $$scope: { ctx: n } } }), e.$on("drop", n[33]), { c() { V(e.$$.fragment), t = Y(), i = L("amp-contextual-menu-button"), this.h() }, l(a) { q(e.$$.fragment, a), t = X(a), i = T(a, "AMP-CONTEXTUAL-MENU-BUTTON", { config: !0, hasTriggerButton: !0 }), E(i).forEach(_), this.h() }, h() { Xe(i, "config", n[13]), Xe(i, "hasTriggerButton", !1) }, m(a, l) { H(e, a, l), I(a, t, l), I(a, i, l), n[34](i), r = !0, s || (o = [Me(window, "keydown", n[25]), Me(window, "keyup", n[26]), Me(i, "contextualMenuOpen", n[35]), Me(i, "contextualMenuItemSubMenuClose", n[36])], s = !0) }, p(a, l) { const u = {}; l[0] & 1 && (u.item = a[0]), l[0] & 4 && (u.selected = a[2]), l[0] & 8 && (u.translateFn = a[3]), l[0] & 4096 && (u.dragEnabled = a[12]), l[0] & 4096 && (u.dropEnabled = a[12]), l[0] & 1034227 | l[1] & 4096 && (u.$$scope = { dirty: l, ctx: a }), e.$set(u), (!r || l[0] & 8192) && Xe(i, "config", a[13]) }, i(a) { r || (w(e.$$.fragment, a), r = !0) }, o(a) { D(e.$$.fragment, a), r = !1 }, d(a) { a && (_(t), _(i)), $(e, a), n[34](null), s = !1, Ot(o) } } } const { PLAY: c_e } = ui, { NON_PLATTER: d_e } = pN, f_e = Xu["non-platter"], g_e = Object.assign(Object.assign({}, Xu), { [d_e]: Object.assign(Object.assign({}, f_e), { [c_e]: mN }) }); function h_e(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C; ce(n, ec, Pe => t(10, k = Pe)), ce(n, Zr, Pe => t(39, S = Pe)); const P = Fo(), M = It(), R = ot(); ce(n, R, Pe => t(32, C = Pe)); const F = sn(); let { item: N } = e, { isEditing: O = !1 } = e, { selected: B = !1 } = e, { translateFn: U } = e, K, W = !1, Z = !1; const Q = async () => { if (l) { F(s_e(m)); return } g === N.segue ? M("selectItem", N) : g === r && ni(Zr, S = !1, S) }, G = async Pe => { if (b) { Pe.preventDefault(); return } K && (Pe.preventDefault(), await K.open(Pe)) }, ae = Pe => { W = Pe }, ee = Pe => { W && Pe.preventDefault() }, pe = Pe => { t(28, Z = Pe.altKey) }, ke = Pe => { t(28, Z = Pe.altKey) }; let we = {}, Te; mn(() => { Te == null || Te.disconnect() }); function ge(Pe) { return Oe => { const _e = {}; _e[Pe] = Oe, t(29, we = Object.assign(Object.assign({}, we), _e)) } } function Ce(Pe) { Bt.call(this, n, Pe) } function he(Pe) { wt[Pe ? "unshift" : "push"](() => { K = Pe, t(11, K) }) } const Ae = () => ae(!0), ze = () => ae(!1); return n.$$set = Pe => { "item" in Pe && t(0, N = Pe.item), "isEditing" in Pe && t(1, O = Pe.isEditing), "selected" in Pe && t(2, B = Pe.selected), "translateFn" in Pe && t(3, U = Pe.translateFn) }, n.$$.update = () => { n.$$.dirty[0] & 1 && t(19, i = N.artwork), n.$$.dirty[0] & 1 && t(5, r = N.playAction), n.$$.dirty[0] & 1 && t(18, s = N.shuffleAction), n.$$.dirty[0] & 1 && t(17, o = N.kind === x.Artist), n.$$.dirty[0] & 1 && t(31, a = N.kind === x.MusicVideo), n.$$.dirty[0] & 1 && t(7, l = N.kind === x.Playlist && N.canEdit === !1 && N.hasCatalog === !1), n.$$.dirty[0] & 161 && t(16, u = !r && !N.segue || l), n.$$.dirty[0] & 268435457 && t(9, c = mR.includes(N.kind) && Z), n.$$.dirty[0] & 513 | n.$$.dirty[1] & 2 && t(8, d = c ? C.t("ASE.Web.Music.SideBar.Pins.AriaLabel.Shuffle", { title: N.label }) : C.t("ASE.Web.Music.SideBar.Pins.AriaLabel.Play", { title: N.label })), n.$$.dirty[0] & 512 && t(15, f = c ? g_e : null), n.$$.dirty[0] & 33 | n.$$.dirty[1] & 1 && t(6, g = a ? r : N.segue), n.$$.dirty[0] & 353 && t(14, h = g === r ? d : N.label), n.$$.dirty[0] & 1 && t(30, m = N.id.resourceId), n.$$.dirty[0] & 1073742849 && t(13, v = P.getLibrarySidebarItemConfig(m, N, k, { actionContext: null, actionDetails: { kind: N.kind }, targetType: "pin", locationType: "pin" })), n.$$.dirty[0] & 1026 && t(4, b = k && O), n.$$.dirty[0] & 1040 && t(12, y = !k || b), n.$$.dirty[0] & 536870912 && we.playButtonRef && we.clickActionRef && (Te = TH(we.clickActionRef, [we.playButtonRef])) }, [N, O, B, U, b, r, g, l, d, c, k, K, y, v, h, f, u, o, s, i, R, Q, G, ae, ee, pe, ke, ge, Z, we, m, a, C, Ce, he, Ae, ze] } class m_e extends oe { constructor(e) { super(), se(this, e, h_e, u_e, ye, { item: 0, isEditing: 1, selected: 2, translateFn: 3 }, null, [-1, -1]) } } function p_e(n) { let e, t, i = [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M18 17.86c1.26 0 2-.733 2-2.185V8.44c0-1.452-.747-2.184-2.212-2.184h-6.764c-.479 0-.768-.113-1.12-.416l-.43-.352c-.465-.395-.824-.522-1.522-.522H5.945C4.712 4.966 4 5.671 4 7.087v8.588c0 1.459.74 2.184 2.212 2.184H18zm.866-8.955H5.134V7.15c0-.697.367-1.056 1.043-1.056h1.487c.465 0 .746.12 1.106.422l.43.36c.457.38.83.514 1.528.514h7.039c.697 0 1.099.38 1.099 1.113v.402zm-1.1 7.82H6.227c-.704 0-1.092-.373-1.092-1.106v-5.65h13.732v5.657c0 .726-.402 1.099-1.1 1.099z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function __e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let v_e = class extends oe { constructor(e) { super(), se(this, e, __e, p_e, ht, {}) } }; function b_e(n) { let e, t, i = [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M13.079 19.712c1.076 0 2.688-.79 2.688-2.922v-6.702c0-.388.073-.468.417-.542l3.347-.732a.48.48 0 0 0 .403-.483V5.577c0-.388-.315-.637-.688-.564l-3.765.82c-.469.103-.725.359-.725.77l.015 8.144c.036.359-.132.593-.455.659l-1.164.242c-1.465.307-2.153 1.054-2.153 2.16 0 1.12.864 1.904 2.08 1.904zM12.046 8.675a.503.503 0 0 0 .498-.498.497.497 0 0 0-.498-.49H5.498a.492.492 0 0 0-.498.49.5.5 0 0 0 .498.498h6.548zm0 2.607a.5.5 0 0 0 .498-.505.49.49 0 0 0-.498-.483H5.498a.486.486 0 0 0-.498.483c0 .278.212.505.498.505h6.548zm0 2.608a.494.494 0 1 0 0-.989H5.498a.492.492 0 0 0-.498.49.49.49 0 0 0 .498.499h6.548z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "24" }, { height: "24" }, { viewBox: "0 0 24 24" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function y_e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let w_e = class extends oe { constructor(e) { super(), se(this, e, y_e, b_e, ht, {}) } }; function k_e(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { width: "20" }, { height: "20" }, { viewBox: "0 0 22 16" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, width: !0, height: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0, "fill-opacity": !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M9.397 13.806h9.2c1.222 0 1.8-.366 1.8-1.172 0-1.919-2.423-4.695-6.4-4.695-3.97 0-6.394 2.776-6.394 4.695 0 .806.578 1.172 1.794 1.172ZM9.045 12.7c-.19 0-.263-.051-.263-.205 0-1.201 1.86-3.45 5.215-3.45 3.361 0 5.222 2.249 5.222 3.45 0 .154-.08.205-.271.205Zm4.959-5.669c1.743 0 3.164-1.552 3.164-3.442 0-1.875-1.414-3.347-3.164-3.347-1.743 0-3.171 1.501-3.164 3.362.007 1.882 1.42 3.427 3.164 3.427Zm0-1.106c-1.07 0-1.985-1.025-1.985-2.321-.007-1.275.894-2.256 1.985-2.256 1.091 0 1.985.966 1.985 2.24 0 1.297-.908 2.337-1.985 2.337ZM1.487 13.806h5.75c-.352-.198-.616-.637-.565-1.084H1.311c-.154 0-.22-.058-.22-.198 0-1.816 2.073-3.515 4.468-3.515.916 0 1.75.22 2.461.637.227-.293.498-.55.828-.776-.945-.623-2.08-.945-3.289-.945C2.49 7.925 0 10.15 0 12.59c0 .813.498 1.216 1.487 1.216Zm4.08-6.716c1.508 0 2.746-1.355 2.746-3.018 0-1.626-1.223-2.937-2.747-2.937-1.508 0-2.753 1.333-2.746 2.952 0 1.655 1.238 3.003 2.746 3.003Zm0-1.091c-.901 0-1.656-.857-1.656-1.912 0-1.033.747-1.86 1.655-1.86.923 0 1.663.813 1.663 1.845C7.229 5.142 6.467 6 5.566 6Z"), p(t, "fill-opacity", ".85"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { width: "20" }, { height: "20" }, { viewBox: "0 0 22 16" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function D_e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let S_e = class extends oe { constructor(e) { super(), se(this, e, D_e, k_e, ht, {}) } }; function C_e(n) { let e, t, i, r = [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 24 24" }, { width: "24" }, { height: "24" }, { style: "overflow:visible" }, n[0]], s = {}; for (let o = 0; o < r.length; o += 1)s = fe(s, r[o]); return { c() { e = ve("svg"), t = ve("path"), i = ve("path"), this.h() }, l(o) { e = be(o, "svg", { xmlns: !0, viewBox: !0, width: !0, height: !0, style: !0 }); var a = E(e); t = be(a, "path", { d: !0 }), E(t).forEach(_), i = be(a, "path", { d: !0 }), E(i).forEach(_), a.forEach(_), this.h() }, h() { p(t, "d", "M6.7 20h10.5c1.8 0 2.7-.9 2.7-2.7V6.7C20 4.9 19.1 4 17.3 4H6.7C4.9 4 4 4.9 4 6.7v10.6c0 1.8.9 2.7 2.7 2.7zm0-1.4c-.9 0-1.4-.5-1.4-1.4V6.8c0-.9.5-1.4 1.4-1.4h10.5c.9 0 1.4.5 1.4 1.4v10.5c0 .9-.5 1.4-1.4 1.4l-10.5-.1z"), p(i, "d", "m9.5 16.5 2.5-1.8 2.5 1.8c.5.4 1 0 .8-.6l-1-3 2.5-1.8c.5-.3.3-1-.3-1h-3.1l-.9-3c-.2-.6-.9-.6-1 0l-.9 3H7.5c-.6 0-.8.7-.3 1l2.5 1.8-1 3c-.2.6.3 1 .8.6z"), Le(e, s) }, m(o, a) { I(o, e, a), A(e, t), A(e, i) }, p(o, [a]) { Le(e, s = at(r, [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 24 24" }, { width: "24" }, { height: "24" }, { style: "overflow:visible" }, a & 1 && o[0]])) }, i: j, o: j, d(o) { o && _(e) } } } function P_e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let A_e = class extends oe { constructor(e) { super(), se(this, e, P_e, C_e, ht, {}) } }; function E_e(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { width: "24" }, { height: "24" }, { viewBox: "-8 -8 80 80" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, width: !0, height: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M32.2 62c.6 0 2.3-3.3 2.3-7.3v-14h-4.6v14c0 4 1.7 7.3 2.3 7.3ZM16 42.8h32.4c2.3 0 3.8-1.5 3.8-3.7 0-7.5-8.5-15.1-20-15.1s-20 7.6-20 15.1c0 2.2 1.5 3.7 3.8 3.7Zm1-4c-.5 0-.8-.2-.7-1 .5-4.6 6.5-10 15.9-10s15.3 5.4 15.9 10c0 .8-.2 1-.8 1H17Zm-1.5-34a4 4 0 0 0 1 2.5c1.3 1.7 4.4 4.1 7.6 6.3l-1 13.5h4.2l1-15.4c0-.4 0-.5-.3-.7-4-2-7-4.3-7-4.8-.3-.3 0-.5.2-.5h22c.2 0 .5.2.3.5a25 25 0 0 1-7.1 4.8c-.2.2-.3.3-.2.7L37 27h4l-.9-13.5a37 37 0 0 0 7.7-6.3 4 4 0 0 0 1-2.5c0-1.6-1.2-2.7-3-2.7H18.5c-1.8 0-3 1.1-3 2.7Z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { width: "24" }, { height: "24" }, { viewBox: "-8 -8 80 80" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function I_e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let M_e = class extends oe { constructor(e) { super(), se(this, e, I_e, E_e, ht, {}) } }; function L_e(n) { const { jet: e, logger: t } = n, i = t.loggerFor("jet/action-handlers/move-to-folder-action"); e.onAction("moveToFolderAction", async r => { i.info("received MoveToFolderAction:", r); try { const s = RF({ folderId: r.folderId, playlistId: r.playlistId }); return await e.dispatch(s), e.perform(Kg()), "performed" } catch (s) { throw i.error("Move to Folder Action Error:", s), new Error("an error occurred while handling MoveToFolderAction") } }) } function T_e(n, e = {}) { return { $kind: "moveToFolderAction", ...n, actionMetrics: { custom: {}, data: [{ excludingFields: [], includingFields: [], shouldFlush: !1, fields: { actionType: "moveToFolder", targetType: "button", actionDetails: { actionType: "add", details: "moveToFolder" }, ...e } }] } } } function R_e(n) { let e, t; return e = new yhe({ props: { slot: "logo" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function F_e(n) { let e, t; return e = new m_({ props: { slot: "auth" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function O_e(n) { let e, t; return e = new cN({ props: { slot: "search", currentTab: Cn } }), e.$on("menuItemClick", n[10]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function N_e(n) { let e, t; return e = new g1e({ props: { slot: "inverse" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function B_e(n) { let e, t, i; var r = n[9]; function s(o, a) { return { props: { $$slots: { inverse: [N_e] }, $$scope: { ctx: o } } } } return r && (t = jt(r, s(n))), { c() { e = L("div"), t && V(t.$$.fragment), this.h() }, l(o) { e = T(o, "DIV", { slot: !0 }); var a = E(e); t && q(t.$$.fragment, a), a.forEach(_), this.h() }, h() { p(e, "slot", "native-cta") }, m(o, a) { I(o, e, a), t && H(t, e, null), i = !0 }, p(o, a) { if (r !== (r = o[9])) { if (t) { te(); const l = t; D(l.$$.fragment, 1, 0, () => { $(l, 1) }), ne() } r ? (t = jt(r, s(o)), V(t.$$.fragment), w(t.$$.fragment, 1), H(t, e, null)) : t = null } else if (r) { const l = {}; a[1] & 16384 && (l.$$scope = { dirty: a, ctx: o }), t.$set(l) } }, i(o) { i || (t && w(t.$$.fragment, o), i = !0) }, o(o) { t && D(t.$$.fragment, o), i = !1 }, d(o) { o && _(e), t && $(t) } } } function U_e(n) { let e, t, i; return t = new o$({ props: { visibilityPreferencesKey: n[6], libraryItems: n[1] ? n[3] : [], personalizedItems: n[1] ? n[2] : [], personalizedItemsHeader: n[5].t("ASE.Web.Music.Library.Playlists"), items: n[11](n[4]), translateFn: n[5].t, currentTab: Cn, libraryDropEnabled: n[0], headerDropEnabled: n[29], getItemDragData: n[14], itemDragEnabled: n[13], itemDropEnabled: n[15], $$slots: { "native-cta": [B_e], search: [O_e], auth: [F_e], logo: [R_e] }, $$scope: { ctx: n } } }), t.$on("menuItemClick", n[10]), t.$on("libraryDrop", n[12]), t.$on("dropOnItem", n[17]), t.$on("dropOnHeader", n[16]), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0, "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "header svelte-rjjbqs"), p(e, "data-testid", "header") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[0] & 10 && (o.libraryItems = r[1] ? r[3] : []), s[0] & 6 && (o.personalizedItems = r[1] ? r[2] : []), s[0] & 32 && (o.personalizedItemsHeader = r[5].t("ASE.Web.Music.Library.Playlists")), s[0] & 16 && (o.items = r[11](r[4])), s[0] & 32 && (o.translateFn = r[5].t), s[0] & 1 && (o.libraryDropEnabled = r[0]), s[0] & 1 && (o.headerDropEnabled = r[29]), s[1] & 16384 && (o.$$scope = { dirty: s, ctx: r }), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } const H_e = "music-app-library:tab-state-", ty = "navigation-playlists", ny = "p.playlistsroot"; function $_e(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b; ce(n, Zo, _e => t(25, f = _e)), ce(n, to, _e => t(26, g = _e)), ce(n, Mr, _e => t(27, h = _e)), ce(n, Np, _e => t(30, m = _e)); var y = this && this.__rest || function (_e, Se) { var Re = {}; for (var Ze in _e) Object.prototype.hasOwnProperty.call(_e, Ze) && Se.indexOf(Ze) < 0 && (Re[Ze] = _e[Ze]); if (_e != null && typeof Object.getOwnPropertySymbols == "function") for (var De = 0, Ze = Object.getOwnPropertySymbols(_e); De < Ze.length; De++)Se.indexOf(Ze[De]) < 0 && Object.prototype.propertyIsEnumerable.call(_e, Ze[De]) && (Re[Ze[De]] = _e[Ze[De]]); return Re }, k, S; const C = ["playlist", "folder", "pin"], P = Ci("media-user-token") ? `${H_e}${Ci("media-user-token")}` : null, M = fn(), R = ot(); ce(n, R, _e => t(5, v = _e)); const F = Tn(), { state: N } = xt(); ce(n, N, _e => t(28, b = _e)); const O = kn("<Header>"); let B = [], U = V0e; const K = async _e => { O.info("tab selected:", _e.detail), await M.perform(_e.detail.opaqueData(F)) }; function W(_e) { return _e.map(Se => Object.assign(Object.assign({}, Se), { url: sl(Se.url, F) })) } const Z = _e => { var Se; if (!_e.length) return []; let Re; return ((Se = u == null ? void 0 : u[0].id) === null || Se === void 0 ? void 0 : Se.type) === "folder" ? Re = u.shift() : Re = { id: { type: "folder", resourceId: Jh }, icon: M_e, label: v.t("ASE.Web.Music.SideBar.Pins"), children: [] }, Re.children = _e.map(Ze => { const { id: De, segue: xe, title: Fe } = Ze, Be = y(Ze, ["id", "segue", "title"]); return Object.assign(Object.assign({}, Be), { component: m_e, icon: null, id: { type: "pin", resourceId: De }, label: Fe, opaqueData: () => xe }) }), [Re] }, Q = Bi(() => { M.perform(kle()) }, 500), G = async () => { const _e = bR({}), Se = await M.dispatch(_e); t(20, B = Se.map(ae)), r && !m && B.find(Re => Re.isFavoritesPlaylist) && Np.set(!0), O.info("playlists loaded:", B), dR(Se) }, ae = _e => { var Se; if (l_(_e)) { const Re = () => _e.isFavoritesPlaylist ? A_e : _e.isCollaborativePlaylist ? S_e : w_e; return Object.assign(Object.assign({}, _e), { icon: Re(), opaqueData: () => _e.segue }) } else return Object.assign(Object.assign({}, _e), { icon: v_e, children: ((Se = _e.children) === null || Se === void 0 ? void 0 : Se.map(ae)) || null }) }, ee = async ({ detail: _e }) => { try { const Se = db(_e.data.items).filter(Re => !Pl(Re.contentDescriptor)); Se.length && M.perform(df({ items: Se }, { targetType: "sidenav", actionContext: "dropAction" })) } catch (Se) { O.error("Dropping items to library failed:", Se) } }, pe = _e => { var Se; return C.includes((Se = _e == null ? void 0 : _e.id) === null || Se === void 0 ? void 0 : Se.type) }, ke = _e => { var Se; if (C.includes((Se = _e == null ? void 0 : _e.id) === null || Se === void 0 ? void 0 : Se.type)) { const Ze = { kind: _e.id.type === "playlist" ? x.Playlist : x.PlaylistFolder, identifiers: { cloudUniversalLibraryID: _e.id.resourceId } }; return { origin: ty, items: [Ze] } } }, we = _e => { var Se, Re, Ze, De; let xe = ((Se = _e == null ? void 0 : _e.id) === null || Se === void 0 ? void 0 : Se.type) === "folder" && ((Re = _e == null ? void 0 : _e.id) === null || Re === void 0 ? void 0 : Re.resourceId) !== Jh; return ((Ze = _e == null ? void 0 : _e.id) === null || Ze === void 0 ? void 0 : Ze.type) === "pin" || o && (((De = _e == null ? void 0 : _e.id) === null || De === void 0 ? void 0 : De.type) === "playlist" && _e.canEdit || xe) }, Te = async ({ detail: { item: _e, dropData: Se } }) => { if (_e.id.type !== "playlist") return; const Re = _e.id.resourceId, { origin: Ze, containerDescriptor: De } = Se.data; if (Ze === ty || (De == null ? void 0 : De.kind) === x.Playlist && Re === Pr(De)) return; const xe = Iee(Se.data.items).filter(Fe => Pr(Fe) !== Re); xe.length && M.perform(u_({ playlistId: _e.id.resourceId, items: xe, storefront: F.storefront }, { targetType: "sidenav", actionContext: "dropAction" })) }, ge = async ({ detail: { dropData: _e } }) => { he(_e, ny) }, Ce = async ({ detail: { item: _e, dropData: Se } }) => { _e.id.type === "folder" && he(Se, _e.id.resourceId) }, he = async (_e, Se) => { const Re = db(_e.data.items); if (Re.length === 0) return; switch (Re[0] && ta(Re[0])) { case z.LibraryPlaylists: case z.LibraryPlaylistFolders: Ae(Re[0], Se); break; case z.Playlists: ze(Re[0], Se === ny ? void 0 : Se); break } }, Ae = (_e, Se) => M.perform(T_e({ playlistId: Pr(_e.contentDescriptor), folderId: Se }, { targetType: "sidenav", actionContext: "dropAction" })), ze = (_e, Se) => M.perform(df({ items: [_e], destinationFolderId: Se }, { targetType: "sidenav", actionContext: "dropAction" })), Pe = async _e => { var Se, Re, Ze; const De = _e.detail.item; if (we(De)) { if (De.id.type === "pin") { const { dropData: Fe } = _e.detail, { dropTarget: Be } = Fe, lt = Fe.data, _t = (Se = lt == null ? void 0 : lt.id) === null || Se === void 0 ? void 0 : Se.resourceId, et = De.id.resourceId, ie = et === _t, $e = ((Re = lt.id) === null || Re === void 0 ? void 0 : Re.type) === "pin"; if (ie || !$e) return; let kt = De.positionID; if (Be === Ns.Top) { const on = l.findIndex(Dn => Dn.id === et); kt = (Ze = l[on - 1]) === null || Ze === void 0 ? void 0 : Ze.positionID } M.perform(Cle(_t, kt != null ? kt : "top")) } De.id.type === "playlist" && Te(_e), De.id.type === "folder" && Ce(_e) } }, Oe = _e => o && _e === "personalized"; return n.$$.update = () => { n.$$.dirty[0] & 268435456 && t(23, i = b.user !== null), n.$$.dirty[0] & 268697600 && t(22, r = bi(t(18, k = b == null ? void 0 : b.user) === null || k === void 0 ? void 0 : k.subscriberType)), n.$$.dirty[0] & 12582912 && i && r && (G(), Q(), WP(Jh, !0)), n.$$.dirty[0] & 268959744 && t(24, s = t(19, S = b.user) === null || S === void 0 ? void 0 : S.subscriptionStorefront), n.$$.dirty[0] & 16777216 && t(0, o = s === F.storefront), n.$$.dirty[0] & 134217728 && t(21, l = h), n.$$.dirty[0] & 2097152 && t(3, u = [...Z(l), ...W(sue)]), n.$$.dirty[0] & 68157440 && t(2, c = [Vle, ...(g == null ? void 0 : g.map(ae)) || B]), n.$$.dirty[0] & 46137344 && t(1, d = i && r && !f) }, t(4, a = zle(M)), [o, d, c, u, a, v, P, R, N, U, K, W, ee, pe, ke, we, ge, Pe, k, S, B, l, r, i, s, f, g, h, b, Oe] } let V_e = class extends oe { constructor(e) { super(), se(this, e, $_e, U_e, ye, {}, null, [-1, -1]) } }; function z_e(n) { let e, t; const i = n[2].default, r = We(i, n, n[1], null); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { id: !0, class: !0, "data-main-content": !0, "data-testid": !0, "aria-hidden": !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "id", "scrollable-page"), p(e, "class", "scrollable-page svelte-mt0bfj"), p(e, "data-main-content", ""), p(e, "data-testid", "main-section"), p(e, "aria-hidden", n[0]) }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, [o]) { r && r.p && (!t || o & 2) && Je(r, i, s, s[1], t ? Ke(i, s[1], o, null) : Ye(s[1]), null), (!t || o & 1) && p(e, "aria-hidden", s[0]) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function q_e(n, e, t) { let i; ce(n, Zr, o => t(0, i = o)); let { $$slots: r = {}, $$scope: s } = e; return n.$$set = o => { "$$scope" in o && t(1, s = o.$$scope) }, [i, s, r] } class W_e extends oe { constructor(e) { super(), se(this, e, q_e, z_e, ye, {}) } } function K_e(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { width: "18" }, { height: "18" }, { viewBox: "0 0 18 18" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, width: !0, height: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M2.634 5.537a.906.906 0 1 0 0-1.813.906.906 0 1 0 0 1.813zm3.192-.325h9.865a.576.576 0 0 0 .585-.578.578.578 0 0 0-.585-.585H5.826a.574.574 0 0 0-.585.585c0 .325.253.578.585.578zM2.634 9.906c.506 0 .91-.404.91-.91a.906.906 0 0 0-.91-.91.906.906 0 0 0-.91.91c0 .506.405.91.91.91zm3.192-.325h9.865a.582.582 0 1 0 0-1.162H5.826a.572.572 0 0 0-.585.577c0 .325.253.585.585.585zm-3.192 4.694a.91.91 0 1 0-.001-1.82.91.91 0 0 0 0 1.82zm3.192-.332h9.865a.576.576 0 0 0 .585-.577.578.578 0 0 0-.585-.585H5.826a.574.574 0 0 0-.585.585c0 .324.253.577.585.577z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { width: "18" }, { height: "18" }, { viewBox: "0 0 18 18" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function J_e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Y_e = class extends oe { constructor(e) { super(), se(this, e, J_e, K_e, ht, {}) } }; function X_e(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 20 20" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M14.596 15C17.1 15 19 13.075 19 10.522c0-2.552-1.89-4.488-4.383-4.488-1.709 0-3.078.906-4.617 3.056C8.323 6.84 7.07 6 5.404 6 2.9 6 1 7.925 1 10.478c0 2.552 1.89 4.488 4.383 4.488 1.709 0 3.078-.906 4.617-3.056 1.677 2.25 2.93 3.09 4.596 3.09zm-.011-1.802c-1.157 0-1.995-.638-3.545-2.687 1.348-1.97 2.324-2.72 3.556-2.72 1.507 0 2.6 1.142 2.6 2.698 0 1.567-1.104 2.709-2.611 2.709zm-9.18.011c-1.508 0-2.6-1.142-2.6-2.698 0-1.567 1.103-2.709 2.61-2.709 1.157 0 1.995.638 3.545 2.687-1.348 1.97-2.324 2.72-3.556 2.72z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 20 20" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function Z_e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let P_ = class extends oe { constructor(e) { super(), se(this, e, Z_e, X_e, ht, {}) } }; function Q_e(n) { let e, t, i = [{ width: "12" }, { height: "12" }, { viewBox: "0 0 12 12" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M5.994 0C9.276 0 12 2.718 12 6c0 3.276-2.718 6-6 6-3.277 0-6-2.724-6-6 0-3.282 2.717-6 5.994-6zM8.19 4c-.503 0-.937.2-1.41.629l-.159.152-.62.623-.62-.623C4.86 4.258 4.38 4 3.81 4 2.732 4 2 4.816 2 6.003 2 7.189 2.732 8 3.81 8c.513 0 .952-.209 1.413-.628l.155-.147L6 6.602l.62.623C7.156 7.759 7.63 8 8.19 8 9.265 8 10 7.189 10 6.003 10 4.816 9.266 4 8.19 4zm-4.378.887c.276.005.533.126.861.409l.126.114.604.593-.604.587c-.378.359-.666.523-.987.523-.587 0-.97-.429-.97-1.11s.383-1.116.97-1.116zm4.378 0c.592 0 .97.435.97 1.116s-.378 1.11-.97 1.11c-.282 0-.537-.126-.846-.397l-.136-.126-.604-.587.604-.593c.384-.364.671-.517.982-.523z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "12" }, { height: "12" }, { viewBox: "0 0 12 12" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function j_e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let G_e = class extends oe { constructor(e) { super(), se(this, e, j_e, Q_e, ht, {}) } }; const wu = "amp-web-unique-id"; function x_e(n, e) { const t = e.loggerFor("uniqueIdContext"); if (n.has(wu)) t.warn(`${wu} context has already been created. Cannot be created more than once`); else { const i = { nextId: 0 }; n.set(wu, i) } } function _N() { const n = "uid-", e = gi(wu); if (typeof (e == null ? void 0 : e.nextId) == "number") return () => { const i = `${n}${e.nextId}`; return e.nextId += 1, i } } function ro() { const n = _N(); if (!n) throw new Error(`${wu} context has not been initialized. Initialize at application bootstrap.`); return n } const eve = n => ({}), iy = n => ({}), tve = n => ({}), ry = n => ({}), nve = n => ({}), sy = n => ({}), ive = n => ({}), oy = n => ({}), rve = n => ({}), ay = n => ({}); function ly(n) { let e, t, i, r, s, o = n[4].header && uy(n), a = (!n[1] || !n[4].empty) && dy(n), l = n[4].empty && n[1] && fy(n); return { c() { e = L("div"), o && o.c(), t = Y(), a && a.c(), i = Y(), l && l.c(), this.h() }, l(u) { e = T(u, "DIV", { role: !0, "aria-labelledby": !0, id: !0, class: !0, "data-testid": !0 }); var c = E(e); o && o.l(c), t = X(c), a && a.l(c), i = X(c), l && l.l(c), c.forEach(_), this.h() }, h() { p(e, "role", "complementary"), p(e, "aria-labelledby", `${n[2]}-panel-heading`), p(e, "id", n[2]), p(e, "class", "side-panel svelte-15gudma"), p(e, "data-testid", "side-panel") }, m(u, c) { I(u, e, c), o && o.m(e, null), A(e, t), a && a.m(e, null), A(e, i), l && l.m(e, null), s = !0 }, p(u, c) { n = u, n[4].header ? o ? (o.p(n, c), c & 16 && w(o, 1)) : (o = uy(n), o.c(), w(o, 1), o.m(e, t)) : o && (te(), D(o, 1, 1, () => { o = null }), ne()), !n[1] || !n[4].empty ? a ? (a.p(n, c), c & 18 && w(a, 1)) : (a = dy(n), a.c(), w(a, 1), a.m(e, i)) : a && (te(), D(a, 1, 1, () => { a = null }), ne()), n[4].empty && n[1] ? l ? (l.p(n, c), c & 18 && w(l, 1)) : (l = fy(n), l.c(), w(l, 1), l.m(e, null)) : l && (te(), D(l, 1, 1, () => { l = null }), ne()) }, i(u) { s || (w(o), w(a), w(l), u && Jr(() => { s && (r || (r = Bd(e, Db, { x: n[3], duration: hy, opacity: 1 }, !0)), r.run(1)) }), s = !0) }, o(u) { D(o), D(a), D(l), u && (r || (r = Bd(e, Db, { x: n[3], duration: hy, opacity: 1 }, !1)), r.run(0)), s = !1 }, d(u) { u && _(e), o && o.d(), a && a.d(), l && l.d(), u && r && r.end() } } } function uy(n) { let e, t, i, r, s, o, a; const l = n[7].header, u = We(l, n, n[6], ay), c = n[7].controls, d = We(c, n, n[6], oy); let f = n[4].subheader && cy(n); return { c() { e = L("div"), t = L("div"), i = L("h3"), u && u.c(), r = Y(), s = L("div"), d && d.c(), o = Y(), f && f.c(), this.h() }, l(g) { e = T(g, "DIV", { class: !0 }); var h = E(e); t = T(h, "DIV", { class: !0 }); var m = E(t); i = T(m, "H3", { id: !0, "data-testid": !0, class: !0 }); var v = E(i); u && u.l(v), v.forEach(_), r = X(m), s = T(m, "DIV", { class: !0, "data-testid": !0 }); var b = E(s); d && d.l(b), b.forEach(_), m.forEach(_), o = X(h), f && f.l(h), h.forEach(_), this.h() }, h() { p(i, "id", `${n[2]}-panel-heading`), p(i, "data-testid", "side-panel-header"), p(i, "class", "svelte-15gudma"), p(s, "class", "side-panel-controls svelte-15gudma"), p(s, "data-testid", "side-panel-controls"), p(t, "class", "side-panel-header svelte-15gudma"), p(e, "class", "side-panel-header-wrapper svelte-15gudma") }, m(g, h) { I(g, e, h), A(e, t), A(t, i), u && u.m(i, null), A(t, r), A(t, s), d && d.m(s, null), A(e, o), f && f.m(e, null), a = !0 }, p(g, h) { u && u.p && (!a || h & 64) && Je(u, l, g, g[6], a ? Ke(l, g[6], h, rve) : Ye(g[6]), ay), d && d.p && (!a || h & 64) && Je(d, c, g, g[6], a ? Ke(c, g[6], h, ive) : Ye(g[6]), oy), g[4].subheader ? f ? (f.p(g, h), h & 16 && w(f, 1)) : (f = cy(g), f.c(), w(f, 1), f.m(e, null)) : f && (te(), D(f, 1, 1, () => { f = null }), ne()) }, i(g) { a || (w(u, g), w(d, g), w(f), a = !0) }, o(g) { D(u, g), D(d, g), D(f), a = !1 }, d(g) { g && _(e), u && u.d(g), d && d.d(g), f && f.d() } } } function cy(n) { let e, t; const i = n[7].subheader, r = We(i, n, n[6], sy); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0, "data-testid": !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "side-panel-subheader"), p(e, "data-testid", "side-panel-subheader") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 64) && Je(r, i, s, s[6], t ? Ke(i, s[6], o, nve) : Ye(s[6]), sy) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function dy(n) { let e; const t = n[7].content, i = We(t, n, n[6], ry); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 64) && Je(i, t, r, r[6], e ? Ke(t, r[6], s, tve) : Ye(r[6]), ry) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function fy(n) { let e, t; const i = n[7].empty, r = We(i, n, n[6], iy); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0, "data-testid": !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "side-panel-empty svelte-15gudma"), p(e, "data-testid", "side-panel-empty") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 64) && Je(r, i, s, s[6], t ? Ke(i, s[6], o, eve) : Ye(s[6]), iy) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function sve(n) { let e, t, i = n[0] && ly(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[0] ? i ? (i.p(r, s), s & 1 && w(i, 1)) : (i = ly(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } const gy = 300, hy = 300; function ove(n, e, t) { let i, { $$slots: r = {}, $$scope: s } = e; const o = wn(r); let a = !1, { show: l } = e, { isEmpty: u = !1 } = e; const c = ro()(); return Yt(() => { t(5, a = document.dir === Zg.RTL) }), n.$$set = d => { "show" in d && t(0, l = d.show), "isEmpty" in d && t(1, u = d.isEmpty), "$$scope" in d && t(6, s = d.$$scope) }, n.$$.update = () => { n.$$.dirty & 32 && t(3, i = a ? -1 * gy : gy) }, [l, u, c, i, o, a, s, r] } class vN extends oe { constructor(e) { super(), se(this, e, ove, sve, ye, { show: 0, isEmpty: 1, panelId: 2 }) } get panelId() { return this.$$.ctx[2] } } function ave(n) { let e, t, i, r, s, o, a, l; return { c() { e = ve("svg"), t = ve("defs"), i = ve("linearGradient"), r = ve("stop"), s = ve("stop"), o = ve("rect"), a = ve("text"), l = le(n[0]), this.h() }, l(u) { e = be(u, "svg", { class: !0, viewBox: !0, xmlns: !0 }); var c = E(e); t = be(c, "defs", {}); var d = E(t); i = be(d, "linearGradient", { id: !0, x1: !0, y1: !0, x2: !0, y2: !0 }); var f = E(i); r = be(f, "stop", { offset: !0, "stop-color": !0 }), E(r).forEach(_), s = be(f, "stop", { offset: !0, "stop-color": !0 }), E(s).forEach(_), f.forEach(_), d.forEach(_), o = be(c, "rect", { width: !0, height: !0, fill: !0 }), E(o).forEach(_), a = be(c, "text", { x: !0, y: !0, dy: !0, "font-size": !0, "letter-spacing": !0, fill: !0, "text-anchor": !0 }); var g = E(a); l = ue(g, n[0]), g.forEach(_), c.forEach(_), this.h() }, h() { p(r, "offset", "0%"), p(r, "stop-color", "#A5ABB8"), p(s, "offset", "100%"), p(s, "stop-color", "#848993"), p(i, "id", `monogram-bg-${n[1]}`), p(i, "x1", "50%"), p(i, "y1", "0%"), p(i, "x2", "50%"), p(i, "y2", "100%"), p(o, "width", "100%"), p(o, "height", "100%"), p(o, "fill", `url(#monogram-bg-${n[1]})`), p(a, "x", "320"), p(a, "y", "50%"), p(a, "dy", "0.35em"), p(a, "font-size", "310"), p(a, "letter-spacing", "3"), p(a, "fill", "#fff"), p(a, "text-anchor", "middle"), p(e, "class", "monogram svelte-tcxee0"), p(e, "viewBox", "0 0 640 640"), p(e, "xmlns", "http://www.w3.org/2000/svg") }, m(u, c) { I(u, e, c), A(e, t), A(t, i), A(i, r), A(i, s), A(e, o), A(e, a), A(a, l) }, p(u, [c]) { c & 1 && me(l, u[0]) }, i: j, o: j, d(u) { u && _(e) } } } const lve = 1e4, my = 1; function uve(n, e, t) { let { initials: i = "" } = e; const r = Math.floor(Math.random() * (lve - my) + my); return n.$$set = s => { "initials" in s && t(0, i = s.initials) }, [i, r] } class Tl extends oe { constructor(e) { super(), se(this, e, uve, ave, ye, { initials: 0 }) } } function oa(n = "") { const e = n.split(" ").filter(Boolean).slice(0, 2).map(t => t[0].toUpperCase()).join(""); if (e != null && e.length) return e } function cve(n, e) { return n < e ? "video-tall" : "video" } function dve(n, e) { return n < e ? "episode-tall" : "episode" } function fve(n) { let e, t; return e = new Tl({ props: { initials: "" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function gve(n) { let e, t; return e = new Tl({ props: { initials: oa(n[1]) } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.initials = oa(i[1])), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function hve(n) { let e, t; return e = new Gt({ props: { alt: n[1], artwork: { dictionary: n[0] }, profile: "social-badge", suppressFallbackArt: !0, isDecorative: !1, noShelfChevronAnchor: !0, $$slots: { "artwork-fallback-override": [_ve] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.alt = i[1]), r & 1 && (s.artwork = { dictionary: i[0] }), r & 18 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function mve(n) { let e, t; return e = new Tl({ props: { initials: "" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function pve(n) { let e, t; return e = new Tl({ props: { initials: oa(n[1]) } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.initials = oa(i[1])), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function _ve(n) { let e, t, i, r; const s = [pve, mve], o = []; function a(l, u) { return l[1] ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, u) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function vve(n) { let e, t, i, r; const s = [hve, gve, fve], o = []; function a(l, u) { return l[0] ? 0 : l[1] ? 1 : 2 } return t = a(n), i = o[t] = s[t](n), { c() { e = L("div"), i.c(), this.h() }, l(l) { e = T(l, "DIV", { "data-testid": !0, class: !0 }); var u = E(e); i.l(u), u.forEach(_), this.h() }, h() { p(e, "data-testid", "profile-badge-artwork"), p(e, "class", "badge-artwork svelte-116iqki"), J(e, "badge-artwork--overlay", n[2] === "overlay"), J(e, "badge-artwork--has-border", n[3]) }, m(l, u) { I(l, e, u), o[t].m(e, null), r = !0 }, p(l, [u]) { let c = t; t = a(l), t === c ? o[t].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), i = o[t], i ? i.p(l, u) : (i = o[t] = s[t](l), i.c()), w(i, 1), i.m(e, null)), (!r || u & 4) && J(e, "badge-artwork--overlay", l[2] === "overlay"), (!r || u & 8) && J(e, "badge-artwork--has-border", l[3]) }, i(l) { r || (w(i), r = !0) }, o(l) { D(i), r = !1 }, d(l) { l && _(e), o[t].d() } } } function bve(n, e, t) { let { artwork: i } = e, { name: r } = e, { badgeStyle: s = "overlay" } = e, { hasBorder: o = !0 } = e; return n.$$set = a => { "artwork" in a && t(0, i = a.artwork), "name" in a && t(1, r = a.name), "badgeStyle" in a && t(2, s = a.badgeStyle), "hasBorder" in a && t(3, o = a.hasBorder) }, [i, r, s, o] } class Oo extends oe { constructor(e) { super(), se(this, e, bve, vve, ye, { artwork: 0, name: 1, badgeStyle: 2, hasBorder: 3 }) } } function py(n) { let e, t, i; return t = new Oo({ props: { artwork: n[2], name: n[3] } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0, "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "artwork-with-badge__badge svelte-1h4psev"), p(e, "data-testid", "badge") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 4 && (o.artwork = r[2]), s & 8 && (o.name = r[3]), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function yve(n) { let e, t, i, r, s; i = new Gt({ props: { artwork: n[0], forceCropCode: n[4], profile: n[1], forceFullWidth: !1, suppressFallbackArt: !1 } }); let o = n[5] && py(n); return { c() { e = L("div"), t = L("div"), V(i.$$.fragment), r = Y(), o && o.c(), this.h() }, l(a) { e = T(a, "DIV", { class: !0, "data-testid": !0 }); var l = E(e); t = T(l, "DIV", { class: !0, "data-testid": !0 }); var u = E(t); q(i.$$.fragment, u), u.forEach(_), r = X(l), o && o.l(l), l.forEach(_), this.h() }, h() { p(t, "class", "artwork-with-badge__artwork svelte-1h4psev"), p(t, "data-testid", "artwork"), p(e, "class", "artwork-with-badge svelte-1h4psev"), p(e, "data-testid", "artwork-with-badge"), J(e, "has-badge", n[5]) }, m(a, l) { I(a, e, l), A(e, t), H(i, t, null), A(e, r), o && o.m(e, null), s = !0 }, p(a, [l]) { const u = {}; l & 1 && (u.artwork = a[0]), l & 16 && (u.forceCropCode = a[4]), l & 2 && (u.profile = a[1]), i.$set(u), a[5] ? o ? (o.p(a, l), l & 32 && w(o, 1)) : (o = py(a), o.c(), w(o, 1), o.m(e, null)) : o && (te(), D(o, 1, 1, () => { o = null }), ne()), (!s || l & 32) && J(e, "has-badge", a[5]) }, i(a) { s || (w(i.$$.fragment, a), w(o), s = !0) }, o(a) { D(i.$$.fragment, a), D(o), s = !1 }, d(a) { a && _(e), $(i), o && o.d() } } } function wve(n, e, t) { let i, { artwork: r } = e, { artworkProfile: s } = e, { badgeArtwork: o } = e, { badgeName: a } = e, { forceCropCode: l = !1 } = e; return n.$$set = u => { "artwork" in u && t(0, r = u.artwork), "artworkProfile" in u && t(1, s = u.artworkProfile), "badgeArtwork" in u && t(2, o = u.badgeArtwork), "badgeName" in u && t(3, a = u.badgeName), "forceCropCode" in u && t(4, l = u.forceCropCode) }, n.$$.update = () => { n.$$.dirty & 12 && t(5, i = !!o || !!a) }, [r, s, o, a, l, i] } class kve extends oe { constructor(e) { super(), se(this, e, wve, yve, ye, { artwork: 0, artworkProfile: 1, badgeArtwork: 2, badgeName: 3, forceCropCode: 4 }) } } const Dve = "Web Music", bN = "shareplay", Sve = "https://music.apple.com"; function Or() { const n = gi(bN); if (!n) throw new Error("getSharePlay called before Shareplay.load"); return { sharePlayState: n.sharePlayState, isOpenSharePlayModal: n.isOpenSharePlayModal } } var zr = (n => (n.AppleTV = "AppleTV", n.Car = "CarPlay", n.HomePod = "HomePod", n.HomePodMini = "HomePodMini", n.Speaker = "Speaker", n))(zr || {}); const yN = "CarPlay"; function ul(n) { switch (n) { case 1: case 2: return "CarPlay"; case 5: return "Speaker"; case 8: case 9: return "HomePod"; case 11: return "AppleTV"; case 0: default: return yN } } function wN(n) { return n === 9 ? "HomePodMini" : ul(n) } class A_ { constructor(e, t, i, r, s) { this._isSubscribed = !1, this.stores = i, this.logger = t, this.jet = e, this.playback = r, this.i18n = s } static load(e, t, i, r, s) { const o = Tt({ inSession: !1, members: [], displayName: "", isConnecting: !1, sessionURL: Sve, route: 0 }), a = Tt(!1), l = new A_(t, i, { sharePlayState: o, isOpenSharePlayModal: a }, r, s); return e.set(bN, { sharePlayInstance: l, sharePlayState: o, isOpenSharePlayModal: a }), l } get inSession() { return $t(this.stores.sharePlayState).inSession } set isSubscribed(e) { this._isSubscribed = e, this.mediaRemote && (this.mediaRemote.isSubscribed = e) } async start(e, t, i) { const { GroupActivity: r, GroupActivityType: s } = await ft(() => import("./index-196ce4a4.js"), ["assets/index-196ce4a4.js", "assets/binary-array-a7fe5b4a.js"]); this.groupActivity = new r(s.MUSIC_REMOTE_CONTROL, this.logger.loggerFor("GroupActivity")), this.groupActivity.acceptInvitation(e, t, i), this.stores.sharePlayState.update(o => { var a, l, u, c, d, f; return { ...o, displayName: (l = (a = this.groupActivity) == null ? void 0 : a.metaData) == null ? void 0 : l.title, sessionURL: (c = (u = this.groupActivity) == null ? void 0 : u.metaData) == null ? void 0 : c.fallbackURL, route: (f = (d = this.groupActivity) == null ? void 0 : d.metaData) == null ? void 0 : f.route } }), this.stores.isOpenSharePlayModal.set(!0) } async connect(e) { this.stores.isOpenSharePlayModal.set(!0), this.stores.sharePlayState.update(s => ({ ...s, isConnecting: !0 })), this.localParticipantProfile = e; const { GroupSessionParticipant: t, GroupSession: i } = await ft(() => import("./index-879f7606.js"), ["assets/index-879f7606.js", "assets/binary-array-a7fe5b4a.js", "assets/group-session-proto-aeb1704d.js"]); this.groupSession = new i(this.logger.loggerFor("MediaRemote-GroupSession")), this.bindGroupSessionEvents(), t.setup(this.groupSession, this.localParticipantProfile, this.logger.loggerFor("MediaRemote-GroupSession-Participant")); const r = t.getJoinRequest(); this.groupSession.messenger = this.groupActivity.join({ userInfoData: r }) } end() { const e = $t(this.stores.sharePlayState); this.resetPlayback(), this.resetMediaRemote(), this.endGroupSession(), this.groupActivity.leave(), e.displayName ? this.showSharePlayMsgDialog(e.displayName, e.route) : this.logger.loggerFor("SharePlay").info("No session name found, skipping disconnect dialog"), this.stores.isOpenSharePlayModal.set(!1), this.stores.sharePlayState.set({ inSession: !1, members: [], displayName: "", isConnecting: !1, sessionURL: "", route: 0 }) } showSharePlayMsgDialog(e, t) { let i = "ASE.Web.Music.SharePlay.Ended.Header", r = "ASE.Web.Music.SharePlay.Ended.Message"; Ku.set({ currentWarning: { header: this.i18n.t(i), message: this.i18n.t(r, { sharePlaySessionName: e }), confirmText: this.i18n.t("ASE.Web.Music.OK") } }) } removeQueueItem(e) { this.mediaRemote.removeFromPlaybackQueue(e) } async changeToQueueItem(e) { await this.mediaRemote.playQueueItem(e), this.mediaRemote.play() } playRadio(e, t) { var i, r, s, o, a, l, u; this.mediaRemote.playRadioStation(e, { radioStationID: (o = (s = (r = (i = t == null ? void 0 : t[0]) == null ? void 0 : i.contentDescriptor) == null ? void 0 : r.identifiers) == null ? void 0 : s.storeAdamID) != null ? o : "", radioStationURLString: (u = (l = (a = t == null ? void 0 : t[0]) == null ? void 0 : a.contentDescriptor) == null ? void 0 : l.url) != null ? u : "" }) } async playSong(e, t, i, r) { const { convertToMRContainer: s, omitPriorSongs: o } = await ft(() => import("./helpers-766b5b87.js"), ["assets/helpers-766b5b87.js", "assets/group-session-proto-aeb1704d.js"]), a = o(t[0], r).map(u => ({ contentDescriptor: u })), l = s(t, i, a); this.mediaRemote.setPlaybackQueue(e, l, !1) } async play(e, t, i) { const { convertToMRContainer: r } = await ft(() => import("./helpers-766b5b87.js"), ["assets/helpers-766b5b87.js", "assets/group-session-proto-aeb1704d.js"]), s = r(t, i); this.mediaRemote.setPlaybackQueue(e, s, !1) } async shuffle(e, t, i) { const { convertToMRContainer: r } = await ft(() => import("./helpers-766b5b87.js"), ["assets/helpers-766b5b87.js", "assets/group-session-proto-aeb1704d.js"]), s = r(t, i); this.mediaRemote.setPlaybackQueue(e, s, !0) } async playNext(e, t, i) { const { convertToMRContainer: r } = await ft(() => import("./helpers-766b5b87.js"), ["assets/helpers-766b5b87.js", "assets/group-session-proto-aeb1704d.js"]), s = r(t, i); this.mediaRemote.playNext(e, s) } async playLater(e, t, i) { const { convertToMRContainer: r } = await ft(() => import("./helpers-766b5b87.js"), ["assets/helpers-766b5b87.js", "assets/group-session-proto-aeb1704d.js"]), s = r(t, i); this.mediaRemote.playLast(e, s) } approveParticipant(e) { var t; (t = this.groupSession) == null || t.approveParticipant(e) } rejectParticipant(e) { var t; (t = this.groupSession) == null || t.rejectParticipant(e) } async startPlaybackSharePlaySession() { var t, i; const e = $t(this.stores.sharePlayState); this.playbackSharePlaySession = await this.playback.startSharePlay({ title: e.displayName, participantCount: (i = (t = this.groupSession) == null ? void 0 : t.participants) == null ? void 0 : i.length }), this.playback.addEventListener("sharePlay.playbackStateChanged", Bi(this.handlePlaybackSharePlayEvent.bind(this), 10)), this.playback.addEventListener("sharePlay.volumeChanged", Cr(this.handlePlaybackVolumeChangedEvent.bind(this), 10)), this.playback.addEventListener("sharePlay.nextItem", Cr(this.handlePlaybackNextItemEvent.bind(this), 10)), this.playback.addEventListener("sharePlay.previousItem", Cr(this.handlePlaybackPreviousItemEvent.bind(this), 10)), this.playback.addEventListener("sharePlay.shuffleModeChanged", Bi(this.handleShuffleModeChangedEvent.bind(this), 10)), this.playback.addEventListener("sharePlay.repeatModeChanged", Bi(this.handleRepeatModeChangedEvent.bind(this), 10)), this.playback.addEventListener("sharePlay.autoPlayChanged", Bi(this.handleAutoPlayChangedEvent.bind(this), 10)), this.playback.addEventListener("sharePlay.progressChanged", Cr(this.handleProgressChangedEvent.bind(this), 10)) } resetPlayback() { var e; (e = this.playback) == null || e.endSharePlay(), this.playback = void 0 } handlePlaybackSharePlayEvent(e) { (e == null ? void 0 : e.playbackState) === Hp.playing ? this.mediaRemote.play() : (e == null ? void 0 : e.playbackState) === Hp.paused && this.mediaRemote.pause() } handlePlaybackVolumeChangedEvent(e) { var i, r; const t = (r = (i = e == null ? void 0 : e.playbackState) != null ? i : e == null ? void 0 : e.volume) != null ? r : null; t !== null && this.mediaRemote.setVolume(t) } handlePlaybackNextItemEvent() { this.mediaRemote.skipTrack("next") } handlePlaybackPreviousItemEvent() { this.mediaRemote.skipTrack("previous") } handleShuffleModeChangedEvent() { this.mediaRemote.toggleShuffle() } handleRepeatModeChangedEvent() { this.mediaRemote.toggleRepeat() } handleAutoPlayChangedEvent() { this.mediaRemote.toggleAutoPlay() } handleProgressChangedEvent(e) { this.mediaRemote.setPlaybackPosition(e == null ? void 0 : e.elapsedTime) } bindGroupSessionEvents() { const e = this.logger.loggerFor("SharePlay<>GroupSessions"); this.groupSession.addEventListener("ready", async () => { this.mediaRemote || await this.startMediaRemote(), this.startPlaybackSharePlaySession(), this.mediaRemote.connect({ name: Dve, deviceUID: window.crypto.randomUUID() }, this.localParticipantProfile) }), this.groupSession.addEventListener("stateUpdates", t => { e.debug("Group Session State", t.data); const i = t.data; this.stores.sharePlayState.update(r => ({ ...r, ...i })), this.updateMemberProfiles(i.members) }), this.groupSession.addEventListener("mediaRemote", t => { var i; (i = this.mediaRemote) == null || i.onMessage(t.data) }), this.groupSession.addEventListener("reconnecting", () => { var t; e.debug("Group Session leader lost"), (t = $t(this.stores.sharePlayState)) != null && t.inSession && (this.stores.isOpenSharePlayModal.set(!0), this.stores.sharePlayState.update(i => ({ ...i, inSession: !1, isConnecting: !0 }))) }), this.groupSession.addEventListener("sessionEnd", this.end.bind(this)) } endGroupSession() { var e; (e = this.groupSession) == null || e.end(), this.groupSession = void 0 } async startMediaRemote() { const { MediaRemote: e } = await ft(() => import("./index-879f7606.js"), ["assets/index-879f7606.js", "assets/binary-array-a7fe5b4a.js", "assets/group-session-proto-aeb1704d.js"]); this.mediaRemote = new e({ send: t => { this.groupSession.send(5, t) } }, "(System Media Application)", this.logger.loggerFor("MediaRemote")), this.mediaRemote.isSubscribed = this._isSubscribed, this.bindMediaRemoteEvents() } bindMediaRemoteEvents() { const e = this.logger.loggerFor("SharePlay<>MediaRemote"); this.mediaRemote.addEventListener("ready", async () => { this.stores.isOpenSharePlayModal.set(!1), this.stores.sharePlayState.update(t => ({ ...t, isConnecting: !1, inSession: !0 })) }), this.mediaRemote.addEventListener("stateUpdates", async t => { var s; e.debug("Media Remote State Updates", t.data); const { transformMRStateToPlaybackState: i } = await ft(() => import("./media-remote-utils-203a2b7a.js"), ["assets/media-remote-utils-203a2b7a.js", "assets/group-session-proto-aeb1704d.js"]), r = i(t.data); (s = this.playbackSharePlaySession) == null || s.updateState({ ...$t(this.stores.sharePlayState), mediaState: r }) }), this.mediaRemote.addEventListener("end", this.end.bind(this)) } resetMediaRemote() { var e; (e = this.mediaRemote) == null || e.disconnect(), this.mediaRemote = void 0 } async updateMemberProfiles(e) { const t = e.reduce((r, s) => { var o, a; return (o = s.profile) != null && o.isResolvable && r.push((a = s.profile) == null ? void 0 : a.identifier), r }, []), i = await this.resolveSocialProfiles(t); this.stores.sharePlayState.update(r => { const s = r.members.map(o => { var a, l, u; if ((a = o.profile) != null && a.isResolvable && i.has((l = o.profile) == null ? void 0 : l.identifier)) { const c = i.get((u = o.profile) == null ? void 0 : u.identifier); return { ...o, profile: { ...o.profile, artwork: st(c.artwork, zt.SpecificRectangle) } } } return o }); return { ...r, members: s } }) } async resolveSocialProfiles(e) { const t = this.logger.loggerFor("SharePlay<>social-profiles"), i = new Map; if (e.length > 0) { let r = []; try { r = await this.jet.dispatch(cT(e)) } catch (s) { t.error("fetching social profile failed", s) } r.forEach(s => { i.set(s.id, s.attributes) }) } return i } } function Cve(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F; return i = new kve({ props: { artwork: n[12], artworkProfile: n[11](), badgeArtwork: n[4], badgeName: n[7], forceCropCode: !0 } }), S = new ls({ props: { attachedTo: n[5], isPlayable: !!n[6], buttonStyle: "non-platter", itemProperties: { title: n[10], subtitleLinks: [{ title: n[9] }], artwork: n[0].artwork }, prependItems: [{ action: n[18], label: n[13].t("ASE.Web.Music.UpNext.RemoveItem") }] } }), { c() { e = L("li"), t = L("div"), V(i.$$.fragment), r = Y(), s = L("div"), o = L("div"), a = le(n[10]), l = Y(), u = L("div"), c = le(n[9]), d = Y(), f = L("button"), h = Y(), m = L("div"), v = L("div"), b = le(n[8]), y = Y(), k = L("div"), V(S.$$.fragment), this.h() }, l(N) { e = T(N, "LI", { class: !0, role: !0, tabindex: !0, "aria-label": !0, "data-testid": !0 }); var O = E(e); t = T(O, "DIV", { class: !0 }); var B = E(t); q(i.$$.fragment, B), B.forEach(_), r = X(O), s = T(O, "DIV", { class: !0 }); var U = E(s); o = T(U, "DIV", { class: !0, "data-testid": !0 }); var K = E(o); a = ue(K, n[10]), K.forEach(_), l = X(U), u = T(U, "DIV", { class: !0, "data-testid": !0 }); var W = E(u); c = ue(W, n[9]), W.forEach(_), U.forEach(_), d = X(O), f = T(O, "BUTTON", { class: !0, "data-testid": !0, "aria-label": !0 }), E(f).forEach(_), h = X(O), m = T(O, "DIV", { class: !0 }); var Z = E(m); v = T(Z, "DIV", { class: !0, "data-testid": !0 }); var Q = E(v); b = ue(Q, n[8]), Q.forEach(_), y = X(Z), k = T(Z, "DIV", { class: !0, "data-testid": !0 }); var G = E(k); q(S.$$.fragment, G), G.forEach(_), Z.forEach(_), O.forEach(_), this.h() }, h() { p(t, "class", "artwork-wrapper svelte-131v8od"), p(o, "class", "title svelte-131v8od"), p(o, "data-testid", "up-next-item-title"), p(u, "class", "subtitle svelte-131v8od"), p(u, "data-testid", "up-next-item-subtitle"), p(s, "class", "up-next-item-title svelte-131v8od"), p(f, "class", "up-next-item-remove svelte-131v8od"), p(f, "data-testid", "up-next-item-remove"), p(f, "aria-label", g = n[13].t("ASE.Web.Music.UpNext.RemoveItem")), p(v, "class", "up-next-item-time svelte-131v8od"), p(v, "data-testid", "up-next-item-duration"), p(k, "class", "controls svelte-131v8od"), p(k, "data-testid", "up-next-item-controls"), p(m, "class", "time-and-controls svelte-131v8od"), p(e, "class", "up-next-item svelte-131v8od"), p(e, "role", "listitem"), p(e, "tabindex", "0"), p(e, "aria-label", C = n[13].t("ASE.Web.Music.VO.RadioPlayLabel", { content: n[10] })), p(e, "data-testid", "up-next-item"), J(e, "selected", n[2]) }, m(N, O) { I(N, e, O), A(e, t), H(i, t, null), A(e, r), A(e, s), A(s, o), A(o, a), A(s, l), A(s, u), A(u, c), A(e, d), A(e, f), A(e, h), A(e, m), A(m, v), A(v, b), A(m, y), A(m, k), H(S, k, null), n[32](e), M = !0, R || (F = [Me(f, "click", n[18]), Me(e, "dblclick", n[33]), Me(e, "click", n[22]), Me(e, "focus", n[20], !0), Me(e, "keydown", Za(n[21])), Me(e, "mousedown", Ui(n[34])), Ut(P = Js.call(null, e, n[1] && { dropEnabled: !0, targets: [Ns.Top, Ns.Bottom], onDrop: n[35] }))], R = !0) }, p(N, O) { const B = {}; O[0] & 4096 && (B.artwork = N[12]), O[0] & 2048 && (B.artworkProfile = N[11]()), O[0] & 16 && (B.badgeArtwork = N[4]), O[0] & 128 && (B.badgeName = N[7]), i.$set(B), (!M || O[0] & 1024) && me(a, N[10]), (!M || O[0] & 512) && me(c, N[9]), (!M || O[0] & 8192 && g !== (g = N[13].t("ASE.Web.Music.UpNext.RemoveItem"))) && p(f, "aria-label", g), (!M || O[0] & 256) && me(b, N[8]); const U = {}; O[0] & 32 && (U.attachedTo = N[5]), O[0] & 64 && (U.isPlayable = !!N[6]), O[0] & 1537 && (U.itemProperties = { title: N[10], subtitleLinks: [{ title: N[9] }], artwork: N[0].artwork }), O[0] & 8192 && (U.prependItems = [{ action: N[18], label: N[13].t("ASE.Web.Music.UpNext.RemoveItem") }]), S.$set(U), (!M || O[0] & 9216 && C !== (C = N[13].t("ASE.Web.Music.VO.RadioPlayLabel", { content: N[10] }))) && p(e, "aria-label", C), P && Ft(P.update) && O[0] & 2 && P.update.call(null, N[1] && { dropEnabled: !0, targets: [Ns.Top, Ns.Bottom], onDrop: N[35] }), (!M || O[0] & 4) && J(e, "selected", N[2]) }, i(N) { M || (w(i.$$.fragment, N), w(S.$$.fragment, N), M = !0) }, o(N) { D(i.$$.fragment, N), D(S.$$.fragment, N), M = !1 }, d(N) { N && _(e), $(i), $(S), n[32](null), R = !1, Ot(F) } } } function Pve(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y; ce(n, _l, ge => t(36, v = ge)); var k, S, C; const P = ot(); ce(n, P, ge => t(13, y = ge)); const M = Tn(), R = sn(), F = It(), { sharePlayState: N } = Or(); ce(n, N, ge => t(31, b = ge)); let O, { item: B } = e, { dropEnabled: U = !1 } = e, { isSelected: K = !1 } = e, { index: W = null } = e; const Z = () => { R(B.removeFromQueueAction) }, Q = () => { O == null || O.focus() }, G = () => { K || F("select", { index: W }) }; function ae(ge) { ge.key === "Enter" && R(d) } const ee = () => { (v === "xsmall" || v === "small") && R(d) }; function pe(ge) { wt[ge ? "unshift" : "push"](() => { O = ge, t(3, O) }) } const ke = () => R(d), we = () => { G(), Q() }, Te = ge => F("drop", ge); return n.$$set = ge => { "item" in ge && t(0, B = ge.item), "dropEnabled" in ge && t(1, U = ge.dropEnabled), "isSelected" in ge && t(2, K = ge.isSelected), "index" in ge && t(23, W = ge.index) }, n.$$.update = () => { if (n.$$.dirty[0] & 1 && t(5, i = B.contentDescriptor), n.$$.dirty[0] & 32 && t(30, r = Mc.includes(i == null ? void 0 : i.kind)), n.$$.dirty[0] & 1 && t(12, s = B.artwork), n.$$.dirty[0] & 1 && t(28, g = B == null ? void 0 : B.participantIdentifier), n.$$.dirty[0] & 285212672 | n.$$.dirty[1] & 1 && t(27, h = t(24, k = b.members) === null || k === void 0 ? void 0 : k.find(ge => ge.profile.identifier === g)), n.$$.dirty[0] & 234881024 | n.$$.dirty[1] & 1 && t(4, m = b.inSession && (t(26, C = t(25, S = h == null ? void 0 : h.profile) === null || S === void 0 ? void 0 : S.artwork) === null || C === void 0 ? void 0 : C.dictionary)), n.$$.dirty[0] & 1073741840 && t(11, o = () => r ? "music-video-playback-queue" : m ? "track-list-decorated" : "track-list"), n.$$.dirty[0] & 1 && t(10, a = B.title), n.$$.dirty[0] & 1 && t(9, l = B.artistName), n.$$.dirty[0] & 1 && t(29, u = Math.trunc(B.duration / 1e3)), n.$$.dirty[0] & 536870912 && t(8, c = O1(u, M.language)), n.$$.dirty[0] & 1 && t(6, d = B.playAction), n.$$.dirty[0] & 1 && t(7, f = B == null ? void 0 : B.participantName), n.$$.dirty[0] & 12 && K) { const ge = document.activeElement.closest(".up-next-item"); O !== ge && Q() } }, [B, U, K, O, m, i, d, f, c, l, a, o, s, y, P, R, F, N, Z, Q, G, ae, ee, W, k, S, C, h, g, u, r, b, pe, ke, we, Te] } class Gg extends oe { constructor(e) { super(), se(this, e, Pve, Cve, ye, { item: 0, dropEnabled: 1, isSelected: 2, index: 23 }, null, [-1, -1]) } } const aa = Tt(!1), cl = Tt(!1), dl = Tt(!1), _y = Tt(!1), vy = Tt(!1), Ed = Tt(!1), Id = Tt(!1); function by(n, e, t) { const i = n.slice(); return i[55] = e[t], i } function yy(n, e, t) { const i = n.slice(); return i[55] = e[t], i } function wy(n) { let e, t, i, r; return t = new G_e({}), { c() { e = L("span"), V(t.$$.fragment), this.h() }, l(s) { e = T(s, "SPAN", { class: !0, "aria-label": !0, "data-testid": !0 }); var o = E(e); q(t.$$.fragment, o), o.forEach(_), this.h() }, h() { p(e, "class", "up-next-queue__button__autoplay-badge svelte-2oe4b2"), p(e, "aria-label", i = n[6].t("ASE.Web.Music.UpNext.Autoplay.Heading")), p(e, "data-testid", "up-next-button-autoplay-badge") }, m(s, o) { I(s, e, o), H(t, e, null), r = !0 }, p(s, o) { (!r || o[0] & 64 && i !== (i = s[6].t("ASE.Web.Music.UpNext.Autoplay.Heading"))) && p(e, "aria-label", i) }, i(s) { r || (w(t.$$.fragment, s), r = !0) }, o(s) { D(t.$$.fragment, s), r = !1 }, d(s) { s && _(e), $(t) } } } function Ave(n) { let e = (n[9] ? n[16] : n[5]) + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[0] & 66080 && e !== (e = (i[9] ? i[16] : i[5]) + "") && me(t, e) }, d(i) { i && _(t) } } } function ky(n) { let e; return { c() { e = le(n[15]) }, l(t) { e = ue(t, n[15]) }, m(t, i) { I(t, e, i) }, p(t, i) { i[0] & 32768 && me(e, t[15]) }, d(t) { t && _(e) } } } function Eve(n) { let e, t = n[9] && ky(n); return { c() { t && t.c(), e = re() }, l(i) { t && t.l(i), e = re() }, m(i, r) { t && t.m(i, r), I(i, e, r) }, p(i, r) { i[9] ? t ? t.p(i, r) : (t = ky(i), t.c(), t.m(e.parentNode, e)) : t && (t.d(1), t = null) }, d(i) { i && _(e), t && t.d(i) } } } function Dy(n) { let e, t = n[6].t("ASE.Web.Music.UpNext.Clear") + "", i, r, s; return { c() { e = L("button"), i = le(t), this.h() }, l(o) { e = T(o, "BUTTON", { class: !0, "data-testid": !0 }); var a = E(e); i = ue(a, t), a.forEach(_), this.h() }, h() { p(e, "class", "side-panel-controls__clear svelte-2oe4b2"), p(e, "data-testid", "up-next-clear") }, m(o, a) { I(o, e, a), A(e, i), r || (s = Me(e, "click", n[44]), r = !0) }, p(o, a) { a[0] & 64 && t !== (t = o[6].t("ASE.Web.Music.UpNext.Clear") + "") && me(i, t) }, d(o) { o && _(e), r = !1, s() } } } function Sy(n) { let e, t = "<amp-playback-controls-autoplay></amp-playback-controls-autoplay>"; return { c() { e = L("div"), e.innerHTML = t, this.h() }, l(i) { e = T(i, "DIV", { class: !0, ["data-svelte-h"]: !0 }), Wr(e) !== "svelte-i6gvxt" && (e.innerHTML = t), this.h() }, h() { p(e, "class", "side-panel-controls__autoplay svelte-2oe4b2") }, m(i, r) { I(i, e, r) }, d(i) { i && _(e) } } } function Ive(n) { let e, t, i = n[12] && Dy(n), r = n[10] && Sy(); return { c() { i && i.c(), e = Y(), r && r.c(), t = re() }, l(s) { i && i.l(s), e = X(s), r && r.l(s), t = re() }, m(s, o) { i && i.m(s, o), I(s, e, o), r && r.m(s, o), I(s, t, o) }, p(s, o) { s[12] ? i ? i.p(s, o) : (i = Dy(s), i.c(), i.m(e.parentNode, e)) : i && (i.d(1), i = null), s[10] ? r || (r = Sy(), r.c(), r.m(t.parentNode, t)) : r && (r.d(1), r = null) }, d(s) { s && (_(e), _(t)), i && i.d(s), r && r.d(s) } } } function Cy(n, e) { let t, i, r; function s() { return e[41](e[55]) } function o(...a) { return e[42](e[55], ...a) } return i = new Gg({ props: { index: e[55].index, isSelected: e[8] === e[55].index, item: e[55].item, dropEnabled: !0 } }), i.$on("select", s), i.$on("play", e[22]), i.$on("drop", o), { key: n, first: null, c() { t = re(), V(i.$$.fragment), this.h() }, l(a) { t = re(), q(i.$$.fragment, a), this.h() }, h() { this.first = t }, m(a, l) { I(a, t, l), H(i, a, l), r = !0 }, p(a, l) { e = a; const u = {}; l[0] & 8 && (u.index = e[55].index), l[0] & 264 && (u.isSelected = e[8] === e[55].index), l[0] & 8 && (u.item = e[55].item), i.$set(u) }, i(a) { r || (w(i.$$.fragment, a), r = !0) }, o(a) { D(i.$$.fragment, a), r = !1 }, d(a) { a && _(t), $(i, a) } } } function Py(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g; return s = new P_({}), { c() { e = L("div"), t = L("div"), i = L("div"), r = L("div"), V(s.$$.fragment), o = Y(), a = L("h3"), l = le(n[16]), c = Y(), d = L("p"), f = le(n[15]), this.h() }, l(h) { e = T(h, "DIV", { class: !0, "data-testid": !0 }); var m = E(e); t = T(m, "DIV", {}); var v = E(t); i = T(v, "DIV", { class: !0 }); var b = E(i); r = T(b, "DIV", { class: !0 }); var y = E(r); q(s.$$.fragment, y), y.forEach(_), o = X(b), a = T(b, "H3", { id: !0, class: !0 }); var k = E(a); l = ue(k, n[16]), k.forEach(_), b.forEach(_), c = X(v), d = T(v, "P", { class: !0, "data-testid": !0 }); var S = E(d); f = ue(S, n[15]), S.forEach(_), v.forEach(_), m.forEach(_), this.h() }, h() { p(r, "class", "autoplay-header__icon svelte-2oe4b2"), p(a, "id", u = `${n[7]}-autoplay-heading`), p(a, "class", "autoplay-header__title svelte-2oe4b2"), p(i, "class", "autoplay-header svelte-2oe4b2"), p(d, "class", "autoplay-caption typography-callout svelte-2oe4b2"), p(d, "data-testid", "up-next-autoplay-subheader"), p(e, "class", "section-header section-header--no-divider section-header--autoplay svelte-2oe4b2"), p(e, "data-testid", "up-next-autoplay-header") }, m(h, m) { I(h, e, m), A(e, t), A(t, i), A(i, r), H(s, r, null), A(i, o), A(i, a), A(a, l), A(t, c), A(t, d), A(d, f), g = !0 }, p(h, m) { (!g || m[0] & 65536) && me(l, h[16]), (!g || m[0] & 128 && u !== (u = `${h[7]}-autoplay-heading`)) && p(a, "id", u), (!g || m[0] & 32768) && me(f, h[15]) }, i(h) { g || (w(s.$$.fragment, h), g = !0) }, o(h) { D(s.$$.fragment, h), g = !1 }, d(h) { h && _(e), $(s) } } } function Ay(n, e) { let t, i, r; function s() { return e[43](e[55]) } return i = new Gg({ props: { isSelected: e[8] === e[55].index, index: e[55].index, item: e[55].item } }), i.$on("select", s), { key: n, first: null, c() { t = re(), V(i.$$.fragment), this.h() }, l(o) { t = re(), q(i.$$.fragment, o), this.h() }, h() { this.first = t }, m(o, a) { I(o, t, a), H(i, o, a), r = !0 }, p(o, a) { e = o; const l = {}; a[0] & 260 && (l.isSelected = e[8] === e[55].index), a[0] & 4 && (l.index = e[55].index), a[0] & 4 && (l.item = e[55].item), i.$set(l) }, i(o) { r || (w(i.$$.fragment, o), r = !0) }, o(o) { D(i.$$.fragment, o), r = !1 }, d(o) { o && _(t), $(i, o) } } } function Mve(n) { let e, t, i = [], r = new Map, s, o, a, l = [], u = new Map, c, d, f, g, h = ut(n[3]); const m = k => k[55].uniqueId; for (let k = 0; k < h.length; k += 1) { let S = yy(n, h, k), C = m(S); r.set(C, i[k] = Cy(C, S)) } let v = n[2].length && !n[9] && Py(n), b = ut(n[2]); const y = k => k[55].uniqueId; for (let k = 0; k < b.length; k += 1) { let S = by(n, b, k), C = y(S); u.set(C, l[k] = Ay(C, S)) } return { c() { e = L("div"), t = L("ul"); for (let k = 0; k < i.length; k += 1)i[k].c(); s = Y(), v && v.c(), o = Y(), a = L("ul"); for (let k = 0; k < l.length; k += 1)l[k].c(); this.h() }, l(k) { e = T(k, "DIV", { slot: !0, class: !0, "data-testid": !0 }); var S = E(e); t = T(S, "UL", { role: !0 }); var C = E(t); for (let M = 0; M < i.length; M += 1)i[M].l(C); C.forEach(_), s = X(S), v && v.l(S), o = X(S), a = T(S, "UL", { role: !0, "aria-labelledby": !0 }); var P = E(a); for (let M = 0; M < l.length; M += 1)l[M].l(P); P.forEach(_), S.forEach(_), this.h() }, h() { p(t, "role", "list"), p(a, "role", "list"), p(a, "aria-labelledby", c = `${n[7]}-autoplay-heading`), p(e, "slot", "content"), p(e, "class", "up-next-queue svelte-2oe4b2"), p(e, "data-testid", "up-next-queue") }, m(k, S) { I(k, e, S), A(e, t); for (let C = 0; C < i.length; C += 1)i[C] && i[C].m(t, null); A(e, s), v && v.m(e, null), A(e, o), A(e, a); for (let C = 0; C < l.length; C += 1)l[C] && l[C].m(a, null); d = !0, f || (g = [Me(e, "keydown", n[26]), Ut(Js.call(null, e, { dropEnabled: !0, onDrop: n[24] }))], f = !0) }, p(k, S) { S[0] & 37749e3 && (h = ut(k[3]), te(), i = lr(i, S, m, 1, k, h, r, t, Ir, Cy, null, yy), ne()), k[2].length && !k[9] ? v ? (v.p(k, S), S[0] & 516 && w(v, 1)) : (v = Py(k), v.c(), w(v, 1), v.m(e, o)) : v && (te(), D(v, 1, 1, () => { v = null }), ne()), S[0] & 260 && (b = ut(k[2]), te(), l = lr(l, S, y, 1, k, b, u, a, Ir, Ay, null, by), ne()), (!d || S[0] & 128 && c !== (c = `${k[7]}-autoplay-heading`)) && p(a, "aria-labelledby", c) }, i(k) { if (!d) { for (let S = 0; S < h.length; S += 1)w(i[S]); w(v); for (let S = 0; S < b.length; S += 1)w(l[S]); d = !0 } }, o(k) { for (let S = 0; S < i.length; S += 1)D(i[S]); D(v); for (let S = 0; S < l.length; S += 1)D(l[S]); d = !1 }, d(k) { k && _(e); for (let S = 0; S < i.length; S += 1)i[S].d(); v && v.d(); for (let S = 0; S < l.length; S += 1)l[S].d(); f = !1, Ot(g) } } } function Lve(n) { let e, t = n[6].t("ASE.Web.Music.UpNext.Empty") + "", i, r, s; return { c() { e = L("div"), i = le(t), this.h() }, l(o) { e = T(o, "DIV", { slot: !0, class: !0, "data-testid": !0 }); var a = E(e); i = ue(a, t), a.forEach(_), this.h() }, h() { p(e, "slot", "empty"), p(e, "class", "up-next-queue__empty svelte-2oe4b2"), p(e, "data-testid", "up-next-empty") }, m(o, a) { I(o, e, a), A(e, i), r || (s = Ut(Js.call(null, e, { dropEnabled: !0, onDrop: n[24] })), r = !0) }, p(o, a) { a[0] & 64 && t !== (t = o[6].t("ASE.Web.Music.UpNext.Empty") + "") && me(i, t) }, d(o) { o && _(e), r = !1, s() } } } function Tve(n) { let e, t, i, r, s, o, a, l, u; t = new Y_e({}); let c = !n[0] && n[4] && wy(n); function d(g) { n[45](g) } let f = { show: n[0], isEmpty: n[1], $$slots: { empty: [Lve], content: [Mve], controls: [Ive], subheader: [Eve], header: [Ave] }, $$scope: { ctx: n } }; return n[7] !== void 0 && (f.panelId = n[7]), s = new vN({ props: f }), wt.push(() => Xr(s, "panelId", d)), { c() { e = L("button"), V(t.$$.fragment), i = Y(), c && c.c(), r = Y(), V(s.$$.fragment), this.h() }, l(g) { e = T(g, "BUTTON", { class: !0, "aria-expanded": !0, "aria-controls": !0, "aria-label": !0, "data-testid": !0 }); var h = E(e); q(t.$$.fragment, h), i = X(h), c && c.l(h), h.forEach(_), r = X(g), q(s.$$.fragment, g), this.h() }, h() { p(e, "class", "up-next-queue__button svelte-2oe4b2"), p(e, "aria-expanded", n[0]), p(e, "aria-controls", n[7]), e.disabled = n[14], p(e, "aria-label", n[13]), p(e, "data-testid", "up-next-button"), J(e, "active", n[0]) }, m(g, h) { I(g, e, h), H(t, e, null), A(e, i), c && c.m(e, null), I(g, r, h), H(s, g, h), a = !0, l || (u = [Me(e, "click", n[40]), Ut(Js.call(null, e, { dropEnabled: !0, onDrop: n[24] }))], l = !0) }, p(g, h) { !g[0] && g[4] ? c ? (c.p(g, h), h[0] & 17 && w(c, 1)) : (c = wy(g), c.c(), w(c, 1), c.m(e, null)) : c && (te(), D(c, 1, 1, () => { c = null }), ne()), (!a || h[0] & 1) && p(e, "aria-expanded", g[0]), (!a || h[0] & 128) && p(e, "aria-controls", g[7]), (!a || h[0] & 16384) && (e.disabled = g[14]), (!a || h[0] & 8192) && p(e, "aria-label", g[13]), (!a || h[0] & 1) && J(e, "active", g[0]); const m = {}; h[0] & 1 && (m.show = g[0]), h[0] & 2 && (m.isEmpty = g[1]), h[0] & 106476 | h[1] & 536870912 && (m.$$scope = { dirty: h, ctx: g }), !o && h[0] & 128 && (o = !0, m.panelId = g[7], Yr(() => o = !1)), s.$set(m) }, i(g) { a || (w(t.$$.fragment, g), w(c), w(s.$$.fragment, g), a = !0) }, o(g) { D(t.$$.fragment, g), D(c), D(s.$$.fragment, g), a = !1 }, d(g) { g && (_(e), _(r)), $(t), c && c.d(), $(s, g), l = !1, Ot(u) } } } const Ey = 250; function Rve(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F, N, O, B, U, K, W; ce(n, aa, et => t(50, O = et)); var Z, Q, G, ae; let { isOpen: ee } = e; const pe = It(), ke = ot(); ce(n, ke, et => t(6, K = et)); const { state: we } = xt(); ce(n, we, et => t(39, W = et)); const { queue: Te, state: ge } = zn(); ce(n, Te, et => t(37, B = et)), ce(n, ge, et => t(38, U = et)); const Ce = Bi(Se, Ey), he = Bi(Re, Ey), Ae = sn(); let ze; const Pe = et => Object.assign(Object.assign({}, et), { item: ZO(et.item, et.index), uniqueId: `${et.item}-${et.index}` }); function Oe(et) { var ie; if (!((ie = et == null ? void 0 : et.data) === null || ie === void 0) && ie.items && Array.isArray(et.data.items) && et.data.items.every(xo)) { const $e = DR(et.data.items.map(kt => ({ contentDescriptor: kt })), void 0, void 0, { actionContext: "drop" }); Ae($e) } } function _e({ index: et }, ie) { const $e = ie.dropTarget === Ns.Bottom ? et + 1 : et, kt = Array.isArray(ie.data.items) && ie.data.items.filter(on => xo(on)); kt.length && Ae(Rne(kt, $e)) } async function Se() { if (!k && !y || !d) return; const et = g[g.length - 2]; et && await Ae(et.item.playAction) } async function Re() { if (!k && !y || d < 0) return; const et = h[0]; et && (await Ae(et.item.playAction), a <= et.index && t(8, a = et.index + 1)) } async function Ze(et) { var ie, $e; if (b) return; const { key: kt } = et, on = (ie = h[0]) === null || ie === void 0 ? void 0 : ie.index, Dn = ($e = h[h.length - 1]) === null || $e === void 0 ? void 0 : $e.index; if (!(isNaN(on) || isNaN(Dn))) switch (["ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"].includes(kt) && et.preventDefault(), et.key) { case "ArrowLeft": Ce(); break; case "ArrowRight": if (!k && !y) return; he(); break; case "ArrowUp": t(8, a = Math.max(a - 1, on)); break; case "ArrowDown": t(8, a = Math.min(a + 1, Dn)); break } } const De = () => pe("toggleOpen", !ee), xe = et => t(8, a = et.index), Fe = (et, { detail: ie }) => _e(et, ie), Be = et => t(8, a = et.index), lt = () => Ae(P); function _t(et) { ze = et, t(7, ze) } return n.$$set = et => { "isOpen" in et && t(0, ee = et.isOpen) }, n.$$.update = () => { n.$$.dirty[0] & 64 && t(5, i = K.t("ASE.Web.Music.UpNext.Heading")), n.$$.dirty[0] & 64 && t(16, r = K.t("ASE.Web.Music.UpNext.Autoplay.Heading")), n.$$.dirty[0] & 64 && t(15, s = K.t("ASE.Web.Music.UpNext.Autoplay.Description")), n.$$.dirty[0] & 64 && t(36, o = K.t("ASE.Web.Music.UpNext.Heading.AutoplayActive")), n.$$.dirty[0] & 134217728 | n.$$.dirty[1] & 256 && t(33, l = (W == null ? void 0 : W.user) && (t(27, Z = W == null ? void 0 : W.user) === null || Z === void 0 ? void 0 : Z.subscriberType) === Hi.Premium), n.$$.dirty[1] & 68 && t(32, R = l && B.autoplayEnabled), n.$$.dirty[0] & 1073741824 | n.$$.dirty[1] & 66 && t(4, F = R && (t(30, ae = B.nowPlayingItem) === null || ae === void 0 ? void 0 : ae.isAutoplay)), n.$$.dirty[0] & 112 | n.$$.dirty[1] & 32 && t(13, c = F ? K.t("ASE.Web.Music.ContentA.Comma.ContentB", { contentA: i, contentB: o }) : i), n.$$.dirty[1] & 64 && t(31, d = B.nowPlayingItemIndex), n.$$.dirty[1] & 64 && t(35, f = B.items.map(Pe)), n.$$.dirty[1] & 17 && (g = f.slice(0, d + 1)), n.$$.dirty[1] & 17 && (h = f.slice(d + 1)), n.$$.dirty[1] & 64 && t(3, m = B.unplayedUserItems.map(Pe)), n.$$.dirty[1] & 64 && t(2, v = B.unplayedAutoplayItems.map(Pe)), n.$$.dirty[0] & 12 && t(1, b = !m.length && !v.length), n.$$.dirty[0] & 268435456 | n.$$.dirty[1] & 64 && (y = t(28, Q = B == null ? void 0 : B.derivedStates) === null || Q === void 0 ? void 0 : Q.isPlaying), n.$$.dirty[0] & 536870912 | n.$$.dirty[1] & 64 && (k = t(29, G = B == null ? void 0 : B.derivedStates) === null || G === void 0 ? void 0 : G.isPaused), n.$$.dirty[1] & 128 && t(34, S = U.playbackCapabilities.canEditPlaybackQueue), n.$$.dirty[0] & 2 | n.$$.dirty[1] & 8 && t(12, C = S && !b), n.$$.dirty[1] & 4 && t(10, M = l), n.$$.dirty[0] & 12 | n.$$.dirty[1] & 2 && t(9, N = R && !m.length && v.length), n.$$.dirty[0] & 1 && ni(aa, O = ee, O) }, t(8, a = null), t(14, u = !1), t(11, P = Fne()), [ee, b, v, m, F, i, K, ze, a, N, M, P, C, c, u, s, r, pe, ke, we, Te, ge, he, Ae, Oe, _e, Ze, Z, Q, G, ae, d, R, l, S, f, o, B, U, W, De, xe, Fe, Be, lt, _t] } class Fve extends oe { constructor(e) { super(), se(this, e, Rve, Tve, ye, { isOpen: 0 }, null, [-1, -1]) } } function Ove(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { width: "18" }, { height: "18" }, { viewBox: "0 0 18 18" }, { "fill-rule": "evenodd" }, { "stroke-linejoin": "round" }, { "stroke-miterlimit": "2" }, { "clip-rule": "evenodd" }, { "xml:space": "preserve" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, width: !0, height: !0, viewBox: !0, "fill-rule": !0, "stroke-linejoin": !0, "stroke-miterlimit": !0, "clip-rule": !0, "xml:space": !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "m9.67 13.982-2.43 2.474c-.472.471-.79.675-1.145.675-.479 0-.623-.314-.623-1.012v-2.137H5.26c-1.406 0-1.915-.146-2.429-.42a2.877 2.877 0 0 1-1.192-1.192c-.274-.514-.421-1.024-.421-2.429V6.464c0-1.405.147-1.915.421-2.428a2.872 2.872 0 0 1 1.192-1.192c.514-.275 1.023-.421 2.429-.421h7.68c1.406 0 1.915.146 2.429.421a2.86 2.86 0 0 1 1.192 1.192c.274.513.421 1.023.421 2.428v3.477c0 1.405-.147 1.915-.421 2.429a2.866 2.866 0 0 1-1.192 1.192c-.514.274-1.023.42-2.429.42H9.67Zm-.974-.957c.257-.261.608-.408.974-.408h3.27c1.076 0 1.426-.068 1.785-.26.276-.147.484-.356.631-.632.192-.358.26-.709.26-1.784V6.464c0-1.075-.068-1.426-.26-1.784a1.49 1.49 0 0 0-.631-.631c-.359-.192-.709-.26-1.785-.26H5.26c-1.075 0-1.425.068-1.785.26a1.5 1.5 0 0 0-.631.631c-.192.358-.26.709-.26 1.784v3.477c0 1.075.068 1.426.26 1.784.148.276.356.485.631.632.36.192.71.26 1.785.26h.212c.754 0 1.365.611 1.365 1.365v.934l1.859-1.891ZM5.422 8.01c0-.821.67-1.383 1.554-1.383.976 0 1.599.726 1.599 1.634 0 1.73-1.46 2.084-2.242 2.084-.222 0-.381-.148-.381-.329 0-.173.084-.294.372-.364.502-.12 1.005.028 1.274-.491h-.056c-.185.208-.483.242-.771.242-.837 0-1.349-.614-1.349-1.393Zm4.204 0c0-.821.669-1.383 1.553-1.383.976 0 1.6.726 1.6 1.634 0 1.73-1.46 2.084-2.242 2.084-.223 0-.381-.148-.381-.329 0-.173.084-.294.372-.364.502-.12 1.004.028 1.274-.491h-.056c-.186.208-.483.242-.772.242-.837 0-1.348-.614-1.348-1.393Z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { width: "18" }, { height: "18" }, { viewBox: "0 0 18 18" }, { "fill-rule": "evenodd" }, { "stroke-linejoin": "round" }, { "stroke-miterlimit": "2" }, { "clip-rule": "evenodd" }, { "xml:space": "preserve" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function Nve(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Bve = class extends oe { constructor(e) { super(), se(this, e, Nve, Ove, ht, {}) } }; function Uve(n) { let e, t, i = [{ class: "icon" }, { xmlns: "http://www.w3.org/2000/svg" }, { width: "18" }, { height: "18" }, { viewBox: "0 0 64 64" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { class: !0, xmlns: !0, width: !0, height: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M4.857 27.117c1.247 0 2.15-.935 2.15-2.213v-5.173L6.51 9.196l9.412 9.693L26.02 29.081a2.1 2.1 0 0 0 1.496.623c1.34 0 2.307-.873 2.307-2.213a2.34 2.34 0 0 0-.624-1.62L19.007 15.71 9.314 6.328l10.565.53h5.174c1.247 0 2.244-.873 2.244-2.15 0-1.279-.966-2.182-2.244-2.182H6.478c-2.37 0-3.803 1.433-3.803 3.833v18.544c0 1.247.904 2.213 2.182 2.213ZM39.14 61.432h18.576c2.4 0 3.803-1.434 3.803-3.834V39.054c0-1.246-.874-2.213-2.15-2.213-1.28 0-2.183.935-2.183 2.213v5.205l.53 10.503-9.444-9.693-10.098-10.16c-.405-.436-.935-.623-1.496-.623-1.34 0-2.306.872-2.306 2.212 0 .593.218 1.154.654 1.59l10.16 10.16 9.694 9.382-10.566-.53H39.14c-1.246 0-2.212.872-2.244 2.15 0 1.278.967 2.182 2.244 2.182Z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ class: "icon" }, { xmlns: "http://www.w3.org/2000/svg" }, { width: "18" }, { height: "18" }, { viewBox: "0 0 64 64" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function Hve(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let $ve = class extends oe { constructor(e) { super(), se(this, e, Hve, Uve, ht, {}) } }; function Vve(n) { let e, t, i, r = [{ width: "17" }, { height: "16" }, { viewBox: "0 0 17 16" }, { xmlns: "http://www.w3.org/2000/svg" }, { "xml:space": "preserve" }, { style: "fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2" }, n[0]], s = {}; for (let o = 0; o < r.length; o += 1)s = fe(s, r[o]); return { c() { e = ve("svg"), t = ve("path"), i = ve("path"), this.h() }, l(o) { e = be(o, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0, "xml:space": !0, style: !0 }); var a = E(e); t = be(a, "path", { d: !0, style: !0, transform: !0 }), E(t).forEach(_), i = be(a, "path", { d: !0, style: !0, transform: !0 }), E(i).forEach(_), a.forEach(_), this.h() }, h() { p(t, "d", "M12.46-.44c0-12.76 8.13-20.17 20.37-20.17h47.4c12.24 0 20.4 7.41 20.4 20.17v4.47H98.3c-1.98 0-3.83.18-5.55.52v-4.7c0-8.62-4.82-13.14-13-13.14H33.3c-8.13-.01-13 4.52-13 13.14v28.34c0 8.62 4.88 13.04 12.99 13.04h5.16c2.07 0 3.76 1.24 3.76 4v12.32l15.71-14.03c1.92-1.7 3.1-2.3 5.76-2.3h14.24v7.37H63.37l-16.3 13.92c-2.92 2.56-4.53 3.87-6.9 3.87-3.41 0-5.27-2.38-5.27-6.07V48.59h-2.07c-12.24 0-20.37-7.39-20.37-20.2V-.44Z"), Pt(t, "fill-rule", "nonzero"), p(t, "transform", "matrix(.101 0 0 .101 -.51 4.44)"), p(i, "d", "M39.43 28.52c-1.04 2.73.48 5.21 3.3 5.21 1.85 0 3-.98 3.71-3.05l2.96-8.6h14.37l3.01 8.6c.66 2.07 1.8 3.05 3.68 3.05 2.87 0 4.3-2.5 3.34-5.2L61.7-3.8c-.88-2.4-2.66-3.71-5.16-3.71-2.47 0-4.25 1.3-5.13 3.7L39.43 28.53ZM51.4 16.07l5.14-14.95 5.2 14.95H51.41Zm80.04 71.09-16.31-13.93H98.3c-12.77 0-20.38-7.38-20.38-20.13V24.2c0-12.77 7.6-20.17 20.38-20.17h47.38c12.24 0 20.37 7.4 20.37 20.16v28.83c0 12.81-8.13 20.2-20.37 20.2h-2.02v11.72c0 3.69-1.92 6.07-5.26 6.07-2.39 0-3.98-1.3-6.97-3.85Zm-6.9-66.08-2.42-4.92c-.93-1.85-2.8-2.68-4.58-1.7a3.35 3.35 0 0 0-1.55 4.57l2.37 4.97a3.35 3.35 0 0 0 4.47 1.66c1.84-.9 2.53-2.87 1.7-4.58Zm-21.63 9.57c0 1.87 1.5 3.25 3.46 3.25h3.74a32.44 32.44 0 0 0 7.25 13.18 35.93 35.93 0 0 1-11.69 4.86c-1.87.45-3 2.25-2.62 4.22.55 1.93 2.5 2.8 4.6 2.23a38.7 38.7 0 0 0 14.74-6.69 38.3 38.3 0 0 0 14.14 6.69c2.42.52 4.41-.2 4.9-2.23.6-2.12-.37-3.77-2.5-4.22a34.42 34.42 0 0 1-11.64-4.86 30.51 30.51 0 0 0 7.2-13.18h3.74c2.02 0 3.5-1.38 3.5-3.25s-1.48-3.26-3.5-3.26h-31.86c-1.97 0-3.46 1.4-3.46 3.26Zm19.48 12.3a26.45 26.45 0 0 1-5.46-9.05h10.74a27.3 27.3 0 0 1-5.28 9.05Z"), Pt(i, "fill-rule", "nonzero"), p(i, "transform", "matrix(.101 0 0 .101 -.51 4.44)"), Le(e, s) }, m(o, a) { I(o, e, a), A(e, t), A(e, i) }, p(o, [a]) { Le(e, s = at(r, [{ width: "17" }, { height: "16" }, { viewBox: "0 0 17 16" }, { xmlns: "http://www.w3.org/2000/svg" }, { "xml:space": "preserve" }, { style: "fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2" }, a & 1 && o[0]])) }, i: j, o: j, d(o) { o && _(e) } } } function zve(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let kN = class extends oe { constructor(e) { super(), se(this, e, zve, Vve, ht, {}) } }; function qve(n) { let e, t, i, r, s, o, a, l, u; var c = n[0]; function d(f, g) { return { props: { width: f[3], height: f[4], x: f[5], y: f[6], fill: f[7] ? "black" : "white" } } } return c && (s = jt(c, d(n))), { c() { e = ve("svg"), t = ve("mask"), i = ve("rect"), s && V(s.$$.fragment), o = ve("rect"), this.h() }, l(f) { e = be(f, "svg", { "data-testid": !0, class: !0, xmlns: !0, viewBox: !0, width: !0, height: !0, role: !0 }); var g = E(e); t = be(g, "mask", { "data-testid": !0, id: !0 }); var h = E(t); i = be(h, "rect", { width: !0, height: !0, fill: !0 }), E(i).forEach(_), s && q(s.$$.fragment, h), h.forEach(_), o = be(g, "rect", { "data-testid": !0, width: !0, height: !0, mask: !0 }), E(o).forEach(_), g.forEach(_), this.h() }, h() { p(i, "width", "100%"), p(i, "height", "100%"), p(i, "fill", r = n[7] ? "white" : "black"), p(t, "data-testid", "invertible-mask"), p(t, "id", n[8]), p(o, "data-testid", "invertible-mask-rect"), p(o, "width", "100%"), p(o, "height", "100%"), p(o, "mask", "url(#" + n[8] + ")"), p(e, "data-testid", "invertible-mask-svg"), p(e, "class", a = "invertible-mask " + (n[7] ? "invertible-mask--inverted" : "invertible-mask--not-inverted") + " svelte-17ktt7u"), p(e, "xmlns", "http://www.w3.org/2000/svg"), p(e, "viewBox", l = "0 0 " + n[1] + " " + n[2]), p(e, "width", n[1]), p(e, "height", n[2]), p(e, "role", "presentation") }, m(f, g) { I(f, e, g), A(e, t), A(t, i), s && H(s, t, null), A(e, o), u = !0 }, p(f, [g]) { if ((!u || g & 128 && r !== (r = f[7] ? "white" : "black")) && p(i, "fill", r), g & 1 && c !== (c = f[0])) { if (s) { te(); const h = s; D(h.$$.fragment, 1, 0, () => { $(h, 1) }), ne() } c ? (s = jt(c, d(f)), V(s.$$.fragment), w(s.$$.fragment, 1), H(s, t, null)) : s = null } else if (c) { const h = {}; g & 8 && (h.width = f[3]), g & 16 && (h.height = f[4]), g & 32 && (h.x = f[5]), g & 64 && (h.y = f[6]), g & 128 && (h.fill = f[7] ? "black" : "white"), s.$set(h) } (!u || g & 128 && a !== (a = "invertible-mask " + (f[7] ? "invertible-mask--inverted" : "invertible-mask--not-inverted") + " svelte-17ktt7u")) && p(e, "class", a), (!u || g & 6 && l !== (l = "0 0 " + f[1] + " " + f[2])) && p(e, "viewBox", l), (!u || g & 2) && p(e, "width", f[1]), (!u || g & 4) && p(e, "height", f[2]) }, i(f) { u || (s && w(s.$$.fragment, f), u = !0) }, o(f) { s && D(s.$$.fragment, f), u = !1 }, d(f) { f && _(e), s && $(s) } } } function Wve(n, e, t) { const i = ro()(); let { maskSvg: r } = e, { rectWidth: s = 28 } = e, { rectHeight: o = 28 } = e, { maskWidth: a = 18 } = e, { maskHeight: l = 18 } = e, { maskX: u = (s - a) / 2 } = e, { maskY: c = (o - l) / 2 } = e, { inverted: d = !0 } = e; return n.$$set = f => { "maskSvg" in f && t(0, r = f.maskSvg), "rectWidth" in f && t(1, s = f.rectWidth), "rectHeight" in f && t(2, o = f.rectHeight), "maskWidth" in f && t(3, a = f.maskWidth), "maskHeight" in f && t(4, l = f.maskHeight), "maskX" in f && t(5, u = f.maskX), "maskY" in f && t(6, c = f.maskY), "inverted" in f && t(7, d = f.inverted) }, [r, s, o, a, l, u, c, d, i] } class fl extends oe { constructor(e) { super(), se(this, e, Wve, qve, ye, { maskSvg: 0, rectWidth: 1, rectHeight: 2, maskWidth: 3, maskHeight: 4, maskX: 5, maskY: 6, inverted: 7 }) } } function hu({ targetId: n, actionType: e = "toggle" }) { return { eventType: "click", actionType: e, targetId: n, targetType: "button" } } function Kve(n, e, t, i = !1, r) { const s = []; return n === "open" ? s.push({ action: () => { i ? _y.set(!1) : (r.recordCustomMetricsEvent(hu({ targetId: "HideTranslation" })), cl.set(!1)) }, label: t.t("ASE.Web.Music.Shared.ContextualMenu.HideLyricsTranslations"), icon: ii.HideTranslationIcon }) : s.push({ action: () => { i ? _y.set(!0) : (r.recordCustomMetricsEvent(hu({ targetId: "ShowTranslation" })), cl.set(!0)) }, disabled: !n, label: t.t("ASE.Web.Music.Shared.ContextualMenu.ShowLyricsTranslations"), icon: ii.ShowTranslationIcon }), e === "open" ? s.push({ action: () => { i ? vy.set(!1) : (r.recordCustomMetricsEvent(hu({ targetId: "HidePronunciation" })), dl.set(!1)) }, label: t.t("ASE.Web.Music.Shared.ContextualMenu.HideLyricsPronunciation"), icon: ii.HidePronunciationIcon }) : s.push({ action: () => { i ? vy.set(!0) : (r.recordCustomMetricsEvent(hu({ targetId: "ShowPronunciation" })), dl.set(!0)) }, disabled: !e, label: t.t("ASE.Web.Music.Shared.ContextualMenu.ShowLyricsPronunciation"), icon: ii.ShowPronunciationIcon }), s } function E_(n, e, t) { let i, r; return n ? e ? (i = t.t("ASE.Web.Music.MediaComponents.LyricsTranslation.BubbleTip.Title.TranslationsAndPronunciations"), r = t.t("ASE.Web.Music.MediaComponents.LyricsTranslation.BubbleTip.Body.TranslationsAndPronunciations")) : (i = t.t("ASE.Web.Music.MediaComponents.LyricsTranslation.BubbleTip.Title.TranslationsOnly"), r = t.t("ASE.Web.Music.MediaComponents.LyricsTranslation.BubbleTip.Body.TranslationsOnly")) : e && (i = t.t("ASE.Web.Music.MediaComponents.LyricsTranslation.BubbleTip.Title.PronunciationsOnly"), r = t.t("ASE.Web.Music.MediaComponents.LyricsTranslation.BubbleTip.Body.PronunciationsOnly")), { title: i, body: r } } function Iy(n) { let e, t, i, r, s, o, a, l; return i = new fl({ props: { maskSvg: kN, inverted: n[6] || n[5], maskWidth: 22, maskHeight: 22 } }), { c() { e = L("amp-contextual-menu-button"), t = L("span"), V(i.$$.fragment), this.h() }, l(u) { e = T(u, "AMP-CONTEXTUAL-MENU-BUTTON", { buttonLabel: !0, config: !0, class: !0 }); var c = E(e); t = T(c, "SPAN", { class: !0, slot: !0 }); var d = E(t); q(i.$$.fragment, d), d.forEach(_), c.forEach(_), this.h() }, h() { p(t, "class", "lyrics-contextual-button svelte-1l2m8li"), p(t, "slot", "trigger-content"), Xe(e, "buttonLabel", r = n[4].t("ASE.Web.Music.MediaComponents.LyricsTranslation.Header")), Xe(e, "config", n[7]), Xe(e, "class", s = "toggle-button toggle-button--lyrics lyrics-translation-button lyrics-translation-button--" + (n[0] ? "in-drawer" : "in-modal") + " svelte-1l2m8li") }, m(u, c) { I(u, e, c), A(e, t), H(i, t, null), o = !0, a || (l = [Ut(n[3].call(null, e)), Me(e, "contextualMenuOpen", n[9])], a = !0) }, p(u, c) { const d = {}; c & 96 && (d.inverted = u[6] || u[5]), i.$set(d), (!o || c & 16 && r !== (r = u[4].t("ASE.Web.Music.MediaComponents.LyricsTranslation.Header"))) && Xe(e, "buttonLabel", r), (!o || c & 128) && Xe(e, "config", u[7]), (!o || c & 1 && s !== (s = "toggle-button toggle-button--lyrics lyrics-translation-button lyrics-translation-button--" + (u[0] ? "in-drawer" : "in-modal") + " svelte-1l2m8li")) && Xe(e, "class", s) }, i(u) { o || (w(i.$$.fragment, u), o = !0) }, o(u) { D(i.$$.fragment, u), o = !1 }, d(u) { u && _(e), $(i), a = !1, Ot(l) } } } function Jve(n) { let e, t, i = (n[1] || n[2]) && Iy(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[1] || r[2] ? i ? (i.p(r, s), s & 6 && w(i, 1)) : (i = Iy(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function Yve(n, e, t) { let i, r, s, o; ce(n, dl, v => t(5, s = v)), ce(n, cl, v => t(6, o = v)); let { inDrawer: a = !1 } = e, { songHasTranslations: l = !1 } = e, { songHasPronunciations: u = !1 } = e, { parentElement: c = void 0 } = e, { staticLyrics: d = !1 } = e, { popoverAction: f = () => { } } = e; const g = ot(); ce(n, g, v => t(4, r = v)); const h = fn(); function m(v) { h.recordCustomMetricsEvent(hu({ targetId: "LyricsControls", actionType: "actionSheet" })) } return n.$$set = v => { "inDrawer" in v && t(0, a = v.inDrawer), "songHasTranslations" in v && t(1, l = v.songHasTranslations), "songHasPronunciations" in v && t(2, u = v.songHasPronunciations), "parentElement" in v && t(10, c = v.parentElement), "staticLyrics" in v && t(11, d = v.staticLyrics), "popoverAction" in v && t(3, f = v.popoverAction) }, n.$$.update = () => { n.$$.dirty & 3190 && t(7, i = { parentElement: c, items: Kve(l ? o ? "open" : "closed" : void 0, u ? s ? "open" : "closed" : void 0, r, d, h) }) }, [a, l, u, f, r, s, o, i, g, m, c, d] } class I_ extends oe { constructor(e) { super(), se(this, e, Yve, Jve, ye, { inDrawer: 0, songHasTranslations: 1, songHasPronunciations: 2, parentElement: 10, staticLyrics: 11, popoverAction: 3 }) } } function Xve(n) { let e, t, i, r, s, o, a, l; return t = new I_({ props: { inDrawer: !0, songHasTranslations: n[1], songHasPronunciations: n[2] } }), s = new $ve({}), { c() { e = L("div"), V(t.$$.fragment), i = Y(), r = L("button"), V(s.$$.fragment), this.h() }, l(u) { e = T(u, "DIV", { class: !0, "data-testid": !0 }); var c = E(e); q(t.$$.fragment, c), i = X(c), r = T(c, "BUTTON", { class: !0, "aria-expanded": !0, "aria-owns": !0, "aria-label": !0, "data-testid": !0 }); var d = E(r); q(s.$$.fragment, d), d.forEach(_), c.forEach(_), this.h() }, h() { p(r, "class", "lyrics__button svelte-1idgbrc"), p(r, "aria-expanded", n[0]), p(r, "aria-owns", n[5]), p(r, "aria-label", n[3]), p(r, "data-testid", "lyrics-fullscreen-button"), J(r, "active", n[0]), p(e, "class", "lyrics__buttons-container svelte-1idgbrc"), p(e, "data-testid", "lyrics-buttons-container") }, m(u, c) { I(u, e, c), H(t, e, null), A(e, i), A(e, r), H(s, r, null), o = !0, a || (l = Me(r, "click", n[6]), a = !0) }, p(u, [c]) { const d = {}; c & 2 && (d.songHasTranslations = u[1]), c & 4 && (d.songHasPronunciations = u[2]), t.$set(d), (!o || c & 1) && p(r, "aria-expanded", u[0]), (!o || c & 8) && p(r, "aria-label", u[3]), (!o || c & 1) && J(r, "active", u[0]) }, i(u) { o || (w(t.$$.fragment, u), w(s.$$.fragment, u), o = !0) }, o(u) { D(t.$$.fragment, u), D(s.$$.fragment, u), o = !1 }, d(u) { u && _(e), $(t), $(s), a = !1, l() } } } function Zve(n, e, t) { let i, r, s; ce(n, aa, g => t(8, r = g)); const o = ot(); ce(n, o, g => t(7, s = g)); const a = It(); let { isFullScreenActive: l } = e, { songHasTranslations: u = !1 } = e, { songHasPronunciations: c = !1 } = e, d; const f = g => { a("launchFullScreenPlayer", { target: g.target }) }; return n.$$set = g => { "isFullScreenActive" in g && t(0, l = g.isFullScreenActive), "songHasTranslations" in g && t(1, u = g.songHasTranslations), "songHasPronunciations" in g && t(2, c = g.songHasPronunciations) }, n.$$.update = () => { n.$$.dirty & 128 && t(3, i = s.t("ASE.Web.Music.MediaComponents.Lyrics.Header")), n.$$.dirty & 1 && ni(aa, r = l, r) }, [l, u, c, i, o, d, f, s] } class Qve extends oe { constructor(e) { super(), se(this, e, Zve, Xve, ye, { isFullScreenActive: 0, songHasTranslations: 1, songHasPronunciations: 2 }) } } function jve(n) { let e, t, i, r, s, o, a, l, u; return t = new Qve({ props: { isFullScreenActive: n[0], songHasTranslations: n[3], songHasPronunciations: n[4] } }), t.$on("launchFullScreenPlayer", n[16]), { c() { e = L("div"), V(t.$$.fragment), i = Y(), r = L("amp-lyrics"), this.h() }, l(c) { e = T(c, "DIV", { slot: !0, "data-testid": !0, class: !0 }); var d = E(e); q(t.$$.fragment, d), i = X(d), r = T(d, "AMP-LYRICS", { "offset-ratio": !0, visible: !0, "static-lyrics": !0, "show-translation": !0, "show-pronunciation": !0, "catalog-id": !0, "enable-translations": !0, class: !0 }), E(r).forEach(_), d.forEach(_), this.h() }, h() { var c, d; Xe(r, "offset-ratio", xve), Xe(r, "visible", n[2]), Xe(r, "static-lyrics", s = !!((c = n[6].nowPlayingItemInfo) != null && c.streamingItemId)), Xe(r, "show-translation", n[7]), Xe(r, "show-pronunciation", n[8]), Xe(r, "catalog-id", o = (d = n[6].nowPlayingItemInfo) == null ? void 0 : d.streamingItemId), Xe(r, "enable-translations", !0), Xe(r, "class", "svelte-lrbypv"), p(e, "slot", "content"), p(e, "data-testid", "lyrics-sidebar"), p(e, "class", "lyrics__sidebar svelte-lrbypv") }, m(c, d) { I(c, e, d), H(t, e, null), A(e, i), A(e, r), a = !0, l || (u = Me(r, "lyricsReady", n[12]), l = !0) }, p(c, d) { var g, h; const f = {}; d & 1 && (f.isFullScreenActive = c[0]), d & 8 && (f.songHasTranslations = c[3]), d & 16 && (f.songHasPronunciations = c[4]), t.$set(f), (!a || d & 4) && Xe(r, "visible", c[2]), (!a || d & 64 && s !== (s = !!((g = c[6].nowPlayingItemInfo) != null && g.streamingItemId))) && Xe(r, "static-lyrics", s), (!a || d & 128) && Xe(r, "show-translation", c[7]), (!a || d & 256) && Xe(r, "show-pronunciation", c[8]), (!a || d & 64 && o !== (o = (h = c[6].nowPlayingItemInfo) == null ? void 0 : h.streamingItemId)) && Xe(r, "catalog-id", o) }, i(c) { a || (w(t.$$.fragment, c), a = !0) }, o(c) { D(t.$$.fragment, c), a = !1 }, d(c) { c && _(e), $(t), l = !1, u() } } } function Gve(n) { let e, t, i, r, s, o, a, l; return i = new Bve({}), s = new vN({ props: { show: n[1], $$slots: { content: [jve] }, $$scope: { ctx: n } } }), { c() { e = L("div"), t = L("button"), V(i.$$.fragment), r = Y(), V(s.$$.fragment), this.h() }, l(u) { e = T(u, "DIV", { class: !0 }); var c = E(e); t = T(c, "BUTTON", { class: !0, "aria-expanded": !0, "aria-label": !0, "data-testid": !0 }); var d = E(t); q(i.$$.fragment, d), d.forEach(_), c.forEach(_), r = X(u), q(s.$$.fragment, u), this.h() }, h() { p(t, "class", "lyrics__button svelte-lrbypv"), p(t, "aria-expanded", n[1]), p(t, "aria-label", n[5]), p(t, "data-testid", "lyrics-button"), p(e, "class", "lyrics__button-container") }, m(u, c) { I(u, e, c), A(e, t), H(i, t, null), I(u, r, c), H(s, u, c), o = !0, a || (l = Me(t, "click", n[15]), a = !0) }, p(u, [c]) { (!o || c & 2) && p(t, "aria-expanded", u[1]), (!o || c & 32) && p(t, "aria-label", u[5]); const d = {}; c & 2 && (d.show = u[1]), c & 131549 && (d.$$scope = { dirty: c, ctx: u }), s.$set(d) }, i(u) { o || (w(i.$$.fragment, u), w(s.$$.fragment, u), o = !0) }, o(u) { D(i.$$.fragment, u), D(s.$$.fragment, u), o = !1 }, d(u) { u && (_(e), _(r)), $(i), $(s, u), a = !1, l() } } } const xve = .15; function e3e(n, e, t) { let i, r, s, o, a, l; ce(n, aa, S => t(13, r = S)), ce(n, cl, S => t(7, a = S)), ce(n, dl, S => t(8, l = S)); const u = ot(); ce(n, u, S => t(14, s = S)); const { queue: c } = zn(); ce(n, c, S => t(6, o = S)); const d = It(); let { isFullScreenActive: f } = e, { isOpen: g } = e, h = !0, m = !1, v = !1; function b(S) { t(3, m = S.detail.hasTranslations), t(4, v = S.detail.hasPronunciations) } const y = () => d("toggleOpen", !g); function k(S) { Bt.call(this, n, S) } return n.$$set = S => { "isFullScreenActive" in S && t(0, f = S.isFullScreenActive), "isOpen" in S && t(1, g = S.isOpen) }, n.$$.update = () => { n.$$.dirty & 16384 && t(5, i = s.t("ASE.Web.Music.MediaComponents.Lyrics.Header")), n.$$.dirty & 8192 && t(2, h = !r) }, [f, g, h, m, v, i, o, a, l, u, c, d, b, r, s, y, k] } class t3e extends oe { constructor(e) { super(), se(this, e, e3e, Gve, ye, { isFullScreenActive: 0, isOpen: 1 }) } } const n3e = n => ({}), My = n => ({}), i3e = n => ({}), Ly = n => ({}), r3e = n => ({}), Ty = n => ({}); function Ry(n) { let e; const t = n[14]["close-trigger"], i = We(t, n, n[13], Ly); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 8192) && Je(i, t, r, r[13], e ? Ke(t, r[13], s, i3e) : Ye(r[13]), Ly) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function s3e(n) { let e, t, i, r, s, o, a, l, u; const c = n[14].trigger, d = We(c, n, n[13], Ty); let f = n[8]["close-trigger"] && Ry(n); const g = n[14].content, h = We(g, n, n[13], My); return { c() { e = L("div"), t = L("button"), d && d.c(), i = Y(), r = L("div"), f && f.c(), s = Y(), h && h.c(), this.h() }, l(m) { e = T(m, "DIV", { class: !0 }); var v = E(e); t = T(v, "BUTTON", { class: !0, "data-testid": !0, "aria-label": !0 }); var b = E(t); d && d.l(b), b.forEach(_), i = X(v), r = T(v, "DIV", { popover: !0, id: !0, class: !0, "aria-hidden": !0, role: !0, "data-testid": !0 }); var y = E(r); f && f.l(y), s = X(y), h && h.l(y), y.forEach(_), v.forEach(_), this.h() }, h() { p(t, "class", "popover-toggle__button svelte-er63fw"), p(t, "data-testid", "popover-toggle-button"), p(t, "aria-label", n[0]), p(r, "popover", n[1]), p(r, "id", "popover"), p(r, "class", "popover-toggle__popover svelte-er63fw"), p(r, "aria-hidden", n[5]), p(r, "role", "menu"), p(r, "data-testid", "popover"), J(r, "is-not-relative-popover-positioning", !n[2]), p(e, "class", o = "popover-toggle " + n[7].class + " svelte-er63fw") }, m(m, v) { I(m, e, v), A(e, t), d && d.m(t, null), A(e, i), A(e, r), f && f.m(r, null), A(r, s), h && h.m(r, null), n[15](r), n[16](e), a = !0, l || (u = Me(t, "click", n[6]), l = !0) }, p(m, [v]) { d && d.p && (!a || v & 8192) && Je(d, c, m, m[13], a ? Ke(c, m[13], v, r3e) : Ye(m[13]), Ty), (!a || v & 1) && p(t, "aria-label", m[0]), m[8]["close-trigger"] ? f ? (f.p(m, v), v & 256 && w(f, 1)) : (f = Ry(m), f.c(), w(f, 1), f.m(r, s)) : f && (te(), D(f, 1, 1, () => { f = null }), ne()), h && h.p && (!a || v & 8192) && Je(h, g, m, m[13], a ? Ke(g, m[13], v, n3e) : Ye(m[13]), My), (!a || v & 2) && p(r, "popover", m[1]), (!a || v & 32) && p(r, "aria-hidden", m[5]), (!a || v & 4) && J(r, "is-not-relative-popover-positioning", !m[2]), (!a || v & 128 && o !== (o = "popover-toggle " + m[7].class + " svelte-er63fw")) && p(e, "class", o) }, i(m) { a || (w(d, m), w(f), w(h, m), a = !0) }, o(m) { D(d, m), D(f), D(h, m), a = !1 }, d(m) { m && _(e), d && d.d(m), f && f.d(), h && h.d(m), n[15](null), n[16](null), l = !1, u() } } } function o3e(n) { if (n.tabIndex < 0 || n.disabled) return !1; switch (n.nodeName) { case "A": return n instanceof HTMLAnchorElement && !!n.href; case "BUTTON": return n instanceof HTMLElement; default: return !1 } } function a3e(n) { if (o3e(n)) try { n.focus() } catch (e) { } } function l3e(n, e, t) { let { $$slots: i = {}, $$scope: r } = e; const s = wn(i); let { title: o } = e, { popoverAttribute: a = "manual" } = e, { positionRelativeToTrigger: l = !1 } = e, { actAsModal: u = !1 } = e, { popoverPosition: c = $r.Left } = e, { widthAdjustment: d = 0 } = e, f, g, h = !1, m = !0, v = !1; const b = It(), y = To(), k = () => { g.togglePopover() }; function S(Z) { if (!u || !h) return; const Q = Z.target; g.contains(Q) || a3e(g.firstChild) } function C() { const Z = f.getBoundingClientRect(), Q = g.getBoundingClientRect(); return { popoverWidth: Q.width, popoverHeight: Q.height, triggerLeft: Z.left, triggerRight: Z.right, triggerTop: Z.top, triggerBottom: Z.bottom, triggerHorizontalCenter: (Z.left + Z.right) / 2, triggerVerticalCenter: (Z.top + Z.bottom) / 2, triggerOffset: Z.height / 2 } } function P(Z) { switch (Z) { case $r.Left: { const { triggerLeft: Q, popoverWidth: G } = C(); return v ? Q > G : Q - d > G } case $r.Right: { const { triggerRight: Q, popoverWidth: G } = C(); return v ? window.innerWidth - d - Q > G : window.innerWidth - Q > G } case $r.Bottom: { const { triggerBottom: Q, popoverHeight: G } = C(); return Q > G } case $r.Top: { const { triggerTop: Q, popoverHeight: G } = C(); return Q > G } case "middle": { const { triggerVerticalCenter: Q, popoverHeight: G } = C(), ae = G / 2, ee = Q - ae > 0, pe = Q + ae < window.innerHeight; return ee && pe } case "center": { const { triggerHorizontalCenter: Q, popoverWidth: G } = C(), ae = G / 2, ee = v ? Q : Q - d, pe = v ? window.innerWidth - d - Q : window.innerWidth - Q, ke = ee > ae, we = ae < pe; return ke && we } default: return !1 } } function M() { if (l && f) switch (c) { case $r.Left: { P(c) ? R() : F(); break } case $r.Top: { P(c) ? N() : console.warn("Popover: Unsupported anchor positioning value/configuration"); break } case $r.Right: { P(c) ? F() : R(); break } default: console.warn("Popover: Unsupported anchor positioning value/configuration") } else g && (t(3, g.style.top = `${f.offsetTop + f.offsetHeight + 8}px`, g), t(3, g.style.right = `${window.innerWidth - f.offsetLeft - f.offsetWidth - 260}px`, g)) } function R() { const { popoverWidth: Z, triggerLeft: Q, triggerOffset: G } = C(); v ? t(3, g.style.right = `${window.innerWidth - Q + G}px`, g) : t(3, g.style.left = `${Q - Z - G}px`, g), O() } function F() { const { popoverWidth: Z, triggerRight: Q, triggerOffset: G } = C(); v ? t(3, g.style.right = `${window.innerWidth - Q - Z - G}px`, g) : t(3, g.style.left = `${Q + G}px`, g), O() } function N() { const { popoverWidth: Z, triggerHorizontalCenter: Q, triggerOffset: G } = C(); v ? t(3, g.style.right = `${window.innerWidth - Q - Z / 2 - G}px`, g) : t(3, g.style.left = `${Q - Z / 2}px`, g), B() } function O() { const { popoverHeight: Z, triggerTop: Q, triggerBottom: G, triggerOffset: ae } = C(); P("middle") ? t(3, g.style.top = `${Q - Z / 2 + ae}px`, g) : G > Z ? t(3, g.style.top = `${G - Z - ae}px`, g) : t(3, g.style.top = `${G - ae}px`, g) } function B() { const { popoverHeight: Z, triggerTop: Q, triggerOffset: G } = C(); P("center") ? t(3, g.style.top = `${Q - Z - G}px`, g) : v ? F() : R() } function U() { h && y.add(M) } Yt(() => { if (v = document.dir === Zg.RTL, l && f) return u && document.addEventListener("focus", S, !0), window.addEventListener("resize", U), () => { u && document.removeEventListener("focus", S, !0), window.removeEventListener("resize", U) } }); function K(Z) { wt[Z ? "unshift" : "push"](() => { g = Z, t(3, g) }) } function W(Z) { wt[Z ? "unshift" : "push"](() => { f = Z, t(4, f) }) } return n.$$set = Z => { t(7, e = fe(fe({}, e), Ie(Z))), "title" in Z && t(0, o = Z.title), "popoverAttribute" in Z && t(1, a = Z.popoverAttribute), "positionRelativeToTrigger" in Z && t(2, l = Z.positionRelativeToTrigger), "actAsModal" in Z && t(9, u = Z.actAsModal), "popoverPosition" in Z && t(10, c = Z.popoverPosition), "widthAdjustment" in Z && t(11, d = Z.widthAdjustment), "$$scope" in Z && t(13, r = Z.$$scope) }, n.$$.update = () => { n.$$.dirty & 12 && (g == null || g.addEventListener("beforetoggle", Z => { Z.newState === "open" && !l && M() })), n.$$.dirty & 4096 && (window == null || window.addEventListener("popstate", () => { h && (t(5, m = !0), t(12, h = !1), b("close")) })), n.$$.dirty & 14 && (g == null || g.addEventListener("toggle", Z => { Z.newState === "open" ? (a === "auto" && Z.oldState === "open" ? (g.hidePopover(), t(12, h = !1), b("close")) : (l && y.add(M), t(12, h = !0), b("open")), t(5, m = !1)) : (t(5, m = !0), t(12, h = !1), b("close")) })) }, e = Ie(e), [o, a, l, g, f, m, k, e, s, u, c, d, h, r, i, K, W] } let DN = class extends oe { constructor(e) { super(), se(this, e, l3e, s3e, ye, { title: 0, popoverAttribute: 1, positionRelativeToTrigger: 2, actAsModal: 9, popoverPosition: 10, widthAdjustment: 11 }) } }; function u3e(n) { let e, t, i, r, s = [{ class: "shareplay-symbol" }, { xmlns: "http://www.w3.org/2000/svg" }, { width: "117.726" }, { height: "68.168" }, { viewBox: "0 0 117.726 68.168" }, n[0]], o = {}; for (let a = 0; a < s.length; a += 1)o = fe(o, s[a]); return { c() { e = ve("svg"), t = ve("path"), i = ve("path"), r = ve("path"), this.h() }, l(a) { e = be(a, "svg", { class: !0, xmlns: !0, width: !0, height: !0, viewBox: !0 }); var l = E(e); t = be(l, "path", { fill: !0, d: !0 }), E(t).forEach(_), i = be(l, "path", { fill: !0, "fill-opacity": !0, d: !0, "data-fo": !0, "data-var": !0 }), E(i).forEach(_), r = be(l, "path", { fill: !0, "fill-opacity": !0, d: !0, "data-fo": !0, "data-var": !0 }), E(r).forEach(_), l.forEach(_), this.h() }, h() { p(t, "fill", "var(--symbol-fill-color, var(--systemPrimary))"), p(t, "d", "M39.899 68.168h37.995c3.696 0 5.999-1.75 5.999-4.776 0-7.7-9.74-18.089-24.956-18.089-15.297 0-25.004 10.39-25.004 18.089 0 3.027 2.267 4.776 5.966 4.776ZM58.937 41.11c6.579 0 12.196-5.886 12.196-13.37 0-7.344-5.666-13.059-12.196-13.059-6.645 0-12.26 5.815-12.244 13.126.015 7.417 5.584 13.303 12.244 13.303Z"), p(i, "fill", "var(--symbol-fill-color, var(--systemPrimary))"), p(i, "fill-opacity", "var(--shareplay-ring-1-fill-opacity, .5)"), p(i, "d", "M22.332 67.695c2.48 0 4.545-1.965 4.545-4.445 0-11.96 5.686-22.89 14.895-29.307-1.136-3.303-1.298-6.757-.455-10.141-14.217 7.202-23.43 22.593-23.43 39.448a4.423 4.423 0 0 0 4.445 4.445Zm73.062 0c2.463 0 4.478-1.965 4.478-4.445 0-16.821-9.146-32.146-23.297-39.382a18.846 18.846 0 0 1-.521 10.109c9.175 6.45 14.829 17.347 14.829 29.273 0 2.48 2.03 4.445 4.511 4.445Z"), p(i, "data-fo", ".5"), p(i, "data-var", "1"), p(r, "fill", "var(--symbol-fill-color, var(--systemPrimary))"), p(r, "fill-opacity", "var(--shareplay-ring-2-fill-opacity, .5)"), p(r, "d", "M4.478 67.71c2.482 0 4.43-1.964 4.43-4.494 0-29.938 22.399-54.26 49.962-54.26 27.53.001 49.948 24.323 49.948 54.261 0 2.529 1.964 4.493 4.396 4.493 2.53 0 4.512-1.964 4.512-4.494C117.726 28.413 91.314 0 58.871 0 26.427 0 0 28.413 0 63.216a4.45 4.45 0 0 0 4.477 4.494Z"), p(r, "data-fo", ".5"), p(r, "data-var", "51"), Le(e, o) }, m(a, l) { I(a, e, l), A(e, t), A(e, i), A(e, r) }, p(a, [l]) { Le(e, o = at(s, [{ class: "shareplay-symbol" }, { xmlns: "http://www.w3.org/2000/svg" }, { width: "117.726" }, { height: "68.168" }, { viewBox: "0 0 117.726 68.168" }, l & 1 && a[0]])) }, i: j, o: j, d(a) { a && _(e) } } } function c3e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let M_ = class extends oe { constructor(e) { super(), se(this, e, c3e, u3e, ht, {}) } }; var la; (function (n) { class e { static encodeText(a, l) { const u = n.QrSegment.makeSegments(a); return e.encodeSegments(u, l) } static encodeBinary(a, l) { const u = n.QrSegment.makeBytes(a); return e.encodeSegments([u], l) } static encodeSegments(a, l, u = 1, c = 40, d = -1, f = !0) { if (!(e.MIN_VERSION <= u && u <= c && c <= e.MAX_VERSION) || d < -1 || d > 7) throw new RangeError("Invalid value"); let g, h; for (g = u; ; g++) { const y = e.getNumDataCodewords(g, l) * 8, k = s.getTotalBits(a, g); if (k <= y) { h = k; break } if (g >= c) throw new RangeError("Data too long") } for (const y of [e.Ecc.MEDIUM, e.Ecc.QUARTILE, e.Ecc.HIGH]) f && h <= e.getNumDataCodewords(g, y) * 8 && (l = y); let m = []; for (const y of a) { t(y.mode.modeBits, 4, m), t(y.numChars, y.mode.numCharCountBits(g), m); for (const k of y.getData()) m.push(k) } r(m.length == h); const v = e.getNumDataCodewords(g, l) * 8; r(m.length <= v), t(0, Math.min(4, v - m.length), m), t(0, (8 - m.length % 8) % 8, m), r(m.length % 8 == 0); for (let y = 236; m.length < v; y ^= 253)t(y, 8, m); let b = []; for (; b.length * 8 < m.length;)b.push(0); return m.forEach((y, k) => b[k >>> 3] |= y << 7 - (k & 7)), new e(g, l, b, d) } constructor(a, l, u, c) { if (this.version = a, this.errorCorrectionLevel = l, this.modules = [], this.isFunction = [], a < e.MIN_VERSION || a > e.MAX_VERSION) throw new RangeError("Version value out of range"); if (c < -1 || c > 7) throw new RangeError("Mask value out of range"); this.size = a * 4 + 17; let d = []; for (let g = 0; g < this.size; g++)d.push(!1); for (let g = 0; g < this.size; g++)this.modules.push(d.slice()), this.isFunction.push(d.slice()); this.drawFunctionPatterns(); const f = this.addEccAndInterleave(u); if (this.drawCodewords(f), c == -1) { let g = 1e9; for (let h = 0; h < 8; h++) { this.applyMask(h), this.drawFormatBits(h); const m = this.getPenaltyScore(); m < g && (c = h, g = m), this.applyMask(h) } } r(0 <= c && c <= 7), this.mask = c, this.applyMask(c), this.drawFormatBits(c), this.isFunction = [] } getModule(a, l) { return 0 <= a && a < this.size && 0 <= l && l < this.size && this.modules[l][a] } drawFunctionPatterns() { for (let u = 0; u < this.size; u++)this.setFunctionModule(6, u, u % 2 == 0), this.setFunctionModule(u, 6, u % 2 == 0); this.drawFinderPattern(3, 3), this.drawFinderPattern(this.size - 4, 3), this.drawFinderPattern(3, this.size - 4); const a = this.getAlignmentPatternPositions(), l = a.length; for (let u = 0; u < l; u++)for (let c = 0; c < l; c++)u == 0 && c == 0 || u == 0 && c == l - 1 || u == l - 1 && c == 0 || this.drawAlignmentPattern(a[u], a[c]); this.drawFormatBits(0), this.drawVersion() } drawFormatBits(a) { const l = this.errorCorrectionLevel.formatBits << 3 | a; let u = l; for (let d = 0; d < 10; d++)u = u << 1 ^ (u >>> 9) * 1335; const c = (l << 10 | u) ^ 21522; r(c >>> 15 == 0); for (let d = 0; d <= 5; d++)this.setFunctionModule(8, d, i(c, d)); this.setFunctionModule(8, 7, i(c, 6)), this.setFunctionModule(8, 8, i(c, 7)), this.setFunctionModule(7, 8, i(c, 8)); for (let d = 9; d < 15; d++)this.setFunctionModule(14 - d, 8, i(c, d)); for (let d = 0; d < 8; d++)this.setFunctionModule(this.size - 1 - d, 8, i(c, d)); for (let d = 8; d < 15; d++)this.setFunctionModule(8, this.size - 15 + d, i(c, d)); this.setFunctionModule(8, this.size - 8, !0) } drawVersion() { if (this.version < 7) return; let a = this.version; for (let u = 0; u < 12; u++)a = a << 1 ^ (a >>> 11) * 7973; const l = this.version << 12 | a; r(l >>> 18 == 0); for (let u = 0; u < 18; u++) { const c = i(l, u), d = this.size - 11 + u % 3, f = Math.floor(u / 3); this.setFunctionModule(d, f, c), this.setFunctionModule(f, d, c) } } drawFinderPattern(a, l) { for (let u = -4; u <= 4; u++)for (let c = -4; c <= 4; c++) { const d = Math.max(Math.abs(c), Math.abs(u)), f = a + c, g = l + u; 0 <= f && f < this.size && 0 <= g && g < this.size && this.setFunctionModule(f, g, d != 2 && d != 4) } } drawAlignmentPattern(a, l) { for (let u = -2; u <= 2; u++)for (let c = -2; c <= 2; c++)this.setFunctionModule(a + c, l + u, Math.max(Math.abs(c), Math.abs(u)) != 1) } setFunctionModule(a, l, u) { this.modules[l][a] = u, this.isFunction[l][a] = !0 } addEccAndInterleave(a) { const l = this.version, u = this.errorCorrectionLevel; if (a.length != e.getNumDataCodewords(l, u)) throw new RangeError("Invalid argument"); const c = e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l], d = e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l], f = Math.floor(e.getNumRawDataModules(l) / 8), g = c - f % c, h = Math.floor(f / c); let m = []; const v = e.reedSolomonComputeDivisor(d); for (let y = 0, k = 0; y < c; y++) { let S = a.slice(k, k + h - d + (y < g ? 0 : 1)); k += S.length; const C = e.reedSolomonComputeRemainder(S, v); y < g && S.push(0), m.push(S.concat(C)) } let b = []; for (let y = 0; y < m[0].length; y++)m.forEach((k, S) => { (y != h - d || S >= g) && b.push(k[y]) }); return r(b.length == f), b } drawCodewords(a) { if (a.length != Math.floor(e.getNumRawDataModules(this.version) / 8)) throw new RangeError("Invalid argument"); let l = 0; for (let u = this.size - 1; u >= 1; u -= 2) { u == 6 && (u = 5); for (let c = 0; c < this.size; c++)for (let d = 0; d < 2; d++) { const f = u - d, h = (u + 1 & 2) == 0 ? this.size - 1 - c : c; !this.isFunction[h][f] && l < a.length * 8 && (this.modules[h][f] = i(a[l >>> 3], 7 - (l & 7)), l++) } } r(l == a.length * 8) } applyMask(a) { if (a < 0 || a > 7) throw new RangeError("Mask value out of range"); for (let l = 0; l < this.size; l++)for (let u = 0; u < this.size; u++) { let c; switch (a) { case 0: c = (u + l) % 2 == 0; break; case 1: c = l % 2 == 0; break; case 2: c = u % 3 == 0; break; case 3: c = (u + l) % 3 == 0; break; case 4: c = (Math.floor(u / 3) + Math.floor(l / 2)) % 2 == 0; break; case 5: c = u * l % 2 + u * l % 3 == 0; break; case 6: c = (u * l % 2 + u * l % 3) % 2 == 0; break; case 7: c = ((u + l) % 2 + u * l % 3) % 2 == 0; break; default: throw new Error("Unreachable") }!this.isFunction[l][u] && c && (this.modules[l][u] = !this.modules[l][u]) } } getPenaltyScore() { let a = 0; for (let d = 0; d < this.size; d++) { let f = !1, g = 0, h = [0, 0, 0, 0, 0, 0, 0]; for (let m = 0; m < this.size; m++)this.modules[d][m] == f ? (g++, g == 5 ? a += e.PENALTY_N1 : g > 5 && a++) : (this.finderPenaltyAddHistory(g, h), f || (a += this.finderPenaltyCountPatterns(h) * e.PENALTY_N3), f = this.modules[d][m], g = 1); a += this.finderPenaltyTerminateAndCount(f, g, h) * e.PENALTY_N3 } for (let d = 0; d < this.size; d++) { let f = !1, g = 0, h = [0, 0, 0, 0, 0, 0, 0]; for (let m = 0; m < this.size; m++)this.modules[m][d] == f ? (g++, g == 5 ? a += e.PENALTY_N1 : g > 5 && a++) : (this.finderPenaltyAddHistory(g, h), f || (a += this.finderPenaltyCountPatterns(h) * e.PENALTY_N3), f = this.modules[m][d], g = 1); a += this.finderPenaltyTerminateAndCount(f, g, h) * e.PENALTY_N3 } for (let d = 0; d < this.size - 1; d++)for (let f = 0; f < this.size - 1; f++) { const g = this.modules[d][f]; g == this.modules[d][f + 1] && g == this.modules[d + 1][f] && g == this.modules[d + 1][f + 1] && (a += e.PENALTY_N2) } let l = 0; for (const d of this.modules) l = d.reduce((f, g) => f + (g ? 1 : 0), l); const u = this.size * this.size, c = Math.ceil(Math.abs(l * 20 - u * 10) / u) - 1; return r(0 <= c && c <= 9), a += c * e.PENALTY_N4, r(0 <= a && a <= 2568888), a } getAlignmentPatternPositions() { if (this.version == 1) return []; { const a = Math.floor(this.version / 7) + 2, l = this.version == 32 ? 26 : Math.ceil((this.version * 4 + 4) / (a * 2 - 2)) * 2; let u = [6]; for (let c = this.size - 7; u.length < a; c -= l)u.splice(1, 0, c); return u } } static getNumRawDataModules(a) { if (a < e.MIN_VERSION || a > e.MAX_VERSION) throw new RangeError("Version number out of range"); let l = (16 * a + 128) * a + 64; if (a >= 2) { const u = Math.floor(a / 7) + 2; l -= (25 * u - 10) * u - 55, a >= 7 && (l -= 36) } return r(208 <= l && l <= 29648), l } static getNumDataCodewords(a, l) { return Math.floor(e.getNumRawDataModules(a) / 8) - e.ECC_CODEWORDS_PER_BLOCK[l.ordinal][a] * e.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][a] } static reedSolomonComputeDivisor(a) { if (a < 1 || a > 255) throw new RangeError("Degree out of range"); let l = []; for (let c = 0; c < a - 1; c++)l.push(0); l.push(1); let u = 1; for (let c = 0; c < a; c++) { for (let d = 0; d < l.length; d++)l[d] = e.reedSolomonMultiply(l[d], u), d + 1 < l.length && (l[d] ^= l[d + 1]); u = e.reedSolomonMultiply(u, 2) } return l } static reedSolomonComputeRemainder(a, l) { let u = l.map(c => 0); for (const c of a) { const d = c ^ u.shift(); u.push(0), l.forEach((f, g) => u[g] ^= e.reedSolomonMultiply(f, d)) } return u } static reedSolomonMultiply(a, l) { if (a >>> 8 || l >>> 8) throw new RangeError("Byte out of range"); let u = 0; for (let c = 7; c >= 0; c--)u = u << 1 ^ (u >>> 7) * 285, u ^= (l >>> c & 1) * a; return r(u >>> 8 == 0), u } finderPenaltyCountPatterns(a) { const l = a[1]; r(l <= this.size * 3); const u = l > 0 && a[2] == l && a[3] == l * 3 && a[4] == l && a[5] == l; return (u && a[0] >= l * 4 && a[6] >= l ? 1 : 0) + (u && a[6] >= l * 4 && a[0] >= l ? 1 : 0) } finderPenaltyTerminateAndCount(a, l, u) { return a && (this.finderPenaltyAddHistory(l, u), l = 0), l += this.size, this.finderPenaltyAddHistory(l, u), this.finderPenaltyCountPatterns(u) } finderPenaltyAddHistory(a, l) { l[0] == 0 && (a += this.size), l.pop(), l.unshift(a) } } e.MIN_VERSION = 1, e.MAX_VERSION = 40, e.PENALTY_N1 = 3, e.PENALTY_N2 = 3, e.PENALTY_N3 = 40, e.PENALTY_N4 = 10, e.ECC_CODEWORDS_PER_BLOCK = [[-1, 7, 10, 15, 20, 26, 18, 20, 24, 30, 18, 20, 24, 26, 30, 22, 24, 28, 30, 28, 28, 28, 28, 30, 30, 26, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30], [-1, 10, 16, 26, 18, 24, 16, 18, 22, 22, 26, 30, 22, 22, 24, 24, 28, 28, 26, 26, 26, 26, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28], [-1, 13, 22, 18, 26, 18, 24, 18, 22, 20, 24, 28, 26, 24, 20, 30, 24, 28, 28, 26, 30, 28, 30, 30, 30, 30, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30], [-1, 17, 28, 22, 16, 22, 28, 26, 26, 24, 28, 24, 28, 22, 24, 24, 30, 28, 28, 26, 28, 30, 24, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30]], e.NUM_ERROR_CORRECTION_BLOCKS = [[-1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 4, 4, 4, 4, 4, 6, 6, 6, 6, 7, 8, 8, 9, 9, 10, 12, 12, 12, 13, 14, 15, 16, 17, 18, 19, 19, 20, 21, 22, 24, 25], [-1, 1, 1, 1, 2, 2, 4, 4, 4, 5, 5, 5, 8, 9, 9, 10, 10, 11, 13, 14, 16, 17, 17, 18, 20, 21, 23, 25, 26, 28, 29, 31, 33, 35, 37, 38, 40, 43, 45, 47, 49], [-1, 1, 1, 2, 2, 4, 4, 6, 6, 8, 8, 8, 10, 12, 16, 12, 17, 16, 18, 21, 20, 23, 23, 25, 27, 29, 34, 34, 35, 38, 40, 43, 45, 48, 51, 53, 56, 59, 62, 65, 68], [-1, 1, 1, 2, 4, 4, 4, 5, 6, 8, 8, 11, 11, 16, 16, 18, 16, 19, 21, 25, 25, 25, 34, 30, 32, 35, 37, 40, 42, 45, 48, 51, 54, 57, 60, 63, 66, 70, 74, 77, 81]], n.QrCode = e; function t(o, a, l) { if (a < 0 || a > 31 || o >>> a) throw new RangeError("Value out of range"); for (let u = a - 1; u >= 0; u--)l.push(o >>> u & 1) } function i(o, a) { return (o >>> a & 1) != 0 } function r(o) { if (!o) throw new Error("Assertion error") } class s { static makeBytes(a) { let l = []; for (const u of a) t(u, 8, l); return new s(s.Mode.BYTE, a.length, l) } static makeNumeric(a) { if (!s.isNumeric(a)) throw new RangeError("String contains non-numeric characters"); let l = []; for (let u = 0; u < a.length;) { const c = Math.min(a.length - u, 3); t(parseInt(a.substring(u, u + c), 10), c * 3 + 1, l), u += c } return new s(s.Mode.NUMERIC, a.length, l) } static makeAlphanumeric(a) { if (!s.isAlphanumeric(a)) throw new RangeError("String contains unencodable characters in alphanumeric mode"); let l = [], u; for (u = 0; u + 2 <= a.length; u += 2) { let c = s.ALPHANUMERIC_CHARSET.indexOf(a.charAt(u)) * 45; c += s.ALPHANUMERIC_CHARSET.indexOf(a.charAt(u + 1)), t(c, 11, l) } return u < a.length && t(s.ALPHANUMERIC_CHARSET.indexOf(a.charAt(u)), 6, l), new s(s.Mode.ALPHANUMERIC, a.length, l) } static makeSegments(a) { return a == "" ? [] : s.isNumeric(a) ? [s.makeNumeric(a)] : s.isAlphanumeric(a) ? [s.makeAlphanumeric(a)] : [s.makeBytes(s.toUtf8ByteArray(a))] } static makeEci(a) { let l = []; if (a < 0) throw new RangeError("ECI assignment value out of range"); if (a < 1 << 7) t(a, 8, l); else if (a < 1 << 14) t(2, 2, l), t(a, 14, l); else if (a < 1e6) t(6, 3, l), t(a, 21, l); else throw new RangeError("ECI assignment value out of range"); return new s(s.Mode.ECI, 0, l) } static isNumeric(a) { return s.NUMERIC_REGEX.test(a) } static isAlphanumeric(a) { return s.ALPHANUMERIC_REGEX.test(a) } constructor(a, l, u) { if (this.mode = a, this.numChars = l, this.bitData = u, l < 0) throw new RangeError("Invalid argument"); this.bitData = u.slice() } getData() { return this.bitData.slice() } static getTotalBits(a, l) { let u = 0; for (const c of a) { const d = c.mode.numCharCountBits(l); if (c.numChars >= 1 << d) return 1 / 0; u += 4 + d + c.bitData.length } return u } static toUtf8ByteArray(a) { a = encodeURI(a); let l = []; for (let u = 0; u < a.length; u++)a.charAt(u) != "%" ? l.push(a.charCodeAt(u)) : (l.push(parseInt(a.substring(u + 1, u + 3), 16)), u += 2); return l } } s.NUMERIC_REGEX = /^[0-9]*$/, s.ALPHANUMERIC_REGEX = /^[A-Z0-9 $%*+.\/:-]*$/, s.ALPHANUMERIC_CHARSET = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:", n.QrSegment = s })(la || (la = {})); (function (n) { (function (e) { class t { constructor(r, s) { this.ordinal = r, this.formatBits = s } } t.LOW = new t(0, 1), t.MEDIUM = new t(1, 0), t.QUARTILE = new t(2, 3), t.HIGH = new t(3, 2), e.Ecc = t })(n.QrCode || (n.QrCode = {})) })(la || (la = {})); (function (n) { (function (e) { class t { constructor(r, s) { this.modeBits = r, this.numBitsCharCount = s } numCharCountBits(r) { return this.numBitsCharCount[Math.floor((r + 7) / 17)] } } t.NUMERIC = new t(1, [10, 12, 14]), t.ALPHANUMERIC = new t(2, [9, 11, 13]), t.BYTE = new t(4, [8, 16, 16]), t.KANJI = new t(8, [8, 10, 12]), t.ECI = new t(7, [0, 0, 0]), e.Mode = t })(n.QrSegment || (n.QrSegment = {})) })(la || (la = {})); const d3e = la; function jo(n, e, t, i, r, s) { let o = 0; return i < 2 * s && (o = i / 2), r < 2 * s && (o = r / 2), n.beginPath(), n.moveTo(e + o, t), n.arcTo(e + i, t, e + i, t + r, o), n.arcTo(e + i, t + r, e, t + r, o), n.arcTo(e, t + r, e, t, o), n.arcTo(e, t, e + i, t, o), n.closePath(), n } const f3e = (n, e, t, i, r, s, o) => { jo(n, t * e + r, i * e + r, 7 * e, 7 * e, e * 1.25), n.fillStyle = o, n.fill(), jo(n, (t + 1) * e + r, (i + 1) * e + r, 5 * e, 5 * e, e * .6), s === "transparent" ? (n.globalCompositeOperation = "destination-out", n.fillStyle = "#000") : n.fillStyle = s, n.fill(), n.globalCompositeOperation = "source-over", jo(n, (t + 2) * e + r, (i + 2) * e + r, 3 * e, 3 * e, e * .5), n.fillStyle = o, n.fill() }, g3e = (n, e, t, i, r, s, o) => { jo(n, t * e + r, i * e + r, 5 * e, 5 * e, e * 1), n.fillStyle = o, n.fill(); const a = .1; jo(n, (t + 1 - a) * e + r, (i + 1 - a) * e + r, (3 + a * 2) * e, (3 + a * 2) * e, e * .5), s === "transparent" ? (n.globalCompositeOperation = "destination-out", n.fillStyle = "#000") : n.fillStyle = s, n.fill(), n.globalCompositeOperation = "source-over", jo(n, (t + 2) * e + r, (i + 2) * e + r, 1 * e, 1 * e, e * .3), n.fillStyle = o, n.fill() }, SN = (n, e, t, i) => { const r = Math.max(e, t), s = i.size / r, o = i.centerX - e * s / 2, a = i.centerY - t * s / 2, l = new DOMMatrix(`translate(${o}px, ${a}px) scale(${s})`), u = new Path2D; return u.addPath(n, l), u }; class h3e { constructor(e, t, i) { He(this, "canvas", document.createElement("canvas")); He(this, "ctx"); He(this, "logoHitCount", 0); He(this, "p"); He(this, "imageData"); this.canvas.height = i, this.canvas.width = i, this.ctx = this.canvas.getContext("2d"), this.ctx.fillStyle = "#000", this.ctx.strokeStyle = "#000"; const r = [-14.0044891609, 1.1281319731, -.028527916, .0003390169, -1446e-9]; this.ctx.lineWidth = r.reduce((s, o, a) => s + o * i ** a, 0), this.p = SN(e.hitTestPath, e.pathWidth, e.pathHeight, { size: t, centerX: i / 2, centerY: i / 2 }), this.ctx.fill(this.p), this.ctx.stroke(this.p), this.imageData = this.ctx.getImageData(0, 0, this.canvas.width, this.canvas.height) } test(e, t) { const r = (t * this.canvas.width + e) * 4 + 3, o = this.imageData.data[r] !== 0; return o && (this.logoHitCount += 1), o } get logoHitPercent() { return this.logoHitCount / (this.canvas.width * this.canvas.height) } } const m3e = n => { const e = []; for (let t = 0; t < n.size; t++)for (let i = 0; i < n.size; i++)n.getModule(i, t) && n.getModule(i + 1, t) && n.getModule(i + 2, t) && n.getModule(i + 3, t) && n.getModule(i + 4, t) && n.getModule(i, t + 1) && !n.getModule(i + 1, t + 1) && !n.getModule(i + 2, t + 1) && !n.getModule(i + 3, t + 1) && n.getModule(i + 4, t + 1) && n.getModule(i, t + 2) && !n.getModule(i + 1, t + 2) && n.getModule(i + 2, t + 2) && !n.getModule(i + 3, t + 2) && n.getModule(i + 4, t + 2) && n.getModule(i, t + 3) && !n.getModule(i + 1, t + 3) && !n.getModule(i + 2, t + 3) && !n.getModule(i + 3, t + 3) && n.getModule(i + 4, t + 3) && n.getModule(i, t) && n.getModule(i + 1, t) && n.getModule(i + 2, t) && n.getModule(i + 3, t) && n.getModule(i + 4, t) && e.push({ x: i, y: t, width: 5, height: 5 }); return e }, p3e = (n, e, t) => n >= t.x && n < t.x + t.width && e >= t.y && e < t.y + t.height, _3e = (n, e, t) => t.some(i => p3e(n, e, i)), hf = d3e.QrCode; function v3e(n, e, t) { if (!n) throw new Error("Input is empty"); if (!e) throw new Error("Canvas Element not found"); const { size: i = 300, borderColor: r = "#fff", logo: s = null, logoColor: o = "#000", moduleColor: a = "#000", backgroundColor: l = "#fff", patternStyle: u = "dot" } = t || {}, c = hf.encodeText(n, hf.Ecc.MEDIUM), d = .18; e.setAttribute("height", `${i}`), e.setAttribute("width", `${i}`); const f = e.getContext("2d"), g = (t == null ? void 0 : t.quietZoneWidth) !== void 0 ? t == null ? void 0 : t.quietZoneWidth : i * .1, h = (t == null ? void 0 : t.borderRadius) !== void 0 ? t == null ? void 0 : t.borderRadius : i * .1, m = (t == null ? void 0 : t.borderWidth) !== void 0 ? t == null ? void 0 : t.borderWidth : i * .05, v = m + g, y = (i - v * 2) / c.size; let k = null, S = 0; if (s) { S = i * .25; const M = S / y; if (k = new h3e(s, M, c.size), (k == null ? void 0 : k.logoHitPercent) > d) throw new Error("Data area is too small") } jo(f, m / 2, m / 2, i - m, i - m, h), f.fillStyle = l, f.fill(), f.lineWidth = m, f.strokeStyle = r, f.stroke(); const C = [{ x: 0, y: 0, width: 7, height: 7 }, { x: 0, y: c.size - 7, width: 7, height: 7 }, { x: c.size - 7, y: 0, width: 7, height: 7 }]; C.forEach(M => { f3e(f, y, M.x, M.y, v, l, a) }); let P; u !== "dot" && (P = m3e(c).filter(({ x: M, y: R, width: F, height: N }) => !(k != null && k.test(M, R)) && !(k != null && k.test(M + F - 1, R)) && !(k != null && k.test(M, R + N - 1)) && !(k != null && k.test(M + F - 1, R + N - 1))), P.forEach(M => { g3e(f, y, M.x, M.y, v, l, a) })); for (let M = 0; M < c.size; M++)for (let R = 0; R < c.size; R++) { const F = (k == null ? void 0 : k.test(R, M)) || !1; if (!(u !== "dot" && P !== void 0) && !(F || _3e(R, M, C))) { const N = R * y + v, O = M * y + v; if (c.getModule(R, M)) { f.fillStyle = a, f.beginPath(); const B = y / 2; f.arc(N + B, O + B, B, 0, Math.PI * 2, !0), f.closePath(), f.fill() } } } if (s) { const M = { size: S, centerX: i / 2, centerY: i / 2 }, R = SN(s.path, s.pathWidth, s.pathHeight, M); f.fillStyle = o, f.fill(R) } } function b3e(n, e, t) { if (!n) throw new Error("Input is empty"); if (!e) throw new Error("SVG Element not found"); const { moduleColor: i = "#000", backgroundColor: r = "#fff" } = t || {}, s = hf.encodeText(n, hf.Ecc.MEDIUM), o = (t == null ? void 0 : t.borderWidth) !== void 0 ? t == null ? void 0 : t.borderWidth : .05, a = []; for (let c = 0; c < s.size; c++)for (let d = 0; d < s.size; d++)s.getModule(d, c) && a.push(`M${d + o},${c + o}h1v1h-1z`); const l = document.createElementNS("http://www.w3.org/2000/svg", "rect"); l.setAttribute("width", "100%"), l.setAttribute("height", "100%"), l.setAttribute("fill", r); const u = document.createElementNS("http://www.w3.org/2000/svg", "path"); u.setAttribute("d", a.join(" ")), u.setAttribute("fill", i), e.setAttribute("viewBox", `0 0 ${s.size + o * 2} ${s.size + o * 2}`), e.setAttribute("stroke", "none"), e.appendChild(l), e.appendChild(u) } function y3e(n) { var r, s, o, a, l, u; if (!n) return null; const i = new DOMParser().parseFromString(n, "image/svg+xml").querySelector("svg"); return { pathHeight: (o = (s = (r = i == null ? void 0 : i.viewBox) == null ? void 0 : r.baseVal) == null ? void 0 : s.height) != null ? o : 0, pathWidth: (u = (l = (a = i == null ? void 0 : i.viewBox) == null ? void 0 : a.baseVal) == null ? void 0 : l.width) != null ? u : 0, path: new Path2D(i.querySelector("path").getAttribute("d")), hitTestPath: new Path2D(i.querySelector("path").getAttribute("d")) } } function w3e(n) { let e; return { c() { e = L("canvas"), this.h() }, l(t) { e = T(t, "CANVAS", { "data-testid": !0 }), E(e).forEach(_), this.h() }, h() { p(e, "data-testid", "qrcode") }, m(t, i) { I(t, e, i), n[8](e) }, p: j, d(t) { t && _(e), n[8](null) } } } function k3e(n) { let e; return { c() { e = ve("svg"), this.h() }, l(t) { e = be(t, "svg", { "data-testid": !0 }), E(e).forEach(_), this.h() }, h() { p(e, "data-testid", "qrcode") }, m(t, i) { I(t, e, i), n[7](e) }, p: j, d(t) { t && _(e), n[7](null) } } } function D3e(n) { let e; function t(s, o) { return s[0] ? k3e : w3e } let i = t(n), r = i(n); return { c() { r.c(), e = re() }, l(s) { r.l(s), e = re() }, m(s, o) { r.m(s, o), I(s, e, o) }, p(s, [o]) { i === (i = t(s)) && r ? r.p(s, o) : (r.d(1), r = i(s), r && (r.c(), r.m(e.parentNode, e))) }, i: j, o: j, d(s) { s && _(e), r.d(s) } } } function S3e(n, e, t) { let { value: i } = e, { borderWidth: r = 0 } = e, { size: s = 100 } = e, { logo: o = null } = e, { renderSVG: a = !1 } = e, l, u; function c(f) { wt[f ? "unshift" : "push"](() => { u = f, t(2, u) }) } function d(f) { wt[f ? "unshift" : "push"](() => { l = f, t(1, l) }) } return n.$$set = f => { "value" in f && t(3, i = f.value), "borderWidth" in f && t(4, r = f.borderWidth), "size" in f && t(5, s = f.size), "logo" in f && t(6, o = f.logo), "renderSVG" in f && t(0, a = f.renderSVG) }, n.$$.update = () => { var f; n.$$.dirty & 122 && l && v3e(i, l, { logo: (f = y3e(o)) != null ? f : null, size: s, borderWidth: r, borderRadius: 15 }), n.$$.dirty & 12 && i && u && b3e(i, u) }, [a, l, u, i, r, s, o, c, d] } class CN extends oe { constructor(e) { super(), se(this, e, S3e, D3e, ye, { value: 3, borderWidth: 4, size: 5, logo: 6, renderSVG: 0 }) } } function C3e(n) { let e, t, i = [{ class: "car-fill" }, { viewBox: "0 0 28 22" }, { xmlns: "http://www.w3.org/2000/svg" }, { "xml:space": "preserve" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { class: !0, viewBox: !0, xmlns: !0, "xml:space": !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M14.001 18.682c3.978 0 9.26-.196 11.504-.453C27.102 18.053 28 17.17 28 15.653V13.57c0-1.996-.405-3.11-1.502-4.532l-.994-1.299c-.436-2.128-1.221-4.366-1.629-5.24-.631-1.326-1.862-2.128-3.43-2.332C19.644.061 17.06 0 14.002 0S8.346.073 7.555.166C5.99.358 4.76 1.172 4.128 2.498c-.408.873-1.194 3.111-1.629 5.24l-.994 1.3C.405 10.457 0 11.572 0 13.568v2.084c0 1.517.9 2.4 2.495 2.576 2.245.257 7.525.453 11.506.453ZM4.883 6.757c.277-1.3.856-2.992 1.246-3.667.315-.562.66-.807 1.306-.89.888-.12 2.907-.203 6.566-.203 3.657 0 5.676.057 6.567.203.63.096.966.328 1.306.89.403.662.929 2.367 1.246 3.667.11.435-.08.607-.54.577-1.968-.127-4.305-.252-8.579-.252-4.274 0-6.624.125-8.577.252-.46.03-.64-.142-.541-.577Zm-3.32 15.181h1.399c.888 0 1.572-.672 1.572-1.548v-2.946L0 15.284v5.106c0 .876.684 1.548 1.563 1.548Zm23.478 0h1.386c.891 0 1.573-.672 1.573-1.548v-5.105l-4.534 2.159v2.946c0 .876.684 1.548 1.575 1.548ZM10.87 15.031c-.805 0-1.363-.569-1.363-1.376 0-.807.558-1.365 1.363-1.365h6.262c.808 0 1.366.558 1.366 1.365 0 .807-.558 1.376-1.366 1.376H10.87Zm-5.4.462c-1.084 0-1.901-.82-1.901-1.904 0-1.082.817-1.901 1.901-1.901 1.082 0 1.902.82 1.902 1.9 0 1.085-.82 1.905-1.902 1.905Zm17.065 0c-1.085 0-1.902-.82-1.902-1.904 0-1.082.817-1.901 1.902-1.901 1.08 0 1.9.82 1.9 1.9 0 1.085-.82 1.905-1.9 1.905Z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ class: "car-fill" }, { viewBox: "0 0 28 22" }, { xmlns: "http://www.w3.org/2000/svg" }, { "xml:space": "preserve" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function P3e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let A3e = class extends oe { constructor(e) { super(), se(this, e, P3e, C3e, ht, {}) } }; const E3e = n => ({}), Fy = n => ({}), I3e = n => ({}), Oy = n => ({}); function Ny(n) { let e, t; const i = n[11]["icon-before"], r = We(i, n, n[10], Oy); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "button__icon button__icon--before svelte-yk984v") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 1024) && Je(r, i, s, s[10], t ? Ke(i, s[10], o, I3e) : Ye(s[10]), Oy) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function By(n) { let e, t; const i = n[11]["icon-after"], r = We(i, n, n[10], Fy); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "button__icon button__icon--after svelte-yk984v") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 1024) && Je(r, i, s, s[10], t ? Ke(i, s[10], o, E3e) : Ye(s[10]), Fy) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function M3e(n) { let e, t, i, r, s, o, a, l = n[7]["icon-before"] && Ny(n); const u = n[11].default, c = We(u, n, n[10], null); let d = n[7]["icon-after"] && By(n); return { c() { e = L("div"), t = L("button"), l && l.c(), i = Y(), c && c.c(), r = Y(), d && d.c(), this.h() }, l(f) { e = T(f, "DIV", { class: !0, "data-testid": !0 }); var g = E(e); t = T(g, "BUTTON", { "data-testid": !0, "aria-label": !0, type: !0, class: !0 }); var h = E(t); l && l.l(h), i = X(h), c && c.l(h), r = X(h), d && d.l(h), h.forEach(_), g.forEach(_), this.h() }, h() { p(t, "data-testid", "button-base"), p(t, "aria-label", n[1]), p(t, "type", n[2]), t.disabled = n[3], p(t, "class", "svelte-yk984v"), J(t, "link", n[4] === "textButton"), p(e, "class", "button svelte-yk984v"), p(e, "data-testid", "button-base-wrapper"), J(e, "primary", n[4] === "buttonA"), J(e, "secondary", n[4] === "buttonB"), J(e, "tertiary", n[4] === "buttonD"), J(e, "alert", n[4] && n[4].startsWith("alertButton")), J(e, "alert-secondary", n[4] === "alertButtonSecondary"), J(e, "pill", n[4] === "pillButton"), J(e, "button--text-button", n[4] === "textButton"), J(e, "socialProfileButton", n[4] === "socialProfileButton") }, m(f, g) { I(f, e, g), A(e, t), l && l.m(t, null), A(t, i), c && c.m(t, null), A(t, r), d && d.m(t, null), n[12](t), s = !0, o || (a = [Me(t, "click", n[5]), Me(t, "keyup", n[6])], o = !0) }, p(f, [g]) { f[7]["icon-before"] ? l ? (l.p(f, g), g & 128 && w(l, 1)) : (l = Ny(f), l.c(), w(l, 1), l.m(t, i)) : l && (te(), D(l, 1, 1, () => { l = null }), ne()), c && c.p && (!s || g & 1024) && Je(c, u, f, f[10], s ? Ke(u, f[10], g, null) : Ye(f[10]), null), f[7]["icon-after"] ? d ? (d.p(f, g), g & 128 && w(d, 1)) : (d = By(f), d.c(), w(d, 1), d.m(t, null)) : d && (te(), D(d, 1, 1, () => { d = null }), ne()), (!s || g & 2) && p(t, "aria-label", f[1]), (!s || g & 4) && p(t, "type", f[2]), (!s || g & 8) && (t.disabled = f[3]), (!s || g & 16) && J(t, "link", f[4] === "textButton"), (!s || g & 16) && J(e, "primary", f[4] === "buttonA"), (!s || g & 16) && J(e, "secondary", f[4] === "buttonB"), (!s || g & 16) && J(e, "tertiary", f[4] === "buttonD"), (!s || g & 16) && J(e, "alert", f[4] && f[4].startsWith("alertButton")), (!s || g & 16) && J(e, "alert-secondary", f[4] === "alertButtonSecondary"), (!s || g & 16) && J(e, "pill", f[4] === "pillButton"), (!s || g & 16) && J(e, "button--text-button", f[4] === "textButton"), (!s || g & 16) && J(e, "socialProfileButton", f[4] === "socialProfileButton") }, i(f) { s || (w(l), w(c, f), w(d), s = !0) }, o(f) { D(l), D(c, f), D(d), s = !1 }, d(f) { f && _(e), l && l.d(), c && c.d(f), d && d.d(), n[12](null), o = !1, Ot(a) } } } function L3e(n, e, t) { let i, { $$slots: r = {}, $$scope: s } = e; const o = wn(r), a = It(), l = () => { a("buttonClick") }; let { buttonStyle: u = null } = e, { makeFocused: c = !1 } = e, { ariaLabel: d = null } = e, { type: f = "button" } = e, { disabled: g = !1 } = e, { buttonElement: h = null } = e; function m(y) { (y.key === "Enter" || y.key === "Escape") && l() } const v = p_(); Yt(async () => { await v(async y => { await y(), c && h.focus() }) }); function b(y) { wt[y ? "unshift" : "push"](() => { h = y, t(0, h) }) } return n.$$set = y => { "buttonStyle" in y && t(8, u = y.buttonStyle), "makeFocused" in y && t(9, c = y.makeFocused), "ariaLabel" in y && t(1, d = y.ariaLabel), "type" in y && t(2, f = y.type), "disabled" in y && t(3, g = y.disabled), "buttonElement" in y && t(0, h = y.buttonElement), "$$scope" in y && t(10, s = y.$$scope) }, n.$$.update = () => { n.$$.dirty & 256 && t(4, i = u) }, [h, d, f, g, i, l, m, o, u, c, s, r, b] } class yi extends oe { constructor(e) { super(), se(this, e, L3e, M3e, ye, { buttonStyle: 8, makeFocused: 9, ariaLabel: 1, type: 2, disabled: 3, buttonElement: 0 }) } } const T3e = n => ({}), Uy = n => ({ handleClose: n[9] }); function R3e(n) { let e, t, i, r, s; const o = n[16].default, a = We(o, n, n[15], Uy); return { c() { e = L("dialog"), a && a.c(), this.h() }, l(l) { e = T(l, "DIALOG", { "data-testid": !0, class: !0, id: !0, "aria-labelledby": !0, "aria-label": !0, "aria-hidden": !0 }); var u = E(e); a && a.l(u), u.forEach(_), this.h() }, h() { p(e, "data-testid", "dialog"), p(e, "class", t = ys(n[2]) + " svelte-1a4zf5b"), p(e, "id", n[1]), p(e, "aria-labelledby", n[4]), p(e, "aria-label", n[5]), p(e, "aria-hidden", n[6]), J(e, "error", n[0]), J(e, "no-scrim", n[3]), J(e, "needs-polyfill", n[8]) }, m(l, u) { I(l, e, u), a && a.m(e, null), n[17](e), i = !0, r || (s = [Me(e, "click", Za(n[9])), Me(e, "close", n[9]), Me(e, "cancel", n[9])], r = !0) }, p(l, [u]) { a && a.p && (!i || u & 32768) && Je(a, o, l, l[15], i ? Ke(o, l[15], u, T3e) : Ye(l[15]), Uy), (!i || u & 4 && t !== (t = ys(l[2]) + " svelte-1a4zf5b")) && p(e, "class", t), (!i || u & 2) && p(e, "id", l[1]), (!i || u & 16) && p(e, "aria-labelledby", l[4]), (!i || u & 32) && p(e, "aria-label", l[5]), (!i || u & 64) && p(e, "aria-hidden", l[6]), (!i || u & 5) && J(e, "error", l[0]), (!i || u & 12) && J(e, "no-scrim", l[3]), (!i || u & 260) && J(e, "needs-polyfill", l[8]) }, i(l) { i || (w(a, l), i = !0) }, o(l) { D(a, l), i = !1 }, d(l) { l && _(e), a && a.d(l), n[17](null), r = !1, Ot(s) } } } function F3e(n) { for (; n; n = n.parentNode)if (n.toString() === "[object ShadowRoot]") return !0; return !1 } function O3e(n, e, t) { let { $$slots: i = {}, $$scope: r } = e; const s = It(); let { modalTriggerElement: o } = e, { error: a = !1 } = e, { dialogId: l = "" } = e, { dialogClassNames: u = "" } = e, { disableScrim: c = !1 } = e, { showOnMount: d = !1 } = e, { preventDefaultClose: f = !1 } = e, { ariaLabelledBy: g = null } = e, { ariaLabel: h = null } = e, m = !0, v, b = !1, y; function k() { document.body.classList.add("noscroll"), b && (y = F3e(v), y || document.body.appendChild(v)), t(6, m = !1), v.showModal() } function S() { document.body.classList.remove("noscroll"), b && !y && document.body.removeChild(v), t(6, m = !0), v.close(), o == null || o.focus() } function C(M) { f ? M.preventDefault() : S(), s("close") } Yt(async () => { if (t(8, b = !("showModal" in v)), b) { const { default: M } = await ft(() => import("./dialog-polyfill.esm-29d91b4f.js"), []); M.registerDialog(v), v.classList.add("dialog-polyfill") } d && k() }); function P(M) { wt[M ? "unshift" : "push"](() => { v = M, t(7, v) }) } return n.$$set = M => { "modalTriggerElement" in M && t(10, o = M.modalTriggerElement), "error" in M && t(0, a = M.error), "dialogId" in M && t(1, l = M.dialogId), "dialogClassNames" in M && t(2, u = M.dialogClassNames), "disableScrim" in M && t(3, c = M.disableScrim), "showOnMount" in M && t(11, d = M.showOnMount), "preventDefaultClose" in M && t(12, f = M.preventDefaultClose), "ariaLabelledBy" in M && t(4, g = M.ariaLabelledBy), "ariaLabel" in M && t(5, h = M.ariaLabel), "$$scope" in M && t(15, r = M.$$scope) }, [a, l, u, c, g, h, m, v, b, C, o, d, f, k, S, r, i, P] } class Es extends oe { constructor(e) { super(), se(this, e, O3e, R3e, ye, { modalTriggerElement: 10, error: 0, dialogId: 1, dialogClassNames: 2, disableScrim: 3, showOnMount: 11, preventDefaultClose: 12, ariaLabelledBy: 4, ariaLabel: 5, showModal: 13, close: 14 }) } get showModal() { return this.$$.ctx[13] } get close() { return this.$$.ctx[14] } } function N3e(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 90.64 30.831" }, { width: "24" }, { height: "8" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, viewBox: !0, width: !0, height: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "m4.486 14.456 32.352 13.938c3.156 1.387 5.552 2.437 8.48 2.437 2.932 0 5.357-1.05 8.484-2.437l32.353-13.938c2.612-1.192 4.485-3.514 4.485-6.42C90.64 3.184 87.085 0 83 0c-2.279 0-5.172 1.325-7.569 2.42L42.845 16.358h4.95L15.21 2.42C12.812 1.325 9.948 0 7.636 0 3.55 0 0 3.184 0 8.036c0 2.906 1.873 5.228 4.486 6.42z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 90.64 30.831" }, { width: "24" }, { height: "8" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function B3e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let U3e = class extends oe { constructor(e) { super(), se(this, e, B3e, N3e, ht, {}) } }; const H3e = n => ({}), Hy = n => ({}), $3e = n => ({}), $y = n => ({}); function Vy(n) { let e, t; const i = n[13].backdrop, r = We(i, n, n[14], $y); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "sliding-modal-backdrop svelte-kzi81j") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 16384) && Je(r, i, s, s[14], t ? Ke(i, s[14], o, $3e) : Ye(s[14]), $y) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function V3e(n) { let e; const t = n[13]["close-trigger"], i = We(t, n, n[14], Hy); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 16384) && Je(i, t, r, r[14], e ? Ke(t, r[14], s, H3e) : Ye(r[14]), Hy) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function z3e(n) { let e, t, i, r, s, o; return t = new U3e({}), { c() { e = L("button"), V(t.$$.fragment), this.h() }, l(a) { e = T(a, "BUTTON", { "data-testid": !0, class: !0, "aria-label": !0 }); var l = E(e); q(t.$$.fragment, l), l.forEach(_), this.h() }, h() { p(e, "data-testid", "sliding-modal-collapse"), p(e, "class", "sliding-modal-collapse svelte-kzi81j"), p(e, "aria-label", i = n[2]("AMP.Shared.AX.Close")) }, m(a, l) { I(a, e, l), H(t, e, null), r = !0, s || (o = Me(e, "click", n[10]), s = !0) }, p(a, l) { (!r || l & 4 && i !== (i = a[2]("AMP.Shared.AX.Close"))) && p(e, "aria-label", i) }, i(a) { r || (w(t.$$.fragment, a), r = !0) }, o(a) { D(t.$$.fragment, a), r = !1 }, d(a) { a && _(e), $(t), s = !1, o() } } } function q3e(n) { let e, t, i, r, s, o, a, l, u, c = n[12].backdrop && Vy(n); const d = [z3e, V3e], f = []; function g(v, b) { return v[7] ? 0 : 1 } r = g(n), s = f[r] = d[r](n); const h = n[13].default, m = We(h, n, n[14], null); return { c() { e = L("div"), c && c.c(), t = Y(), i = L("div"), s.c(), o = Y(), a = L("div"), m && m.c(), this.h() }, l(v) { e = T(v, "DIV", { "data-testid": !0, class: !0 }); var b = E(e); c && c.l(b), t = X(b), i = T(b, "DIV", { class: !0 }); var y = E(i); s.l(y), o = X(y), a = T(y, "DIV", { class: !0 }); var k = E(a); m && m.l(k), k.forEach(_), y.forEach(_), b.forEach(_), this.h() }, h() { p(a, "class", "sliding-modal-main svelte-kzi81j"), p(i, "class", "sliding-modal-content svelte-kzi81j"), p(e, "data-testid", "sliding-modal"), p(e, "class", "sliding-modal svelte-kzi81j"), J(e, "disable-slide", n[6]), J(e, "is-mounted", n[8]) }, m(v, b) { I(v, e, b), c && c.m(e, null), A(e, t), A(e, i), f[r].m(i, null), A(i, o), A(i, a), m && m.m(a, null), u = !0 }, p(v, b) { n = v, n[12].backdrop ? c ? (c.p(n, b), b & 4096 && w(c, 1)) : (c = Vy(n), c.c(), w(c, 1), c.m(e, t)) : c && (te(), D(c, 1, 1, () => { c = null }), ne()); let y = r; r = g(n), r === y ? f[r].p(n, b) : (te(), D(f[y], 1, 1, () => { f[y] = null }), ne(), s = f[r], s ? s.p(n, b) : (s = f[r] = d[r](n), s.c()), w(s, 1), s.m(i, o)), m && m.p && (!u || b & 16384) && Je(m, h, n, n[14], u ? Ke(h, n[14], b, null) : Ye(n[14]), null), (!u || b & 64) && J(e, "disable-slide", n[6]), (!u || b & 256) && J(e, "is-mounted", n[8]) }, i(v) { u || (w(c), w(s), w(m, v), v && Jr(() => { u && (l || (l = Bd(e, n[11], { duration: n[9] ? 1 : 250 }, !0)), l.run(1)) }), u = !0) }, o(v) { D(c), D(s), D(m, v), v && (l || (l = Bd(e, n[11], { duration: n[9] ? 1 : 250 }, !1)), l.run(0)), u = !1 }, d(v) { v && _(e), c && c.d(), f[r].d(), m && m.d(v), v && l && l.end() } } } function W3e(n) { let e, t, i; return t = new Es({ props: { disableScrim: n[1], modalTriggerElement: n[0], ariaLabelledBy: n[3], ariaLabel: n[4], showOnMount: !0, preventDefaultClose: !0, dialogClassNames: n[5], $$slots: { default: [q3e] }, $$scope: { ctx: n } } }), t.$on("close", n[10]), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "sliding-modal-wrapper svelte-kzi81j") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, [s]) { const o = {}; s & 2 && (o.disableScrim = r[1]), s & 1 && (o.modalTriggerElement = r[0]), s & 8 && (o.ariaLabelledBy = r[3]), s & 16 && (o.ariaLabel = r[4]), s & 32 && (o.dialogClassNames = r[5]), s & 21444 && (o.$$scope = { dirty: s, ctx: r }), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function K3e(n, e, t) { let i; ce(n, Mu, k => t(9, i = k)); let { $$slots: r = {}, $$scope: s } = e; const o = wn(r), a = It(); let { modalTriggerElement: l } = e, { disableScrim: u = !1 } = e, { translateFn: c } = e, { ariaLabelledBy: d = null } = e, { ariaLabel: f = null } = e, { dialogClassNames: g = "" } = e, { disableSlide: h = !1 } = e, { includeCollapseButton: m = !0 } = e, v = !1; function b() { a("close") } Yt(() => { t(8, v = !0) }), mn(() => { a("destroy") }); function y(k, S) { return { duration: S.duration, easing: Gne, css: (C, P) => `transform: translateY(${P * 100}%)` } } return n.$$set = k => { "modalTriggerElement" in k && t(0, l = k.modalTriggerElement), "disableScrim" in k && t(1, u = k.disableScrim), "translateFn" in k && t(2, c = k.translateFn), "ariaLabelledBy" in k && t(3, d = k.ariaLabelledBy), "ariaLabel" in k && t(4, f = k.ariaLabel), "dialogClassNames" in k && t(5, g = k.dialogClassNames), "disableSlide" in k && t(6, h = k.disableSlide), "includeCollapseButton" in k && t(7, m = k.includeCollapseButton), "$$scope" in k && t(14, s = k.$$scope) }, [l, u, c, d, f, g, h, m, v, i, b, y, o, r, s] } class Rl extends oe { constructor(e) { super(), se(this, e, K3e, W3e, ye, { modalTriggerElement: 0, disableScrim: 1, translateFn: 2, ariaLabelledBy: 3, ariaLabel: 4, dialogClassNames: 5, disableSlide: 6, includeCollapseButton: 7 }) } } function J3e(n) { let e, t, i, r, s, o = n[0].t("ASE.Web.Music.SharePlay.FullScreenQRCode.Title") + "", a, l, u, c = n[0].t("ASE.Web.Music.SharePlay.FullScreenQRCode.Subtitle") + "", d, f, g, h; return i = new CN({ props: { value: n[1].sessionURL, size: 350, logo: Q3e } }), { c() { e = L("div"), t = L("div"), V(i.$$.fragment), r = Y(), s = L("div"), a = le(o), l = Y(), u = L("p"), d = le(c), this.h() }, l(m) { e = T(m, "DIV", { class: !0 }); var v = E(e); t = T(v, "DIV", { class: !0 }); var b = E(t); q(i.$$.fragment, b), b.forEach(_), r = X(v), s = T(v, "DIV", { class: !0, id: !0 }); var y = E(s); a = ue(y, o), y.forEach(_), l = X(v), u = T(v, "P", { class: !0, "data-testid": !0 }); var k = E(u); d = ue(k, c), k.forEach(_), v.forEach(_), this.h() }, h() { p(t, "class", "qr__code-container svelte-9chz6j"), p(s, "class", "share-play-qr__title svelte-9chz6j"), p(s, "id", n[4]), p(u, "class", "share-play-qr__subtitle svelte-9chz6j"), p(u, "data-testid", "share-play-copy"), p(e, "class", "share-play-qr svelte-9chz6j") }, m(m, v) { I(m, e, v), A(e, t), H(i, t, null), A(e, r), A(e, s), A(s, a), A(e, l), A(e, u), A(u, d), f = !0, g || (h = Me(e, "click", n[5]), g = !0) }, p(m, v) { const b = {}; v & 2 && (b.value = m[1].sessionURL), i.$set(b), (!f || v & 1) && o !== (o = m[0].t("ASE.Web.Music.SharePlay.FullScreenQRCode.Title") + "") && me(a, o), (!f || v & 1) && c !== (c = m[0].t("ASE.Web.Music.SharePlay.FullScreenQRCode.Subtitle") + "") && me(d, c) }, i(m) { f || (w(i.$$.fragment, m), f = !0) }, o(m) { D(i.$$.fragment, m), f = !1 }, d(m) { m && _(e), $(i), g = !1, h() } } } function Y3e(n) { let e; return { c() { e = L("div"), this.h() }, l(t) { e = T(t, "DIV", { class: !0, slot: !0 }), E(e).forEach(_), this.h() }, h() { p(e, "class", "backdrop svelte-9chz6j"), p(e, "slot", "backdrop") }, m(t, i) { I(t, e, i) }, p: j, d(t) { t && _(e) } } } function X3e(n) { let e, t, i, r, s, o; return t = new rr({ props: { "aria-hidden": "true" } }), { c() { e = L("button"), V(t.$$.fragment), this.h() }, l(a) { e = T(a, "BUTTON", { class: !0, slot: !0, "aria-label": !0 }); var l = E(e); q(t.$$.fragment, l), l.forEach(_), this.h() }, h() { p(e, "class", "close-button svelte-9chz6j"), p(e, "slot", "close-trigger"), p(e, "aria-label", i = n[0].t("ASE.Web.Music.Shared.AX.Close")) }, m(a, l) { I(a, e, l), H(t, e, null), r = !0, s || (o = Me(e, "click", n[5]), s = !0) }, p(a, l) { (!r || l & 1 && i !== (i = a[0].t("ASE.Web.Music.Shared.AX.Close"))) && p(e, "aria-label", i) }, i(a) { r || (w(t.$$.fragment, a), r = !0) }, o(a) { D(t.$$.fragment, a), r = !1 }, d(a) { a && _(e), $(t), s = !1, o() } } } function Z3e(n) { let e, t, i; return e = new Rl({ props: { modalTriggerElement: null, disableScrim: !1, translateFn: n[0].t, includeCollapseButton: !1, ariaLabelledBy: n[4], $$slots: { "close-trigger": [X3e], backdrop: [Y3e], default: [J3e] }, $$scope: { ctx: n } } }), e.$on("close", n[5]), { c() { t = L("div"), V(e.$$.fragment), this.h() }, l(r) { t = T(r, "DIV", { style: !0 }); var s = E(t); q(e.$$.fragment, s), this.h() }, h() { Pt(t, "display", "contents"), Pt(t, "--slidingModalContentBgColor", "rgba(0, 0, 0, 0.1)"), Pt(t, "--slidingModalBgColor", "transparent"), Pt(t, "--slidingModalContentBgColorDesktop", "white"), Pt(t, "--slidingModalHeight", "100%"), Pt(t, "--slidingModalBorderRadius", "0") }, m(r, s) { I(r, t, s), H(e, t, null), i = !0 }, p(r, [s]) { const o = {}; s & 1 && (o.translateFn = r[0].t), s & 131 && (o.$$scope = { dirty: s, ctx: r }), e.$set(o) }, i(r) { i || (w(e.$$.fragment, r), i = !0) }, o(r) { D(e.$$.fragment, r), i = !1 }, d(r) { r && e && _(t), $(e, r) } } } const Q3e = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 84.925 108.397"><path d="M14.078 104.398C21.242 104.398 32.163 98.999 32.163 84.703V38.57C32.163 36.12 32.558 35.693 34.74 35.246L74.793 27.014C77.213 26.504 78.138 27.045 78.138 29.216L78.45 60.116C78.45 62.567 77.245 64.053 74.97 64.552L67.65 66.16C57.673 68.321 52.762 73.044 52.762 80.488 52.762 87.984 58.835 93.382 67.027 93.382 74.232 93.382 84.926 88.347 84.926 74.102V5.512C84.926.747 82.746-.758 77.306.342L30.08 10.072C26.767 10.746 24.95 12.56 24.95 15.416L25.262 71.142C25.262 73.417 24.234 74.882 22.271 75.266L14.535 76.876C4.652 78.961 0 83.965 0 91.502 0 99.061 5.835 104.398 14.078 104.398Z"></path></svg>'; function j3e(n, e, t) { let i, r; const s = ot(); ce(n, s, c => t(0, i = c)); const { sharePlayState: o } = Or(); ce(n, o, c => t(1, r = c)); const a = It(), l = ro()(); function u() { a("close") } return [i, r, s, o, l, u] } class PN extends oe { constructor(e) { super(), se(this, e, j3e, Z3e, ye, {}) } } function G3e(n) { let e, t, i = [{ class: "speaker-icon" }, { xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 74.848 101.07" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { class: !0, xmlns: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M0 13.864v73.342c0 9.225 4.577 13.864 13.698 13.864H61.15c9.132 0 13.698-4.64 13.698-13.864V13.864C74.848 4.629 70.292 0 61.15 0H13.698C4.566 0 0 4.629 0 13.864ZM37.455 75.09c4.863.001 8.646-3.937 8.646-8.696-.001-4.998-3.783-8.81-8.646-8.81-4.925-.001-8.707 3.811-8.707 8.809 0 4.761 3.907 8.698 8.707 8.698Zm0-43.754c3.223 0 5.802-2.63 5.802-5.801 0-3.212-2.641-5.79-5.802-5.79-3.295-.001-5.853 2.452-5.853 5.789 0 3.171 2.568 5.802 5.853 5.802Zm0 55.587c-11.38 0-20.57-9.086-20.57-20.529 0-11.494 9.19-20.632 20.57-20.57 11.33.052 20.519 9.076 20.519 20.57a20.459 20.459 0 0 1-20.519 20.53Zm0-49.959c-6.363 0-11.44-5.064-11.44-11.43 0-6.351 5.087-11.428 11.44-11.365 6.302.061 11.326 5.023 11.378 11.366.103 6.353-5.087 11.43-11.378 11.43Z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ class: "speaker-icon" }, { xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 74.848 101.07" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function x3e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let ebe = class extends oe { constructor(e) { super(), se(this, e, x3e, G3e, ht, {}) } }; function tbe(n) { let e, t, i, r = [{ class: "homepod-icon" }, { viewBox: "0 0 16.074 20.068" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], s = {}; for (let o = 0; o < r.length; o += 1)s = fe(s, r[o]); return { c() { e = ve("svg"), t = ve("path"), i = ve("path"), this.h() }, l(o) { e = be(o, "svg", { class: !0, viewBox: !0, xmlns: !0 }); var a = E(e); t = be(a, "path", { d: !0 }), E(t).forEach(_), i = be(a, "path", { d: !0 }), E(i).forEach(_), a.forEach(_), this.h() }, h() { p(t, "d", "M7.852 20.068c5.38 0 7.86-1.914 7.86-6.27V6.367c0-1.836-.439-3.076-1.132-3.955-.234-.293-.615-.313-.898-.078-.938.82-3.389 1.523-5.83 1.523-2.442 0-4.893-.703-5.82-1.523-.294-.235-.665-.215-.9.078C.44 3.29 0 4.53 0 6.367v7.431c0 4.356 2.47 6.27 7.852 6.27z"), p(i, "d", "M7.852 2.52c2.587 0 4.521-.547 4.521-1.25 0-.723-1.933-1.26-4.521-1.26S3.34.547 3.34 1.27c0 .703 1.924 1.25 4.512 1.25z"), Le(e, s) }, m(o, a) { I(o, e, a), A(e, t), A(e, i) }, p(o, [a]) { Le(e, s = at(r, [{ class: "homepod-icon" }, { viewBox: "0 0 16.074 20.068" }, { xmlns: "http://www.w3.org/2000/svg" }, a & 1 && o[0]])) }, i: j, o: j, d(o) { o && _(e) } } } function nbe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let ibe = class extends oe { constructor(e) { super(), se(this, e, nbe, tbe, ht, {}) } }; function rbe(n) { let e, t, i, r = [{ class: "homepod-mini-icon" }, { xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 96.107 87.777" }, n[0]], s = {}; for (let o = 0; o < r.length; o += 1)s = fe(s, r[o]); return { c() { e = ve("svg"), t = ve("path"), i = ve("path"), this.h() }, l(o) { e = be(o, "svg", { class: !0, xmlns: !0, viewBox: !0 }); var a = E(e); t = be(a, "path", { d: !0 }), E(t).forEach(_), i = be(a, "path", { d: !0 }), E(i).forEach(_), a.forEach(_), this.h() }, h() { p(t, "d", "M48.074 87.777c17.722 0 25.204-2.193 32.292-8.793 9.926-9.126 15.741-22.24 15.741-36.155 0-11.283-3.784-22.045-11.521-30.92-1.794-2.199-3.693-2.405-5.64-.983-7.219 5.444-15.553 8.197-30.872 8.197-15.36 0-23.694-2.753-30.913-8.196-1.947-1.422-3.845-1.217-5.641.981C3.773 20.784 0 31.546 0 42.828c0 13.917 5.816 27.031 15.793 36.157 7.036 6.599 14.57 8.792 32.281 8.792Z"), p(i, "d", "M48.074 12.446c13.546 0 23.077-2.72 23.077-6.223C71.151 2.668 61.621 0 48.074 0 34.487 0 25.008 2.668 25.008 6.223c0 3.502 9.479 6.223 23.066 6.223Z"), Le(e, s) }, m(o, a) { I(o, e, a), A(e, t), A(e, i) }, p(o, [a]) { Le(e, s = at(r, [{ class: "homepod-mini-icon" }, { xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 96.107 87.777" }, a & 1 && o[0]])) }, i: j, o: j, d(o) { o && _(e) } } } function sbe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let obe = class extends oe { constructor(e) { super(), se(this, e, sbe, rbe, ht, {}) } }; function abe(n) { let e, t, i, r = [{ class: "apple-tv-icon" }, { xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 97.488 97.074" }, n[0]], s = {}; for (let o = 0; o < r.length; o += 1)s = fe(s, r[o]); return { c() { e = ve("svg"), t = ve("path"), i = ve("path"), this.h() }, l(o) { e = be(o, "svg", { class: !0, xmlns: !0, viewBox: !0 }); var a = E(e); t = be(a, "path", { d: !0 }), E(t).forEach(_), i = be(a, "path", { d: !0, fill: !0 }), E(i).forEach(_), a.forEach(_), this.h() }, h() { p(t, "d", "M26.034 97.074h45.42c8.289 0 15.323-.75 20.334-5.76 4.95-5.002 5.7-11.911 5.7-20.274V26.034c0-8.364-.75-15.283-5.699-20.273C86.768.8 79.745 0 71.453 0H25.93C17.753 0 10.709.812 5.709 5.771c-4.96 5-5.71 11.92-5.71 20.106V71.04C0 79.404.74 86.375 5.7 91.313c5.008 5.011 11.98 5.76 20.333 5.76Z"), p(i, "d", "M40.042 54.914c-.747 2.606-2.481 5.67-4.672 7.819-.675.623-1.66 1.07-2.908 1.07-1.184 0-1.869-.415-2.876-.748-.654-.187-1.547-.623-2.648-.623-2.481 0-3.603 1.485-5.648 1.485-1.382 0-2.524-.862-4.05-2.544-2.897-3.199-4.798-8.328-4.798-12.69 0-2.667.686-5.233 2.368-7.329 1.433-1.86 3.603-2.919 6.282-2.919 2.44 0 3.915 1.547 5.213 1.547 1.557 0 3.312-1.62 6.417-1.62 2.73 0 5.026 1.111 6.459 3.302-1.921 1.122-2.638 2.544-3.053 3.656-.643 1.744-.759 3.738 0 5.721.747 1.796 1.931 3.063 3.914 3.873Zm35.7 8.702H70.27l-9.273-25.254h5.483l6.562 20.28 6.178-20.28h5.66ZM53.78 32.402v5.96h4.85v4.04h-4.85v13.944c0 2.296 1.007 3.168 3.064 3.168.498 0 1.474 0 1.712-.134v4.236a24.86 24.86 0 0 1-2.834.187c-5.16 0-7.154-1.807-7.154-6.854V42.401h-3.604v-4.039h3.604v-5.96Zm-27.652 5.15c-.114-3.79 2.918-7.402 6.957-7.642.312 3.644-2.865 8.078-6.957 7.642Z"), p(i, "fill", "var(--pageBG)"), Le(e, s) }, m(o, a) { I(o, e, a), A(e, t), A(e, i) }, p(o, [a]) { Le(e, s = at(r, [{ class: "apple-tv-icon" }, { xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 97.488 97.074" }, a & 1 && o[0]])) }, i: j, o: j, d(o) { o && _(e) } } } function lbe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let ube = class extends oe { constructor(e) { super(), se(this, e, lbe, abe, ht, {}) } }; function cbe(n) { let e, t, i; var r = n[0]; function s(o, a) { return { props: { "aria-hidden": "true" } } } return r && (e = jt(r, s())), { c() { e && V(e.$$.fragment), t = re() }, l(o) { e && q(e.$$.fragment, o), t = re() }, m(o, a) { e && H(e, o, a), I(o, t, a), i = !0 }, p(o, [a]) { if (a & 1 && r !== (r = o[0])) { if (e) { te(); const l = e; D(l.$$.fragment, 1, 0, () => { $(l, 1) }), ne() } r ? (e = jt(r, s()), V(e.$$.fragment), w(e.$$.fragment, 1), H(e, t.parentNode, t)) : e = null } }, i(o) { i || (e && w(e.$$.fragment, o), i = !0) }, o(o) { e && D(e.$$.fragment, o), i = !1 }, d(o) { o && _(t), e && $(e, o) } } } function dbe(n, e, t) { let i, { type: r = yN } = e; const s = () => ({ [zr.AppleTV]: ube, [zr.Car]: A3e, [zr.HomePod]: ibe, [zr.HomePodMini]: obe, [zr.Speaker]: ebe })[r]; return n.$$set = o => { "type" in o && t(1, r = o.type) }, t(0, i = s()), [i, r] } class AN extends oe { constructor(e) { super(), se(this, e, dbe, cbe, ye, { type: 1 }) } } function EN() { return { $kind: "endSharePlayAction", actionMetrics: { data: [], custom: {} } } } function fbe({ identifier: n }) { return { $kind: "approveSharePlayParticipantAction", identifier: n, actionMetrics: { data: [], custom: {} } } } function gbe({ identifier: n }) { return { $kind: "rejectSharePlayParticipantAction", identifier: n, actionMetrics: { data: [], custom: {} } } } function zy(n, e, t) { const i = n.slice(); return i[18] = e[t], i } function hbe(n) { let e = n[7].t("ASE.Web.Music.SharePlay.Manage.Subtitle") + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 128 && e !== (e = i[7].t("ASE.Web.Music.SharePlay.Manage.Subtitle") + "") && me(t, e) }, d(i) { i && _(t) } } } function mbe(n) { let e = n[7].t("ASE.Web.Music.SharePlay.Manage.Description") + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 128 && e !== (e = i[7].t("ASE.Web.Music.SharePlay.Manage.Description") + "") && me(t, e) }, d(i) { i && _(t) } } } function qy(n) { let e, t = n[2].displayName + "", i; return { c() { e = L("div"), i = le(t), this.h() }, l(r) { e = T(r, "DIV", { class: !0, "data-testid": !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "share-play-lockup__title svelte-ydr75"), p(e, "data-testid", "share-play-lockup-display-name") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 4 && t !== (t = r[2].displayName + "") && me(i, t) }, d(r) { r && _(e) } } } function pbe(n) { let e, t = n[7].t("ASE.Web.Music.SharePlay.Manage.Empty") + "", i; return { c() { e = L("div"), i = le(t), this.h() }, l(r) { e = T(r, "DIV", { class: !0, "data-testid": !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "share-play-lockup__subtitle svelte-ydr75"), p(e, "data-testid", "share-play-lockup-waiting") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 128 && t !== (t = r[7].t("ASE.Web.Music.SharePlay.Manage.Empty") + "") && me(i, t) }, d(r) { r && _(e) } } } function _be(n) { let e; function t(s, o) { return s[6] ? ybe : bbe } let i = t(n), r = i(n); return { c() { e = L("div"), r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0, "data-testid": !0 }); var o = E(e); r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "share-play-lockup__subtitle svelte-ydr75"), p(e, "data-testid", "share-play-lockup-members-count") }, m(s, o) { I(s, e, o), r.m(e, null) }, p(s, o) { i === (i = t(s)) && r ? r.p(s, o) : (r.d(1), r = i(s), r && (r.c(), r.m(e, null))) }, d(s) { s && _(e), r.d() } } } function vbe(n) { let e, t = n[7].t("ASE.Web.Music.SharePlay.Manage.Pending", { count: n[1].filter(Xy).length }) + "", i; return { c() { e = L("div"), i = le(t), this.h() }, l(r) { e = T(r, "DIV", { class: !0, "data-testid": !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "share-play-lockup__subtitle svelte-ydr75"), p(e, "data-testid", "share-play-lockup-pending-count") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 130 && t !== (t = r[7].t("ASE.Web.Music.SharePlay.Manage.Pending", { count: r[1].filter(Xy).length }) + "") && me(i, t) }, d(r) { r && _(e) } } } function bbe(n) { let e = n[7].t("ASE.Web.Music.SharePlay.Manage.Members", { count: n[1].length - 1 }) + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 130 && e !== (e = i[7].t("ASE.Web.Music.SharePlay.Manage.Members", { count: i[1].length - 1 }) + "") && me(t, e) }, d(i) { i && _(t) } } } function ybe(n) { let e = n[7].t("ASE.Web.Music.SharePlay.Manage.Members", { count: n[1].length }) + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 130 && e !== (e = i[7].t("ASE.Web.Music.SharePlay.Manage.Members", { count: i[1].length }) + "") && me(t, e) }, d(i) { i && _(t) } } } function wbe(n) { let e = n[7].t("ASE.Web.Music.SharePlay.Manage.Leave") + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 128 && e !== (e = i[7].t("ASE.Web.Music.SharePlay.Manage.Leave") + "") && me(t, e) }, d(i) { i && _(t) } } } function Wy(n) { var k, S; let e, t, i, r, s, o, a, l, u = ((k = n[18].profile) == null ? void 0 : k.displayName) + "", c, d, f, g, h; r = new Oo({ props: { artwork: (S = n[18].profile.artwork) == null ? void 0 : S.dictionary, name: n[18].profile.displayName, hasBorder: !1 } }); function m(C, P) { if (C[6]) return Dbe; if (C[18].isHost) return kbe } let v = m(n), b = v && v(n), y = n[18].isPending && Ky(n); return { c() { e = L("li"), t = L("div"), i = L("div"), V(r.$$.fragment), s = Y(), o = L("div"), a = L("div"), l = L("div"), c = le(u), d = Y(), b && b.c(), f = Y(), y && y.c(), g = Y(), this.h() }, l(C) { e = T(C, "LI", { class: !0, "data-testid": !0 }); var P = E(e); t = T(P, "DIV", { class: !0 }); var M = E(t); i = T(M, "DIV", { class: !0 }); var R = E(i); q(r.$$.fragment, R), R.forEach(_), s = X(M), o = T(M, "DIV", { class: !0 }); var F = E(o); a = T(F, "DIV", {}); var N = E(a); l = T(N, "DIV", { class: !0, "data-testid": !0 }); var O = E(l); c = ue(O, u), O.forEach(_), d = X(N), b && b.l(N), N.forEach(_), f = X(F), y && y.l(F), F.forEach(_), M.forEach(_), g = X(P), P.forEach(_), this.h() }, h() { p(i, "class", "share-play-lockup__social share-play-lockup__social--after-shadow share-play-lockup__social--circular svelte-ydr75"), p(l, "class", "share-play-lockup__title svelte-ydr75"), p(l, "data-testid", "share-play-lockup-title"), p(o, "class", "share-play-lockup__content svelte-ydr75"), p(t, "class", "share-play-lockup svelte-ydr75"), p(e, "class", "manage-share-play__item svelte-ydr75"), p(e, "data-testid", "share-play-member") }, m(C, P) { I(C, e, P), A(e, t), A(t, i), H(r, i, null), A(t, s), A(t, o), A(o, a), A(a, l), A(l, c), A(a, d), b && b.m(a, null), A(o, f), y && y.m(o, null), A(e, g), h = !0 }, p(C, P) { var R, F; const M = {}; P & 16 && (M.artwork = (R = C[18].profile.artwork) == null ? void 0 : R.dictionary), P & 16 && (M.name = C[18].profile.displayName), r.$set(M), (!h || P & 16) && u !== (u = ((F = C[18].profile) == null ? void 0 : F.displayName) + "") && me(c, u), v === (v = m(C)) && b ? b.p(C, P) : (b && b.d(1), b = v && v(C), b && (b.c(), b.m(a, null))), C[18].isPending ? y ? y.p(C, P) : (y = Ky(C), y.c(), y.m(o, null)) : y && (y.d(1), y = null) }, i(C) { h || (w(r.$$.fragment, C), h = !0) }, o(C) { D(r.$$.fragment, C), h = !1 }, d(C) { C && _(e), $(r), b && b.d(), y && y.d() } } } function kbe(n) { let e, t = n[7].t("ASE.Web.Music.SharePlay.Manage.CarPlay") + "", i; return { c() { e = L("div"), i = le(t), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "share-play-lockup__subtitle svelte-ydr75") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 128 && t !== (t = r[7].t("ASE.Web.Music.SharePlay.Manage.CarPlay") + "") && me(i, t) }, d(r) { r && _(e) } } } function Dbe(n) { let e; function t(s, o) { if (s[18].connected) return Cbe; if (s[18].isPending) return Sbe } let i = t(n), r = i && i(n); return { c() { r && r.c(), e = re() }, l(s) { r && r.l(s), e = re() }, m(s, o) { r && r.m(s, o), I(s, e, o) }, p(s, o) { i === (i = t(s)) && r ? r.p(s, o) : (r && r.d(1), r = i && i(s), r && (r.c(), r.m(e.parentNode, e))) }, d(s) { s && _(e), r && r.d(s) } } } function Sbe(n) { let e, t = n[7].t("ASE.Web.Music.SharePlay.Manage.Pending") + "", i; return { c() { e = L("div"), i = le(t), this.h() }, l(r) { e = T(r, "DIV", { class: !0, "data-testid": !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "share-play-lockup__subtitle svelte-ydr75"), p(e, "data-testid", "share-play-member-pending") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 128 && t !== (t = r[7].t("ASE.Web.Music.SharePlay.Manage.Pending") + "") && me(i, t) }, d(r) { r && _(e) } } } function Cbe(n) { let e, t = n[7].t("ASE.Web.Music.SharePlay.Manage.Connected") + "", i; return { c() { e = L("li"), i = le(t), this.h() }, l(r) { e = T(r, "LI", { class: !0, "data-testid": !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "share-play-lockup__subtitle svelte-ydr75"), p(e, "data-testid", "share-play-member-connected") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 128 && t !== (t = r[7].t("ASE.Web.Music.SharePlay.Manage.Connected") + "") && me(i, t) }, d(r) { r && _(e) } } } function Ky(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h; function m() { return n[14](n[18]) } function v() { return n[15](n[18]) } return { c() { e = L("div"), t = L("button"), i = ve("svg"), r = ve("path"), s = ve("path"), a = Y(), l = L("button"), u = ve("svg"), c = ve("path"), d = ve("path"), this.h() }, l(b) { e = T(b, "DIV", { class: !0, "data-testid": !0 }); var y = E(e); t = T(y, "BUTTON", { class: !0, "aria-label": !0, "data-testid": !0 }); var k = E(t); i = be(k, "svg", { xmlns: !0, viewBox: !0, "aria-hidden": !0, class: !0 }); var S = E(i); r = be(S, "path", { d: !0, fill: !0 }), E(r).forEach(_), s = be(S, "path", { d: !0, fill: !0 }), E(s).forEach(_), S.forEach(_), k.forEach(_), a = X(y), l = T(y, "BUTTON", { class: !0, "aria-label": !0, "data-testid": !0 }); var C = E(l); u = be(C, "svg", { xmlns: !0, viewBox: !0, "aria-hidden": !0, class: !0 }); var P = E(u); c = be(P, "path", { d: !0, fill: !0 }), E(c).forEach(_), d = be(P, "path", { d: !0, fill: !0 }), E(d).forEach(_), P.forEach(_), C.forEach(_), y.forEach(_), this.h() }, h() { p(r, "d", "M49.773 99.547C76.997 99.547 99.598 76.997 99.598 49.773 99.598 22.55 76.945 0 49.722 0 22.54 0 0 22.55 0 49.773 0 76.997 22.591 99.547 49.773 99.547Z"), p(r, "fill", "var(--systemTertiary)"), p(s, "d", "M33.366 70.294C31.17 70.294 29.356 68.491 29.356 66.202 29.356 65.145 29.791 64.17 30.527 63.383L44.075 49.836 30.527 36.288C29.791 35.501 29.357 34.527 29.357 33.47 29.356 31.18 31.168 29.48 33.366 29.48 34.536 29.48 35.396 29.865 36.195 30.61L49.773 44.19 63.507 30.559C64.347 29.761 65.227 29.377 66.284 29.377 68.533 29.377 70.346 31.128 70.346 33.367 70.346 34.474 70.014 35.396 69.123 36.236L55.524 49.836 69.071 63.33C69.911 64.12 70.294 65.093 70.294 66.201 70.294 68.492 68.481 70.295 66.181 70.295 65.07 70.294 64.046 69.911 63.3 69.113L49.773 55.535 36.3 69.113C35.552 69.91 34.537 70.294 33.366 70.294Z"), p(s, "fill", "#fff"), p(i, "xmlns", "http://www.w3.org/2000/svg"), p(i, "viewBox", "0 0 99.598 99.547"), p(i, "aria-hidden", "true"), p(i, "class", "svelte-ydr75"), p(t, "class", "share-play-lockup__participant-button svelte-ydr75"), p(t, "aria-label", o = n[7].t("ASE.Web.Music.SharePlay.Reject")), p(t, "data-testid", "share-play-reject-participant"), p(c, "d", "M49.773 99.547C76.997 99.547 99.598 76.997 99.598 49.773 99.598 22.55 76.945 0 49.722 0 22.54 0 0 22.55 0 49.773 0 76.997 22.591 99.547 49.773 99.547Z"), p(c, "fill", "var(--systemGreen)"), p(d, "d", "M44.343 73.624C42.655 73.624 41.308 72.97 40.003 71.24L27.78 56.196C27.014 55.264 26.62 54.166 26.62 53.067 26.62 50.83 28.277 49.037 30.546 49.037 31.925 49.037 33.024 49.482 34.204 51.098L44.126 63.863 64.982 30.437C65.863 28.924 67.127 28.157 68.432 28.157 70.609 28.158 72.567 29.599 72.567 31.92 72.566 32.996 71.976 34.146 71.334 35.109L48.425 71.241C47.38 72.857 45.98 73.624 44.343 73.624Z"), p(d, "fill", "#fff"), p(u, "xmlns", "http://www.w3.org/2000/svg"), p(u, "viewBox", "0 0 99.598 99.547"), p(u, "aria-hidden", "true"), p(u, "class", "svelte-ydr75"), p(l, "class", "share-play-lockup__participant-button svelte-ydr75"), p(l, "aria-label", f = n[7].t("ASE.Web.Music.SharePlay.Accept")), p(l, "data-testid", "share-play-approve-participant"), p(e, "class", "share-play-lockup__participant-button-container svelte-ydr75"), p(e, "data-testid", "share-play-pending-participant") }, m(b, y) { I(b, e, y), A(e, t), A(t, i), A(i, r), A(i, s), A(e, a), A(e, l), A(l, u), A(u, c), A(u, d), g || (h = [Me(t, "click", m), Me(l, "click", v)], g = !0) }, p(b, y) { n = b, y & 128 && o !== (o = n[7].t("ASE.Web.Music.SharePlay.Reject")) && p(t, "aria-label", o), y & 128 && f !== (f = n[7].t("ASE.Web.Music.SharePlay.Accept")) && p(l, "aria-label", f) }, d(b) { b && _(e), g = !1, Ot(h) } } } function Jy(n) { let e, t, i = !n[18].isLocal && Wy(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[18].isLocal ? i && (te(), D(i, 1, 1, () => { i = null }), ne()) : i ? (i.p(r, s), s & 16 && w(i, 1)) : (i = Wy(r), i.c(), w(i, 1), i.m(e.parentNode, e)) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function Yy(n) { let e, t; return e = new PN({}), e.$on("close", n[16]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function Pbe(n) { let e, t, i, r, s = n[7].t("ASE.Web.Music.SharePlay.Manage.Title") + "", o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F, N, O = n[7].t("ASE.Web.Music.SharePlay.Manage.QRCode") + "", B, U, K, W, Z, Q, G, ae, ee, pe; t = new M_({ props: { "aria-hidden": "true" } }); function ke(Se, Re) { return Se[6] ? mbe : hbe } let we = ke(n), Te = we(n); h = new AN({ props: { type: n[5] } }); let ge = n[6] && qy(n); function Ce(Se, Re) { return Re & 2 && (k = null), k == null && (k = !!(Se[1].length && Se[1].some(Abe))), k ? vbe : Se[1].length ? _be : pbe } let he = Ce(n, -1), Ae = he(n); P = new yi({ props: { buttonStyle: "pillButton", $$slots: { default: [wbe] }, $$scope: { ctx: n } } }), P.$on("buttonClick", n[11]); let ze = ut(n[4]), Pe = []; for (let Se = 0; Se < ze.length; Se += 1)Pe[Se] = Jy(zy(n, ze, Se)); const Oe = Se => D(Pe[Se], 1, 1, () => { Pe[Se] = null }); W = new CN({ props: { value: n[2].sessionURL, size: 90, renderSVG: !0 } }); let _e = n[3] && Yy(n); return { c() { e = L("div"), V(t.$$.fragment), i = Y(), r = L("div"), o = le(s), a = Y(), l = L("p"), Te.c(), u = Y(), c = L("ul"), d = L("li"), f = L("div"), g = L("div"), V(h.$$.fragment), m = Y(), v = L("div"), b = L("div"), ge && ge.c(), y = Y(), Ae.c(), S = Y(), C = L("div"), V(P.$$.fragment), M = Y(); for (let Se = 0; Se < Pe.length; Se += 1)Pe[Se].c(); R = Y(), F = L("div"), N = L("p"), B = le(O), U = Y(), K = L("button"), V(W.$$.fragment), Q = Y(), _e && _e.c(), G = re(), this.h() }, l(Se) { e = T(Se, "DIV", { class: !0 }); var Re = E(e); q(t.$$.fragment, Re), i = X(Re), r = T(Re, "DIV", { class: !0, id: !0 }); var Ze = E(r); o = ue(Ze, s), Ze.forEach(_), a = X(Re), l = T(Re, "P", { class: !0, "data-testid": !0 }); var De = E(l); Te.l(De), De.forEach(_), u = X(Re), c = T(Re, "UL", { class: !0 }); var xe = E(c); d = T(xe, "LI", { class: !0 }); var Fe = E(d); f = T(Fe, "DIV", { class: !0 }); var Be = E(f); g = T(Be, "DIV", { class: !0 }); var lt = E(g); q(h.$$.fragment, lt), lt.forEach(_), m = X(Be), v = T(Be, "DIV", { class: !0 }); var _t = E(v); b = T(_t, "DIV", {}); var et = E(b); ge && ge.l(et), y = X(et), Ae.l(et), et.forEach(_), _t.forEach(_), S = X(Be), C = T(Be, "DIV", { class: !0 }); var ie = E(C); q(P.$$.fragment, ie), ie.forEach(_), Be.forEach(_), Fe.forEach(_), M = X(xe); for (let Dn = 0; Dn < Pe.length; Dn += 1)Pe[Dn].l(xe); xe.forEach(_), R = X(Re), F = T(Re, "DIV", { class: !0 }); var $e = E(F); N = T($e, "P", { class: !0 }); var kt = E(N); B = ue(kt, O), kt.forEach(_), U = X($e), K = T($e, "BUTTON", { "aria-label": !0 }); var on = E(K); q(W.$$.fragment, on), on.forEach(_), $e.forEach(_), Re.forEach(_), Q = X(Se), _e && _e.l(Se), G = re(), this.h() }, h() { p(r, "class", "manage-share-play__title svelte-ydr75"), p(r, "id", n[0]), p(l, "class", "manage-share-play__subtitle svelte-ydr75"), p(l, "data-testid", "share-play-copy"), p(g, "class", "share-play-lockup__social share-play-lockup__social--circular svelte-ydr75"), p(v, "class", "share-play-lockup__content svelte-ydr75"), p(C, "class", "share-play-lockup__button svelte-ydr75"), p(f, "class", "share-play-lockup svelte-ydr75"), p(d, "class", "manage-share-play__item svelte-ydr75"), p(c, "class", "manage-share-play__items svelte-ydr75"), p(N, "class", "svelte-ydr75"), p(K, "aria-label", Z = n[7].t("ASE.Web.Music.SharePlay.Enlarge.QRCode")), p(F, "class", "manage-share-play__qr svelte-ydr75"), p(e, "class", "manage-share-play svelte-ydr75") }, m(Se, Re) { I(Se, e, Re), H(t, e, null), A(e, i), A(e, r), A(r, o), A(e, a), A(e, l), Te.m(l, null), A(e, u), A(e, c), A(c, d), A(d, f), A(f, g), H(h, g, null), A(f, m), A(f, v), A(v, b), ge && ge.m(b, null), A(b, y), Ae.m(b, null), A(f, S), A(f, C), H(P, C, null), A(c, M); for (let Ze = 0; Ze < Pe.length; Ze += 1)Pe[Ze] && Pe[Ze].m(c, null); A(e, R), A(e, F), A(F, N), A(N, B), A(F, U), A(F, K), H(W, K, null), I(Se, Q, Re), _e && _e.m(Se, Re), I(Se, G, Re), ae = !0, ee || (pe = Me(K, "click", n[12]), ee = !0) }, p(Se, [Re]) { (!ae || Re & 128) && s !== (s = Se[7].t("ASE.Web.Music.SharePlay.Manage.Title") + "") && me(o, s), (!ae || Re & 1) && p(r, "id", Se[0]), we === (we = ke(Se)) && Te ? Te.p(Se, Re) : (Te.d(1), Te = we(Se), Te && (Te.c(), Te.m(l, null))); const Ze = {}; Re & 32 && (Ze.type = Se[5]), h.$set(Ze), Se[6] ? ge ? ge.p(Se, Re) : (ge = qy(Se), ge.c(), ge.m(b, y)) : ge && (ge.d(1), ge = null), he === (he = Ce(Se, Re)) && Ae ? Ae.p(Se, Re) : (Ae.d(1), Ae = he(Se), Ae && (Ae.c(), Ae.m(b, null))); const De = {}; if (Re & 2097280 && (De.$$scope = { dirty: Re, ctx: Se }), P.$set(De), Re & 1232) { ze = ut(Se[4]); let Fe; for (Fe = 0; Fe < ze.length; Fe += 1) { const Be = zy(Se, ze, Fe); Pe[Fe] ? (Pe[Fe].p(Be, Re), w(Pe[Fe], 1)) : (Pe[Fe] = Jy(Be), Pe[Fe].c(), w(Pe[Fe], 1), Pe[Fe].m(c, null)) } for (te(), Fe = ze.length; Fe < Pe.length; Fe += 1)Oe(Fe); ne() } (!ae || Re & 128) && O !== (O = Se[7].t("ASE.Web.Music.SharePlay.Manage.QRCode") + "") && me(B, O); const xe = {}; Re & 4 && (xe.value = Se[2].sessionURL), W.$set(xe), (!ae || Re & 128 && Z !== (Z = Se[7].t("ASE.Web.Music.SharePlay.Enlarge.QRCode"))) && p(K, "aria-label", Z), Se[3] ? _e ? (_e.p(Se, Re), Re & 8 && w(_e, 1)) : (_e = Yy(Se), _e.c(), w(_e, 1), _e.m(G.parentNode, G)) : _e && (te(), D(_e, 1, 1, () => { _e = null }), ne()) }, i(Se) { if (!ae) { w(t.$$.fragment, Se), w(h.$$.fragment, Se), w(P.$$.fragment, Se); for (let Re = 0; Re < ze.length; Re += 1)w(Pe[Re]); w(W.$$.fragment, Se), w(_e), ae = !0 } }, o(Se) { D(t.$$.fragment, Se), D(h.$$.fragment, Se), D(P.$$.fragment, Se), Pe = Pe.filter(Boolean); for (let Re = 0; Re < Pe.length; Re += 1)D(Pe[Re]); D(W.$$.fragment, Se), D(_e), ae = !1 }, d(Se) { Se && (_(e), _(Q), _(G)), $(t), Te.d(), $(h), ge && ge.d(), Ae.d(), $(P), ln(Pe, Se), $(W), _e && _e.d(Se), ee = !1, pe() } } } const Abe = n => n.isPending, Xy = n => n.isPending; function Ebe(n, e, t) { let i, r, s, o, a, l, u; const c = ot(); ce(n, c, C => t(7, u = C)); const { sharePlayState: d } = Or(); ce(n, d, C => t(2, l = C)); const f = sn(); let { dialogTitleId: g } = e, h = !1; function m(C) { return [zr.AppleTV, zr.HomePod].includes(i) ? C.filter(M => !M.isHost) : C } function v() { f(EN()) } function b() { t(3, h = !0) } const y = C => f(gbe({ identifier: C.identifier })), k = C => f(fbe({ identifier: C.identifier })), S = () => { t(3, h = !1) }; return n.$$set = C => { "dialogTitleId" in C && t(0, g = C.dialogTitleId) }, n.$$.update = () => { n.$$.dirty & 4 && t(13, i = ul(l.route)), n.$$.dirty & 8192 && t(6, r = [zr.AppleTV, zr.HomePod, zr.HomePodMini].includes(i)), n.$$.dirty & 4 && t(5, s = wN(l.route)), n.$$.dirty & 4 && t(1, o = m(l.members)), n.$$.dirty & 2 && t(4, a = o == null ? void 0 : o.sort((C, P) => C.isPending ? -1 : 1)) }, [g, o, l, h, a, s, r, u, c, d, f, v, b, i, y, k, S] } class IN extends oe { constructor(e) { super(), se(this, e, Ebe, Pbe, ye, { dialogTitleId: 0 }) } } function Zy(n) { let e, t; return e = new DN({ props: { class: "is-selected", title: n[1].t("ASE.Web.Music.SharePlay.FullScreenPlayer.Title"), $$slots: { content: [Mbe], trigger: [Ibe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.title = i[1].t("ASE.Web.Music.SharePlay.FullScreenPlayer.Title")), r & 33 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function Ibe(n) { var a, l; let e, t, i, r = ((l = (a = n[0]) == null ? void 0 : a.members) == null ? void 0 : l.length) - 1 + "", s, o; return e = new M_({ props: { "aria-hidden": "true" } }), { c() { V(e.$$.fragment), t = Y(), i = L("span"), s = le(r), this.h() }, l(u) { q(e.$$.fragment, u), t = X(u), i = T(u, "SPAN", { class: !0 }); var c = E(i); s = ue(c, r), c.forEach(_), this.h() }, h() { p(i, "class", "shareplay__counter svelte-1wgpt4u") }, m(u, c) { H(e, u, c), I(u, t, c), I(u, i, c), A(i, s), o = !0 }, p(u, c) { var d, f; (!o || c & 1) && r !== (r = ((f = (d = u[0]) == null ? void 0 : d.members) == null ? void 0 : f.length) - 1 + "") && me(s, r) }, i(u) { o || (w(e.$$.fragment, u), o = !0) }, o(u) { D(e.$$.fragment, u), o = !1 }, d(u) { u && (_(t), _(i)), $(e, u) } } } function Mbe(n) { let e, t; return e = new IN({ props: { slot: "content", dialogTitleId: n[4] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function Lbe(n) { var r; let e, t, i = ((r = n[0]) == null ? void 0 : r.inSession) && Zy(n); return { c() { i && i.c(), e = re() }, l(s) { i && i.l(s), e = re() }, m(s, o) { i && i.m(s, o), I(s, e, o), t = !0 }, p(s, [o]) { var a; (a = s[0]) != null && a.inSession ? i ? (i.p(s, o), o & 1 && w(i, 1)) : (i = Zy(s), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(s) { t || (w(i), t = !0) }, o(s) { D(i), t = !1 }, d(s) { s && _(e), i && i.d(s) } } } function Tbe(n, e, t) { let i, r; const { sharePlayState: s } = Or(); ce(n, s, l => t(0, i = l)); const o = ot(); ce(n, o, l => t(1, r = l)); const a = ro()(); return [i, r, s, o, a] } class Rbe extends oe { constructor(e) { super(), se(this, e, Tbe, Lbe, ye, {}) } } var ua = (n => (n.Lyrics = "Lyrics", n.UpNext = "UpNext", n))(ua || {}); const Md = Tt(null); function Qy(n) { let e, t; return e = new t3e({ props: { isFullScreenActive: n[0], isOpen: n[2] === ua.Lyrics } }), e.$on("toggleOpen", n[6]), e.$on("launchFullScreenPlayer", n[7]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.isFullScreenActive = i[0]), r & 4 && (s.isOpen = i[2] === ua.Lyrics), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function Fbe(n) { let e, t, i, r, s; e = new Rbe({}); let o = n[1] && Qy(n); return r = new Fve({ props: { isOpen: n[2] === ua.UpNext } }), r.$on("toggleOpen", n[8]), { c() { V(e.$$.fragment), t = Y(), o && o.c(), i = Y(), V(r.$$.fragment) }, l(a) { q(e.$$.fragment, a), t = X(a), o && o.l(a), i = X(a), q(r.$$.fragment, a) }, m(a, l) { H(e, a, l), I(a, t, l), o && o.m(a, l), I(a, i, l), H(r, a, l), s = !0 }, p(a, [l]) { a[1] ? o ? (o.p(a, l), l & 2 && w(o, 1)) : (o = Qy(a), o.c(), w(o, 1), o.m(i.parentNode, i)) : o && (te(), D(o, 1, 1, () => { o = null }), ne()); const u = {}; l & 4 && (u.isOpen = a[2] === ua.UpNext), r.$set(u) }, i(a) { s || (w(e.$$.fragment, a), w(o), w(r.$$.fragment, a), s = !0) }, o(a) { D(e.$$.fragment, a), D(o), D(r.$$.fragment, a), s = !1 }, d(a) { a && (_(t), _(i)), $(e, a), o && o.d(a), $(r, a) } } } function Obe(n, e, t) { let i, r, s; ce(n, Md, f => t(2, s = f)); var o; let { showFullScreenPlayer: a } = e; const { state: l } = xt(); ce(n, l, f => t(5, r = f)); const u = ({ detail: f }) => ni(Md, s = f ? ua.Lyrics : null, s); function c(f) { Bt.call(this, n, f) } const d = ({ detail: f }) => ni(Md, s = f ? ua.UpNext : null, s); return n.$$set = f => { "showFullScreenPlayer" in f && t(0, a = f.showFullScreenPlayer) }, n.$$.update = () => { n.$$.dirty & 48 && t(1, i = bi(t(4, o = r.user) === null || o === void 0 ? void 0 : o.subscriberType)) }, [a, i, s, l, o, r, u, c, d] } class Nbe extends oe { constructor(e) { super(), se(this, e, Obe, Fbe, ye, { showFullScreenPlayer: 0 }) } } const jy = "navigate"; function xg(n, e) { async function t(r) { const { action: s } = await e.routeUrl(r); if (n.getAttribute("feature-name") === "replay") { const { subactions: o } = s; if (o) { let a = o.findIndex(l => $E(l)); a > -1 && (o[a] = Qq(o[a], bt.Replay)) } } await e.perform(s, { behavior: "notProcessed" }), n.dispatchEvent(new CustomEvent("mkNavigate")) } const i = r => { const { url: s } = r.detail; t(s) }; return n.addEventListener(jy, i), { destroy() { n.removeEventListener(jy, i) } } } const Bbe = n => ({}), Gy = n => ({}), Ube = n => ({}), xy = n => ({}); function Hbe(n) { let e; return { c() { e = L("amp-playback-controls-skip"), this.h() }, l(t) { e = T(t, "AMP-PLAYBACK-CONTROLS-SKIP", { direction: !0, fallbackSeconds: !0, class: !0 }), E(e).forEach(_), this.h() }, h() { Xe(e, "direction", "forward"), Xe(e, "fallbackSeconds", 30), Xe(e, "class", "svelte-1p50eny") }, m(t, i) { I(t, e, i) }, d(t) { t && _(e) } } } function $be(n) { let e; return { c() { e = L("amp-playback-controls-item-skip"), this.h() }, l(t) { e = T(t, "AMP-PLAYBACK-CONTROLS-ITEM-SKIP", { direction: !0 }), E(e).forEach(_), this.h() }, h() { Xe(e, "direction", "next") }, m(t, i) { I(t, e, i) }, d(t) { t && _(e) } } } function ew(n) { let e; const t = n[9]["lcd-action-right"], i = We(t, n, n[8], Gy); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 256) && Je(i, t, r, r[8], e ? Ke(t, r[8], s, Bbe) : Ye(r[8]), Gy) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function Vbe(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h; function m(C, P) { return C[5] === "next" ? $be : Hbe } let v = m(n), b = v(n); const y = n[9]["right-content-compact"], k = We(y, n, n[8], xy); let S = n[1] && ew(n); return { c() { e = L("div"), t = L("amp-lcd"), i = L("div"), r = L("div"), s = L("amp-playback-controls-play"), o = Y(), b.c(), a = Y(), l = L("div"), u = L("div"), k && k.c(), c = Y(), S && S.c(), this.h() }, l(C) { e = T(C, "DIV", { class: !0, "data-testid": !0 }); var P = E(e); t = T(P, "AMP-LCD", { realm: !0, "show-artwork-overlay": !0, "artwork-button-label": !0 }); var M = E(t); i = T(M, "DIV", { slot: !0, class: !0, "data-testid": !0 }); var R = E(i); r = T(R, "DIV", { class: !0 }); var F = E(r); s = T(F, "AMP-PLAYBACK-CONTROLS-PLAY", {}), E(s).forEach(_), o = X(F), b.l(F), F.forEach(_), a = X(R), l = T(R, "DIV", { class: !0 }); var N = E(l); u = T(N, "DIV", { class: !0 }); var O = E(u); k && k.l(O), O.forEach(_), N.forEach(_), R.forEach(_), c = X(M), S && S.l(M), M.forEach(_), P.forEach(_), this.h() }, h() { p(r, "class", "chrome-player__compact-controls-base chrome-player__compact-controls-base--collapsed svelte-1p50eny"), p(u, "class", "right-content-compact svelte-1p50eny"), p(l, "class", "chrome-player__compact-controls-app-additions svelte-1p50eny"), p(i, "slot", "lcd-right-content"), p(i, "class", "chrome-player__playback-controls chrome-player__playback-controls--compact svelte-1p50eny"), p(i, "data-testid", "lcd-right-content"), Xe(t, "realm", n[0]), Xe(t, "show-artwork-overlay", "true"), Xe(t, "artwork-button-label", n[2]), p(e, "class", "lcd-wrapper drop-reset svelte-1p50eny"), p(e, "data-testid", "player-lcd") }, m(C, P) { I(C, e, P), A(e, t), A(t, i), A(i, r), A(r, s), A(r, o), b.m(r, null), A(i, a), A(i, l), A(l, u), k && k.m(u, null), A(t, c), S && S.m(t, null), n[10](t), f = !0, g || (h = [Me(t, "lcdArtworkClick", n[11]), Ut(d = Js.call(null, e, n[3] && { dropEnabled: !0, onDrop: n[12] }))], g = !0) }, p(C, [P]) { v !== (v = m(C)) && (b.d(1), b = v(C), b && (b.c(), b.m(r, null))), k && k.p && (!f || P & 256) && Je(k, y, C, C[8], f ? Ke(y, C[8], P, Ube) : Ye(C[8]), xy), C[1] ? S ? (S.p(C, P), P & 2 && w(S, 1)) : (S = ew(C), S.c(), w(S, 1), S.m(t, null)) : S && (te(), D(S, 1, 1, () => { S = null }), ne()), (!f || P & 1) && Xe(t, "realm", C[0]), (!f || P & 4) && Xe(t, "artwork-button-label", C[2]), d && Ft(d.update) && P & 8 && d.update.call(null, C[3] && { dropEnabled: !0, onDrop: C[12] }) }, i(C) { f || (w(k, C), w(S), f = !0) }, o(C) { D(k, C), D(S), f = !1 }, d(C) { C && _(e), b.d(), k && k.d(C), S && S.d(), n[10](null), g = !1, Ot(h) } } } function zbe(n, e, t) { let i, { $$slots: r = {}, $$scope: s } = e, { realm: o } = e, { contextualMenuConfig: a = null } = e, { hasBadge: l = !1 } = e, { artworkButtonLabel: u = null } = e, { dropEnabled: c = !1 } = e; const d = It(); let f; function g(v) { wt[v ? "unshift" : "push"](() => { f = v, t(4, f), t(7, a), t(1, l) }) } const h = () => d("launchFullScreenPlayer", { target: f }), m = v => d("dropOnLCD", v); return n.$$set = v => { "realm" in v && t(0, o = v.realm), "contextualMenuConfig" in v && t(7, a = v.contextualMenuConfig), "hasBadge" in v && t(1, l = v.hasBadge), "artworkButtonLabel" in v && t(2, u = v.artworkButtonLabel), "dropEnabled" in v && t(3, c = v.dropEnabled), "$$scope" in v && t(8, s = v.$$scope) }, n.$$.update = () => { n.$$.dirty & 1 && t(5, i = o === "music" ? "next" : "forward"), n.$$.dirty & 146 && f && (t(4, f.contextualMenuConfig = a, f), t(4, f.hasBadge = l, f)) }, [o, l, u, c, f, i, d, a, s, r, g, h, m] } class qbe extends oe { constructor(e) { super(), se(this, e, zbe, Vbe, ye, { realm: 0, contextualMenuConfig: 7, hasBadge: 1, artworkButtonLabel: 2, dropEnabled: 3 }) } } const Wbe = " ", Kbe = ["BUTTON", "INPUT", "OPTION", "SELECT", "TEXTAREA"]; function Jbe(n) { return n && Kbe.includes(n.tagName) } function Ybe(n) { let e, t; return { c: j, l: j, m(i, r) { e || (t = Me(window, "resize", function () { Ft(Cr(n[1], n[0])) && Cr(n[1], n[0]).apply(this, arguments) }), e = !0) }, p(i, [r]) { n = i }, i: j, o: j, d(i) { e = !1, t() } } } function Xbe(n, e, t) { const i = It(); let { resizeThrottleLimit: r = 100 } = e, { resizeTimeoutLimit: s = 250 } = e, o = !1, a; const l = () => { t(3, o = !0), a && clearInterval(a), a = setTimeout(() => t(3, o = !1), s) }; return n.$$set = u => { "resizeThrottleLimit" in u && t(0, r = u.resizeThrottleLimit), "resizeTimeoutLimit" in u && t(2, s = u.resizeTimeoutLimit) }, n.$$.update = () => { n.$$.dirty & 8 && i("resizeUpdate", { isResizing: o }) }, [r, l, s, o] } class Zbe extends oe { constructor(e) { super(), se(this, e, Xbe, Ybe, ye, { resizeThrottleLimit: 0, resizeTimeoutLimit: 2 }) } } var Jp = {}, Qbe = { get exports() { return Jp }, set exports(n) { Jp = n } }, Zu = {}, jbe = { get exports() { return Zu }, set exports(n) { Zu = n } }; (function (n, e) { class t { constructor() { this._events = {} } on(r, s) { return this._events[r] = this._events[r] || [], this._events[r].unshift(s), s } once(r, s) { const o = a => { this.off(r, o), a !== void 0 ? s(a) : s() }; return this.on(r, o) } off(r, s) { if (!this.has(r)) return; if (!s) { delete this._events[r]; return } const o = this._events[r].indexOf(s); o !== -1 && this._events[r].splice(o, 1) } trigger(r, s) { if (this.has(r)) for (let o = this._events[r].length - 1; o >= 0; o--)s !== void 0 ? this._events[r][o](s) : this._events[r][o]() } has(r) { return r in this._events && this._events[r].length !== 0 } destroy() { this._events = null } } t.EventEmitterMicro = t, n.exports = t })(jbe); let Gbe = class { }; var MN = Gbe; let xbe = class { constructor(e, t, i, r, s = !1, o = void 0) { this.epsilon = parseFloat(t), this.snapAtCreation = i, this.initialValue = e, this.target = e, this.current = e, this.previousValue = e, this.isActive = !1, this.key = r, this.round = s, this.suffix = o } update(e, t, i) { this.target = e[0] + t * (e[1] - e[0]), this.previousValue = this.current, this.current += (this.target - this.current) * i; let r = this.delta(this.current, this.target); return r < this.epsilon && (this.current = this.target, r = 0), r > this.epsilon || r === 0 && this.previousValue !== this.current } reconcile(e, t) { return this.initialValue = e[0], this.update(e, t, 1) } needsUpdate() { return this.delta(this.current, this.target) > this.epsilon } delta(e, t) { return Math.abs(e - t) } calculateEpsilon(e, t) { if (e.epsilon) { this.epsilon = e.epsilon; return } let i = this.delta(t[0], t[1]), r = Math.min(i * .001, this.epsilon, .05); this.epsilon = Math.max(r, .001) } set(e) { let t = this.current; this.round && (t = Math.round(t)), this.suffix && (t = t + this.suffix), e[this.key] = t } unset(e) { } }; var wa = xbe; const e2e = function (n) { return n.startsWith("--") ? n : n.replace(/[A-Z]/g, e => "-" + e.toLowerCase()) }; var LN = e2e; const t2e = wa, n2e = LN; let i2e = class extends t2e { constructor(e, t, i, r, s = !1, o = void 0) { r = n2e(r), super(e, t, i, r, s, o) } set(e) { let t = this.current; this.round && (t = Math.round(t)), this.suffix && (t = t + this.suffix), e.setProperty(this.key, t) } unset(e) { e.removeProperty(this.key) } }; var L_ = i2e; const Yp = { GUI_INSTANCE: null, ANIM_INSTANCE: null, VIEWPORT_EMITTER_ELEMENT: void 0, LOCAL_STORAGE_KEYS: { GuiPosition: "anim-ui.position", GroupCollapsedStates: "anim-ui.group-collapsed-states", scrollY: "anim-ui.scrollY-position", path: "anim-ui.path" }, RESIZE_TIMEOUT: -1, BREAKPOINTS: [{ name: "S", mediaQuery: "only screen and (max-width: 734px)" }, { name: "M", mediaQuery: "only screen and (max-width: 1068px)" }, { name: "L", mediaQuery: "only screen and (min-width: 1069px)" }], getBreakpoint: function () { for (let n = 0; n < Yp.BREAKPOINTS.length; n++) { let e = Yp.BREAKPOINTS[n]; if (window.matchMedia(e.mediaQuery).matches) return e.name } }, KeyframeDefaults: { ease: 1, epsilon: .05, preserveState: !1, easeFunctionString: "linear", easeFunction: "linear", hold: !1, snapAtCreation: !1, toggle: !1, breakpointMask: "SMLX", event: "", disabledWhen: [], cssClass: "" }, KeyframeTypes: { Interpolation: 0, InterpolationForward: 1, CSSClass: 2, Event: 3 }, EVENTS: { ON_DOM_KEYFRAMES_CREATED: "ON_DOM_KEYFRAMES_CREATED", ON_DOM_GROUPS_CREATED: "ON_DOM_GROUPS_CREATED", ON_GROUP_CREATED: "ON_GROUP_CREATED", ON_KEYFRAME_UPDATED: "ON_KEYFRAME_UPDATED", ON_TIMELINE_START: "ON_TIMELINE_START", ON_TIMELINE_UPDATE: "ON_TIMELINE_UPDATE", ON_TIMELINE_COMPLETE: "ON_TIMELINE_COMPLETE", ON_CHAPTER_INITIATED: "ON_CHAPTER_INITIATED", ON_CHAPTER_OCCURRED: "ON_CHAPTER_OCCURRED", ON_CHAPTER_COMPLETED: "ON_CHAPTER_COMPLETED" }, PageEvents: { ON_SCROLL: "ON_SCROLL", ON_RESIZE_IMMEDIATE: "ON_RESIZE_IMMEDIATE", ON_RESIZE_DEBOUNCED: "ON_RESIZE_DEBOUNCED", ON_BREAKPOINT_CHANGE: "ON_BREAKPOINT_CHANGE" }, KeyframeJSONReservedWords: ["event", "cssClass", "style", "anchors", "start", "end", "epsilon", "easeFunction", "ease", "breakpointMask", "disabledWhen"], TweenProps: MN, TargetValue: wa, CSSTargetValue: L_, pageMetrics: new function () { this.scrollX = 0, this.scrollY = 0, this.windowWidth = 0, this.windowHeight = 0, this.documentOffsetX = 0, this.documentOffsetY = 0, this.previousBreakpoint = "", this.breakpoint = "" }, KeyframeComparison: function (n, e) { return n.start < e.start ? -1 : n.start > e.start ? 1 : 0 } }; var Is = Yp, Fl = { lerp: function (n, e, t) { return e + (t - e) * n }, map: function (n, e, t, i, r) { return i + (r - i) * (n - e) / (t - e) }, mapClamp: function (n, e, t, i, r) { var s = i + (r - i) * (n - e) / (t - e); return Math.max(i, Math.min(r, s)) }, norm: function (n, e, t) { return (n - e) / (t - e) }, clamp: function (n, e, t) { return Math.max(e, Math.min(t, n)) }, randFloat: function (n, e) { return Math.random() * (e - n) + n }, randInt: function (n, e) { return Math.floor(Math.random() * (e - n) + n) } }; let r2e = class { constructor() { this.linear = function (e) { return e }, this.easeInQuad = function (e) { return e * e }, this.easeOutQuad = function (e) { return e * (2 - e) }, this.easeInOutQuad = function (e) { return e < .5 ? 2 * e * e : -1 + (4 - 2 * e) * e }, this.easeInSin = function (e) { return 1 + Math.sin(Math.PI / 2 * e - Math.PI / 2) }, this.easeOutSin = function (e) { return Math.sin(Math.PI / 2 * e) }, this.easeInOutSin = function (e) { return (1 + Math.sin(Math.PI * e - Math.PI / 2)) / 2 }, this.easeInElastic = function (e) { return e === 0 ? e : (.04 - .04 / e) * Math.sin(25 * e) + 1 }, this.easeOutElastic = function (e) { return .04 * e / --e * Math.sin(25 * e) }, this.easeInOutElastic = function (e) { return (e -= .5) < 0 ? (.02 + .01 / e) * Math.sin(50 * e) : (.02 - .01 / e) * Math.sin(50 * e) + 1 }, this.easeOutBack = function (e) { return e = e - 1, e * e * ((1.70158 + 1) * e + 1.70158) + 1 }, this.easeInCubic = function (e) { return e * e * e }, this.easeOutCubic = function (e) { return --e * e * e + 1 }, this.easeInOutCubic = function (e) { return e < .5 ? 4 * e * e * e : (e - 1) * (2 * e - 2) * (2 * e - 2) + 1 }, this.easeInQuart = function (e) { return e * e * e * e }, this.easeOutQuart = function (e) { return 1 - --e * e * e * e }, this.easeInOutQuart = function (e) { return e < .5 ? 8 * e * e * e * e : 1 - 8 * --e * e * e * e }, this.easeInQuint = function (e) { return e * e * e * e * e }, this.easeOutQuint = function (e) { return 1 + --e * e * e * e * e }, this.easeInOutQuint = function (e) { return e < .5 ? 16 * e * e * e * e * e : 1 + 16 * --e * e * e * e * e } } }; var TN = new r2e; const em = 1e-5, tm = Math.abs, s2e = 5; let Xp = class { constructor(e, t, i, r) { this.cp = new Float32Array(6), this.cp[0] = 3 * e, this.cp[1] = 3 * (i - e) - this.cp[0], this.cp[2] = 1 - this.cp[0] - this.cp[1], this.cp[3] = 3 * t, this.cp[4] = 3 * (r - t) - this.cp[3], this.cp[5] = 1 - this.cp[3] - this.cp[4] } sampleCurveX(e) { return ((this.cp[2] * e + this.cp[1]) * e + this.cp[0]) * e } sampleCurveY(e) { return ((this.cp[5] * e + this.cp[4]) * e + this.cp[3]) * e } sampleCurveDerivativeX(e) { return (3 * this.cp[2] * e + 2 * this.cp[1]) * e + this.cp[0] } solveCurveX(e) { var t, i, r, s, o, a; for (r = e, a = 0; a < s2e; a++) { if (s = this.sampleCurveX(r) - e, tm(s) < em) return r; if (o = this.sampleCurveDerivativeX(r), tm(o) < em) break; r = r - s / o } if (t = 0, i = 1, r = e, r < t) return t; if (r > i) return i; for (; t < i;) { if (s = this.sampleCurveX(r), tm(s - e) < em) return r; e > s ? t = r : i = r, r = (i - t) * .5 + t } return r } solve(e) { return this.sampleCurveY(this.solveCurveX(e)) } }; const o2e = /\d*\.?\d+/g; Xp.fromCSSString = function (n) { let e = n.match(o2e); if (e.length !== 4) throw `UnitBezier could not convert ${n} to cubic-bezier`; let t = e.map(Number), i = new Xp(t[0], t[1], t[2], t[3]); return i.solve.bind(i) }; var a2e = Xp; const { map: l2e } = Fl, nd = {}; let Zp = class { constructor(e, t, i, r) { this.mass = e, this.stiffness = t, this.damping = i, this.initialVelocity = r, this.m_w0 = Math.sqrt(this.stiffness / this.mass), this.m_zeta = this.damping / (2 * Math.sqrt(this.stiffness * this.mass)), this.m_zeta < 1 ? (this.m_wd = this.m_w0 * Math.sqrt(1 - this.m_zeta * this.m_zeta), this.m_A = 1, this.m_B = (this.m_zeta * this.m_w0 + -this.initialVelocity) / this.m_wd) : (this.m_wd = 0, this.m_A = 1, this.m_B = -this.initialVelocity + this.m_w0) } solve(e) { return this.m_zeta < 1 ? e = Math.exp(-e * this.m_zeta * this.m_w0) * (this.m_A * Math.cos(this.m_wd * e) + this.m_B * Math.sin(this.m_wd * e)) : e = (this.m_A + this.m_B * e) * Math.exp(-e * this.m_w0), 1 - e } }; const u2e = /\d*\.?\d+/g; Zp.fromCSSString = function (n) { let e = n.match(u2e); if (e.length !== 4) throw `SpringEasing could not convert ${cssString} to spring params`; let t = e.map(Number), i = new Zp(...t); const r = i.solve.bind(i); let s = 0; function o() { if (nd[n]) return nd[n]; const l = 1 / 6; let u = 0, c; for (; ;)if (s += l, r(s) === 1) { if (u++, u >= 16) { c = s * l; break } } else u = 0; return nd[n] = c, nd[n] } let a = o(); return function (l) { return l === 0 || l === 1 ? l : r(l2e(l, 0, 1, 0, a)) } }; var c2e = Zp; const d2e = function (n) { return n.reduce((e, t) => (e[t] = t, e), {}) }; var T_ = d2e, f2e = function (n, e) { if (typeof n != "string") return n; try { return (e || document).querySelector(n) || document.querySelector(n) } catch (t) { return !1 } }; const g2e = () => Math.random().toString(16).slice(-4); var RN = g2e; const h2e = ["scrollLeft", "scrollTop", "scrollBy", "scrollTo", "currentTime"]; let Qp = ["borderRadius", "bottom", "fontSize", "fontWeight", "height", "left", "lineHeight", "marginBottom", "marginLeft", "marginRight", "marginTop", "maxHeight", "maxWidth", "opacity", "paddingBottom", "paddingLeft", "paddingRight", "paddingTop", "right", "top", "width", "zIndex", "strokeDashoffset"]; Qp.push(...Qp.map(n => n.replace(/[A-Z]/g, e => "-" + e.toLowerCase()))); const m2e = ["x", "y", "z", "scale", "scaleX", "scaleY", "rotation", "rotationX", "rotationY", "rotationZ"], p2e = ["opacity", "z-index", "font-weight", "zIndex", "fontWeight", "scrollLeft", "scrollTop", "scrollBy", "scrollTo", "currentTime"]; var FN = { transformAttributes: m2e, cssAttributes: Qp, domAttributes: h2e, suffixFreeAttributes: p2e }; const Nr = Is, tw = wa, _2e = L_, v2e = Fl, nm = TN, b2e = a2e, y2e = c2e, w2e = T_, k2e = f2e, D2e = LN, S2e = RN, { cssAttributes: C2e, suffixFreeAttributes: P2e, domAttributes: A2e } = FN; let ON = class { constructor(e, t) { this.controller = e, this.anchors = [], this.jsonProps = t, this.ease = e.group.defaultEase, this.easeFunction = nm.linear, this.start = 0, this.end = 0, this.localT = 0, this.curvedT = 0, this.id = 0, this.event = "", this.needsEventDispatch = !1, this.snapAtCreation = !1, this.isEnabled = !1, this.animValues = {}, this.breakpointMask = Nr.KeyframeDefaults.breakpointMask, this.disabledWhen = [], this.keyframeType = Nr.KeyframeTypes.Interpolation, this.hold = !1, this.preserveState = !1, this.markedForRemoval = !1; let i = !1; Object.defineProperty(this, "hidden", { get() { return i }, set(r) { i = r, e.group.keyframesDirty = !0 } }), this.uuid = S2e(), this.destroyed = !1 } destroy() { this.destroyed = !0, this.controller = null, this.disabledWhen = null, this.anchors = null, this.jsonProps = null, this.easeFunction = null, this.animValues = null } remove() { return this.controller && this.controller.removeKeyframe(this) } parseOptions(e) { this.jsonProps = e, e.relativeTo && console.error(`KeyframeError: relativeTo has been removed. Use 'anchors' property instead. Found 'relativeTo':"${e.relativeTo}"`), e.end === void 0 && e.duration === void 0 && (e.end = e.start), e.anchors === "" || !e.anchors ? (this.anchors = [], e.anchors = []) : (this.anchors = [], e.anchors = Array.isArray(e.anchors) ? e.anchors : [e.anchors], e.anchors.forEach((t, i) => { let r = k2e(t, this.controller.group.element); if (!r) { let s = ""; typeof t == "string" && (s = " Provided value was a string, so a failed attempt was made to find anchor with the provided querystring in group.element, or in the document."), console.warn("Keyframe on", this.controller.element, ` failed to find anchor at index ${i} in array`, e.anchors, `. Anchors must be JS Object references, Elements references, or valid query selector strings. ${s}`); return } this.anchors.push(r), this.controller.group.metrics.add(r) })), e.ease ? this.ease = parseFloat(e.ease) : e.ease = this.ease, e.hasOwnProperty("snapAtCreation") ? this.snapAtCreation = e.snapAtCreation : e.snapAtCreation = this.snapAtCreation, e.easeFunction || (e.easeFunction = Nr.KeyframeDefaults.easeFunctionString), e.breakpointMask ? this.breakpointMask = e.breakpointMask : e.breakpointMask = this.breakpointMask, e.disabledWhen ? this.disabledWhen = Array.isArray(e.disabledWhen) ? e.disabledWhen : [e.disabledWhen] : e.disabledWhen = this.disabledWhen, e.hasOwnProperty("hold") ? this.hold = e.hold : e.hold = this.hold, e.hasOwnProperty("preserveState") ? this.preserveState = e.preserveState : e.preserveState = Nr.KeyframeDefaults.preserveState, this.easeFunction = nm[e.easeFunction], nm.hasOwnProperty(e.easeFunction) || (e.easeFunction.includes("bezier") ? this.easeFunction = b2e.fromCSSString(e.easeFunction) : e.easeFunction.includes("spring") ? this.easeFunction = y2e.fromCSSString(e.easeFunction) : console.error("Keyframe parseOptions cannot find 'easeFunction' named '" + e.easeFunction + "'")); for (let t in e) { if (Nr.KeyframeJSONReservedWords.indexOf(t) !== -1) continue; let i = e[t]; if (!Array.isArray(i)) continue; if (i.length === 1 && (i[1] = i[0], i[0] = null), this.controller.tweenProps[t] === void 0 || !this.controller._ownerIsElement) { let s = 0; this.controller._ownerIsElement || (s = this.controller.element[t] || 0); const o = t.startsWith("--"); let a = i[2] || (o || P2e.includes(t) ? void 0 : "px"), l = this.controller.group.anim.plugins.keyframe.reduce((u, c) => u || c.parseProp.call(this, e, t), null); if (!l && this.controller._ownerIsElement) if (o || C2e.includes(t)) { let u = D2e(t), c = e.round || ["zIndex"].includes(u); s = parseFloat(this.controller.getTargetComputedStyle().getPropertyValue(u)), isNaN(s) && (s = 0), l = new _2e(s, Nr.KeyframeDefaults.epsilon, this.snapAtCreation, t, c, a), this.controller.cssAttributes.push(l) } else A2e.includes(t) && (l = new tw(s, Nr.KeyframeDefaults.epsilon, this.snapAtCreation, t, e.round, a), this.controller.domAttributes.push(l)); l || (l = new tw(s, Nr.KeyframeDefaults.epsilon, this.snapAtCreation, t, e.round, a)), this.controller.tweenProps[t] = l } this.animValues[t] = this.controller.group.expressionParser.parseArray(this, i), this.controller.tweenProps[t].calculateEpsilon(e, this.animValues[t]) } this.keyframeType = this.hold ? Nr.KeyframeTypes.InterpolationForward : Nr.KeyframeTypes.Interpolation, e.event && (this.event = e.event) } overwriteProps(e) { this.animValues = {}; let t = Object.assign({}, this.jsonProps, e); this.controller.updateKeyframe(this, t) } updateLocalProgress(e) { if (this.start === this.end || e < this.start || e > this.end) { this.localT = e < this.start ? this.hold ? this.localT : 0 : e > this.end ? 1 : 0, this.curvedT = this.easeFunction(this.localT); return } const t = (e - this.start) / (this.end - this.start), i = this.hold ? this.localT : 0; this.localT = v2e.clamp(t, i, 1), this.curvedT = this.easeFunction(this.localT) } reconcile(e) { this.controller.tweenProps[e].reconcile(this.animValues[e], this.curvedT) && (this.needsEventDispatch || (this.needsEventDispatch = !0, this.controller.keyframesRequiringDispatch.push(this))) } reset(e) { this.localT = e || 0; let t = this.ease; this.ease = 1; for (let i in this.animValues) this.reconcile(i); this.ease = t } onDOMRead(e) { let t = this.controller.tweenProps[e].update(this.animValues[e], this.curvedT, this.ease); return this.event === "" || this.needsEventDispatch || t && (this.needsEventDispatch = !0, this.controller.keyframesRequiringDispatch.push(this)), t } isInRange(e) { return e >= this.start && e <= this.end } setEnabled(e) { e = e || w2e(Array.from(document.documentElement.classList)); let t = this.breakpointMask.indexOf(Nr.pageMetrics.breakpoint) !== -1, i = !1; return this.disabledWhen.length > 0 && (i = this.disabledWhen.some(r => typeof e[r] < "u")), this.isEnabled = t && !i, this.isEnabled } evaluateConstraints() { this.start = this.controller.group.expressionParser.parseTimeValue(this, this.jsonProps.start), this.end = this.controller.group.expressionParser.parseTimeValue(this, this.jsonProps.end), this.evaluateInterpolationConstraints() } evaluateInterpolationConstraints() { for (let e in this.animValues) { let t = this.jsonProps[e]; this.animValues[e] = this.controller.group.expressionParser.parseArray(this, t) } } }; ON.DATA_ATTRIBUTE = "data-anim-tween"; var eh = ON; const nw = eh, im = Is, E2e = wa; let th = class Ko extends nw { constructor(e, t) { super(e, t), this.keyframeType = im.KeyframeTypes.CSSClass, this._triggerType = Ko.TRIGGER_TYPE_CSS_CLASS, this.cssClass = "", this.friendlyName = "", this.style = { on: null, off: null }, this.toggle = im.KeyframeDefaults.toggle, this.isApplied = !1 } parseOptions(e) { if (!this.controller._ownerIsElement) throw new TypeError("CSS Keyframes cannot be applied to JS Objects"); if (e.x = void 0, e.y = void 0, e.z = void 0, e.scale = void 0, e.scaleX = void 0, e.scaleY = void 0, e.rotationX = void 0, e.rotationY = void 0, e.rotationZ = void 0, e.rotation = void 0, e.opacity = void 0, e.hold = void 0, e.toggle !== void 0 && (this.toggle = e.toggle), e.cssClass !== void 0) this._triggerType = Ko.TRIGGER_TYPE_CSS_CLASS, this.cssClass = e.cssClass, this.friendlyName = "." + this.cssClass, this.controller.tweenProps.targetClasses === void 0 && (this.controller.tweenProps.targetClasses = { add: [], remove: [] }); else if (e.style !== void 0 && this.isValidStyleProperty(e.style)) { if (this._triggerType = Ko.TRIGGER_TYPE_STYLE_PROPERTY, this.style = e.style, this.friendlyName = "style", this.toggle = this.style.off !== void 0 ? !0 : this.toggle, this.toggle && this.style.off === void 0) { this.style.off = {}; for (let t in this.style.on) this.style.off[t] = "" } this.controller.tweenProps.targetStyles === void 0 && (this.controller.tweenProps.targetStyles = {}) } else throw new TypeError("KeyframeCSSClass no 'cssClass` property found. If using `style` property its also missing or invalid"); if (e.end === void 0 && (e.end = e.start), e.toggle = this.toggle, this._triggerType === Ko.TRIGGER_TYPE_CSS_CLASS) this.isApplied = this.controller.element.classList.contains(this.cssClass); else { let t = getComputedStyle(this.controller.element); this.isApplied = !0; for (let i in this.style.on) if (t[i] !== this.style.on[i]) { this.isApplied = !1; break } } nw.prototype.parseOptions.call(this, e), this.animValues[this.friendlyName] = [0, 0], this.controller.tweenProps[this.friendlyName] === void 0 && (this.controller.tweenProps[this.friendlyName] = new E2e(0, 1, !1, this.friendlyName)), this.keyframeType = im.KeyframeTypes.CSSClass } updateLocalProgress(e) { this.isApplied && !this.toggle || (this.start !== this.end ? !this.isApplied && e >= this.start && e <= this.end ? this._apply() : this.isApplied && this.toggle && (e < this.start || e > this.end) && this._unapply() : !this.isApplied && e >= this.start ? this._apply() : this.isApplied && this.toggle && e < this.start && this._unapply()) } _apply() { if (this._triggerType === Ko.TRIGGER_TYPE_CSS_CLASS) this.controller.tweenProps.targetClasses.add.push(this.cssClass), this.controller.needsClassUpdate = !0; else { for (let e in this.style.on) this.controller.tweenProps.targetStyles[e] = this.style.on[e]; this.controller.needsStyleUpdate = !0 } this.isApplied = !0 } _unapply() { if (this._triggerType === Ko.TRIGGER_TYPE_CSS_CLASS) this.controller.tweenProps.targetClasses.remove.push(this.cssClass), this.controller.needsClassUpdate = !0; else { for (let e in this.style.off) this.controller.tweenProps.targetStyles[e] = this.style.off[e]; this.controller.needsStyleUpdate = !0 } this.isApplied = !1 } isValidStyleProperty(e) { if (!e.hasOwnProperty("on")) return !1; if (typeof e.on != "object") throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:'hidden', otherProperty: 'value'}}"); if (this.toggle && e.hasOwnProperty("off") && typeof e.off != "object") throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:'hidden', otherProperty: 'value'}}"); return !0 } reconcile(e) { } onDOMRead(e) { } evaluateInterpolationConstraints() { } }; th.TRIGGER_TYPE_CSS_CLASS = 0; th.TRIGGER_TYPE_STYLE_PROPERTY = 1; th.DATA_ATTRIBUTE = "data-anim-classname"; var R_ = th; const I2e = eh, iw = Is, M2e = wa; let NN = class extends I2e { constructor(e, t) { super(e, t), this.keyframeType = iw.KeyframeTypes.Event, this.isApplied = !1, this.hasDuration = !1, this.isCurrentlyInRange = !1 } parseOptions(e) { e.x = void 0, e.y = void 0, e.scale = void 0, e.scaleX = void 0, e.scaleY = void 0, e.rotation = void 0, e.style = void 0, e.cssClass = void 0, e.rotation = void 0, e.opacity = void 0, e.hold = void 0, this.event = e.event, this.animValues[this.event] = [0, 0], typeof this.controller.tweenProps[this.event] > "u" && (this.controller.tweenProps[this.event] = new M2e(0, 1, !1, this.event)), super.parseOptions(e), this.keyframeType = iw.KeyframeTypes.Event } updateLocalProgress(e) { if (this.hasDuration) { let t = this.isCurrentlyInRange, i = e >= this.start && e <= this.end; if (t === i) return; this.isCurrentlyInRange = i, i && !t ? this._trigger(this.event + ":enter") : t && !i && this._trigger(this.event + ":exit"); return } !this.isApplied && e >= this.start ? (this.isApplied = !0, this._trigger(this.event)) : this.isApplied && e < this.start && (this.isApplied = !1, this._trigger(this.event + ":reverse")) } _trigger(e) { this.controller.eventObject.event = e, this.controller.eventObject.keyframe = this, this.controller.trigger(e, this.controller.eventObject) } evaluateConstraints() { super.evaluateConstraints(), this.hasDuration = this.start !== this.end } reset(e) { this.isApplied = !1, this.isCurrentlyInRange = !1, super.reset(e) } onDOMRead(e) { } reconcile(e) { } evaluateInterpolationConstraints() { } }; NN.DATA_ATTRIBUTE = "data-anim-event"; var BN = NN; const L2e = MN; let T2e = class { constructor(e, t, i = !1) { this.isGroup = i, this.group = e, this.controller = t, this.controllers = [], this.tweenProps = new L2e } }; var UN = T2e; let R2e = class { constructor() { this.local = 0, this.localUnclamped = 0, this.lastPosition = 0 } }; var F2e = R2e; let O2e = class { constructor(e, t) { this.a = e.top - t, this.a < 0 && (this.a = e.top), this.b = e.top, this.d = e.bottom, this.c = Math.max(this.d - t, this.b) } }; var N2e = O2e; const id = Is, Ta = (n, e) => n == null ? e : n; let B2e = class { constructor() { this.clear() } clear() { this._metrics = new WeakMap } destroy() { this._metrics = null } add(e) { let t = this._metrics.get(e); if (t) return t; let i = new U2e(e); return this._metrics.set(e, i), this._refreshMetrics(e, i) } get(e) { return this._metrics.get(e) } refreshCollection(e) { e.forEach(t => this._refreshMetrics(t, null)) } refreshMetrics(e) { return this._refreshMetrics(e) } _refreshMetrics(e, t) { if (t = t || this._metrics.get(e), !(e instanceof Element)) return t.width = Ta(e.width, 0), t.height = Ta(e.height, 0), t.top = Ta(e.top, Ta(e.y, 0)), t.left = Ta(e.left, Ta(e.x, 0)), t.right = t.left + t.width, t.bottom = t.top + t.height, t; if (e.offsetWidth === void 0) { let r = e.getBoundingClientRect(); return t.width = r.width, t.height = r.height, t.top = id.pageMetrics.scrollY + r.top, t.left = id.pageMetrics.scrollX + r.left, t.right = t.left + t.width, t.bottom = t.top + t.height, t } t.width = e.offsetWidth, t.height = e.offsetHeight, t.top = id.pageMetrics.documentOffsetY, t.left = id.pageMetrics.documentOffsetX; let i = e; for (; i;)t.top += i.offsetTop, t.left += i.offsetLeft, i = i.offsetParent; return t.right = t.left + t.width, t.bottom = t.top + t.height, t } }, U2e = class { constructor(e) { this.top = 0, this.bottom = 0, this.left = 0, this.right = 0, this.height = 0, this.width = 0 } toString() { return `top:${this.top}, bottom:${this.bottom}, left:${this.left}, right:${this.right}, height:${this.height}, width:${this.width}` } toObject() { return { top: this.top, bottom: this.bottom, left: this.left, right: this.right, height: this.height, width: this.width } } }; var HN = B2e; const rw = Is, sw = Fl, ow = TN, jp = {}, Ds = { smoothstep: (n, e, t) => (t = Ds.clamp((t - n) / (e - n), 0, 1), t * t * (3 - 2 * t)), deg: n => n * 180 / Math.PI, rad: n => n * Math.PI / 180, random: (n, e) => Math.random() * (e - n) + n, atan: Math.atan2 }; Object.getOwnPropertyNames(Math).forEach(n => Ds[n] ? null : Ds[n.toLowerCase()] = Math[n]); Object.getOwnPropertyNames(sw).forEach(n => Ds[n] ? null : Ds[n.toLowerCase()] = sw[n]); Object.getOwnPropertyNames(ow).forEach(n => Ds[n] = ow[n]); let wr = null; const St = { ANCHOR_CONST: "a", ALPHA: "ALPHA", LPAREN: "(", RPAREN: ")", PLUS: "PLUS", MINUS: "MINUS", MUL: "MUL", DIV: "DIV", INTEGER_CONST: "INTEGER_CONST", FLOAT_CONST: "FLOAT_CONST", COMMA: ",", EOF: "EOF" }, Mi = { NUMBERS: /\d|\d\.\d/, DIGIT: /\d/, OPERATOR: /[-+*/]/, PAREN: /[()]/, WHITE_SPACE: /\s/, ALPHA: /[a-zA-Z]|%/, ALPHANUMERIC: /[a-zA-Z0-9]/, OBJECT_UNIT: /^(t|l|b|r|%w|%h|%|h|w)$/, GLOBAL_METRICS_UNIT: /^(px|vh|vw)$/, ANY_UNIT: /^(t|l|b|r|%w|%h|%|h|w|px|vh|vw|rad|deg)$/, MATH_FUNCTION: new RegExp(`\\b(${Object.keys(Ds).join("|")})\\b`, "i") }, Ld = function (n, e, t, i = "") { let r = e.slice(Math.max(t, 0), Math.min(e.length, t + 3)), s = new Error(`Expression Error. ${n} in expression "${e}", near "${r}"`); throw console.error(s.message, wr ? wr.keyframe || wr.target : ""), s }, rm = { round: 1, clamp: 3, lerp: 3, random: 2, atan: 2, floor: 1, ceil: 1, abs: 1, cos: 1, sin: 1, smoothstep: 3, rad: 1, deg: 1, pow: 2, calc: 1 }; let ai = class { constructor(e, t) { this.type = e, this.value = t } }; ai.ONE = new ai("100", 100); ai.EOF = new ai(St.EOF, null); let ka = class { constructor(e) { this.type = e } }, aw = class extends ka { constructor(e, t) { super("UnaryOp"), this.token = this.op = e, this.expr = t } }, lw = class extends ka { constructor(e, t, i) { super("BinOp"), this.left = e, this.op = t, this.right = i } }, H2e = class extends ka { constructor(e, t) { if (super("MathOp"), this.op = e, this.list = t, rm[e.value] && t.length !== rm[e.value]) throw new Error(`Incorrect number of arguments for '${e.value}'. Received ${t.length}, expected ${rm[e.value]}`) } }, Zl = class extends ka { constructor(e) { super("Num"), this.token = e, this.value = e.value } }, rd = class extends ka { constructor(e, t, i) { super("RefValue"), this.num = e, this.ref = t, this.unit = i } }, $2e = class extends ka { constructor(e, t) { super("CSSValue"), this.ref = e, this.propertyName = t } }, V2e = class extends ka { constructor(e, t) { super("PropValue"), this.ref = e, this.propertyName = t } }, z2e = class { constructor(e) { this.text = e, this.pos = 0, this.char = this.text[this.pos], this.tokens = []; let t; for (; (t = this.getNextToken()) && t !== ai.EOF;)this.tokens.push(t); this.tokens.push(t) } advance() { this.char = this.text[++this.pos] } skipWhiteSpace() { for (; this.char != null && Mi.WHITE_SPACE.test(this.char);)this.advance() } name() { let e = ""; for (; this.char != null && Mi.ALPHA.test(this.char);)e += this.char, this.advance(); return new ai(St.ALPHA, e) } number() { let e = ""; for (this.char === "." && (e += this.char, this.advance()); this.char != null && Mi.DIGIT.test(this.char);)e += this.char, this.advance(); if (this.char != null && this.char === ".") for (e.includes(".") && Ld("Number appears to contain 2 decimal points", this.text, this.pos), e += this.char, this.advance(); this.char != null && Mi.DIGIT.test(this.char);)e += this.char, this.advance(); return e === "." && Ld("Attempted to parse a number, but found only a decimal point", this.text, this.pos), e.includes(".") ? new ai(St.FLOAT_CONST, parseFloat(e)) : new ai(St.INTEGER_CONST, parseInt(e)) } getNextToken() { for (; this.char != null;) { if (Mi.WHITE_SPACE.test(this.char)) { this.skipWhiteSpace(); continue } if (this.char === "." || Mi.DIGIT.test(this.char)) return this.number(); if (this.char === ",") return this.advance(), new ai(St.COMMA, ","); if (Mi.OPERATOR.test(this.char)) { let e = "", t = this.char; switch (t) { case "+": e = St.PLUS; break; case "-": e = St.MINUS; break; case "*": e = St.MUL; break; case "/": e = St.DIV; break }return this.advance(), new ai(e, t) } if (Mi.PAREN.test(this.char)) { let e = "", t = this.char; switch (t) { case "(": e = St.LPAREN; break; case ")": e = St.RPAREN; break }return this.advance(), new ai(e, t) } if (Mi.ALPHA.test(this.char)) return this.name(); Ld(`Unexpected character "${this.char}"`, this.text, this.pos) } return ai.EOF } }, q2e = class { constructor(e) { this.lexer = e, this.pos = 0 } get currentToken() { return this.lexer.tokens[this.pos] } error(e, t = "") { Ld(e, t, this.lexer.text, this.pos) } consume(e) { let t = this.currentToken; return t.type === e ? this.pos += 1 : this.error(`Invalid token ${this.currentToken.value}, expected ${e}`), t } consumeList(e) { e.includes(this.currentToken) ? this.pos += 1 : this.error(`Invalid token ${this.currentToken.value}, expected ${tokenType}`) } expr() { let e = this.term(); for (; this.currentToken.type === St.PLUS || this.currentToken.type === St.MINUS;) { const t = this.currentToken; switch (t.value) { case "+": this.consume(St.PLUS); break; case "-": this.consume(St.MINUS); break }e = new lw(e, t, this.term()) } return e } term() { let e = this.factor(); for (; this.currentToken.type === St.MUL || this.currentToken.type === St.DIV;) { const t = this.currentToken; switch (t.value) { case "*": this.consume(St.MUL); break; case "/": this.consume(St.DIV); break }e = new lw(e, t, this.factor()) } return e } factor() { if (this.currentToken.type === St.PLUS) return new aw(this.consume(St.PLUS), this.factor()); if (this.currentToken.type === St.MINUS) return new aw(this.consume(St.MINUS), this.factor()); if (this.currentToken.type === St.INTEGER_CONST || this.currentToken.type === St.FLOAT_CONST) { let e = new Zl(this.currentToken); if (this.pos += 1, Mi.OPERATOR.test(this.currentToken.value) || this.currentToken.type === St.RPAREN || this.currentToken.type === St.COMMA || this.currentToken.type === St.EOF) return e; if (this.currentToken.type === St.ALPHA && this.currentToken.value === St.ANCHOR_CONST) return this.consume(St.ALPHA), new rd(e, this.anchorIndex(), this.unit(Mi.ANY_UNIT)); if (this.currentToken.type === St.ALPHA) return this.currentToken.value === "%a" && this.error("%a is invalid, try removing the %"), new rd(e, null, this.unit()); this.error("Expected a scaling unit type", "Such as 'h' / 'w'") } else { if (Mi.OBJECT_UNIT.test(this.currentToken.value)) return new rd(new Zl(ai.ONE), null, this.unit()); if (this.currentToken.value === St.ANCHOR_CONST) { this.consume(St.ALPHA); const e = this.anchorIndex(); if (Mi.OBJECT_UNIT.test(this.currentToken.value)) return new rd(new Zl(ai.ONE), e, this.unit()) } else if (this.currentToken.type === St.ALPHA) { if (this.currentToken.value === "calc") return this.consume(St.ALPHA), this.expr(); if (this.currentToken.value === "css" || this.currentToken.value === "var" || this.currentToken.value === "prop") { const e = this.currentToken.value !== "prop" ? $2e : V2e; this.consume(St.ALPHA), this.consume(St.LPAREN); const t = this.propertyName(); let i = null; return this.currentToken.type === St.COMMA && (this.consume(St.COMMA), this.consume(St.ALPHA), i = this.anchorIndex()), this.consume(St.RPAREN), new e(i, t) } else if (Mi.MATH_FUNCTION.test(this.currentToken.value)) { const e = this.currentToken.value, t = e.toLowerCase(); if (typeof Ds[t] == "number") return this.consume(St.ALPHA), new Zl(new ai(St.ALPHA, Ds[t])); const i = ai[e] || new ai(e, e), r = []; this.consume(St.ALPHA), this.consume(St.LPAREN); let s = null; do this.currentToken.value === St.COMMA && this.consume(St.COMMA), s = this.expr(), r.push(s); while (this.currentToken.value === St.COMMA); return this.consume(St.RPAREN), new H2e(i, r) } } else if (this.currentToken.type === St.LPAREN) { this.consume(St.LPAREN); let e = this.expr(); return this.consume(St.RPAREN), e } } this.error(`Unexpected token ${this.currentToken.value}`) } propertyName() { let e = ""; for (; this.currentToken.type === St.ALPHA || this.currentToken.type === St.MINUS;)e += this.currentToken.value, this.pos += 1; return e } unit(e = Mi.ANY_UNIT) { const t = this.currentToken; if (t.type === St.ALPHA && e.test(t.value)) return this.consume(St.ALPHA), new ai(St.ALPHA, t.value = t.value.replace(/%(h|w)/, "$1").replace("%", "h")); this.error("Expected unit type") } anchorIndex() { const e = this.currentToken; if (e.type === St.INTEGER_CONST) return this.consume(St.INTEGER_CONST), new Zl(e); this.error("Invalid anchor reference", ". Should be something like a0, a1, a2") } parse() { const e = this.expr(); return this.currentToken !== ai.EOF && this.error(`Unexpected token ${this.currentToken.value}`), e } }, $N = class Gp { constructor(e) { this.parser = e, this.root = e.parse() } visit(e) { let t = this[e.type]; if (!t) throw new Error(`No visit method named, ${t}`); return t.call(this, e) } BinOp(e) { switch (e.op.type) { case St.PLUS: return this.visit(e.left) + this.visit(e.right); case St.MINUS: return this.visit(e.left) - this.visit(e.right); case St.MUL: return this.visit(e.left) * this.visit(e.right); case St.DIV: return this.visit(e.left) / this.visit(e.right) } } RefValue(e) { let t = this.unwrapReference(e), i = e.unit.value, r = e.num.value; const s = wr.metrics.get(t); switch (i) { case "h": return r * .01 * s.height; case "t": return r * .01 * s.top; case "vh": return r * .01 * rw.pageMetrics.windowHeight; case "vw": return r * .01 * rw.pageMetrics.windowWidth; case "px": return r; case "w": return r * .01 * s.width; case "b": return r * .01 * s.bottom; case "l": return r * .01 * s.left; case "r": return r * .01 * s.right; case "rad": return r * 180 / Math.PI; case "deg": return r } } PropValue(e) { return (e.ref === null ? wr.target : wr.anchors[e.ref.value])[e.propertyName] } CSSValue(e) { let t = this.unwrapReference(e); const i = getComputedStyle(t).getPropertyValue(e.propertyName); return i === "" ? 0 : Gp.Parse(i).execute(wr) } Num(e) { return e.value } UnaryOp(e) { if (e.op.type === St.PLUS) return +this.visit(e.expr); if (e.op.type === St.MINUS) return -this.visit(e.expr) } MathOp(e) { let t = e.list.map(i => this.visit(i)); return Ds[e.op.value].apply(null, t) } unwrapReference(e) { return e.ref === null ? wr.target : (e.ref.value >= wr.anchors.length && console.error(`Not enough anchors supplied for expression ${this.parser.lexer.text}`, wr.target), wr.anchors[e.ref.value]) } execute(e) { return wr = e, this.visit(this.root) } static Parse(e) { return jp[e] || (jp[e] = new Gp(new q2e(new z2e(e)))) } }; $N.programs = jp; var W2e = $N; const VN = W2e, sd = new HN; let F_ = class xp { constructor(e) { this.group = e, this.data = { target: null, anchors: null, metrics: this.group.metrics } } parseArray(e, t) { return [this.parseExpression(e, t[0]), this.parseExpression(e, t[1])] } parseExpression(e, t) { if (t == null) return null; if (typeof t == "number") return t; if (typeof t != "string") throw `Expression must be a string, received ${typeof t}: ${t}`; return this.data.target = e.controller.element, this.data.anchors = e.anchors, this.data.keyframe = e.keyframe, this.group.anim.plugins.parser.reduce((r, s) => r || s.parseExpression.call(this, e, t), null) || xp._parse(t, this.data) } parseTimeValue(e, t) { if (typeof t == "number") return t; let i = this.group.expressionParser.parseExpression(e, t); return this.group.convertScrollPositionToTValue(i) } destroy() { this.group = null } static parse(e, t) { return t = t || {}, t && (sd.clear(), t.target && sd.add(t.target), t.anchors && t.anchors.forEach(i => sd.add(i))), t.metrics = sd, xp._parse(e, t) } static _parse(e, t) { return VN.Parse(e).execute(t) } }; F_.programs = VN.programs; typeof window < "u" && (window.ExpressionParser = F_); var K2e = F_; let J2e = class { constructor(e) { this.controller = e, this.element = this.controller.element, this.keyframe = null, this.event = "", this.tweenProps = this.controller.tweenProps } }; var Y2e = J2e; const X2e = Is, Z2e = eh, Q2e = BN, j2e = R_, uw = function (n) { for (let e in n) { let t = n[e]; if (X2e.KeyframeJSONReservedWords.indexOf(e) === -1 && Array.isArray(t)) return !0 } return !1 }, G2e = function (n) { if (n.cssClass !== void 0 || n.style !== void 0) { if (uw(n)) throw "CSS Keyframes cannot tween values, please use multiple keyframes instead"; return j2e } if (uw(n)) return Z2e; if (n.event) return Q2e; throw delete n.anchors, `Could not determine tween type based on ${JSON.stringify(n)}` }; var x2e = G2e; typeof window < "u" && (window.DOMMatrix = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix); const Ql = 180 / Math.PI, Yo = n => Math.round(n * 1e6) / 1e6; function sm(n) { return Math.sqrt(n[0] * n[0] + n[1] * n[1] + n[2] * n[2]) } function om(n, e) { return e === 0 ? Array.from(n) : [n[0] / e, n[1] / e, n[2] / e] } function od(n, e) { return n[0] * e[0] + n[1] * e[1] + n[2] * e[2] } function eye(n, e) { return [n[1] * e[2] - n[2] * e[1], n[2] * e[0] - n[0] * e[2], n[0] * e[1] - n[1] * e[0]] } function am(n, e, t, i) { return [n[0] * t + e[0] * i, n[1] * t + e[1] * i, n[2] * t + e[2] * i] } let tye = function (n) { const [e, t, i, r] = n, s = r * r, o = e * e, a = t * t, l = i * i, u = e * t + i * r, c = s + o + a + l; return u > .49999 * c ? [0, 2 * Math.atan2(e, r) * Ql, 90] : u < -.49999 * c ? [0, -2 * Math.atan2(e, r) * Ql, -90] : [Yo(Math.atan2(2 * e * r - 2 * t * i, 1 - 2 * o - 2 * l) * Ql), Yo(Math.atan2(2 * t * r - 2 * e * i, 1 - 2 * a - 2 * l) * Ql), Yo(Math.asin(2 * e * t + 2 * i * r) * Ql)] }; function nye(n) { const e = new Float32Array(4), t = new Float32Array(3), i = new Float32Array(3), r = new Float32Array(3); r[0] = n[3][0], r[1] = n[3][1], r[2] = n[3][2]; const s = new Array(3); for (let l = 0; l < 3; l++)s[l] = n[l].slice(0, 3); t[0] = sm(s[0]), s[0] = om(s[0], t[0]), i[0] = od(s[0], s[1]), s[1] = am(s[1], s[0], 1, -i[0]), t[1] = sm(s[1]), s[1] = om(s[1], t[1]), i[0] /= t[1], i[1] = od(s[0], s[2]), s[2] = am(s[2], s[0], 1, -i[1]), i[2] = od(s[1], s[2]), s[2] = am(s[2], s[1], 1, -i[2]), t[2] = sm(s[2]), s[2] = om(s[2], t[2]), i[1] /= t[2], i[2] /= t[2]; const o = eye(s[1], s[2]); if (od(s[0], o) < 0) for (let l = 0; l < 3; l++)t[l] *= -1, s[l][0] *= -1, s[l][1] *= -1, s[l][2] *= -1; e[0] = .5 * Math.sqrt(Math.max(1 + s[0][0] - s[1][1] - s[2][2], 0)), e[1] = .5 * Math.sqrt(Math.max(1 - s[0][0] + s[1][1] - s[2][2], 0)), e[2] = .5 * Math.sqrt(Math.max(1 - s[0][0] - s[1][1] + s[2][2], 0)), e[3] = .5 * Math.sqrt(Math.max(1 + s[0][0] + s[1][1] + s[2][2], 0)), s[2][1] > s[1][2] && (e[0] = -e[0]), s[0][2] > s[2][0] && (e[1] = -e[1]), s[1][0] > s[0][1] && (e[2] = -e[2]); let a; return e[0] < .001 && e[0] >= 0 && e[1] < .001 && e[1] >= 0 ? a = [0, 0, Yo(Math.atan2(s[0][1], s[0][0]) * 180 / Math.PI)] : a = tye(e), { translation: r, rotation: a, eulerRotation: a, scale: [Yo(t[0]), Yo(t[1]), Yo(t[2])] } } const iye = function (n) { n instanceof Element && (n = String(getComputedStyle(n).transform).trim()); let e = n instanceof DOMMatrix ? n : new DOMMatrix(n); const t = new Array(4); for (let i = 1; i < 5; i++) { const r = t[i - 1] = new Float32Array(4); for (let s = 1; s < 5; s++)r[s - 1] = e[`m${i}${s}`] } return nye(t) }; var rye = iye, lm, cw; function zN() { if (cw) return lm; cw = 1; function n() { this._events = {} } let e = n.prototype; return e.on = function (t, i) { return this._events[t] = this._events[t] || [], this._events[t].unshift(i), i }, e.once = function (t, i) { let r = this; function s(o) { r.off(t, s), o !== void 0 ? i(o) : i() } return this.on(t, s) }, e.off = function (t, i) { if (!this.has(t)) return; if (arguments.length === 1) { this._events[t] = null, delete this._events[t]; return } let r = this._events[t].indexOf(i); r !== -1 && this._events[t].splice(r, 1) }, e.trigger = function (t, i) { if (this.has(t)) for (let r = this._events[t].length - 1; r >= 0; r--)i !== void 0 ? this._events[t][r](i) : this._events[t][r]() }, e.has = function (t) { return !(!(t in this._events) || this._events[t].length === 0) }, e.destroy = function () { for (let t in this._events) this._events[t] = null; this._events = null }, lm = n, lm } var um, dw; function sye() { return dw || (dw = 1, um = { EventEmitterMicro: zN() }), um } var cm, fw; function oye() { if (fw) return cm; fw = 1; var n = typeof window < "u" ? window : {}, e = "AC", t = "SharedInstance", i = n[e], r = function () { var s = {}; return { get: function (o, a) { var l = null; return s[o] && s[o][a] && (l = s[o][a]), l }, set: function (o, a, l) { return s[o] || (s[o] = {}), typeof l == "function" ? s[o][a] = new l : s[o][a] = l, s[o][a] }, share: function (o, a, l) { var u = this.get(o, a); return u || (u = this.set(o, a, l)), u }, remove: function (o, a) { var l = typeof a; if (l === "string" || l === "number") { if (!s[o] || !s[o][a]) return; s[o][a] = null; return } s[o] && (s[o] = null) } } }(); return i || (i = n[e] = {}), i[t] || (i[t] = r), cm = i[t], cm } var dm, gw; function qN() { return gw || (gw = 1, dm = { SharedInstance: oye() }), dm } var fm, hw; function WN() { return hw || (hw = 1, fm = { majorVersionNumber: "3.x" }), fm } var gm, mw; function aye() { if (mw) return gm; mw = 1; var n, e = zN(); function t(i) { this._reset(), this.updatePhases(), this.eventEmitter = new e, this._willRun = !1, this._totalSubscribeCount = -1; var r = null, s = null; typeof window < "u" ? (r = window.requestAnimationFrame, s = window.cancelAnimationFrame) : r = s = function () { }, this._requestAnimationFrame = r, this._cancelAnimationFrame = s, this._boundOnAnimationFrame = this._onAnimationFrame.bind(this), this._boundOnExternalAnimationFrame = this._onExternalAnimationFrame.bind(this) } return n = t.prototype, n.frameRequestedPhase = "requested", n.startPhase = "start", n.runPhases = ["update", "external", "draw"], n.endPhase = "end", n.disabledPhase = "disabled", n.beforePhaseEventPrefix = "before:", n.afterPhaseEventPrefix = "after:", n.subscribe = function (i, r) { return this._totalSubscribeCount++, this._nextFrameSubscribers[i.id] || (r ? this._nextFrameSubscribersOrder.unshift(i.id) : this._nextFrameSubscribersOrder.push(i.id), this._nextFrameSubscribers[i.id] = i, this._nextFrameSubscriberArrayLength++, this._nextFrameSubscriberCount++, this._run()), this._totalSubscribeCount }, n.subscribeImmediate = function (i, r) { return this._totalSubscribeCount++, this._subscribers[i.id] || (r ? this._subscribersOrder.splice(this._currentSubscriberIndex + 1, 0, i.id) : this._subscribersOrder.unshift(i.id), this._subscribers[i.id] = i, this._subscriberArrayLength++, this._subscriberCount++), this._totalSubscribeCount }, n.unsubscribe = function (i) { return this._nextFrameSubscribers[i.id] ? (this._nextFrameSubscribers[i.id] = null, this._nextFrameSubscriberCount--, this._nextFrameSubscriberCount === 0 && this._cancel(), !0) : !1 }, n.getSubscribeID = function () { return this._totalSubscribeCount += 1 }, n.destroy = function () { var i = this._cancel(); return this.eventEmitter.destroy(), this.eventEmitter = null, this.phases = null, this._subscribers = null, this._subscribersOrder = null, this._nextFrameSubscribers = null, this._nextFrameSubscribersOrder = null, this._rafData = null, this._boundOnAnimationFrame = null, this._onExternalAnimationFrame = null, i }, n.useExternalAnimationFrame = function (i) { if (typeof i == "boolean") { var r = this._isUsingExternalAnimationFrame; return i && this._animationFrame && (this._cancelAnimationFrame.call(window, this._animationFrame), this._animationFrame = null), this._willRun && !i && !this._animationFrame && (this._animationFrame = this._requestAnimationFrame.call(window, this._boundOnAnimationFrame)), this._isUsingExternalAnimationFrame = i, i ? this._boundOnExternalAnimationFrame : r || !1 } }, n.updatePhases = function () { this.phases || (this.phases = []), this.phases.length = 0, this.phases.push(this.frameRequestedPhase), this.phases.push(this.startPhase), Array.prototype.push.apply(this.phases, this.runPhases), this.phases.push(this.endPhase), this._runPhasesLength = this.runPhases.length, this._phasesLength = this.phases.length }, n._run = function () { if (!this._willRun) return this._willRun = !0, this.lastFrameTime === 0 && (this.lastFrameTime = performance.now()), this._animationFrameActive = !0, this._isUsingExternalAnimationFrame || (this._animationFrame = this._requestAnimationFrame.call(window, this._boundOnAnimationFrame)), this.phase === this.disabledPhase && (this.phaseIndex = 0, this.phase = this.phases[this.phaseIndex]), !0 }, n._cancel = function () { var i = !1; return this._animationFrameActive && (this._animationFrame && (this._cancelAnimationFrame.call(window, this._animationFrame), this._animationFrame = null), this._animationFrameActive = !1, this._willRun = !1, i = !0), this._isRunning || this._reset(), i }, n._onAnimationFrame = function (i) { for (this._subscribers = this._nextFrameSubscribers, this._subscribersOrder = this._nextFrameSubscribersOrder, this._subscriberArrayLength = this._nextFrameSubscriberArrayLength, this._subscriberCount = this._nextFrameSubscriberCount, this._nextFrameSubscribers = {}, this._nextFrameSubscribersOrder = [], this._nextFrameSubscriberArrayLength = 0, this._nextFrameSubscriberCount = 0, this.phaseIndex = 0, this.phase = this.phases[this.phaseIndex], this._isRunning = !0, this._willRun = !1, this._didRequestNextRAF = !1, this._rafData.delta = i - this.lastFrameTime, this.lastFrameTime = i, this._rafData.fps = 0, this._rafData.delta >= 1e3 && (this._rafData.delta = 0), this._rafData.delta !== 0 && (this._rafData.fps = 1e3 / this._rafData.delta), this._rafData.time = i, this._rafData.naturalFps = this._rafData.fps, this._rafData.timeNow = Date.now(), this.phaseIndex++, this.phase = this.phases[this.phaseIndex], this.eventEmitter.trigger(this.beforePhaseEventPrefix + this.phase), this._currentSubscriberIndex = 0; this._currentSubscriberIndex < this._subscriberArrayLength; this._currentSubscriberIndex++)this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]] !== null && this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy === !1 && this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData); for (this.eventEmitter.trigger(this.afterPhaseEventPrefix + this.phase), this._runPhaseIndex = 0; this._runPhaseIndex < this._runPhasesLength; this._runPhaseIndex++) { for (this.phaseIndex++, this.phase = this.phases[this.phaseIndex], this.eventEmitter.trigger(this.beforePhaseEventPrefix + this.phase), this._currentSubscriberIndex = 0; this._currentSubscriberIndex < this._subscriberArrayLength; this._currentSubscriberIndex++)this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]] !== null && this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy === !1 && this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase, this._rafData); this.eventEmitter.trigger(this.afterPhaseEventPrefix + this.phase) } for (this.phaseIndex++, this.phase = this.phases[this.phaseIndex], this.eventEmitter.trigger(this.beforePhaseEventPrefix + this.phase), this._currentSubscriberIndex = 0; this._currentSubscriberIndex < this._subscriberArrayLength; this._currentSubscriberIndex++)this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]] !== null && this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy === !1 && this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData); this.eventEmitter.trigger(this.afterPhaseEventPrefix + this.phase), this._willRun ? (this.phaseIndex = 0, this.phaseIndex = this.phases[this.phaseIndex]) : this._reset() }, n._onExternalAnimationFrame = function (i) { this._isUsingExternalAnimationFrame && this._onAnimationFrame(i) }, n._reset = function () { this._rafData || (this._rafData = {}), this._rafData.time = 0, this._rafData.delta = 0, this._rafData.fps = 0, this._rafData.naturalFps = 0, this._rafData.timeNow = 0, this._subscribers = {}, this._subscribersOrder = [], this._currentSubscriberIndex = -1, this._subscriberArrayLength = 0, this._subscriberCount = 0, this._nextFrameSubscribers = {}, this._nextFrameSubscribersOrder = [], this._nextFrameSubscriberArrayLength = 0, this._nextFrameSubscriberCount = 0, this._didEmitFrameData = !1, this._animationFrame = null, this._animationFrameActive = !1, this._isRunning = !1, this._shouldReset = !1, this.lastFrameTime = 0, this._runPhaseIndex = -1, this.phaseIndex = -1, this.phase = this.disabledPhase }, gm = t, gm } var hm, pw; function lye() { if (pw) return hm; pw = 1; var n = qN().SharedInstance, e = WN().majorVersionNumber, t = aye(); return hm = n.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance", e, t), hm } var mm, _w; function uye() { if (_w) return mm; _w = 1; var n = qN().SharedInstance, e = WN().majorVersionNumber, t = function () { this._currentID = 0 }; return t.prototype.getNewID = function () { return this._currentID++, "raf:" + this._currentID }, mm = n.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance", e, t), mm } var pm, vw; function nh() { if (vw) return pm; vw = 1; var n, e = sye().EventEmitterMicro, t = lye(), i = uye(); function r(s) { s = s || {}, e.call(this), this.id = i.getNewID(), this.executor = s.executor || t, this._reset(), this._willRun = !1, this._didDestroy = !1 } return n = r.prototype = Object.create(e.prototype), n.run = function () { return this._willRun || (this._willRun = !0), this._subscribe() }, n.cancel = function () { this._unsubscribe(), this._willRun && (this._willRun = !1), this._reset() }, n.destroy = function () { var s = this.willRun(); return this.cancel(), this.executor = null, e.prototype.destroy.call(this), this._didDestroy = !0, s }, n.willRun = function () { return this._willRun }, n.isRunning = function () { return this._isRunning }, n._subscribe = function () { return this.executor.subscribe(this) }, n._unsubscribe = function () { return this.executor.unsubscribe(this) }, n._onAnimationFrameStart = function (s) { this._isRunning = !0, this._willRun = !1, this._didEmitFrameData || (this._didEmitFrameData = !0, this.trigger("start", s)) }, n._onAnimationFrameEnd = function (s) { this._willRun || (this.trigger("stop", s), this._reset()) }, n._reset = function () { this._didEmitFrameData = !1, this._isRunning = !1 }, pm = r, pm } var _m, bw; function cye() { if (bw) return _m; bw = 1; var n = nh(), e = function (i) { n.call(this, i) }, t = e.prototype = Object.create(n.prototype); return t._subscribe = function () { return this.executor.subscribe(this, !0) }, _m = e, _m } var vm, yw; function dye() { if (yw) return vm; yw = 1; var n = cye(), e = function (i) { this.phase = i, this.rafEmitter = new n, this._cachePhaseIndex(), this.requestAnimationFrame = this.requestAnimationFrame.bind(this), this.cancelAnimationFrame = this.cancelAnimationFrame.bind(this), this._onBeforeRAFExecutorStart = this._onBeforeRAFExecutorStart.bind(this), this._onBeforeRAFExecutorPhase = this._onBeforeRAFExecutorPhase.bind(this), this._onAfterRAFExecutorPhase = this._onAfterRAFExecutorPhase.bind(this), this.rafEmitter.on(this.phase, this._onRAFExecuted.bind(this)), this.rafEmitter.executor.eventEmitter.on("before:start", this._onBeforeRAFExecutorStart), this.rafEmitter.executor.eventEmitter.on("before:" + this.phase, this._onBeforeRAFExecutorPhase), this.rafEmitter.executor.eventEmitter.on("after:" + this.phase, this._onAfterRAFExecutorPhase), this._frameCallbacks = [], this._currentFrameCallbacks = [], this._nextFrameCallbacks = [], this._phaseActive = !1, this._currentFrameID = -1, this._cancelFrameIdx = -1, this._frameCallbackLength = 0, this._currentFrameCallbacksLength = 0, this._nextFrameCallbacksLength = 0, this._frameCallbackIteration = 0 }, t = e.prototype; return t.requestAnimationFrame = function (i, r) { return r === !0 && this.rafEmitter.executor.phaseIndex > 0 && this.rafEmitter.executor.phaseIndex <= this.phaseIndex ? this._phaseActive ? (this._currentFrameID = this.rafEmitter.executor.subscribeImmediate(this.rafEmitter, !0), this._frameCallbacks.push(this._currentFrameID, i), this._frameCallbackLength += 2) : (this._currentFrameID = this.rafEmitter.executor.subscribeImmediate(this.rafEmitter, !1), this._currentFrameCallbacks.push(this._currentFrameID, i), this._currentFrameCallbacksLength += 2) : (this._currentFrameID = this.rafEmitter.run(), this._nextFrameCallbacks.push(this._currentFrameID, i), this._nextFrameCallbacksLength += 2), this._currentFrameID }, t.cancelAnimationFrame = function (i) { this._cancelFrameIdx = this._nextFrameCallbacks.indexOf(i), this._cancelFrameIdx > -1 ? this._cancelNextAnimationFrame() : (this._cancelFrameIdx = this._currentFrameCallbacks.indexOf(i), this._cancelFrameIdx > -1 ? this._cancelCurrentAnimationFrame() : (this._cancelFrameIdx = this._frameCallbacks.indexOf(i), this._cancelFrameIdx > -1 && this._cancelRunningAnimationFrame())) }, t._onRAFExecuted = function (i) { for (this._frameCallbackIteration = 0; this._frameCallbackIteration < this._frameCallbackLength; this._frameCallbackIteration += 2)this._frameCallbacks[this._frameCallbackIteration + 1](i.time, i); this._frameCallbacks.length = 0, this._frameCallbackLength = 0 }, t._onBeforeRAFExecutorStart = function () { Array.prototype.push.apply(this._currentFrameCallbacks, this._nextFrameCallbacks.splice(0, this._nextFrameCallbacksLength)), this._currentFrameCallbacksLength = this._nextFrameCallbacksLength, this._nextFrameCallbacks.length = 0, this._nextFrameCallbacksLength = 0 }, t._onBeforeRAFExecutorPhase = function () { this._phaseActive = !0, Array.prototype.push.apply(this._frameCallbacks, this._currentFrameCallbacks.splice(0, this._currentFrameCallbacksLength)), this._frameCallbackLength = this._currentFrameCallbacksLength, this._currentFrameCallbacks.length = 0, this._currentFrameCallbacksLength = 0 }, t._onAfterRAFExecutorPhase = function () { this._phaseActive = !1 }, t._cachePhaseIndex = function () { this.phaseIndex = this.rafEmitter.executor.phases.indexOf(this.phase) }, t._cancelRunningAnimationFrame = function () { this._frameCallbacks.splice(this._cancelFrameIdx, 2), this._frameCallbackLength -= 2 }, t._cancelCurrentAnimationFrame = function () { this._currentFrameCallbacks.splice(this._cancelFrameIdx, 2), this._currentFrameCallbacksLength -= 2 }, t._cancelNextAnimationFrame = function () { this._nextFrameCallbacks.splice(this._cancelFrameIdx, 2), this._nextFrameCallbacksLength -= 2, this._nextFrameCallbacksLength === 0 && this.rafEmitter.cancel() }, vm = e, vm } var bm, ww; function ih() { if (ww) return bm; ww = 1; var n = dye(), e = function () { this.events = {} }, t = e.prototype; return t.requestAnimationFrame = function (i) { return this.events[i] || (this.events[i] = new n(i)), this.events[i].requestAnimationFrame }, t.cancelAnimationFrame = function (i) { return this.events[i] || (this.events[i] = new n(i)), this.events[i].cancelAnimationFrame }, bm = new e, bm } var ym, kw; function O_() { if (kw) return ym; kw = 1; var n = ih(); return ym = n.requestAnimationFrame("update"), ym } var wm, Dw; function KN() { if (Dw) return wm; Dw = 1; var n = ih(); return wm = n.requestAnimationFrame("external"), wm } var km, Sw; function N_() { if (Sw) return km; Sw = 1; var n = ih(); return km = n.requestAnimationFrame("draw"), km } const fye = wa; let gye = class extends fye { constructor(...e) { super(...e); const t = e[0]; this.initialValue = new Float32Array(t), this.target = new Float32Array(t), this.current = new Float32Array(t), this.previousValue = new Float32Array(t) } update(e, t, i) { for (let s = 0, o = this.target.length; s < o; s++)this.target[s] = e[0][s] + t * (e[1][s] - e[0][s]), this.previousValue[s] = this.current[s], this.current[s] += (this.target[s] - this.current[s]) * i; let r = this.delta(this.current, this.target); return r < this.epsilon && (this.current = new Float32Array(this.target), r = 0), r > this.epsilon || r === 0 && this.previousValue.some((s, o) => s !== this.current[o]) } reconcile(e, t) { return this.initialValue.forEach((i, r) => this.initialValue[r] = e[0][r]), this.update(e, t, 1) } needsUpdate() { return this.delta(this.current, this.target) > this.epsilon } delta(e, t) { let i = 0; for (let r = 0, s = e.length; r < s; r++)i += Math.abs(e[r] - t[r]); return i } calculateEpsilon(e, t) { this.epsilon = e.epsilon || .05 } set(e) { throw "ArrayTargetValue does not implement a `set` method. Subclasses must overwrite" } unset(e) { throw "ArrayTargetValue does not implement an `unset` method. Subclasses must overwrite" } }; var JN = gye; const hye = JN; let mye = class extends hye { set(e) { const t = `rgba(${Math.round(this.current[0])},${Math.round(this.current[1])},${Math.round(this.current[2])},${this.current[3]})`; e.setProperty(this.key, t) } unset(e) { e.removeProperty(this.key) } }; var pye = mye; const Cw = /-?\d*\.?\d+/gm; var _ye = { getStringNumbers(n) { return n.match(Cw).map(e => Number.parseFloat(e)) }, getStringNonNumbers(n) { return n.split(Cw) }, reconstructStringWithNumbers(n, e) { let t = ""; for (var i = 0, r = n.length; i < r; i++)t += e[i] + n[i]; return t += e[r], t }, trim(n) { return n === null ? n : n.replace(/\s+/gm, " ").trim() } }; const { trim: vye, getStringNumbers: Pw, getStringNonNumbers: Aw, reconstructStringWithNumbers: bye } = _ye, yye = /^\s*?M[(-?\d)|\s]/, wye = /^(inset|circle|ellipse|polygon|path)\(/, Ew = { pathString: n => yye.test(n), clipPath: n => wye.test(n) }; var kye = { install(n, e) { n.plugins.parser.includes(this) || n.plugins.parser.push(this) }, parseExpression(n, e) { return typeof e == "string" && (Ew.pathString(e) || Ew.clipPath(e)) ? Pw(e) : null }, scalePath(n, e) { const t = this.parseExpression(null, n), i = Aw(n); for (let r = 0, s = t.length; r < s; r++)t[r] = t[r] * e; return this.reconstructPath(t, i) }, trim: vye, getPathStrings: Aw, getPathNumbers: Pw, reconstructPath: bye }; const Dye = JN, jl = kye; let Sye = class extends Dye { constructor(e, t, i, r, s, o, a) { let l = jl.parseExpression(null, e); super(l, t, i, r, s, o), this.applyToStyle = a, this.pathStrings = jl.getPathStrings(e) } update(e, t, i) { if (e[0].length !== e[1].length) throw new Error(`Path length mismatch. Start/end paths must must contain the same number of points. Start value: \r ${jl.reconstructPath(e[0], this.pathStrings)}`); return super.update(e, t, i) } set(e) { const t = jl.reconstructPath(this.current, this.pathStrings); this.applyToStyle ? e.setProperty(this.key, t) : e.setAttribute("d", t) } unset(e) { if (this.applyToStyle) e.removeProperty(this.key); else { const t = jl.reconstructPath(this.initialValue, this.pathStrings); e.setAttribute("d", t) } } }; var Cye = Sye, Pye = Aye; function Aye() { var n = new Float32Array(16); return n[0] = 1, n[1] = 0, n[2] = 0, n[3] = 0, n[4] = 0, n[5] = 1, n[6] = 0, n[7] = 0, n[8] = 0, n[9] = 0, n[10] = 1, n[11] = 0, n[12] = 0, n[13] = 0, n[14] = 0, n[15] = 1, n } var Eye = Iye; function Iye(n, e, t) { var i = Math.sin(t), r = Math.cos(t), s = e[4], o = e[5], a = e[6], l = e[7], u = e[8], c = e[9], d = e[10], f = e[11]; return e !== n && (n[0] = e[0], n[1] = e[1], n[2] = e[2], n[3] = e[3], n[12] = e[12], n[13] = e[13], n[14] = e[14], n[15] = e[15]), n[4] = s * r + u * i, n[5] = o * r + c * i, n[6] = a * r + d * i, n[7] = l * r + f * i, n[8] = u * r - s * i, n[9] = c * r - o * i, n[10] = d * r - a * i, n[11] = f * r - l * i, n } var Mye = Lye; function Lye(n, e, t) { var i = Math.sin(t), r = Math.cos(t), s = e[0], o = e[1], a = e[2], l = e[3], u = e[8], c = e[9], d = e[10], f = e[11]; return e !== n && (n[4] = e[4], n[5] = e[5], n[6] = e[6], n[7] = e[7], n[12] = e[12], n[13] = e[13], n[14] = e[14], n[15] = e[15]), n[0] = s * r - u * i, n[1] = o * r - c * i, n[2] = a * r - d * i, n[3] = l * r - f * i, n[8] = s * i + u * r, n[9] = o * i + c * r, n[10] = a * i + d * r, n[11] = l * i + f * r, n } var Tye = Rye; function Rye(n, e, t) { var i = Math.sin(t), r = Math.cos(t), s = e[0], o = e[1], a = e[2], l = e[3], u = e[4], c = e[5], d = e[6], f = e[7]; return e !== n && (n[8] = e[8], n[9] = e[9], n[10] = e[10], n[11] = e[11], n[12] = e[12], n[13] = e[13], n[14] = e[14], n[15] = e[15]), n[0] = s * r + u * i, n[1] = o * r + c * i, n[2] = a * r + d * i, n[3] = l * r + f * i, n[4] = u * r - s * i, n[5] = c * r - o * i, n[6] = d * r - a * i, n[7] = f * r - l * i, n } var Fye = Oye; function Oye(n, e, t) { var i = t[0], r = t[1], s = t[2]; return n[0] = e[0] * i, n[1] = e[1] * i, n[2] = e[2] * i, n[3] = e[3] * i, n[4] = e[4] * r, n[5] = e[5] * r, n[6] = e[6] * r, n[7] = e[7] * r, n[8] = e[8] * s, n[9] = e[9] * s, n[10] = e[10] * s, n[11] = e[11] * s, n[12] = e[12], n[13] = e[13], n[14] = e[14], n[15] = e[15], n } const Ra = Is, Gl = wa, Nye = Y2e, Bye = UN, Uye = R_, Hye = x2e, $ye = T_, Vye = RN, zye = Zu, qye = rye, ku = {}; typeof window < "u" && (ku.update = O_(), ku.external = KN(), ku.draw = N_()); const { transformAttributes: Iw, cssAttributes: Wye, domAttributes: Kye } = FN, Jye = pye, Yye = L_, Xye = Cye, ad = Math.PI / 180, xl = { create: Pye, rotateX: Eye, rotateY: Mye, rotateZ: Tye, scale: Fye }; let Zye = class extends zye { constructor(e, t) { super(), this._events.draw = [], this.uuid = Vye(), this.group = e, this.element = t, this._ownerIsElement = this.element instanceof Element, this._ownerIsElement ? this.friendlyName = this.element.tagName + "." + Array.from(this.element.classList).join(".") : this.friendlyName = this.element.friendlyName || this.uuid, this.element._animInfo = this.element._animInfo || new Bye(e, this), this.element._animInfo.controller = this, this.element._animInfo.group = this.group, this.element._animInfo.controllers.push(this), this.tweenProps = this.element._animInfo.tweenProps, this.eventObject = new Nye(this), this.needsStyleUpdate = !1, this.needsClassUpdate = !1, this.elementMetrics = this.group.metrics.add(this.element), this.attributes = [], this.cssAttributes = [], this.domAttributes = [], this.keyframes = {}, this._allKeyframes = [], this._activeKeyframes = [], this.keyframesRequiringDispatch = [], this.updateCachedValuesFromElement(), this.boundsMin = 0, this.boundsMax = 0, this.mat2d = new Float32Array(6), this.mat4 = xl.create(), this.needsWrite = !0, this.onDOMWriteImp = this._ownerIsElement ? this.onDOMWriteForElement : this.onDOMWriteForObject } destroy() { if (this.element._animInfo) { this.element._animInfo.controller === this && (this.element._animInfo.controller = null); let e = this.element._animInfo.controllers.indexOf(this); if (e !== -1 && this.element._animInfo.controllers.splice(e, 1), this.element._animInfo.controllers.length === 0) this.element._animInfo = null; else { let t = this.element._animInfo.controllers.find(i => i.group !== i.group.anim.tweenGroup); t && (this.element._animInfo.controller = t, this.element._animInfo.group = t.group) } } this.eventObject.controller = null, this.eventObject.element = null, this.eventObject.keyframe = null, this.eventObject.tweenProps = null, this.eventObject = null, this.elementMetrics = null, this.group = null, this.keyframesRequiringDispatch = null; for (let e = 0; e < this._allKeyframes.length; e++)this._allKeyframes[e].destroy(); this._allKeyframes = null, this._activeKeyframes = null, this.attributes = null, this.keyframes = null, this.element = null, this.tweenProps = null, this.destroyed = !0, super.destroy() } remove() { return this.group && this.group.removeKeyframeController(this) } updateCachedValuesFromElement() { if (!this._ownerIsElement) return; const e = this.getTargetComputedStyle(!0); let t = new DOMMatrix(e.getPropertyValue("transform")), i = qye(t), r = Ra.KeyframeDefaults.epsilon, s = !1;["x", "y", "z"].forEach((o, a) => { this.tweenProps[o] = new Gl(i.translation[a], r, s, o) }), this.tweenProps.rotation = new Gl(i.rotation[2], r, s, "rotation"), ["rotationX", "rotationY", "rotationZ"].forEach((o, a) => { this.tweenProps[o] = new Gl(i.rotation[a], r, s, o) }), this.tweenProps.scale = new Gl(i.scale[0], r, s, "scale"), ["scaleX", "scaleY", "scaleZ"].forEach((o, a) => { this.tweenProps[o] = new Gl(i.scale[a], r, s, o) }) } addKeyframe(e) { let t = Hye(e); if (!t) throw new Error("AnimSystem Cannot create keyframe for from options `" + e + "`"); let i = new t(this, e); return i.parseOptions(e), i.id = this._allKeyframes.length, this._allKeyframes.push(i), i } needsUpdate() { for (let e = 0, t = this.attributes.length; e < t; e++) { let i = this.attributes[e]; if (this.tweenProps[i].needsUpdate()) return !0 } return !1 } updateLocalProgress(e) { for (let t = 0, i = this.attributes.length; t < i; t++) { let r = this.attributes[t], s = this.keyframes[this.attributes[t]]; if (s.length === 1) { s[0].updateLocalProgress(e); continue } let o = this.getNearestKeyframeForAttribute(r, e); o && o.updateLocalProgress(e) } } reconcile() { for (let e = 0, t = this.attributes.length; e < t; e++) { let i = this.attributes[e], r = this.getNearestKeyframeForAttribute(i, this.group.position.local); r.updateLocalProgress(this.group.position.local), r.snapAtCreation && r.reconcile(i) } } determineActiveKeyframes(e) { e = e || $ye(Array.from(document.documentElement.classList)); let t = this._activeKeyframes, i = this.attributes, r = {}; this._activeKeyframes = [], this.attributes = [], this.keyframes = {}; for (let a = 0; a < this._allKeyframes.length; a++) { let l = this._allKeyframes[a]; if (l.markedForRemoval || l.hidden || !l.setEnabled(e)) { for (let u in l.animValues) this.tweenProps[u].isActive = l.preserveState, l.preserveState && (r[u] = !0); continue } this._activeKeyframes.push(l); for (let u in l.animValues) this.keyframes[u] = this.keyframes[u] || [], this.keyframes[u].push(l), this.attributes.indexOf(u) === -1 && (r[u] = !0, this.attributes.push(u), this.tweenProps[u].isActive = !0) } this.attributes.forEach(a => this.tweenProps[a].isActive = !0), this.cssAttributes = this.attributes.filter(a => Wye.includes(a) || a.startsWith("--")).map(a => this.tweenProps[a]), this.domAttributes = this.attributes.filter(a => Kye.includes(a)).map(a => this.tweenProps[a]); let s = t.filter(a => this._activeKeyframes.indexOf(a) === -1); if (s.length === 0) return; let o = i.filter(a => this.attributes.indexOf(a) === -1 && !r.hasOwnProperty(a)); if (o.length !== 0) { if (this.needsWrite = !0, !this._ownerIsElement) { for (let a = 0, l = o.length; a < l; ++a) { let u = this.tweenProps[o[a]]; u.current = u.target, u.isActive = !1 } return } ku.external(() => { let a = o.some(u => Iw.includes(u)), l = a && Object.keys(r).some(u => Iw.includes(u)); a && !l && this.element.style.removeProperty("transform"); for (let u = 0, c = o.length; u < c; ++u) { let d = o[u], f = this.tweenProps[d], g = f.isActive ? f.target : f.initialValue; if (f.current = f.target = g, !f.isActive) switch (!0) { case f instanceof Jye: { f.unset(this.element.style); break } case f instanceof Yye: { f.unset(this.element.style); break } case f instanceof Xye: { f.unset(f.applyToStyle ? this.element.style : this.element); break } } } for (let u = 0, c = s.length; u < c; ++u) { let d = s[u]; !(d instanceof Uye) || d.preserveState || d._unapply() } }, !0) } } onDOMRead(e) { for (let t = 0, i = this.attributes.length; t < i; t++) { let r = this.attributes[t], s = this.getNearestKeyframeForAttribute(r, e); s && s.onDOMRead(r) && (this.needsWrite = !0) } } onDOMWrite() { !this.needsWrite && !this.needsClassUpdate && !this.needsStyleUpdate || (this.needsWrite = !1, this.onDOMWriteImp(), this.handleEventDispatch()) } onDOMWriteForObject() { for (let e = 0, t = this.attributes.length; e < t; e++) { let i = this.attributes[e]; this.element[i] = this.tweenProps[i].current } } onDOMWriteForElement(e = this.element.style) { this.handleStyleTransform(e); for (let t = 0, i = this.cssAttributes.length; t < i; t++)this.cssAttributes[t].set(e); for (let t = 0, i = this.domAttributes.length; t < i; t++)this.domAttributes[t].set(this.element); if (this.needsStyleUpdate) { for (let t in this.tweenProps.targetStyles) this.tweenProps.targetStyles[t] !== null && (this.element.style[t] = this.tweenProps.targetStyles[t]), this.tweenProps.targetStyles[t] = null; this.needsStyleUpdate = !1 } this.needsClassUpdate && (this.tweenProps.targetClasses.add.length > 0 && this.element.classList.add.apply(this.element.classList, this.tweenProps.targetClasses.add), this.tweenProps.targetClasses.remove.length > 0 && this.element.classList.remove.apply(this.element.classList, this.tweenProps.targetClasses.remove), this.tweenProps.targetClasses.add.length = 0, this.tweenProps.targetClasses.remove.length = 0, this.needsClassUpdate = !1) } handleStyleTransform(e = this.element.style) { let t = this.tweenProps; if (t.z.isActive || t.rotationX.isActive || t.rotationY.isActive) { const i = this.mat4; i[0] = 1, i[1] = 0, i[2] = 0, i[3] = 0, i[4] = 0, i[5] = 1, i[6] = 0, i[7] = 0, i[8] = 0, i[9] = 0, i[10] = 1, i[11] = 0, i[12] = 0, i[13] = 0, i[14] = 0, i[15] = 1; const r = t.x.current, s = t.y.current, o = t.z.current; if (i[12] = i[0] * r + i[4] * s + i[8] * o + i[12], i[13] = i[1] * r + i[5] * s + i[9] * o + i[13], i[14] = i[2] * r + i[6] * s + i[10] * o + i[14], i[15] = i[3] * r + i[7] * s + i[11] * o + i[15], t.rotation.current !== 0 || t.rotationZ.current !== 0) { const a = (t.rotation.current || t.rotationZ.current) * ad; xl.rotateZ(i, i, a) } if (t.rotationX.current !== 0) { const a = t.rotationX.current * ad; xl.rotateX(i, i, a) } if (t.rotationY.current !== 0) { const a = t.rotationY.current * ad; xl.rotateY(i, i, a) } (t.scale.current !== 1 || t.scaleX.current !== 1 || t.scaleY.current !== 1) && xl.scale(i, i, [t.scale.current, t.scale.current, 1]), e.transform = "matrix3d(" + i[0] + "," + i[1] + "," + i[2] + "," + i[3] + "," + i[4] + "," + i[5] + "," + i[6] + "," + i[7] + "," + i[8] + "," + i[9] + "," + i[10] + "," + i[11] + "," + i[12] + "," + i[13] + "," + i[14] + "," + i[15] + ")" } else if (t.x.isActive || t.y.isActive || t.rotation.isActive || t.rotationZ.isActive || t.scale.isActive || t.scaleX.isActive || t.scaleY.isActive) { const i = this.mat2d; i[0] = 1, i[1] = 0, i[2] = 0, i[3] = 1, i[4] = 0, i[5] = 0; const r = t.x.current, s = t.y.current, o = i[0], a = i[1], l = i[2], u = i[3], c = i[4], d = i[5]; if (i[0] = o, i[1] = a, i[2] = l, i[3] = u, i[4] = o * r + l * s + c, i[5] = a * r + u * s + d, t.rotation.current !== 0 || t.rotationZ.current !== 0) { const f = (t.rotation.current || t.rotationZ.current) * ad, g = i[0], h = i[1], m = i[2], v = i[3], b = i[4], y = i[5], k = Math.sin(f), S = Math.cos(f); i[0] = g * S + m * k, i[1] = h * S + v * k, i[2] = g * -k + m * S, i[3] = h * -k + v * S, i[4] = b, i[5] = y } t.scaleX.isActive || t.scaleY.isActive ? (i[0] = i[0] * t.scaleX.current, i[1] = i[1] * t.scaleX.current, i[2] = i[2] * t.scaleY.current, i[3] = i[3] * t.scaleY.current) : (i[0] = i[0] * t.scale.current, i[1] = i[1] * t.scale.current, i[2] = i[2] * t.scale.current, i[3] = i[3] * t.scale.current), e.transform = "matrix(" + i[0] + ", " + i[1] + ", " + i[2] + ", " + i[3] + ", " + i[4] + ", " + i[5] + ")" } } handleEventDispatch() { if (this.keyframesRequiringDispatch.length !== 0) { for (let e = 0, t = this.keyframesRequiringDispatch.length; e < t; e++) { let i = this.keyframesRequiringDispatch[e]; i.needsEventDispatch = !1, this.eventObject.keyframe = i, this.eventObject.pageMetrics = Ra.pageMetrics, this.eventObject.event = i.event, this.trigger(i.event, this.eventObject) } this.keyframesRequiringDispatch.length = 0 } if (this._events.draw.length !== 0) { this.eventObject.keyframe = null, this.eventObject.event = "draw"; for (let e = this._events.draw.length - 1; e >= 0; e--)this._events.draw[e](this.eventObject) } } updateAnimationConstraints() { for (let e = 0, t = this._activeKeyframes.length; e < t; e++)this._activeKeyframes[e].evaluateConstraints(); this.attributes.forEach(e => { this.keyframes[e].length !== 1 && this.keyframes[e].sort(Ra.KeyframeComparison) }), this.updateDeferredPropertyValues() } refreshMetrics() { let e = new Set([this.element]); this._allKeyframes.forEach(t => t.anchors.forEach(i => e.add(i))), this.group.metrics.refreshCollection(e), this.group.keyframesDirty = !0 } getTargetComputedStyle(e = !1) { return this._ownerIsElement ? ((e || this.group.computedStyleCache[this.uuid] === void 0) && (this.group.computedStyleCache[this.uuid] = getComputedStyle(this.element)), this.group.computedStyleCache[this.uuid]) : null } updateDeferredPropertyValues() { for (let e = 0, t = this.attributes.length; e < t; e++) { let i = this.attributes[e], r = this.keyframes[i]; if (!(r[0].keyframeType > Ra.KeyframeTypes.InterpolationForward)) for (let o = 0, a = r.length; o < a; o++) { let l = r[o]; l.jsonProps[i][0] === null && (o === 0 ? l.jsonProps[i][0] = l.animValues[i][0] = this.tweenProps[i].current : l.animValues[i][0] = r[o - 1].animValues[i][1]), l.jsonProps[i][1] === null && (o === a - 1 ? l.animValues[i][1] = this.tweenProps[i].current : l.animValues[i][1] = r[o + 1].animValues[i][0]), l.snapAtCreation && (l.jsonProps[i][0] = l.animValues[i][0], l.jsonProps[i][1] = l.animValues[i][1]) } } } getBounds(e) { this.boundsMin = Number.MAX_VALUE, this.boundsMax = -Number.MAX_VALUE; for (let t = 0, i = this.attributes.length; t < i; t++) { let r = this.keyframes[this.attributes[t]]; for (let s = 0; s < r.length; s++) { let o = r[s]; this.boundsMin = Math.min(o.start, this.boundsMin), this.boundsMax = Math.max(o.end, this.boundsMax), e.min = Math.min(o.start, e.min), e.max = Math.max(o.end, e.max) } } } getNearestKeyframeForAttribute(e, t) { t = t !== void 0 ? t : this.group.position.local; let i = null, r = Number.POSITIVE_INFINITY, s = this.keyframes[e]; if (s === void 0) return null; let o = s.length; if (o === 0) return null; if (o === 1) return s[0]; for (let a = 0; a < o; a++) { let l = s[a]; if (l.isInRange(t)) { i = l; break } let u = Math.min(Math.abs(t - l.start), Math.abs(t - l.end)); u < r && (r = u, i = l) } return i } getAllKeyframesForAttribute(e) { return this.keyframes[e] } updateKeyframe(e, t) { e.parseOptions(t), e.evaluateConstraints(), this.group.keyframesDirty = !0, ku.update(() => { this.trigger(Ra.EVENTS.ON_KEYFRAME_UPDATED, e), this.group.trigger(Ra.EVENTS.ON_KEYFRAME_UPDATED, e) }, !0) } removeKeyframe(e) { return e.destroyed || e.controller !== this ? Promise.resolve(null) : (e.markedForRemoval = !0, this.group.keyframesDirty = !0, new Promise(t => { this.group.rafEmitter.executor.eventEmitter.once("before:draw", () => { t(e), e.destroy(); let i = this._allKeyframes.indexOf(e); i !== -1 && this._allKeyframes.splice(i, 1) }) })) } updateAnimation(e, t) { return this.group.gui && console.warn("KeyframeController.updateAnimation(keyframe,props) has been deprecated. Please use updateKeyframe(keyframe,props)"), this.updateKeyframe(e, t) } }; var Qye = Zye; const jye = Zu, Dm = Fl, Gye = T_, Br = Is, xye = UN, ewe = F2e, twe = N2e, nwe = HN, iwe = K2e, rwe = Qye, Du = {}; typeof window < "u" && (Du.create = nh(), Du.update = O_(), Du.draw = N_()); let swe = 0, owe = class extends jye { constructor(e, t) { super(), this.anim = t, this.element = e, this.name = this.name || e.getAttribute("data-anim-scroll-group"), this.isEnabled = !0, this.position = new ewe, this.metrics = new nwe, this.metrics.add(this.element), this.expressionParser = new iwe(this), this.boundsMin = 0, this.boundsMax = 0, this.timelineUpdateRequired = !1, this._keyframesDirty = !1, this.viewableRange = this.createViewableRange(), this.defaultEase = Br.KeyframeDefaults.ease, this.keyframeControllers = [], this.updateProgress(this.getPosition()), this.onDOMRead = this.onDOMRead.bind(this), this.onDOMWrite = this.onDOMWrite.bind(this), this.gui = null, this.computedStyleCache = {}, this.destroyed = !1, this.finalizeInit() } finalizeInit() { this.element._animInfo = new xye(this, null, !0), this.setupRAFEmitter() } destroy() { this.destroyed = !0, this.expressionParser.destroy(), this.expressionParser = null; for (let e = 0, t = this.keyframeControllers.length; e < t; e++)this.keyframeControllers[e].destroy(); this.keyframeControllers = null, this.position = null, this.viewableRange = null, this.gui && (this.gui.destroy(), this.gui = null), this.metrics.destroy(), this.metrics = null, this.rafEmitter.destroy(), this.rafEmitter = null, this.anim = null, this.element._animInfo && this.element._animInfo.group === this && (this.element._animInfo.group = null, this.element._animInfo = null), this.element = null, this.isEnabled = !1, super.destroy() } removeKeyframeController(e) { return e.destroyed || !this.keyframeControllers.includes(e) ? Promise.resolve() : (e._allKeyframes.forEach(t => t.markedForRemoval = !0), this.keyframesDirty = !0, new Promise(t => { Du.draw(() => { const i = this.keyframeControllers.indexOf(e); if (i === -1) { t(); return } this.keyframeControllers.splice(i, 1), e.onDOMWrite(), e.destroy(), this.gui && this.gui.create(), t() }) })) } remove() { return this.anim && this.anim.removeGroup(this) } clear() { return Promise.all(this.keyframeControllers.map(e => this.removeKeyframeController(e))) } setupRAFEmitter(e) { this.rafEmitter && this.rafEmitter.destroy(), this.rafEmitter = e || new Du.create, this.rafEmitter.on("update", this.onDOMRead), this.rafEmitter.on("draw", this.onDOMWrite), this.rafEmitter.once("external", () => this.reconcile()) } requestDOMChange() { return this.isEnabled ? this.rafEmitter.run() : !1 } onDOMRead() { this.keyframesDirty && this.onKeyframesDirty(); for (let e = 0, t = this.keyframeControllers.length; e < t; e++)this.keyframeControllers[e].onDOMRead(this.position.local) } onDOMWrite() { for (let e = 0, t = this.keyframeControllers.length; e < t; e++)this.keyframeControllers[e].onDOMWrite(); this.needsUpdate() && this.requestDOMChange(), this.computedStyleCache = {} } needsUpdate() { if (this._keyframesDirty) return !0; for (let e = 0, t = this.keyframeControllers.length; e < t; e++)if (this.keyframeControllers[e].needsUpdate()) return !0; return !1 } addKeyframe(e, t) { let i = this.getControllerForTarget(e); return i === null && (i = new rwe(this, e), this.keyframeControllers.push(i)), this.keyframesDirty = !0, i.addKeyframe(t) } addEvent(e, t) { t.event = t.event || "Generic-Event-Name-" + swe++; let i = t.end !== void 0 && t.end !== t.start; const r = this.addKeyframe(e, t); return i ? (t.onEnterOnce && r.controller.once(t.event + ":enter", t.onEnterOnce), t.onExitOnce && r.controller.once(t.event + ":exit", t.onExitOnce), t.onEnter && r.controller.on(t.event + ":enter", t.onEnter), t.onExit && r.controller.on(t.event + ":exit", t.onExit)) : (t.onEventOnce && r.controller.once(t.event, t.onEventOnce), t.onEventReverseOnce && r.controller.once(t.event + ":reverse", t.onEventReverseOnce), t.onEvent && r.controller.on(t.event, t.onEvent), t.onEventReverse && r.controller.on(t.event + ":reverse", t.onEventReverse)), r } forceUpdate({ waitForNextUpdate: e = !0, silent: t = !1 } = {}) { this.isEnabled && (this.refreshMetrics(), this.timelineUpdateRequired = !0, e ? this.keyframesDirty = !0 : this.onKeyframesDirty({ silent: t })) } onKeyframesDirty({ silent: e = !1 } = {}) { this.determineActiveKeyframes(), this.keyframesDirty = !1, this.metrics.refreshMetrics(this.element), this.viewableRange = this.createViewableRange(); for (let t = 0, i = this.keyframeControllers.length; t < i; t++)this.keyframeControllers[t].updateAnimationConstraints(); this.updateBounds(), this.updateProgress(this.getPosition()), e || this.updateTimeline(), this.gui && this.gui.create() } refreshMetrics() { let e = new Set([this.element]); this.keyframeControllers.forEach(t => { e.add(t.element), t._allKeyframes.forEach(i => i.anchors.forEach(r => e.add(r))) }), this.metrics.refreshCollection(e), this.viewableRange = this.createViewableRange() } reconcile() { for (let e = 0, t = this.keyframeControllers.length; e < t; e++)this.keyframeControllers[e].reconcile() } determineActiveKeyframes(e) { e = e || Gye(Array.from(document.documentElement.classList)); for (let t = 0, i = this.keyframeControllers.length; t < i; t++)this.keyframeControllers[t].determineActiveKeyframes(e) } updateBounds() { if (this.keyframeControllers.length === 0) { this.boundsMin = 0, this.boundsMax = 0; return } let e = { min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY }; for (let r = 0, s = this.keyframeControllers.length; r < s; r++)this.keyframeControllers[r].getBounds(e); let t = this.convertTValueToScrollPosition(e.min), i = this.convertTValueToScrollPosition(e.max); i - t < Br.pageMetrics.windowHeight ? (e.min = this.convertScrollPositionToTValue(t - Br.pageMetrics.windowHeight * .5), e.max = this.convertScrollPositionToTValue(i + Br.pageMetrics.windowHeight * .5)) : (e.min -= .001, e.max += .001), this.boundsMin = e.min, this.boundsMax = e.max, this.timelineUpdateRequired = !0 } createViewableRange() { return new twe(this.metrics.get(this.element), Br.pageMetrics.windowHeight) } _onBreakpointChange(e, t) { this.keyframesDirty = !0, this.determineActiveKeyframes() } updateProgress(e) { if (!this.hasDuration()) { this.position.local = this.position.localUnclamped = 0; return } this.position.localUnclamped = (e - this.viewableRange.a) / (this.viewableRange.d - this.viewableRange.a), this.position.local = Dm.clamp(this.position.localUnclamped, this.boundsMin, this.boundsMax) } performTimelineDispatch() { for (let e = 0, t = this.keyframeControllers.length; e < t; e++)this.keyframeControllers[e].updateLocalProgress(this.position.local); this.trigger(Br.EVENTS.ON_TIMELINE_UPDATE, this.position.local), this.trigger("update", this.position.local), this.timelineUpdateRequired = !1, this.position.lastPosition !== this.position.local && (this.position.lastPosition <= this.boundsMin && this.position.localUnclamped > this.boundsMin ? (this.trigger(Br.EVENTS.ON_TIMELINE_START, this), this.trigger("start", this)) : this.position.lastPosition >= this.boundsMin && this.position.localUnclamped < this.boundsMin ? (this.trigger(Br.EVENTS.ON_TIMELINE_START + ":reverse", this), this.trigger("start:reverse", this)) : this.position.lastPosition <= this.boundsMax && this.position.localUnclamped >= this.boundsMax ? (this.trigger(Br.EVENTS.ON_TIMELINE_COMPLETE, this), this.trigger("complete", this)) : this.position.lastPosition >= this.boundsMax && this.position.localUnclamped < this.boundsMax && (this.trigger(Br.EVENTS.ON_TIMELINE_COMPLETE + ":reverse", this), this.trigger("complete:reverse", this))), this.gui !== null && this.gui.onScrollUpdate(this.position) } updateTimeline(e) { if (!this.isEnabled) return !1; e === void 0 && (e = this.getPosition()), this.updateProgress(e); let t = this.position.lastPosition === this.boundsMin || this.position.lastPosition === this.boundsMax, i = this.position.localUnclamped === this.boundsMin || this.position.localUnclamped === this.boundsMax; if (!this.timelineUpdateRequired && t && i && this.position.lastPosition === e) { this.position.local = this.position.localUnclamped; return } if (this.timelineUpdateRequired || this.position.localUnclamped > this.boundsMin && this.position.localUnclamped < this.boundsMax) { this.performTimelineDispatch(), this.requestDOMChange(), this.position.lastPosition = this.position.localUnclamped; return } let r = this.position.lastPosition > this.boundsMin && this.position.lastPosition < this.boundsMax, s = this.position.localUnclamped <= this.boundsMin || this.position.localUnclamped >= this.boundsMax; if (r && s) { this.performTimelineDispatch(), this.requestDOMChange(), this.position.lastPosition = this.position.localUnclamped; return } const o = this.position.lastPosition < this.boundsMin && this.position.localUnclamped > this.boundsMax, a = this.position.lastPosition > this.boundsMax && this.position.localUnclamped < this.boundsMax; (o || a) && (this.performTimelineDispatch(), this.requestDOMChange(), this.position.lastPosition = this.position.localUnclamped), this.gui !== null && this.gui.onScrollUpdate(this.position) } _onScroll(e) { this.updateTimeline(e) } convertScrollPositionToTValue(e) { return this.hasDuration() ? Dm.map(e, this.viewableRange.a, this.viewableRange.d, 0, 1) : 0 } convertTValueToScrollPosition(e) { return this.hasDuration() ? Dm.map(e, 0, 1, this.viewableRange.a, this.viewableRange.d) : 0 } hasDuration() { return this.viewableRange.a !== this.viewableRange.d } getPosition() { return Br.pageMetrics.scrollY } getControllerForTarget(e) { if (!e._animInfo || !e._animInfo.controllers) return null; if (e._animInfo.controller && e._animInfo.controller.group === this) return e._animInfo.controller; const t = e._animInfo.controllers; for (let i = 0, r = t.length; i < r; i++)if (t[i].group === this) return t[i]; return null } trigger(e, t) { if (!(typeof this._events[e] > "u")) for (let i = this._events[e].length - 1; i >= 0; i--)t !== void 0 ? this._events[e][i](t) : this._events[e][i]() } set keyframesDirty(e) { this._keyframesDirty = e, this._keyframesDirty && this.requestDOMChange() } get keyframesDirty() { return this._keyframesDirty } }; var B_ = owe; const Sm = Is; let awe = class { constructor(e, t) { this._index = 0, this.keyframe = e, t && (this.name = t) } get start() { return this.keyframe.jsonProps.start } set index(e) { this._index = e } get index() { return this._index } }, lwe = class { constructor(e) { this.timeGroup = e, this.chapters = [], this.chapterNames = {}, this.currentChapter = null, this.tween = null, this.destroyed = !1 } destroy() { this.destroyed = !0, this.tween && !this.tween.destroyed && this.tween.remove(), this.tween = null } addChapter(e) { const { position: t, name: i } = e; if (typeof t > "u") throw ReferenceError("Cannot add chapter without target position."); !e._impIsFirst && this.chapters.length === 0 && this.addChapter({ position: 0, _impIsFirst: !0 }); let r = this.timeGroup.addKeyframe(this, { start: t, end: t, event: "Chapter" }); this.timeGroup.forceUpdate({ waitForNextFrame: !1, silent: !0 }); const s = new awe(r, i); if (this.chapters.push(s), i) { if (this.chapterNames.hasOwnProperty(i)) throw ReferenceError(`Duplicate chapter name assigned - "${i}" is already in use`); this.chapterNames[i] = s } return this.chapters.sort((o, a) => o.start - a.start).forEach((o, a) => o.index = a), this.currentChapter = this.currentChapter || this.chapters[0], s } playToChapter(e) { let t; if (e.hasOwnProperty("index")) t = this.chapters[e.index]; else if (e.hasOwnProperty("name")) t = this.chapterNames[e.name]; else throw ReferenceError("Cannot play to chapter without target index or name"); if (!t || this.currentChapter === t && e.force !== !0) return; let i = e.ease || "easeInOutCubic"; this.tween && this.tween.controller && (this.tween.remove(), i = e.ease || "easeOutQuint"), this.timeGroup.timeScale(e.timeScale || 1); const r = e.duration !== void 0 ? e.duration : this.getDurationToChapter(t), s = this.timeGroup.time(), o = t.start; let a = !1; return this.tween = this.timeGroup.anim.addTween({ time: s }, { easeFunction: i, duration: r, time: [s, o], onStart: () => { this.destroyed || this.timeGroup.trigger(Sm.EVENTS.ON_CHAPTER_INITIATED, { player: this, next: t }) }, onDraw: l => { if (this.destroyed) return; let u = l.tweenProps.time.current; this.timeGroup.time(u), l.keyframe.curvedT > .5 && !a && (a = !0, this.currentIndex = t.index, this.currentChapter = t, this.timeGroup.trigger(Sm.EVENTS.ON_CHAPTER_OCCURRED, { player: this, current: t })) }, onComplete: l => { this.destroyed || (this.timeGroup.time(l.tweenProps.time.current), this.timeGroup.trigger(Sm.EVENTS.ON_CHAPTER_COMPLETED, { player: this, current: t }), this.timeGroup.paused(!0), this.tween = null) } }), this.tween } getDurationToChapter(e) { const t = this.chapters[e.index - 1] || this.chapters[e.index + 1]; return Math.abs(t.start - e.start) } }; var uwe = lwe; const cwe = B_, dwe = uwe, Mw = Fl; let fwe = 0; const YN = {}; typeof window < "u" && (YN.create = nh()); let XN = class Td extends cwe { constructor(e, t) { e || (e = document.createElement("div"), e.className = "TimeGroup-" + fwe++), super(e, t), this.name = this.name || e.getAttribute("data-anim-time-group"), this._isPaused = !0, this._repeats = 0, this._isReversed = !1, this._timeScale = 1, this._chapterPlayer = new dwe(this), this.now = performance.now() } finalizeInit() { if (!this.anim) throw "TimeGroup not instantiated correctly. Please use `AnimSystem.createTimeGroup(el)`"; this.onPlayTimeUpdate = this.onPlayTimeUpdate.bind(this), super.finalizeInit() } progress(e) { if (e === void 0) return this.boundsMax === 0 ? 0 : this.position.local / this.boundsMax; let t = e * this.boundsMax; this.timelineUpdateRequired = !0, this.updateTimeline(t) } time(e) { if (e === void 0) return this.position.local; e = Mw.clamp(e, this.boundsMin, this.duration), this.timelineUpdateRequired = !0, this.updateTimeline(e) } play(e) { this.reversed(!1), this.isEnabled = !0, this._isPaused = !1, this.time(e), this.now = performance.now(), this._playheadEmitter.run() } reverse(e) { this.reversed(!0), this.isEnabled = !0, this._isPaused = !1, this.time(e), this.now = performance.now(), this._playheadEmitter.run() } reversed(e) { if (e === void 0) return this._isReversed; this._isReversed = e } restart() { this._isReversed ? (this.progress(1), this.reverse(this.time())) : (this.progress(0), this.play(this.time())) } pause(e) { this.time(e), this._isPaused = !0 } paused(e) { return e === void 0 ? this._isPaused : (this._isPaused = e, this._isPaused || this.play(), this) } onPlayTimeUpdate() { if (this._isPaused) return; let e = performance.now(), t = (e - this.now) / 1e3; this.now = e, this._isReversed && (t = -t); let r = this.time() + t * this._timeScale; if (this._repeats === Td.REPEAT_FOREVER || this._repeats > 0) { let a = !1; !this._isReversed && r > this.boundsMax ? (r -= this.boundsMax, a = !0) : this._isReversed && r < 0 && (r = this.boundsMax + r, a = !0), a && (this._repeats = this._repeats === Td.REPEAT_FOREVER ? Td.REPEAT_FOREVER : this._repeats - 1) } this.time(r); let s = !this._isReversed && this.position.local !== this.duration, o = this._isReversed && this.position.local !== 0; s || o ? this._playheadEmitter.run() : this.paused(!0) } updateProgress(e) { if (!this.hasDuration()) { this.position.local = this.position.localUnclamped = 0; return } this.position.localUnclamped = e, this.position.local = Mw.clamp(this.position.localUnclamped, this.boundsMin, this.boundsMax) } updateBounds() { if (this.keyframeControllers.length === 0) { this.boundsMin = 0, this.boundsMax = 0; return } let e = { min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY }; for (let t = 0, i = this.keyframeControllers.length; t < i; t++)this.keyframeControllers[t].getBounds(e); this.boundsMin = 0, this.boundsMax = e.max, this.viewableRange.a = this.viewableRange.b = 0, this.viewableRange.c = this.viewableRange.d = this.boundsMax, this.timelineUpdateRequired = !0 } setupRAFEmitter(e) { this._playheadEmitter = new YN.create, this._playheadEmitter.on("update", this.onPlayTimeUpdate), super.setupRAFEmitter(e) } get duration() { return this.keyframesDirty && this.onKeyframesDirty({ silent: !0 }), this.boundsMax } timeScale(e) { return e === void 0 ? this._timeScale : (this._timeScale = e, this) } repeats(e) { if (e === void 0) return this._repeats; this._repeats = e } getPosition() { return this.position.local } addChapter(e) { return this._chapterPlayer.addChapter(e) } playToChapter(e) { return this._chapterPlayer.playToChapter(e) } convertScrollPositionToTValue(e) { return e } convertTValueToScrollPosition(e) { return e } hasDuration() { return this.duration > 0 } destroy() { this._chapterPlayer.destroy(), this._playheadEmitter.destroy(), this._playheadEmitter = null, super.destroy() } get timelineProgress() { return this.progress() } set timelineProgress(e) { this.progress(e) } get progressValue() { return this.progress() } set progressValue(e) { this.progress(e) } get timeValue() { return this.time() } set timeValue(e) { this.time(e) } }; XN.REPEAT_FOREVER = -1; var gwe = XN; const hwe = B_, mwe = Fl; let pwe = 0; const ZN = {}; typeof window < "u" && (ZN.create = nh()); let _we = class extends hwe { constructor(e, t) { e || (e = document.createElement("div"), e.className = "TweenGroup-" + pwe++), super(e, t), this.name = "Tweens", this.keyframes = [], this._isPaused = !1, this.now = performance.now() } finalizeInit() { this.onTimeEmitterUpdate = this.onTimeEmitterUpdate.bind(this), this.removeExpiredKeyframeControllers = this.removeExpiredKeyframeControllers.bind(this), super.finalizeInit() } destroy() { this._timeEmitter.destroy(), this._timeEmitter = null, this._keyframes = [], super.destroy() } setupRAFEmitter(e) { this.now = performance.now(), this._timeEmitter = new ZN.create, this._timeEmitter.on("update", this.onTimeEmitterUpdate), this._timeEmitter.run(), super.setupRAFEmitter(e) } addKeyframe(e, t) { if (t.start !== void 0 || t.end !== void 0) throw Error("Tweens do not have a start or end, they can only have a duration. Consider using a TimeGroup instead"); if (typeof t.duration != "number") throw Error("Tween options.duration is undefined, or is not a number"); t.start = (t.delay || 0) + this.position.localUnclamped, t.end = t.start + t.duration, t.preserveState = !0, t.snapAtCreation = !0; let i, r; e._animInfo && (i = e._animInfo.group, r = e._animInfo.controller); let s = super.addKeyframe(e, t); return e._animInfo.group = i, e._animInfo.controller = r, [["onStart", "once"], ["onDraw", "on"]].forEach(([o, a]) => { if (!t[o]) return; let l = t[o]; t[o] = s.controller[a]("draw", u => { s.markedForRemoval || (u.keyframe = s, l(u), u.keyframe = null) }) }), this.removeOverlappingProps(s), this.keyframes.push(s), this._timeEmitter.willRun() || (this.now = performance.now(), this._timeEmitter.run()), s } removeOverlappingProps(e) { if (e.controller._allKeyframes.length <= 1) return; let t = Object.keys(e.animValues), i = e.controller; for (let r = 0, s = i._allKeyframes.length; r < s; r++) { const o = i._allKeyframes[r]; if (o === e || o.markedForRemoval) continue; let a = Object.keys(o.animValues), l = a.filter(u => t.includes(u)); if (l.length === a.length) { o.markedForRemoval = !0, o.jsonProps.onDraw && o.controller.off("draw", o.jsonProps.onDraw); continue } l.forEach(u => delete o.animValues[u]) } } onTimeEmitterUpdate(e) { if (this._isPaused || this.keyframeControllers.length === 0) return; let t = performance.now(), i = (t - this.now) / 1e3; this.now = t; let r = this.position.local + i; this.position.local = this.position.localUnclamped = r, this.onTimeUpdate() } onTimeUpdate() { for (let e = 0, t = this.keyframes.length; e < t; e++)this.keyframes[e].markedForRemoval || this.keyframes[e].updateLocalProgress(this.position.localUnclamped); this.requestDOMChange(), this._timeEmitter.run(), this.gui !== null && this.gui.onScrollUpdate(this.position) } onDOMRead() { if (this.keyframesDirty && this.onKeyframesDirty(), this.keyframes.length !== 0) for (let e = 0, t = this.keyframes.length; e < t; e++) { this.keyframes[e].controller.needsWrite = !0; for (let i in this.keyframes[e].animValues) this.keyframes[e].onDOMRead(i) } } onDOMWrite() { super.onDOMWrite(), this.removeExpiredKeyframes() } removeExpiredKeyframes() { let e = this.keyframes.length, t = e; for (; e--;) { let i = this.keyframes[e]; if (i.destroyed) { this.keyframes.splice(e, 1); continue } i.markedForRemoval && (i.jsonProps.onComplete && i.localT === 1 && (i.controller.eventObject.keyframe = i, i.jsonProps.onComplete(i.controller.eventObject), i.jsonProps.onComplete = null), (this.gui === null || !this.gui.isDraggingPlayhead) && (i.remove(), this.keyframes.splice(e, 1)), i.jsonProps.onStart && i.controller.off("draw", i.jsonProps.onStart), i.jsonProps.onDraw && i.controller.off("draw", i.jsonProps.onDraw)), i.localT === 1 && (i.markedForRemoval = !0) } (this.keyframes.length !== t || this.keyframes.length === 0) && this._timeEmitter.executor.eventEmitter.once("after:draw", this.removeExpiredKeyframeControllers) } removeExpiredKeyframeControllers() { for (let e = 0, t = this.keyframeControllers.length; e < t; e++) { let i = !0, r = this.keyframeControllers[e]; for (let s = 0, o = r._allKeyframes.length; s < o; s++)if (!r._allKeyframes[s].destroyed) { i = !1; break } i && r.remove() } } updateBounds() { this.boundsMin = Math.min(...this.keyframes.map(e => e.start)), this.boundsMax = Math.max(...this.keyframes.map(e => e.end)) } play() { this.isEnabled = !0, this._isPaused = !1, this.now = performance.now(), this._timeEmitter.run() } pause() { this._isPaused = !0 } paused() { return this._isPaused } time(e) { if (e === void 0) return this.position.local; this.position.local = this.position.localUnclamped = mwe.clamp(e, this.boundsMin, this.boundsMax), this.onTimeUpdate() } performTimelineDispatch() { } hasDuration() { return !0 } getPosition() { return this.position.local } updateProgress(e) { } get duration() { return this.boundsMax } }; var vwe = _we, bwe = { version: "3.8.0", major: "3.x", majorMinor: "3.8" }, Cm, Lw; function ywe() { if (Lw) return Cm; Lw = 1; var n = ih(); return Cm = n.cancelAnimationFrame("update"), Cm } (function (n) { const e = Zu, t = Is, i = eh, r = R_, s = BN, o = B_, a = gwe, l = vwe, u = bwe, c = {}; typeof window < "u" && (c.update = O_(), c.cancelUpdate = ywe(), c.external = KN(), c.draw = N_()); let d = null; class f extends e { constructor() { if (super(), d) throw "You cannot create multiple AnimSystems. You probably want to create multiple groups instead. You can have unlimited groups on a page"; d = this, this.groups = [], this.scrollSystems = [], this.timeSystems = [], this.tweenGroup = null, this._forceUpdateRAFId = -1, this.initialized = !1, this.model = t, this.plugins = { keyframe: [], parser: [] }, this.version = u.version, this._resolveReady = () => { }, this.ready = new Promise(h => this._resolveReady = h), this.onScroll = this.onScroll.bind(this), this.onResizedDebounced = this.onResizedDebounced.bind(this), this.onResizeImmediate = this.onResizeImmediate.bind(this) } initialize() { return this.initialized || typeof window > "u" ? this.ready : (this.initialized = !0, this.timeSystems = [], this.scrollSystems = [], this.groups = [], this.setupEvents(), this.initializeResizeFilter(), this.initializeModel(), this.createDOMGroups(), this.createDOMKeyframes(), this.tweenGroup = new l(null, this), this.groups.unshift(this.tweenGroup), this._resolveReady(), this.ready) } use(h, m) { h.install(this, m) } remove() { return this.initialized ? Promise.all(this.groups.map(h => h.remove())).then(() => { this.groups = null, this.scrollSystems = null, this.timeSystems = null, window.clearTimeout(t.RESIZE_TIMEOUT), window.removeEventListener("scroll", this.onScroll), window.removeEventListener("resize", this.onResizeImmediate), this._events = {}, this.initialized = !1, this.ready = new Promise(h => this._resolveReady = h) }) : (this.ready = new Promise(h => this._resolveReady = h), Promise.resolve()) } destroy() { return this.remove() } createTimeGroup(h, m) { h instanceof HTMLElement || (m = h || {}, h = m.el); let v = new a(h, this); return m && m.name && (v.name = m.name), this.groups.push(v), this.timeSystems.push(v), this.trigger(t.EVENTS.ON_GROUP_CREATED, v), v } createScrollGroup(h, m) { if (!h) throw "AnimSystem scroll based groups must supply an HTMLElement"; let v = new o(h, this); return m = m || {}, m.name && (v.name = m.name), m.getPosition && m.getMaxPosition && (v.getPosition = m.getPosition, v.createViewableRange = () => ({ a: 0, d: m.getMaxPosition() })), v.getPosition = m.getPosition || v.getPosition, v.getPosition = m.getPosition || v.getPosition, this.groups.push(v), this.scrollSystems.push(v), this.trigger(t.EVENTS.ON_GROUP_CREATED, v), v } removeGroup(h) { return h.destroyed || h.anim !== this ? Promise.resolve() : Promise.all(h.keyframeControllers.map(m => h.removeKeyframeController(m))).then(() => { let m = this.groups.indexOf(h); m !== -1 && this.groups.splice(m, 1), m = this.scrollSystems.indexOf(h), m !== -1 && this.scrollSystems.splice(m, 1), m = this.timeSystems.indexOf(h), m !== -1 && this.timeSystems.splice(m, 1), h.destroyed || h.destroy() }) } createDOMGroups() { document.body.setAttribute("data-anim-scroll-group", "body"), document.querySelectorAll("[data-anim-scroll-group]").forEach(h => this.createScrollGroup(h)), document.querySelectorAll("[data-anim-time-group]").forEach(h => this.createTimeGroup(h)), this.trigger(t.EVENTS.ON_DOM_GROUPS_CREATED, this.groups) } createDOMKeyframes() { let h = [];["data-anim-keyframe", i.DATA_ATTRIBUTE, r.DATA_ATTRIBUTE, s.DATA_ATTRIBUTE].forEach(function (m) { for (let v = 0; v < 12; v++)h.push(m + (v === 0 ? "" : "-" + (v - 1))) }); for (let m = 0; m < h.length; m++) { let v = h[m], b = document.querySelectorAll("[" + v + "]"); for (let y = 0; y < b.length; y++) { const k = b[y], S = JSON.parse(k.getAttribute(v)); this.addKeyframe(k, S) } } c.update(() => { this.groups !== null && (this.groups.forEach(m => m.onKeyframesDirty({ silent: !0 })), this.groups.forEach(m => m.trigger(t.EVENTS.ON_DOM_KEYFRAMES_CREATED, m)), this.trigger(t.EVENTS.ON_DOM_KEYFRAMES_CREATED, this), this.groups.forEach(m => { m.forceUpdate({ waitForNextUpdate: !1, silent: !0 }), m.reconcile() }), this.onScroll()) }, !0) } initializeResizeFilter() { if (t.cssDimensionsTracker) return; const h = document.querySelector(".cssDimensionsTracker") || document.createElement("div"); h.setAttribute("cssDimensionsTracker", "true"), h.style.position = "fixed", h.style.top = "0", h.style.width = "100%", h.style.height = "100vh", h.style.pointerEvents = "none", h.style.visibility = "hidden", h.style.zIndex = "-1", document.documentElement.appendChild(h), t.cssDimensionsTracker = h } initializeModel() { t.pageMetrics.windowHeight = t.cssDimensionsTracker.clientHeight, t.pageMetrics.windowWidth = t.cssDimensionsTracker.clientWidth, t.pageMetrics.scrollY = window.scrollY || window.pageYOffset, t.pageMetrics.scrollX = window.scrollX || window.pageXOffset, t.pageMetrics.breakpoint = t.getBreakpoint(); let h = document.documentElement.getBoundingClientRect(); t.pageMetrics.documentOffsetX = h.left + t.pageMetrics.scrollX, t.pageMetrics.documentOffsetY = h.top + t.pageMetrics.scrollY } setupEvents() { window.removeEventListener("scroll", this.onScroll), window.addEventListener("scroll", this.onScroll), window.removeEventListener("resize", this.onResizeImmediate), window.addEventListener("resize", this.onResizeImmediate) } onScroll() { t.pageMetrics.scrollY = window.scrollY || window.pageYOffset, t.pageMetrics.scrollX = window.scrollX || window.pageXOffset; for (let h = 0, m = this.scrollSystems.length; h < m; h++)this.scrollSystems[h].updateTimeline(); this.trigger(t.PageEvents.ON_SCROLL, t.pageMetrics) } onResizeImmediate() { let h = t.cssDimensionsTracker.clientWidth, m = t.cssDimensionsTracker.clientHeight; if (h === t.pageMetrics.windowWidth && m === t.pageMetrics.windowHeight) return; t.pageMetrics.windowWidth = h, t.pageMetrics.windowHeight = m, t.pageMetrics.scrollY = window.scrollY || window.pageYOffset, t.pageMetrics.scrollX = window.scrollX || window.pageXOffset; let v = document.documentElement.getBoundingClientRect(); t.pageMetrics.documentOffsetX = v.left + t.pageMetrics.scrollX, t.pageMetrics.documentOffsetY = v.top + t.pageMetrics.scrollY, window.clearTimeout(t.RESIZE_TIMEOUT), t.RESIZE_TIMEOUT = window.setTimeout(this.onResizedDebounced, 250), this.trigger(t.PageEvents.ON_RESIZE_IMMEDIATE, t.pageMetrics) } onResizedDebounced() { c.update(() => { let h = t.pageMetrics.breakpoint, m = t.getBreakpoint(); if (m !== h) { t.pageMetrics.previousBreakpoint = h, t.pageMetrics.breakpoint = m; for (let b = 0, y = this.groups.length; b < y; b++)this.groups[b]._onBreakpointChange(); this.trigger(t.PageEvents.ON_BREAKPOINT_CHANGE, t.pageMetrics) } for (let b = 0, y = this.groups.length; b < y; b++)this.groups[b].forceUpdate({ waitForNextUpdate: !1 }); this.trigger(t.PageEvents.ON_RESIZE_DEBOUNCED, t.pageMetrics) }, !0) } forceUpdate({ waitForNextUpdate: h = !0, silent: m = !1 } = {}) { this._forceUpdateRAFId !== -1 && c.cancelUpdate(this._forceUpdateRAFId); let v = () => { for (let b = 0, y = this.groups.length; b < y; b++)this.groups[b].forceUpdate({ waitForNextUpdate: !1, silent: m }); return -1 }; this._forceUpdateRAFId = h ? c.update(v, !0) : v() } addKeyframe(h, m) { let v = this.getGroupForTarget(h); return v = v || this.getGroupForTarget(document.body), v.addKeyframe(h, m) } addEvent(h, m) { let v = this.getGroupForTarget(h); return v = v || this.getGroupForTarget(document.body), v.addEvent(h, m) } getTimeGroupForTarget(h) { return this._getGroupForTarget(h, m => m instanceof a) } getScrollGroupForTarget(h) { return this._getGroupForTarget(h, m => !(m instanceof a)) } getGroupForTarget(h) { return this._getGroupForTarget(h, () => !0) } getGroupByName(h) { return this.groups.find(m => m.name === h) } _getGroupForTarget(h, m) { if (h._animInfo && h._animInfo.group && m(h._animInfo.group)) return h._animInfo.group; let v = h; for (; v;) { if (v._animInfo && v._animInfo.isGroup && m(v._animInfo.group)) return v._animInfo.group; v = v.parentElement } } getControllerForTarget(h) { return h._animInfo && h._animInfo.controller ? h._animInfo.controller : null } addTween(h, m) { return this.tweenGroup.addKeyframe(h, m) } } n.exports = typeof window > "u" ? new f : window.AC.SharedInstance.share("AnimSystem", u.major, f), n.exports.default = n.exports })(Qbe); const ld = Jp, wwe = "now-playing-dialog"; function kwe(n) { let e, t; return { c() { e = L("div"), t = L("canvas"), this.h() }, l(i) { e = T(i, "DIV", { class: !0, "data-testid": !0 }); var r = E(e); t = T(r, "CANVAS", { class: !0 }), E(t).forEach(_), r.forEach(_), this.h() }, h() { p(t, "class", "svelte-2zgn0e"), p(e, "class", "dt-lyrics__platter svelte-2zgn0e"), p(e, "data-testid", "now-playing-backdrop") }, m(i, r) { I(i, e, r), A(e, t), n[2](t) }, p: j, i: j, o: j, d(i) { i && _(e), n[2](null) } } } function Dwe(n, e, t) { let { artworkURL: i } = e, r, s; Yt(async () => { const { LyricsScene: a } = await ft(() => import("./scene-e7ef6498.js"), []); s = new a(r, i) }), g0(() => { s && s.updateArtwork(i) }), mn(() => { s && s.destroy() }); function o(a) { wt[a ? "unshift" : "push"](() => { r = a, t(0, r) }) } return n.$$set = a => { "artworkURL" in a && t(1, i = a.artworkURL) }, [r, i, o] } class U_ extends oe { constructor(e) { super(), se(this, e, Dwe, kwe, ye, { artworkURL: 1 }) } } function Tw(n) { let e, t, i, r; return t = new U_({ props: { artworkURL: n[2] } }), { c() { e = L("div"), i = L("div"), V(t.$$.fragment), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); i = T(o, "DIV", { style: !0 }); var a = E(i); q(t.$$.fragment, a), o.forEach(_), this.h() }, h() { Pt(i, "display", "contents"), Pt(i, "--lyrics-border-radius", "0"), p(e, "class", "dynamic-backdrop svelte-10f8t8k") }, m(s, o) { I(s, e, o), A(e, i), H(t, i, null), r = !0 }, p(s, o) { const a = {}; o & 4 && (a.artworkURL = s[2]), t.$set(a) }, i(s) { r || (w(t.$$.fragment, s), r = !0) }, o(s) { D(t.$$.fragment, s), r = !1 }, d(s) { s && _(e), $(t) } } } function Swe(n) { let e, t, i = n[1] && !n[3] && Tw(n); return { c() { e = L("div"), i && i.c(), this.h() }, l(r) { e = T(r, "DIV", { "data-testid": !0, class: !0 }); var s = E(e); i && i.l(s), s.forEach(_), this.h() }, h() { p(e, "data-testid", "now-playing-backdrop"), p(e, "class", "backdrop svelte-10f8t8k"), J(e, "backdrop--video", n[3]), J(e, "backdrop--empty", !n[1]) }, m(r, s) { I(r, e, s), i && i.m(e, null), n[11](e), t = !0 }, p(r, [s]) { r[1] && !r[3] ? i ? (i.p(r, s), s & 10 && w(i, 1)) : (i = Tw(r), i.c(), w(i, 1), i.m(e, null)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()), (!t || s & 8) && J(e, "backdrop--video", r[3]), (!t || s & 2) && J(e, "backdrop--empty", !r[1]) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(), n[11](null) } } } function Cwe(n, e, t) { let i, r, s, o, a, l; var u, c; const { queue: d } = zn(); ce(n, d, m => t(10, l = m)); let { nowPlayingBackdropEl: f } = e, { item: g = null } = e; function h(m) { wt[m ? "unshift" : "push"](() => { f = m, t(0, f) }) } return n.$$set = m => { "nowPlayingBackdropEl" in m && t(0, f = m.nowPlayingBackdropEl), "item" in m && t(1, g = m.item) }, n.$$.update = () => { n.$$.dirty & 34 && t(9, i = t(5, u = g == null ? void 0 : g.contentDescriptor) === null || u === void 0 ? void 0 : u.kind), n.$$.dirty & 512 && t(3, r = Mc.includes(i)), n.$$.dirty & 1090 && t(8, s = !(t(6, c = l.nowPlayingItemInfo) === null || c === void 0) && c.streamingArtworkUrl ? Xg(l.nowPlayingItemInfo.streamingArtworkUrl) : g == null ? void 0 : g.artwork), n.$$.dirty & 256 && t(7, o = s == null ? void 0 : s.dictionary), n.$$.dirty & 128 && t(2, a = o ? ho(o.url, { width: 40, height: 40, crop: "bb", fileType: "jpg" }, {}) : null) }, [f, g, a, r, d, u, c, o, s, i, l, h] } class Pwe extends oe { constructor(e) { super(), se(this, e, Cwe, Swe, ye, { nowPlayingBackdropEl: 0, item: 1 }) } } function Awe(n) { let e, t, i; return t = new Gt({ props: { artwork: n[1], profile: "lyrics-fullscreen", useContainerStyle: !1, forceFullWidth: !1, disableAutoCenter: !0 } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { "data-testid": !0, class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "data-testid", "now-playing-artwork"), p(e, "class", "now-playing-artwork svelte-tyg4xq"), J(e, "now-playing-artwork--large", n[0] === "large"), J(e, "now-playing-artwork--landscape", n[0] === "landscape"), J(e, "now-playing-artwork--compact", n[0] === "compact"), J(e, "is-placeholder", n[2]) }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, [s]) { const o = {}; s & 2 && (o.artwork = r[1]), t.$set(o), (!i || s & 1) && J(e, "now-playing-artwork--large", r[0] === "large"), (!i || s & 1) && J(e, "now-playing-artwork--landscape", r[0] === "landscape"), (!i || s & 1) && J(e, "now-playing-artwork--compact", r[0] === "compact"), (!i || s & 4) && J(e, "is-placeholder", r[2]) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function Ewe(n, e, t) { let i, r, s; var o; const { queue: a } = zn(); ce(n, a, c => t(6, s = c)); let { item: l = null } = e, { layout: u = "large" } = e; return n.$$set = c => { "item" in c && t(4, l = c.item), "layout" in c && t(0, u = c.layout) }, n.$$.update = () => { n.$$.dirty & 16 && t(2, i = !l), n.$$.dirty & 112 && t(1, r = !(t(5, o = s.nowPlayingItemInfo) === null || o === void 0) && o.streamingArtworkUrl ? Xg(s.nowPlayingItemInfo.streamingArtworkUrl) : l == null ? void 0 : l.artwork) }, [u, r, i, a, l, o, s] } class Iwe extends oe { constructor(e) { super(), se(this, e, Ewe, Awe, ye, { item: 4, layout: 0 }) } } function Mwe(n) { let e, t; return { c() { e = ve("circle"), t = ve("path"), this.h() }, l(i) { e = be(i, "circle", { class: !0, cx: !0, cy: !0, r: !0 }), E(e).forEach(_), t = be(i, "path", { class: !0, d: !0 }), E(t).forEach(_), this.h() }, h() { p(e, "class", "favorite-icon__cutout-fill svelte-exd8bk"), p(e, "cx", "30"), p(e, "cy", "30"), p(e, "r", "28"), p(t, "class", "favorite-icon__star-circle-fill svelte-exd8bk"), p(t, "d", "M30 60c16.412 0 30-13.618 30-30C60 13.588 46.382 0 29.97 0 13.588 0 0 13.588 0 30c0 16.382 13.618 30 30 30Zm-8.706-14.324c-1.765 1.353-3.647-.029-2.941-2.117l3.412-10.265-8.794-6.265c-1.647-1.205-1.089-3.558 1.147-3.529l10.794.088 3.294-10.323c.647-2.03 2.94-2.03 3.588 0l3.294 10.323 10.794-.088c2.265-.03 2.765 2.353 1.147 3.5l-8.794 6.294 3.441 10.265c.677 2.088-1.176 3.47-2.97 2.117L30 39.324l-8.706 6.352Z") }, m(i, r) { I(i, e, r), I(i, t, r) }, p: j, d(i) { i && (_(e), _(t)) } } } function Lwe(n) { let e; function t(s, o) { return s[1] === "bold" ? Rwe : Twe } let i = t(n), r = i(n); return { c() { r.c(), e = re() }, l(s) { r.l(s), e = re() }, m(s, o) { r.m(s, o), I(s, e, o) }, p(s, o) { i !== (i = t(s)) && (r.d(1), r = i(s), r && (r.c(), r.m(e.parentNode, e))) }, d(s) { s && _(e), r.d(s) } } } function Twe(n) { let e; return { c() { e = ve("path"), this.h() }, l(t) { e = be(t, "path", { class: !0, d: !0 }), E(e).forEach(_), this.h() }, h() { p(e, "class", "favorite-icon__star svelte-exd8bk"), p(e, "d", "M18.907 45.857c.665.518 1.508.34 2.513-.39l8.575-6.305 8.592 6.305c1.005.73 1.831.908 2.512.39.665-.503.81-1.33.405-2.513L38.116 33.26l8.657-6.225c1.005-.713 1.41-1.459 1.15-2.27-.259-.777-1.02-1.166-2.269-1.15l-10.618.065-3.225-10.132c-.39-1.2-.973-1.799-1.816-1.799-.827 0-1.41.6-1.8 1.8L24.97 23.68l-10.618-.064c-1.248-.016-2.01.373-2.27 1.15-.275.811.146 1.557 1.152 2.27l8.656 6.225-3.388 10.083c-.405 1.183-.26 2.01.405 2.513Zm2.334-3.21c-.032-.033-.016-.049 0-.146l3.226-9.272c.227-.633.098-1.135-.47-1.524l-8.073-5.576c-.08-.05-.097-.081-.08-.13.016-.049.048-.049.145-.049l9.808.179c.664.016 1.086-.26 1.296-.924l2.821-9.386c.016-.098.049-.13.081-.13.049 0 .081.032.097.13l2.82 9.386c.212.664.633.94 1.298.924l9.807-.179c.097 0 .13 0 .146.049.016.049-.016.08-.081.13l-8.073 5.576c-.567.389-.697.891-.47 1.524l3.226 9.272c.016.097.032.113 0 .146-.033.048-.081.016-.146-.033l-7.797-5.949c-.519-.405-1.119-.405-1.637 0l-7.798 5.95c-.065.048-.113.08-.146.032Z") }, m(t, i) { I(t, e, i) }, d(t) { t && _(e) } } } function Rwe(n) { let e; return { c() { e = ve("path"), this.h() }, l(t) { e = be(t, "path", { class: !0, d: !0 }), E(e).forEach(_), this.h() }, h() { p(e, "class", "favorite-icon__star svelte-exd8bk"), p(e, "d", "M19.337 44.944c.851.647 1.887.448 3.031-.393l7.444-5.465 7.445 5.465c1.145.84 2.181 1.04 3.033.393.832-.63 1.006-1.68.55-2.99l-2.941-8.742 7.508-5.386c1.144-.806 1.644-1.747 1.3-2.756-.337-.992-1.282-1.476-2.679-1.459l-9.201.07-2.8-8.804c-.43-1.342-1.16-2.083-2.215-2.083-1.044 0-1.775.741-2.212 2.083l-2.8 8.805-9.21-.071c-1.389-.017-2.327.467-2.67 1.45-.345 1.018.163 1.959 1.3 2.765l7.507 5.386-2.94 8.742c-.456 1.31-.283 2.36.55 2.99zm3.418-4.686c-.022-.03-.028-.051-.007-.123l2.575-7.008c.338-.969.296-1.407-.635-2.02l-6.197-4.162c-.053-.04-.075-.071-.064-.102.01-.03.042-.039.113-.039l7.46.262c1.03.026 1.439-.212 1.716-1.215l2.025-7.175c.02-.071.04-.095.071-.095.031 0 .051.024.073.095l2.026 7.175c.277 1.003.693 1.241 1.732 1.215l7.452-.262c.071 0 .103.009.113.04.01.03-.011.052-.064.101l-6.206 4.17c-.922.614-.973 1.043-.628 2.012l2.569 7.008c.02.072.015.094-.007.123-.022.029-.053 0-.105-.033l-5.873-4.615c-.827-.648-1.326-.648-2.162 0l-5.864 4.615c-.052.033-.083.062-.113.033z") }, m(t, i) { I(t, e, i) }, d(t) { t && _(e) } } } function Fwe(n) { let e; function t(s, o) { return s[0] ? Mwe : Lwe } let i = t(n), r = i(n); return { c() { e = ve("svg"), r.c(), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0, class: !0 }); var o = E(e); r.l(o), o.forEach(_), this.h() }, h() { p(e, "width", "60"), p(e, "height", "60"), p(e, "viewBox", "0 0 60 60"), p(e, "xmlns", "http://www.w3.org/2000/svg"), p(e, "class", "favorite-icon svelte-exd8bk") }, m(s, o) { I(s, e, o), r.m(e, null) }, p(s, [o]) { i === (i = t(s)) && r ? r.p(s, o) : (r.d(1), r = i(s), r && (r.c(), r.m(e, null))) }, i: j, o: j, d(s) { s && _(e), r.d() } } } function Owe(n, e, t) { let { inFavorites: i } = e, { iconWeight: r = "regular" } = e; return n.$$set = s => { "inFavorites" in s && t(0, i = s.inFavorites), "iconWeight" in s && t(1, r = s.iconWeight) }, [i, r] } let Nwe = class extends oe { constructor(e) { super(), se(this, e, Owe, Fwe, ye, { inFavorites: 0, iconWeight: 1 }) } }; function Bwe(n) { let e; return { c() { e = ve("path"), this.h() }, l(t) { e = be(t, "path", { class: !0, d: !0 }), E(e).forEach(_), this.h() }, h() { p(e, "class", "favorite-icon__star-fill svelte-140g0lp"), p(e, "d", "M13.559 60.051c1.102.86 2.5.565 4.166-.645l14.218-10.455L46.19 59.406c1.666 1.21 3.037 1.505 4.166.645 1.102-.833 1.344-2.204.672-4.166l-5.618-16.718 14.353-10.32c1.666-1.183 2.338-2.42 1.908-3.764-.43-1.29-1.693-1.935-3.763-1.908l-17.605.108-5.348-16.8C34.308 4.496 33.34 3.5 31.944 3.5c-1.372 0-2.34.995-2.984 2.984L23.61 23.283l-17.605-.108c-2.07-.027-3.333.618-3.763 1.908-.457 1.344.242 2.58 1.909 3.763l14.352 10.321-5.617 16.718c-.672 1.962-.43 3.333.672 4.166Z") }, m(t, i) { I(t, e, i) }, d(t) { t && _(e) } } } function Uwe(n) { let e; return { c() { e = ve("path"), this.h() }, l(t) { e = be(t, "path", { class: !0, d: !0 }), E(e).forEach(_), this.h() }, h() { p(e, "class", "favorite-icon__star svelte-140g0lp"), p(e, "d", "M13.559 60.051c1.102.86 2.5.565 4.166-.645l14.218-10.455L46.19 59.406c1.666 1.21 3.037 1.505 4.166.645 1.102-.833 1.344-2.204.672-4.166l-5.618-16.718 14.353-10.32c1.666-1.183 2.338-2.42 1.908-3.764-.43-1.29-1.693-1.935-3.763-1.908l-17.605.108-5.348-16.8C34.308 4.496 33.34 3.5 31.944 3.5c-1.372 0-2.34.995-2.984 2.984L23.61 23.283l-17.605-.108c-2.07-.027-3.333.618-3.763 1.908-.457 1.344.242 2.58 1.909 3.763l14.352 10.321-5.617 16.718c-.672 1.962-.43 3.333.672 4.166Zm3.87-5.321c-.054-.054-.027-.081 0-.242l5.349-15.374c.376-1.049.161-1.882-.78-2.527L8.613 27.341c-.134-.08-.161-.134-.134-.215.027-.08.08-.08.242-.08l16.26.295c1.103.027 1.802-.43 2.151-1.532l4.677-15.562c.027-.162.08-.215.134-.215.08 0 .135.053.162.215l4.676 15.562c.35 1.102 1.048 1.559 2.15 1.532l16.261-.296c.162 0 .216 0 .243.081.027.08-.027.134-.135.215l-13.385 9.246c-.94.645-1.156 1.478-.78 2.527l5.35 15.374c.026.161.053.188 0 .242-.055.08-.135.026-.243-.054l-12.928-9.864c-.86-.672-1.855-.672-2.715 0l-12.928 9.864c-.107.08-.188.134-.242.054Z") }, m(t, i) { I(t, e, i) }, d(t) { t && _(e) } } } function Hwe(n) { let e; function t(s, o) { return s[0] ? Bwe : Uwe } let i = t(n), r = i(n); return { c() { e = ve("svg"), r.c(), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0, class: !0 }); var o = E(e); r.l(o), o.forEach(_), this.h() }, h() { p(e, "width", "64"), p(e, "height", "64"), p(e, "viewBox", "0 0 64 64"), p(e, "xmlns", "http://www.w3.org/2000/svg"), p(e, "class", "favorite-icon svelte-140g0lp") }, m(s, o) { I(s, e, o), r.m(e, null) }, p(s, [o]) { i !== (i = t(s)) && (r.d(1), r = i(s), r && (r.c(), r.m(e, null))) }, i: j, o: j, d(s) { s && _(e), r.d() } } } function $we(n, e, t) { let { inFavorites: i } = e; return n.$$set = r => { "inFavorites" in r && t(0, i = r.inFavorites) }, [i] } class Vwe extends oe { constructor(e) { super(), se(this, e, $we, Hwe, ye, { inFavorites: 0 }) } } function zwe(n) { let e, t; return e = new Vwe({ props: { inFavorites: n[3] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 8 && (s.inFavorites = i[3]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function qwe(n) { let e, t; return e = new Nwe({ props: { inFavorites: n[3], iconWeight: n[2] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 8 && (s.inFavorites = i[3]), r & 4 && (s.iconWeight = i[2]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function Wwe(n) { let e, t, i, r, s, o; const a = [qwe, zwe], l = []; function u(c, d) { return c[1] ? 0 : 1 } return t = u(n), i = l[t] = a[t](n), { c() { e = L("button"), i.c(), this.h() }, l(c) { e = T(c, "BUTTON", { class: !0, "aria-label": !0, title: !0, "data-testid": !0 }); var d = E(e); i.l(d), d.forEach(_), this.h() }, h() { p(e, "class", "favorite-button svelte-j6xj5e"), p(e, "aria-label", n[4]), p(e, "title", n[0]), p(e, "data-testid", "favorite-button"), J(e, "favorite-button--platter", n[1]), J(e, "favorite-button--non-platter", !n[1]), J(e, "is-favorited", n[3]) }, m(c, d) { I(c, e, d), l[t].m(e, null), r = !0, s || (o = [Me(e, "click", Vi(n[6])), Me(e, "dblclick", Vi(n[9]))], s = !0) }, p(c, [d]) { let f = t; t = u(c), t === f ? l[t].p(c, d) : (te(), D(l[f], 1, 1, () => { l[f] = null }), ne(), i = l[t], i ? i.p(c, d) : (i = l[t] = a[t](c), i.c()), w(i, 1), i.m(e, null)), (!r || d & 16) && p(e, "aria-label", c[4]), (!r || d & 1) && p(e, "title", c[0]), (!r || d & 2) && J(e, "favorite-button--platter", c[1]), (!r || d & 2) && J(e, "favorite-button--non-platter", !c[1]), (!r || d & 8) && J(e, "is-favorited", c[3]) }, i(c) { r || (w(i), r = !0) }, o(c) { D(i), r = !1 }, d(c) { c && _(e), l[t].d(), s = !1, Ot(o) } } } function Kwe(n, e, t) { let i, r, s; const o = ot(); ce(n, o, h => t(8, s = h)); let { isFavorited: a } = e, { title: l = "" } = e, { platter: u = !0 } = e, { iconWeight: c = "regular" } = e; const d = It(), f = () => d("toggle", !i); function g(h) { Bt.call(this, n, h) } return n.$$set = h => { "isFavorited" in h && t(7, a = h.isFavorited), "title" in h && t(0, l = h.title), "platter" in h && t(1, u = h.platter), "iconWeight" in h && t(2, c = h.iconWeight) }, n.$$.update = () => { n.$$.dirty & 128 && t(3, i = a), n.$$.dirty & 264 && t(4, r = i ? s.t("ASE.Web.Music.Favorite.Undo") : s.t("ASE.Web.Music.Favorite")) }, [l, u, c, i, r, o, f, a, s, g] } class Ol extends oe { constructor(e) { super(), se(this, e, Kwe, Wwe, ye, { isFavorited: 7, title: 0, platter: 1, iconWeight: 2 }) } } function Jwe(n) { let e, t, i, r, s, o, a; return i = new Oo({ props: { name: n[0], artwork: n[1], badgeStyle: "flat" } }), { c() { e = L("span"), t = L("div"), V(i.$$.fragment), r = Y(), s = L("span"), o = le(n[0]), this.h() }, l(l) { e = T(l, "SPAN", { class: !0 }); var u = E(e); t = T(u, "DIV", { class: !0 }); var c = E(t); q(i.$$.fragment, c), c.forEach(_), r = X(u), s = T(u, "SPAN", { class: !0, "data-testid": !0 }); var d = E(s); o = ue(d, n[0]), d.forEach(_), u.forEach(_), this.h() }, h() { p(t, "class", "interstellar-pill__artwork svelte-xj6y5i"), p(s, "class", "interstellar-pill__label svelte-xj6y5i"), p(s, "data-testid", "interstellar-pill-label"), p(e, "class", "interstellar-pill svelte-xj6y5i") }, m(l, u) { I(l, e, u), A(e, t), H(i, t, null), A(e, r), A(e, s), A(s, o), a = !0 }, p(l, [u]) { const c = {}; u & 1 && (c.name = l[0]), u & 2 && (c.artwork = l[1]), i.$set(c), (!a || u & 1) && me(o, l[0]) }, i(l) { a || (w(i.$$.fragment, l), a = !0) }, o(l) { D(i.$$.fragment, l), a = !1 }, d(l) { l && _(e), $(i) } } } function Ywe(n, e, t) { let { name: i = null } = e, { artwork: r = null } = e; return n.$$set = s => { "name" in s && t(0, i = s.name), "artwork" in s && t(1, r = s.artwork) }, [i, r] } class Xwe extends oe { constructor(e) { super(), se(this, e, Ywe, Jwe, ye, { name: 0, artwork: 1 }) } } function Zwe(n) { let e, t, i; return { c() { e = L("div"), t = L("div"), i = le(n[0]), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); t = T(s, "DIV", { class: !0 }); var o = E(t); i = ue(o, n[0]), o.forEach(_), s.forEach(_), this.h() }, h() { p(t, "class", "reaction svelte-hvn35m"), p(e, "class", "platter svelte-hvn35m") }, m(r, s) { I(r, e, s), A(e, t), A(t, i) }, p(r, [s]) { s & 1 && me(i, r[0]) }, i: j, o: j, d(r) { r && _(e) } } } function Qwe(n, e, t) { let { reaction: i = "" } = e; return n.$$set = r => { "reaction" in r && t(0, i = r.reaction) }, [i] } class jwe extends oe { constructor(e) { super(), se(this, e, Qwe, Zwe, ye, { reaction: 0 }) } } function Gwe(n) { let e, t, i; return t = new jwe({ props: { reaction: n[0] } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { "data-testid": !0, class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "data-testid", "reaction-badge"), p(e, "class", "reaction-badge svelte-372wdi") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, [s]) { const o = {}; s & 1 && (o.reaction = r[0]), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function xwe(n, e, t) { let { reaction: i = "" } = e; return n.$$set = r => { "reaction" in r && t(0, i = r.reaction) }, [i] } class QN extends oe { constructor(e) { super(), se(this, e, xwe, Gwe, ye, { reaction: 0 }) } } const Nl = Tt(null), H_ = Tt(null), kWe = () => { Nl.set(null), H_.set(null) }, DWe = n => { H_.set(n) }, SWe = n => { Nl.set(n) }; function Rw(n, e, t) { const i = n.slice(); return i[3] = e[t], i[5] = t, i } function Fw(n, e, t) { var s; const i = n.slice(); i[6] = e[t], i[9] = t; const r = (s = i[1]) == null ? void 0 : s.get(i[6].id); return i[7] = r, i } function Ow(n) { var g, h, m; let e, t, i, r, s, o, a = ((g = n[7]) == null ? void 0 : g.attributes.name) + "", l, u, c, d, f; return i = new Oo({ props: { artwork: (h = n[7]) == null ? void 0 : h.attributes.artwork, name: (m = n[7]) == null ? void 0 : m.attributes.name } }), c = new QN({ props: { reaction: n[3].attributes.value } }), { c() { e = L("li"), t = L("div"), V(i.$$.fragment), r = Y(), s = L("div"), o = L("span"), l = le(a), u = Y(), V(c.$$.fragment), d = Y(), this.h() }, l(v) { e = T(v, "LI", { "data-testid": !0, class: !0 }); var b = E(e); t = T(b, "DIV", { class: !0 }); var y = E(t); q(i.$$.fragment, y), r = X(y), s = T(y, "DIV", { class: !0 }); var k = E(s); o = T(k, "SPAN", { class: !0 }); var S = E(o); l = ue(S, a), S.forEach(_), k.forEach(_), u = X(y), q(c.$$.fragment, y), y.forEach(_), d = X(b), b.forEach(_), this.h() }, h() { p(o, "class", "svelte-1710ubn"), p(s, "class", "reaction-list-row__badge__name svelte-1710ubn"), p(t, "class", "reactions-list-row__badge__contributor-wrapper svelte-1710ubn"), p(e, "data-testid", "reaction-list-item"), p(e, "class", "reaction-badge--with-profile svelte-1710ubn") }, m(v, b) { I(v, e, b), A(e, t), H(i, t, null), A(t, r), A(t, s), A(s, o), A(o, l), A(t, u), H(c, t, null), A(e, d), f = !0 }, p(v, b) { var S, C, P; const y = {}; b & 3 && (y.artwork = (S = v[7]) == null ? void 0 : S.attributes.artwork), b & 3 && (y.name = (C = v[7]) == null ? void 0 : C.attributes.name), i.$set(y), (!f || b & 3) && a !== (a = ((P = v[7]) == null ? void 0 : P.attributes.name) + "") && me(l, a); const k = {}; b & 1 && (k.reaction = v[3].attributes.value), c.$set(k) }, i(v) { f || (w(i.$$.fragment, v), w(c.$$.fragment, v), f = !0) }, o(v) { D(i.$$.fragment, v), D(c.$$.fragment, v), f = !1 }, d(v) { v && _(e), $(i), $(c) } } } function Nw(n, e) { let t, i, r, s = ut(e[3].relationships["social-profile"].data), o = []; for (let l = 0; l < s.length; l += 1)o[l] = Ow(Fw(e, s, l)); const a = l => D(o[l], 1, 1, () => { o[l] = null }); return { key: n, first: null, c() { t = re(); for (let l = 0; l < o.length; l += 1)o[l].c(); i = re(), this.h() }, l(l) { t = re(); for (let u = 0; u < o.length; u += 1)o[u].l(l); i = re(), this.h() }, h() { this.first = t }, m(l, u) { I(l, t, u); for (let c = 0; c < o.length; c += 1)o[c] && o[c].m(l, u); I(l, i, u), r = !0 }, p(l, u) { if (e = l, u & 3) { s = ut(e[3].relationships["social-profile"].data); let c; for (c = 0; c < s.length; c += 1) { const d = Fw(e, s, c); o[c] ? (o[c].p(d, u), w(o[c], 1)) : (o[c] = Ow(d), o[c].c(), w(o[c], 1), o[c].m(i.parentNode, i)) } for (te(), c = s.length; c < o.length; c += 1)a(c); ne() } }, i(l) { if (!r) { for (let u = 0; u < s.length; u += 1)w(o[u]); r = !0 } }, o(l) { o = o.filter(Boolean); for (let u = 0; u < o.length; u += 1)D(o[u]); r = !1 }, d(l) { l && (_(t), _(i)), ln(o, l) } } } function eke(n) { let e, t, i = [], r = new Map, s, o = ut(n[0]); const a = l => l[3].id; for (let l = 0; l < o.length; l += 1) { let u = Rw(n, o, l), c = a(u); r.set(c, i[l] = Nw(c, u)) } return { c() { e = L("div"), t = L("ul"); for (let l = 0; l < i.length; l += 1)i[l].c(); this.h() }, l(l) { e = T(l, "DIV", { class: !0 }); var u = E(e); t = T(u, "UL", { class: !0 }); var c = E(t); for (let d = 0; d < i.length; d += 1)i[d].l(c); c.forEach(_), u.forEach(_), this.h() }, h() { p(t, "class", "reactions-list--with-profiles svelte-1710ubn"), p(e, "class", "reactions-list-scrolling-container svelte-1710ubn") }, m(l, u) { I(l, e, u), A(e, t); for (let c = 0; c < i.length; c += 1)i[c] && i[c].m(t, null); s = !0 }, p(l, [u]) { u & 3 && (o = ut(l[0]), te(), i = lr(i, u, a, 1, l, o, r, t, Ir, Nw, null, Rw), ne()) }, i(l) { if (!s) { for (let u = 0; u < o.length; u += 1)w(i[u]); s = !0 } }, o(l) { for (let u = 0; u < i.length; u += 1)D(i[u]); s = !1 }, d(l) { l && _(e); for (let u = 0; u < i.length; u += 1)i[u].d() } } } function tke(n, e, t) { let i, r; ce(n, H_, o => t(1, r = o)); let { reactions: s = [] } = e; return n.$$set = o => { "reactions" in o && t(2, s = o.reactions) }, n.$$.update = () => { n.$$.dirty & 4 && t(0, i = s.flatMap(o => o[1]).sort((o, a) => new Date(a.attributes.date).getTime() - new Date(o.attributes.date).getTime())) }, [i, r, s] } class nke extends oe { constructor(e) { super(), se(this, e, tke, eke, ye, { reactions: 2 }) } } function Bw(n, e, t) { const i = n.slice(); return i[8] = e[t][0], i[9] = e[t][1], i } function Uw(n) { let e, t, i = n[8] + "", r, s, o, a, l = n[9].length + "", u, c, d, f, g; function h() { return n[7](n[8]) } return { c() { e = L("button"), t = L("div"), r = le(i), o = Y(), a = L("div"), u = le(l), d = Y(), this.h() }, l(m) { e = T(m, "BUTTON", { class: !0, "data-testid": !0 }); var v = E(e); t = T(v, "DIV", { "data-testid": !0, class: !0 }); var b = E(t); r = ue(b, i), b.forEach(_), o = X(v), a = T(v, "DIV", { "data-testid": !0 }); var y = E(a); u = ue(y, l), y.forEach(_), d = X(v), v.forEach(_), this.h() }, h() { p(t, "data-testid", s = `reaction-summary-${n[8]}-value`), p(t, "class", "reaction svelte-kwznku"), p(a, "data-testid", c = `reaction-summary-${n[8]}-total`), p(e, "class", "reaction-summary-filter svelte-kwznku"), p(e, "data-testid", "reaction-summary-filter") }, m(m, v) { I(m, e, v), A(e, t), A(t, r), A(e, o), A(e, a), A(a, u), A(e, d), f || (g = Me(e, "click", Vi(Ui(h))), f = !0) }, p(m, v) { n = m, v & 1 && i !== (i = n[8] + "") && me(r, i), v & 1 && s !== (s = `reaction-summary-${n[8]}-value`) && p(t, "data-testid", s), v & 1 && l !== (l = n[9].length + "") && me(u, l), v & 1 && c !== (c = `reaction-summary-${n[8]}-total`) && p(a, "data-testid", c) }, d(m) { m && _(e), f = !1, g() } } } function ike(n) { let e, t, i, r = n[3].t("ASE.Web.Music.PlaylistReactions.All", { reactionsCount: n[2] }) + "", s, o, a, l, u = ut(n[0]), c = []; for (let d = 0; d < u.length; d += 1)c[d] = Uw(Bw(n, u, d)); return { c() { e = L("div"), t = L("button"), i = L("p"), s = le(r), o = Y(); for (let d = 0; d < c.length; d += 1)c[d].c(); this.h() }, l(d) { e = T(d, "DIV", { class: !0 }); var f = E(e); t = T(f, "BUTTON", { class: !0, "data-testid": !0 }); var g = E(t); i = T(g, "P", {}); var h = E(i); s = ue(h, r), h.forEach(_), g.forEach(_), o = X(f); for (let m = 0; m < c.length; m += 1)c[m].l(f); f.forEach(_), this.h() }, h() { p(t, "class", "reaction-summary-filter svelte-kwznku"), p(t, "data-testid", "reaction-summary-all"), J(t, "selected", !n[1]), p(e, "class", "reactions-summary svelte-kwznku") }, m(d, f) { I(d, e, f), A(e, t), A(t, i), A(i, s), A(e, o); for (let g = 0; g < c.length; g += 1)c[g] && c[g].m(e, null); a || (l = Me(t, "click", Vi(Ui(n[6]))), a = !0) }, p(d, [f]) { if (f & 12 && r !== (r = d[3].t("ASE.Web.Music.PlaylistReactions.All", { reactionsCount: d[2] }) + "") && me(s, r), f & 2 && J(t, "selected", !d[1]), f & 17) { u = ut(d[0]); let g; for (g = 0; g < u.length; g += 1) { const h = Bw(d, u, g); c[g] ? c[g].p(h, f) : (c[g] = Uw(h), c[g].c(), c[g].m(e, null)) } for (; g < c.length; g += 1)c[g].d(1); c.length = u.length } }, i: j, o: j, d(d) { d && _(e), ln(c, d), a = !1, l() } } } function rke(n, e, t) { let i, r; const s = It(), o = ot(); ce(n, o, d => t(3, r = d)); let { reactions: a = [] } = e, { filterId: l = null } = e; const u = () => s("clearReactionFilter"), c = d => s("filterReaction", d); return n.$$set = d => { "reactions" in d && t(0, a = d.reactions), "filterId" in d && t(1, l = d.filterId) }, n.$$.update = () => { n.$$.dirty & 1 && t(2, i = a.reduce((d, f) => d + f[1].length, 0)) }, [a, l, i, r, s, o, u, c] } class ske extends oe { constructor(e) { super(), se(this, e, rke, ike, ye, { reactions: 0, filterId: 1 }) } } function oke(n) { let e, t, i, r, s; return t = new ske({ props: { reactions: n[1], filterId: n[0] } }), t.$on("clearReactionFilter", n[4]), t.$on("filterReaction", n[3]), r = new nke({ props: { reactions: n[2] } }), { c() { e = L("div"), V(t.$$.fragment), i = Y(), V(r.$$.fragment), this.h() }, l(o) { e = T(o, "DIV", { "data-testid": !0, class: !0 }); var a = E(e); q(t.$$.fragment, a), i = X(a), q(r.$$.fragment, a), a.forEach(_), this.h() }, h() { p(e, "data-testid", "reactions-content"), p(e, "class", "reactions-content svelte-1ygb4uj") }, m(o, a) { I(o, e, a), H(t, e, null), A(e, i), H(r, e, null), s = !0 }, p(o, [a]) { const l = {}; a & 2 && (l.reactions = o[1]), a & 1 && (l.filterId = o[0]), t.$set(l); const u = {}; a & 4 && (u.reactions = o[2]), r.$set(u) }, i(o) { s || (w(t.$$.fragment, o), w(r.$$.fragment, o), s = !0) }, o(o) { D(t.$$.fragment, o), D(r.$$.fragment, o), s = !1 }, d(o) { o && _(e), $(t), $(r) } } } function ake(n, e, t) { let i, { reactions: r = [] } = e, { filterId: s = null } = e; function o(u) { return u ? r.filter(c => c[0] === s) : r } function a(u) { t(0, s = u.detail) } function l(u) { Bt.call(this, n, u) } return n.$$set = u => { "reactions" in u && t(1, r = u.reactions), "filterId" in u && t(0, s = u.filterId) }, n.$$.update = () => { n.$$.dirty & 3 && t(2, i = r && o(s)) }, [s, r, i, a, l] } class jN extends oe { constructor(e) { super(), se(this, e, ake, oke, ye, { reactions: 1, filterId: 0 }) } } function Hw(n, e, t) { const i = n.slice(); return i[5] = e[t][0], i[7] = t, i } function $w(n, e) { let t, i, r, s; return i = new QN({ props: { reaction: e[5] } }), { key: n, first: null, c() { t = L("li"), V(i.$$.fragment), r = Y(), this.h() }, l(o) { t = T(o, "LI", { "data-testid": !0, class: !0 }); var a = E(t); q(i.$$.fragment, a), r = X(a), a.forEach(_), this.h() }, h() { p(t, "data-testid", "reaction-badge-trigger-item"), p(t, "class", "reaction-badge--trigger-item svelte-udsim8"), this.first = t }, m(o, a) { I(o, t, a), H(i, t, null), A(t, r), s = !0 }, p(o, a) { e = o; const l = {}; a & 1 && (l.reaction = e[5]), i.$set(l) }, i(o) { s || (w(i.$$.fragment, o), s = !0) }, o(o) { D(i.$$.fragment, o), s = !1 }, d(o) { o && _(t), $(i) } } } function lke(n) { let e, t = [], i = new Map, r, s = ut(n[0]); const o = a => a[5]; for (let a = 0; a < s.length; a += 1) { let l = Hw(n, s, a), u = o(l); i.set(u, t[a] = $w(u, l)) } return { c() { e = L("ul"); for (let a = 0; a < t.length; a += 1)t[a].c(); this.h() }, l(a) { e = T(a, "UL", { class: !0, "data-testid": !0 }); var l = E(e); for (let u = 0; u < t.length; u += 1)t[u].l(l); l.forEach(_), this.h() }, h() { p(e, "class", "reaction-badges svelte-udsim8"), p(e, "data-testid", "reaction-badges-trigger") }, m(a, l) { I(a, e, l); for (let u = 0; u < t.length; u += 1)t[u] && t[u].m(e, null); r = !0 }, p(a, [l]) { l & 1 && (s = ut(a[0]), te(), t = lr(t, l, o, 1, a, s, i, e, Ir, $w, null, Hw), ne()) }, i(a) { if (!r) { for (let l = 0; l < s.length; l += 1)w(t[l]); r = !0 } }, o(a) { for (let l = 0; l < t.length; l += 1)D(t[l]); r = !1 }, d(a) { a && _(e); for (let l = 0; l < t.length; l += 1)t[l].d() } } } function uke(n, e, t) { let i, r, { reactions: s = [] } = e, { displayCount: o = 3 } = e, { usesBadgeStack: a = !1 } = e; return n.$$set = l => { "reactions" in l && t(1, s = l.reactions), "displayCount" in l && t(2, o = l.displayCount), "usesBadgeStack" in l && t(3, a = l.usesBadgeStack) }, n.$$.update = () => { n.$$.dirty & 6 && t(4, i = s == null ? void 0 : s.slice(0, o)), n.$$.dirty & 24 && t(0, r = a ? i.reverse() : i) }, [r, s, o, a, i] } class GN extends oe { constructor(e) { super(), se(this, e, uke, lke, ye, { reactions: 1, displayCount: 2, usesBadgeStack: 3 }) } } function Vw(n) { let e, t, i; return e = new Rl({ props: { modalTriggerElement: null, disableScrim: !1, translateFn: n[3].t, includeCollapseButton: !1, ariaLabelledBy: n[5], $$slots: { "close-trigger": [dke], default: [cke] }, $$scope: { ctx: n } } }), e.$on("close", n[8]), { c() { t = L("div"), V(e.$$.fragment), this.h() }, l(r) { t = T(r, "DIV", { style: !0 }); var s = E(t); q(e.$$.fragment, s), this.h() }, h() { Pt(t, "display", "contents"), Pt(t, "--slidingModalHeight", "auto"), Pt(t, "--slidingModalBorderRadius", "16px"), Pt(t, "--modalMaxWidth", "560px") }, m(r, s) { I(r, t, s), H(e, t, null), i = !0 }, p(r, s) { const o = {}; s & 8 && (o.translateFn = r[3].t), s & 8198 && (o.$$scope = { dirty: s, ctx: r }), e.$set(o) }, i(r) { i || (w(e.$$.fragment, r), i = !0) }, o(r) { D(e.$$.fragment, r), i = !1 }, d(r) { r && e && _(t), $(e, r) } } } function cke(n) { let e, t, i; function r(o) { n[11](o) } let s = { reactions: n[2] }; return n[1] !== void 0 && (s.filterId = n[1]), e = new jN({ props: s }), wt.push(() => Xr(e, "filterId", r)), e.$on("clearReactionFilter", n[6]), { c() { V(e.$$.fragment) }, l(o) { q(e.$$.fragment, o) }, m(o, a) { H(e, o, a), i = !0 }, p(o, a) { const l = {}; a & 4 && (l.reactions = o[2]), !t && a & 2 && (t = !0, l.filterId = o[1], Yr(() => t = !1)), e.$set(l) }, i(o) { i || (w(e.$$.fragment, o), i = !0) }, o(o) { D(e.$$.fragment, o), i = !1 }, d(o) { $(e, o) } } } function dke(n) { let e, t, i, r, s; return t = new rr({ props: { "aria-hidden": "true" } }), { c() { e = L("button"), V(t.$$.fragment), this.h() }, l(o) { e = T(o, "BUTTON", { class: !0, "data-testid": !0, slot: !0 }); var a = E(e); q(t.$$.fragment, a), a.forEach(_), this.h() }, h() { p(e, "class", "close-button svelte-yhso2n"), p(e, "data-testid", "close-button"), p(e, "slot", "close-trigger") }, m(o, a) { I(o, e, a), H(t, e, null), i = !0, r || (s = Me(e, "click", n[8]), r = !0) }, p: j, i(o) { i || (w(t.$$.fragment, o), i = !0) }, o(o) { D(t.$$.fragment, o), i = !1 }, d(o) { o && _(e), $(t), r = !1, s() } } } function fke(n) { let e, t, i, r, s, o, a, l = n[0] && Vw(n); return i = new GN({ props: { reactions: n[2], usesBadgeStack: !0 } }), { c() { l && l.c(), e = Y(), t = L("button"), V(i.$$.fragment), this.h() }, l(u) { l && l.l(u), e = X(u), t = T(u, "BUTTON", { class: !0, "data-testid": !0, "aria-expanded": !0, "aria-label": !0 }); var c = E(t); q(i.$$.fragment, c), c.forEach(_), this.h() }, h() { p(t, "class", "reactions-sliding-modal-wrapper svelte-yhso2n"), p(t, "data-testid", "reactions-sliding=modal-trigger"), p(t, "aria-expanded", n[0]), p(t, "aria-label", r = n[3].t("ASE.Web.Music.Reactions.SongReactions")) }, m(u, c) { l && l.m(u, c), I(u, e, c), I(u, t, c), H(i, t, null), s = !0, o || (a = Me(t, "click", Vi(Ui(n[7]))), o = !0) }, p(u, [c]) { u[0] ? l ? (l.p(u, c), c & 1 && w(l, 1)) : (l = Vw(u), l.c(), w(l, 1), l.m(e.parentNode, e)) : l && (te(), D(l, 1, 1, () => { l = null }), ne()); const d = {}; c & 4 && (d.reactions = u[2]), i.$set(d), (!s || c & 1) && p(t, "aria-expanded", u[0]), (!s || c & 8 && r !== (r = u[3].t("ASE.Web.Music.Reactions.SongReactions"))) && p(t, "aria-label", r) }, i(u) { s || (w(l), w(i.$$.fragment, u), s = !0) }, o(u) { D(l), D(i.$$.fragment, u), s = !1 }, d(u) { u && (_(e), _(t)), l && l.d(u), $(i), o = !1, a() } } } function gke(n, e, t) { let i, r, s; ce(n, Nl, v => t(10, r = v)); const o = ot(); ce(n, o, v => t(3, s = v)); const a = It(), l = ro()(); let { trackId: u } = e, c = !1, d; function f() { t(1, d = null) } function g() { t(0, c = !0) } function h() { a("close"), t(0, c = !1), f() } function m(v) { d = v, t(1, d) } return n.$$set = v => { "trackId" in v && t(9, u = v.trackId) }, n.$$.update = () => { n.$$.dirty & 1536 && t(2, i = r == null ? void 0 : r.get(u)) }, [c, d, i, s, o, l, f, g, h, u, r, m] } class hke extends oe { constructor(e) { super(), se(this, e, gke, fke, ye, { trackId: 9 }) } } function zw(n) { let e, t, i, r, s, o, a, l, u, c = n[12] && qw(n), d = n[2] && !n[17] && Ww(n); return { c() { e = L("div"), t = L("div"), c && c.c(), i = Y(), r = L("div"), s = L("amp-lcd-metadata"), o = Y(), d && d.c(), this.h() }, l(f) { e = T(f, "DIV", { class: !0 }); var g = E(e); t = T(g, "DIV", { class: !0 }); var h = E(t); c && c.l(h), i = X(h), r = T(h, "DIV", { class: !0 }); var m = E(r); s = T(m, "AMP-LCD-METADATA", { "eager-load-metadata": !0, class: !0 }), E(s).forEach(_), o = X(m), d && d.l(m), m.forEach(_), h.forEach(_), g.forEach(_), this.h() }, h() { Xe(s, "eager-load-metadata", ""), Xe(s, "class", "svelte-1k62exr"), J(s, "has-reactions", n[10]), p(r, "class", "metadata__song-details svelte-1k62exr"), p(t, "class", "metadata-container svelte-1k62exr"), p(e, "class", "metadata svelte-1k62exr") }, m(f, g) { I(f, e, g), A(e, t), c && c.m(t, null), A(t, i), A(t, r), A(r, s), A(r, o), d && d.m(r, null), n[43](e), a = !0, l || (u = [Me(s, "lcdMetadataFetched", n[40]), Ut(xg.call(null, r, n[22])), Me(r, "mkNavigate", n[39])], l = !0) }, p(f, g) { f[12] ? c ? (c.p(f, g), g[0] & 4096 && w(c, 1)) : (c = qw(f), c.c(), w(c, 1), c.m(t, i)) : c && (te(), D(c, 1, 1, () => { c = null }), ne()), (!a || g[0] & 1024) && J(s, "has-reactions", f[10]), f[2] && !f[17] ? d ? (d.p(f, g), g[0] & 131076 && w(d, 1)) : (d = Ww(f), d.c(), w(d, 1), d.m(r, null)) : d && (te(), D(d, 1, 1, () => { d = null }), ne()) }, i(f) { a || (w(c), w(d), a = !0) }, o(f) { D(c), D(d), a = !1 }, d(f) { f && _(e), c && c.d(), d && d.d(), n[43](null), l = !1, Ot(u) } } } function qw(n) { let e, t, i; return t = new Xwe({ props: { name: n[8], artwork: n[13] } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0, "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "metadata__attribution svelte-1k62exr"), p(e, "data-testid", "attribution") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[0] & 256 && (o.name = r[8]), s[0] & 8192 && (o.artwork = r[13]), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function Ww(n) { var l; let e, t, i, r, s, o, a = ((l = n[10]) == null ? void 0 : l.length) && n[3] !== "compact" && Kw(n); return i = new Ol({ props: { isFavorited: n[9], platter: !0, iconWeight: "bold" } }), i.$on("toggle", n[25]), s = new Ro({ props: { config: n[4], translateFn: n[19].t, hasMaterial: !1 } }), { c() { e = L("div"), a && a.c(), t = Y(), V(i.$$.fragment), r = Y(), V(s.$$.fragment), this.h() }, l(u) { e = T(u, "DIV", { class: !0 }); var c = E(e); a && a.l(c), t = X(c), q(i.$$.fragment, c), r = X(c), q(s.$$.fragment, c), c.forEach(_), this.h() }, h() { p(e, "class", "accessory-buttons svelte-1k62exr") }, m(u, c) { I(u, e, c), a && a.m(e, null), A(e, t), H(i, e, null), A(e, r), H(s, e, null), o = !0 }, p(u, c) { var g; (g = u[10]) != null && g.length && u[3] !== "compact" ? a ? (a.p(u, c), c[0] & 1032 && w(a, 1)) : (a = Kw(u), a.c(), w(a, 1), a.m(e, t)) : a && (te(), D(a, 1, 1, () => { a = null }), ne()); const d = {}; c[0] & 512 && (d.isFavorited = u[9]), i.$set(d); const f = {}; c[0] & 16 && (f.config = u[4]), c[0] & 524288 && (f.translateFn = u[19].t), s.$set(f) }, i(u) { o || (w(a), w(i.$$.fragment, u), w(s.$$.fragment, u), o = !0) }, o(u) { D(a), D(i.$$.fragment, u), D(s.$$.fragment, u), o = !1 }, d(u) { u && _(e), a && a.d(), $(i), $(s) } } } function Kw(n) { let e, t; return e = new hke({ props: { trackId: n[7] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 128 && (s.trackId = i[7]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function mke(n) { let e, t, i, r, s, o, a, l, u; r = new Iwe({ props: { item: n[2], layout: n[3] } }); let c = n[6] && zw(n); return { c() { e = L("div"), t = L("div"), i = L("button"), V(r.$$.fragment), o = Y(), c && c.c(), this.h() }, l(d) { e = T(d, "DIV", { "data-testid": !0, class: !0 }); var f = E(e); t = T(f, "DIV", { class: !0 }); var g = E(t); i = T(g, "BUTTON", { "data-testid": !0, class: !0, "aria-label": !0 }); var h = E(i); q(r.$$.fragment, h), h.forEach(_), g.forEach(_), o = X(f), c && c.l(f), f.forEach(_), this.h() }, h() { p(i, "data-testid", "now-playing-artwork-button"), p(i, "class", "artwork-button svelte-1k62exr"), p(i, "aria-label", n[5]), i.disabled = s = n[3] !== "compact" && !n[2], p(t, "class", "artwork-container svelte-1k62exr"), p(e, "data-testid", "now-playing-item"), p(e, "class", "playback-item svelte-1k62exr"), J(e, "playback-item--large", n[3] === "large"), J(e, "playback-item--landscape", n[3] === "landscape"), J(e, "playback-item--compact", n[3] === "compact"), J(e, "is-video", n[18]), J(e, "is-paused", n[16] || n[15]), J(e, "is-empty", n[14]), J(e, "has-pill", n[12]) }, m(d, f) { I(d, e, f), A(e, t), A(t, i), H(r, i, null), n[42](t), A(e, o), c && c.m(e, null), a = !0, l || (u = Me(i, "click", n[41]), l = !0) }, p(d, f) { const g = {}; f[0] & 4 && (g.item = d[2]), f[0] & 8 && (g.layout = d[3]), r.$set(g), (!a || f[0] & 32) && p(i, "aria-label", d[5]), (!a || f[0] & 12 && s !== (s = d[3] !== "compact" && !d[2])) && (i.disabled = s), d[6] ? c ? (c.p(d, f), f[0] & 64 && w(c, 1)) : (c = zw(d), c.c(), w(c, 1), c.m(e, null)) : c && (te(), D(c, 1, 1, () => { c = null }), ne()), (!a || f[0] & 8) && J(e, "playback-item--large", d[3] === "large"), (!a || f[0] & 8) && J(e, "playback-item--landscape", d[3] === "landscape"), (!a || f[0] & 8) && J(e, "playback-item--compact", d[3] === "compact"), (!a || f[0] & 262144) && J(e, "is-video", d[18]), (!a || f[0] & 98304) && J(e, "is-paused", d[16] || d[15]), (!a || f[0] & 16384) && J(e, "is-empty", d[14]), (!a || f[0] & 4096) && J(e, "has-pill", d[12]) }, i(d) { a || (w(r.$$.fragment, d), w(c), a = !0) }, o(d) { D(r.$$.fragment, d), D(c), a = !1 }, d(d) { d && _(e), $(r), n[42](null), c && c.d(), l = !1, u() } } } function pke(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M = j, R = () => (M(), M = yn(v, De => t(36, P = De)), v), F, N, O; ce(n, al, De => t(44, S = De)), ce(n, Nl, De => t(35, C = De)), n.$$.on_destroy.push(() => M()); var B, U, K, W; const Z = It(), Q = ot(); ce(n, Q, De => t(19, O = De)); const G = Qn(), ae = fn(), ee = sn(), { queue: pe } = zn(); ce(n, pe, De => t(38, N = De)); const { sharePlayState: ke } = Or(); ce(n, ke, De => t(37, F = De)); let { artworkContainerEl: we = null } = e, { metadataEl: Te = null } = e, { item: ge = null } = e, { layout: Ce = "large" } = e, { contextualMenuConfig: he } = e, { artworkButtonAriaLabel: Ae = null } = e, { showMetaElm: ze = !0 } = e; const Pe = () => { Ml(r, s, i, y, G, S, !0, ee) }; function Oe(De) { Bt.call(this, n, De) } function _e(De) { Bt.call(this, n, De) } const Se = () => Z("artworkClick"); function Re(De) { wt[De ? "unshift" : "push"](() => { we = De, t(0, we) }) } function Ze(De) { wt[De ? "unshift" : "push"](() => { Te = De, t(1, Te) }) } return n.$$set = De => { "artworkContainerEl" in De && t(0, we = De.artworkContainerEl), "metadataEl" in De && t(1, Te = De.metadataEl), "item" in De && t(2, ge = De.item), "layout" in De && t(3, Ce = De.layout), "contextualMenuConfig" in De && t(4, he = De.contextualMenuConfig), "artworkButtonAriaLabel" in De && t(5, Ae = De.artworkButtonAriaLabel), "showMetaElm" in De && t(6, ze = De.showMetaElm) }, n.$$.update = () => { n.$$.dirty[0] & 4 && t(30, i = ge == null ? void 0 : ge.contentDescriptor), n.$$.dirty[0] & 1073741824 && t(7, r = i && fr({ contentDescriptor: i })), n.$$.dirty[0] & 1073741824 && t(31, s = i == null ? void 0 : i.kind), n.$$.dirty[1] & 1 && t(18, o = Mc.includes(s)), n.$$.dirty[0] & 67108868 && t(17, a = (t(26, B = ge == null ? void 0 : ge.contentDescriptor) === null || B === void 0 ? void 0 : B.kind) === x.RadioStation && !Qt(ge)), n.$$.dirty[1] & 128 && t(16, l = N.derivedStates.isPaused), n.$$.dirty[1] & 128 && t(15, u = N.derivedStates.isStopped), n.$$.dirty[0] & 4 && t(14, c = !ge), n.$$.dirty[0] & 4 && t(8, d = ge == null ? void 0 : ge.participantName), n.$$.dirty[0] & 4 && t(34, f = ge == null ? void 0 : ge.participantIdentifier), n.$$.dirty[0] & 134217728 | n.$$.dirty[1] & 72 && t(33, g = t(27, U = F.members) === null || U === void 0 ? void 0 : U.find(De => De.profile.identifier === f)), n.$$.dirty[0] & 805306368 | n.$$.dirty[1] & 4 && t(13, h = t(29, W = t(28, K = g == null ? void 0 : g.profile) === null || K === void 0 ? void 0 : K.artwork) === null || W === void 0 ? void 0 : W.dictionary), n.$$.dirty[0] & 256 | n.$$.dirty[1] & 64 && t(12, m = F.inSession && !!d), n.$$.dirty[0] & 128 && R(t(11, v = G.subscribeToUpdates(r))), n.$$.dirty[0] & 128 | n.$$.dirty[1] & 33 && t(32, b = P && G.get(r, s)), n.$$.dirty[1] & 2 && t(9, y = b == null ? void 0 : b.inFavorites), n.$$.dirty[0] & 132 | n.$$.dirty[1] & 16 && t(10, k = (ge == null ? void 0 : ge.hasCollaboration) && (C == null ? void 0 : C.get(r))) }, [we, Te, ge, Ce, he, Ae, ze, r, d, y, k, v, m, h, c, u, l, a, o, O, Z, Q, ae, pe, ke, Pe, B, U, K, W, i, s, b, g, f, C, P, F, N, Oe, _e, Se, Re, Ze] } class $_ extends oe { constructor(e) { super(), se(this, e, pke, mke, ye, { artworkContainerEl: 0, metadataEl: 1, item: 2, layout: 3, contextualMenuConfig: 4, artworkButtonAriaLabel: 5, showMetaElm: 6 }, null, [-1, -1]) } } function _ke(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M3.325 33.616c1.847 0 3.293-1.456 3.293-3.325v-2.406c0-4.968 3.339-8.08 8.667-8.08H37.13v6.48c0 1.538.914 2.441 2.44 2.441.721 0 1.33-.254 1.833-.669l11.475-9.596c1.168-.986 1.2-2.564 0-3.557L41.403 5.297a2.814 2.814 0 0 0-1.834-.665c-1.525 0-2.439.9-2.439 2.441v6.252H15.715C6.079 13.325 0 18.558 0 27.15v3.141a3.288 3.288 0 0 0 3.325 3.325zm57.35-3.244c-1.864 0-3.314 1.457-3.314 3.326v2.406c0 4.968-3.339 8.08-8.646 8.08h-21.84v-6.47c0-1.537-.936-2.44-2.466-2.44-.7 0-1.327.254-1.829.669L11.1 45.539c-1.167 1.007-1.178 2.564 0 3.557l11.48 9.607a2.87 2.87 0 0 0 1.83.665c1.529 0 2.464-.9 2.464-2.441v-6.263H48.29c9.636 0 15.71-5.234 15.71-13.825v-3.141c0-1.87-1.457-3.326-3.325-3.326z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function vke(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Jw = class extends oe { constructor(e) { super(), se(this, e, vke, _ke, ht, {}) } }; function bke(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M3.32 33.913c1.93 0 3.29-1.36 3.29-3.32v-2.404c0-4.96 3.333-8.069 8.654-8.069h14.337v6.472c0 1.536.913 2.437 2.436 2.437.72 0 1.33-.254 1.83-.667l11.465-9.584c1.183-1.006 1.194-2.56 0-3.552L33.868 5.632a2.81 2.81 0 0 0-1.831-.664c-1.523 0-2.436.898-2.436 2.438v6.243H15.694C6.07 13.649 0 18.875 0 27.455v3.137c0 1.95 1.374 3.321 3.32 3.321zm57.272-3.24c-1.946 0-3.31 1.36-3.31 3.321v2.403c0 4.961-3.333 8.069-8.633 8.069H26.838v-6.46c0-1.536-.935-2.438-2.462-2.438-.699 0-1.325.254-1.826.668L11.085 45.82c-1.165 1.007-1.176 2.561 0 3.553l11.465 9.594c.5.41 1.127.663 1.826.663 1.527 0 2.462-.897 2.462-2.437v-6.255h21.386c9.623 0 15.69-5.226 15.69-13.806v-3.137c0-1.95-1.37-3.32-3.322-3.32zm.128-5.696c1.998 0 3.28-1.138 3.28-3.344V8.216c0-2.306-1.58-3.845-3.853-3.845-1.8 0-2.968.568-4.34 1.618l-3.799 2.85c-.95.703-1.24 1.262-1.24 2.092 0 1.208.906 2.04 2.15 2.04.572 0 1.042-.168 1.527-.538l2.717-2.15h.268v11.35c0 2.206 1.285 3.344 3.29 3.344z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function yke(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Yw = class extends oe { constructor(e) { super(), se(this, e, yke, bke, ht, {}) } }; function wke(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M0 32c0 9.048 5.805 14.99 14.353 14.99 4.485 0 8.308-1.888 12.313-5.766l5.336-5.167 5.332 5.167c4.008 3.878 7.828 5.766 12.313 5.766C58.195 46.99 64 41.048 64 32s-5.805-14.99-14.353-14.99c-4.485 0-8.305 1.888-12.313 5.766l-5.332 5.167-5.336-5.167c-4.005-3.878-7.828-5.766-12.313-5.766C5.805 17.01 0 22.952 0 32zm5.928 0c0-5.521 3.41-9.058 8.425-9.058 2.803 0 5.304 1.357 8.163 4.056L27.824 32l-5.311 5.002c-2.859 2.699-5.36 4.056-8.16 4.056-5.015 0-8.425-3.537-8.425-9.058zm30.248 0 5.308-5.002c2.862-2.699 5.363-4.056 8.163-4.056 5.018 0 8.425 3.537 8.425 9.058s-3.407 9.058-8.425 9.058c-2.796 0-5.298-1.357-8.16-4.056z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function kke(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Dke = class extends oe { constructor(e) { super(), se(this, e, kke, wke, ht, {}) } }; function Xw(n) { let e, t, i, r, s, o, a, l, u, c; return t = new fl({ props: { maskSvg: mN, inverted: n[6] } }), a = new fl({ props: { maskSvg: n[2] === Wu.one ? Yw : Jw, inverted: n[5] } }), { c() { e = L("div"), V(t.$$.fragment), i = Y(), r = L("amp-playback-controls-shuffle"), s = Y(), o = L("div"), V(a.$$.fragment), l = Y(), u = L("amp-playback-controls-repeat"), this.h() }, l(d) { e = T(d, "DIV", { class: !0, "data-testid": !0 }); var f = E(e); q(t.$$.fragment, f), i = X(f), r = T(f, "AMP-PLAYBACK-CONTROLS-SHUFFLE", { class: !0 }), E(r).forEach(_), f.forEach(_), s = X(d), o = T(d, "DIV", { class: !0, "data-testid": !0 }); var g = E(o); q(a.$$.fragment, g), l = X(g), u = T(g, "AMP-PLAYBACK-CONTROLS-REPEAT", { class: !0 }), E(u).forEach(_), g.forEach(_), this.h() }, h() { Xe(r, "class", "svelte-rnubia"), p(e, "class", "queue-header-icon svelte-rnubia"), p(e, "data-testid", "shuffle-button"), J(e, "is-disabled", n[0]), Xe(u, "class", "svelte-rnubia"), p(o, "class", "queue-header-icon svelte-rnubia"), p(o, "data-testid", "repeat-button"), J(o, "is-disabled", n[0]) }, m(d, f) { I(d, e, f), H(t, e, null), A(e, i), A(e, r), I(d, s, f), I(d, o, f), H(a, o, null), A(o, l), A(o, u), c = !0 }, p(d, f) { const g = {}; f & 64 && (g.inverted = d[6]), t.$set(g), (!c || f & 1) && J(e, "is-disabled", d[0]); const h = {}; f & 4 && (h.maskSvg = d[2] === Wu.one ? Yw : Jw), f & 32 && (h.inverted = d[5]), a.$set(h), (!c || f & 1) && J(o, "is-disabled", d[0]) }, i(d) { c || (w(t.$$.fragment, d), w(a.$$.fragment, d), c = !0) }, o(d) { D(t.$$.fragment, d), D(a.$$.fragment, d), c = !1 }, d(d) { d && (_(e), _(s), _(o)), $(t), $(a) } } } function Zw(n) { let e, t, i, r, s; return t = new fl({ props: { maskSvg: Dke, maskWidth: 21, maskHeight: 21, inverted: n[1] } }), { c() { e = L("div"), V(t.$$.fragment), i = Y(), r = L("amp-playback-controls-autoplay"), this.h() }, l(o) { e = T(o, "DIV", { class: !0, "data-testid": !0 }); var a = E(e); q(t.$$.fragment, a), i = X(a), r = T(a, "AMP-PLAYBACK-CONTROLS-AUTOPLAY", { class: !0 }), E(r).forEach(_), a.forEach(_), this.h() }, h() { Xe(r, "class", "svelte-rnubia"), p(e, "class", "queue-header-icon svelte-rnubia"), p(e, "data-testid", "autoplay-button") }, m(o, a) { I(o, e, a), H(t, e, null), A(e, i), A(e, r), s = !0 }, p(o, a) { const l = {}; a & 2 && (l.inverted = o[1]), t.$set(l) }, i(o) { s || (w(t.$$.fragment, o), s = !0) }, o(o) { D(t.$$.fragment, o), s = !1 }, d(o) { o && _(e), $(t) } } } function Ske(n) { let e, t, i, r = n[4] && Xw(n), s = n[3] && Zw(n); return { c() { e = L("div"), r && r.c(), t = Y(), s && s.c(), this.h() }, l(o) { e = T(o, "DIV", { class: !0 }); var a = E(e); r && r.l(a), t = X(a), s && s.l(a), a.forEach(_), this.h() }, h() { p(e, "class", "queue-controls svelte-rnubia") }, m(o, a) { I(o, e, a), r && r.m(e, null), A(e, t), s && s.m(e, null), i = !0 }, p(o, [a]) { o[4] ? r ? (r.p(o, a), a & 16 && w(r, 1)) : (r = Xw(o), r.c(), w(r, 1), r.m(e, t)) : r && (te(), D(r, 1, 1, () => { r = null }), ne()), o[3] ? s ? (s.p(o, a), a & 8 && w(s, 1)) : (s = Zw(o), s.c(), w(s, 1), s.m(e, null)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()) }, i(o) { i || (w(r), w(s), i = !0) }, o(o) { D(r), D(s), i = !1 }, d(o) { o && _(e), r && r.d(), s && s.d() } } } function Cke(n, e, t) { let i, r, { buttonsDisabled: s = !0 } = e, { isAutoplayEnabled: o = !0 } = e, { repeatMode: a = Wu.none } = e, { shuffleMode: l = Op.off } = e, { showAutoplayButton: u = !1 } = e, { showShuffleRepeatButtons: c = !0 } = e; return n.$$set = d => { "buttonsDisabled" in d && t(0, s = d.buttonsDisabled), "isAutoplayEnabled" in d && t(1, o = d.isAutoplayEnabled), "repeatMode" in d && t(2, a = d.repeatMode), "shuffleMode" in d && t(7, l = d.shuffleMode), "showAutoplayButton" in d && t(3, u = d.showAutoplayButton), "showShuffleRepeatButtons" in d && t(4, c = d.showShuffleRepeatButtons) }, n.$$.update = () => { n.$$.dirty & 128 && t(6, i = l !== Op.off), n.$$.dirty & 4 && t(5, r = a !== Wu.none) }, [s, o, a, u, c, r, i, l] } class Pke extends oe { constructor(e) { super(), se(this, e, Cke, Ske, ye, { buttonsDisabled: 0, isAutoplayEnabled: 1, repeatMode: 2, shuffleMode: 7, showAutoplayButton: 3, showShuffleRepeatButtons: 4 }) } } var xN = function () { function n() { this.registry = new WeakMap } return n.prototype.elementExists = function (e) { return this.registry.has(e) }, n.prototype.getElement = function (e) { return this.registry.get(e) }, n.prototype.addElement = function (e, t) { e && this.registry.set(e, t || {}) }, n.prototype.removeElement = function (e) { this.registry.delete(e) }, n.prototype.destroyRegistry = function () { this.registry = new WeakMap }, n }(), Ake = function () { }, _s; (function (n) { n.enter = "enter", n.exit = "exit" })(_s || (_s = {})); var Eke = function () { function n() { this.registry = new xN } return n.prototype.addCallback = function (e, t, i) { var r, s, o; e === _s.enter ? o = (r = {}, r[_s.enter] = i, r) : o = (s = {}, s[_s.exit] = i, s), this.registry.addElement(t, Object.assign({}, this.registry.getElement(t), o)) }, n.prototype.dispatchCallback = function (e, t, i) { if (e === _s.enter) { var r = this.registry.getElement(t).enter, s = r === void 0 ? Ake : r; s(i) } else { var o = this.registry.getElement(t); o && o.exit && o.exit(i) } }, n }(), Ike = function () { var n = function (e, t) { return n = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (i, r) { i.__proto__ = r } || function (i, r) { for (var s in r) Object.prototype.hasOwnProperty.call(r, s) && (i[s] = r[s]) }, n(e, t) }; return function (e, t) { if (typeof t != "function" && t !== null) throw new TypeError("Class extends value " + String(t) + " is not a constructor or null"); n(e, t); function i() { this.constructor = e } e.prototype = t === null ? Object.create(t) : (i.prototype = t.prototype, new i) } }(), mf = function () { return mf = Object.assign || function (n) { for (var e, t = 1, i = arguments.length; t < i; t++) { e = arguments[t]; for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && (n[r] = e[r]) } return n }, mf.apply(this, arguments) }, Mke = function (n) { Ike(e, n); function e() { var t = n.call(this) || this; return t.elementRegistry = new xN, t } return e.prototype.observe = function (t, i) { i === void 0 && (i = {}), t && (this.elementRegistry.addElement(t, mf({}, i)), this.setupObserver(t, mf({}, i))) }, e.prototype.unobserve = function (t, i) { var r = this.findMatchingRootEntry(i); if (r) { var s = r.intersectionObserver; s.unobserve(t) } }, e.prototype.addEnterCallback = function (t, i) { this.addCallback(_s.enter, t, i) }, e.prototype.addExitCallback = function (t, i) { this.addCallback(_s.exit, t, i) }, e.prototype.dispatchEnterCallback = function (t, i) { this.dispatchCallback(_s.enter, t, i) }, e.prototype.dispatchExitCallback = function (t, i) { this.dispatchCallback(_s.exit, t, i) }, e.prototype.destroy = function () { this.elementRegistry.destroyRegistry() }, e.prototype.setupOnIntersection = function (t) { var i = this; return function (r) { return i.onIntersection(t, r) } }, e.prototype.setupObserver = function (t, i) { var r, s = i.root, o = s === void 0 ? window : s, a = this.findRootFromRegistry(o), l; if (a && (l = this.determineMatchingElements(i, a)), l) { var u = l.elements, c = l.intersectionObserver; u.push(t), c && c.observe(t) } else { var c = this.newObserver(t, i), d = { elements: [t], intersectionObserver: c, options: i }, f = this.stringifyOptions(i); a ? a[f] = d : this.elementRegistry.addElement(o, (r = {}, r[f] = d, r)) } }, e.prototype.newObserver = function (t, i) { var r = i.root, s = i.rootMargin, o = i.threshold, a = new IntersectionObserver(this.setupOnIntersection(i).bind(this), { root: r, rootMargin: s, threshold: o }); return a.observe(t), a }, e.prototype.onIntersection = function (t, i) { var r = this; i.forEach(function (s) { var o = s.isIntersecting, a = s.intersectionRatio, l = t.threshold || 0; Array.isArray(l) && (l = l[l.length - 1]); var u = r.findMatchingRootEntry(t); o || a > l ? u && u.elements.some(function (c) { return c && c === s.target ? (r.dispatchEnterCallback(c, s), !0) : !1 }) : u && u.elements.some(function (c) { return c && c === s.target ? (r.dispatchExitCallback(c, s), !0) : !1 }) }) }, e.prototype.findRootFromRegistry = function (t) { if (this.elementRegistry) return this.elementRegistry.getElement(t) }, e.prototype.findMatchingRootEntry = function (t) { var i = t.root, r = i === void 0 ? window : i, s = this.findRootFromRegistry(r); if (s) { var o = this.stringifyOptions(t); return s[o] } }, e.prototype.determineMatchingElements = function (t, i) { var r = this, s = Object.keys(i).filter(function (o) { var a = i[o].options; return r.areOptionsSame(t, a) })[0]; return i[s] }, e.prototype.areOptionsSame = function (t, i) { if (t === i) return !0; var r = Object.prototype.toString.call(t), s = Object.prototype.toString.call(i); if (r !== s) return !1; if (r !== "[object Object]" && s !== "[object Object]") return t === i; if (t && i && typeof t == "object" && typeof i == "object") { for (var o in t) if (Object.prototype.hasOwnProperty.call(t, o) && this.areOptionsSame(t[o], i[o]) === !1) return !1 } return !0 }, e.prototype.stringifyOptions = function (t) { var i = t.root, r = function (s, o) { if (s === "root" && i) { var a = Array.prototype.slice.call(i.classList), l = a.reduce(function (c, d) { return c += d }, ""), u = i.id; return "".concat(u, "-").concat(l) } return o }; return JSON.stringify(t, r) }, e }(Eke); const Lke = .6; let Fa; function rh(n, e = {}) { if (!("IntersectionObserver" in window)) return; if (!e.callback) { console.warn("Use of intersectionObserver action requires passing in a callback function"); return } const t = To(), i = e.callback, r = Object.assign({ threshold: Lke }, e); delete r.callback; const s = o => { t.add(() => i(o.isIntersecting)) }; return Fa || (Fa = new Mke), Fa.addEnterCallback(n, s), Fa.addExitCallback(n, s), Fa.observe(n, r), { destroy() { Fa.unobserve(n, r) } } } function Qw(n, e, t) { const i = n.slice(); return i[44] = e[t], i } function jw(n, e, t) { const i = n.slice(); return i[44] = e[t], i } function Gw(n) { let e, t, i, r, s; return t = new $_({ props: { layout: "compact", item: n[0], contextualMenuConfig: n[1], artworkButtonAriaLabel: n[7].t("ASE.Web.Music.MediaComponents.Controls.Expand") } }), t.$on("artworkClick", n[35]), t.$on("mkNavigate", n[36]), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(o) { e = T(o, "DIV", { class: !0 }); var a = E(e); q(t.$$.fragment, a), a.forEach(_), this.h() }, h() { p(e, "class", "now-playing svelte-dws22n"), Pt(e, "opacity", n[2] ? 1 : 0) }, m(o, a) { I(o, e, a), H(t, e, null), i = !0, r || (s = Ut(rh.call(null, e, { callback: n[22], threshold: 0 })), r = !0) }, p(o, a) { const l = {}; a[0] & 1 && (l.item = o[0]), a[0] & 2 && (l.contextualMenuConfig = o[1]), a[0] & 128 && (l.artworkButtonAriaLabel = o[7].t("ASE.Web.Music.MediaComponents.Controls.Expand")), t.$set(l), a[0] & 4 && Pt(e, "opacity", o[2] ? 1 : 0) }, i(o) { i || (w(t.$$.fragment, o), i = !0) }, o(o) { D(t.$$.fragment, o), i = !1 }, d(o) { o && _(e), $(t), r = !1, s() } } } function xw(n) { let e, t; return { c() { e = L("p"), t = le(n[15]), this.h() }, l(i) { e = T(i, "P", { class: !0, "data-testid": !0 }); var r = E(e); t = ue(r, n[15]), r.forEach(_), this.h() }, h() { p(e, "class", "queue-header__caption svelte-dws22n"), p(e, "data-testid", "up-next-autoplay-caption") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r[0] & 32768 && me(t, i[15]) }, d(i) { i && _(e) } } } function ek(n, e) { let t, i, r; function s() { return e[37](e[44]) } return i = new Gg({ props: { index: e[44].index, isSelected: e[8] === e[44].index, item: e[44].item } }), i.$on("select", s), i.$on("play", e[21]), { key: n, first: null, c() { t = re(), V(i.$$.fragment), this.h() }, l(o) { t = re(), q(i.$$.fragment, o), this.h() }, h() { this.first = t }, m(o, a) { I(o, t, a), H(i, o, a), r = !0 }, p(o, a) { e = o; const l = {}; a[0] & 1024 && (l.index = e[44].index), a[0] & 1280 && (l.isSelected = e[8] === e[44].index), a[0] & 1024 && (l.item = e[44].item), i.$set(l) }, i(o) { r || (w(i.$$.fragment, o), r = !0) }, o(o) { D(i.$$.fragment, o), r = !1 }, d(o) { o && _(t), $(i, o) } } } function tk(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g = [], h = new Map, m; s = new P_({ props: { "aria-hidden": "true" } }); let v = ut(n[4]); const b = y => y[44].uniqueId; for (let y = 0; y < v.length; y += 1) { let k = Qw(n, v, y), S = b(k); h.set(S, g[y] = nk(S, k)) } return { c() { e = L("div"), t = L("div"), i = L("div"), r = L("h4"), V(s.$$.fragment), o = Y(), a = le(n[16]), l = Y(), u = L("p"), c = le(n[15]), d = Y(), f = L("ul"); for (let y = 0; y < g.length; y += 1)g[y].c(); this.h() }, l(y) { e = T(y, "DIV", { class: !0 }); var k = E(e); t = T(k, "DIV", { class: !0, "data-testid": !0 }); var S = E(t); i = T(S, "DIV", {}); var C = E(i); r = T(C, "H4", { class: !0 }); var P = E(r); q(s.$$.fragment, P), o = X(P), a = ue(P, n[16]), P.forEach(_), l = X(C), u = T(C, "P", { class: !0, "data-testid": !0 }); var M = E(u); c = ue(M, n[15]), M.forEach(_), C.forEach(_), S.forEach(_), d = X(k), f = T(k, "UL", {}); var R = E(f); for (let F = 0; F < g.length; F += 1)g[F].l(R); R.forEach(_), k.forEach(_), this.h() }, h() { p(r, "class", "queue-header__title svelte-dws22n"), p(u, "class", "queue-header__caption svelte-dws22n"), p(u, "data-testid", "up-next-autoplay-caption"), p(t, "class", "queue-header svelte-dws22n"), p(t, "data-testid", "up-next-autoplay-header"), p(e, "class", "queue-section queue-section--autoplay svelte-dws22n") }, m(y, k) { I(y, e, k), A(e, t), A(t, i), A(i, r), H(s, r, null), A(r, o), A(r, a), A(i, l), A(i, u), A(u, c), A(e, d), A(e, f); for (let S = 0; S < g.length; S += 1)g[S] && g[S].m(f, null); m = !0 }, p(y, k) { (!m || k[0] & 65536) && me(a, y[16]), (!m || k[0] & 32768) && me(c, y[15]), k[0] & 272 && (v = ut(y[4]), te(), g = lr(g, k, b, 1, y, v, h, f, Ir, nk, null, Qw), ne()) }, i(y) { if (!m) { w(s.$$.fragment, y); for (let k = 0; k < v.length; k += 1)w(g[k]); m = !0 } }, o(y) { D(s.$$.fragment, y); for (let k = 0; k < g.length; k += 1)D(g[k]); m = !1 }, d(y) { y && _(e), $(s); for (let k = 0; k < g.length; k += 1)g[k].d() } } } function nk(n, e) { let t, i, r; function s() { return e[38](e[44]) } return i = new Gg({ props: { isSelected: e[8] === e[44].index, index: e[44].index, item: e[44].item } }), i.$on("select", s), { key: n, first: null, c() { t = re(), V(i.$$.fragment), this.h() }, l(o) { t = re(), q(i.$$.fragment, o), this.h() }, h() { this.first = t }, m(o, a) { I(o, t, a), H(i, o, a), r = !0 }, p(o, a) { e = o; const l = {}; a[0] & 272 && (l.isSelected = e[8] === e[44].index), a[0] & 16 && (l.index = e[44].index), a[0] & 16 && (l.item = e[44].item), i.$set(l) }, i(o) { r || (w(i.$$.fragment, o), r = !0) }, o(o) { D(i.$$.fragment, o), r = !1 }, d(o) { o && _(t), $(i, o) } } } function Tke(n) { let e, t, i, r, s, o, a = n[7].t("ASE.Web.Music.PlayingNext") + "", l, u, c, d, f, g, h = [], m = new Map, v, b, y, k, S = n[0] && Gw(n), C = n[5] && xw(n); d = new Pke({ props: { buttonsDisabled: n[11], isAutoplayEnabled: n[6], repeatMode: n[14], shuffleMode: n[13], showAutoplayButton: n[17], showShuffleRepeatButtons: n[12] } }); let P = ut(n[10].slice(0, 100)); const M = F => F[44].uniqueId; for (let F = 0; F < P.length; F += 1) { let N = jw(n, P, F), O = M(N); m.set(O, h[F] = ek(O, N)) } let R = n[4].length > 0 && !n[5] && tk(n); return { c() { e = L("div"), S && S.c(), t = Y(), i = L("div"), r = L("div"), s = L("div"), o = L("h4"), l = le(a), u = Y(), C && C.c(), c = Y(), V(d.$$.fragment), f = Y(), g = L("ul"); for (let F = 0; F < h.length; F += 1)h[F].c(); v = Y(), R && R.c(), this.h() }, l(F) { e = T(F, "DIV", { "data-testid": !0, class: !0 }); var N = E(e); S && S.l(N), t = X(N), i = T(N, "DIV", { class: !0 }); var O = E(i); r = T(O, "DIV", { class: !0, "data-testid": !0 }); var B = E(r); s = T(B, "DIV", {}); var U = E(s); o = T(U, "H4", { class: !0 }); var K = E(o); l = ue(K, a), K.forEach(_), u = X(U), C && C.l(U), U.forEach(_), c = X(B), q(d.$$.fragment, B), B.forEach(_), f = X(O), g = T(O, "UL", { role: !0, class: !0, "aria-labelledby": !0 }); var W = E(g); for (let Z = 0; Z < h.length; Z += 1)h[Z].l(W); W.forEach(_), O.forEach(_), v = X(N), R && R.l(N), N.forEach(_), this.h() }, h() { p(o, "class", "queue-header__title svelte-dws22n"), p(r, "class", "queue-header queue-header--sticky svelte-dws22n"), p(r, "data-testid", "playing-next-header"), J(r, "is-sticking", n[9]), J(r, "is-after-queue-list", !n[3]), p(g, "role", "list"), p(g, "class", "queue-list svelte-dws22n"), p(g, "aria-labelledby", `${Rke}-queue-item`), p(i, "class", "queue-section queue-section--playing-next svelte-dws22n"), p(e, "data-testid", "up-next-mobile-queue"), p(e, "class", "up-next-mobile-queue svelte-dws22n"), J(e, "now-playing-cropped", n[9]) }, m(F, N) { I(F, e, N), S && S.m(e, null), A(e, t), A(e, i), A(i, r), A(r, s), A(s, o), A(o, l), A(s, u), C && C.m(s, null), A(r, c), H(d, r, null), A(i, f), A(i, g); for (let O = 0; O < h.length; O += 1)h[O] && h[O].m(g, null); A(e, v), R && R.m(e, null), b = !0, y || (k = Ut(rh.call(null, g, { callback: n[23], threshold: 0 })), y = !0) }, p(F, N) { F[0] ? S ? (S.p(F, N), N[0] & 1 && w(S, 1)) : (S = Gw(F), S.c(), w(S, 1), S.m(e, t)) : S && (te(), D(S, 1, 1, () => { S = null }), ne()), (!b || N[0] & 128) && a !== (a = F[7].t("ASE.Web.Music.PlayingNext") + "") && me(l, a), F[5] ? C ? C.p(F, N) : (C = xw(F), C.c(), C.m(s, null)) : C && (C.d(1), C = null); const O = {}; N[0] & 2048 && (O.buttonsDisabled = F[11]), N[0] & 64 && (O.isAutoplayEnabled = F[6]), N[0] & 16384 && (O.repeatMode = F[14]), N[0] & 8192 && (O.shuffleMode = F[13]), N[0] & 131072 && (O.showAutoplayButton = F[17]), N[0] & 4096 && (O.showShuffleRepeatButtons = F[12]), d.$set(O), (!b || N[0] & 512) && J(r, "is-sticking", F[9]), (!b || N[0] & 8) && J(r, "is-after-queue-list", !F[3]), N[0] & 2098432 && (P = ut(F[10].slice(0, 100)), te(), h = lr(h, N, M, 1, F, P, m, g, Ir, ek, null, jw), ne()), F[4].length > 0 && !F[5] ? R ? (R.p(F, N), N[0] & 48 && w(R, 1)) : (R = tk(F), R.c(), w(R, 1), R.m(e, null)) : R && (te(), D(R, 1, 1, () => { R = null }), ne()), (!b || N[0] & 512) && J(e, "now-playing-cropped", F[9]) }, i(F) { if (!b) { w(S), w(d.$$.fragment, F); for (let N = 0; N < P.length; N += 1)w(h[N]); w(R), b = !0 } }, o(F) { D(S), D(d.$$.fragment, F); for (let N = 0; N < h.length; N += 1)D(h[N]); D(R), b = !1 }, d(F) { F && _(e), S && S.d(), C && C.d(), $(d); for (let N = 0; N < h.length; N += 1)h[N].d(); R && R.d(), y = !1, k() } } } const Rke = "up-next"; function Fke(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F; var N, O, B, U, K; const W = ot(); ce(n, W, Oe => t(7, R = Oe)); const Z = sn(), { queue: Q } = zn(); ce(n, Q, Oe => t(33, M = Oe)); const { state: G } = xt(); ce(n, G, Oe => t(34, F = Oe)); let { item: ae } = e, { contextualMenuConfigWithParent: ee } = e, pe = !0, ke = !0; const we = Oe => Object.assign(Object.assign({}, Oe), { item: ZO(Oe.item, Oe.index), uniqueId: `${Oe.item}-${Oe.index}` }), Te = async () => { if (!C && !S || s < 0) return; const Oe = a[0]; Oe && (await Z(Oe.item.playAction), i <= Oe.index && t(8, i = Oe.index + 1)) }, ge = Oe => { t(2, pe = Oe) }, Ce = Oe => { t(3, ke = Oe) }; function he(Oe) { Bt.call(this, n, Oe) } function Ae(Oe) { Bt.call(this, n, Oe) } const ze = Oe => t(8, i = Oe.index), Pe = Oe => t(8, i = Oe.index); return n.$$set = Oe => { "item" in Oe && t(0, ae = Oe.item), "contextualMenuConfigWithParent" in Oe && t(1, ee = Oe.contextualMenuConfigWithParent) }, n.$$.update = () => { n.$$.dirty[0] & 16777216 | n.$$.dirty[1] & 8 && t(31, r = (F == null ? void 0 : F.user) && (t(24, N = F == null ? void 0 : F.user) === null || N === void 0 ? void 0 : N.subscriberType) === Hi.Premium), n.$$.dirty[1] & 4 && t(29, s = M.nowPlayingItemIndex), n.$$.dirty[1] & 4 && t(32, o = M.items.map(we)), n.$$.dirty[0] & 536870912 | n.$$.dirty[1] & 2 && (a = o.slice(s + 1)), n.$$.dirty[1] & 4 && t(30, l = M.unplayedUserItems.map(we)), n.$$.dirty[1] & 4 && t(4, u = M.unplayedAutoplayItems.map(we)), n.$$.dirty[1] & 1 && t(17, c = r), n.$$.dirty[1] & 5 && t(6, d = r && M.autoplayEnabled), n.$$.dirty[0] & 128 && t(16, f = R.t("ASE.Web.Music.UpNext.Autoplay.Heading")), n.$$.dirty[0] & 128 && t(15, g = R.t("ASE.Web.Music.UpNext.Autoplay.Description")), n.$$.dirty[0] & 1073741904 && t(5, h = d && !l.length && !!u.length), n.$$.dirty[1] & 4 && t(14, m = M.repeatMode), n.$$.dirty[1] & 4 && t(13, v = M.shuffleMode), n.$$.dirty[0] & 100663360 | n.$$.dirty[1] & 4 && t(12, b = !(!(t(25, O = M.nowPlayingItem) === null || O === void 0) && O.isAutoplay) || !d && !(!(t(26, B = M.nowPlayingItem) === null || B === void 0) && B.isAutoplay)), n.$$.dirty[1] & 4 && t(11, y = M.items.length === 0), n.$$.dirty[0] & 1073741872 && t(10, k = h ? u : l), n.$$.dirty[0] & 134217728 | n.$$.dirty[1] & 4 && (S = t(27, U = M == null ? void 0 : M.derivedStates) === null || U === void 0 ? void 0 : U.isPlaying), n.$$.dirty[0] & 268435456 | n.$$.dirty[1] & 4 && (C = t(28, K = M == null ? void 0 : M.derivedStates) === null || K === void 0 ? void 0 : K.isPaused), n.$$.dirty[0] & 12 && t(9, P = !pe && ke) }, t(8, i = null), [ae, ee, pe, ke, u, h, d, R, i, P, k, y, b, v, m, g, f, c, W, Q, G, Te, ge, Ce, N, O, B, U, K, s, l, r, o, M, F, he, Ae, ze, Pe] } class Oke extends oe { constructor(e) { super(), se(this, e, Fke, Tke, ye, { item: 0, contextualMenuConfigWithParent: 1 }, null, [-1, -1]) } } class Nke { constructor() { He(this, "element"); this.element = document.createElement("div"), this.element.style.position = "absolute", this.element.style.visibility = "hidden", document.body.appendChild(this.element) } evaluate(e) { this.element.style.width = e; const t = window.getComputedStyle(this.element).width; return parseFloat(t) } destroy() { this.element && this.element.parentNode && document.body.removeChild(this.element) } } const Bke = () => { var n; return typeof window < "u" && ((n = CSS.supports) == null ? void 0 : n.call(CSS, "anchor-name: --my-anchor")) }; function Uke(n, e) { const t = document.dir === Zg.RTL; return n == "start" ? e === "horizontal" ? t ? "right" : "left" : "top" : n == "end" ? e === "horizontal" ? t ? "right" : "left" : "bottom" : n } function ik(n, e, t) { const i = Uke(e, t); return i === "center" ? n.left + (n.right - n.left) / 2 : n[i] } function rk(n) { return n === "start" || n === "left" || n === "top" } const Hke = (n, e) => { var v, b; const t = window.getComputedStyle(n), i = t.getPropertyValue("--anchor-name"); let r = t.getPropertyValue("--popover-inset-inline-start"), s = !1; r === "" && (r = t.getPropertyValue("--popover-inset-inline-end"), s = !0); let o = t.getPropertyValue("--popover-inset-block-start"), a = !1; o === "" && (o = t.getPropertyValue("--popover-inset-block-end"), a = !0); const l = new RegExp(`anchor\\(\\s*${i}\\s+(\\w+)\\s*\\)`, "i"), u = (v = r.match(l)) == null ? void 0 : v[1], c = (b = o.match(l)) == null ? void 0 : b[1]; if (!["start", "end", "top", "left", "right", "bottom"].includes(c)) { console.warn(`value "${c}" for --popover-inset-block-${a ? "end" : "start"} not supported`); return } if (u && !["start", "end", "right", "bottom", "center"].includes(u)) { console.warn(`value "${u}" for --popover-inset-inline-${s ? "end" : "start"} not supported`); return } const d = e.getBoundingClientRect(), f = {}, g = o.replace(`anchor(${i} ${c})`, ik(d, c, "vertical") + "px"), h = r.replace(`anchor(${i} ${u})`, ik(d, u, "horizontal") + "px"), m = new Nke; if (s) { const y = n.getBoundingClientRect(); f.left = `${m.evaluate(h) - y.width + (rk(u) ? 0 : d.width / 2)}px` } else f.left = `${m.evaluate(h) + (rk(u) ? 0 : d.width)}px`; if (a) { const y = n.getBoundingClientRect(); f.top = `${m.evaluate(g) - y.height - d.height}px` } else f.top = `${m.evaluate(g)}px`; m.destroy(), Object.assign(n.style, f) }; const $ke = n => ({}), sk = n => ({ popover: n[3] }), Vke = n => ({}), ok = n => ({ target: n[4], popoverId: n[3] }); function ak(n) { let e, t, i, r; return t = new rr({}), { c() { e = L("button"), V(t.$$.fragment), this.h() }, l(s) { e = T(s, "BUTTON", { class: !0, type: !0, "aria-label": !0, popovertarget: !0, popovertargetaction: !0 }); var o = E(e); q(t.$$.fragment, o), o.forEach(_), this.h() }, h() { p(e, "class", "close-button svelte-kfwh55"), p(e, "type", "button"), p(e, "aria-label", i = n[0]("AMP.Shared.AX.Close")), p(e, "popovertarget", n[3]), p(e, "popovertargetaction", "hide") }, m(s, o) { I(s, e, o), H(t, e, null), r = !0 }, p(s, o) { (!r || o & 1 && i !== (i = s[0]("AMP.Shared.AX.Close"))) && p(e, "aria-label", i) }, i(s) { r || (w(t.$$.fragment, s), r = !0) }, o(s) { D(t.$$.fragment, s), r = !1 }, d(s) { s && _(e), $(t) } } } function zke(n) { let e, t, i, r, s, o; const a = n[12].default, l = We(a, n, n[11], ok); let u = n[2] && ak(n); const c = n[12].content, d = We(c, n, n[11], sk); return { c() { l && l.c(), e = Y(), t = L("div"), u && u.c(), i = Y(), d && d.c(), this.h() }, l(f) { l && l.l(f), e = X(f), t = T(f, "DIV", { class: !0, popover: !0, id: !0 }); var g = E(t); u && u.l(g), i = X(g), d && d.l(g), g.forEach(_), this.h() }, h() { p(t, "class", "popover svelte-kfwh55"), p(t, "popover", n[1]), p(t, "id", n[3]) }, m(f, g) { l && l.m(f, g), I(f, e, g), I(f, t, g), u && u.m(t, null), A(t, i), d && d.m(t, null), r = !0, s || (o = [Ut(n[5].call(null, t)), Me(t, "beforetoggle", n[6])], s = !0) }, p(f, [g]) { l && l.p && (!r || g & 2048) && Je(l, a, f, f[11], r ? Ke(a, f[11], g, Vke) : Ye(f[11]), ok), f[2] ? u ? (u.p(f, g), g & 4 && w(u, 1)) : (u = ak(f), u.c(), w(u, 1), u.m(t, i)) : u && (te(), D(u, 1, 1, () => { u = null }), ne()), d && d.p && (!r || g & 2048) && Je(d, c, f, f[11], r ? Ke(c, f[11], g, $ke) : Ye(f[11]), sk), (!r || g & 2) && p(t, "popover", f[1]) }, i(f) { r || (w(l, f), w(u), w(d, f), r = !0) }, o(f) { D(l, f), D(u), D(d, f), r = !1 }, d(f) { f && (_(e), _(t)), l && l.d(f), u && u.d(), d && d.d(f), s = !1, Ot(o) } } } let eB = () => { }; Bke() || (eB = Hke); let lk = 0; function qke(n, e, t) { let { $$slots: i = {}, $$scope: r } = e; const s = It(); let { class: o = void 0 } = e, { translateFn: a } = e, { autoOpen: l = !1 } = e, { autoOpenDelay: u = 0 } = e, { targetAction: c = void 0 } = e, { popover: d = "auto" } = e, { showCloseButton: f = !0 } = e; lk++; const g = `popover-${lk}`, h = `${g}-target`; let m, v; function b(S) { return m = S, S.id = h, S.style.setProperty("anchor-name", "var(--anchor-name)"), S.setAttribute("popovertarget", g), c && S.setAttribute("popovertargetaction", c), { destroy() { m = null, v.hidePopover && v.hidePopover() } } } function y(S) { v = S; const C = S.parentElement; if (!C) { console.error("BasicPopover: Popover element must be inside a parent element."); return } o && C.classList.add(o), C.style.setProperty("--anchor-name", `--${g}`), setTimeout(() => { l && m && S.showPopover() }, u) } function k(S) { S.newState === "closed" ? s("hide", { popover: v, target: m }) : (s("show", { popover: v, target: m }), requestAnimationFrame(() => { m && eB(v, m) })) } return n.$$set = S => { "class" in S && t(7, o = S.class), "translateFn" in S && t(0, a = S.translateFn), "autoOpen" in S && t(8, l = S.autoOpen), "autoOpenDelay" in S && t(9, u = S.autoOpenDelay), "targetAction" in S && t(10, c = S.targetAction), "popover" in S && t(1, d = S.popover), "showCloseButton" in S && t(2, f = S.showCloseButton), "$$scope" in S && t(11, r = S.$$scope) }, [a, d, f, g, b, y, k, o, l, u, c, r, i] } class Wke extends oe { constructor(e) { super(), se(this, e, qke, zke, ye, { class: 7, translateFn: 0, autoOpen: 8, autoOpenDelay: 9, targetAction: 10, popover: 1, showCloseButton: 2 }) } } const Kke = n => ({ target: n & 33554432, popoverId: n & 67108864 }), uk = n => ({ target: n[25], popoverId: n[26] }), Jke = n => ({}), ck = n => ({}), Yke = n => ({}), dk = n => ({}), Xke = n => ({}), fk = n => ({}), Zke = n => ({}), gk = n => ({}); function Qke(n) { let e; const t = n[19].default, i = We(t, n, n[20], uk); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 101711872) && Je(i, t, r, r[20], e ? Ke(t, r[20], s, Kke) : Ye(r[20]), uk) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function jke(n) { let e, t, i, r, s = n[14].icon && hk(n), o = n[14].title && mk(n), a = n[14].body && pk(n); return { c() { s && s.c(), e = Y(), t = L("div"), o && o.c(), i = Y(), a && a.c(), this.h() }, l(l) { s && s.l(l), e = X(l), t = T(l, "DIV", { class: !0 }); var u = E(t); o && o.l(u), i = X(u), a && a.l(u), u.forEach(_), this.h() }, h() { p(t, "class", "bubble-tip__content") }, m(l, u) { s && s.m(l, u), I(l, e, u), I(l, t, u), o && o.m(t, null), A(t, i), a && a.m(t, null), r = !0 }, p(l, u) { l[14].icon ? s ? (s.p(l, u), u & 16384 && w(s, 1)) : (s = hk(l), s.c(), w(s, 1), s.m(e.parentNode, e)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()), l[14].title ? o ? (o.p(l, u), u & 16384 && w(o, 1)) : (o = mk(l), o.c(), w(o, 1), o.m(t, i)) : o && (te(), D(o, 1, 1, () => { o = null }), ne()), l[14].body ? a ? (a.p(l, u), u & 16384 && w(a, 1)) : (a = pk(l), a.c(), w(a, 1), a.m(t, null)) : a && (te(), D(a, 1, 1, () => { a = null }), ne()) }, i(l) { r || (w(s), w(o), w(a), r = !0) }, o(l) { D(s), D(o), D(a), r = !1 }, d(l) { l && (_(e), _(t)), s && s.d(l), o && o.d(), a && a.d() } } } function Gke(n) { let e; const t = n[19].content, i = We(t, n, n[20], gk); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 1048576) && Je(i, t, r, r[20], e ? Ke(t, r[20], s, Zke) : Ye(r[20]), gk) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function hk(n) { let e, t; const i = n[19].icon, r = We(i, n, n[20], fk); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "bubble-tip__icon svelte-1ck6c5") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 1048576) && Je(r, i, s, s[20], t ? Ke(i, s[20], o, Xke) : Ye(s[20]), fk) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function mk(n) { let e, t; const i = n[19].title, r = We(i, n, n[20], dk); return { c() { e = L("p"), r && r.c(), this.h() }, l(s) { e = T(s, "P", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "bubble-tip__title svelte-1ck6c5") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 1048576) && Je(r, i, s, s[20], t ? Ke(i, s[20], o, Yke) : Ye(s[20]), dk) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function pk(n) { let e, t; const i = n[19].body, r = We(i, n, n[20], ck); return { c() { e = L("p"), r && r.c(), this.h() }, l(s) { e = T(s, "P", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "bubble-tip__text svelte-1ck6c5") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 1048576) && Je(r, i, s, s[20], t ? Ke(i, s[20], o, Jke) : Ye(s[20]), ck) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function xke(n) { let e, t, i, r; const s = [Gke, jke], o = []; function a(l, u) { return l[14].content ? 0 : 1 } return t = a(n), i = o[t] = s[t](n), { c() { e = L("div"), i.c(), this.h() }, l(l) { e = T(l, "DIV", { class: !0, slot: !0 }); var u = E(e); i.l(u), u.forEach(_), this.h() }, h() { p(e, "class", "bubble-tip svelte-1ck6c5"), p(e, "slot", "content"), J(e, "bubble-tip--has-icon", n[14].icon), J(e, "bubble-tip--block-start-arrow", n[11]), J(e, "bubble-tip--block-end-arrow", n[10]), J(e, "bubble-tip--corner-start-start-arrow", n[7]), J(e, "bubble-tip--corner-start-end-arrow", n[6]), J(e, "bubble-tip--corner-end-end-arrow", n[5]), J(e, "bubble-tip--corner-end-start-arrow", n[4]), J(e, "bubble-tip--corner-arrow", n[9]), J(e, "bubble-tip--has-arrow", n[3]) }, m(l, u) { I(l, e, u), o[t].m(e, null), r = !0 }, p(l, u) { let c = t; t = a(l), t === c ? o[t].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), i = o[t], i ? i.p(l, u) : (i = o[t] = s[t](l), i.c()), w(i, 1), i.m(e, null)), (!r || u & 16384) && J(e, "bubble-tip--has-icon", l[14].icon), (!r || u & 2048) && J(e, "bubble-tip--block-start-arrow", l[11]), (!r || u & 1024) && J(e, "bubble-tip--block-end-arrow", l[10]), (!r || u & 128) && J(e, "bubble-tip--corner-start-start-arrow", l[7]), (!r || u & 64) && J(e, "bubble-tip--corner-start-end-arrow", l[6]), (!r || u & 32) && J(e, "bubble-tip--corner-end-end-arrow", l[5]), (!r || u & 16) && J(e, "bubble-tip--corner-end-start-arrow", l[4]), (!r || u & 512) && J(e, "bubble-tip--corner-arrow", l[9]), (!r || u & 8) && J(e, "bubble-tip--has-arrow", l[3]) }, i(l) { r || (w(i), r = !0) }, o(l) { D(i), r = !1 }, d(l) { l && _(e), o[t].d() } } } function eDe(n) { let e, t; return e = new Wke({ props: { autoOpen: n[8], popover: "manual", targetAction: "hide", autoOpenDelay: n[2], translateFn: n[1], class: n[0], $$slots: { content: [xke], default: [Qke, ({ target: i, popoverId: r }) => ({ 25: i, 26: r }), ({ target: i, popoverId: r }) => (i ? 33554432 : 0) | (r ? 67108864 : 0)] }, $$scope: { ctx: n } } }), e.$on("show", n[13]), e.$on("hide", n[12]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 256 && (s.autoOpen = i[8]), r & 4 && (s.autoOpenDelay = i[2]), r & 2 && (s.translateFn = i[1]), r & 1 && (s.class = i[0]), r & 101732088 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function tDe(n, e, t) { let i, r, s, o, a, l, u, c, { $$slots: d = {}, $$scope: f } = e; const g = wn(d); let { class: h = void 0 } = e, { translateFn: m } = e, { key: v } = e, { autoOpen: b = !1 } = e, { dismissMemory: y = !1 } = e, { autoOpenDelay: k = 2e3 } = e, { hasArrow: S = !0 } = e, C, P; const M = y ? localStorage.getItem(`${v}_DISMISSED`) === "true" : !1; function R({ detail: B }) { B && localStorage.setItem(`${v}_DISMISSED`, "true"), N() } function F() { if (P) { let B = window.getComputedStyle(P).getPropertyValue("--arrow-position"); t(18, C = B === "" ? void 0 : B.trim()) } } function N() { window.removeEventListener("resize", F) } function O({ detail: { popover: B } }) { P = B, window.addEventListener("resize", F), F() } return mn(() => { N() }), n.$$set = B => { "class" in B && t(0, h = B.class), "translateFn" in B && t(1, m = B.translateFn), "key" in B && t(15, v = B.key), "autoOpen" in B && t(16, b = B.autoOpen), "dismissMemory" in B && t(17, y = B.dismissMemory), "autoOpenDelay" in B && t(2, k = B.autoOpenDelay), "hasArrow" in B && t(3, S = B.hasArrow), "$$scope" in B && t(20, f = B.$$scope) }, n.$$.update = () => { n.$$.dirty & 262144 && t(11, i = C === "start"), n.$$.dirty & 262144 && t(10, r = C === "end"), n.$$.dirty & 262144 && t(7, s = C === "start start"), n.$$.dirty & 262144 && t(6, o = C === "start end"), n.$$.dirty & 262144 && t(5, a = C === "end end"), n.$$.dirty & 262144 && t(4, l = C === "end start"), n.$$.dirty & 240 && t(9, u = s || o || a || l), n.$$.dirty & 65536 && t(8, c = b && !M) }, [h, m, k, S, l, a, o, s, c, u, r, i, R, O, g, v, b, y, C, d, f] } class V_ extends oe { constructor(e) { super(), se(this, e, tDe, eDe, ye, { class: 0, translateFn: 1, key: 15, autoOpen: 16, dismissMemory: 17, autoOpenDelay: 2, hasArrow: 3 }) } } function _k(n) { let e, t, i; return t = new $_({ props: { layout: "compact", item: n[0], contextualMenuConfig: n[2], artworkButtonAriaLabel: n[3].t("ASE.Web.Music.MediaComponents.Controls.Expand") } }), t.$on("artworkClick", n[14]), t.$on("mkNavigate", n[15]), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "now-playing") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 1 && (o.item = r[0]), s & 4 && (o.contextualMenuConfig = r[2]), s & 8 && (o.artworkButtonAriaLabel = r[3].t("ASE.Web.Music.MediaComponents.Controls.Expand")), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function vk(n) { let e, t, i, r, s, o, a, l = (n[5] || n[4]) && bk(n); return { c() { l && l.c(), e = Y(), t = L("amp-lyrics"), this.h() }, l(u) { l && l.l(u), e = X(u), t = T(u, "AMP-LYRICS", { "data-testid": !0, "offset-ratio": !0, "static-lyrics": !0, "show-translation": !0, "show-pronunciation": !0, "catalog-id": !0, "enable-translations": !0, class: !0 }), E(t).forEach(_), this.h() }, h() { var u, c; Xe(t, "data-testid", "mobile-lyrics"), Xe(t, "offset-ratio", "0.25"), Xe(t, "static-lyrics", i = !!((u = n[8].nowPlayingItemInfo) != null && u.streamingItemId)), Xe(t, "show-translation", n[9]), Xe(t, "show-pronunciation", n[10]), Xe(t, "catalog-id", r = (c = n[8].nowPlayingItemInfo) == null ? void 0 : c.streamingItemId), Xe(t, "enable-translations", !0), Xe(t, "class", "svelte-1wwsaui") }, m(u, c) { l && l.m(u, c), I(u, e, c), I(u, t, c), s = !0, o || (a = Me(t, "lyricsReady", n[13]), o = !0) }, p(u, c) { var d, f; u[5] || u[4] ? l ? (l.p(u, c), c & 48 && w(l, 1)) : (l = bk(u), l.c(), w(l, 1), l.m(e.parentNode, e)) : l && (te(), D(l, 1, 1, () => { l = null }), ne()), (!s || c & 256 && i !== (i = !!((d = u[8].nowPlayingItemInfo) != null && d.streamingItemId))) && Xe(t, "static-lyrics", i), (!s || c & 512) && Xe(t, "show-translation", u[9]), (!s || c & 1024) && Xe(t, "show-pronunciation", u[10]), (!s || c & 256 && r !== (r = (f = u[8].nowPlayingItemInfo) == null ? void 0 : f.streamingItemId)) && Xe(t, "catalog-id", r) }, i(u) { s || (w(l), s = !0) }, o(u) { D(l), s = !1 }, d(u) { u && (_(e), _(t)), l && l.d(u), o = !1, a() } } } function bk(n) { let e, t, i; return t = new V_({ props: { key: "lyrics-translation-button", autoOpen: n[5] || n[4], dismissMemory: !0, translateFn: n[3].t, class: "mobile-lyrics-bubble-tip", $$slots: { body: [rDe], title: [iDe], default: [nDe, ({ target: r }) => ({ 16: r }), ({ target: r }) => r ? 65536 : 0] }, $$scope: { ctx: n } } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "lyrics-translation-menu svelte-1wwsaui") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 48 && (o.autoOpen = r[5] || r[4]), s & 8 && (o.translateFn = r[3].t), s & 196852 && (o.$$scope = { dirty: s, ctx: r }), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function nDe(n) { let e, t; return e = new I_({ props: { popoverAction: n[16], parentElement: n[2].parentElement, songHasTranslations: n[5], songHasPronunciations: n[4] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 65536 && (s.popoverAction = i[16]), r & 4 && (s.parentElement = i[2].parentElement), r & 32 && (s.songHasTranslations = i[5]), r & 16 && (s.songHasPronunciations = i[4]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function iDe(n) { let e; return { c() { e = le(n[6]) }, l(t) { e = ue(t, n[6]) }, m(t, i) { I(t, e, i) }, p(t, i) { i & 64 && me(e, t[6]) }, d(t) { t && _(e) } } } function rDe(n) { let e; return { c() { e = le(n[7]) }, l(t) { e = ue(t, n[7]) }, m(t, i) { I(t, e, i) }, p(t, i) { i & 128 && me(e, t[7]) }, d(t) { t && _(e) } } } function sDe(n) { let e, t, i, r = n[0] && _k(n), s = n[1] && vk(n); return { c() { e = L("div"), r && r.c(), t = Y(), s && s.c(), this.h() }, l(o) { e = T(o, "DIV", { class: !0 }); var a = E(e); r && r.l(a), t = X(a), s && s.l(a), a.forEach(_), this.h() }, h() { p(e, "class", "mobile-lyrics svelte-1wwsaui") }, m(o, a) { I(o, e, a), r && r.m(e, null), A(e, t), s && s.m(e, null), i = !0 }, p(o, [a]) { o[0] ? r ? (r.p(o, a), a & 1 && w(r, 1)) : (r = _k(o), r.c(), w(r, 1), r.m(e, t)) : r && (te(), D(r, 1, 1, () => { r = null }), ne()), o[1] ? s ? (s.p(o, a), a & 2 && w(s, 1)) : (s = vk(o), s.c(), w(s, 1), s.m(e, null)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()) }, i(o) { i || (w(r), w(s), i = !0) }, o(o) { D(r), D(s), i = !1 }, d(o) { o && _(e), r && r.d(), s && s.d() } } } function oDe(n, e, t) { let i, r, s, o, a, l; ce(n, Id, k => t(4, r = k)), ce(n, Ed, k => t(5, s = k)), ce(n, cl, k => t(9, a = k)), ce(n, dl, k => t(10, l = k)); const u = ot(); ce(n, u, k => t(3, i = k)); const { queue: c } = zn(); ce(n, c, k => t(8, o = k)); let { item: d } = e, { hasLyrics: f = !1 } = e, { contextualMenuConfigWithParent: g } = e; ni(Ed, s = !1, s), ni(Id, r = !1, r); function h(k) { ni(Ed, s = k.detail.hasTranslations, s), ni(Id, r = k.detail.hasPronunciations, r) } let m, v; function b(k) { Bt.call(this, n, k) } function y(k) { Bt.call(this, n, k) } return n.$$set = k => { "item" in k && t(0, d = k.item), "hasLyrics" in k && t(1, f = k.hasLyrics), "contextualMenuConfigWithParent" in k && t(2, g = k.contextualMenuConfigWithParent) }, n.$$.update = () => { if (n.$$.dirty & 56) { const k = E_(s, r, i); t(6, m = k.title), t(7, v = k.body) } }, [d, f, g, i, r, s, m, v, o, a, l, u, c, h, b, y] } class aDe extends oe { constructor(e) { super(), se(this, e, oDe, sDe, ye, { item: 0, hasLyrics: 1, contextualMenuConfigWithParent: 2 }) } } function lDe(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 10.802 16" }, { width: "11" }, { height: "16" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, viewBox: !0, width: !0, height: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M9.781 16c.598 0 1.021-.43 1.021-1.023V1.07c0-.583-.422-1.07-1.04-1.07-.424 0-.71.185-1.179.624L4.725 4.253a.332.332 0 0 1-.228.089H1.899C.669 4.342 0 5.012 0 6.327v3.375c0 1.305.67 1.984 1.899 1.984h2.598a.33.33 0 0 1 .228.08l3.858 3.666c.422.393.772.568 1.198.568z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 10.802 16" }, { width: "11" }, { height: "16" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function uDe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let cDe = class extends oe { constructor(e) { super(), se(this, e, uDe, lDe, ht, {}) } }; function dDe(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 22.239 16" }, { width: "22" }, { height: "16" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, viewBox: !0, width: !0, height: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M8.933 15.316c.538 0 .932-.392.932-.934v-12.7c0-.533-.394-.978-.95-.978-.387 0-.656.169-1.076.57L4.306 4.588a.281.281 0 0 1-.2.081H1.735C.611 4.669 0 5.28 0 6.482v3.082c0 1.192.611 1.812 1.734 1.812h2.373c.08 0 .15.024.2.074l3.532 3.347c.385.359.707.519 1.094.519zm3.88-3.782c.282.186.668.13.892-.192.634-.84 1.019-2.07 1.019-3.34 0-1.272-.385-2.493-1.02-3.342-.223-.322-.61-.378-.89-.183-.331.232-.388.639-.13.983.486.658.75 1.576.75 2.541 0 .965-.273 1.874-.75 2.541-.249.354-.201.75.13.992zm3.08 2.155c.308.204.686.14.91-.183 1.059-1.452 1.686-3.462 1.686-5.505 0-2.042-.618-4.07-1.686-5.505-.224-.323-.602-.387-.91-.183-.305.206-.36.593-.117.937.911 1.278 1.425 2.988 1.425 4.751 0 1.763-.531 3.464-1.425 4.75-.234.345-.188.732.118.938zm3.108 2.194c.29.213.696.13.916-.204 1.453-2.095 2.322-4.752 2.322-7.678s-.895-5.574-2.322-7.678C19.697-.02 19.29-.093 19 .12c-.305.213-.352.603-.122.948 1.28 1.892 2.09 4.277 2.09 6.934 0 2.649-.81 5.052-2.09 6.934-.23.345-.183.735.122.948z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 22.239 16" }, { width: "22" }, { height: "16" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function fDe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let gDe = class extends oe { constructor(e) { super(), se(this, e, fDe, dDe, ht, {}) } }; function hDe(n) { let e, t, i = [{ class: "icon" }, { viewBox: "0 0 64 64" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { class: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M13.559 60.051c1.102.86 2.5.565 4.166-.645l14.218-10.455L46.19 59.406c1.666 1.21 3.037 1.505 4.166.645 1.102-.833 1.344-2.204.672-4.166l-5.618-16.718 14.353-10.32c1.666-1.183 2.338-2.42 1.908-3.764-.43-1.29-1.693-1.935-3.763-1.908l-17.605.108-5.348-16.8C34.308 4.496 33.34 3.5 31.944 3.5c-1.372 0-2.34.995-2.984 2.984L23.61 23.283l-17.605-.108c-2.07-.027-3.333.618-3.763 1.908-.457 1.344.242 2.58 1.909 3.763l14.352 10.321-5.617 16.718c-.672 1.962-.43 3.333.672 4.166Zm3.87-5.321c-.054-.054-.027-.081 0-.242l5.349-15.374c.376-1.049.161-1.882-.78-2.527L8.613 27.341c-.134-.08-.161-.134-.134-.215.027-.08.08-.08.242-.08l16.26.295c1.103.027 1.802-.43 2.151-1.532l4.677-15.562c.027-.162.08-.215.134-.215.08 0 .135.053.162.215l4.676 15.562c.35 1.102 1.048 1.559 2.15 1.532l16.261-.296c.162 0 .216 0 .243.081.027.08-.027.134-.135.215l-13.385 9.246c-.94.645-1.156 1.478-.78 2.527l5.35 15.374c.026.161.053.188 0 .242-.055.08-.135.026-.243-.054l-12.928-9.864c-.86-.672-1.855-.672-2.715 0l-12.928 9.864c-.107.08-.188.134-.242.054Z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ class: "icon" }, { viewBox: "0 0 64 64" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function mDe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let pDe = class extends oe { constructor(e) { super(), se(this, e, mDe, hDe, ht, {}) } }; function yk(n) { let e; function t(s, o) { return s[1] ? vDe : _De } let i = t(n), r = i(n); return { c() { r.c(), e = re() }, l(s) { r.l(s), e = re() }, m(s, o) { r.m(s, o), I(s, e, o) }, p(s, o) { i === (i = t(s)) && r ? r.p(s, o) : (r.d(1), r = i(s), r && (r.c(), r.m(e.parentNode, e))) }, d(s) { s && _(e), r.d(s) } } } function _De(n) { let e; return { c() { e = L("amp-playback-controls-progress"), this.h() }, l(t) { e = T(t, "AMP-PLAYBACK-CONTROLS-PROGRESS", { class: !0 }), E(e).forEach(_), this.h() }, h() { Xe(e, "class", "svelte-1gorbyf") }, m(t, i) { I(t, e, i) }, p: j, d(t) { t && _(e) } } } function vDe(n) { let e, t = n[3].t("ASE.Web.Music.MediaComponents.Common.Badge.Live") + "", i; return { c() { e = L("div"), i = le(t), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "live-progress svelte-1gorbyf") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 8 && t !== (t = r[3].t("ASE.Web.Music.MediaComponents.Common.Badge.Live") + "") && me(i, t) }, d(r) { r && _(e) } } } function wk(n) { let e; return { c() { e = L("amp-playback-controls-item-skip"), this.h() }, l(t) { e = T(t, "AMP-PLAYBACK-CONTROLS-ITEM-SKIP", { direction: !0, class: !0 }), E(e).forEach(_), this.h() }, h() { Xe(e, "direction", "previous"), Xe(e, "class", "svelte-1gorbyf") }, m(t, i) { I(t, e, i) }, d(t) { t && _(e) } } } function kk(n) { let e; return { c() { e = L("amp-playback-controls-item-skip"), this.h() }, l(t) { e = T(t, "AMP-PLAYBACK-CONTROLS-ITEM-SKIP", { direction: !0, class: !0 }), E(e).forEach(_), this.h() }, h() { Xe(e, "direction", "next"), Xe(e, "class", "svelte-1gorbyf") }, m(t, i) { I(t, e, i) }, d(t) { t && _(e) } } } function bDe(n) { let e, t, i, r, s, o, a, l, u; return i = new cDe({ props: { "aria-hidden": "true" } }), l = new gDe({ props: { "aria-hidden": "true" } }), { c() { e = L("div"), t = L("div"), V(i.$$.fragment), r = Y(), s = L("amp-volume-control"), o = Y(), a = L("div"), V(l.$$.fragment), this.h() }, l(c) { e = T(c, "DIV", { class: !0 }); var d = E(e); t = T(d, "DIV", { class: !0 }); var f = E(t); q(i.$$.fragment, f), f.forEach(_), r = X(d), s = T(d, "AMP-VOLUME-CONTROL", { class: !0 }), E(s).forEach(_), o = X(d), a = T(d, "DIV", { class: !0 }); var g = E(a); q(l.$$.fragment, g), g.forEach(_), d.forEach(_), this.h() }, h() { p(t, "class", "volume-icon svelte-1gorbyf"), Xe(s, "class", "svelte-1gorbyf"), p(a, "class", "volume-icon svelte-1gorbyf"), p(e, "class", "volume svelte-1gorbyf") }, m(c, d) { I(c, e, d), A(e, t), H(i, t, null), A(e, r), A(e, s), A(e, o), A(e, a), H(l, a, null), u = !0 }, i(c) { u || (w(i.$$.fragment, c), w(l.$$.fragment, c), u = !0) }, o(c) { D(i.$$.fragment, c), D(l.$$.fragment, c), u = !1 }, d(c) { c && _(e), $(i), $(l) } } } function yDe(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h = !1, m, v, b = n[0] && yk(n); o = new pDe({}); let y = !n[1] && wk(), k = !n[1] && kk(), S = h, C = !n[4] && bDe(); return { c() { e = L("div"), b && b.c(), t = Y(), i = L("div"), r = L("div"), s = L("button"), V(o.$$.fragment), a = Y(), l = L("div"), y && y.c(), u = Y(), c = L("amp-playback-controls-play"), d = Y(), k && k.c(), f = Y(), g = L("div"), m = Y(), C && C.c(), this.h() }, l(P) { e = T(P, "DIV", { "data-testid": !0, class: !0 }); var M = E(e); b && b.l(M), t = X(M), i = T(M, "DIV", { class: !0 }); var R = E(i); r = T(R, "DIV", {}); var F = E(r); s = T(F, "BUTTON", { class: !0 }); var N = E(s); q(o.$$.fragment, N), N.forEach(_), F.forEach(_), a = X(R), l = T(R, "DIV", { class: !0 }); var O = E(l); y && y.l(O), u = X(O), c = T(O, "AMP-PLAYBACK-CONTROLS-PLAY", { class: !0 }), E(c).forEach(_), d = X(O), k && k.l(O), O.forEach(_), f = X(R), g = T(R, "DIV", {}); var B = E(g); B.forEach(_), R.forEach(_), m = X(M), C && C.l(M), M.forEach(_), this.h() }, h() { p(s, "class", "other-control-button"), Xe(c, "class", "svelte-1gorbyf"), p(l, "class", "playback-buttons svelte-1gorbyf"), p(i, "class", "controls svelte-1gorbyf"), p(e, "data-testid", "now-playing-controls"), p(e, "class", "playback-controls svelte-1gorbyf") }, m(P, M) { I(P, e, M), b && b.m(e, null), A(e, t), A(e, i), A(i, r), A(r, s), H(o, s, null), A(i, a), A(i, l), y && y.m(l, null), A(l, u), A(l, c), A(l, d), k && k.m(l, null), A(i, f), A(i, g), A(e, m), C && C.m(e, null), v = !0 }, p(P, [M]) { P[0] ? b ? b.p(P, M) : (b = yk(P), b.c(), b.m(e, t)) : b && (b.d(1), b = null), P[1] ? y && (y.d(1), y = null) : y || (y = wk(), y.c(), y.m(l, u)), P[1] ? k && (k.d(1), k = null) : k || (k = kk(), k.c(), k.m(l, null)) }, i(P) { v || (w(o.$$.fragment, P), w(S), w(C), v = !0) }, o(P) { D(o.$$.fragment, P), D(S), D(C), v = !1 }, d(P) { P && _(e), b && b.d(), $(o), y && y.d(), k && k.d(), C && C.d() } } } function wDe(n, e, t) { let i, { showProgressBar: r = !0 } = e, { isRadio: s = !1 } = e, { isLibrary: o = !1 } = e; const a = Oi.isiOS(), l = ot(); return ce(n, l, u => t(3, i = u)), It(), n.$$set = u => { "showProgressBar" in u && t(0, r = u.showProgressBar), "isRadio" in u && t(1, s = u.isRadio), "isLibrary" in u && t(2, o = u.isLibrary) }, [r, s, o, i, a, l] } class kDe extends oe { constructor(e) { super(), se(this, e, wDe, yDe, ye, { showProgressBar: 0, isRadio: 1, isLibrary: 2 }) } } function DDe(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M18.53 62.724c1.764 0 3.115-.81 5.257-2.707l9.816-8.638h16.62c8.72 0 13.777-5.152 13.777-13.777V15.053c0-8.625-5.056-13.777-13.777-13.777H13.777C5.057 1.276 0 6.42 0 15.053v22.549c0 8.633 5.27 13.777 13.456 13.777h1.016v6.793c0 2.812 1.511 4.552 4.057 4.552zm1.57-7.16v-8.11c0-1.81-.805-2.485-2.486-2.485h-3.55c-5.165 0-7.654-2.603-7.654-7.654V15.34c0-5.033 2.489-7.632 7.654-7.632h35.872c5.149 0 7.654 2.599 7.654 7.632v21.975c0 5.051-2.505 7.654-7.654 7.654H33.188c-1.835 0-2.702.33-4.012 1.65zm-2.212-32.177c0 3.398 2.156 5.936 5.388 5.936 1.361 0 2.592-.302 3.372-1.263h.385c-.868 2.231-3 3.845-5.303 4.4-.95.243-1.327.737-1.327 1.425 0 .8.658 1.36 1.51 1.36 3.174 0 8.8-3.775 8.8-10.6 0-4.138-2.602-7.336-6.588-7.336-3.576 0-6.237 2.518-6.237 6.078zm15.663 0c0 3.398 2.134 5.936 5.387 5.936 1.34 0 2.593-.302 3.373-1.263h.39c-.865 2.231-3.023 3.845-5.308 4.4-.947.243-1.327.737-1.327 1.425 0 .8.636 1.36 1.51 1.36 3.178 0 8.779-3.775 8.779-10.6 0-4.138-2.577-7.336-6.567-7.336-3.577 0-6.237 2.518-6.237 6.078z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function SDe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Dk = class extends oe { constructor(e) { super(), se(this, e, SDe, DDe, ht, {}) } }; function CDe(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M17.347 62.821c1.254 0 2.21-.572 3.705-1.933L31.78 51.26h18.443C58.943 51.26 64 46.13 64 37.504V14.956C64 6.33 58.944 1.179 50.223 1.179H13.777C5.057 1.179 0 6.322 0 14.956v22.548C0 46.137 5.27 51.26 13.456 51.26h.994v8.327c0 1.97 1.095 3.235 2.897 3.235zm-.108-39.64c0-3.71 2.79-6.37 6.53-6.37 4.18 0 6.89 3.383 6.89 7.694 0 7.102-5.871 11.086-9.19 11.086-.917 0-1.596-.593-1.596-1.43 0-.742.387-1.242 1.403-1.474 2.4-.587 4.629-2.31 5.53-4.606h-.407c-.823.983-2.108 1.318-3.512 1.318-3.417 0-5.648-2.669-5.648-6.217zm16.387 0c0-3.71 2.77-6.37 6.508-6.37 4.18 0 6.912 3.383 6.912 7.694 0 7.102-5.871 11.086-9.179 11.086-.928 0-1.617-.593-1.617-1.43 0-.742.39-1.242 1.392-1.474 2.436-.587 4.654-2.31 5.551-4.606h-.407c-.823.983-2.108 1.318-3.523 1.318-3.405 0-5.637-2.669-5.637-6.217z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function PDe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let Sk = class extends oe { constructor(e) { super(), se(this, e, PDe, CDe, ht, {}) } }; function ADe(n) { let e, t, i, r, s, o; t = new fl({ props: { maskSvg: n[3], inverted: n[1], maskWidth: 22, maskHeight: 22 } }); let a = [{ class: i = "toggle-button toggle-button--lyrics " + n[2] }, { disabled: n[0] }, n[10]], l = {}; for (let u = 0; u < a.length; u += 1)l = fe(l, a[u]); return { c() { e = L("button"), V(t.$$.fragment), this.h() }, l(u) { e = T(u, "BUTTON", { class: !0 }); var c = E(e); q(t.$$.fragment, c), c.forEach(_), this.h() }, h() { Fi(e, l), J(e, "svelte-tqm8hb", !0) }, m(u, c) { I(u, e, c), H(t, e, null), e.autofocus && e.focus(), r = !0, s || (o = [Ut(n[12].call(null, e)), Me(e, "click", n[11])], s = !0) }, p(u, c) { const d = {}; c & 8 && (d.maskSvg = u[3]), c & 2 && (d.inverted = u[1]), t.$set(d), Fi(e, l = at(a, [(!r || c & 4 && i !== (i = "toggle-button toggle-button--lyrics " + u[2])) && { class: i }, (!r || c & 1) && { disabled: u[0] }, c & 1024 && u[10]])), J(e, "svelte-tqm8hb", !0) }, i(u) { r || (w(t.$$.fragment, u), r = !0) }, o(u) { D(t.$$.fragment, u), r = !1 }, d(u) { u && _(e), $(t), s = !1, Ot(o) } } } function EDe(n) { let e, t; return e = new kN({}), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function IDe(n) { let e; return { c() { e = le(n[7]) }, l(t) { e = ue(t, n[7]) }, m(t, i) { I(t, e, i) }, p(t, i) { i & 128 && me(e, t[7]) }, d(t) { t && _(e) } } } function MDe(n) { let e; return { c() { e = le(n[8]) }, l(t) { e = ue(t, n[8]) }, m(t, i) { I(t, e, i) }, p(t, i) { i & 256 && me(e, t[8]) }, d(t) { t && _(e) } } } function LDe(n) { let e, t; return e = new V_({ props: { key: "lyric-button", autoOpen: !1, dismissMemory: !0, translateFn: n[4].t, class: "lyrics-toggle-bubble-tip", $$slots: { body: [MDe], title: [IDe], icon: [EDe], default: [ADe, ({ target: i }) => ({ 12: i }), ({ target: i }) => i ? 4096 : 0] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 96 && (s.autoOpen = !1), r & 16 && (s.translateFn = i[4].t), r & 9615 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function TDe(n, e, t) { const i = ["disabled", "inverted", "className", "maskSvg"]; let r = vv(e, i), s, o, a; ce(n, Id, v => t(5, o = v)), ce(n, Ed, v => t(6, a = v)); const l = ot(); ce(n, l, v => t(4, s = v)); let { disabled: u = !1 } = e, { inverted: c = !1 } = e, { className: d = "" } = e, { maskSvg: f } = e, g, h; function m(v) { Bt.call(this, n, v) } return n.$$set = v => { e = fe(fe({}, e), Ie(v)), t(10, r = vv(e, i)), "disabled" in v && t(0, u = v.disabled), "inverted" in v && t(1, c = v.inverted), "className" in v && t(2, d = v.className), "maskSvg" in v && t(3, f = v.maskSvg) }, n.$$.update = () => { if (n.$$.dirty & 112) { const v = E_(a, o, s); t(7, g = v.title), t(8, h = v.body) } }, [u, c, d, f, s, o, a, g, h, l, r, m] } class RDe extends oe { constructor(e) { super(), se(this, e, TDe, LDe, ye, { disabled: 0, inverted: 1, className: 2, maskSvg: 3 }) } } function FDe(n) { let e, t; return e = new RDe({ props: { disabled: n[1], "aria-label": n[2].t("ASE.Web.Music.MediaComponents.Lyrics.Header"), className: "lyrics-button", "data-testid": "lyrics-button", inverted: n[0], maskSvg: n[0] ? Sk : Dk } }), e.$on("click", n[4]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 2 && (s.disabled = i[1]), r & 4 && (s["aria-label"] = i[2].t("ASE.Web.Music.MediaComponents.Lyrics.Header")), r & 1 && (s.inverted = i[0]), r & 1 && (s.maskSvg = i[0] ? Sk : Dk), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function ODe(n, e, t) { let i; const r = ot(); ce(n, r, l => t(2, i = l)); let { isSelected: s = !1 } = e, { disabled: o = !1 } = e; function a(l) { Bt.call(this, n, l) } return n.$$set = l => { "isSelected" in l && t(0, s = l.isSelected), "disabled" in l && t(1, o = l.disabled) }, [s, o, i, r, a] } class tB extends oe { constructor(e) { super(), se(this, e, ODe, FDe, ye, { isSelected: 0, disabled: 1 }) } } function NDe(n) { var d, f; let e, t, i, r, s = ((f = (d = n[1]) == null ? void 0 : d.members) == null ? void 0 : f.length) - 1 + "", o, a, l, u, c; return t = new M_({ props: { "aria-hidden": "true" } }), { c() { e = L("button"), V(t.$$.fragment), i = Y(), r = L("span"), o = le(s), this.h() }, l(g) { e = T(g, "BUTTON", { "data-testid": !0, "aria-label": !0, class: !0 }); var h = E(e); q(t.$$.fragment, h), i = X(h), r = T(h, "SPAN", { class: !0 }); var m = E(r); o = ue(m, s), m.forEach(_), h.forEach(_), this.h() }, h() { var g; p(r, "class", "toggle-button__counter svelte-1lnqrdu"), p(e, "data-testid", "share-play-button"), p(e, "aria-label", a = n[0].t("ASE.Web.Music.SharePlay.FullScreenPlayer.Title")), p(e, "class", "share-play-button svelte-1lnqrdu"), J(e, "is-selected", (g = n[1]) == null ? void 0 : g.inSession) }, m(g, h) { I(g, e, h), H(t, e, null), A(e, i), A(e, r), A(r, o), l = !0, u || (c = Me(e, "click", n[4]), u = !0) }, p(g, [h]) { var m, v, b; (!l || h & 2) && s !== (s = ((v = (m = g[1]) == null ? void 0 : m.members) == null ? void 0 : v.length) - 1 + "") && me(o, s), (!l || h & 1 && a !== (a = g[0].t("ASE.Web.Music.SharePlay.FullScreenPlayer.Title"))) && p(e, "aria-label", a), (!l || h & 2) && J(e, "is-selected", (b = g[1]) == null ? void 0 : b.inSession) }, i(g) { l || (w(t.$$.fragment, g), l = !0) }, o(g) { D(t.$$.fragment, g), l = !1 }, d(g) { g && _(e), $(t), u = !1, c() } } } function BDe(n, e, t) { let i, r; const s = ot(); ce(n, s, l => t(0, i = l)); const { sharePlayState: o } = Or(); ce(n, o, l => t(1, r = l)); function a(l) { Bt.call(this, n, l) } return [i, r, s, o, a] } class nB extends oe { constructor(e) { super(), se(this, e, BDe, NDe, ye, {}) } } function UDe(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M19.489 16.272h41.284A3.204 3.204 0 0 0 64 13.046a3.203 3.203 0 0 0-3.227-3.222H19.49a3.2 3.2 0 0 0-3.226 3.222 3.2 3.2 0 0 0 3.226 3.226zm0 18.954h41.284A3.207 3.207 0 0 0 64 32a3.206 3.206 0 0 0-3.227-3.226H19.49A3.204 3.204 0 0 0 16.263 32a3.204 3.204 0 0 0 3.226 3.226zm0 18.95h41.284A3.203 3.203 0 0 0 64 50.954a3.204 3.204 0 0 0-3.227-3.226H19.49a3.2 3.2 0 0 0-3.226 3.226 3.2 3.2 0 0 0 3.226 3.222zM4.636 17.682c2.54 0 4.632-2.091 4.632-4.636 0-2.54-2.092-4.631-4.632-4.631C2.092 8.415 0 10.506 0 13.046c0 2.545 2.092 4.636 4.636 4.636zm0 18.954c2.54 0 4.632-2.091 4.632-4.636s-2.092-4.636-4.632-4.636C2.092 27.364 0 29.455 0 32s2.092 4.636 4.636 4.636zm0 18.95c2.54 0 4.632-2.092 4.632-4.632 0-2.545-2.092-4.636-4.632-4.636C2.092 46.318 0 48.409 0 50.954c0 2.54 2.092 4.631 4.636 4.631z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function HDe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let $De = class extends oe { constructor(e) { super(), se(this, e, HDe, UDe, ht, {}) } }; function Ck(n) { let e, t; return e = new tB({ props: { isSelected: n[0], disabled: n[5] } }), e.$on("click", n[22]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.isSelected = i[0]), r & 32 && (s.disabled = i[5]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function Pk(n) { let e, t; return e = new nB({}), e.$on("click", n[13]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function Ak(n) { let e, t, i; return t = new P_({}), { c() { e = L("span"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "SPAN", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "toggle-button__autoplay svelte-gw2c6x") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function Ek(n) { var r; let e, t = n[4].t(`ASE.Web.Music.SharePlay.FullScreenPlayer.AudioRouting.${ul(n[3].route)}`, { sharePlaySessionName: (r = n[3]) == null ? void 0 : r.displayName }) + "", i; return { c() { e = L("div"), i = le(t), this.h() }, l(s) { e = T(s, "DIV", { class: !0, "data-testid": !0 }); var o = E(e); i = ue(o, t), o.forEach(_), this.h() }, h() { p(e, "class", "audio-routing svelte-gw2c6x"), p(e, "data-testid", "audio-routing") }, m(s, o) { I(s, e, o), A(e, i) }, p(s, o) { var a; o & 24 && t !== (t = s[4].t(`ASE.Web.Music.SharePlay.FullScreenPlayer.AudioRouting.${ul(s[3].route)}`, { sharePlaySessionName: (a = s[3]) == null ? void 0 : a.displayName }) + "") && me(i, t) }, d(s) { s && _(e) } } } function VDe(n) { var v, b; let e, t, i, r, s, o, a, l, u, c, d, f = n[6] && Ck(n), g = ((v = n[3]) == null ? void 0 : v.inSession) && Pk(n); s = new fl({ props: { maskSvg: $De, maskWidth: 20, maskHeight: 20, inverted: n[1] === Ri.Queue } }); let h = n[2] && Ak(), m = ((b = n[3]) == null ? void 0 : b.inSession) && Ek(n); return { c() { e = L("div"), f && f.c(), t = Y(), g && g.c(), i = Y(), r = L("button"), V(s.$$.fragment), o = Y(), h && h.c(), a = Y(), m && m.c(), l = re(), this.h() }, l(y) { e = T(y, "DIV", { class: !0, "data-testid": !0 }); var k = E(e); f && f.l(k), t = X(k), g && g.l(k), i = X(k), r = T(k, "BUTTON", { "data-testid": !0, "aria-label": !0, class: !0 }); var S = E(r); q(s.$$.fragment, S), o = X(S), h && h.l(S), S.forEach(_), k.forEach(_), a = X(y), m && m.l(y), l = re(), this.h() }, h() { p(r, "data-testid", "queue-button"), p(r, "aria-label", n[7]), p(r, "class", "toggle-button toggle-button--queue svelte-gw2c6x"), J(r, "has-autoplay", n[2]), p(e, "class", "toggle-buttons svelte-gw2c6x"), p(e, "data-testid", "toggle-buttons"), J(e, "is-unsubscribed-no-lyrics", !n[6]) }, m(y, k) { I(y, e, k), f && f.m(e, null), A(e, t), g && g.m(e, null), A(e, i), A(e, r), H(s, r, null), A(r, o), h && h.m(r, null), I(y, a, k), m && m.m(y, k), I(y, l, k), u = !0, c || (d = Me(r, "click", n[23]), c = !0) }, p(y, [k]) { var C, P; y[6] ? f ? (f.p(y, k), k & 64 && w(f, 1)) : (f = Ck(y), f.c(), w(f, 1), f.m(e, t)) : f && (te(), D(f, 1, 1, () => { f = null }), ne()), (C = y[3]) != null && C.inSession ? g ? (g.p(y, k), k & 8 && w(g, 1)) : (g = Pk(y), g.c(), w(g, 1), g.m(e, i)) : g && (te(), D(g, 1, 1, () => { g = null }), ne()); const S = {}; k & 2 && (S.inverted = y[1] === Ri.Queue), s.$set(S), y[2] ? h ? k & 4 && w(h, 1) : (h = Ak(), h.c(), w(h, 1), h.m(r, null)) : h && (te(), D(h, 1, 1, () => { h = null }), ne()), (!u || k & 128) && p(r, "aria-label", y[7]), (!u || k & 4) && J(r, "has-autoplay", y[2]), (!u || k & 64) && J(e, "is-unsubscribed-no-lyrics", !y[6]), (P = y[3]) != null && P.inSession ? m ? m.p(y, k) : (m = Ek(y), m.c(), m.m(l.parentNode, l)) : m && (m.d(1), m = null) }, i(y) { u || (w(f), w(g), w(s.$$.fragment, y), w(h), u = !0) }, o(y) { D(f), D(g), D(s.$$.fragment, y), D(h), u = !1 }, d(y) { y && (_(e), _(a), _(l)), f && f.d(), g && g.d(), $(s), h && h.d(), m && m.d(y), c = !1, d() } } } function zDe(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h; ce(n, Er, B => t(19, d = B)); var m, v, b; const y = ot(); ce(n, y, B => t(4, g = B)); const { queue: k } = zn(); ce(n, k, B => t(21, h = B)); const S = It(), { sharePlayState: C } = Or(); ce(n, C, B => t(3, c = B)); const { state: P } = xt(); ce(n, P, B => t(20, f = B)); let { hasLyrics: M } = e; const R = B => { S("toggleView", B) }, F = () => { S("manage") }, N = () => R(Ri.Lyrics), O = () => R(Ri.Queue); return n.$$set = B => { "hasLyrics" in B && t(14, M = B.hasLyrics) }, n.$$.update = () => { n.$$.dirty & 524288 && t(1, o = d.nowPlayingView), n.$$.dirty & 2129922 && t(2, i = o !== Ri.Queue && h.autoplayEnabled && (t(15, m = h.nowPlayingItem) === null || m === void 0 ? void 0 : m.isAutoplay)), n.$$.dirty & 20 && t(7, r = i ? g.t("ASE.Web.Music.ContentA.Comma.ContentB", { contentA: g.t("ASE.Web.Music.UpNext.Heading"), contentB: g.t("ASE.Web.Music.UpNext.Autoplay.Heading") }) : g.t("ASE.Web.Music.UpNext.Heading")), n.$$.dirty & 1114112 && t(18, s = bi(t(16, v = f == null ? void 0 : f.user) === null || v === void 0 ? void 0 : v.subscriberType)), n.$$.dirty & 2 && t(0, a = o === Ri.Lyrics), n.$$.dirty & 262152 && t(6, l = s || (c == null ? void 0 : c.inSession)), n.$$.dirty & 147457 && t(5, u = t(17, b = !M && !a) !== null && b !== void 0 ? b : !0) }, [a, o, i, c, g, u, l, r, y, k, C, P, R, F, M, m, v, b, s, d, f, h, N, O] } class qDe extends oe { constructor(e) { super(), se(this, e, zDe, VDe, ye, { hasLyrics: 14 }) } } function Ik(n) { let e, t, i; return e = new Rl({ props: { modalTriggerElement: null, disableScrim: !1, translateFn: n[2].t, includeCollapseButton: !1, ariaLabelledBy: n[5], $$slots: { "close-trigger": [KDe], default: [WDe] }, $$scope: { ctx: n } } }), e.$on("close", n[6]), { c() { t = L("div"), V(e.$$.fragment), this.h() }, l(r) { t = T(r, "DIV", { style: !0 }); var s = E(t); q(e.$$.fragment, s), this.h() }, h() { Pt(t, "display", "contents"), Pt(t, "--slidingModalHeight", "auto"), Pt(t, "--slidingModalBorderRadius", "16px"), Pt(t, "--modalMaxWidth", "560px") }, m(r, s) { I(r, t, s), H(e, t, null), i = !0 }, p(r, s) { const o = {}; s & 4 && (o.translateFn = r[2].t), s & 4096 && (o.$$scope = { dirty: s, ctx: r }), e.$set(o) }, i(r) { i || (w(e.$$.fragment, r), i = !0) }, o(r) { D(e.$$.fragment, r), i = !1 }, d(r) { r && e && _(t), $(e, r) } } } function WDe(n) { let e, t; return e = new IN({ props: { dialogTitleId: n[5] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function KDe(n) { let e, t, i, r, s; return t = new rr({ props: { "aria-hidden": "true" } }), { c() { e = L("button"), V(t.$$.fragment), this.h() }, l(o) { e = T(o, "BUTTON", { class: !0, slot: !0 }); var a = E(e); q(t.$$.fragment, a), a.forEach(_), this.h() }, h() { p(e, "class", "close-button svelte-qx3kpa"), p(e, "slot", "close-trigger") }, m(o, a) { I(o, e, a), H(t, e, null), i = !0, r || (s = Me(e, "click", n[6]), r = !0) }, p: j, i(o) { i || (w(t.$$.fragment, o), i = !0) }, o(o) { D(t.$$.fragment, o), i = !1 }, d(o) { o && _(e), $(t), r = !1, s() } } } function Mk(n) { let e, t; return e = new PN({}), e.$on("close", n[7]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function JDe(n) { let e, t, i, r = n[1].inSession && Ik(n), s = n[0] && Mk(n); return { c() { r && r.c(), e = Y(), s && s.c(), t = re() }, l(o) { r && r.l(o), e = X(o), s && s.l(o), t = re() }, m(o, a) { r && r.m(o, a), I(o, e, a), s && s.m(o, a), I(o, t, a), i = !0 }, p(o, [a]) { o[1].inSession ? r ? (r.p(o, a), a & 2 && w(r, 1)) : (r = Ik(o), r.c(), w(r, 1), r.m(e.parentNode, e)) : r && (te(), D(r, 1, 1, () => { r = null }), ne()), o[0] ? s ? (s.p(o, a), a & 1 && w(s, 1)) : (s = Mk(o), s.c(), w(s, 1), s.m(t.parentNode, t)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()) }, i(o) { i || (w(r), w(s), i = !0) }, o(o) { D(r), D(s), i = !1 }, d(o) { o && (_(e), _(t)), r && r.d(o), s && s.d(o) } } } function YDe(n, e, t) { let i, r; const s = ot(); ce(n, s, f => t(2, r = f)); const { sharePlayState: o } = Or(); ce(n, o, f => t(1, i = f)); const a = It(); sn(); const l = ro()(); let u = !1; function c() { a("close") } return [u, i, r, s, o, l, c, () => { t(0, u = !1) }] } class iB extends oe { constructor(e) { super(), se(this, e, YDe, JDe, ye, {}) } } var Lk = {}, XDe = { get exports() { return Lk }, set exports(n) { Lk = n } }, Qu = {}, ZDe = { get exports() { return Qu }, set exports(n) { Qu = n } }; (function (n, e) { class t { constructor() { this._events = {} } on(r, s) { return this._events[r] = this._events[r] || [], this._events[r].unshift(s), s } once(r, s) { const o = a => { this.off(r, o), a !== void 0 ? s(a) : s() }; return this.on(r, o) } off(r, s) { if (!this.has(r)) return; if (!s) { delete this._events[r]; return } const o = this._events[r].indexOf(s); o !== -1 && this._events[r].splice(o, 1) } trigger(r, s) { if (this.has(r)) for (let o = this._events[r].length - 1; o >= 0; o--)s !== void 0 ? this._events[r][o](s) : this._events[r][o]() } has(r) { return r in this._events && this._events[r].length !== 0 } destroy() { this._events = null } } t.EventEmitterMicro = t, n.exports = t })(ZDe); let QDe = class { }; var rB = QDe; let jDe = class { constructor(e, t, i, r, s = !1, o = void 0) { this.epsilon = parseFloat(t), this.snapAtCreation = i, this.initialValue = e, this.target = e, this.current = e, this.previousValue = e, this.isActive = !1, this.key = r, this.round = s, this.suffix = o } update(e, t, i) { this.target = e[0] + t * (e[1] - e[0]), this.previousValue = this.current, this.current += (this.target - this.current) * i; let r = this.delta(this.current, this.target); return r < this.epsilon && (this.current = this.target, r = 0), r > this.epsilon || r === 0 && this.previousValue !== this.current } reconcile(e, t) { return this.initialValue = e[0], this.update(e, t, 1) } needsUpdate() { return this.delta(this.current, this.target) > this.epsilon } delta(e, t) { return Math.abs(e - t) } calculateEpsilon(e, t) { if (e.epsilon) { this.epsilon = e.epsilon; return } let i = this.delta(t[0], t[1]), r = Math.min(i * .001, this.epsilon, .05); this.epsilon = Math.max(r, .001) } set(e) { let t = this.current; this.round && (t = Math.round(t)), this.suffix && (t = t + this.suffix), e[this.key] = t } unset(e) { } }; var Da = jDe; const GDe = function (n) { return n.startsWith("--") ? n : n.replace(/[A-Z]/g, e => "-" + e.toLowerCase()) }; var sB = GDe; const xDe = Da, e6e = sB; let t6e = class extends xDe { constructor(e, t, i, r, s = !1, o = void 0) { r = e6e(r), super(e, t, i, r, s, o) } set(e) { let t = this.current; this.round && (t = Math.round(t)), this.suffix && (t = t + this.suffix), e.setProperty(this.key, t) } unset(e) { e.removeProperty(this.key) } }; var z_ = t6e; const e0 = { GUI_INSTANCE: null, ANIM_INSTANCE: null, VIEWPORT_EMITTER_ELEMENT: void 0, LOCAL_STORAGE_KEYS: { GuiPosition: "anim-ui.position", GroupCollapsedStates: "anim-ui.group-collapsed-states", scrollY: "anim-ui.scrollY-position", path: "anim-ui.path" }, RESIZE_TIMEOUT: -1, BREAKPOINTS: [{ name: "S", mediaQuery: "only screen and (max-width: 734px)" }, { name: "M", mediaQuery: "only screen and (max-width: 1068px)" }, { name: "L", mediaQuery: "only screen and (min-width: 1069px)" }], getBreakpoint: function () { for (let n = 0; n < e0.BREAKPOINTS.length; n++) { let e = e0.BREAKPOINTS[n]; if (window.matchMedia(e.mediaQuery).matches) return e.name } }, KeyframeDefaults: { ease: 1, epsilon: .05, preserveState: !1, easeFunctionString: "linear", easeFunction: "linear", hold: !1, snapAtCreation: !1, toggle: !1, breakpointMask: "SMLX", event: "", disabledWhen: [], cssClass: "" }, KeyframeTypes: { Interpolation: 0, InterpolationForward: 1, CSSClass: 2, Event: 3 }, EVENTS: { ON_DOM_KEYFRAMES_CREATED: "ON_DOM_KEYFRAMES_CREATED", ON_DOM_GROUPS_CREATED: "ON_DOM_GROUPS_CREATED", ON_GROUP_CREATED: "ON_GROUP_CREATED", ON_KEYFRAME_UPDATED: "ON_KEYFRAME_UPDATED", ON_TIMELINE_START: "ON_TIMELINE_START", ON_TIMELINE_UPDATE: "ON_TIMELINE_UPDATE", ON_TIMELINE_COMPLETE: "ON_TIMELINE_COMPLETE", ON_CHAPTER_INITIATED: "ON_CHAPTER_INITIATED", ON_CHAPTER_OCCURRED: "ON_CHAPTER_OCCURRED", ON_CHAPTER_COMPLETED: "ON_CHAPTER_COMPLETED" }, PageEvents: { ON_SCROLL: "ON_SCROLL", ON_RESIZE_IMMEDIATE: "ON_RESIZE_IMMEDIATE", ON_RESIZE_DEBOUNCED: "ON_RESIZE_DEBOUNCED", ON_BREAKPOINT_CHANGE: "ON_BREAKPOINT_CHANGE" }, KeyframeJSONReservedWords: ["event", "cssClass", "style", "anchors", "start", "end", "epsilon", "easeFunction", "ease", "breakpointMask", "disabledWhen"], TweenProps: rB, TargetValue: Da, CSSTargetValue: z_, pageMetrics: new function () { this.scrollX = 0, this.scrollY = 0, this.windowWidth = 0, this.windowHeight = 0, this.documentOffsetX = 0, this.documentOffsetY = 0, this.previousBreakpoint = "", this.breakpoint = "" }, KeyframeComparison: function (n, e) { return n.start < e.start ? -1 : n.start > e.start ? 1 : 0 } }; var Ms = e0, Bl = { lerp: function (n, e, t) { return e + (t - e) * n }, map: function (n, e, t, i, r) { return i + (r - i) * (n - e) / (t - e) }, mapClamp: function (n, e, t, i, r) { var s = i + (r - i) * (n - e) / (t - e); return Math.max(i, Math.min(r, s)) }, norm: function (n, e, t) { return (n - e) / (t - e) }, clamp: function (n, e, t) { return Math.max(e, Math.min(t, n)) }, randFloat: function (n, e) { return Math.random() * (e - n) + n }, randInt: function (n, e) { return Math.floor(Math.random() * (e - n) + n) } }; let n6e = class { constructor() { this.linear = function (e) { return e }, this.easeInQuad = function (e) { return e * e }, this.easeOutQuad = function (e) { return e * (2 - e) }, this.easeInOutQuad = function (e) { return e < .5 ? 2 * e * e : -1 + (4 - 2 * e) * e }, this.easeInSin = function (e) { return 1 + Math.sin(Math.PI / 2 * e - Math.PI / 2) }, this.easeOutSin = function (e) { return Math.sin(Math.PI / 2 * e) }, this.easeInOutSin = function (e) { return (1 + Math.sin(Math.PI * e - Math.PI / 2)) / 2 }, this.easeInElastic = function (e) { return e === 0 ? e : (.04 - .04 / e) * Math.sin(25 * e) + 1 }, this.easeOutElastic = function (e) { return .04 * e / --e * Math.sin(25 * e) }, this.easeInOutElastic = function (e) { return (e -= .5) < 0 ? (.02 + .01 / e) * Math.sin(50 * e) : (.02 - .01 / e) * Math.sin(50 * e) + 1 }, this.easeOutBack = function (e) { return e = e - 1, e * e * ((1.70158 + 1) * e + 1.70158) + 1 }, this.easeInCubic = function (e) { return e * e * e }, this.easeOutCubic = function (e) { return --e * e * e + 1 }, this.easeInOutCubic = function (e) { return e < .5 ? 4 * e * e * e : (e - 1) * (2 * e - 2) * (2 * e - 2) + 1 }, this.easeInQuart = function (e) { return e * e * e * e }, this.easeOutQuart = function (e) { return 1 - --e * e * e * e }, this.easeInOutQuart = function (e) { return e < .5 ? 8 * e * e * e * e : 1 - 8 * --e * e * e * e }, this.easeInQuint = function (e) { return e * e * e * e * e }, this.easeOutQuint = function (e) { return 1 + --e * e * e * e * e }, this.easeInOutQuint = function (e) { return e < .5 ? 16 * e * e * e * e * e : 1 + 16 * --e * e * e * e * e } } }; var oB = new n6e; const Pm = 1e-5, Am = Math.abs, i6e = 5; let t0 = class { constructor(e, t, i, r) { this.cp = new Float32Array(6), this.cp[0] = 3 * e, this.cp[1] = 3 * (i - e) - this.cp[0], this.cp[2] = 1 - this.cp[0] - this.cp[1], this.cp[3] = 3 * t, this.cp[4] = 3 * (r - t) - this.cp[3], this.cp[5] = 1 - this.cp[3] - this.cp[4] } sampleCurveX(e) { return ((this.cp[2] * e + this.cp[1]) * e + this.cp[0]) * e } sampleCurveY(e) { return ((this.cp[5] * e + this.cp[4]) * e + this.cp[3]) * e } sampleCurveDerivativeX(e) { return (3 * this.cp[2] * e + 2 * this.cp[1]) * e + this.cp[0] } solveCurveX(e) { var t, i, r, s, o, a; for (r = e, a = 0; a < i6e; a++) { if (s = this.sampleCurveX(r) - e, Am(s) < Pm) return r; if (o = this.sampleCurveDerivativeX(r), Am(o) < Pm) break; r = r - s / o } if (t = 0, i = 1, r = e, r < t) return t; if (r > i) return i; for (; t < i;) { if (s = this.sampleCurveX(r), Am(s - e) < Pm) return r; e > s ? t = r : i = r, r = (i - t) * .5 + t } return r } solve(e) { return this.sampleCurveY(this.solveCurveX(e)) } }; const r6e = /\d*\.?\d+/g; t0.fromCSSString = function (n) { let e = n.match(r6e); if (e.length !== 4) throw `UnitBezier could not convert ${n} to cubic-bezier`; let t = e.map(Number), i = new t0(t[0], t[1], t[2], t[3]); return i.solve.bind(i) }; var s6e = t0; const { map: o6e } = Bl, ud = {}; let n0 = class { constructor(e, t, i, r) { this.mass = e, this.stiffness = t, this.damping = i, this.initialVelocity = r, this.m_w0 = Math.sqrt(this.stiffness / this.mass), this.m_zeta = this.damping / (2 * Math.sqrt(this.stiffness * this.mass)), this.m_zeta < 1 ? (this.m_wd = this.m_w0 * Math.sqrt(1 - this.m_zeta * this.m_zeta), this.m_A = 1, this.m_B = (this.m_zeta * this.m_w0 + -this.initialVelocity) / this.m_wd) : (this.m_wd = 0, this.m_A = 1, this.m_B = -this.initialVelocity + this.m_w0) } solve(e) { return this.m_zeta < 1 ? e = Math.exp(-e * this.m_zeta * this.m_w0) * (this.m_A * Math.cos(this.m_wd * e) + this.m_B * Math.sin(this.m_wd * e)) : e = (this.m_A + this.m_B * e) * Math.exp(-e * this.m_w0), 1 - e } }; const a6e = /\d*\.?\d+/g; n0.fromCSSString = function (n) { let e = n.match(a6e); if (e.length !== 4) throw `SpringEasing could not convert ${cssString} to spring params`; let t = e.map(Number), i = new n0(...t); const r = i.solve.bind(i); let s = 0; function o() { if (ud[n]) return ud[n]; const l = 1 / 6; let u = 0, c; for (; ;)if (s += l, r(s) === 1) { if (u++, u >= 16) { c = s * l; break } } else u = 0; return ud[n] = c, ud[n] } let a = o(); return function (l) { return l === 0 || l === 1 ? l : r(o6e(l, 0, 1, 0, a)) } }; var l6e = n0; const u6e = function (n) { return n.reduce((e, t) => (e[t] = t, e), {}) }; var q_ = u6e, c6e = function (n, e) { if (typeof n != "string") return n; try { return (e || document).querySelector(n) || document.querySelector(n) } catch (t) { return !1 } }; const d6e = () => Math.random().toString(16).slice(-4); var aB = d6e; const f6e = ["scrollLeft", "scrollTop", "scrollBy", "scrollTo", "currentTime"]; let i0 = ["borderRadius", "bottom", "fontSize", "fontWeight", "height", "left", "lineHeight", "marginBottom", "marginLeft", "marginRight", "marginTop", "maxHeight", "maxWidth", "opacity", "paddingBottom", "paddingLeft", "paddingRight", "paddingTop", "right", "top", "width", "zIndex", "strokeDashoffset"]; i0.push(...i0.map(n => n.replace(/[A-Z]/g, e => "-" + e.toLowerCase()))); const g6e = ["x", "y", "z", "scale", "scaleX", "scaleY", "rotation", "rotationX", "rotationY", "rotationZ"], h6e = ["opacity", "z-index", "font-weight", "zIndex", "fontWeight", "scrollLeft", "scrollTop", "scrollBy", "scrollTo", "currentTime"]; var lB = { transformAttributes: g6e, cssAttributes: i0, domAttributes: f6e, suffixFreeAttributes: h6e }; const Ur = Ms, Tk = Da, m6e = z_, p6e = Bl, Em = oB, _6e = s6e, v6e = l6e, b6e = q_, y6e = c6e, w6e = sB, k6e = aB, { cssAttributes: D6e, suffixFreeAttributes: S6e, domAttributes: C6e } = lB; let uB = class { constructor(e, t) { this.controller = e, this.anchors = [], this.jsonProps = t, this.ease = e.group.defaultEase, this.easeFunction = Em.linear, this.start = 0, this.end = 0, this.localT = 0, this.curvedT = 0, this.id = 0, this.event = "", this.needsEventDispatch = !1, this.snapAtCreation = !1, this.isEnabled = !1, this.animValues = {}, this.breakpointMask = Ur.KeyframeDefaults.breakpointMask, this.disabledWhen = [], this.keyframeType = Ur.KeyframeTypes.Interpolation, this.hold = !1, this.preserveState = !1, this.markedForRemoval = !1; let i = !1; Object.defineProperty(this, "hidden", { get() { return i }, set(r) { i = r, e.group.keyframesDirty = !0 } }), this.uuid = k6e(), this.destroyed = !1 } destroy() { this.destroyed = !0, this.controller = null, this.disabledWhen = null, this.anchors = null, this.jsonProps = null, this.easeFunction = null, this.animValues = null } remove() { return this.controller && this.controller.removeKeyframe(this) } parseOptions(e) { this.jsonProps = e, e.relativeTo && console.error(`KeyframeError: relativeTo has been removed. Use 'anchors' property instead. Found 'relativeTo':"${e.relativeTo}"`), e.end === void 0 && e.duration === void 0 && (e.end = e.start), e.anchors === "" || !e.anchors ? (this.anchors = [], e.anchors = []) : (this.anchors = [], e.anchors = Array.isArray(e.anchors) ? e.anchors : [e.anchors], e.anchors.forEach((t, i) => { let r = y6e(t, this.controller.group.element); if (!r) { let s = ""; typeof t == "string" && (s = " Provided value was a string, so a failed attempt was made to find anchor with the provided querystring in group.element, or in the document."), console.warn("Keyframe on", this.controller.element, ` failed to find anchor at index ${i} in array`, e.anchors, `. Anchors must be JS Object references, Elements references, or valid query selector strings. ${s}`); return } this.anchors.push(r), this.controller.group.metrics.add(r) })), e.ease ? this.ease = parseFloat(e.ease) : e.ease = this.ease, e.hasOwnProperty("snapAtCreation") ? this.snapAtCreation = e.snapAtCreation : e.snapAtCreation = this.snapAtCreation, e.easeFunction || (e.easeFunction = Ur.KeyframeDefaults.easeFunctionString), e.breakpointMask ? this.breakpointMask = e.breakpointMask : e.breakpointMask = this.breakpointMask, e.disabledWhen ? this.disabledWhen = Array.isArray(e.disabledWhen) ? e.disabledWhen : [e.disabledWhen] : e.disabledWhen = this.disabledWhen, e.hasOwnProperty("hold") ? this.hold = e.hold : e.hold = this.hold, e.hasOwnProperty("preserveState") ? this.preserveState = e.preserveState : e.preserveState = Ur.KeyframeDefaults.preserveState, this.easeFunction = Em[e.easeFunction], Em.hasOwnProperty(e.easeFunction) || (e.easeFunction.includes("bezier") ? this.easeFunction = _6e.fromCSSString(e.easeFunction) : e.easeFunction.includes("spring") ? this.easeFunction = v6e.fromCSSString(e.easeFunction) : console.error("Keyframe parseOptions cannot find 'easeFunction' named '" + e.easeFunction + "'")); for (let t in e) { if (Ur.KeyframeJSONReservedWords.indexOf(t) !== -1) continue; let i = e[t]; if (!Array.isArray(i)) continue; if (i.length === 1 && (i[1] = i[0], i[0] = null), this.controller.tweenProps[t] === void 0 || !this.controller._ownerIsElement) { let s = 0; this.controller._ownerIsElement || (s = this.controller.element[t] || 0); const o = t.startsWith("--"); let a = i[2] || (o || S6e.includes(t) ? void 0 : "px"), l = this.controller.group.anim.plugins.keyframe.reduce((u, c) => u || c.parseProp.call(this, e, t), null); if (!l && this.controller._ownerIsElement) if (o || D6e.includes(t)) { let u = w6e(t), c = e.round || ["zIndex"].includes(u); s = parseFloat(this.controller.getTargetComputedStyle().getPropertyValue(u)), isNaN(s) && (s = 0), l = new m6e(s, Ur.KeyframeDefaults.epsilon, this.snapAtCreation, t, c, a), this.controller.cssAttributes.push(l) } else C6e.includes(t) && (l = new Tk(s, Ur.KeyframeDefaults.epsilon, this.snapAtCreation, t, e.round, a), this.controller.domAttributes.push(l)); l || (l = new Tk(s, Ur.KeyframeDefaults.epsilon, this.snapAtCreation, t, e.round, a)), this.controller.tweenProps[t] = l } this.animValues[t] = this.controller.group.expressionParser.parseArray(this, i), this.controller.tweenProps[t].calculateEpsilon(e, this.animValues[t]) } this.keyframeType = this.hold ? Ur.KeyframeTypes.InterpolationForward : Ur.KeyframeTypes.Interpolation, e.event && (this.event = e.event) } overwriteProps(e) { this.animValues = {}; let t = Object.assign({}, this.jsonProps, e); this.controller.updateKeyframe(this, t) } updateLocalProgress(e) { if (this.start === this.end || e < this.start || e > this.end) { this.localT = e < this.start ? this.hold ? this.localT : 0 : e > this.end ? 1 : 0, this.curvedT = this.easeFunction(this.localT); return } const t = (e - this.start) / (this.end - this.start), i = this.hold ? this.localT : 0; this.localT = p6e.clamp(t, i, 1), this.curvedT = this.easeFunction(this.localT) } reconcile(e) { this.controller.tweenProps[e].reconcile(this.animValues[e], this.curvedT) && (this.needsEventDispatch || (this.needsEventDispatch = !0, this.controller.keyframesRequiringDispatch.push(this))) } reset(e) { this.localT = e || 0; let t = this.ease; this.ease = 1; for (let i in this.animValues) this.reconcile(i); this.ease = t } onDOMRead(e) { let t = this.controller.tweenProps[e].update(this.animValues[e], this.curvedT, this.ease); return this.event === "" || this.needsEventDispatch || t && (this.needsEventDispatch = !0, this.controller.keyframesRequiringDispatch.push(this)), t } isInRange(e) { return e >= this.start && e <= this.end } setEnabled(e) { e = e || b6e(Array.from(document.documentElement.classList)); let t = this.breakpointMask.indexOf(Ur.pageMetrics.breakpoint) !== -1, i = !1; return this.disabledWhen.length > 0 && (i = this.disabledWhen.some(r => typeof e[r] < "u")), this.isEnabled = t && !i, this.isEnabled } evaluateConstraints() { this.start = this.controller.group.expressionParser.parseTimeValue(this, this.jsonProps.start), this.end = this.controller.group.expressionParser.parseTimeValue(this, this.jsonProps.end), this.evaluateInterpolationConstraints() } evaluateInterpolationConstraints() { for (let e in this.animValues) { let t = this.jsonProps[e]; this.animValues[e] = this.controller.group.expressionParser.parseArray(this, t) } } }; uB.DATA_ATTRIBUTE = "data-anim-tween"; var sh = uB; const Rk = sh, Im = Ms, P6e = Da; let oh = class Jo extends Rk { constructor(e, t) { super(e, t), this.keyframeType = Im.KeyframeTypes.CSSClass, this._triggerType = Jo.TRIGGER_TYPE_CSS_CLASS, this.cssClass = "", this.friendlyName = "", this.style = { on: null, off: null }, this.toggle = Im.KeyframeDefaults.toggle, this.isApplied = !1 } parseOptions(e) { if (!this.controller._ownerIsElement) throw new TypeError("CSS Keyframes cannot be applied to JS Objects"); if (e.x = void 0, e.y = void 0, e.z = void 0, e.scale = void 0, e.scaleX = void 0, e.scaleY = void 0, e.rotationX = void 0, e.rotationY = void 0, e.rotationZ = void 0, e.rotation = void 0, e.opacity = void 0, e.hold = void 0, e.toggle !== void 0 && (this.toggle = e.toggle), e.cssClass !== void 0) this._triggerType = Jo.TRIGGER_TYPE_CSS_CLASS, this.cssClass = e.cssClass, this.friendlyName = "." + this.cssClass, this.controller.tweenProps.targetClasses === void 0 && (this.controller.tweenProps.targetClasses = { add: [], remove: [] }); else if (e.style !== void 0 && this.isValidStyleProperty(e.style)) { if (this._triggerType = Jo.TRIGGER_TYPE_STYLE_PROPERTY, this.style = e.style, this.friendlyName = "style", this.toggle = this.style.off !== void 0 ? !0 : this.toggle, this.toggle && this.style.off === void 0) { this.style.off = {}; for (let t in this.style.on) this.style.off[t] = "" } this.controller.tweenProps.targetStyles === void 0 && (this.controller.tweenProps.targetStyles = {}) } else throw new TypeError("KeyframeCSSClass no 'cssClass` property found. If using `style` property its also missing or invalid"); if (e.end === void 0 && (e.end = e.start), e.toggle = this.toggle, this._triggerType === Jo.TRIGGER_TYPE_CSS_CLASS) this.isApplied = this.controller.element.classList.contains(this.cssClass); else { let t = getComputedStyle(this.controller.element); this.isApplied = !0; for (let i in this.style.on) if (t[i] !== this.style.on[i]) { this.isApplied = !1; break } } Rk.prototype.parseOptions.call(this, e), this.animValues[this.friendlyName] = [0, 0], this.controller.tweenProps[this.friendlyName] === void 0 && (this.controller.tweenProps[this.friendlyName] = new P6e(0, 1, !1, this.friendlyName)), this.keyframeType = Im.KeyframeTypes.CSSClass } updateLocalProgress(e) { this.isApplied && !this.toggle || (this.start !== this.end ? !this.isApplied && e >= this.start && e <= this.end ? this._apply() : this.isApplied && this.toggle && (e < this.start || e > this.end) && this._unapply() : !this.isApplied && e >= this.start ? this._apply() : this.isApplied && this.toggle && e < this.start && this._unapply()) } _apply() { if (this._triggerType === Jo.TRIGGER_TYPE_CSS_CLASS) this.controller.tweenProps.targetClasses.add.push(this.cssClass), this.controller.needsClassUpdate = !0; else { for (let e in this.style.on) this.controller.tweenProps.targetStyles[e] = this.style.on[e]; this.controller.needsStyleUpdate = !0 } this.isApplied = !0 } _unapply() { if (this._triggerType === Jo.TRIGGER_TYPE_CSS_CLASS) this.controller.tweenProps.targetClasses.remove.push(this.cssClass), this.controller.needsClassUpdate = !0; else { for (let e in this.style.off) this.controller.tweenProps.targetStyles[e] = this.style.off[e]; this.controller.needsStyleUpdate = !0 } this.isApplied = !1 } isValidStyleProperty(e) { if (!e.hasOwnProperty("on")) return !1; if (typeof e.on != "object") throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:'hidden', otherProperty: 'value'}}"); if (this.toggle && e.hasOwnProperty("off") && typeof e.off != "object") throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:'hidden', otherProperty: 'value'}}"); return !0 } reconcile(e) { } onDOMRead(e) { } evaluateInterpolationConstraints() { } }; oh.TRIGGER_TYPE_CSS_CLASS = 0; oh.TRIGGER_TYPE_STYLE_PROPERTY = 1; oh.DATA_ATTRIBUTE = "data-anim-classname"; var W_ = oh; const A6e = sh, Fk = Ms, E6e = Da; let cB = class extends A6e { constructor(e, t) { super(e, t), this.keyframeType = Fk.KeyframeTypes.Event, this.isApplied = !1, this.hasDuration = !1, this.isCurrentlyInRange = !1 } parseOptions(e) { e.x = void 0, e.y = void 0, e.scale = void 0, e.scaleX = void 0, e.scaleY = void 0, e.rotation = void 0, e.style = void 0, e.cssClass = void 0, e.rotation = void 0, e.opacity = void 0, e.hold = void 0, this.event = e.event, this.animValues[this.event] = [0, 0], typeof this.controller.tweenProps[this.event] > "u" && (this.controller.tweenProps[this.event] = new E6e(0, 1, !1, this.event)), super.parseOptions(e), this.keyframeType = Fk.KeyframeTypes.Event } updateLocalProgress(e) { if (this.hasDuration) { let t = this.isCurrentlyInRange, i = e >= this.start && e <= this.end; if (t === i) return; this.isCurrentlyInRange = i, i && !t ? this._trigger(this.event + ":enter") : t && !i && this._trigger(this.event + ":exit"); return } !this.isApplied && e >= this.start ? (this.isApplied = !0, this._trigger(this.event)) : this.isApplied && e < this.start && (this.isApplied = !1, this._trigger(this.event + ":reverse")) } _trigger(e) { this.controller.eventObject.event = e, this.controller.eventObject.keyframe = this, this.controller.trigger(e, this.controller.eventObject) } evaluateConstraints() { super.evaluateConstraints(), this.hasDuration = this.start !== this.end } reset(e) { this.isApplied = !1, this.isCurrentlyInRange = !1, super.reset(e) } onDOMRead(e) { } reconcile(e) { } evaluateInterpolationConstraints() { } }; cB.DATA_ATTRIBUTE = "data-anim-event"; var dB = cB; const I6e = rB; let M6e = class { constructor(e, t, i = !1) { this.isGroup = i, this.group = e, this.controller = t, this.controllers = [], this.tweenProps = new I6e } }; var fB = M6e; let L6e = class { constructor() { this.local = 0, this.localUnclamped = 0, this.lastPosition = 0 } }; var T6e = L6e; let R6e = class { constructor(e, t) { this.a = e.top - t, this.a < 0 && (this.a = e.top), this.b = e.top, this.d = e.bottom, this.c = Math.max(this.d - t, this.b) } }; var F6e = R6e; const cd = Ms, Oa = (n, e) => n == null ? e : n; let O6e = class { constructor() { this.clear() } clear() { this._metrics = new WeakMap } destroy() { this._metrics = null } add(e) { let t = this._metrics.get(e); if (t) return t; let i = new N6e(e); return this._metrics.set(e, i), this._refreshMetrics(e, i) } get(e) { return this._metrics.get(e) } refreshCollection(e) { e.forEach(t => this._refreshMetrics(t, null)) } refreshMetrics(e) { return this._refreshMetrics(e) } _refreshMetrics(e, t) { if (t = t || this._metrics.get(e), !(e instanceof Element)) return t.width = Oa(e.width, 0), t.height = Oa(e.height, 0), t.top = Oa(e.top, Oa(e.y, 0)), t.left = Oa(e.left, Oa(e.x, 0)), t.right = t.left + t.width, t.bottom = t.top + t.height, t; if (e.offsetWidth === void 0) { let r = e.getBoundingClientRect(); return t.width = r.width, t.height = r.height, t.top = cd.pageMetrics.scrollY + r.top, t.left = cd.pageMetrics.scrollX + r.left, t.right = t.left + t.width, t.bottom = t.top + t.height, t } t.width = e.offsetWidth, t.height = e.offsetHeight, t.top = cd.pageMetrics.documentOffsetY, t.left = cd.pageMetrics.documentOffsetX; let i = e; for (; i;)t.top += i.offsetTop, t.left += i.offsetLeft, i = i.offsetParent; return t.right = t.left + t.width, t.bottom = t.top + t.height, t } }; class N6e { constructor(e) { this.top = 0, this.bottom = 0, this.left = 0, this.right = 0, this.height = 0, this.width = 0 } toString() { return `top:${this.top}, bottom:${this.bottom}, left:${this.left}, right:${this.right}, height:${this.height}, width:${this.width}` } toObject() { return { top: this.top, bottom: this.bottom, left: this.left, right: this.right, height: this.height, width: this.width } } } var gB = O6e; const Ok = Ms, Nk = Bl, Bk = oB, r0 = {}, Ss = { smoothstep: (n, e, t) => (t = Ss.clamp((t - n) / (e - n), 0, 1), t * t * (3 - 2 * t)), deg: n => n * 180 / Math.PI, rad: n => n * Math.PI / 180, random: (n, e) => Math.random() * (e - n) + n, atan: Math.atan2 }; Object.getOwnPropertyNames(Math).forEach(n => Ss[n] ? null : Ss[n.toLowerCase()] = Math[n]); Object.getOwnPropertyNames(Nk).forEach(n => Ss[n] ? null : Ss[n.toLowerCase()] = Nk[n]); Object.getOwnPropertyNames(Bk).forEach(n => Ss[n] = Bk[n]); let kr = null; const Ct = { ANCHOR_CONST: "a", ALPHA: "ALPHA", LPAREN: "(", RPAREN: ")", PLUS: "PLUS", MINUS: "MINUS", MUL: "MUL", DIV: "DIV", INTEGER_CONST: "INTEGER_CONST", FLOAT_CONST: "FLOAT_CONST", COMMA: ",", EOF: "EOF" }, Li = { NUMBERS: /\d|\d\.\d/, DIGIT: /\d/, OPERATOR: /[-+*/]/, PAREN: /[()]/, WHITE_SPACE: /\s/, ALPHA: /[a-zA-Z]|%/, ALPHANUMERIC: /[a-zA-Z0-9]/, OBJECT_UNIT: /^(t|l|b|r|%w|%h|%|h|w)$/, GLOBAL_METRICS_UNIT: /^(px|vh|vw)$/, ANY_UNIT: /^(t|l|b|r|%w|%h|%|h|w|px|vh|vw|rad|deg)$/, MATH_FUNCTION: new RegExp(`\\b(${Object.keys(Ss).join("|")})\\b`, "i") }, Rd = function (n, e, t, i = "") { let r = e.slice(Math.max(t, 0), Math.min(e.length, t + 3)), s = new Error(`Expression Error. ${n} in expression "${e}", near "${r}"`); throw console.error(s.message, kr ? kr.keyframe || kr.target : ""), s }, Mm = { round: 1, clamp: 3, lerp: 3, random: 2, atan: 2, floor: 1, ceil: 1, abs: 1, cos: 1, sin: 1, smoothstep: 3, rad: 1, deg: 1, pow: 2, calc: 1 }; class li { constructor(e, t) { this.type = e, this.value = t } } li.ONE = new li("100", 100); li.EOF = new li(Ct.EOF, null); class Sa { constructor(e) { this.type = e } } class Uk extends Sa { constructor(e, t) { super("UnaryOp"), this.token = this.op = e, this.expr = t } } class Hk extends Sa { constructor(e, t, i) { super("BinOp"), this.left = e, this.op = t, this.right = i } } class B6e extends Sa { constructor(e, t) { if (super("MathOp"), this.op = e, this.list = t, Mm[e.value] && t.length !== Mm[e.value]) throw new Error(`Incorrect number of arguments for '${e.value}'. Received ${t.length}, expected ${Mm[e.value]}`) } } class eu extends Sa { constructor(e) { super("Num"), this.token = e, this.value = e.value } } class dd extends Sa { constructor(e, t, i) { super("RefValue"), this.num = e, this.ref = t, this.unit = i } } class U6e extends Sa { constructor(e, t) { super("CSSValue"), this.ref = e, this.propertyName = t } } class H6e extends Sa { constructor(e, t) { super("PropValue"), this.ref = e, this.propertyName = t } } class $6e { constructor(e) { this.text = e, this.pos = 0, this.char = this.text[this.pos], this.tokens = []; let t; for (; (t = this.getNextToken()) && t !== li.EOF;)this.tokens.push(t); this.tokens.push(t) } advance() { this.char = this.text[++this.pos] } skipWhiteSpace() { for (; this.char != null && Li.WHITE_SPACE.test(this.char);)this.advance() } name() { let e = ""; for (; this.char != null && Li.ALPHA.test(this.char);)e += this.char, this.advance(); return new li(Ct.ALPHA, e) } number() { let e = ""; for (this.char === "." && (e += this.char, this.advance()); this.char != null && Li.DIGIT.test(this.char);)e += this.char, this.advance(); if (this.char != null && this.char === ".") for (e.includes(".") && Rd("Number appears to contain 2 decimal points", this.text, this.pos), e += this.char, this.advance(); this.char != null && Li.DIGIT.test(this.char);)e += this.char, this.advance(); return e === "." && Rd("Attempted to parse a number, but found only a decimal point", this.text, this.pos), e.includes(".") ? new li(Ct.FLOAT_CONST, parseFloat(e)) : new li(Ct.INTEGER_CONST, parseInt(e)) } getNextToken() { for (; this.char != null;) { if (Li.WHITE_SPACE.test(this.char)) { this.skipWhiteSpace(); continue } if (this.char === "." || Li.DIGIT.test(this.char)) return this.number(); if (this.char === ",") return this.advance(), new li(Ct.COMMA, ","); if (Li.OPERATOR.test(this.char)) { let e = "", t = this.char; switch (t) { case "+": e = Ct.PLUS; break; case "-": e = Ct.MINUS; break; case "*": e = Ct.MUL; break; case "/": e = Ct.DIV; break }return this.advance(), new li(e, t) } if (Li.PAREN.test(this.char)) { let e = "", t = this.char; switch (t) { case "(": e = Ct.LPAREN; break; case ")": e = Ct.RPAREN; break }return this.advance(), new li(e, t) } if (Li.ALPHA.test(this.char)) return this.name(); Rd(`Unexpected character "${this.char}"`, this.text, this.pos) } return li.EOF } } class V6e { constructor(e) { this.lexer = e, this.pos = 0 } get currentToken() { return this.lexer.tokens[this.pos] } error(e, t = "") { Rd(e, t, this.lexer.text, this.pos) } consume(e) { let t = this.currentToken; return t.type === e ? this.pos += 1 : this.error(`Invalid token ${this.currentToken.value}, expected ${e}`), t } consumeList(e) { e.includes(this.currentToken) ? this.pos += 1 : this.error(`Invalid token ${this.currentToken.value}, expected ${tokenType}`) } expr() { let e = this.term(); for (; this.currentToken.type === Ct.PLUS || this.currentToken.type === Ct.MINUS;) { const t = this.currentToken; switch (t.value) { case "+": this.consume(Ct.PLUS); break; case "-": this.consume(Ct.MINUS); break }e = new Hk(e, t, this.term()) } return e } term() { let e = this.factor(); for (; this.currentToken.type === Ct.MUL || this.currentToken.type === Ct.DIV;) { const t = this.currentToken; switch (t.value) { case "*": this.consume(Ct.MUL); break; case "/": this.consume(Ct.DIV); break }e = new Hk(e, t, this.factor()) } return e } factor() { if (this.currentToken.type === Ct.PLUS) return new Uk(this.consume(Ct.PLUS), this.factor()); if (this.currentToken.type === Ct.MINUS) return new Uk(this.consume(Ct.MINUS), this.factor()); if (this.currentToken.type === Ct.INTEGER_CONST || this.currentToken.type === Ct.FLOAT_CONST) { let e = new eu(this.currentToken); if (this.pos += 1, Li.OPERATOR.test(this.currentToken.value) || this.currentToken.type === Ct.RPAREN || this.currentToken.type === Ct.COMMA || this.currentToken.type === Ct.EOF) return e; if (this.currentToken.type === Ct.ALPHA && this.currentToken.value === Ct.ANCHOR_CONST) return this.consume(Ct.ALPHA), new dd(e, this.anchorIndex(), this.unit(Li.ANY_UNIT)); if (this.currentToken.type === Ct.ALPHA) return this.currentToken.value === "%a" && this.error("%a is invalid, try removing the %"), new dd(e, null, this.unit()); this.error("Expected a scaling unit type", "Such as 'h' / 'w'") } else { if (Li.OBJECT_UNIT.test(this.currentToken.value)) return new dd(new eu(li.ONE), null, this.unit()); if (this.currentToken.value === Ct.ANCHOR_CONST) { this.consume(Ct.ALPHA); const e = this.anchorIndex(); if (Li.OBJECT_UNIT.test(this.currentToken.value)) return new dd(new eu(li.ONE), e, this.unit()) } else if (this.currentToken.type === Ct.ALPHA) { if (this.currentToken.value === "calc") return this.consume(Ct.ALPHA), this.expr(); if (this.currentToken.value === "css" || this.currentToken.value === "var" || this.currentToken.value === "prop") { const e = this.currentToken.value !== "prop" ? U6e : H6e; this.consume(Ct.ALPHA), this.consume(Ct.LPAREN); const t = this.propertyName(); let i = null; return this.currentToken.type === Ct.COMMA && (this.consume(Ct.COMMA), this.consume(Ct.ALPHA), i = this.anchorIndex()), this.consume(Ct.RPAREN), new e(i, t) } else if (Li.MATH_FUNCTION.test(this.currentToken.value)) { const e = this.currentToken.value, t = e.toLowerCase(); if (typeof Ss[t] == "number") return this.consume(Ct.ALPHA), new eu(new li(Ct.ALPHA, Ss[t])); const i = li[e] || new li(e, e), r = []; this.consume(Ct.ALPHA), this.consume(Ct.LPAREN); let s = null; do this.currentToken.value === Ct.COMMA && this.consume(Ct.COMMA), s = this.expr(), r.push(s); while (this.currentToken.value === Ct.COMMA); return this.consume(Ct.RPAREN), new B6e(i, r) } } else if (this.currentToken.type === Ct.LPAREN) { this.consume(Ct.LPAREN); let e = this.expr(); return this.consume(Ct.RPAREN), e } } this.error(`Unexpected token ${this.currentToken.value}`) } propertyName() { let e = ""; for (; this.currentToken.type === Ct.ALPHA || this.currentToken.type === Ct.MINUS;)e += this.currentToken.value, this.pos += 1; return e } unit(e = Li.ANY_UNIT) { const t = this.currentToken; if (t.type === Ct.ALPHA && e.test(t.value)) return this.consume(Ct.ALPHA), new li(Ct.ALPHA, t.value = t.value.replace(/%(h|w)/, "$1").replace("%", "h")); this.error("Expected unit type") } anchorIndex() { const e = this.currentToken; if (e.type === Ct.INTEGER_CONST) return this.consume(Ct.INTEGER_CONST), new eu(e); this.error("Invalid anchor reference", ". Should be something like a0, a1, a2") } parse() { const e = this.expr(); return this.currentToken !== li.EOF && this.error(`Unexpected token ${this.currentToken.value}`), e } } let hB = class s0 { constructor(e) { this.parser = e, this.root = e.parse() } visit(e) { let t = this[e.type]; if (!t) throw new Error(`No visit method named, ${t}`); return t.call(this, e) } BinOp(e) { switch (e.op.type) { case Ct.PLUS: return this.visit(e.left) + this.visit(e.right); case Ct.MINUS: return this.visit(e.left) - this.visit(e.right); case Ct.MUL: return this.visit(e.left) * this.visit(e.right); case Ct.DIV: return this.visit(e.left) / this.visit(e.right) } } RefValue(e) { let t = this.unwrapReference(e), i = e.unit.value, r = e.num.value; const s = kr.metrics.get(t); switch (i) { case "h": return r * .01 * s.height; case "t": return r * .01 * s.top; case "vh": return r * .01 * Ok.pageMetrics.windowHeight; case "vw": return r * .01 * Ok.pageMetrics.windowWidth; case "px": return r; case "w": return r * .01 * s.width; case "b": return r * .01 * s.bottom; case "l": return r * .01 * s.left; case "r": return r * .01 * s.right; case "rad": return r * 180 / Math.PI; case "deg": return r } } PropValue(e) { return (e.ref === null ? kr.target : kr.anchors[e.ref.value])[e.propertyName] } CSSValue(e) { let t = this.unwrapReference(e); const i = getComputedStyle(t).getPropertyValue(e.propertyName); return i === "" ? 0 : s0.Parse(i).execute(kr) } Num(e) { return e.value } UnaryOp(e) { if (e.op.type === Ct.PLUS) return +this.visit(e.expr); if (e.op.type === Ct.MINUS) return -this.visit(e.expr) } MathOp(e) { let t = e.list.map(i => this.visit(i)); return Ss[e.op.value].apply(null, t) } unwrapReference(e) { return e.ref === null ? kr.target : (e.ref.value >= kr.anchors.length && console.error(`Not enough anchors supplied for expression ${this.parser.lexer.text}`, kr.target), kr.anchors[e.ref.value]) } execute(e) { return kr = e, this.visit(this.root) } static Parse(e) { return r0[e] || (r0[e] = new s0(new V6e(new $6e(e)))) } }; hB.programs = r0; var z6e = hB; const mB = z6e, fd = new gB; let K_ = class o0 { constructor(e) { this.group = e, this.data = { target: null, anchors: null, metrics: this.group.metrics } } parseArray(e, t) { return [this.parseExpression(e, t[0]), this.parseExpression(e, t[1])] } parseExpression(e, t) { if (t == null) return null; if (typeof t == "number") return t; if (typeof t != "string") throw `Expression must be a string, received ${typeof t}: ${t}`; return this.data.target = e.controller.element, this.data.anchors = e.anchors, this.data.keyframe = e.keyframe, this.group.anim.plugins.parser.reduce((r, s) => r || s.parseExpression.call(this, e, t), null) || o0._parse(t, this.data) } parseTimeValue(e, t) { if (typeof t == "number") return t; let i = this.group.expressionParser.parseExpression(e, t); return this.group.convertScrollPositionToTValue(i) } destroy() { this.group = null } static parse(e, t) { return t = t || {}, t && (fd.clear(), t.target && fd.add(t.target), t.anchors && t.anchors.forEach(i => fd.add(i))), t.metrics = fd, o0._parse(e, t) } static _parse(e, t) { return mB.Parse(e).execute(t) } }; K_.programs = mB.programs; typeof window < "u" && (window.ExpressionParser = K_); var q6e = K_; let W6e = class { constructor(e) { this.controller = e, this.element = this.controller.element, this.keyframe = null, this.event = "", this.tweenProps = this.controller.tweenProps } }; var K6e = W6e; const J6e = Ms, Y6e = sh, X6e = dB, Z6e = W_, $k = function (n) { for (let e in n) { let t = n[e]; if (J6e.KeyframeJSONReservedWords.indexOf(e) === -1 && Array.isArray(t)) return !0 } return !1 }, Q6e = function (n) { if (n.cssClass !== void 0 || n.style !== void 0) { if ($k(n)) throw "CSS Keyframes cannot tween values, please use multiple keyframes instead"; return Z6e } if ($k(n)) return Y6e; if (n.event) return X6e; throw delete n.anchors, `Could not determine tween type based on ${JSON.stringify(n)}` }; var j6e = Q6e; typeof window < "u" && (window.DOMMatrix = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix); const tu = 180 / Math.PI, Xo = n => Math.round(n * 1e6) / 1e6; function Lm(n) { return Math.sqrt(n[0] * n[0] + n[1] * n[1] + n[2] * n[2]) } function Tm(n, e) { return e === 0 ? Array.from(n) : [n[0] / e, n[1] / e, n[2] / e] } function gd(n, e) { return n[0] * e[0] + n[1] * e[1] + n[2] * e[2] } function G6e(n, e) { return [n[1] * e[2] - n[2] * e[1], n[2] * e[0] - n[0] * e[2], n[0] * e[1] - n[1] * e[0]] } function Rm(n, e, t, i) { return [n[0] * t + e[0] * i, n[1] * t + e[1] * i, n[2] * t + e[2] * i] } let x6e = function (n) { const [e, t, i, r] = n, s = r * r, o = e * e, a = t * t, l = i * i, u = e * t + i * r, c = s + o + a + l; return u > .49999 * c ? [0, 2 * Math.atan2(e, r) * tu, 90] : u < -.49999 * c ? [0, -2 * Math.atan2(e, r) * tu, -90] : [Xo(Math.atan2(2 * e * r - 2 * t * i, 1 - 2 * o - 2 * l) * tu), Xo(Math.atan2(2 * t * r - 2 * e * i, 1 - 2 * a - 2 * l) * tu), Xo(Math.asin(2 * e * t + 2 * i * r) * tu)] }; function e4e(n) { const e = new Float32Array(4), t = new Float32Array(3), i = new Float32Array(3), r = new Float32Array(3); r[0] = n[3][0], r[1] = n[3][1], r[2] = n[3][2]; const s = new Array(3); for (let l = 0; l < 3; l++)s[l] = n[l].slice(0, 3); t[0] = Lm(s[0]), s[0] = Tm(s[0], t[0]), i[0] = gd(s[0], s[1]), s[1] = Rm(s[1], s[0], 1, -i[0]), t[1] = Lm(s[1]), s[1] = Tm(s[1], t[1]), i[0] /= t[1], i[1] = gd(s[0], s[2]), s[2] = Rm(s[2], s[0], 1, -i[1]), i[2] = gd(s[1], s[2]), s[2] = Rm(s[2], s[1], 1, -i[2]), t[2] = Lm(s[2]), s[2] = Tm(s[2], t[2]), i[1] /= t[2], i[2] /= t[2]; const o = G6e(s[1], s[2]); if (gd(s[0], o) < 0) for (let l = 0; l < 3; l++)t[l] *= -1, s[l][0] *= -1, s[l][1] *= -1, s[l][2] *= -1; e[0] = .5 * Math.sqrt(Math.max(1 + s[0][0] - s[1][1] - s[2][2], 0)), e[1] = .5 * Math.sqrt(Math.max(1 - s[0][0] + s[1][1] - s[2][2], 0)), e[2] = .5 * Math.sqrt(Math.max(1 - s[0][0] - s[1][1] + s[2][2], 0)), e[3] = .5 * Math.sqrt(Math.max(1 + s[0][0] + s[1][1] + s[2][2], 0)), s[2][1] > s[1][2] && (e[0] = -e[0]), s[0][2] > s[2][0] && (e[1] = -e[1]), s[1][0] > s[0][1] && (e[2] = -e[2]); let a; return e[0] < .001 && e[0] >= 0 && e[1] < .001 && e[1] >= 0 ? a = [0, 0, Xo(Math.atan2(s[0][1], s[0][0]) * 180 / Math.PI)] : a = x6e(e), { translation: r, rotation: a, eulerRotation: a, scale: [Xo(t[0]), Xo(t[1]), Xo(t[2])] } } const t4e = function (n) { n instanceof Element && (n = String(getComputedStyle(n).transform).trim()); let e = n instanceof DOMMatrix ? n : new DOMMatrix(n); const t = new Array(4); for (let i = 1; i < 5; i++) { const r = t[i - 1] = new Float32Array(4); for (let s = 1; s < 5; s++)r[s - 1] = e[`m${i}${s}`] } return e4e(t) }; var n4e = t4e; function pB() { this._events = {} } let Ul = pB.prototype; Ul.on = function (n, e) { return this._events[n] = this._events[n] || [], this._events[n].unshift(e), e }; Ul.once = function (n, e) { let t = this; function i(r) { t.off(n, i), r !== void 0 ? e(r) : e() } return this.on(n, i) }; Ul.off = function (n, e) { if (!this.has(n)) return; if (arguments.length === 1) { this._events[n] = null, delete this._events[n]; return } let t = this._events[n].indexOf(e); t !== -1 && this._events[n].splice(t, 1) }; Ul.trigger = function (n, e) { if (this.has(n)) for (let t = this._events[n].length - 1; t >= 0; t--)e !== void 0 ? this._events[n][t](e) : this._events[n][t]() }; Ul.has = function (n) { return !(!(n in this._events) || this._events[n].length === 0) }; Ul.destroy = function () { for (let n in this._events) this._events[n] = null; this._events = null }; var _B = pB, i4e = { EventEmitterMicro: _B }, vB = typeof window < "u" ? window : {}, bB = "AC", a0 = "SharedInstance", ju = vB[bB], r4e = function () { var n = {}; return { get: function (e, t) { var i = null; return n[e] && n[e][t] && (i = n[e][t]), i }, set: function (e, t, i) { return n[e] || (n[e] = {}), typeof i == "function" ? n[e][t] = new i : n[e][t] = i, n[e][t] }, share: function (e, t, i) { var r = this.get(e, t); return r || (r = this.set(e, t, i)), r }, remove: function (e, t) { var i = typeof t; if (i === "string" || i === "number") { if (!n[e] || !n[e][t]) return; n[e][t] = null; return } n[e] && (n[e] = null) } } }(); ju || (ju = vB[bB] = {}); ju[a0] || (ju[a0] = r4e); var s4e = ju[a0], yB = { SharedInstance: s4e }, wB = { majorVersionNumber: "3.x" }, oi, o4e = _B; function kB(n) { this._reset(), this.updatePhases(), this.eventEmitter = new o4e, this._willRun = !1, this._totalSubscribeCount = -1; var e = null, t = null; typeof window < "u" ? (e = window.requestAnimationFrame, t = window.cancelAnimationFrame) : e = t = function () { }, this._requestAnimationFrame = e, this._cancelAnimationFrame = t, this._boundOnAnimationFrame = this._onAnimationFrame.bind(this), this._boundOnExternalAnimationFrame = this._onExternalAnimationFrame.bind(this) } oi = kB.prototype; oi.frameRequestedPhase = "requested"; oi.startPhase = "start"; oi.runPhases = ["update", "external", "draw"]; oi.endPhase = "end"; oi.disabledPhase = "disabled"; oi.beforePhaseEventPrefix = "before:"; oi.afterPhaseEventPrefix = "after:"; oi.subscribe = function (n, e) { return this._totalSubscribeCount++, this._nextFrameSubscribers[n.id] || (e ? this._nextFrameSubscribersOrder.unshift(n.id) : this._nextFrameSubscribersOrder.push(n.id), this._nextFrameSubscribers[n.id] = n, this._nextFrameSubscriberArrayLength++, this._nextFrameSubscriberCount++, this._run()), this._totalSubscribeCount }; oi.subscribeImmediate = function (n, e) { return this._totalSubscribeCount++, this._subscribers[n.id] || (e ? this._subscribersOrder.splice(this._currentSubscriberIndex + 1, 0, n.id) : this._subscribersOrder.unshift(n.id), this._subscribers[n.id] = n, this._subscriberArrayLength++, this._subscriberCount++), this._totalSubscribeCount }; oi.unsubscribe = function (n) { return this._nextFrameSubscribers[n.id] ? (this._nextFrameSubscribers[n.id] = null, this._nextFrameSubscriberCount--, this._nextFrameSubscriberCount === 0 && this._cancel(), !0) : !1 }; oi.getSubscribeID = function () { return this._totalSubscribeCount += 1 }; oi.destroy = function () { var n = this._cancel(); return this.eventEmitter.destroy(), this.eventEmitter = null, this.phases = null, this._subscribers = null, this._subscribersOrder = null, this._nextFrameSubscribers = null, this._nextFrameSubscribersOrder = null, this._rafData = null, this._boundOnAnimationFrame = null, this._onExternalAnimationFrame = null, n }; oi.useExternalAnimationFrame = function (n) { if (typeof n == "boolean") { var e = this._isUsingExternalAnimationFrame; return n && this._animationFrame && (this._cancelAnimationFrame.call(window, this._animationFrame), this._animationFrame = null), this._willRun && !n && !this._animationFrame && (this._animationFrame = this._requestAnimationFrame.call(window, this._boundOnAnimationFrame)), this._isUsingExternalAnimationFrame = n, n ? this._boundOnExternalAnimationFrame : e || !1 } }; oi.updatePhases = function () { this.phases || (this.phases = []), this.phases.length = 0, this.phases.push(this.frameRequestedPhase), this.phases.push(this.startPhase), Array.prototype.push.apply(this.phases, this.runPhases), this.phases.push(this.endPhase), this._runPhasesLength = this.runPhases.length, this._phasesLength = this.phases.length }; oi._run = function () { if (!this._willRun) return this._willRun = !0, this.lastFrameTime === 0 && (this.lastFrameTime = performance.now()), this._animationFrameActive = !0, this._isUsingExternalAnimationFrame || (this._animationFrame = this._requestAnimationFrame.call(window, this._boundOnAnimationFrame)), this.phase === this.disabledPhase && (this.phaseIndex = 0, this.phase = this.phases[this.phaseIndex]), !0 }; oi._cancel = function () { var n = !1; return this._animationFrameActive && (this._animationFrame && (this._cancelAnimationFrame.call(window, this._animationFrame), this._animationFrame = null), this._animationFrameActive = !1, this._willRun = !1, n = !0), this._isRunning || this._reset(), n }; oi._onAnimationFrame = function (n) { for (this._subscribers = this._nextFrameSubscribers, this._subscribersOrder = this._nextFrameSubscribersOrder, this._subscriberArrayLength = this._nextFrameSubscriberArrayLength, this._subscriberCount = this._nextFrameSubscriberCount, this._nextFrameSubscribers = {}, this._nextFrameSubscribersOrder = [], this._nextFrameSubscriberArrayLength = 0, this._nextFrameSubscriberCount = 0, this.phaseIndex = 0, this.phase = this.phases[this.phaseIndex], this._isRunning = !0, this._willRun = !1, this._didRequestNextRAF = !1, this._rafData.delta = n - this.lastFrameTime, this.lastFrameTime = n, this._rafData.fps = 0, this._rafData.delta >= 1e3 && (this._rafData.delta = 0), this._rafData.delta !== 0 && (this._rafData.fps = 1e3 / this._rafData.delta), this._rafData.time = n, this._rafData.naturalFps = this._rafData.fps, this._rafData.timeNow = Date.now(), this.phaseIndex++, this.phase = this.phases[this.phaseIndex], this.eventEmitter.trigger(this.beforePhaseEventPrefix + this.phase), this._currentSubscriberIndex = 0; this._currentSubscriberIndex < this._subscriberArrayLength; this._currentSubscriberIndex++)this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]] !== null && this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy === !1 && this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData); for (this.eventEmitter.trigger(this.afterPhaseEventPrefix + this.phase), this._runPhaseIndex = 0; this._runPhaseIndex < this._runPhasesLength; this._runPhaseIndex++) { for (this.phaseIndex++, this.phase = this.phases[this.phaseIndex], this.eventEmitter.trigger(this.beforePhaseEventPrefix + this.phase), this._currentSubscriberIndex = 0; this._currentSubscriberIndex < this._subscriberArrayLength; this._currentSubscriberIndex++)this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]] !== null && this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy === !1 && this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase, this._rafData); this.eventEmitter.trigger(this.afterPhaseEventPrefix + this.phase) } for (this.phaseIndex++, this.phase = this.phases[this.phaseIndex], this.eventEmitter.trigger(this.beforePhaseEventPrefix + this.phase), this._currentSubscriberIndex = 0; this._currentSubscriberIndex < this._subscriberArrayLength; this._currentSubscriberIndex++)this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]] !== null && this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy === !1 && this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData); this.eventEmitter.trigger(this.afterPhaseEventPrefix + this.phase), this._willRun ? (this.phaseIndex = 0, this.phaseIndex = this.phases[this.phaseIndex]) : this._reset() }; oi._onExternalAnimationFrame = function (n) { this._isUsingExternalAnimationFrame && this._onAnimationFrame(n) }; oi._reset = function () { this._rafData || (this._rafData = {}), this._rafData.time = 0, this._rafData.delta = 0, this._rafData.fps = 0, this._rafData.naturalFps = 0, this._rafData.timeNow = 0, this._subscribers = {}, this._subscribersOrder = [], this._currentSubscriberIndex = -1, this._subscriberArrayLength = 0, this._subscriberCount = 0, this._nextFrameSubscribers = {}, this._nextFrameSubscribersOrder = [], this._nextFrameSubscriberArrayLength = 0, this._nextFrameSubscriberCount = 0, this._didEmitFrameData = !1, this._animationFrame = null, this._animationFrameActive = !1, this._isRunning = !1, this._shouldReset = !1, this.lastFrameTime = 0, this._runPhaseIndex = -1, this.phaseIndex = -1, this.phase = this.disabledPhase }; var a4e = kB, l4e = yB.SharedInstance, u4e = wB.majorVersionNumber, c4e = a4e, d4e = l4e.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance", u4e, c4e), f4e = yB.SharedInstance, g4e = wB.majorVersionNumber, DB = function () { this._currentID = 0 }; DB.prototype.getNewID = function () { return this._currentID++, "raf:" + this._currentID }; var h4e = f4e.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance", g4e, DB), cs, J_ = i4e.EventEmitterMicro, m4e = d4e, p4e = h4e; function SB(n) { n = n || {}, J_.call(this), this.id = p4e.getNewID(), this.executor = n.executor || m4e, this._reset(), this._willRun = !1, this._didDestroy = !1 } cs = SB.prototype = Object.create(J_.prototype); cs.run = function () { return this._willRun || (this._willRun = !0), this._subscribe() }; cs.cancel = function () { this._unsubscribe(), this._willRun && (this._willRun = !1), this._reset() }; cs.destroy = function () { var n = this.willRun(); return this.cancel(), this.executor = null, J_.prototype.destroy.call(this), this._didDestroy = !0, n }; cs.willRun = function () { return this._willRun }; cs.isRunning = function () { return this._isRunning }; cs._subscribe = function () { return this.executor.subscribe(this) }; cs._unsubscribe = function () { return this.executor.unsubscribe(this) }; cs._onAnimationFrameStart = function (n) { this._isRunning = !0, this._willRun = !1, this._didEmitFrameData || (this._didEmitFrameData = !0, this.trigger("start", n)) }; cs._onAnimationFrameEnd = function (n) { this._willRun || (this.trigger("stop", n), this._reset()) }; cs._reset = function () { this._didEmitFrameData = !1, this._isRunning = !1 }; var ah = SB, CB = ah, PB = function (n) { CB.call(this, n) }, _4e = PB.prototype = Object.create(CB.prototype); _4e._subscribe = function () { return this.executor.subscribe(this, !0) }; var v4e = PB, b4e = v4e, AB = function (n) { this.phase = n, this.rafEmitter = new b4e, this._cachePhaseIndex(), this.requestAnimationFrame = this.requestAnimationFrame.bind(this), this.cancelAnimationFrame = this.cancelAnimationFrame.bind(this), this._onBeforeRAFExecutorStart = this._onBeforeRAFExecutorStart.bind(this), this._onBeforeRAFExecutorPhase = this._onBeforeRAFExecutorPhase.bind(this), this._onAfterRAFExecutorPhase = this._onAfterRAFExecutorPhase.bind(this), this.rafEmitter.on(this.phase, this._onRAFExecuted.bind(this)), this.rafEmitter.executor.eventEmitter.on("before:start", this._onBeforeRAFExecutorStart), this.rafEmitter.executor.eventEmitter.on("before:" + this.phase, this._onBeforeRAFExecutorPhase), this.rafEmitter.executor.eventEmitter.on("after:" + this.phase, this._onAfterRAFExecutorPhase), this._frameCallbacks = [], this._currentFrameCallbacks = [], this._nextFrameCallbacks = [], this._phaseActive = !1, this._currentFrameID = -1, this._cancelFrameIdx = -1, this._frameCallbackLength = 0, this._currentFrameCallbacksLength = 0, this._nextFrameCallbacksLength = 0, this._frameCallbackIteration = 0 }, Ls = AB.prototype; Ls.requestAnimationFrame = function (n, e) { return e === !0 && this.rafEmitter.executor.phaseIndex > 0 && this.rafEmitter.executor.phaseIndex <= this.phaseIndex ? this._phaseActive ? (this._currentFrameID = this.rafEmitter.executor.subscribeImmediate(this.rafEmitter, !0), this._frameCallbacks.push(this._currentFrameID, n), this._frameCallbackLength += 2) : (this._currentFrameID = this.rafEmitter.executor.subscribeImmediate(this.rafEmitter, !1), this._currentFrameCallbacks.push(this._currentFrameID, n), this._currentFrameCallbacksLength += 2) : (this._currentFrameID = this.rafEmitter.run(), this._nextFrameCallbacks.push(this._currentFrameID, n), this._nextFrameCallbacksLength += 2), this._currentFrameID }; Ls.cancelAnimationFrame = function (n) { this._cancelFrameIdx = this._nextFrameCallbacks.indexOf(n), this._cancelFrameIdx > -1 ? this._cancelNextAnimationFrame() : (this._cancelFrameIdx = this._currentFrameCallbacks.indexOf(n), this._cancelFrameIdx > -1 ? this._cancelCurrentAnimationFrame() : (this._cancelFrameIdx = this._frameCallbacks.indexOf(n), this._cancelFrameIdx > -1 && this._cancelRunningAnimationFrame())) }; Ls._onRAFExecuted = function (n) { for (this._frameCallbackIteration = 0; this._frameCallbackIteration < this._frameCallbackLength; this._frameCallbackIteration += 2)this._frameCallbacks[this._frameCallbackIteration + 1](n.time, n); this._frameCallbacks.length = 0, this._frameCallbackLength = 0 }; Ls._onBeforeRAFExecutorStart = function () { Array.prototype.push.apply(this._currentFrameCallbacks, this._nextFrameCallbacks.splice(0, this._nextFrameCallbacksLength)), this._currentFrameCallbacksLength = this._nextFrameCallbacksLength, this._nextFrameCallbacks.length = 0, this._nextFrameCallbacksLength = 0 }; Ls._onBeforeRAFExecutorPhase = function () { this._phaseActive = !0, Array.prototype.push.apply(this._frameCallbacks, this._currentFrameCallbacks.splice(0, this._currentFrameCallbacksLength)), this._frameCallbackLength = this._currentFrameCallbacksLength, this._currentFrameCallbacks.length = 0, this._currentFrameCallbacksLength = 0 }; Ls._onAfterRAFExecutorPhase = function () { this._phaseActive = !1 }; Ls._cachePhaseIndex = function () { this.phaseIndex = this.rafEmitter.executor.phases.indexOf(this.phase) }; Ls._cancelRunningAnimationFrame = function () { this._frameCallbacks.splice(this._cancelFrameIdx, 2), this._frameCallbackLength -= 2 }; Ls._cancelCurrentAnimationFrame = function () { this._currentFrameCallbacks.splice(this._cancelFrameIdx, 2), this._currentFrameCallbacksLength -= 2 }; Ls._cancelNextAnimationFrame = function () { this._nextFrameCallbacks.splice(this._cancelFrameIdx, 2), this._nextFrameCallbacksLength -= 2, this._nextFrameCallbacksLength === 0 && this.rafEmitter.cancel() }; var y4e = AB, EB = y4e, IB = function () { this.events = {} }, MB = IB.prototype; MB.requestAnimationFrame = function (n) { return this.events[n] || (this.events[n] = new EB(n)), this.events[n].requestAnimationFrame }; MB.cancelAnimationFrame = function (n) { return this.events[n] || (this.events[n] = new EB(n)), this.events[n].cancelAnimationFrame }; var lh = new IB, w4e = lh, Y_ = w4e.requestAnimationFrame("update"), Fm, Vk; function LB() { if (Vk) return Fm; Vk = 1; var n = lh; return Fm = n.requestAnimationFrame("external"), Fm } var k4e = lh, X_ = k4e.requestAnimationFrame("draw"); const D4e = Da; let S4e = class extends D4e { constructor(...e) { super(...e); const t = e[0]; this.initialValue = new Float32Array(t), this.target = new Float32Array(t), this.current = new Float32Array(t), this.previousValue = new Float32Array(t) } update(e, t, i) { for (let s = 0, o = this.target.length; s < o; s++)this.target[s] = e[0][s] + t * (e[1][s] - e[0][s]), this.previousValue[s] = this.current[s], this.current[s] += (this.target[s] - this.current[s]) * i; let r = this.delta(this.current, this.target); return r < this.epsilon && (this.current = new Float32Array(this.target), r = 0), r > this.epsilon || r === 0 && this.previousValue.some((s, o) => s !== this.current[o]) } reconcile(e, t) { return this.initialValue.forEach((i, r) => this.initialValue[r] = e[0][r]), this.update(e, t, 1) } needsUpdate() { return this.delta(this.current, this.target) > this.epsilon } delta(e, t) { let i = 0; for (let r = 0, s = e.length; r < s; r++)i += Math.abs(e[r] - t[r]); return i } calculateEpsilon(e, t) { this.epsilon = e.epsilon || .05 } set(e) { throw "ArrayTargetValue does not implement a `set` method. Subclasses must overwrite" } unset(e) { throw "ArrayTargetValue does not implement an `unset` method. Subclasses must overwrite" } }; var TB = S4e; const C4e = TB; let P4e = class extends C4e { set(e) { const t = `rgba(${Math.round(this.current[0])},${Math.round(this.current[1])},${Math.round(this.current[2])},${this.current[3]})`; e.setProperty(this.key, t) } unset(e) { e.removeProperty(this.key) } }; var A4e = P4e; const zk = /-?\d*\.?\d+/gm; var E4e = { getStringNumbers(n) { return n.match(zk).map(e => Number.parseFloat(e)) }, getStringNonNumbers(n) { return n.split(zk) }, reconstructStringWithNumbers(n, e) { let t = ""; for (var i = 0, r = n.length; i < r; i++)t += e[i] + n[i]; return t += e[r], t }, trim(n) { return n === null ? n : n.replace(/\s+/gm, " ").trim() } }; const { trim: I4e, getStringNumbers: qk, getStringNonNumbers: Wk, reconstructStringWithNumbers: M4e } = E4e, L4e = /^\s*?M[(-?\d)|\s]/, T4e = /^(inset|circle|ellipse|polygon|path)\(/, Kk = { pathString: n => L4e.test(n), clipPath: n => T4e.test(n) }; var R4e = { install(n, e) { n.plugins.parser.includes(this) || n.plugins.parser.push(this) }, parseExpression(n, e) { return typeof e == "string" && (Kk.pathString(e) || Kk.clipPath(e)) ? qk(e) : null }, scalePath(n, e) { const t = this.parseExpression(null, n), i = Wk(n); for (let r = 0, s = t.length; r < s; r++)t[r] = t[r] * e; return this.reconstructPath(t, i) }, trim: I4e, getPathStrings: Wk, getPathNumbers: qk, reconstructPath: M4e }; const F4e = TB, nu = R4e; let O4e = class extends F4e { constructor(e, t, i, r, s, o, a) { let l = nu.parseExpression(null, e); super(l, t, i, r, s, o), this.applyToStyle = a, this.pathStrings = nu.getPathStrings(e) } update(e, t, i) { if (e[0].length !== e[1].length) throw new Error(`Path length mismatch. Start/end paths must must contain the same number of points. Start value: \r ${nu.reconstructPath(e[0], this.pathStrings)}`); return super.update(e, t, i) } set(e) { const t = nu.reconstructPath(this.current, this.pathStrings); this.applyToStyle ? e.setProperty(this.key, t) : e.setAttribute("d", t) } unset(e) { if (this.applyToStyle) e.removeProperty(this.key); else { const t = nu.reconstructPath(this.initialValue, this.pathStrings); e.setAttribute("d", t) } } }; var N4e = O4e, B4e = U4e; function U4e() { var n = new Float32Array(16); return n[0] = 1, n[1] = 0, n[2] = 0, n[3] = 0, n[4] = 0, n[5] = 1, n[6] = 0, n[7] = 0, n[8] = 0, n[9] = 0, n[10] = 1, n[11] = 0, n[12] = 0, n[13] = 0, n[14] = 0, n[15] = 1, n } var H4e = $4e; function $4e(n, e, t) { var i = Math.sin(t), r = Math.cos(t), s = e[4], o = e[5], a = e[6], l = e[7], u = e[8], c = e[9], d = e[10], f = e[11]; return e !== n && (n[0] = e[0], n[1] = e[1], n[2] = e[2], n[3] = e[3], n[12] = e[12], n[13] = e[13], n[14] = e[14], n[15] = e[15]), n[4] = s * r + u * i, n[5] = o * r + c * i, n[6] = a * r + d * i, n[7] = l * r + f * i, n[8] = u * r - s * i, n[9] = c * r - o * i, n[10] = d * r - a * i, n[11] = f * r - l * i, n } var V4e = z4e; function z4e(n, e, t) { var i = Math.sin(t), r = Math.cos(t), s = e[0], o = e[1], a = e[2], l = e[3], u = e[8], c = e[9], d = e[10], f = e[11]; return e !== n && (n[4] = e[4], n[5] = e[5], n[6] = e[6], n[7] = e[7], n[12] = e[12], n[13] = e[13], n[14] = e[14], n[15] = e[15]), n[0] = s * r - u * i, n[1] = o * r - c * i, n[2] = a * r - d * i, n[3] = l * r - f * i, n[8] = s * i + u * r, n[9] = o * i + c * r, n[10] = a * i + d * r, n[11] = l * i + f * r, n } var q4e = W4e; function W4e(n, e, t) { var i = Math.sin(t), r = Math.cos(t), s = e[0], o = e[1], a = e[2], l = e[3], u = e[4], c = e[5], d = e[6], f = e[7]; return e !== n && (n[8] = e[8], n[9] = e[9], n[10] = e[10], n[11] = e[11], n[12] = e[12], n[13] = e[13], n[14] = e[14], n[15] = e[15]), n[0] = s * r + u * i, n[1] = o * r + c * i, n[2] = a * r + d * i, n[3] = l * r + f * i, n[4] = u * r - s * i, n[5] = c * r - o * i, n[6] = d * r - a * i, n[7] = f * r - l * i, n } var K4e = J4e; function J4e(n, e, t) { var i = t[0], r = t[1], s = t[2]; return n[0] = e[0] * i, n[1] = e[1] * i, n[2] = e[2] * i, n[3] = e[3] * i, n[4] = e[4] * r, n[5] = e[5] * r, n[6] = e[6] * r, n[7] = e[7] * r, n[8] = e[8] * s, n[9] = e[9] * s, n[10] = e[10] * s, n[11] = e[11] * s, n[12] = e[12], n[13] = e[13], n[14] = e[14], n[15] = e[15], n } const Na = Ms, iu = Da, Y4e = K6e, X4e = fB, Z4e = W_, Q4e = j6e, j4e = q_, G4e = aB, x4e = Qu, eSe = n4e, Su = {}; typeof window < "u" && (Su.update = Y_, Su.external = LB(), Su.draw = X_); const { transformAttributes: Jk, cssAttributes: tSe, domAttributes: nSe } = lB, iSe = A4e, rSe = z_, sSe = N4e, hd = Math.PI / 180, ru = { create: B4e, rotateX: H4e, rotateY: V4e, rotateZ: q4e, scale: K4e }; let oSe = class extends x4e { constructor(e, t) { super(), this._events.draw = [], this.uuid = G4e(), this.group = e, this.element = t, this._ownerIsElement = this.element instanceof Element, this._ownerIsElement ? this.friendlyName = this.element.tagName + "." + Array.from(this.element.classList).join(".") : this.friendlyName = this.element.friendlyName || this.uuid, this.element._animInfo = this.element._animInfo || new X4e(e, this), this.element._animInfo.controller = this, this.element._animInfo.group = this.group, this.element._animInfo.controllers.push(this), this.tweenProps = this.element._animInfo.tweenProps, this.eventObject = new Y4e(this), this.needsStyleUpdate = !1, this.needsClassUpdate = !1, this.elementMetrics = this.group.metrics.add(this.element), this.attributes = [], this.cssAttributes = [], this.domAttributes = [], this.keyframes = {}, this._allKeyframes = [], this._activeKeyframes = [], this.keyframesRequiringDispatch = [], this.updateCachedValuesFromElement(), this.boundsMin = 0, this.boundsMax = 0, this.mat2d = new Float32Array(6), this.mat4 = ru.create(), this.needsWrite = !0, this.onDOMWriteImp = this._ownerIsElement ? this.onDOMWriteForElement : this.onDOMWriteForObject } destroy() { if (this.element._animInfo) { this.element._animInfo.controller === this && (this.element._animInfo.controller = null); let e = this.element._animInfo.controllers.indexOf(this); if (e !== -1 && this.element._animInfo.controllers.splice(e, 1), this.element._animInfo.controllers.length === 0) this.element._animInfo = null; else { let t = this.element._animInfo.controllers.find(i => i.group !== i.group.anim.tweenGroup); t && (this.element._animInfo.controller = t, this.element._animInfo.group = t.group) } } this.eventObject.controller = null, this.eventObject.element = null, this.eventObject.keyframe = null, this.eventObject.tweenProps = null, this.eventObject = null, this.elementMetrics = null, this.group = null, this.keyframesRequiringDispatch = null; for (let e = 0; e < this._allKeyframes.length; e++)this._allKeyframes[e].destroy(); this._allKeyframes = null, this._activeKeyframes = null, this.attributes = null, this.keyframes = null, this.element = null, this.tweenProps = null, this.destroyed = !0, super.destroy() } remove() { return this.group && this.group.removeKeyframeController(this) } updateCachedValuesFromElement() { if (!this._ownerIsElement) return; const e = this.getTargetComputedStyle(!0); let t = new DOMMatrix(e.getPropertyValue("transform")), i = eSe(t), r = Na.KeyframeDefaults.epsilon, s = !1;["x", "y", "z"].forEach((o, a) => { this.tweenProps[o] = new iu(i.translation[a], r, s, o) }), this.tweenProps.rotation = new iu(i.rotation[2], r, s, "rotation"), ["rotationX", "rotationY", "rotationZ"].forEach((o, a) => { this.tweenProps[o] = new iu(i.rotation[a], r, s, o) }), this.tweenProps.scale = new iu(i.scale[0], r, s, "scale"), ["scaleX", "scaleY", "scaleZ"].forEach((o, a) => { this.tweenProps[o] = new iu(i.scale[a], r, s, o) }) } addKeyframe(e) { let t = Q4e(e); if (!t) throw new Error("AnimSystem Cannot create keyframe for from options `" + e + "`"); let i = new t(this, e); return i.parseOptions(e), i.id = this._allKeyframes.length, this._allKeyframes.push(i), i } needsUpdate() { for (let e = 0, t = this.attributes.length; e < t; e++) { let i = this.attributes[e]; if (this.tweenProps[i].needsUpdate()) return !0 } return !1 } updateLocalProgress(e) { for (let t = 0, i = this.attributes.length; t < i; t++) { let r = this.attributes[t], s = this.keyframes[this.attributes[t]]; if (s.length === 1) { s[0].updateLocalProgress(e); continue } let o = this.getNearestKeyframeForAttribute(r, e); o && o.updateLocalProgress(e) } } reconcile() { for (let e = 0, t = this.attributes.length; e < t; e++) { let i = this.attributes[e], r = this.getNearestKeyframeForAttribute(i, this.group.position.local); r.updateLocalProgress(this.group.position.local), r.snapAtCreation && r.reconcile(i) } } determineActiveKeyframes(e) { e = e || j4e(Array.from(document.documentElement.classList)); let t = this._activeKeyframes, i = this.attributes, r = {}; this._activeKeyframes = [], this.attributes = [], this.keyframes = {}; for (let a = 0; a < this._allKeyframes.length; a++) { let l = this._allKeyframes[a]; if (l.markedForRemoval || l.hidden || !l.setEnabled(e)) { for (let u in l.animValues) this.tweenProps[u].isActive = l.preserveState, l.preserveState && (r[u] = !0); continue } this._activeKeyframes.push(l); for (let u in l.animValues) this.keyframes[u] = this.keyframes[u] || [], this.keyframes[u].push(l), this.attributes.indexOf(u) === -1 && (r[u] = !0, this.attributes.push(u), this.tweenProps[u].isActive = !0) } this.attributes.forEach(a => this.tweenProps[a].isActive = !0), this.cssAttributes = this.attributes.filter(a => tSe.includes(a) || a.startsWith("--")).map(a => this.tweenProps[a]), this.domAttributes = this.attributes.filter(a => nSe.includes(a)).map(a => this.tweenProps[a]); let s = t.filter(a => this._activeKeyframes.indexOf(a) === -1); if (s.length === 0) return; let o = i.filter(a => this.attributes.indexOf(a) === -1 && !r.hasOwnProperty(a)); if (o.length !== 0) { if (this.needsWrite = !0, !this._ownerIsElement) { for (let a = 0, l = o.length; a < l; ++a) { let u = this.tweenProps[o[a]]; u.current = u.target, u.isActive = !1 } return } Su.external(() => { let a = o.some(u => Jk.includes(u)), l = a && Object.keys(r).some(u => Jk.includes(u)); a && !l && this.element.style.removeProperty("transform"); for (let u = 0, c = o.length; u < c; ++u) { let d = o[u], f = this.tweenProps[d], g = f.isActive ? f.target : f.initialValue; if (f.current = f.target = g, !f.isActive) switch (!0) { case f instanceof iSe: { f.unset(this.element.style); break } case f instanceof rSe: { f.unset(this.element.style); break } case f instanceof sSe: { f.unset(f.applyToStyle ? this.element.style : this.element); break } } } for (let u = 0, c = s.length; u < c; ++u) { let d = s[u]; !(d instanceof Z4e) || d.preserveState || d._unapply() } }, !0) } } onDOMRead(e) { for (let t = 0, i = this.attributes.length; t < i; t++) { let r = this.attributes[t], s = this.getNearestKeyframeForAttribute(r, e); s && s.onDOMRead(r) && (this.needsWrite = !0) } } onDOMWrite() { !this.needsWrite && !this.needsClassUpdate && !this.needsStyleUpdate || (this.needsWrite = !1, this.onDOMWriteImp(), this.handleEventDispatch()) } onDOMWriteForObject() { for (let e = 0, t = this.attributes.length; e < t; e++) { let i = this.attributes[e]; this.element[i] = this.tweenProps[i].current } } onDOMWriteForElement(e = this.element.style) { this.handleStyleTransform(e); for (let t = 0, i = this.cssAttributes.length; t < i; t++)this.cssAttributes[t].set(e); for (let t = 0, i = this.domAttributes.length; t < i; t++)this.domAttributes[t].set(this.element); if (this.needsStyleUpdate) { for (let t in this.tweenProps.targetStyles) this.tweenProps.targetStyles[t] !== null && (this.element.style[t] = this.tweenProps.targetStyles[t]), this.tweenProps.targetStyles[t] = null; this.needsStyleUpdate = !1 } this.needsClassUpdate && (this.tweenProps.targetClasses.add.length > 0 && this.element.classList.add.apply(this.element.classList, this.tweenProps.targetClasses.add), this.tweenProps.targetClasses.remove.length > 0 && this.element.classList.remove.apply(this.element.classList, this.tweenProps.targetClasses.remove), this.tweenProps.targetClasses.add.length = 0, this.tweenProps.targetClasses.remove.length = 0, this.needsClassUpdate = !1) } handleStyleTransform(e = this.element.style) { let t = this.tweenProps; if (t.z.isActive || t.rotationX.isActive || t.rotationY.isActive) { const i = this.mat4; i[0] = 1, i[1] = 0, i[2] = 0, i[3] = 0, i[4] = 0, i[5] = 1, i[6] = 0, i[7] = 0, i[8] = 0, i[9] = 0, i[10] = 1, i[11] = 0, i[12] = 0, i[13] = 0, i[14] = 0, i[15] = 1; const r = t.x.current, s = t.y.current, o = t.z.current; if (i[12] = i[0] * r + i[4] * s + i[8] * o + i[12], i[13] = i[1] * r + i[5] * s + i[9] * o + i[13], i[14] = i[2] * r + i[6] * s + i[10] * o + i[14], i[15] = i[3] * r + i[7] * s + i[11] * o + i[15], t.rotation.current !== 0 || t.rotationZ.current !== 0) { const a = (t.rotation.current || t.rotationZ.current) * hd; ru.rotateZ(i, i, a) } if (t.rotationX.current !== 0) { const a = t.rotationX.current * hd; ru.rotateX(i, i, a) } if (t.rotationY.current !== 0) { const a = t.rotationY.current * hd; ru.rotateY(i, i, a) } (t.scale.current !== 1 || t.scaleX.current !== 1 || t.scaleY.current !== 1) && ru.scale(i, i, [t.scale.current, t.scale.current, 1]), e.transform = "matrix3d(" + i[0] + "," + i[1] + "," + i[2] + "," + i[3] + "," + i[4] + "," + i[5] + "," + i[6] + "," + i[7] + "," + i[8] + "," + i[9] + "," + i[10] + "," + i[11] + "," + i[12] + "," + i[13] + "," + i[14] + "," + i[15] + ")" } else if (t.x.isActive || t.y.isActive || t.rotation.isActive || t.rotationZ.isActive || t.scale.isActive || t.scaleX.isActive || t.scaleY.isActive) { const i = this.mat2d; i[0] = 1, i[1] = 0, i[2] = 0, i[3] = 1, i[4] = 0, i[5] = 0; const r = t.x.current, s = t.y.current, o = i[0], a = i[1], l = i[2], u = i[3], c = i[4], d = i[5]; if (i[0] = o, i[1] = a, i[2] = l, i[3] = u, i[4] = o * r + l * s + c, i[5] = a * r + u * s + d, t.rotation.current !== 0 || t.rotationZ.current !== 0) { const f = (t.rotation.current || t.rotationZ.current) * hd, g = i[0], h = i[1], m = i[2], v = i[3], b = i[4], y = i[5], k = Math.sin(f), S = Math.cos(f); i[0] = g * S + m * k, i[1] = h * S + v * k, i[2] = g * -k + m * S, i[3] = h * -k + v * S, i[4] = b, i[5] = y } t.scaleX.isActive || t.scaleY.isActive ? (i[0] = i[0] * t.scaleX.current, i[1] = i[1] * t.scaleX.current, i[2] = i[2] * t.scaleY.current, i[3] = i[3] * t.scaleY.current) : (i[0] = i[0] * t.scale.current, i[1] = i[1] * t.scale.current, i[2] = i[2] * t.scale.current, i[3] = i[3] * t.scale.current), e.transform = "matrix(" + i[0] + ", " + i[1] + ", " + i[2] + ", " + i[3] + ", " + i[4] + ", " + i[5] + ")" } } handleEventDispatch() { if (this.keyframesRequiringDispatch.length !== 0) { for (let e = 0, t = this.keyframesRequiringDispatch.length; e < t; e++) { let i = this.keyframesRequiringDispatch[e]; i.needsEventDispatch = !1, this.eventObject.keyframe = i, this.eventObject.pageMetrics = Na.pageMetrics, this.eventObject.event = i.event, this.trigger(i.event, this.eventObject) } this.keyframesRequiringDispatch.length = 0 } if (this._events.draw.length !== 0) { this.eventObject.keyframe = null, this.eventObject.event = "draw"; for (let e = this._events.draw.length - 1; e >= 0; e--)this._events.draw[e](this.eventObject) } } updateAnimationConstraints() { for (let e = 0, t = this._activeKeyframes.length; e < t; e++)this._activeKeyframes[e].evaluateConstraints(); this.attributes.forEach(e => { this.keyframes[e].length !== 1 && this.keyframes[e].sort(Na.KeyframeComparison) }), this.updateDeferredPropertyValues() } refreshMetrics() { let e = new Set([this.element]); this._allKeyframes.forEach(t => t.anchors.forEach(i => e.add(i))), this.group.metrics.refreshCollection(e), this.group.keyframesDirty = !0 } getTargetComputedStyle(e = !1) { return this._ownerIsElement ? ((e || this.group.computedStyleCache[this.uuid] === void 0) && (this.group.computedStyleCache[this.uuid] = getComputedStyle(this.element)), this.group.computedStyleCache[this.uuid]) : null } updateDeferredPropertyValues() { for (let e = 0, t = this.attributes.length; e < t; e++) { let i = this.attributes[e], r = this.keyframes[i]; if (!(r[0].keyframeType > Na.KeyframeTypes.InterpolationForward)) for (let o = 0, a = r.length; o < a; o++) { let l = r[o]; l.jsonProps[i][0] === null && (o === 0 ? l.jsonProps[i][0] = l.animValues[i][0] = this.tweenProps[i].current : l.animValues[i][0] = r[o - 1].animValues[i][1]), l.jsonProps[i][1] === null && (o === a - 1 ? l.animValues[i][1] = this.tweenProps[i].current : l.animValues[i][1] = r[o + 1].animValues[i][0]), l.snapAtCreation && (l.jsonProps[i][0] = l.animValues[i][0], l.jsonProps[i][1] = l.animValues[i][1]) } } } getBounds(e) { this.boundsMin = Number.MAX_VALUE, this.boundsMax = -Number.MAX_VALUE; for (let t = 0, i = this.attributes.length; t < i; t++) { let r = this.keyframes[this.attributes[t]]; for (let s = 0; s < r.length; s++) { let o = r[s]; this.boundsMin = Math.min(o.start, this.boundsMin), this.boundsMax = Math.max(o.end, this.boundsMax), e.min = Math.min(o.start, e.min), e.max = Math.max(o.end, e.max) } } } getNearestKeyframeForAttribute(e, t) { t = t !== void 0 ? t : this.group.position.local; let i = null, r = Number.POSITIVE_INFINITY, s = this.keyframes[e]; if (s === void 0) return null; let o = s.length; if (o === 0) return null; if (o === 1) return s[0]; for (let a = 0; a < o; a++) { let l = s[a]; if (l.isInRange(t)) { i = l; break } let u = Math.min(Math.abs(t - l.start), Math.abs(t - l.end)); u < r && (r = u, i = l) } return i } getAllKeyframesForAttribute(e) { return this.keyframes[e] } updateKeyframe(e, t) { e.parseOptions(t), e.evaluateConstraints(), this.group.keyframesDirty = !0, Su.update(() => { this.trigger(Na.EVENTS.ON_KEYFRAME_UPDATED, e), this.group.trigger(Na.EVENTS.ON_KEYFRAME_UPDATED, e) }, !0) } removeKeyframe(e) { return e.destroyed || e.controller !== this ? Promise.resolve(null) : (e.markedForRemoval = !0, this.group.keyframesDirty = !0, new Promise(t => { this.group.rafEmitter.executor.eventEmitter.once("before:draw", () => { t(e), e.destroy(); let i = this._allKeyframes.indexOf(e); i !== -1 && this._allKeyframes.splice(i, 1) }) })) } updateAnimation(e, t) { return this.group.gui && console.warn("KeyframeController.updateAnimation(keyframe,props) has been deprecated. Please use updateKeyframe(keyframe,props)"), this.updateKeyframe(e, t) } }; var aSe = oSe; const lSe = Qu, Om = Bl, uSe = q_, Hr = Ms, cSe = fB, dSe = T6e, fSe = F6e, gSe = gB, hSe = q6e, mSe = aSe, Cu = {}; typeof window < "u" && (Cu.create = ah, Cu.update = Y_, Cu.draw = X_); let pSe = 0, _Se = class extends lSe { constructor(e, t) { super(), this.anim = t, this.element = e, this.name = this.name || e.getAttribute("data-anim-scroll-group"), this.isEnabled = !0, this.position = new dSe, this.metrics = new gSe, this.metrics.add(this.element), this.expressionParser = new hSe(this), this.boundsMin = 0, this.boundsMax = 0, this.timelineUpdateRequired = !1, this._keyframesDirty = !1, this.viewableRange = this.createViewableRange(), this.defaultEase = Hr.KeyframeDefaults.ease, this.keyframeControllers = [], this.updateProgress(this.getPosition()), this.onDOMRead = this.onDOMRead.bind(this), this.onDOMWrite = this.onDOMWrite.bind(this), this.gui = null, this.computedStyleCache = {}, this.destroyed = !1, this.finalizeInit() } finalizeInit() { this.element._animInfo = new cSe(this, null, !0), this.setupRAFEmitter() } destroy() { this.destroyed = !0, this.expressionParser.destroy(), this.expressionParser = null; for (let e = 0, t = this.keyframeControllers.length; e < t; e++)this.keyframeControllers[e].destroy(); this.keyframeControllers = null, this.position = null, this.viewableRange = null, this.gui && (this.gui.destroy(), this.gui = null), this.metrics.destroy(), this.metrics = null, this.rafEmitter.destroy(), this.rafEmitter = null, this.anim = null, this.element._animInfo && this.element._animInfo.group === this && (this.element._animInfo.group = null, this.element._animInfo = null), this.element = null, this.isEnabled = !1, super.destroy() } removeKeyframeController(e) { return e.destroyed || !this.keyframeControllers.includes(e) ? Promise.resolve() : (e._allKeyframes.forEach(t => t.markedForRemoval = !0), this.keyframesDirty = !0, new Promise(t => { Cu.draw(() => { const i = this.keyframeControllers.indexOf(e); if (i === -1) { t(); return } this.keyframeControllers.splice(i, 1), e.onDOMWrite(), e.destroy(), this.gui && this.gui.create(), t() }) })) } remove() { return this.anim && this.anim.removeGroup(this) } clear() { return Promise.all(this.keyframeControllers.map(e => this.removeKeyframeController(e))) } setupRAFEmitter(e) { this.rafEmitter && this.rafEmitter.destroy(), this.rafEmitter = e || new Cu.create, this.rafEmitter.on("update", this.onDOMRead), this.rafEmitter.on("draw", this.onDOMWrite), this.rafEmitter.once("external", () => this.reconcile()) } requestDOMChange() { return this.isEnabled ? this.rafEmitter.run() : !1 } onDOMRead() { this.keyframesDirty && this.onKeyframesDirty(); for (let e = 0, t = this.keyframeControllers.length; e < t; e++)this.keyframeControllers[e].onDOMRead(this.position.local) } onDOMWrite() { for (let e = 0, t = this.keyframeControllers.length; e < t; e++)this.keyframeControllers[e].onDOMWrite(); this.needsUpdate() && this.requestDOMChange(), this.computedStyleCache = {} } needsUpdate() { if (this._keyframesDirty) return !0; for (let e = 0, t = this.keyframeControllers.length; e < t; e++)if (this.keyframeControllers[e].needsUpdate()) return !0; return !1 } addKeyframe(e, t) { let i = this.getControllerForTarget(e); return i === null && (i = new mSe(this, e), this.keyframeControllers.push(i)), this.keyframesDirty = !0, i.addKeyframe(t) } addEvent(e, t) { t.event = t.event || "Generic-Event-Name-" + pSe++; let i = t.end !== void 0 && t.end !== t.start; const r = this.addKeyframe(e, t); return i ? (t.onEnterOnce && r.controller.once(t.event + ":enter", t.onEnterOnce), t.onExitOnce && r.controller.once(t.event + ":exit", t.onExitOnce), t.onEnter && r.controller.on(t.event + ":enter", t.onEnter), t.onExit && r.controller.on(t.event + ":exit", t.onExit)) : (t.onEventOnce && r.controller.once(t.event, t.onEventOnce), t.onEventReverseOnce && r.controller.once(t.event + ":reverse", t.onEventReverseOnce), t.onEvent && r.controller.on(t.event, t.onEvent), t.onEventReverse && r.controller.on(t.event + ":reverse", t.onEventReverse)), r } forceUpdate({ waitForNextUpdate: e = !0, silent: t = !1 } = {}) { this.isEnabled && (this.refreshMetrics(), this.timelineUpdateRequired = !0, e ? this.keyframesDirty = !0 : this.onKeyframesDirty({ silent: t })) } onKeyframesDirty({ silent: e = !1 } = {}) { this.determineActiveKeyframes(), this.keyframesDirty = !1, this.metrics.refreshMetrics(this.element), this.viewableRange = this.createViewableRange(); for (let t = 0, i = this.keyframeControllers.length; t < i; t++)this.keyframeControllers[t].updateAnimationConstraints(); this.updateBounds(), this.updateProgress(this.getPosition()), e || this.updateTimeline(), this.gui && this.gui.create() } refreshMetrics() { let e = new Set([this.element]); this.keyframeControllers.forEach(t => { e.add(t.element), t._allKeyframes.forEach(i => i.anchors.forEach(r => e.add(r))) }), this.metrics.refreshCollection(e), this.viewableRange = this.createViewableRange() } reconcile() { for (let e = 0, t = this.keyframeControllers.length; e < t; e++)this.keyframeControllers[e].reconcile() } determineActiveKeyframes(e) { e = e || uSe(Array.from(document.documentElement.classList)); for (let t = 0, i = this.keyframeControllers.length; t < i; t++)this.keyframeControllers[t].determineActiveKeyframes(e) } updateBounds() { if (this.keyframeControllers.length === 0) { this.boundsMin = 0, this.boundsMax = 0; return } let e = { min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY }; for (let r = 0, s = this.keyframeControllers.length; r < s; r++)this.keyframeControllers[r].getBounds(e); let t = this.convertTValueToScrollPosition(e.min), i = this.convertTValueToScrollPosition(e.max); i - t < Hr.pageMetrics.windowHeight ? (e.min = this.convertScrollPositionToTValue(t - Hr.pageMetrics.windowHeight * .5), e.max = this.convertScrollPositionToTValue(i + Hr.pageMetrics.windowHeight * .5)) : (e.min -= .001, e.max += .001), this.boundsMin = e.min, this.boundsMax = e.max, this.timelineUpdateRequired = !0 } createViewableRange() { return new fSe(this.metrics.get(this.element), Hr.pageMetrics.windowHeight) } _onBreakpointChange(e, t) { this.keyframesDirty = !0, this.determineActiveKeyframes() } updateProgress(e) { if (!this.hasDuration()) { this.position.local = this.position.localUnclamped = 0; return } this.position.localUnclamped = (e - this.viewableRange.a) / (this.viewableRange.d - this.viewableRange.a), this.position.local = Om.clamp(this.position.localUnclamped, this.boundsMin, this.boundsMax) } performTimelineDispatch() { for (let e = 0, t = this.keyframeControllers.length; e < t; e++)this.keyframeControllers[e].updateLocalProgress(this.position.local); this.trigger(Hr.EVENTS.ON_TIMELINE_UPDATE, this.position.local), this.trigger("update", this.position.local), this.timelineUpdateRequired = !1, this.position.lastPosition !== this.position.local && (this.position.lastPosition <= this.boundsMin && this.position.localUnclamped > this.boundsMin ? (this.trigger(Hr.EVENTS.ON_TIMELINE_START, this), this.trigger("start", this)) : this.position.lastPosition >= this.boundsMin && this.position.localUnclamped < this.boundsMin ? (this.trigger(Hr.EVENTS.ON_TIMELINE_START + ":reverse", this), this.trigger("start:reverse", this)) : this.position.lastPosition <= this.boundsMax && this.position.localUnclamped >= this.boundsMax ? (this.trigger(Hr.EVENTS.ON_TIMELINE_COMPLETE, this), this.trigger("complete", this)) : this.position.lastPosition >= this.boundsMax && this.position.localUnclamped < this.boundsMax && (this.trigger(Hr.EVENTS.ON_TIMELINE_COMPLETE + ":reverse", this), this.trigger("complete:reverse", this))), this.gui !== null && this.gui.onScrollUpdate(this.position) } updateTimeline(e) { if (!this.isEnabled) return !1; e === void 0 && (e = this.getPosition()), this.updateProgress(e); let t = this.position.lastPosition === this.boundsMin || this.position.lastPosition === this.boundsMax, i = this.position.localUnclamped === this.boundsMin || this.position.localUnclamped === this.boundsMax; if (!this.timelineUpdateRequired && t && i && this.position.lastPosition === e) { this.position.local = this.position.localUnclamped; return } if (this.timelineUpdateRequired || this.position.localUnclamped > this.boundsMin && this.position.localUnclamped < this.boundsMax) { this.performTimelineDispatch(), this.requestDOMChange(), this.position.lastPosition = this.position.localUnclamped; return } let r = this.position.lastPosition > this.boundsMin && this.position.lastPosition < this.boundsMax, s = this.position.localUnclamped <= this.boundsMin || this.position.localUnclamped >= this.boundsMax; if (r && s) { this.performTimelineDispatch(), this.requestDOMChange(), this.position.lastPosition = this.position.localUnclamped; return } const o = this.position.lastPosition < this.boundsMin && this.position.localUnclamped > this.boundsMax, a = this.position.lastPosition > this.boundsMax && this.position.localUnclamped < this.boundsMax; (o || a) && (this.performTimelineDispatch(), this.requestDOMChange(), this.position.lastPosition = this.position.localUnclamped), this.gui !== null && this.gui.onScrollUpdate(this.position) } _onScroll(e) { this.updateTimeline(e) } convertScrollPositionToTValue(e) { return this.hasDuration() ? Om.map(e, this.viewableRange.a, this.viewableRange.d, 0, 1) : 0 } convertTValueToScrollPosition(e) { return this.hasDuration() ? Om.map(e, 0, 1, this.viewableRange.a, this.viewableRange.d) : 0 } hasDuration() { return this.viewableRange.a !== this.viewableRange.d } getPosition() { return Hr.pageMetrics.scrollY } getControllerForTarget(e) { if (!e._animInfo || !e._animInfo.controllers) return null; if (e._animInfo.controller && e._animInfo.controller.group === this) return e._animInfo.controller; const t = e._animInfo.controllers; for (let i = 0, r = t.length; i < r; i++)if (t[i].group === this) return t[i]; return null } trigger(e, t) { if (!(typeof this._events[e] > "u")) for (let i = this._events[e].length - 1; i >= 0; i--)t !== void 0 ? this._events[e][i](t) : this._events[e][i]() } set keyframesDirty(e) { this._keyframesDirty = e, this._keyframesDirty && this.requestDOMChange() } get keyframesDirty() { return this._keyframesDirty } }; var Z_ = _Se; const Nm = Ms; class vSe { constructor(e, t) { this._index = 0, this.keyframe = e, t && (this.name = t) } get start() { return this.keyframe.jsonProps.start } set index(e) { this._index = e } get index() { return this._index } } let bSe = class { constructor(e) { this.timeGroup = e, this.chapters = [], this.chapterNames = {}, this.currentChapter = null, this.tween = null, this.destroyed = !1 } destroy() { this.destroyed = !0, this.tween && !this.tween.destroyed && this.tween.remove(), this.tween = null } addChapter(e) { const { position: t, name: i } = e; if (typeof t > "u") throw ReferenceError("Cannot add chapter without target position."); !e._impIsFirst && this.chapters.length === 0 && this.addChapter({ position: 0, _impIsFirst: !0 }); let r = this.timeGroup.addKeyframe(this, { start: t, end: t, event: "Chapter" }); this.timeGroup.forceUpdate({ waitForNextFrame: !1, silent: !0 }); const s = new vSe(r, i); if (this.chapters.push(s), i) { if (this.chapterNames.hasOwnProperty(i)) throw ReferenceError(`Duplicate chapter name assigned - "${i}" is already in use`); this.chapterNames[i] = s } return this.chapters.sort((o, a) => o.start - a.start).forEach((o, a) => o.index = a), this.currentChapter = this.currentChapter || this.chapters[0], s } playToChapter(e) { let t; if (e.hasOwnProperty("index")) t = this.chapters[e.index]; else if (e.hasOwnProperty("name")) t = this.chapterNames[e.name]; else throw ReferenceError("Cannot play to chapter without target index or name"); if (!t || this.currentChapter === t && e.force !== !0) return; let i = e.ease || "easeInOutCubic"; this.tween && this.tween.controller && (this.tween.remove(), i = e.ease || "easeOutQuint"), this.timeGroup.timeScale(e.timeScale || 1); const r = e.duration !== void 0 ? e.duration : this.getDurationToChapter(t), s = this.timeGroup.time(), o = t.start; let a = !1; return this.tween = this.timeGroup.anim.addTween({ time: s }, { easeFunction: i, duration: r, time: [s, o], onStart: () => { this.destroyed || this.timeGroup.trigger(Nm.EVENTS.ON_CHAPTER_INITIATED, { player: this, next: t }) }, onDraw: l => { if (this.destroyed) return; let u = l.tweenProps.time.current; this.timeGroup.time(u), l.keyframe.curvedT > .5 && !a && (a = !0, this.currentIndex = t.index, this.currentChapter = t, this.timeGroup.trigger(Nm.EVENTS.ON_CHAPTER_OCCURRED, { player: this, current: t })) }, onComplete: l => { this.destroyed || (this.timeGroup.time(l.tweenProps.time.current), this.timeGroup.trigger(Nm.EVENTS.ON_CHAPTER_COMPLETED, { player: this, current: t }), this.timeGroup.paused(!0), this.tween = null) } }), this.tween } getDurationToChapter(e) { const t = this.chapters[e.index - 1] || this.chapters[e.index + 1]; return Math.abs(t.start - e.start) } }; var ySe = bSe; const wSe = Z_, kSe = ySe, Yk = Bl; let DSe = 0; const RB = {}; typeof window < "u" && (RB.create = ah); class Ya extends wSe { constructor(e, t) { e || (e = document.createElement("div"), e.className = "TimeGroup-" + DSe++), super(e, t), this.name = this.name || e.getAttribute("data-anim-time-group"), this._isPaused = !0, this._repeats = 0, this._isReversed = !1, this._timeScale = 1, this._chapterPlayer = new kSe(this), this.now = performance.now() } finalizeInit() { if (!this.anim) throw "TimeGroup not instantiated correctly. Please use `AnimSystem.createTimeGroup(el)`"; this.onPlayTimeUpdate = this.onPlayTimeUpdate.bind(this), super.finalizeInit() } progress(e) { if (e === void 0) return this.boundsMax === 0 ? 0 : this.position.local / this.boundsMax; let t = e * this.boundsMax; this.timelineUpdateRequired = !0, this.updateTimeline(t) } time(e) { if (e === void 0) return this.position.local; e = Yk.clamp(e, this.boundsMin, this.duration), this.timelineUpdateRequired = !0, this.updateTimeline(e) } play(e) { this.reversed(!1), this.isEnabled = !0, this._isPaused = !1, this.time(e), this.now = performance.now(), this._playheadEmitter.run() } reverse(e) { this.reversed(!0), this.isEnabled = !0, this._isPaused = !1, this.time(e), this.now = performance.now(), this._playheadEmitter.run() } reversed(e) { if (e === void 0) return this._isReversed; this._isReversed = e } restart() { this._isReversed ? (this.progress(1), this.reverse(this.time())) : (this.progress(0), this.play(this.time())) } pause(e) { this.time(e), this._isPaused = !0 } paused(e) { return e === void 0 ? this._isPaused : (this._isPaused = e, this._isPaused || this.play(), this) } onPlayTimeUpdate() { if (this._isPaused) return; let e = performance.now(), t = (e - this.now) / 1e3; this.now = e, this._isReversed && (t = -t); let r = this.time() + t * this._timeScale; if (this._repeats === Ya.REPEAT_FOREVER || this._repeats > 0) { let a = !1; !this._isReversed && r > this.boundsMax ? (r -= this.boundsMax, a = !0) : this._isReversed && r < 0 && (r = this.boundsMax + r, a = !0), a && (this._repeats = this._repeats === Ya.REPEAT_FOREVER ? Ya.REPEAT_FOREVER : this._repeats - 1) } this.time(r); let s = !this._isReversed && this.position.local !== this.duration, o = this._isReversed && this.position.local !== 0; s || o ? this._playheadEmitter.run() : this.paused(!0) } updateProgress(e) { if (!this.hasDuration()) { this.position.local = this.position.localUnclamped = 0; return } this.position.localUnclamped = e, this.position.local = Yk.clamp(this.position.localUnclamped, this.boundsMin, this.boundsMax) } updateBounds() { if (this.keyframeControllers.length === 0) { this.boundsMin = 0, this.boundsMax = 0; return } let e = { min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY }; for (let t = 0, i = this.keyframeControllers.length; t < i; t++)this.keyframeControllers[t].getBounds(e); this.boundsMin = 0, this.boundsMax = e.max, this.viewableRange.a = this.viewableRange.b = 0, this.viewableRange.c = this.viewableRange.d = this.boundsMax, this.timelineUpdateRequired = !0 } setupRAFEmitter(e) { this._playheadEmitter = new RB.create, this._playheadEmitter.on("update", this.onPlayTimeUpdate), super.setupRAFEmitter(e) } get duration() { return this.keyframesDirty && this.onKeyframesDirty({ silent: !0 }), this.boundsMax } timeScale(e) { return e === void 0 ? this._timeScale : (this._timeScale = e, this) } repeats(e) { if (e === void 0) return this._repeats; this._repeats = e } getPosition() { return this.position.local } addChapter(e) { return this._chapterPlayer.addChapter(e) } playToChapter(e) { return this._chapterPlayer.playToChapter(e) } convertScrollPositionToTValue(e) { return e } convertTValueToScrollPosition(e) { return e } hasDuration() { return this.duration > 0 } destroy() { this._chapterPlayer.destroy(), this._playheadEmitter.destroy(), this._playheadEmitter = null, super.destroy() } get timelineProgress() { return this.progress() } set timelineProgress(e) { this.progress(e) } get progressValue() { return this.progress() } set progressValue(e) { this.progress(e) } get timeValue() { return this.time() } set timeValue(e) { this.time(e) } } Ya.REPEAT_FOREVER = -1; var SSe = Ya; const CSe = Z_, PSe = Bl; let ASe = 0; const FB = {}; typeof window < "u" && (FB.create = ah); class ESe extends CSe { constructor(e, t) { e || (e = document.createElement("div"), e.className = "TweenGroup-" + ASe++), super(e, t), this.name = "Tweens", this.keyframes = [], this._isPaused = !1, this.now = performance.now() } finalizeInit() { this.onTimeEmitterUpdate = this.onTimeEmitterUpdate.bind(this), this.removeExpiredKeyframeControllers = this.removeExpiredKeyframeControllers.bind(this), super.finalizeInit() } destroy() { this._timeEmitter.destroy(), this._timeEmitter = null, this._keyframes = [], super.destroy() } setupRAFEmitter(e) { this.now = performance.now(), this._timeEmitter = new FB.create, this._timeEmitter.on("update", this.onTimeEmitterUpdate), this._timeEmitter.run(), super.setupRAFEmitter(e) } addKeyframe(e, t) { if (t.start !== void 0 || t.end !== void 0) throw Error("Tweens do not have a start or end, they can only have a duration. Consider using a TimeGroup instead"); if (typeof t.duration != "number") throw Error("Tween options.duration is undefined, or is not a number"); t.start = (t.delay || 0) + this.position.localUnclamped, t.end = t.start + t.duration, t.preserveState = !0, t.snapAtCreation = !0; let i, r; e._animInfo && (i = e._animInfo.group, r = e._animInfo.controller); let s = super.addKeyframe(e, t); return e._animInfo.group = i, e._animInfo.controller = r, [["onStart", "once"], ["onDraw", "on"]].forEach(([o, a]) => { if (!t[o]) return; let l = t[o]; t[o] = s.controller[a]("draw", u => { s.markedForRemoval || (u.keyframe = s, l(u), u.keyframe = null) }) }), this.removeOverlappingProps(s), this.keyframes.push(s), this._timeEmitter.willRun() || (this.now = performance.now(), this._timeEmitter.run()), s } removeOverlappingProps(e) { if (e.controller._allKeyframes.length <= 1) return; let t = Object.keys(e.animValues), i = e.controller; for (let r = 0, s = i._allKeyframes.length; r < s; r++) { const o = i._allKeyframes[r]; if (o === e || o.markedForRemoval) continue; let a = Object.keys(o.animValues), l = a.filter(u => t.includes(u)); if (l.length === a.length) { o.markedForRemoval = !0, o.jsonProps.onDraw && o.controller.off("draw", o.jsonProps.onDraw); continue } l.forEach(u => delete o.animValues[u]) } } onTimeEmitterUpdate(e) { if (this._isPaused || this.keyframeControllers.length === 0) return; let t = performance.now(), i = (t - this.now) / 1e3; this.now = t; let r = this.position.local + i; this.position.local = this.position.localUnclamped = r, this.onTimeUpdate() } onTimeUpdate() { for (let e = 0, t = this.keyframes.length; e < t; e++)this.keyframes[e].markedForRemoval || this.keyframes[e].updateLocalProgress(this.position.localUnclamped); this.requestDOMChange(), this._timeEmitter.run(), this.gui !== null && this.gui.onScrollUpdate(this.position) } onDOMRead() { if (this.keyframesDirty && this.onKeyframesDirty(), this.keyframes.length !== 0) for (let e = 0, t = this.keyframes.length; e < t; e++) { this.keyframes[e].controller.needsWrite = !0; for (let i in this.keyframes[e].animValues) this.keyframes[e].onDOMRead(i) } } onDOMWrite() { super.onDOMWrite(), this.removeExpiredKeyframes() } removeExpiredKeyframes() { let e = this.keyframes.length, t = e; for (; e--;) { let i = this.keyframes[e]; if (i.destroyed) { this.keyframes.splice(e, 1); continue } i.markedForRemoval && (i.jsonProps.onComplete && i.localT === 1 && (i.controller.eventObject.keyframe = i, i.jsonProps.onComplete(i.controller.eventObject), i.jsonProps.onComplete = null), (this.gui === null || !this.gui.isDraggingPlayhead) && (i.remove(), this.keyframes.splice(e, 1)), i.jsonProps.onStart && i.controller.off("draw", i.jsonProps.onStart), i.jsonProps.onDraw && i.controller.off("draw", i.jsonProps.onDraw)), i.localT === 1 && (i.markedForRemoval = !0) } (this.keyframes.length !== t || this.keyframes.length === 0) && this._timeEmitter.executor.eventEmitter.once("after:draw", this.removeExpiredKeyframeControllers) } removeExpiredKeyframeControllers() { for (let e = 0, t = this.keyframeControllers.length; e < t; e++) { let i = !0, r = this.keyframeControllers[e]; for (let s = 0, o = r._allKeyframes.length; s < o; s++)if (!r._allKeyframes[s].destroyed) { i = !1; break } i && r.remove() } } updateBounds() { this.boundsMin = Math.min(...this.keyframes.map(e => e.start)), this.boundsMax = Math.max(...this.keyframes.map(e => e.end)) } play() { this.isEnabled = !0, this._isPaused = !1, this.now = performance.now(), this._timeEmitter.run() } pause() { this._isPaused = !0 } paused() { return this._isPaused } time(e) { if (e === void 0) return this.position.local; this.position.local = this.position.localUnclamped = PSe.clamp(e, this.boundsMin, this.boundsMax), this.onTimeUpdate() } performTimelineDispatch() { } hasDuration() { return !0 } getPosition() { return this.position.local } updateProgress(e) { } get duration() { return this.boundsMax } } var ISe = ESe, MSe = { version: "3.8.0", major: "3.x", majorMinor: "3.8" }, Bm, Xk; function LSe() { if (Xk) return Bm; Xk = 1; var n = lh; return Bm = n.cancelAnimationFrame("update"), Bm } (function (n) { const e = Qu, t = Ms, i = sh, r = W_, s = dB, o = Z_, a = SSe, l = ISe, u = MSe, c = {}; typeof window < "u" && (c.update = Y_, c.cancelUpdate = LSe(), c.external = LB(), c.draw = X_); let d = null; class f extends e { constructor() { if (super(), d) throw "You cannot create multiple AnimSystems. You probably want to create multiple groups instead. You can have unlimited groups on a page"; d = this, this.groups = [], this.scrollSystems = [], this.timeSystems = [], this.tweenGroup = null, this._forceUpdateRAFId = -1, this.initialized = !1, this.model = t, this.plugins = { keyframe: [], parser: [] }, this.version = u.version, this._resolveReady = () => { }, this.ready = new Promise(h => this._resolveReady = h), this.onScroll = this.onScroll.bind(this), this.onResizedDebounced = this.onResizedDebounced.bind(this), this.onResizeImmediate = this.onResizeImmediate.bind(this) } initialize() { return this.initialized || typeof window > "u" ? this.ready : (this.initialized = !0, this.timeSystems = [], this.scrollSystems = [], this.groups = [], this.setupEvents(), this.initializeResizeFilter(), this.initializeModel(), this.createDOMGroups(), this.createDOMKeyframes(), this.tweenGroup = new l(null, this), this.groups.unshift(this.tweenGroup), this._resolveReady(), this.ready) } use(h, m) { h.install(this, m) } remove() { return this.initialized ? Promise.all(this.groups.map(h => h.remove())).then(() => { this.groups = null, this.scrollSystems = null, this.timeSystems = null, window.clearTimeout(t.RESIZE_TIMEOUT), window.removeEventListener("scroll", this.onScroll), window.removeEventListener("resize", this.onResizeImmediate), this._events = {}, this.initialized = !1, this.ready = new Promise(h => this._resolveReady = h) }) : (this.ready = new Promise(h => this._resolveReady = h), Promise.resolve()) } destroy() { return this.remove() } createTimeGroup(h, m) { h instanceof HTMLElement || (m = h || {}, h = m.el); let v = new a(h, this); return m && m.name && (v.name = m.name), this.groups.push(v), this.timeSystems.push(v), this.trigger(t.EVENTS.ON_GROUP_CREATED, v), v } createScrollGroup(h, m) { if (!h) throw "AnimSystem scroll based groups must supply an HTMLElement"; let v = new o(h, this); return m = m || {}, m.name && (v.name = m.name), m.getPosition && m.getMaxPosition && (v.getPosition = m.getPosition, v.createViewableRange = () => ({ a: 0, d: m.getMaxPosition() })), v.getPosition = m.getPosition || v.getPosition, v.getPosition = m.getPosition || v.getPosition, this.groups.push(v), this.scrollSystems.push(v), this.trigger(t.EVENTS.ON_GROUP_CREATED, v), v } removeGroup(h) { return h.destroyed || h.anim !== this ? Promise.resolve() : Promise.all(h.keyframeControllers.map(m => h.removeKeyframeController(m))).then(() => { let m = this.groups.indexOf(h); m !== -1 && this.groups.splice(m, 1), m = this.scrollSystems.indexOf(h), m !== -1 && this.scrollSystems.splice(m, 1), m = this.timeSystems.indexOf(h), m !== -1 && this.timeSystems.splice(m, 1), h.destroyed || h.destroy() }) } createDOMGroups() { document.body.setAttribute("data-anim-scroll-group", "body"), document.querySelectorAll("[data-anim-scroll-group]").forEach(h => this.createScrollGroup(h)), document.querySelectorAll("[data-anim-time-group]").forEach(h => this.createTimeGroup(h)), this.trigger(t.EVENTS.ON_DOM_GROUPS_CREATED, this.groups) } createDOMKeyframes() { let h = [];["data-anim-keyframe", i.DATA_ATTRIBUTE, r.DATA_ATTRIBUTE, s.DATA_ATTRIBUTE].forEach(function (m) { for (let v = 0; v < 12; v++)h.push(m + (v === 0 ? "" : "-" + (v - 1))) }); for (let m = 0; m < h.length; m++) { let v = h[m], b = document.querySelectorAll("[" + v + "]"); for (let y = 0; y < b.length; y++) { const k = b[y], S = JSON.parse(k.getAttribute(v)); this.addKeyframe(k, S) } } c.update(() => { this.groups !== null && (this.groups.forEach(m => m.onKeyframesDirty({ silent: !0 })), this.groups.forEach(m => m.trigger(t.EVENTS.ON_DOM_KEYFRAMES_CREATED, m)), this.trigger(t.EVENTS.ON_DOM_KEYFRAMES_CREATED, this), this.groups.forEach(m => { m.forceUpdate({ waitForNextUpdate: !1, silent: !0 }), m.reconcile() }), this.onScroll()) }, !0) } initializeResizeFilter() { if (t.cssDimensionsTracker) return; const h = document.querySelector(".cssDimensionsTracker") || document.createElement("div"); h.setAttribute("cssDimensionsTracker", "true"), h.style.position = "fixed", h.style.top = "0", h.style.width = "100%", h.style.height = "100vh", h.style.pointerEvents = "none", h.style.visibility = "hidden", h.style.zIndex = "-1", document.documentElement.appendChild(h), t.cssDimensionsTracker = h } initializeModel() { t.pageMetrics.windowHeight = t.cssDimensionsTracker.clientHeight, t.pageMetrics.windowWidth = t.cssDimensionsTracker.clientWidth, t.pageMetrics.scrollY = window.scrollY || window.pageYOffset, t.pageMetrics.scrollX = window.scrollX || window.pageXOffset, t.pageMetrics.breakpoint = t.getBreakpoint(); let h = document.documentElement.getBoundingClientRect(); t.pageMetrics.documentOffsetX = h.left + t.pageMetrics.scrollX, t.pageMetrics.documentOffsetY = h.top + t.pageMetrics.scrollY } setupEvents() { window.removeEventListener("scroll", this.onScroll), window.addEventListener("scroll", this.onScroll), window.removeEventListener("resize", this.onResizeImmediate), window.addEventListener("resize", this.onResizeImmediate) } onScroll() { t.pageMetrics.scrollY = window.scrollY || window.pageYOffset, t.pageMetrics.scrollX = window.scrollX || window.pageXOffset; for (let h = 0, m = this.scrollSystems.length; h < m; h++)this.scrollSystems[h].updateTimeline(); this.trigger(t.PageEvents.ON_SCROLL, t.pageMetrics) } onResizeImmediate() { let h = t.cssDimensionsTracker.clientWidth, m = t.cssDimensionsTracker.clientHeight; if (h === t.pageMetrics.windowWidth && m === t.pageMetrics.windowHeight) return; t.pageMetrics.windowWidth = h, t.pageMetrics.windowHeight = m, t.pageMetrics.scrollY = window.scrollY || window.pageYOffset, t.pageMetrics.scrollX = window.scrollX || window.pageXOffset; let v = document.documentElement.getBoundingClientRect(); t.pageMetrics.documentOffsetX = v.left + t.pageMetrics.scrollX, t.pageMetrics.documentOffsetY = v.top + t.pageMetrics.scrollY, window.clearTimeout(t.RESIZE_TIMEOUT), t.RESIZE_TIMEOUT = window.setTimeout(this.onResizedDebounced, 250), this.trigger(t.PageEvents.ON_RESIZE_IMMEDIATE, t.pageMetrics) } onResizedDebounced() { c.update(() => { let h = t.pageMetrics.breakpoint, m = t.getBreakpoint(); if (m !== h) { t.pageMetrics.previousBreakpoint = h, t.pageMetrics.breakpoint = m; for (let b = 0, y = this.groups.length; b < y; b++)this.groups[b]._onBreakpointChange(); this.trigger(t.PageEvents.ON_BREAKPOINT_CHANGE, t.pageMetrics) } for (let b = 0, y = this.groups.length; b < y; b++)this.groups[b].forceUpdate({ waitForNextUpdate: !1 }); this.trigger(t.PageEvents.ON_RESIZE_DEBOUNCED, t.pageMetrics) }, !0) } forceUpdate({ waitForNextUpdate: h = !0, silent: m = !1 } = {}) { this._forceUpdateRAFId !== -1 && c.cancelUpdate(this._forceUpdateRAFId); let v = () => { for (let b = 0, y = this.groups.length; b < y; b++)this.groups[b].forceUpdate({ waitForNextUpdate: !1, silent: m }); return -1 }; this._forceUpdateRAFId = h ? c.update(v, !0) : v() } addKeyframe(h, m) { let v = this.getGroupForTarget(h); return v = v || this.getGroupForTarget(document.body), v.addKeyframe(h, m) } addEvent(h, m) { let v = this.getGroupForTarget(h); return v = v || this.getGroupForTarget(document.body), v.addEvent(h, m) } getTimeGroupForTarget(h) { return this._getGroupForTarget(h, m => m instanceof a) } getScrollGroupForTarget(h) { return this._getGroupForTarget(h, m => !(m instanceof a)) } getGroupForTarget(h) { return this._getGroupForTarget(h, () => !0) } getGroupByName(h) { return this.groups.find(m => m.name === h) } _getGroupForTarget(h, m) { if (h._animInfo && h._animInfo.group && m(h._animInfo.group)) return h._animInfo.group; let v = h; for (; v;) { if (v._animInfo && v._animInfo.isGroup && m(v._animInfo.group)) return v._animInfo.group; v = v.parentElement } } getControllerForTarget(h) { return h._animInfo && h._animInfo.controller ? h._animInfo.controller : null } addTween(h, m) { return this.tweenGroup.addKeyframe(h, m) } } n.exports = typeof window > "u" ? new f : window.AC.SharedInstance.share("AnimSystem", u.major, f), n.exports.default = n.exports })(XDe); function Zk(n) { let e, t, i, r; function s(l) { n[52](l) } function o(l) { n[53](l) } let a = { item: n[21], contextualMenuConfig: n[12], artworkButtonAriaLabel: n[13], layout: n[6] ? "landscape" : "large", showMetaElm: n[15] && !n[14] }; return n[2] !== void 0 && (a.artworkContainerEl = n[2]), n[3] !== void 0 && (a.metadataEl = n[3]), e = new $_({ props: a }), wt.push(() => Xr(e, "artworkContainerEl", s)), wt.push(() => Xr(e, "metadataEl", o)), e.$on("artworkClick", n[26]), e.$on("lcdMetadataFetched", n[28]), e.$on("mkNavigate", n[29]), { c() { V(e.$$.fragment) }, l(l) { q(e.$$.fragment, l) }, m(l, u) { H(e, l, u), r = !0 }, p(l, u) { const c = {}; u[0] & 2097152 && (c.item = l[21]), u[0] & 4096 && (c.contextualMenuConfig = l[12]), u[0] & 8192 && (c.artworkButtonAriaLabel = l[13]), u[0] & 64 && (c.layout = l[6] ? "landscape" : "large"), u[0] & 49152 && (c.showMetaElm = l[15] && !l[14]), !t && u[0] & 4 && (t = !0, c.artworkContainerEl = l[2], Yr(() => t = !1)), !i && u[0] & 8 && (i = !0, c.metadataEl = l[3], Yr(() => i = !1)), e.$set(c) }, i(l) { r || (w(e.$$.fragment, l), r = !0) }, o(l) { D(e.$$.fragment, l), r = !1 }, d(l) { $(e, l) } } } function Qk(n) { let e, t; return e = new Oke({ props: { contextualMenuConfigWithParent: n[12], item: n[21] } }), e.$on("artworkClick", n[27]), e.$on("mkNavigate", n[29]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 4096 && (s.contextualMenuConfigWithParent = i[12]), r[0] & 2097152 && (s.item = i[21]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function jk(n) { let e, t; return e = new aDe({ props: { contextualMenuConfigWithParent: n[12], item: n[21], hasLyrics: n[7] } }), e.$on("artworkClick", n[27]), e.$on("mkNavigate", n[29]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 4096 && (s.contextualMenuConfigWithParent = i[12]), r[0] & 2097152 && (s.item = i[21]), r[0] & 128 && (s.hasLyrics = i[7]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function Gk(n) { let e, t, i, r, s, o; return t = new kDe({ props: { isLibrary: n[18], isRadio: n[19] } }), s = new qDe({ props: { hasLyrics: n[7] } }), s.$on("toggleView", n[55]), s.$on("manage", n[56]), { c() { e = L("div"), V(t.$$.fragment), i = Y(), r = L("div"), V(s.$$.fragment), this.h() }, l(a) { e = T(a, "DIV", { class: !0 }); var l = E(e); q(t.$$.fragment, l), l.forEach(_), i = X(a), r = T(a, "DIV", { class: !0 }); var u = E(r); q(s.$$.fragment, u), u.forEach(_), this.h() }, h() { p(e, "class", "now-playing-controls svelte-173vgxg"), p(r, "class", "now-playing-toggle svelte-173vgxg") }, m(a, l) { I(a, e, l), H(t, e, null), n[54](e), I(a, i, l), I(a, r, l), H(s, r, null), n[57](r), o = !0 }, p(a, l) { const u = {}; l[0] & 262144 && (u.isLibrary = a[18]), l[0] & 524288 && (u.isRadio = a[19]), t.$set(u); const c = {}; l[0] & 128 && (c.hasLyrics = a[7]), s.$set(c) }, i(a) { o || (w(t.$$.fragment, a), w(s.$$.fragment, a), o = !0) }, o(a) { D(t.$$.fragment, a), D(s.$$.fragment, a), o = !1 }, d(a) { a && (_(e), _(i), _(r)), $(t), n[54](null), $(s), n[57](null) } } } function TSe(n) { let e, t, i, r, s, o = !1, a, l, u = (n[15] || n[14]) && Zk(n), c = n[17] && Qk(n), d = n[16] && jk(n), f = o, g = !n[14] && Gk(n); return { c() { e = L("div"), t = L("div"), u && u.c(), i = Y(), c && c.c(), r = Y(), d && d.c(), s = Y(), a = Y(), g && g.c(), this.h() }, l(h) { e = T(h, "DIV", { class: !0 }); var m = E(e); t = T(m, "DIV", { class: !0 }); var v = E(t); u && u.l(v), i = X(v), c && c.l(v), r = X(v), d && d.l(v), s = X(v), v.forEach(_), a = X(m), g && g.l(m), m.forEach(_), this.h() }, h() { p(t, "class", "now-playing-main svelte-173vgxg"), p(e, "class", "now-playing-structure svelte-173vgxg"), J(e, "now-playing-structure--queue", n[17]), J(e, "now-playing-structure--lyrics", n[16]), J(e, "now-playing-structure--artwork", n[15]), J(e, "now-playing-structure--landscape", n[6]) }, m(h, m) { I(h, e, m), A(e, t), u && u.m(t, null), A(t, i), c && c.m(t, null), A(t, r), d && d.m(t, null), A(t, s), A(e, a), g && g.m(e, null), l = !0 }, p(h, m) { h[15] || h[14] ? u ? (u.p(h, m), m[0] & 49152 && w(u, 1)) : (u = Zk(h), u.c(), w(u, 1), u.m(t, i)) : u && (te(), D(u, 1, 1, () => { u = null }), ne()), h[17] ? c ? (c.p(h, m), m[0] & 131072 && w(c, 1)) : (c = Qk(h), c.c(), w(c, 1), c.m(t, r)) : c && (te(), D(c, 1, 1, () => { c = null }), ne()), h[16] ? d ? (d.p(h, m), m[0] & 65536 && w(d, 1)) : (d = jk(h), d.c(), w(d, 1), d.m(t, s)) : d && (te(), D(d, 1, 1, () => { d = null }), ne()), h[14] ? g && (te(), D(g, 1, 1, () => { g = null }), ne()) : g ? (g.p(h, m), m[0] & 16384 && w(g, 1)) : (g = Gk(h), g.c(), w(g, 1), g.m(e, null)), (!l || m[0] & 131072) && J(e, "now-playing-structure--queue", h[17]), (!l || m[0] & 65536) && J(e, "now-playing-structure--lyrics", h[16]), (!l || m[0] & 32768) && J(e, "now-playing-structure--artwork", h[15]), (!l || m[0] & 64) && J(e, "now-playing-structure--landscape", h[6]) }, i(h) { l || (w(u), w(c), w(d), w(f), w(g), l = !0) }, o(h) { D(u), D(c), D(d), D(f), D(g), l = !1 }, d(h) { h && _(e), u && u.d(), c && c.d(), d && d.d(), g && g.d() } } } function RSe(n) { let e, t, i; function r(o) { n[51](o) } let s = { slot: "backdrop", item: n[21] }; return n[10] !== void 0 && (s.nowPlayingBackdropEl = n[10]), e = new Pwe({ props: s }), wt.push(() => Xr(e, "nowPlayingBackdropEl", r)), { c() { V(e.$$.fragment) }, l(o) { q(e.$$.fragment, o) }, m(o, a) { H(e, o, a), i = !0 }, p(o, a) { const l = {}; a[0] & 2097152 && (l.item = o[21]), !t && a[0] & 1024 && (t = !0, l.nowPlayingBackdropEl = o[10], Yr(() => t = !1)), e.$set(l) }, i(o) { i || (w(e.$$.fragment, o), i = !0) }, o(o) { D(e.$$.fragment, o), i = !1 }, d(o) { $(e, o) } } } function xk(n) { let e, t; return e = new iB({}), e.$on("close", n[59]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function FSe(n) { let e, t, i, r, s; t = new Rl({ props: { modalTriggerElement: n[0], disableSlide: n[1], disableScrim: !0, translateFn: n[8].t, ariaLabel: n[20], $$slots: { backdrop: [RSe], default: [TSe] }, $$scope: { ctx: n } } }), t.$on("close", n[58]); let o = n[9] && xk(n); return { c() { e = L("div"), V(t.$$.fragment), i = Y(), o && o.c(), r = re(), this.h() }, l(a) { e = T(a, "DIV", { class: !0 }); var l = E(e); q(t.$$.fragment, l), l.forEach(_), i = X(a), o && o.l(a), r = re(), this.h() }, h() { p(e, "class", "modal-wrapper svelte-173vgxg"), J(e, "is-transitioning", n[11]) }, m(a, l) { I(a, e, l), H(t, e, null), I(a, i, l), o && o.m(a, l), I(a, r, l), s = !0 }, p(a, l) { const u = {}; l[0] & 1 && (u.modalTriggerElement = a[0]), l[0] & 2 && (u.disableSlide = a[1]), l[0] & 256 && (u.translateFn = a[8].t), l[0] & 1048576 && (u.ariaLabel = a[20]), l[0] & 3143420 | l[2] & 4 && (u.$$scope = { dirty: l, ctx: a }), t.$set(u), (!s || l[0] & 2048) && J(e, "is-transitioning", a[11]), a[9] ? o ? (o.p(a, l), l[0] & 512 && w(o, 1)) : (o = xk(a), o.c(), w(o, 1), o.m(r.parentNode, r)) : o && (te(), D(o, 1, 1, () => { o = null }), ne()) }, i(a) { s || (w(t.$$.fragment, a), w(o), s = !0) }, o(a) { D(t.$$.fragment, a), D(o), s = !1 }, d(a) { a && (_(e), _(i), _(r)), $(t), o && o.d(a) } } } const OSe = "14 / 10", NSe = 580; function BSe(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R; ce(n, Va, Nt => t(46, k = Nt)), ce(n, Er, Nt => t(48, P = Nt)); var F, N, O, B, U, K, W, Z, Q, G; const ae = ot(); ce(n, ae, Nt => t(8, S = Nt)); const { state: ee } = xt(); ce(n, ee, Nt => t(50, R = Nt)); const { queue: pe } = zn(); ce(n, pe, Nt => t(47, C = Nt)); const ke = sn(), we = It(), Te = p0("large", { landscape: `(min-aspect-ratio: ${OSe}) and (max-height: ${NSe}px)`, large: "" }); ce(n, Te, Nt => t(49, M = Nt)); let { contextualMenuConfig: ge } = e, { modalTriggerElement: Ce } = e, { disableSlide: he } = e, Ae, ze, Pe = !1, Oe, _e, Se, Re, Ze, De = !1; const xe = () => { ke(v) }, Fe = () => { ld.addTween(Oe, { duration: .5, y: [null, 0], scale: [null, 1], easeFunction: "easeOutQuint", onComplete: () => { we("toggleView", Ri.Artwork) } }), ld.addTween(Oe, { duration: .2, opacity: [0, 1] }) }; Yt(async () => { t(42, ze = document.querySelector(".modal-wrapper dialog")), ze && t(42, ze.id = wwe, ze), ld.initialized || ld.initialize() }); const Be = Nt => { var ds; t(41, Ae = (ds = Nt.detail) === null || ds === void 0 ? void 0 : ds[0]), we("lcdMetadataFetched", Nt.detail) }, lt = () => { ze == null || ze.close() }; function _t(Nt) { Re = Nt, t(10, Re) } function et(Nt) { Oe = Nt, t(2, Oe) } function ie(Nt) { _e = Nt, t(3, _e) } function $e(Nt) { wt[Nt ? "unshift" : "push"](() => { Ze = Nt, t(5, Ze) }) } function kt(Nt) { Bt.call(this, n, Nt) } const on = () => { t(9, Pe = !0) }; function Dn(Nt) { wt[Nt ? "unshift" : "push"](() => { Se = Nt, t(4, Se) }) } function qn(Nt) { Bt.call(this, n, Nt) } const gn = () => { t(9, Pe = !1) }; return n.$$set = Nt => { "contextualMenuConfig" in Nt && t(30, ge = Nt.contextualMenuConfig), "modalTriggerElement" in Nt && t(0, Ce = Nt.modalTriggerElement), "disableSlide" in Nt && t(1, he = Nt.disableSlide) }, n.$$.update = () => { n.$$.dirty[1] & 65537 && t(21, i = !(t(31, F = C.nowPlayingItem) === null || F === void 0) && F.item ? Oc(C.nowPlayingItem.item, C.nowPlayingItemInfo) : null), n.$$.dirty[1] & 524290 && t(45, r = bi(t(32, N = R == null ? void 0 : R.user) === null || N === void 0 ? void 0 : N.subscriberType)), n.$$.dirty[1] & 83068 && t(7, s = r && (t(34, B = t(33, O = Ae == null ? void 0 : Ae.attributes) === null || O === void 0 ? void 0 : O.hasLyrics) !== null && B !== void 0 ? B : t(37, W = t(36, K = t(35, U = C.nowPlayingItem) === null || U === void 0 ? void 0 : U.item) === null || K === void 0 ? void 0 : K.attributes) === null || W === void 0 ? void 0 : W.hasLyrics)), n.$$.dirty[0] & 256 && t(20, o = S.t("ASE.Web.Music.View.Full.Lyrics")), n.$$.dirty[1] & 65920 && t(19, a = t(39, Q = t(38, Z = C.nowPlayingItem) === null || Z === void 0 ? void 0 : Z.item) === null || Q === void 0 ? void 0 : Q.isLiveRadioStation), n.$$.dirty[1] & 66048 && t(18, l = t(40, G = C.nowPlayingItemInfo) === null || G === void 0 ? void 0 : G.isLibrary), n.$$.dirty[1] & 262144 && t(6, u = M === "landscape"), n.$$.dirty[1] & 131072 && t(43, c = P.nowPlayingView), n.$$.dirty[0] & 64 | n.$$.dirty[1] & 4096 && t(17, d = !u && c === Ri.Queue), n.$$.dirty[0] & 192 | n.$$.dirty[1] & 4096 && t(16, f = !u && s && c === Ri.Lyrics), n.$$.dirty[0] & 192 | n.$$.dirty[1] & 4096 && t(15, g = u || c === Ri.Artwork || !s && c === Ri.Lyrics), n.$$.dirty[0] & 64 | n.$$.dirty[1] & 4096 && t(14, h = u || c === Ri.Pivots), n.$$.dirty[1] & 65536 && t(44, m = C.derivedStates.isPaused), n.$$.dirty[1] & 8192 && (v = m ? Wi() : xi()), n.$$.dirty[0] & 256 | n.$$.dirty[1] & 8192 && t(13, b = m ? S.t("ASE.Web.Music.Play") : S.t("ASE.Web.Music.Pause")), n.$$.dirty[0] & 1073741824 | n.$$.dirty[1] & 2048 && t(12, y = Object.assign(Object.assign({}, ge), { parentElement: ze })), n.$$.dirty[0] & 60 | n.$$.dirty[1] & 32768, n.$$.dirty[0] & 60 | n.$$.dirty[1] & 4096 }, [Ce, he, Oe, _e, Se, Ze, u, s, S, Pe, Re, De, y, b, h, g, f, d, l, a, o, i, ae, ee, pe, Te, xe, Fe, Be, lt, ge, F, N, O, B, U, K, W, Z, Q, G, Ae, ze, c, m, r, k, C, P, M, R, _t, et, ie, $e, kt, on, Dn, qn, gn] } class USe extends oe { constructor(e) { super(), se(this, e, BSe, FSe, ye, { contextualMenuConfig: 30, modalTriggerElement: 0, disableSlide: 1 }, null, [-1, -1, -1]) } } function Ca(n) { queueMicrotask(() => n.focus()) } const { document: HSe } = RP; function eD(n) { let e, t, i, r, s, o, a; const l = n[13].default, u = We(l, n, n[12], null); return { c() { e = L("div"), t = L("div"), i = Y(), r = L("div"), u && u.c(), this.h() }, l(c) { e = T(c, "DIV", { "data-testid": !0, class: !0 }); var d = E(e); t = T(d, "DIV", { class: !0, "data-testid": !0 }), E(t).forEach(_), i = X(d), r = T(d, "DIV", { "data-testid": !0, id: !0, class: !0, role: !0, tabindex: !0, "aria-modal": !0, "aria-labelledby": !0, "aria-label": !0 }); var f = E(r); u && u.l(f), f.forEach(_), d.forEach(_), this.h() }, h() { p(t, "class", "backdrop svelte-z646mu"), p(t, "data-testid", "modal-backdrop"), p(r, "data-testid", "modal-content-wrapper"), p(r, "id", "modal-content-wrapper"), p(r, "class", "content-wrapper svelte-z646mu"), p(r, "role", "dialog"), p(r, "tabindex", "0"), p(r, "aria-modal", n[1]), p(r, "aria-labelledby", n[2]), p(r, "aria-label", n[3]), p(e, "data-testid", "modal"), p(e, "class", "modal svelte-z646mu") }, m(c, d) { I(c, e, d), A(e, t), A(e, i), A(e, r), u && u.m(r, null), n[14](r), n[15](e), s = !0, o || (a = Me(t, "click", n[7]), o = !0) }, p(c, d) { u && u.p && (!s || d & 4096) && Je(u, l, c, c[12], s ? Ke(l, c[12], d, null) : Ye(c[12]), null), (!s || d & 2) && p(r, "aria-modal", c[1]), (!s || d & 4) && p(r, "aria-labelledby", c[2]), (!s || d & 8) && p(r, "aria-label", c[3]) }, i(c) { s || (w(u, c), s = !0) }, o(c) { D(u, c), s = !1 }, d(c) { c && _(e), u && u.d(c), n[14](null), n[15](null), o = !1, a() } } } function $Se(n) { let e, t, i, r, s, o = n[0] && eD(n); return { c() { e = Y(), o && o.c(), t = re() }, l(a) { e = X(a), o && o.l(a), t = re() }, m(a, l) { I(a, e, l), o && o.m(a, l), I(a, t, l), i = !0, r || (s = Me(HSe.body, "keyup", n[6]), r = !0) }, p(a, [l]) { a[0] ? o ? (o.p(a, l), l & 1 && w(o, 1)) : (o = eD(a), o.c(), w(o, 1), o.m(t.parentNode, t)) : o && (te(), D(o, 1, 1, () => { o = null }), ne()) }, i(a) { i || (w(o), i = !0) }, o(a) { D(o), i = !1 }, d(a) { a && (_(e), _(t)), o && o.d(a), r = !1, s() } } } function VSe(n, e, t) { let { $$slots: i = {}, $$scope: r } = e, { openModal: s } = e, { modalTriggerElement: o } = e, { useAriaModal: a = !0 } = e, { focusOnMount: l = !0 } = e, { closeOnClickOutside: u = !0 } = e; const c = It(); let d, f, g; const h = () => { t(0, s = !1), document.body.classList.remove("modal-is-visible"), o == null || o.focus(), c("close") }; let { ariaLabelledBy: m = null } = e, { ariaLabel: v = null } = e; function b(C) { C.key === "Escape" && h() } function y() { u && h() } Yt(() => { d = document.createElement("div"), d.className = "portal", document.body.appendChild(d), d.appendChild(f), l && Ca(g) }), mn(() => { typeof document < "u" && document.body.removeChild(d) }); function k(C) { wt[C ? "unshift" : "push"](() => { g = C, t(5, g) }) } function S(C) { wt[C ? "unshift" : "push"](() => { f = C, t(4, f) }) } return n.$$set = C => { "openModal" in C && t(0, s = C.openModal), "modalTriggerElement" in C && t(8, o = C.modalTriggerElement), "useAriaModal" in C && t(1, a = C.useAriaModal), "focusOnMount" in C && t(9, l = C.focusOnMount), "closeOnClickOutside" in C && t(10, u = C.closeOnClickOutside), "ariaLabelledBy" in C && t(2, m = C.ariaLabelledBy), "ariaLabel" in C && t(3, v = C.ariaLabel), "$$scope" in C && t(12, r = C.$$scope) }, [s, a, m, v, f, g, b, y, o, l, u, h, r, i, k, S] } class zSe extends oe { constructor(e) { super(), se(this, e, VSe, $Se, ye, { openModal: 0, modalTriggerElement: 8, useAriaModal: 1, focusOnMount: 9, closeOnClickOutside: 10, handleModalClose: 11, ariaLabelledBy: 2, ariaLabel: 3 }) } get handleModalClose() { return this.$$.ctx[11] } } const qSe = Tt(!1), WSe = Tt(!1), gl = Tt(!1); let su = null; const KSe = () => ca(!0, () => { }), JSe = () => ca(!0, n => { const e = () => n(!document.hidden), t = () => n(!1), i = () => n(!0); return document.addEventListener("visibilitychange", e, !1), window.addEventListener("blur", t), window.addEventListener("focus", i), e(), function () { document.removeEventListener("visibilitychange", e, !1), window.removeEventListener("blur", t), window.removeEventListener("focus", i) } }), OB = () => (typeof window > "u" && su === null ? su = KSe() : typeof window < "u" && su === null && (su = JSe()), su), YSe = n => ({ player: n & 8, user: n & 2, scrollIsLocked: n & 16, isFooterHidden: n & 32, isLibraryPage: n & 64, isOpenDrawer: n & 128, isWindowInFocus: n & 4, didRefocus: n & 1, needsGDPR: n & 256 }), tD = n => ({ player: n[3], user: n[1], scrollIsLocked: n[4], isFooterHidden: n[5], isLibraryPage: n[6], isOpenDrawer: !!n[7], isWindowInFocus: n[2], didRefocus: n[0], needsGDPR: n[8] }); function XSe(n) { let e; const t = n[14].default, i = We(t, n, n[13], tD); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, [s]) { i && i.p && (!e || s & 8703) && Je(i, t, r, r[13], e ? Ke(t, r[13], s, YSe) : Ye(r[13]), tD) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function ZSe(n, e, t) { let i, r, s, o, a, l, u, c, d; ce(n, qSe, S => t(4, a = S)), ce(n, WSe, S => t(5, l = S)), ce(n, gl, S => t(6, u = S)), ce(n, Md, S => t(7, c = S)), ce(n, Zo, S => t(8, d = S)); let { $$slots: f = {}, $$scope: g } = e; const { state: h } = xt(); ce(n, h, S => t(12, s = S)); const { state: m } = zn(); ce(n, m, S => t(3, o = S)); let v = OB(); ce(n, v, S => t(2, r = S)); let b = !1, y = !1; const k = Bi(() => { t(0, y = !1) }, 600); return $P(() => { r && b ? (t(0, y = !0), k(), b = !1) : r || (b = !0) }), n.$$set = S => { "$$scope" in S && t(13, g = S.$$scope) }, n.$$.update = () => { n.$$.dirty & 4096 && t(1, i = { isSignedIn: s.user !== null }) }, [y, i, r, o, a, l, u, c, d, h, m, v, s, g, f] } class uh extends oe { constructor(e) { super(), se(this, e, ZSe, XSe, ye, {}) } } const nD = 4; function iD(n, e, t) { const i = n.slice(); return i[6] = e[t], i } function rD(n) { let e, t; return e = new Gt({ props: { artwork: null, profile: n[0], fallbackKind: n[2], alt: n[1], forceCropCode: !0 } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.profile = i[0]), r & 4 && (s.fallbackKind = i[2]), r & 2 && (s.alt = i[1]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function sD(n) { let e, t; return e = new Gt({ props: { artwork: n[6], profile: n[0], fallbackKind: n[2], alt: n[1], forceCropCode: !0 } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 16 && (s.artwork = i[6]), r & 1 && (s.profile = i[0]), r & 4 && (s.fallbackKind = i[2]), r & 2 && (s.alt = i[1]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function QSe(n) { let e, t, i = ut(n[4]), r = []; for (let a = 0; a < i.length; a += 1)r[a] = sD(iD(n, i, a)); const s = a => D(r[a], 1, 1, () => { r[a] = null }); let o = null; return i.length || (o = rD(n)), { c() { e = L("div"); for (let a = 0; a < r.length; a += 1)r[a].c(); o && o.c(), this.h() }, l(a) { e = T(a, "DIV", { class: !0, "data-testid": !0 }); var l = E(e); for (let u = 0; u < r.length; u += 1)r[u].l(l); o && o.l(l), l.forEach(_), this.h() }, h() { p(e, "class", "collage-artwork svelte-8qnhe3"), p(e, "data-testid", "collage-artwork"), J(e, "is-collage", n[3]) }, m(a, l) { I(a, e, l); for (let u = 0; u < r.length; u += 1)r[u] && r[u].m(e, null); o && o.m(e, null), t = !0 }, p(a, [l]) { if (l & 23) { i = ut(a[4]); let u; for (u = 0; u < i.length; u += 1) { const c = iD(a, i, u); r[u] ? (r[u].p(c, l), w(r[u], 1)) : (r[u] = sD(c), r[u].c(), w(r[u], 1), r[u].m(e, null)) } for (te(), u = i.length; u < r.length; u += 1)s(u); ne(), !i.length && o ? o.p(a, l) : i.length ? o && (te(), D(o, 1, 1, () => { o = null }), ne()) : (o = rD(a), o.c(), w(o, 1), o.m(e, null)) } (!t || l & 8) && J(e, "is-collage", a[3]) }, i(a) { if (!t) { for (let l = 0; l < i.length; l += 1)w(r[l]); t = !0 } }, o(a) { r = r.filter(Boolean); for (let l = 0; l < r.length; l += 1)D(r[l]); t = !1 }, d(a) { a && _(e), ln(r, a), o && o.d() } } } function jSe(n, e, t) { let i, r, { profile: s } = e, { alt: o } = e, { collageArtwork: a = [] } = e, { fallbackKind: l = null } = e; return n.$$set = u => { "profile" in u && t(0, s = u.profile), "alt" in u && t(1, o = u.alt), "collageArtwork" in u && t(5, a = u.collageArtwork), "fallbackKind" in u && t(2, l = u.fallbackKind) }, n.$$.update = () => { n.$$.dirty & 32 && t(3, i = a.length >= nD), n.$$.dirty & 40 && t(4, r = a.slice(0, i ? nD : 1)) }, [s, o, l, i, r, a] } class Q_ extends oe { constructor(e) { super(), se(this, e, jSe, QSe, ye, { profile: 0, alt: 1, collageArtwork: 5, fallbackKind: 2 }) } } function GSe(n) { let e, t, i, r, s; return { c() { e = L("amp-ambient-video"), this.h() }, l(o) { e = T(o, "AMP-AMBIENT-VIDEO", { class: !0, src: !0, playing: !0, "data-playing": !0, "data-testid": !0, "aria-hidden": !0 }), E(e).forEach(_), this.h() }, h() { Xe(e, "class", "editorial-video svelte-k5wvu3"), ji(e.src, t = n[0]) || Xe(e, "src", t), Xe(e, "playing", n[3]), Xe(e, "data-playing", n[3]), Xe(e, "data-testid", "ambient-video-player"), Xe(e, "aria-hidden", "true"), J(e, "editorial-video--cover", n[2]) }, m(o, a) { I(o, e, a), r || (s = Ut(i = rh.call(null, e, { callback: n[5], threshold: n[1] })), r = !0) }, p(o, [a]) { a & 1 && !ji(e.src, t = o[0]) && Xe(e, "src", t), a & 8 && Xe(e, "playing", o[3]), a & 8 && Xe(e, "data-playing", o[3]), i && Ft(i.update) && a & 2 && i.update.call(null, { callback: o[5], threshold: o[1] }), a & 4 && J(e, "editorial-video--cover", o[2]) }, i: j, o: j, d(o) { o && _(e), r = !1, s() } } } function xSe(n, e, t) { let i, r, s, o, a; ce(n, Mu, b => t(12, a = b)); const l = qO(); let { forceAnimation: u = !1 } = e, { videoSrc: c } = e, { viewportThreshold: d = null } = e, { videoCover: f = !1 } = e, { isPaused: g = !1 } = e, h = !1, m = OB(); ce(n, m, b => t(11, o = b)); const v = b => { t(8, h = b) }; return n.$$set = b => { "forceAnimation" in b && t(6, u = b.forceAnimation), "videoSrc" in b && t(0, c = b.videoSrc), "viewportThreshold" in b && t(1, d = b.viewportThreshold), "videoCover" in b && t(2, f = b.videoCover), "isPaused" in b && t(7, g = b.isPaused) }, n.$$.update = () => { n.$$.dirty & 4096 && t(10, i = Mu ? a : !1), n.$$.dirty & 2048 && t(9, r = m ? o : !1), n.$$.dirty & 1985 && t(3, s = u || !!c && !i && r && h && !g), n.$$.dirty & 1 && (l == null || l.trackUrl(c)) }, [c, d, f, s, m, v, u, g, h, r, i, o, a] } class e5e extends oe { constructor(e) { super(), se(this, e, xSe, GSe, ye, { forceAnimation: 6, videoSrc: 0, viewportThreshold: 1, videoCover: 2, isPaused: 7 }) } } function t5e(n) { let e, t; return e = new Q_({ props: { collageArtwork: n[3], profile: n[7], alt: n[1] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 8 && (s.collageArtwork = i[3]), r & 128 && (s.profile = i[7]), r & 2 && (s.alt = i[1]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function n5e(n) { let e, t; return e = new Gt({ props: { artwork: n[2], profile: n[7], useContainerStyle: n[12], disableAutoCenter: n[4], forceCropCode: n[11], alt: n[1], fallbackKind: n[5], forceFullWidth: !1 } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 4 && (s.artwork = i[2]), r & 128 && (s.profile = i[7]), r & 4096 && (s.useContainerStyle = i[12]), r & 16 && (s.disableAutoCenter = i[4]), r & 2048 && (s.forceCropCode = i[11]), r & 2 && (s.alt = i[1]), r & 32 && (s.fallbackKind = i[5]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function i5e(n) { let e, t, i, r, s, o; t = new Gt({ props: { artwork: n[13], profile: n[7], useContainerStyle: n[12], disableAutoCenter: n[4], forceCropCode: n[11], alt: n[1], fallbackKind: n[5], forceFullWidth: !1 } }); const a = [s5e, r5e], l = []; function u(c, d) { return c[14] ? 0 : 1 } return r = u(n), s = l[r] = a[r](n), { c() { e = L("div"), V(t.$$.fragment), i = Y(), s.c(), this.h() }, l(c) { e = T(c, "DIV", { class: !0 }); var d = E(e); q(t.$$.fragment, d), i = X(d), s.l(d), d.forEach(_), this.h() }, h() { p(e, "class", "artwork-container svelte-r6ug84") }, m(c, d) { I(c, e, d), H(t, e, null), A(e, i), l[r].m(e, null), o = !0 }, p(c, d) { const f = {}; d & 8192 && (f.artwork = c[13]), d & 128 && (f.profile = c[7]), d & 4096 && (f.useContainerStyle = c[12]), d & 16 && (f.disableAutoCenter = c[4]), d & 2048 && (f.forceCropCode = c[11]), d & 2 && (f.alt = c[1]), d & 32 && (f.fallbackKind = c[5]), t.$set(f); let g = r; r = u(c), r === g ? l[r].p(c, d) : (te(), D(l[g], 1, 1, () => { l[g] = null }), ne(), s = l[r], s ? s.p(c, d) : (s = l[r] = a[r](c), s.c()), w(s, 1), s.m(e, null)) }, i(c) { o || (w(t.$$.fragment, c), w(s), o = !0) }, o(c) { D(t.$$.fragment, c), D(s), o = !1 }, d(c) { c && _(e), $(t), l[r].d() } } } function r5e(n) { let e = n[15].warn("missing Motion video source: ", n[0], n[8]) + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 257 && e !== (e = i[15].warn("missing Motion video source: ", i[0], i[8]) + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function s5e(n) { let e, t, i; return t = new e5e({ props: { videoSrc: n[14], forceAnimation: n[6], viewportThreshold: n[9], videoCover: n[10] } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { "data-testid": !0, class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "data-testid", "video-artwork"), p(e, "class", "video-artwork__container svelte-r6ug84") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 16384 && (o.videoSrc = r[14]), s & 64 && (o.forceAnimation = r[6]), s & 512 && (o.viewportThreshold = r[9]), s & 1024 && (o.videoCover = r[10]), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function o5e(n) { let e, t, i, r; const s = [i5e, n5e, t5e], o = []; function a(l, u) { return l[8] ? 0 : l[2] || !l[3] ? 1 : l[3] ? 2 : -1 } return ~(e = a(n)) && (t = o[e] = s[e](n)), { c() { t && t.c(), i = re() }, l(l) { t && t.l(l), i = re() }, m(l, u) { ~e && o[e].m(l, u), I(l, i, u), r = !0 }, p(l, [u]) { let c = e; e = a(l), e === c ? ~e && o[e].p(l, u) : (t && (te(), D(o[c], 1, 1, () => { o[c] = null }), ne()), ~e ? (t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) : t = null) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), ~e && o[e].d(l) } } } const a5e = 729, l5e = 674, oD = { defaultMapping: ["motionSquareVideo1x1", "motionTallVideo3x4", "motionMediumVideo16x9"], artistDetailHeaderLockup: ["motionArtistWide16x9", "motionArtistFullscreen16x9"], superHeroLockup: ["motionWideVideo21x9", "motionMediumVideo16x9"], containerDetailHeaderLockup: ["motionDetailSquare"] }; function u5e(n, e, t) { if (!e) return; let i = oD[n] || oD.defaultMapping; t === "xsmall" && (n === "superHeroLockup" && window.innerWidth < a5e && (i = ["motionTallVideo3x4", "motionMediumVideo16x9"]), n === "artistDetailHeaderLockup" && window.innerWidth < l5e && (i = ["motionArtistFullscreen16x9", "motionArtistWide16x9"])); const r = i.find(s => e[s]); return e[r] } function c5e(n, e, t) { let i, r, s; ce(n, _l, C => t(17, s = C)); let { alt: o = "" } = e, { artwork: a } = e, { collageArtwork: l = null } = e, { disableAutoCenter: u = !1 } = e, { fallbackKind: c = null } = e, { forceAnimation: d = !1 } = e, { profile: f } = e, { itemKind: g } = e, { videoArtwork: h } = e, { viewportThreshold: m = null } = e, { videoCover: v = !1 } = e, { videoAsset: b = null } = e, { forceCropCode: y = !1 } = e, { useContainerStyle: k = !1 } = e; const S = kn("<MotionVideo>"); return n.$$set = C => { "alt" in C && t(1, o = C.alt), "artwork" in C && t(2, a = C.artwork), "collageArtwork" in C && t(3, l = C.collageArtwork), "disableAutoCenter" in C && t(4, u = C.disableAutoCenter), "fallbackKind" in C && t(5, c = C.fallbackKind), "forceAnimation" in C && t(6, d = C.forceAnimation), "profile" in C && t(7, f = C.profile), "itemKind" in C && t(16, g = C.itemKind), "videoArtwork" in C && t(8, h = C.videoArtwork), "viewportThreshold" in C && t(9, m = C.viewportThreshold), "videoCover" in C && t(10, v = C.videoCover), "videoAsset" in C && t(0, b = C.videoAsset), "forceCropCode" in C && t(11, y = C.forceCropCode), "useContainerStyle" in C && t(12, k = C.useContainerStyle) }, n.$$.update = () => { n.$$.dirty & 196864 && t(0, b = u5e(g, h == null ? void 0 : h.dictionary, s)), n.$$.dirty & 1 && t(14, i = b == null ? void 0 : b.video), n.$$.dirty & 5 && t(13, r = b ? { dictionary: b.previewFrame } : a), n.$$.dirty & 65804 && !h && !l && !a && S.warn("missing a valid artwork or video source for: ", g) }, [b, o, a, l, u, c, d, f, h, m, v, y, k, r, i, S, g, s] } class Hl extends oe { constructor(e) { super(), se(this, e, c5e, o5e, ye, { alt: 1, artwork: 2, collageArtwork: 3, disableAutoCenter: 4, fallbackKind: 5, forceAnimation: 6, profile: 7, itemKind: 16, videoArtwork: 8, viewportThreshold: 9, videoCover: 10, videoAsset: 0, forceCropCode: 11, useContainerStyle: 12 }) } } const aD = !1, d5e = ca(aD, n => { if (typeof window > "u" || typeof matchMedia > "u") { n(aD); return } const e = matchMedia("(prefers-contrast: more)"), t = () => { n(e.matches) }; return e.addListener(t), n(e.matches), function () { e.removeListener(t) } }); function f5e(n) { let e, t, i; function r(o) { n[13](o) } let s = { reactions: n[3] }; return n[2] !== void 0 && (s.filterId = n[2]), e = new jN({ props: s }), wt.push(() => Xr(e, "filterId", r)), e.$on("clearReactionFilter", n[6]), { c() { V(e.$$.fragment) }, l(o) { q(e.$$.fragment, o) }, m(o, a) { H(e, o, a), i = !0 }, p(o, a) { const l = {}; a & 8 && (l.reactions = o[3]), !t && a & 4 && (t = !0, l.filterId = o[2], Yr(() => t = !1)), e.$set(l) }, i(o) { i || (w(e.$$.fragment, o), i = !0) }, o(o) { D(e.$$.fragment, o), i = !1 }, d(o) { $(e, o) } } } function g5e(n) { let e, t; return e = new GN({ props: { reactions: n[3], usesBadgeStack: n[1], slot: "trigger" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 8 && (s.reactions = i[3]), r & 2 && (s.usesBadgeStack = i[1]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function h5e(n) { let e, t, i, r, s; return t = new rr({ props: { "aria-hidden": "true" } }), { c() { e = L("button"), V(t.$$.fragment), this.h() }, l(o) { e = T(o, "BUTTON", { class: !0, "data-testid": !0, slot: !0 }); var a = E(e); q(t.$$.fragment, a), a.forEach(_), this.h() }, h() { p(e, "class", "close-button svelte-1n57n89"), p(e, "data-testid", "close-button"), p(e, "slot", "close-trigger"), e.autofocus = !0 }, m(o, a) { I(o, e, a), H(t, e, null), i = !0, e.focus(), r || (s = Me(e, "click", n[7]), r = !0) }, p: j, i(o) { i || (w(t.$$.fragment, o), i = !0) }, o(o) { D(t.$$.fragment, o), i = !1 }, d(o) { o && _(e), $(t), r = !1, s() } } } function m5e(n) { let e, t; return e = new DN({ props: { class: "reactions-popover-wrapper", popoverAttribute: "auto", positionRelativeToTrigger: !0, actAsModal: !0, popoverPosition: n[0], title: n[4].t("ASE.Web.Music.Reactions.SongReactions"), $$slots: { "close-trigger": [h5e], trigger: [g5e], content: [f5e] }, $$scope: { ctx: n } } }), e.$on("close", n[9]), e.$on("open", n[8]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 1 && (s.popoverPosition = i[0]), r & 16 && (s.title = i[4].t("ASE.Web.Music.Reactions.SongReactions")), r & 65550 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function p5e(n, e, t) { let i, r, s; ce(n, Nl, k => t(12, r = k)); let { trackId: o } = e, { popoverPosition: a = $r.Left } = e, { usesBadgeStack: l = !1 } = e, { appendPopoverToBody: u = !1 } = e; const c = ot(); ce(n, c, k => t(4, s = k)); let d, f, g; function h() { t(2, d = null) } function m(k) { k.target.dispatchEvent(new ToggleEvent("toggle", { bubbles: !0, newState: "open", oldState: "open" })), h() } function v() { g = document.createElement("div"), g.className = "portal", f = document.createElement("div"), f.className = "reactions-popover-scrim", u && (document.body.appendChild(g), g.appendChild(f)) } function b() { h(); try { document.body.removeChild(g) } catch (k) { } } function y(k) { d = k, t(2, d) } return n.$$set = k => { "trackId" in k && t(10, o = k.trackId), "popoverPosition" in k && t(0, a = k.popoverPosition), "usesBadgeStack" in k && t(1, l = k.usesBadgeStack), "appendPopoverToBody" in k && t(11, u = k.appendPopoverToBody) }, n.$$.update = () => { n.$$.dirty & 5120 && t(3, i = r == null ? void 0 : r.get(o)) }, [a, l, d, i, s, c, h, m, v, b, o, u, r, y] } class _5e extends oe { constructor(e) { super(), se(this, e, p5e, m5e, ye, { trackId: 10, popoverPosition: 0, usesBadgeStack: 1, appendPopoverToBody: 11 }) } } function lD(n) { var l; let e, t, i, r, s, o, a = ((l = n[4]) == null ? void 0 : l.length) && uD(n); return i = new Ol({ props: { isFavorited: n[3], platter: !0, iconWeight: "bold" } }), i.$on("toggle", n[13]), s = new Ro({ props: { config: n[5], translateFn: n[8].t, hasMaterial: !1 } }), s.$on("contextMenuVisibilityChange", n[25]), { c() { e = L("div"), a && a.c(), t = Y(), V(i.$$.fragment), r = Y(), V(s.$$.fragment), this.h() }, l(u) { e = T(u, "DIV", { class: !0 }); var c = E(e); a && a.l(c), t = X(c), q(i.$$.fragment, c), r = X(c), q(s.$$.fragment, c), c.forEach(_), this.h() }, h() { p(e, "class", "accessory-buttons svelte-1lx2rw3") }, m(u, c) { I(u, e, c), a && a.m(e, null), A(e, t), H(i, e, null), A(e, r), H(s, e, null), o = !0 }, p(u, c) { var g; (g = u[4]) != null && g.length ? a ? (a.p(u, c), c & 16 && w(a, 1)) : (a = uD(u), a.c(), w(a, 1), a.m(e, t)) : a && (te(), D(a, 1, 1, () => { a = null }), ne()); const d = {}; c & 8 && (d.isFavorited = u[3]), i.$set(d); const f = {}; c & 32 && (f.config = u[5]), c & 256 && (f.translateFn = u[8].t), s.$set(f) }, i(u) { o || (w(a), w(i.$$.fragment, u), w(s.$$.fragment, u), o = !0) }, o(u) { D(a), D(i.$$.fragment, u), D(s.$$.fragment, u), o = !1 }, d(u) { u && _(e), a && a.d(), $(i), $(s) } } } function uD(n) { let e, t; return e = new _5e({ props: { trackId: n[1], popoverPosition: $r.Top, usesBadgeStack: !0 } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.trackId = i[1]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function v5e(n) { let e, t, i, r, s, o, a = n[2] && !n[7] && lD(n); return { c() { e = L("div"), t = L("amp-lcd-metadata"), i = Y(), a && a.c(), this.h() }, l(l) { e = T(l, "DIV", { class: !0 }); var u = E(e); t = T(u, "AMP-LCD-METADATA", { "eager-load-metadata": !0, class: !0 }), E(t).forEach(_), i = X(u), a && a.l(u), u.forEach(_), this.h() }, h() { Xe(t, "eager-load-metadata", ""), Xe(t, "class", "svelte-1lx2rw3"), p(e, "class", "metadata svelte-1lx2rw3") }, m(l, u) { I(l, e, u), A(e, t), A(e, i), a && a.m(e, null), n[26](e), r = !0, s || (o = [Me(t, "lcdMetadataFetched", n[24]), Ut(xg.call(null, e, n[11])), Me(e, "mkNavigate", n[23])], s = !0) }, p(l, [u]) { l[2] && !l[7] ? a ? (a.p(l, u), u & 132 && w(a, 1)) : (a = lD(l), a.c(), w(a, 1), a.m(e, null)) : a && (te(), D(a, 1, 1, () => { a = null }), ne()) }, i(l) { r || (w(a), r = !0) }, o(l) { D(a), r = !1 }, d(l) { l && _(e), a && a.d(), n[26](null), s = !1, Ot(o) } } } function b5e(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v = j, b = () => (v(), v = yn(l, ae => t(21, m = ae)), l), y, k; ce(n, al, ae => t(27, g = ae)), ce(n, Nl, ae => t(20, h = ae)), n.$$.on_destroy.push(() => v()); var S, C; const P = ot(); ce(n, P, ae => t(8, k = ae)); const { queue: M } = zn(); ce(n, M, ae => t(22, y = ae)); const R = Qn(), F = fn(), N = sn(), O = It(); let { contextualMenuConfig: B } = e, U; const K = () => { Ml(o, a, s, c, R, g, !0, N) }; function W(ae) { Bt.call(this, n, ae) } function Z(ae) { Bt.call(this, n, ae) } const Q = ae => { ae && O("contextualMenuConfigUpdateRequested") }; function G(ae) { wt[ae ? "unshift" : "push"](() => { U = ae, t(0, U) }) } return n.$$set = ae => { "contextualMenuConfig" in ae && t(14, B = ae.contextualMenuConfig) }, n.$$.update = () => { n.$$.dirty & 4227072 && t(2, i = !(t(15, S = y.nowPlayingItem) === null || S === void 0) && S.item ? Oc(y.nowPlayingItem.item, y.nowPlayingItemInfo) : null), n.$$.dirty & 65540 && t(7, r = (t(16, C = i == null ? void 0 : i.contentDescriptor) === null || C === void 0 ? void 0 : C.kind) === x.RadioStation && !Qt(i)), n.$$.dirty & 4 && t(17, s = i == null ? void 0 : i.contentDescriptor), n.$$.dirty & 131072 && t(1, o = s && fr({ contentDescriptor: s })), n.$$.dirty & 131072 && t(18, a = s == null ? void 0 : s.kind), n.$$.dirty & 2 && b(t(6, l = R.subscribeToUpdates(o))), n.$$.dirty & 2359298 && t(19, u = m && R.get(o, a)), n.$$.dirty & 524288 && t(3, c = u == null ? void 0 : u.inFavorites), n.$$.dirty & 16385 && t(5, d = Object.assign(Object.assign({}, B), { parentElement: U })), n.$$.dirty & 1048582 && t(4, f = (i == null ? void 0 : i.hasCollaboration) && (h == null ? void 0 : h.get(o))) }, [U, o, i, c, f, d, l, r, k, P, M, F, O, K, B, S, C, s, a, u, h, m, y, W, Z, Q, G] } class y5e extends oe { constructor(e) { super(), se(this, e, b5e, v5e, ye, { contextualMenuConfig: 14 }) } } function cD(n) { let e, t, i; return e = new U_({ props: { artworkURL: n[15] } }), { c() { t = L("div"), V(e.$$.fragment), this.h() }, l(r) { t = T(r, "DIV", { style: !0 }); var s = E(t); q(e.$$.fragment, s), this.h() }, h() { Pt(t, "display", "contents"), Pt(t, "--lyrics-border-radius", "0") }, m(r, s) { I(r, t, s), H(e, t, null), i = !0 }, p(r, s) { const o = {}; s[0] & 32768 && (o.artworkURL = r[15]), e.$set(o) }, i(r) { i || (w(e.$$.fragment, r), i = !0) }, o(r) { D(e.$$.fragment, r), i = !1 }, d(r) { r && e && _(t), $(e, r) } } } function dD(n) { let e, t, i, r, s, o, a, l, u, c, d, f = '<amp-playback-controls-progress data-theme="video" class="svelte-fix90v"></amp-playback-controls-progress>', g, h, m, v, b; r = new Gt({ props: { artwork: n[5], useContainerStyle: !1, profile: "track-list", alt: "" } }); let y = { ctx: n, current: null, token: null, hasCatch: !0, pending: D5e, then: k5e, catch: w5e, value: 23, blocks: [, , ,] }; return uo(a = n[23], y), u = new y5e({ props: { contextualMenuConfig: n[2] } }), u.$on("lcdMetadataFetched", n[30]), u.$on("contextualMenuConfigUpdateRequested", n[48]), u.$on("mkNavigate", n[29]), { c() { e = L("div"), t = L("div"), i = L("div"), V(r.$$.fragment), s = Y(), o = L("div"), y.block.c(), l = Y(), V(u.$$.fragment), c = Y(), d = L("div"), d.innerHTML = f, g = Y(), h = L("apple-music-playback-controls"), m = Y(), v = L("amp-chrome-volume"), this.h() }, l(k) { e = T(k, "DIV", { class: !0, "data-testid": !0 }); var S = E(e); t = T(S, "DIV", { class: !0 }); var C = E(t); i = T(C, "DIV", { class: !0 }); var P = E(i); q(r.$$.fragment, P), P.forEach(_), C.forEach(_), s = X(S), o = T(S, "DIV", { class: !0 }); var M = E(o); y.block.l(M), M.forEach(_), l = X(S), q(u.$$.fragment, S), c = X(S), d = T(S, "DIV", { class: !0, ["data-svelte-h"]: !0 }), Wr(d) !== "svelte-110fyht" && (d.innerHTML = f), g = X(S), h = T(S, "APPLE-MUSIC-PLAYBACK-CONTROLS", { theme: !0, class: !0 }), E(h).forEach(_), m = X(S), v = T(S, "AMP-CHROME-VOLUME", { class: !0 }), E(v).forEach(_), S.forEach(_), this.h() }, h() { p(i, "class", "lyrics__artwork-radiosity svelte-fix90v"), p(t, "class", "lyrics__artwork-radiosity-container svelte-fix90v"), p(o, "class", "lyrics__artwork-container svelte-fix90v"), p(d, "class", "lyrics__playback-controls svelte-fix90v"), Xe(h, "theme", "dark"), Xe(h, "class", "svelte-fix90v"), Xe(v, "class", "svelte-fix90v"), p(e, "class", "lyrics__controls svelte-fix90v"), p(e, "data-testid", "lyrics-controls") }, m(k, S) { I(k, e, S), A(e, t), A(t, i), H(r, i, null), A(e, s), A(e, o), y.block.m(o, y.anchor = null), y.mount = () => o, y.anchor = null, A(e, l), H(u, e, null), A(e, c), A(e, d), A(e, g), A(e, h), A(e, m), A(e, v), b = !0 }, p(k, S) { n = k; const C = {}; S[0] & 32 && (C.artwork = n[5]), r.$set(C), y.ctx = n, S[0] & 8388608 && a !== (a = n[23]) && uo(a, y) || Gu(y, n, S); const P = {}; S[0] & 4 && (P.contextualMenuConfig = n[2]), u.$set(P) }, i(k) { b || (w(r.$$.fragment, k), w(y.block), w(u.$$.fragment, k), b = !0) }, o(k) { D(r.$$.fragment, k); for (let S = 0; S < 3; S += 1) { const C = y.blocks[S]; D(C) } D(u.$$.fragment, k), b = !1 }, d(k) { k && _(e), $(r), y.block.d(), y.token = null, y = null, $(u) } } } function w5e(n) { let e, t; return e = new Gt({ props: { artwork: n[5], useContainerStyle: !1, disableAutoCenter: !0, profile: "lyrics-fullscreen", alt: "" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 32 && (s.artwork = i[5]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function k5e(n) { let e, t; return e = new Hl({ props: { artwork: n[5], videoArtwork: n[23], disableAutoCenter: !0, profile: "lyrics-fullscreen", forceCropCode: !0, itemKind: "containerDetailHeaderLockup", alt: "" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 32 && (s.artwork = i[5]), r[0] & 8388608 && (s.videoArtwork = i[23]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function D5e(n) { return { c: j, l: j, m: j, p: j, i: j, o: j, d: j } } function fD(n) { let e, t, i, r, s, o; return { c() { e = L("div"), t = L("amp-lyrics"), this.h() }, l(a) { e = T(a, "DIV", { class: !0, "data-testid": !0 }); var l = E(e); t = T(l, "AMP-LYRICS", { "offset-ratio": !0, "static-lyrics": !0, "show-translation": !0, "show-pronunciation": !0, "catalog-id": !0, "enable-translations": !0, class: !0 }), E(t).forEach(_), l.forEach(_), this.h() }, h() { var a, l; Xe(t, "offset-ratio", M5e), Xe(t, "static-lyrics", i = !!((a = n[10].nowPlayingItemInfo) != null && a.streamingItemId)), Xe(t, "show-translation", n[20]), Xe(t, "show-pronunciation", n[21]), Xe(t, "catalog-id", r = (l = n[10].nowPlayingItemInfo) == null ? void 0 : l.streamingItemId), Xe(t, "enable-translations", !0), Xe(t, "class", "svelte-fix90v"), p(e, "class", "lyrics__lyrics svelte-fix90v"), p(e, "data-testid", "lyrics-lyrics"), J(e, "is-lyrics-disabled", n[16]) }, m(a, l) { I(a, e, l), A(e, t), s || (o = Me(t, "lyricsReady", n[31]), s = !0) }, p(a, l) { var u, c; l[0] & 1024 && i !== (i = !!((u = a[10].nowPlayingItemInfo) != null && u.streamingItemId)) && Xe(t, "static-lyrics", i), l[0] & 1048576 && Xe(t, "show-translation", a[20]), l[0] & 2097152 && Xe(t, "show-pronunciation", a[21]), l[0] & 1024 && r !== (r = (c = a[10].nowPlayingItemInfo) == null ? void 0 : c.streamingItemId) && Xe(t, "catalog-id", r), l[0] & 65536 && J(e, "is-lyrics-disabled", a[16]) }, d(a) { a && _(e), s = !1, o() } } } function gD(n) { let e, t, i; return t = new nB({}), t.$on("click", n[49]), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "now-playing-shareplay-button svelte-fix90v") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p: j, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function hD(n) { let e, t, i, r, s = !1, o, a, l; t = new V_({ props: { key: "lyrics-translation-menu-bubble", autoOpen: n[3] || n[4], dismissMemory: !0, translateFn: n[9].t, class: "desktop-lyrics-bubble-tip", $$slots: { body: [P5e], title: [C5e], default: [S5e, ({ target: c }) => ({ 57: c }), ({ target: c }) => [0, c ? 67108864 : 0]] }, $$scope: { ctx: n } } }); let u = s; return a = new tB({ props: { isSelected: n[6], disabled: n[16] } }), a.$on("click", n[50]), { c() { e = L("div"), V(t.$$.fragment), i = Y(), r = L("div"), o = Y(), V(a.$$.fragment), this.h() }, l(c) { e = T(c, "DIV", { class: !0 }); var d = E(e); q(t.$$.fragment, d), d.forEach(_), i = X(c), r = T(c, "DIV", { class: !0 }); var f = E(r); o = X(f), q(a.$$.fragment, f), f.forEach(_), this.h() }, h() { p(e, "class", "lyrics-translation-menu svelte-fix90v"), p(r, "class", "now-playing-toggle svelte-fix90v") }, m(c, d) { I(c, e, d), H(t, e, null), I(c, i, d), I(c, r, d), A(r, o), H(a, r, null), l = !0 }, p(c, d) { const f = {}; d[0] & 24 && (f.autoOpen = c[3] || c[4]), d[0] & 512 && (f.translateFn = c[9].t), d[0] & 24600 | d[1] & 201326592 && (f.$$scope = { dirty: d, ctx: c }), t.$set(f); const g = {}; d[0] & 64 && (g.isSelected = c[6]), d[0] & 65536 && (g.disabled = c[16]), a.$set(g) }, i(c) { l || (w(t.$$.fragment, c), w(u), w(a.$$.fragment, c), l = !0) }, o(c) { D(t.$$.fragment, c), D(u), D(a.$$.fragment, c), l = !1 }, d(c) { c && (_(e), _(i), _(r)), $(t), $(a) } } } function S5e(n) { let e, t; return e = new I_({ props: { popoverAction: n[57], songHasTranslations: n[3], songHasPronunciations: n[4] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[1] & 67108864 && (s.popoverAction = i[57]), r[0] & 8 && (s.songHasTranslations = i[3]), r[0] & 16 && (s.songHasPronunciations = i[4]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function C5e(n) { let e; return { c() { e = le(n[13]) }, l(t) { e = ue(t, n[13]) }, m(t, i) { I(t, e, i) }, p(t, i) { i[0] & 8192 && me(e, t[13]) }, d(t) { t && _(e) } } } function P5e(n) { let e; return { c() { e = le(n[14]) }, l(t) { e = ue(t, n[14]) }, m(t, i) { I(t, e, i) }, p(t, i) { i[0] & 16384 && me(e, t[14]) }, d(t) { t && _(e) } } } function A5e(n) { var C; let e, t, i, r, s, o, a, l = !1, u, c, d, f, g, h, m = !n[19] && cD(n); r = new rr({ props: { "data-testid": "lyrics-fullscreen-modal-close-button-svg" } }); let v = !n[18].showPivotView && dD(n), b = l, y = n[6] && n[7] && fD(n), k = ((C = n[22]) == null ? void 0 : C.inSession) && gD(n), S = n[8] && hD(n); return { c() { e = L("article"), m && m.c(), t = Y(), i = L("button"), V(r.$$.fragment), o = Y(), v && v.c(), a = Y(), u = Y(), y && y.c(), c = Y(), k && k.c(), d = Y(), S && S.c(), this.h() }, l(P) { e = T(P, "ARTICLE", { class: !0, "data-testid": !0 }); var M = E(e); m && m.l(M), t = X(M), i = T(M, "BUTTON", { "data-testid": !0, class: !0, type: !0, "aria-label": !0 }); var R = E(i); q(r.$$.fragment, R), R.forEach(_), o = X(M), v && v.l(M), a = X(M), u = X(M), y && y.l(M), c = X(M), k && k.l(M), d = X(M), S && S.l(M), M.forEach(_), this.h() }, h() { p(i, "data-testid", "lyrics-fullscreen-modal-close-button"), p(i, "class", "close-button svelte-fix90v"), p(i, "type", "button"), p(i, "aria-label", s = n[9].t("ASE.Web.Music.Shared.AX.Close")), p(e, "class", "lyrics__container svelte-fix90v"), p(e, "data-testid", "lyrics-fullscreen-modal"), J(e, "is-lyrics-off", !n[6] || !n[7] || n[16]), J(e, "is-not-focused", !n[56]), J(e, "is-pivots-grid", n[18].showPivotView) }, m(P, M) { I(P, e, M), m && m.m(e, null), A(e, t), A(e, i), H(r, i, null), A(e, o), v && v.m(e, null), A(e, a), A(e, u), y && y.m(e, null), A(e, c), k && k.m(e, null), A(e, d), S && S.m(e, null), f = !0, g || (h = [Me(i, "click", n[29]), Ut(Ca.call(null, i))], g = !0) }, p(P, M) { var R; P[19] ? m && (te(), D(m, 1, 1, () => { m = null }), ne()) : m ? (m.p(P, M), M[0] & 524288 && w(m, 1)) : (m = cD(P), m.c(), w(m, 1), m.m(e, t)), (!f || M[0] & 512 && s !== (s = P[9].t("ASE.Web.Music.Shared.AX.Close"))) && p(i, "aria-label", s), P[18].showPivotView ? v && (te(), D(v, 1, 1, () => { v = null }), ne()) : v ? (v.p(P, M), M[0] & 262144 && w(v, 1)) : (v = dD(P), v.c(), w(v, 1), v.m(e, a)), P[6] && P[7] ? y ? y.p(P, M) : (y = fD(P), y.c(), y.m(e, c)) : y && (y.d(1), y = null), (R = P[22]) != null && R.inSession ? k ? (k.p(P, M), M[0] & 4194304 && w(k, 1)) : (k = gD(P), k.c(), w(k, 1), k.m(e, d)) : k && (te(), D(k, 1, 1, () => { k = null }), ne()), P[8] ? S ? (S.p(P, M), M[0] & 256 && w(S, 1)) : (S = hD(P), S.c(), w(S, 1), S.m(e, null)) : S && (te(), D(S, 1, 1, () => { S = null }), ne()), (!f || M[0] & 65728) && J(e, "is-lyrics-off", !P[6] || !P[7] || P[16]), (!f || M[1] & 33554432) && J(e, "is-not-focused", !P[56]), (!f || M[0] & 262144) && J(e, "is-pivots-grid", P[18].showPivotView) }, i(P) { f || (w(m), w(r.$$.fragment, P), w(v), w(b), w(k), w(S), f = !0) }, o(P) { D(m), D(r.$$.fragment, P), D(v), D(b), D(k), D(S), f = !1 }, d(P) { P && _(e), m && m.d(), $(r), v && v.d(), y && y.d(), k && k.d(), S && S.d(), g = !1, Ot(h) } } } function E5e(n) { let e, t; return e = new uh({ props: { $$slots: { default: [A5e, ({ isWindowInFocus: i }) => ({ 56: i }), ({ isWindowInFocus: i }) => [0, i ? 33554432 : 0]] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 16644092 | r[1] & 167772160 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function mD(n) { let e, t; return e = new iB({}), e.$on("close", n[54]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function I5e(n) { let e, t, i, r, s; function o(u) { n[51](u) } let a = { modalTriggerElement: n[1], useAriaModal: !1, ariaLabel: n[17], $$slots: { default: [E5e] }, $$scope: { ctx: n } }; n[0] !== void 0 && (a.openModal = n[0]), e = new zSe({ props: a }), wt.push(() => Xr(e, "openModal", o)), n[52](e), e.$on("close", n[53]); let l = n[12] && mD(n); return { c() { V(e.$$.fragment), i = Y(), l && l.c(), r = re() }, l(u) { q(e.$$.fragment, u), i = X(u), l && l.l(u), r = re() }, m(u, c) { H(e, u, c), I(u, i, c), l && l.m(u, c), I(u, r, c), s = !0 }, p(u, c) { const d = {}; c[0] & 2 && (d.modalTriggerElement = u[1]), c[0] & 131072 && (d.ariaLabel = u[17]), c[0] & 16644092 | c[1] & 134217728 && (d.$$scope = { dirty: c, ctx: u }), !t && c[0] & 1 && (t = !0, d.openModal = u[0], Yr(() => t = !1)), e.$set(d), u[12] ? l ? (l.p(u, c), c[0] & 4096 && w(l, 1)) : (l = mD(u), l.c(), w(l, 1), l.m(r.parentNode, r)) : l && (te(), D(l, 1, 1, () => { l = null }), ne()) }, i(u) { s || (w(e.$$.fragment, u), w(l), s = !0) }, o(u) { D(e.$$.fragment, u), D(l), s = !1 }, d(u) { u && (_(i), _(r)), n[52](null), $(e, u), l && l.d(u) } } } const M5e = .4; function L5e(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P; ce(n, Er, ie => t(45, h = ie)), ce(n, aa, ie => t(55, m = ie)), ce(n, YO, ie => t(46, v = ie)), ce(n, Va, ie => t(18, y = ie)), ce(n, d5e, ie => t(19, k = ie)), ce(n, cl, ie => t(20, S = ie)), ce(n, dl, ie => t(21, C = ie)); var M, R, F, N, O, B, U, K, W, Z, Q; const G = ot(); ce(n, G, ie => t(9, f = ie)); const { state: ae } = xt(); ce(n, ae, ie => t(47, b = ie)); const { queue: ee } = zn(); ce(n, ee, ie => t(10, g = ie)); const pe = It(), { sharePlayState: ke } = Or(); ce(n, ke, ie => t(22, P = ie)); let { isFullScreenActive: we } = e, { modalTriggerElement: Te } = e, { contextualMenuConfig: ge } = e, Ce, he, Ae = !1; const ze = ie => { Ce.handleModalClose(ie), pe("close") }, Pe = ie => { var $e; t(43, he = ($e = ie.detail) === null || $e === void 0 ? void 0 : $e[0]), pe("lcdMetadataFetched", ie.detail) }; let Oe = !1, _e = !1; function Se(ie) { t(3, Oe = ie.detail.hasTranslations), t(4, _e = ie.detail.hasPronunciations) } let Re, Ze; function De(ie) { Bt.call(this, n, ie) } const xe = () => { t(12, Ae = !0) }, Fe = () => pe("toggleView", Ri.Lyrics); function Be(ie) { we = ie, t(0, we) } function lt(ie) { wt[ie ? "unshift" : "push"](() => { Ce = ie, t(11, Ce) }) } function _t(ie) { Bt.call(this, n, ie) } const et = () => { t(12, Ae = !1) }; return n.$$set = ie => { "isFullScreenActive" in ie && t(0, we = ie.isFullScreenActive), "modalTriggerElement" in ie && t(1, Te = ie.modalTriggerElement), "contextualMenuConfig" in ie && t(2, ge = ie.contextualMenuConfig) }, n.$$.update = () => { if (n.$$.dirty[1] & 65538 && t(8, i = bi(t(32, M = b == null ? void 0 : b.user) === null || M === void 0 ? void 0 : M.subscriberType)), n.$$.dirty[0] & 512 && t(17, r = f.t("ASE.Web.Music.View.Full.Lyrics")), n.$$.dirty[1] & 32768 && t(23, s = v == null ? void 0 : v()), n.$$.dirty[0] & 1 && ni(aa, m = we, m), n.$$.dirty[0] & 1024 | n.$$.dirty[1] & 60 && t(5, o = !(t(33, R = g.nowPlayingItemInfo) === null || R === void 0) && R.streamingArtworkUrl ? Xg(g.nowPlayingItemInfo.streamingArtworkUrl) : st(t(36, O = t(35, N = t(34, F = g.nowPlayingItem) === null || F === void 0 ? void 0 : F.item) === null || N === void 0 ? void 0 : N.attributes) === null || O === void 0 ? void 0 : O.artwork)), n.$$.dirty[1] & 16384 && t(44, a = h.nowPlayingView), n.$$.dirty[0] & 1280 | n.$$.dirty[1] & 6080 && t(7, l = i && (t(38, U = t(37, B = he == null ? void 0 : he.attributes) === null || B === void 0 ? void 0 : B.hasLyrics) !== null && U !== void 0 ? U : t(41, Z = t(40, W = t(39, K = g.nowPlayingItem) === null || K === void 0 ? void 0 : K.item) === null || W === void 0 ? void 0 : W.attributes) === null || Z === void 0 ? void 0 : Z.hasLyrics)), n.$$.dirty[1] & 8192 && t(6, u = a === Ri.Lyrics), n.$$.dirty[0] & 192 | n.$$.dirty[1] & 2048 && t(16, c = t(42, Q = !l && !u) !== null && Q !== void 0 ? Q : !0), n.$$.dirty[0] & 32 && t(15, d = (() => ho(o == null ? void 0 : o.dictionary.url, { width: 40, height: 40, crop: "bb", fileType: "jpg" }, {}))()), n.$$.dirty[0] & 536) { const ie = E_(Oe, _e, f); t(13, Re = ie.title), t(14, Ze = ie.body) } }, [we, Te, ge, Oe, _e, o, u, l, i, f, g, Ce, Ae, Re, Ze, d, c, r, y, k, S, C, P, s, G, ae, ee, pe, ke, ze, Pe, Se, M, R, F, N, O, B, U, K, W, Z, Q, he, a, h, v, b, De, xe, Fe, Be, lt, _t, et] } class T5e extends oe { constructor(e) { super(), se(this, e, L5e, I5e, ye, { isFullScreenActive: 0, modalTriggerElement: 1, contextualMenuConfig: 2 }, null, [-1, -1]) } } function R5e(n) { let e, t; return e = new T5e({ props: { contextualMenuConfig: n[0], modalTriggerElement: n[1], isFullScreenActive: n[2] } }), e.$on("close", n[12]), e.$on("toggleView", n[13]), e.$on("lcdMetadataFetched", n[14]), e.$on("contextualMenuConfigUpdateRequested", n[15]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.contextualMenuConfig = i[0]), r & 2 && (s.modalTriggerElement = i[1]), r & 4 && (s.isFullScreenActive = i[2]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function F5e(n) { let e, t; return e = new USe({ props: { contextualMenuConfig: n[0], modalTriggerElement: n[1], disableSlide: n[3] } }), e.$on("close", n[9]), e.$on("toggleView", n[10]), e.$on("lcdMetadataFetched", n[11]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.contextualMenuConfig = i[0]), r & 2 && (s.modalTriggerElement = i[1]), r & 8 && (s.disableSlide = i[3]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function O5e(n) { let e, t, i, r, s, o; e = new Zbe({}), e.$on("resizeUpdate", n[6]); const a = [F5e, R5e], l = []; function u(c, d) { return c[4] ? 0 : 1 } return i = u(n), r = l[i] = a[i](n), { c() { V(e.$$.fragment), t = Y(), r.c(), s = re() }, l(c) { q(e.$$.fragment, c), t = X(c), r.l(c), s = re() }, m(c, d) { H(e, c, d), I(c, t, d), l[i].m(c, d), I(c, s, d), o = !0 }, p(c, [d]) { let f = i; i = u(c), i === f ? l[i].p(c, d) : (te(), D(l[f], 1, 1, () => { l[f] = null }), ne(), r = l[i], r ? r.p(c, d) : (r = l[i] = a[i](c), r.c()), w(r, 1), r.m(s.parentNode, s)) }, i(c) { o || (w(e.$$.fragment, c), w(r), o = !0) }, o(c) { D(e.$$.fragment, c), D(r), o = !1 }, d(c) { c && (_(t), _(s)), $(e, c), l[i].d(c) } } } function N5e(n, e, t) { let i, r, s, o; ce(n, _l, P => t(7, s = P)), ce(n, Er, P => t(8, o = P)); const a = It(); let { contextualMenuConfig: l } = e, { modalTriggerElement: u } = e, { isFullScreenActive: c } = e; const d = P => { i === P ? Er.setNowPlayingView(LO) : Er.setNowPlayingView(P) }; let f = !1; const g = P => { t(3, f = P.detail.isResizing) }; function h() { a("close") } Yt(() => (window == null || window.addEventListener("popstate", h), () => { window == null || window.removeEventListener("popstate", h) })); function m(P) { Bt.call(this, n, P) } const v = P => d(P.detail); function b(P) { Bt.call(this, n, P) } function y(P) { Bt.call(this, n, P) } const k = P => d(P.detail); function S(P) { Bt.call(this, n, P) } function C(P) { Bt.call(this, n, P) } return n.$$set = P => { "contextualMenuConfig" in P && t(0, l = P.contextualMenuConfig), "modalTriggerElement" in P && t(1, u = P.modalTriggerElement), "isFullScreenActive" in P && t(2, c = P.isFullScreenActive) }, n.$$.update = () => { n.$$.dirty & 256 && (i = o.nowPlayingView), n.$$.dirty & 128 && t(4, r = s === "xsmall" || s === "small") }, [l, u, c, f, r, d, g, s, o, m, v, b, y, k, S, C] } class B5e extends oe { constructor(e) { super(), se(this, e, N5e, O5e, ye, { contextualMenuConfig: 0, modalTriggerElement: 1, isFullScreenActive: 2 }) } } function U5e(n) { let e, t, i = [{ class: "person-2-fill" }, { width: "104.887" }, { height: "69.483" }, { viewBox: "0 0 104.887 69.483" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { class: !0, width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M48.97 69.475h46.998c6.727 0 8.919-2.023 8.919-5.559 0-9.868-12.534-23.443-32.437-23.443-19.865 0-32.399 13.575-32.399 23.443-.001 3.536 2.192 5.559 8.919 5.559Zm23.48-35.777c8.36 0 15.542-7.443 15.542-17.071C87.993 7.127 80.793 0 72.45 0c-8.305 0-15.514 7.287-15.505 16.707.01 9.548 7.183 16.991 15.505 16.991ZM7.401 69.483h27.794c-4.029-6.432.792-18 9.35-24.61-4.185-2.589-9.582-4.49-16.322-4.49C11.112 40.384 0 53.109 0 63.404c0 3.809 1.93 6.079 7.401 6.079Zm20.82-34.915c7.271 0 13.535-6.506 13.535-14.865-.001-8.288-6.282-14.47-13.534-14.47-7.212 0-13.534 6.302-13.525 14.55.01 8.279 6.295 14.785 13.525 14.785Z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ class: "person-2-fill" }, { width: "104.887" }, { height: "69.483" }, { viewBox: "0 0 104.887 69.483" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function H5e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let $5e = class extends oe { constructor(e) { super(), se(this, e, H5e, U5e, ht, {}) } }; function pD(n) { var c, d, f; let e, t, i, r = ((d = (c = n[2]) == null ? void 0 : c.members) == null ? void 0 : d.length) - 1 + "", s, o, a = n[6].t(n[3], { sharePlaySessionName: (f = n[2]) == null ? void 0 : f.displayName }) + "", l, u; return t = new $5e({}), { c() { e = L("div"), V(t.$$.fragment), i = Y(), s = le(r), o = le(""), l = le(a), this.h() }, l(g) { e = T(g, "DIV", { "data-testid": !0, class: !0 }); var h = E(e); q(t.$$.fragment, h), i = X(h), s = ue(h, r), o = ue(h, ""), l = ue(h, a), h.forEach(_), this.h() }, h() { p(e, "data-testid", "mini-player-text-secondary"), p(e, "class", "mini-player__text--secondary svelte-1rxobyp") }, m(g, h) { I(g, e, h), H(t, e, null), A(e, i), A(e, s), A(e, o), A(e, l), u = !0 }, p(g, h) { var m, v, b; (!u || h & 4) && r !== (r = ((v = (m = g[2]) == null ? void 0 : m.members) == null ? void 0 : v.length) - 1 + "") && me(s, r), (!u || h & 76) && a !== (a = g[6].t(g[3], { sharePlaySessionName: (b = g[2]) == null ? void 0 : b.displayName }) + "") && me(l, a) }, i(g) { u || (w(t.$$.fragment, g), u = !0) }, o(g) { D(t.$$.fragment, g), u = !1 }, d(g) { g && _(e), $(t) } } } function _D(n) { let e, t, i = n[1].title + "", r; return { c() { e = L("div"), t = L("div"), r = le(i), this.h() }, l(s) { e = T(s, "DIV", { class: !0, "data-testid": !0 }); var o = E(e); t = T(o, "DIV", { class: !0, dir: !0 }); var a = E(t); r = ue(a, i), a.forEach(_), o.forEach(_), this.h() }, h() { p(t, "class", "mini-player__clamp-wrapper svelte-1rxobyp"), p(t, "dir", "auto"), p(e, "class", "mini-player__text--primary svelte-1rxobyp"), p(e, "data-testid", "mini-player-title") }, m(s, o) { I(s, e, o), A(e, t), A(t, r) }, p(s, o) { o & 2 && i !== (i = s[1].title + "") && me(r, i) }, d(s) { s && _(e) } } } function V5e(n) { var b, y; let e, t, i, r, s, o, a, l, u, c, d, f, g, h; r = new Gt({ props: { artwork: n[4], profile: `miniplayer${n[5] ? "-radio" : ""}`, forceCropCode: !0, disableAutoCenter: !0 } }); let m = ((b = n[2]) == null ? void 0 : b.inSession) && pD(n), v = ((y = n[1]) == null ? void 0 : y.title) && _D(n); return { c() { e = L("div"), t = L("button"), i = L("div"), V(r.$$.fragment), s = Y(), o = L("div"), m && m.c(), a = Y(), v && v.c(), l = Y(), u = L("amp-playback-controls-play"), c = Y(), d = L("amp-playback-controls-item-skip"), this.h() }, l(k) { e = T(k, "DIV", { "data-testid": !0, class: !0 }); var S = E(e); t = T(S, "BUTTON", { class: !0 }); var C = E(t); i = T(C, "DIV", { class: !0, "data-testid": !0 }); var P = E(i); q(r.$$.fragment, P), P.forEach(_), s = X(C), o = T(C, "DIV", { class: !0 }); var M = E(o); m && m.l(M), a = X(M), v && v.l(M), M.forEach(_), C.forEach(_), l = X(S), u = T(S, "AMP-PLAYBACK-CONTROLS-PLAY", { class: !0 }), E(u).forEach(_), c = X(S), d = T(S, "AMP-PLAYBACK-CONTROLS-ITEM-SKIP", { direction: !0, class: !0 }), E(d).forEach(_), S.forEach(_), this.h() }, h() { p(i, "class", "mini-player__artwork svelte-1rxobyp"), p(i, "data-testid", "mini-player-artwork"), p(o, "class", "mini-player__metadata--text svelte-1rxobyp"), p(t, "class", "mini-player__metadata svelte-1rxobyp"), Xe(u, "class", "svelte-1rxobyp"), Xe(d, "direction", "next"), Xe(d, "class", "svelte-1rxobyp"), p(e, "data-testid", "mini-player"), p(e, "class", "mini-player svelte-1rxobyp"), J(e, "is-empty", !n[1]) }, m(k, S) { I(k, e, S), A(e, t), A(t, i), H(r, i, null), A(t, s), A(t, o), m && m.m(o, null), A(o, a), v && v.m(o, null), A(e, l), A(e, u), A(e, c), A(e, d), f = !0, g || (h = Me(t, "click", function () { Ft(n[0]) && n[0].apply(this, arguments) }), g = !0) }, p(k, [S]) { var P, M; n = k; const C = {}; S & 16 && (C.artwork = n[4]), S & 32 && (C.profile = `miniplayer${n[5] ? "-radio" : ""}`), r.$set(C), (P = n[2]) != null && P.inSession ? m ? (m.p(n, S), S & 4 && w(m, 1)) : (m = pD(n), m.c(), w(m, 1), m.m(o, a)) : m && (te(), D(m, 1, 1, () => { m = null }), ne()), (M = n[1]) != null && M.title ? v ? v.p(n, S) : (v = _D(n), v.c(), v.m(o, null)) : v && (v.d(1), v = null), (!f || S & 2) && J(e, "is-empty", !n[1]) }, i(k) { f || (w(r.$$.fragment, k), w(m), f = !0) }, o(k) { D(r.$$.fragment, k), D(m), f = !1 }, d(k) { k && _(e), $(r), m && m.d(), v && v.d(), g = !1, h() } } } function z5e(n, e, t) { let i, r, s, o, a, l, u, c; var d, f; const g = ot(); ce(n, g, b => t(6, c = b)); const { queue: h } = zn(); ce(n, h, b => t(13, u = b)); const { sharePlayState: m } = Or(); ce(n, m, b => t(2, l = b)); let { playerClick: v } = e; return n.$$set = b => { "playerClick" in b && t(0, v = b.playerClick) }, n.$$.update = () => { n.$$.dirty & 9216 && t(1, i = !(t(10, d = u.nowPlayingItem) === null || d === void 0) && d.item ? Oc(u.nowPlayingItem.item, u.nowPlayingItemInfo) : null), n.$$.dirty & 2050 && t(12, r = t(11, f = i == null ? void 0 : i.contentDescriptor) === null || f === void 0 ? void 0 : f.kind), n.$$.dirty & 4096 && t(5, s = r === x.RadioStation), n.$$.dirty & 2 && t(4, o = i == null ? void 0 : i.artwork), n.$$.dirty & 4 && t(3, a = `ASE.Web.Music.SharePlay.FullScreenPlayer.AudioRouting.${ul(l.route)}`) }, [v, i, l, a, o, s, c, g, h, m, d, f, r, u] } class q5e extends oe { constructor(e) { super(), se(this, e, z5e, V5e, ye, { playerClick: 0 }) } } const { window: W5e } = RP; function K5e(n) { let e, t, i, r; const s = [Y5e, J5e], o = []; function a(l, u) { return l[0] ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, u) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function J5e(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g; return r = new qbe({ props: { realm: "music", contextualMenuConfig: n[2], dropEnabled: !0, hasBadge: n[6], $$slots: { "lcd-action-right": [Z5e], "right-content-compact": [X5e] }, $$scope: { ctx: n } } }), r.$on("dropOnLCD", n[20]), r.$on("launchFullScreenPlayer", n[21]), l = new Nbe({ props: { showFullScreenPlayer: n[10].isVisible } }), l.$on("launchFullScreenPlayer", n[21]), c = new m_({}), { c() { e = L("div"), t = L("amp-chrome-player"), i = L("div"), V(r.$$.fragment), s = Y(), o = L("div"), a = L("div"), V(l.$$.fragment), u = Y(), V(c.$$.fragment), this.h() }, l(h) { e = T(h, "DIV", { class: !0 }); var m = E(e); t = T(m, "AMP-CHROME-PLAYER", { realm: !0 }); var v = E(t); i = T(v, "DIV", { slot: !0 }); var b = E(i); q(r.$$.fragment, b), b.forEach(_), s = X(v), o = T(v, "DIV", { class: !0, slot: !0 }); var y = E(o); a = T(y, "DIV", { class: !0 }); var k = E(a); q(l.$$.fragment, k), k.forEach(_), u = X(y), q(c.$$.fragment, y), y.forEach(_), v.forEach(_), m.forEach(_), this.h() }, h() { p(i, "slot", "lcd"), p(a, "class", "action-buttons svelte-1rr9v04"), p(o, "class", "right-content svelte-1rr9v04"), p(o, "slot", "right-content"), Xe(t, "realm", "music"), p(e, "class", "wrapper svelte-1rr9v04") }, m(h, m) { I(h, e, m), A(e, t), A(t, i), H(r, i, null), A(t, s), A(t, o), A(o, a), H(l, a, null), A(o, u), H(c, o, null), n[51](t), d = !0, f || (g = [Me(t, "lcdMetadataFetched", n[23]), Ut(xg.call(null, t, n[11]))], f = !0) }, p(h, m) { const v = {}; m[0] & 4 && (v.contextualMenuConfig = h[2]), m[0] & 64 && (v.hasBadge = h[6]), m[0] & 296 | m[2] & 8 && (v.$$scope = { dirty: m, ctx: h }), r.$set(v); const b = {}; m[0] & 1024 && (b.showFullScreenPlayer = h[10].isVisible), l.$set(b) }, i(h) { d || (w(r.$$.fragment, h), w(l.$$.fragment, h), w(c.$$.fragment, h), d = !0) }, o(h) { D(r.$$.fragment, h), D(l.$$.fragment, h), D(c.$$.fragment, h), d = !1 }, d(h) { h && _(e), $(r), $(l), $(c), n[51](null), f = !1, Ot(g) } } } function Y5e(n) { let e, t; return e = new q5e({ props: { playerClick: n[21] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function X5e(n) { let e, t, i; return t = new m_({}), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0, slot: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "right-content-compact svelte-1rr9v04"), p(e, "slot", "right-content-compact") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p: j, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function vD(n) { let e, t; return e = new Ol({ props: { isFavorited: n[5], platter: !1, title: n[8].t("ASE.Web.Music.VO.FavoriteHelpText") } }), e.$on("toggle", n[19]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 32 && (s.isFavorited = i[5]), r[0] & 256 && (s.title = i[8].t("ASE.Web.Music.VO.FavoriteHelpText")), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function Z5e(n) { let e, t, i = n[3] && vD(n); return { c() { e = L("div"), i && i.c(), this.h() }, l(r) { e = T(r, "DIV", { class: !0, slot: !0 }); var s = E(e); i && i.l(s), s.forEach(_), this.h() }, h() { p(e, "class", "lcd-action-right svelte-1rr9v04"), p(e, "slot", "lcd-action-right") }, m(r, s) { I(r, e, s), i && i.m(e, null), t = !0 }, p(r, s) { r[3] ? i ? (i.p(r, s), s[0] & 8 && w(i, 1)) : (i = vD(r), i.c(), w(i, 1), i.m(e, null)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d() } } } function bD(n) { let e, t; return e = new B5e({ props: { isFullScreenActive: n[10].isVisible, contextualMenuConfig: n[2], modalTriggerElement: n[4] } }), e.$on("close", n[22]), e.$on("lcdMetadataFetched", n[23]), e.$on("contextualMenuConfigUpdateRequested", n[18]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 1024 && (s.isFullScreenActive = i[10].isVisible), r[0] & 4 && (s.contextualMenuConfig = i[2]), r[0] & 16 && (s.modalTriggerElement = i[4]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function Q5e(n) { let e, t, i, r, s, o, a = typeof window < "u" && K5e(n), l = n[10].isVisible && bD(n); return { c() { e = L("div"), a && a.c(), t = Y(), l && l.c(), this.h() }, l(u) { e = T(u, "DIV", { class: !0, "data-testid": !0, "aria-label": !0, "aria-hidden": !0 }); var c = E(e); a && a.l(c), t = X(c), l && l.l(c), c.forEach(_), this.h() }, h() { p(e, "class", "player-bar player-bar__floating-player svelte-1rr9v04"), p(e, "data-testid", "player-bar"), p(e, "aria-label", i = n[8].t("ASE.Web.Music.LCD.Section")), p(e, "aria-hidden", n[9]) }, m(u, c) { I(u, e, c), a && a.m(e, null), A(e, t), l && l.m(e, null), r = !0, s || (o = [Me(W5e, "keydown", n[16]), Me(e, "mouseover", Bi(n[17], qp)), Me(e, "focus", Bi(n[17], qp))], s = !0) }, p(u, c) { typeof window < "u" && a.p(u, c), u[10].isVisible ? l ? (l.p(u, c), c[0] & 1024 && w(l, 1)) : (l = bD(u), l.c(), w(l, 1), l.m(e, null)) : l && (te(), D(l, 1, 1, () => { l = null }), ne()), (!r || c[0] & 256 && i !== (i = u[8].t("ASE.Web.Music.LCD.Section"))) && p(e, "aria-label", i), (!r || c[0] & 512) && p(e, "aria-hidden", u[9]) }, i(u) { r || (w(a), w(l), r = !0) }, o(u) { D(a), D(l), r = !1 }, d(u) { u && _(e), a && a.d(), l && l.d(), s = !1, Ot(o) } } } function j5e(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y = j, k = () => (y(), y = yn(f, Ht => t(47, b = Ht)), f), S, C, P, M, R, F, N, O, B, U; ce(n, al, Ht => t(55, S = Ht)), ce(n, to, Ht => t(56, P = Ht)), ce(n, F1, Ht => t(57, M = Ht)), ce(n, nA, Ht => t(50, N = Ht)), ce(n, Zr, Ht => t(9, B = Ht)), ce(n, Er, Ht => t(10, U = Ht)), n.$$.on_destroy.push(() => y()); var K, W, Z, Q, G, ae, ee, pe, ke, we, Te, ge, Ce; const he = fn(), Ae = sn(), ze = ot(); ce(n, ze, Ht => t(8, O = Ht)); const { state: Pe, queue: Oe } = zn(); ce(n, Pe, Ht => t(58, R = Ht)), ce(n, Oe, Ht => t(48, C = Ht)); const { state: _e } = xt(); ce(n, _e, Ht => t(49, F = Ht)); const Se = Fo(), Re = kn("<PlayerBar>"), Ze = { items: [] }; let De = Qn(), xe = !1, Fe = !1, Be, lt, _t = Ze, et = null, ie; Pe.setIsChromeVisible(!0), Yt(() => { Pe.setIsChromeVisible(!0) }), mn(() => { Pe.setIsChromeVisible(!1) }); const $e = Ht => { switch (Ht.key) { case Wbe: if (Jbe(Ht.target) || (Ht.preventDefault(), !C.nowPlayingItem)) break; const { isPlaying: ci } = C.derivedStates; Ae({ $kind: ci ? "pausePlaybackAction" : "resumePlaybackAction", actionMetrics: Ve }); break } }, kt = async () => { C.nowPlayingItemId && c && (m && !g && !xe && he.isUserInHomeStorefront() && (xe = !0, t(40, g = await Se.fetchUpdatedLibraryState(u, Re)), xe = !1), on()) }, on = () => { var Ht, ci, fs; t(2, _t = Se.getAllMediaItemsConfig({ canEditPlaybackQueue: (Ht = R.playbackCapabilities) === null || Ht === void 0 ? void 0 : Ht.canEditPlaybackQueue, recommendedPlaylists: M, contentDescriptor: u, isPlayable: !0, itemLibraryState: g, itemProperties: v, skipInvalidationOnDelete: !1, playlists: P || [], onCatalogActionComplete: qn, shareUrl: ((ci = C == null ? void 0 : C.nowPlayingItemInfo) === null || ci === void 0 ? void 0 : ci.url) || s == (ie == null ? void 0 : ie.id) && ((fs = ie == null ? void 0 : ie.attributes) === null || fs === void 0 ? void 0 : fs.url), isFavoritesPlaylist: S })) }, Dn = () => { Ml(c, d, u, h, De, S, !0, Ae) }, qn = () => { t(40, g = b && De.get(c, d)) }; function gn({ detail: { data: Ht } }) { const ci = Array.isArray(Ht.items) ? Ht.items.map(fs => xo(fs) ? { contentDescriptor: fs } : null).filter(Boolean) : []; if (ci.length) { const fs = Lne(ci, { metricsData: { targetType: "LCD", eventType: "drop" } }); Ae(fs) } } function Nt(Ht) { var ci; t(4, et = (ci = Ht.target) !== null && ci !== void 0 ? ci : Ht.detail.target), Er.setVisibility(!0) } const ds = () => { t(4, et = null), Er.setVisibility(!1) }, yh = Ht => { const ci = Ht.detail; ie = ci == null ? void 0 : ci[0], on() }; function wh(Ht) { wt[Ht ? "unshift" : "push"](() => { Be = Ht, t(1, Be), t(38, l), t(2, _t), t(37, lt), t(48, C), t(32, ke), t(33, we) }) } return n.$$.update = () => { n.$$.dirty[1] & 524288 && typeof window < "u" && t(0, Fe = N === "hidden"), n.$$.dirty[0] & 16777216 | n.$$.dirty[1] & 131072 && t(44, i = t(24, K = C.nowPlayingItemInfo) === null || K === void 0 ? void 0 : K.streamingItemId), n.$$.dirty[1] & 139264 && t(43, r = i || C.nowPlayingItemId), n.$$.dirty[0] & 503316480 | n.$$.dirty[1] & 131072 && t(42, s = t(28, G = t(27, Q = t(26, Z = t(25, W = C.nowPlayingItem) === null || W === void 0 ? void 0 : W.item) === null || Z === void 0 ? void 0 : Z.attributes) === null || Q === void 0 ? void 0 : Q.playParams) === null || G === void 0 ? void 0 : G.catalogId), n.$$.dirty[0] & 1610612736 | n.$$.dirty[1] & 131072 && t(46, o = t(30, ee = t(29, ae = C.nowPlayingItem) === null || ae === void 0 ? void 0 : ae.item) === null || ee === void 0 ? void 0 : ee.type), n.$$.dirty[1] & 131073 && t(45, a = t(31, pe = C.nowPlayingItemInfo) === null || pe === void 0 ? void 0 : pe.isLibrary), n.$$.dirty[1] & 131078 && t(38, l = t(33, we = t(32, ke = C.nowPlayingItem) === null || ke === void 0 ? void 0 : ke.item) === null || we === void 0 ? void 0 : we.isLiveRadioStation), n.$$.dirty[1] & 194560 && t(41, u = C.nowPlayingItemInfo && XO(r, o, a, s, i)), n.$$.dirty[1] & 1024 && t(3, c = !!u && fr({ contentDescriptor: u })), n.$$.dirty[1] & 1024 && t(39, d = u == null ? void 0 : u.kind), n.$$.dirty[0] & 8 && k(t(7, f = De.subscribeToUpdates(c))), n.$$.dirty[0] & 8 | n.$$.dirty[1] & 65792 && t(40, g = b && De.get(c, d)), n.$$.dirty[1] & 512 && t(5, h = g == null ? void 0 : g.inFavorites), n.$$.dirty[1] & 262152 && t(6, m = bi(t(34, Te = F.user) === null || Te === void 0 ? void 0 : Te.subscriberType)), n.$$.dirty[1] & 135216 && (v = r ? { title: t(35, ge = C.nowPlayingItemInfo) === null || ge === void 0 ? void 0 : ge.name, subtitleLinks: [{ title: t(36, Ce = C.nowPlayingItemInfo) === null || Ce === void 0 ? void 0 : Ce.artistName }] } : null), n.$$.dirty[0] & 1 | n.$$.dirty[1] & 4096 && r && Fe && kt(), n.$$.dirty[0] & 6 | n.$$.dirty[1] & 192 && (l && t(2, _t = Ze), Be && t(1, Be.contextualMenuConfig = _t, Be)) }, [Fe, Be, _t, c, et, h, m, f, O, B, U, he, ze, Pe, Oe, _e, $e, kt, on, Dn, gn, Nt, ds, yh, K, W, Z, Q, G, ae, ee, pe, ke, we, Te, ge, Ce, lt, l, d, g, u, s, r, i, a, o, b, C, F, N, wh] } class G5e extends oe { constructor(e) { super(), se(this, e, j5e, Q5e, ye, {}, null, [-1, -1, -1]) } } function x5e(n) { let e, t, i; const r = n[1].default, s = We(r, n, n[0], null); return { c() { e = L("main"), t = L("div"), s && s.c(), this.h() }, l(o) { e = T(o, "MAIN", { "data-testid": !0, class: !0 }); var a = E(e); t = T(a, "DIV", { class: !0, "data-testid": !0 }); var l = E(t); s && s.l(l), l.forEach(_), a.forEach(_), this.h() }, h() { p(t, "class", "content-container svelte-bzjlhs"), p(t, "data-testid", "content-container"), p(e, "data-testid", "main"), p(e, "class", "svelte-bzjlhs") }, m(o, a) { I(o, e, a), A(e, t), s && s.m(t, null), i = !0 }, p(o, [a]) { s && s.p && (!i || a & 1) && Je(s, r, o, o[0], i ? Ke(r, o[0], a, null) : Ye(o[0]), null) }, i(o) { i || (w(s, o), i = !0) }, o(o) { D(s, o), i = !1 }, d(o) { o && _(e), s && s.d(o) } } } function e8e(n, e, t) { let { $$slots: i = {}, $$scope: r } = e; return n.$$set = s => { "$$scope" in s && t(0, r = s.$$scope) }, [r, i] } class t8e extends oe { constructor(e) { super(), se(this, e, e8e, x5e, ye, {}) } } function n8e(n) { let e, t, i = n[0].t("ASE.Web.Music.Offer.Carrier.Connecting") + "", r, s, o, a, l = n[0].t("ASE.Web.Music.Offer.Carrier.GenericSubtitle") + "", u, c, d, f; return d = new yi({ props: { buttonStyle: "buttonA", ariaLabel: n[0].t("ASE.Web.Music.Offer.Carrier.DownloadLink.Text"), $$slots: { default: [r8e] }, $$scope: { ctx: n } } }), d.$on("buttonClick", n[3]), { c() { e = L("div"), t = L("p"), r = le(i), s = Y(), o = L("div"), a = L("p"), u = le(l), c = Y(), V(d.$$.fragment), this.h() }, l(g) { e = T(g, "DIV", { class: !0 }); var h = E(e); t = T(h, "P", { "data-testid": !0, class: !0 }); var m = E(t); r = ue(m, i), m.forEach(_), h.forEach(_), s = X(g), o = T(g, "DIV", { class: !0 }); var v = E(o); a = T(v, "P", { "data-testid": !0, class: !0 }); var b = E(a); u = ue(b, l), b.forEach(_), c = X(v), q(d.$$.fragment, v), v.forEach(_), this.h() }, h() { p(t, "data-testid", "fallback-connecting"), p(t, "class", "svelte-1orxji0"), p(e, "class", "native-launch__panel native-launch__panel--outgoing svelte-1orxji0"), p(a, "data-testid", "fallback-copy"), p(a, "class", "svelte-1orxji0"), p(o, "class", "native-launch__panel native-launch__panel--incoming svelte-1orxji0") }, m(g, h) { I(g, e, h), A(e, t), A(t, r), I(g, s, h), I(g, o, h), A(o, a), A(a, u), A(o, c), H(d, o, null), f = !0 }, p(g, h) { (!f || h & 1) && i !== (i = g[0].t("ASE.Web.Music.Offer.Carrier.Connecting") + "") && me(r, i), (!f || h & 1) && l !== (l = g[0].t("ASE.Web.Music.Offer.Carrier.GenericSubtitle") + "") && me(u, l); const m = {}; h & 1 && (m.ariaLabel = g[0].t("ASE.Web.Music.Offer.Carrier.DownloadLink.Text")), h & 513 && (m.$$scope = { dirty: h, ctx: g }), d.$set(m) }, i(g) { f || (w(d.$$.fragment, g), f = !0) }, o(g) { D(d.$$.fragment, g), f = !1 }, d(g) { g && (_(e), _(s), _(o)), $(d) } } } function i8e(n) { let e, t, i = n[0].t("ASE.Web.Music.Offer.Carrier.InstallNote") + "", r, s, o, a, l, u; return o = new yi({ props: { buttonStyle: "buttonA", ariaLabel: n[0].t("ASE.Web.Music.getOnGooglePlay"), $$slots: { default: [s8e] }, $$scope: { ctx: n } } }), o.$on("buttonClick", n[4]), l = new yi({ props: { buttonStyle: "textButton", $$slots: { default: [o8e] }, $$scope: { ctx: n } } }), l.$on("buttonClick", n[5]), { c() { e = L("div"), t = L("p"), r = le(i), s = Y(), V(o.$$.fragment), a = Y(), V(l.$$.fragment), this.h() }, l(c) { e = T(c, "DIV", { class: !0 }); var d = E(e); t = T(d, "P", { class: !0, "data-testid": !0 }); var f = E(t); r = ue(f, i), f.forEach(_), s = X(d), q(o.$$.fragment, d), a = X(d), q(l.$$.fragment, d), d.forEach(_), this.h() }, h() { p(t, "class", "native-launch__directive-copy svelte-1orxji0"), p(t, "data-testid", "native-launch-directive-copy"), p(e, "class", "native-launch__panel svelte-1orxji0") }, m(c, d) { I(c, e, d), A(e, t), A(t, r), A(e, s), H(o, e, null), A(e, a), H(l, e, null), u = !0 }, p(c, d) { (!u || d & 1) && i !== (i = c[0].t("ASE.Web.Music.Offer.Carrier.InstallNote") + "") && me(r, i); const f = {}; d & 1 && (f.ariaLabel = c[0].t("ASE.Web.Music.getOnGooglePlay")), d & 513 && (f.$$scope = { dirty: d, ctx: c }), o.$set(f); const g = {}; d & 513 && (g.$$scope = { dirty: d, ctx: c }), l.$set(g) }, i(c) { u || (w(o.$$.fragment, c), w(l.$$.fragment, c), u = !0) }, o(c) { D(o.$$.fragment, c), D(l.$$.fragment, c), u = !1 }, d(c) { c && _(e), $(o), $(l) } } } function r8e(n) { let e = n[0].t("ASE.Web.Music.Offer.Carrier.DownloadLink.Text") + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 1 && e !== (e = i[0].t("ASE.Web.Music.Offer.Carrier.DownloadLink.Text") + "") && me(t, e) }, d(i) { i && _(t) } } } function s8e(n) { let e = n[0].t("ASE.Web.Music.getOnGooglePlay") + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 1 && e !== (e = i[0].t("ASE.Web.Music.getOnGooglePlay") + "") && me(t, e) }, d(i) { i && _(t) } } } function o8e(n) { let e = n[0].t("ASE.Web.Music.Offer.Carrier.Installed") + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 1 && e !== (e = i[0].t("ASE.Web.Music.Offer.Carrier.Installed") + "") && me(t, e) }, d(i) { i && _(t) } } } function a8e(n) { let e, t, i, r, s, o, a, l, u, c; document.title = e = n[0].t("ASE.Web.Music.Offer.ConnectingPageTitle"); const d = [i8e, n8e], f = []; function g(h, m) { return h[2] ? 0 : 1 } return l = g(n), u = f[l] = d[l](n), { c() { t = Y(), i = L("div"), r = L("img"), o = Y(), a = L("div"), u.c(), this.h() }, l(h) { f0("svelte-1gii9yh", document.head).forEach(_), t = X(h), i = T(h, "DIV", { class: !0 }); var v = E(i); r = T(v, "IMG", { role: !0, class: !0, src: !0, alt: !0 }), o = X(v), a = T(v, "DIV", { class: !0 }); var b = E(a); u.l(b), b.forEach(_), v.forEach(_), this.h() }, h() { p(r, "role", "presentation"), p(r, "class", "native-launch__am-logo svelte-1orxji0"), ji(r.src, s = "/assets/app-icons/onboarding_appicon_fy2020.png") || p(r, "src", s), p(r, "alt", ""), p(a, "class", "native-launch__contents-container svelte-1orxji0"), p(i, "class", "native-launch svelte-1orxji0") }, m(h, m) { I(h, t, m), I(h, i, m), A(i, r), A(i, o), A(i, a), f[l].m(a, null), c = !0 }, p(h, [m]) { (!c || m & 1) && e !== (e = h[0].t("ASE.Web.Music.Offer.ConnectingPageTitle")) && (document.title = e), u.p(h, m) }, i(h) { c || (w(u), c = !0) }, o(h) { D(u), c = !1 }, d(h) { h && (_(t), _(i)), f[l].d() } } } function l8e(n, e, t) { let i; const r = ot(); ce(n, r, f => t(0, i = f)); const s = fn(), o = Oi.isAndroid(), a = Oi.canOpenNative(), l = Oi.isWindows(), u = () => { const f = i.t("ASE.Web.Music.Offer.Carrier.DownloadLink.URL"); window.open(f, "_blank", "noopener") }; return Yt(async () => { if (!o && (a || l)) { const f = await s.routeUrl(window.location.href); Ws(window.location.href, bs, f) } }), [i, r, o, u, () => C_(), () => Ws()] } class NB extends oe { constructor(e) { super(), se(this, e, l8e, a8e, ye, {}) } } function u8e(n) { let e; return { c() { e = L("div"), this.h() }, l(t) { e = T(t, "DIV", { class: !0, "data-testid": !0 }), E(e).forEach(_), this.h() }, h() { p(e, "class", "commerce-modal-embedded svelte-eurrdv"), p(e, "data-testid", "commerce-modal-embedded") }, m(t, i) { I(t, e, i), n[2](e) }, p: j, i: j, o: j, d(t) { t && _(e), n[2](null) } } } function c8e(n, e, t) { let { iframe: i } = e, r; Yt(async () => { i && (r.appendChild(i), Ca(i)) }); function s(o) { wt[o ? "unshift" : "push"](() => { r = o, t(0, r) }) } return n.$$set = o => { "iframe" in o && t(1, i = o.iframe) }, [r, i, s] } class d8e extends oe { constructor(e) { super(), se(this, e, c8e, u8e, ye, { iframe: 1 }) } } function yD(n) { let e, t; return e = new d8e({ props: { iframe: n[0] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.iframe = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function f8e(n) { let e, t, i = n[0] && yD(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[0] ? i ? (i.p(r, s), s & 1 && w(i, 1)) : (i = yD(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function g8e(n, e, t) { let i, r; var s; let { page: o } = e, a; const l = xt(), u = Tn(), c = fn(); Yt(async () => { try { const f = await l.open(i, r); t(0, a = f.iframeEl) } catch (f) { c.perform(gr(ur(u), qs.type, sa)) } }), mn(() => { d() }); async function d() { await l.refreshUser() } return n.$$set = f => { "page" in f && t(1, o = f.page) }, n.$$.update = () => { n.$$.dirty & 2 && (i = o.commercePath), n.$$.dirty & 6 && (r = t(2, s = o.modalParams) !== null && s !== void 0 ? s : {}) }, [a, o, s] } class h8e extends oe { constructor(e) { super(), se(this, e, g8e, f8e, ye, { page: 1 }) } } function wD(n, e, t) { const i = n.slice(); i[6] = e[t], i[9] = t; const r = i[0].length - 1 === i[9]; return i[7] = r, i } const m8e = n => ({ item: n & 1 }), kD = n => ({ item: n[6], index: n[9] }); function DD(n) { let e = (n[7] ? "" : n[1]) + "", t, i; const r = n[5].default, s = We(r, n, n[4], kD); return { c() { s && s.c(), t = le(e) }, l(o) { s && s.l(o), t = ue(o, e) }, m(o, a) { s && s.m(o, a), I(o, t, a), i = !0 }, p(o, a) { s && s.p && (!i || a & 17) && Je(s, r, o, o[4], i ? Ke(r, o[4], a, m8e) : Ye(o[4]), kD), (!i || a & 3) && e !== (e = (o[7] ? "" : o[1]) + "") && me(t, e) }, i(o) { i || (w(s, o), i = !0) }, o(o) { D(s, o), i = !1 }, d(o) { o && _(t), s && s.d(o) } } } function p8e(n) { let e, t, i = ut(n[0]), r = []; for (let o = 0; o < i.length; o += 1)r[o] = DD(wD(n, i, o)); const s = o => D(r[o], 1, 1, () => { r[o] = null }); return { c() { for (let o = 0; o < r.length; o += 1)r[o].c(); e = re() }, l(o) { for (let a = 0; a < r.length; a += 1)r[a].l(o); e = re() }, m(o, a) { for (let l = 0; l < r.length; l += 1)r[l] && r[l].m(o, a); I(o, e, a), t = !0 }, p(o, [a]) { if (a & 19) { i = ut(o[0]); let l; for (l = 0; l < i.length; l += 1) { const u = wD(o, i, l); r[l] ? (r[l].p(u, a), w(r[l], 1)) : (r[l] = DD(u), r[l].c(), w(r[l], 1), r[l].m(e.parentNode, e)) } for (te(), l = i.length; l < r.length; l += 1)s(l); ne() } }, i(o) { if (!t) { for (let a = 0; a < i.length; a += 1)w(r[a]); t = !0 } }, o(o) { r = r.filter(Boolean); for (let a = 0; a < r.length; a += 1)D(r[a]); t = !1 }, d(o) { o && _(e), ln(r, o) } } } function _8e(n, e, t) { let i, { $$slots: r = {}, $$scope: s } = e, { translateFn: o } = e, { items: a } = e, { customDelimiter: l = null } = e; return n.$$set = u => { "translateFn" in u && t(2, o = u.translateFn), "items" in u && t(0, a = u.items), "customDelimiter" in u && t(3, l = u.customDelimiter), "$$scope" in u && t(4, s = u.$$scope) }, n.$$.update = () => { n.$$.dirty & 12 && t(1, i = l != null ? l : `${o("FUSE.Common.ListDelimiter")} `) }, [a, i, o, l, s, r] } class so extends oe { constructor(e) { super(), se(this, e, _8e, p8e, ye, { translateFn: 2, items: 0, customDelimiter: 3 }) } } const v8e = n => ({}), SD = n => ({}); function CD(n) { let e, t; const i = n[9].badge, r = We(i, n, n[8], SD); return { c() { e = L("span"), r && r.c(), this.h() }, l(s) { e = T(s, "SPAN", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "multiline-clamp__badge svelte-1a7gcr6") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 256) && Je(r, i, s, s[8], t ? Ke(i, s[8], o, v8e) : Ye(s[8]), SD) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function b8e(n) { let e, t, i; const r = n[9].default, s = We(r, n, n[8], null); let o = n[6].badge && n[2] && CD(n); return { c() { e = L("div"), t = L("span"), s && s.c(), o && o.c(), this.h() }, l(a) { e = T(a, "DIV", { class: !0, style: !0, role: !0 }); var l = E(e); t = T(l, "SPAN", { class: !0 }); var u = E(t); s && s.l(u), u.forEach(_), o && o.l(l), l.forEach(_), this.h() }, h() { p(t, "class", "multiline-clamp__text svelte-1a7gcr6"), p(e, "class", "multiline-clamp svelte-1a7gcr6"), Pt(e, "--mc-lineClamp", "var(--defaultClampOverride, " + n[0] + ")"), p(e, "role", "text"), J(e, "multiline-clamp--overflow", n[1]), J(e, "multiline-clamp--multiline", n[4]), J(e, "multiline-clamp--truncated", n[5]), J(e, "multiline-clamp--with-badge", n[6].badge && n[2]) }, m(a, l) { I(a, e, l), A(e, t), s && s.m(t, null), o && o.m(e, null), n[10](e), i = !0 }, p(a, [l]) { s && s.p && (!i || l & 256) && Je(s, r, a, a[8], i ? Ke(r, a[8], l, null) : Ye(a[8]), null), a[6].badge && a[2] ? o ? (o.p(a, l), l & 68 && w(o, 1)) : (o = CD(a), o.c(), w(o, 1), o.m(e, null)) : o && (te(), D(o, 1, 1, () => { o = null }), ne()), (!i || l & 1) && Pt(e, "--mc-lineClamp", "var(--defaultClampOverride, " + a[0] + ")"), (!i || l & 2) && J(e, "multiline-clamp--overflow", a[1]), (!i || l & 16) && J(e, "multiline-clamp--multiline", a[4]), (!i || l & 32) && J(e, "multiline-clamp--truncated", a[5]), (!i || l & 68) && J(e, "multiline-clamp--with-badge", a[6].badge && a[2]) }, i(a) { i || (w(s, a), w(o), i = !0) }, o(a) { D(s, a), D(o), i = !1 }, d(a) { a && _(e), s && s.d(a), o && o.d(), n[10](null) } } } const Um = typeof window < "u" && window.ResizeObserver ? new window.ResizeObserver(n => { for (const e of n) { const t = Math.ceil(e.contentRect.height), i = Math.ceil(e.target.scrollHeight), r = Math.ceil(e.borderBoxSize[0].blockSize), s = getComputedStyle(e.target), o = parseInt(s.getPropertyValue("line-height")), a = t > o, l = t / o, u = i > r, c = new CustomEvent("lineClampResize", { detail: { multiline: a, multilineCount: l, truncated: u } }); e.target.dispatchEvent(c) } }) : null; function y8e(n, e, t) { let { $$slots: i = {}, $$scope: r } = e; const s = wn(i); let { clamp: o = 1 } = e, { observe: a = !1 } = e, { allowFocusOverflow: l = !1 } = e, { shouldRenderBadgeSlots: u = !0 } = e, c, d = !1, f = !1; if (a && Um) { const h = It(), m = To(); Yt(() => (Um.observe(c), c.addEventListener("lineClampResize", v => { h("resize", v.detail), s.badge && u && m.add(() => { t(4, d = v.detail.multiline), t(5, f = v.detail.truncated) }) }), () => { Um.unobserve(c) })) } function g(h) { wt[h ? "unshift" : "push"](() => { c = h, t(3, c) }) } return n.$$set = h => { "clamp" in h && t(0, o = h.clamp), "observe" in h && t(7, a = h.observe), "allowFocusOverflow" in h && t(1, l = h.allowFocusOverflow), "shouldRenderBadgeSlots" in h && t(2, u = h.shouldRenderBadgeSlots), "$$scope" in h && t(8, r = h.$$scope) }, [o, l, u, c, d, f, s, a, r, i, g] } class $l extends oe { constructor(e) { super(), se(this, e, y8e, b8e, ye, { clamp: 0, observe: 7, allowFocusOverflow: 1, shouldRenderBadgeSlots: 2 }) } } function PD(n) { let e, t; return e = new en({ props: { action: n[24] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 16777216 && (s.action = i[24]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function AD(n) { let e, t, i; return t = new Ki({ props: { ariaLabel: n[17], playAction: n[8] } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "vertical-video__play-button svelte-fjkqee") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[0] & 131072 && (o.ariaLabel = r[17]), s[0] & 256 && (o.playAction = r[8]), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function ED(n) { let e, t, i; return t = new ls({ props: { attachedTo: n[0].contentDescriptor, isPlayable: n[0].playAction !== null, itemProperties: { subtitleLinks: n[1], title: n[22], artwork: n[0].artwork, recoID: $i(n[8]) } } }), t.$on("contextMenuVisibilityChange", n[26]), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "vertical-video__context-button svelte-fjkqee") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[0] & 1 && (o.attachedTo = r[0].contentDescriptor), s[0] & 1 && (o.isPlayable = r[0].playAction !== null), s[0] & 4194563 && (o.itemProperties = { subtitleLinks: r[1], title: r[22], artwork: r[0].artwork, recoID: $i(r[8]) }), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function ID(n) { let e, t; return { c() { e = L("div"), t = le(n[4]), this.h() }, l(i) { e = T(i, "DIV", { class: !0, "data-testid": !0 }); var r = E(e); t = ue(r, n[4]), r.forEach(_), this.h() }, h() { p(e, "class", "vertical-video__headline svelte-fjkqee"), p(e, "data-testid", "vertical-video-headline"), J(e, "vertical-video__headline--rank", n[23]) }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r[0] & 16 && me(t, i[4]), r[0] & 8388608 && J(e, "vertical-video__headline--rank", i[23]) }, d(i) { i && _(e) } } } function MD(n) { let e, t, i, r; t = new $l({ props: { clamp: 2, allowFocusOverflow: !0, observe: !0, $$slots: { badge: [D8e], default: [k8e] }, $$scope: { ctx: n } } }), t.$on("resize", function () { Ft(n[11]) && n[11].apply(this, arguments) }); let s = n[18] && LD(n); return { c() { e = L("div"), V(t.$$.fragment), i = Y(), s && s.c(), this.h() }, l(o) { e = T(o, "DIV", { "data-testid": !0, class: !0 }); var a = E(e); q(t.$$.fragment, a), i = X(a), s && s.l(a), a.forEach(_), this.h() }, h() { p(e, "data-testid", "vertical-video-title"), p(e, "class", "vertical-video__title svelte-fjkqee"), J(e, "vertical-video__title--multiline", n[6]) }, m(o, a) { I(o, e, a), H(t, e, null), A(e, i), s && s.m(e, null), r = !0 }, p(o, a) { n = o; const l = {}; a[0] & 20979712 | a[1] & 64 && (l.$$scope = { dirty: a, ctx: n }), t.$set(l), n[18] ? s ? (s.p(n, a), a[0] & 262144 && w(s, 1)) : (s = LD(n), s.c(), w(s, 1), s.m(e, null)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()), (!r || a[0] & 64) && J(e, "vertical-video__title--multiline", n[6]) }, i(o) { r || (w(t.$$.fragment, o), w(s), r = !0) }, o(o) { D(t.$$.fragment, o), D(s), r = !1 }, d(o) { o && _(e), $(t), s && s.d() } } } function w8e(n) { let e; return { c() { e = le(n[22]) }, l(t) { e = ue(t, n[22]) }, m(t, i) { I(t, e, i) }, p(t, i) { i[0] & 4194304 && me(e, t[22]) }, d(t) { t && _(e) } } } function k8e(n) { let e, t; return e = new en({ props: { action: n[24], $$slots: { default: [w8e] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 16777216 && (s.action = i[24]), r[0] & 4194304 | r[1] & 64 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function D8e(n) { let e, t; return e = new us({ props: { inFavorites: n[13], slot: "badge" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 8192 && (s.inFavorites = i[13]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function LD(n) { let e, t; return e = new Nc({ props: { explicitAriaText: n[16] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 65536 && (s.explicitAriaText = i[16]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function TD(n) { let e, t, i; return t = new $l({ props: { clamp: n[6] ? 1 : 2, allowFocusOverflow: !0, observe: !0, $$slots: { default: [E8e] }, $$scope: { ctx: n } } }), t.$on("resize", function () { Ft(n[10]) && n[10].apply(this, arguments) }), { c() { e = L("p"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "P", { "data-testid": !0, class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "data-testid", "vertical-video-subtitle"), p(e, "class", "vertical-video__subtitles svelte-fjkqee"), J(e, "vertical-video__subtitles--multiline", n[7]), J(e, "vertical-video__subtitles--singlet", n[12]) }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { n = r; const o = {}; s[0] & 64 && (o.clamp = n[6] ? 1 : 2), s[0] & 34 | s[1] & 64 && (o.$$scope = { dirty: s, ctx: n }), t.$set(o), (!i || s[0] & 128) && J(e, "vertical-video__subtitles--multiline", n[7]), (!i || s[0] & 4096) && J(e, "vertical-video__subtitles--singlet", n[12]) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function S8e(n) { let e = n[36].title + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[1] & 32 && e !== (e = i[36].title + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function C8e(n) { let e, t; return e = new en({ props: { action: n[36].segue, $$slots: { default: [P8e] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[1] & 32 && (s.action = i[36].segue), r[1] & 96 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function P8e(n) { let e = n[36].title + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[1] & 32 && e !== (e = i[36].title + "") && me(t, e) }, d(i) { i && _(t) } } } function A8e(n) { let e, t, i, r; const s = [C8e, S8e], o = []; function a(l, u) { return l[36].segue ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, u) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function E8e(n) { let e, t; return e = new so({ props: { items: n[1], translateFn: n[5].t, $$slots: { default: [A8e, ({ item: i }) => ({ 36: i }), ({ item: i }) => [0, i ? 32 : 0]] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 2 && (s.items = i[1]), r[0] & 32 && (s.translateFn = i[5].t), r[1] & 96 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function I8e(n) { let e, t, i, r, s, o, a, l, u, c, d, f = n[24] && PD(n); r = new Gt({ props: { artwork: n[3], profile: n[15], forceCropCode: !0, fallbackKind: n[2] } }); let g = n[8] && AD(n), h = !!n[0].contentDescriptor && ED(n), m = n[4] && ID(n), v = n[22] && MD(n), b = n[1].length > 0 && TD(n); return { c() { e = L("div"), t = L("div"), f && f.c(), i = Y(), V(r.$$.fragment), s = Y(), g && g.c(), o = Y(), h && h.c(), a = Y(), m && m.c(), l = Y(), u = L("div"), v && v.c(), c = Y(), b && b.c(), this.h() }, l(y) { e = T(y, "DIV", { class: !0, "data-testid": !0 }); var k = E(e); t = T(k, "DIV", { class: !0, "data-testid": !0 }); var S = E(t); f && f.l(S), i = X(S), q(r.$$.fragment, S), s = X(S), g && g.l(S), o = X(S), h && h.l(S), S.forEach(_), a = X(k), m && m.l(k), l = X(k), u = T(k, "DIV", { class: !0 }); var C = E(u); v && v.l(C), c = X(C), b && b.l(C), C.forEach(_), k.forEach(_), this.h() }, h() { p(t, "class", "vertical-video__artwork-wrapper svelte-fjkqee"), p(t, "data-testid", "vertical-video-artwork-wrapper"), p(u, "class", "vertical-video__content-details svelte-fjkqee"), J(u, "vertical-video__content-details--no-subtitle-link", !n[21] && !n[20]), p(e, "class", "vertical-video svelte-fjkqee"), p(e, "data-testid", "vertical-video"), J(e, "vertical-video--large", n[19]), J(e, "vertical-video--episode", n[20]), J(e, "has-open-menu", n[9]) }, m(y, k) { I(y, e, k), A(e, t), f && f.m(t, null), A(t, i), H(r, t, null), A(t, s), g && g.m(t, null), A(t, o), h && h.m(t, null), A(e, a), m && m.m(e, null), A(e, l), A(e, u), v && v.m(u, null), A(u, c), b && b.m(u, null), d = !0 }, p(y, k) { y[24] ? f ? (f.p(y, k), k[0] & 16777216 && w(f, 1)) : (f = PD(y), f.c(), w(f, 1), f.m(t, i)) : f && (te(), D(f, 1, 1, () => { f = null }), ne()); const S = {}; k[0] & 8 && (S.artwork = y[3]), k[0] & 32768 && (S.profile = y[15]), k[0] & 4 && (S.fallbackKind = y[2]), r.$set(S), y[8] ? g ? (g.p(y, k), k[0] & 256 && w(g, 1)) : (g = AD(y), g.c(), w(g, 1), g.m(t, o)) : g && (te(), D(g, 1, 1, () => { g = null }), ne()), y[0].contentDescriptor ? h ? (h.p(y, k), k[0] & 1 && w(h, 1)) : (h = ED(y), h.c(), w(h, 1), h.m(t, null)) : h && (te(), D(h, 1, 1, () => { h = null }), ne()), y[4] ? m ? m.p(y, k) : (m = ID(y), m.c(), m.m(e, l)) : m && (m.d(1), m = null), y[22] ? v ? (v.p(y, k), k[0] & 4194304 && w(v, 1)) : (v = MD(y), v.c(), w(v, 1), v.m(u, c)) : v && (te(), D(v, 1, 1, () => { v = null }), ne()), y[1].length > 0 ? b ? (b.p(y, k), k[0] & 2 && w(b, 1)) : (b = TD(y), b.c(), w(b, 1), b.m(u, null)) : b && (te(), D(b, 1, 1, () => { b = null }), ne()), (!d || k[0] & 3145728) && J(u, "vertical-video__content-details--no-subtitle-link", !y[21] && !y[20]), (!d || k[0] & 524288) && J(e, "vertical-video--large", y[19]), (!d || k[0] & 1048576) && J(e, "vertical-video--episode", y[20]), (!d || k[0] & 512) && J(e, "has-open-menu", y[9]) }, i(y) { d || (w(f), w(r.$$.fragment, y), w(g), w(h), w(v), w(b), d = !0) }, o(y) { D(f), D(r.$$.fragment, y), D(g), D(h), D(v), D(b), d = !1 }, d(y) { y && _(e), f && f.d(), $(r), g && g.d(), h && h.d(), m && m.d(), v && v.d(), b && b.d() } } } function M8e(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F, N = j, O = () => (N(), N = yn(S, ge => t(33, F = ge)), S), B; n.$$.on_destroy.push(() => N()); var U, K; const W = ot(); ce(n, W, ge => t(5, B = ge)); const Z = Qn(), Q = To(); let { item: G } = e, { containerItems: ae = [] } = e, ee = !0, pe = !1, ke, we = !1; function Te(ge) { var Ce; t(9, we = (Ce = ge.detail) === null || Ce === void 0 ? void 0 : Ce.open) } return mn(() => { Z.unsubscribeFromUpdates(l) }), n.$$set = ge => { "item" in ge && t(0, G = ge.item), "containerItems" in ge && t(27, ae = ge.containerItems) }, n.$$.update = () => { n.$$.dirty[0] & 1 && t(24, i = G.segue), n.$$.dirty[0] & 134217729 && (G != null && G.playAction && new Set(ae.map(ge => ge.contentDescriptor.kind)).size === 1 ? t(8, ke = kR(G.playAction, ae.slice(ae.indexOf(G)).map(ge => ge.contentDescriptor))) : t(8, ke = G == null ? void 0 : G.playAction)), n.$$.dirty[0] & 1 && t(3, r = G.artwork), n.$$.dirty[0] & 1 && t(4, s = G.headline), n.$$.dirty[0] & 1 && t(32, o = G.headlineStyle), n.$$.dirty[1] & 2 && t(23, a = o === qd.Bold), n.$$.dirty[0] & 1 && t(30, l = Qt(G)), n.$$.dirty[0] & 1 && t(31, u = (G.titleLinks || [])[0]), n.$$.dirty[1] & 1 && t(22, c = u == null ? void 0 : u.title), n.$$.dirty[0] & 1 && t(1, d = G.subtitleLinks || []), n.$$.dirty[0] & 2 && t(21, f = d == null ? void 0 : d.some(ge => ge.segue)), n.$$.dirty[0] & 268435457 && t(2, g = (t(28, U = G.contentDescriptor) === null || U === void 0 ? void 0 : U.kind) || null), n.$$.dirty[0] & 20 && t(20, h = g === x.TVEpisode && !!s), n.$$.dirty[0] & 1 && t(19, m = G.displayStyle === Us.Large), n.$$.dirty[0] & 1 && t(18, v = G.showExplicitBadge), n.$$.dirty[0] & 32 && t(17, b = B.t("ASE.Web.Music.Play")), n.$$.dirty[0] & 32 && t(16, y = B.t("ASE.Web.Music.Explicit")), n.$$.dirty[0] & 8 && t(15, k = cve(r == null ? void 0 : r.dictionary.width, r == null ? void 0 : r.dictionary.height)), n.$$.dirty[0] & 1073741824 && O(t(14, S = Z.subscribeToUpdates(l))), n.$$.dirty[0] & 1610612740 | n.$$.dirty[1] & 4 && t(13, C = F && (t(29, K = Z.get(l, g)) === null || K === void 0 ? void 0 : K.inFavorites)), n.$$.dirty[0] & 2 && t(12, P = (d == null ? void 0 : d.length) === 1) }, t(11, M = ge => Q.add(() => t(6, ee = ge.detail.multiline))), t(10, R = ge => Q.add(() => t(7, pe = ge.detail.multiline))), [G, d, g, r, s, B, ee, pe, ke, we, R, M, P, C, S, k, y, b, v, m, h, f, c, a, i, W, Te, ae, U, K, l, u, o, F] } class L8e extends oe { constructor(e) { super(), se(this, e, M8e, I8e, ye, { item: 0, containerItems: 27 }, null, [-1, -1]) } } const T8e = n => ({}), RD = n => ({}); function FD(n) { let e, t; const i = n[8]["hover-slot"], r = We(i, n, n[7], RD); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "playing-bars-hover svelte-1lctgtc") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 128) && Je(r, i, s, s[7], t ? Ke(i, s[7], o, T8e) : Ye(s[7]), RD) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function R8e(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b = n[6]["hover-slot"] && FD(n); return { c() { e = L("div"), t = ve("svg"), i = ve("defs"), r = ve("rect"), s = ve("mask"), o = ve("use"), a = ve("g"), l = ve("use"), u = ve("g"), c = ve("use"), d = ve("g"), f = ve("use"), g = ve("g"), h = ve("use"), m = Y(), b && b.c(), this.h() }, l(y) { e = T(y, "DIV", { "aria-hidden": !0, class: !0, "data-testid": !0 }); var k = E(e); t = be(k, "svg", { class: !0, viewBox: !0 }); var S = E(t); i = be(S, "defs", {}); var C = E(i); r = be(C, "rect", { id: !0, x: !0, width: !0, y: !0, height: !0, rx: !0 }), E(r).forEach(_), s = be(C, "mask", { id: !0 }); var P = E(s); o = be(P, "use", { href: !0, fill: !0 }), E(o).forEach(_), P.forEach(_), C.forEach(_), a = be(S, "g", { mask: !0 }); var M = E(a); l = be(M, "use", { class: !0, href: !0 }), E(l).forEach(_), M.forEach(_), u = be(S, "g", { mask: !0, transform: !0 }); var R = E(u); c = be(R, "use", { class: !0, href: !0 }), E(c).forEach(_), R.forEach(_), d = be(S, "g", { mask: !0, transform: !0 }); var F = E(d); f = be(F, "use", { class: !0, href: !0 }), E(f).forEach(_), F.forEach(_), g = be(S, "g", { mask: !0, transform: !0 }); var N = E(g); h = be(N, "use", { class: !0, href: !0 }), E(h).forEach(_), N.forEach(_), S.forEach(_), m = X(k), b && b.l(k), k.forEach(_), this.h() }, h() { p(r, "id", `bar-${n[3]}`), p(r, "x", "0"), p(r, "width", "2.1"), p(r, "y", "0"), p(r, "height", "11"), p(r, "rx", ".25"), p(o, "href", `#bar-${n[3]}`), p(o, "fill", "white"), p(s, "id", `bar-mask-${n[3]}`), p(l, "class", "playback-bars__bar playback-bars__bar--1 svelte-1lctgtc"), p(l, "href", `#bar-${n[3]}`), p(a, "mask", `url(#bar-mask-${n[3]})`), p(c, "class", "playback-bars__bar playback-bars__bar--2 svelte-1lctgtc"), p(c, "href", `#bar-${n[3]}`), p(u, "mask", `url(#bar-mask-${n[3]})`), p(u, "transform", "translate(2.9668 0)"), p(f, "class", "playback-bars__bar playback-bars__bar--3 svelte-1lctgtc"), p(f, "href", `#bar-${n[3]}`), p(d, "mask", `url(#bar-mask-${n[3]})`), p(d, "transform", "translate(5.9333 0)"), p(h, "class", "playback-bars__bar playback-bars__bar--4 svelte-1lctgtc"), p(h, "href", `#bar-${n[3]}`), p(g, "mask", `url(#bar-mask-${n[3]})`), p(g, "transform", "translate(8.8999 0)"), p(t, "class", "playback-bars__svg icon svelte-1lctgtc"), p(t, "viewBox", "0 0 11 11"), p(e, "aria-hidden", "true"), p(e, "class", "playback-bars svelte-1lctgtc"), p(e, "data-testid", "playback-bars"), J(e, "playing", n[0] === n[4]), J(e, "paused", n[0] === n[5]), J(e, "is-refocused", n[1]), J(e, "is-not-focused", n[2]) }, m(y, k) { I(y, e, k), A(e, t), A(t, i), A(i, r), A(i, s), A(s, o), A(t, a), A(a, l), A(t, u), A(u, c), A(t, d), A(d, f), A(t, g), A(g, h), A(e, m), b && b.m(e, null), v = !0 }, p(y, [k]) { y[6]["hover-slot"] ? b ? (b.p(y, k), k & 64 && w(b, 1)) : (b = FD(y), b.c(), w(b, 1), b.m(e, null)) : b && (te(), D(b, 1, 1, () => { b = null }), ne()), (!v || k & 17) && J(e, "playing", y[0] === y[4]), (!v || k & 33) && J(e, "paused", y[0] === y[5]), (!v || k & 2) && J(e, "is-refocused", y[1]), (!v || k & 4) && J(e, "is-not-focused", y[2]) }, i(y) { v || (w(b), v = !0) }, o(y) { D(b), v = !1 }, d(y) { y && _(e), b && b.d() } } } const F8e = 1e4, OD = 1; function O8e(n, e, t) { let { $$slots: i = {}, $$scope: r } = e; const s = wn(i); let { iconState: o } = e, { isRefocused: a } = e, { isWindowNotFocused: l } = e; const u = Math.floor(Math.random() * (F8e - OD) + OD), { PLAYING: c, PAUSE: d } = ui; return n.$$set = f => { "iconState" in f && t(0, o = f.iconState), "isRefocused" in f && t(1, a = f.isRefocused), "isWindowNotFocused" in f && t(2, l = f.isWindowNotFocused), "$$scope" in f && t(7, r = f.$$scope) }, [o, a, l, u, c, d, s, r, i] } class N8e extends oe { constructor(e) { super(), se(this, e, O8e, R8e, ye, { iconState: 0, isRefocused: 1, isWindowNotFocused: 2 }) } } function ND(n) { let e, t; return e = new Kp({ props: { class: "playing-bars-hover-svg--pause", "aria-hidden": "true" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function BD(n) { let e, t; return e = new Wp({ props: { class: "playing-bars-hover-svg--play", "aria-hidden": "true" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function B8e(n) { let e, t, i, r = n[0] === n[1] && ND(), s = n[0] === n[2] && BD(); return { c() { r && r.c(), e = Y(), s && s.c(), t = re() }, l(o) { r && r.l(o), e = X(o), s && s.l(o), t = re() }, m(o, a) { r && r.m(o, a), I(o, e, a), s && s.m(o, a), I(o, t, a), i = !0 }, p(o, a) { o[0] === o[1] ? r ? a & 1 && w(r, 1) : (r = ND(), r.c(), w(r, 1), r.m(e.parentNode, e)) : r && (te(), D(r, 1, 1, () => { r = null }), ne()), o[0] === o[2] ? s ? a & 1 && w(s, 1) : (s = BD(), s.c(), w(s, 1), s.m(t.parentNode, t)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()) }, i(o) { i || (w(r), w(s), i = !0) }, o(o) { D(r), D(s), i = !1 }, d(o) { o && (_(e), _(t)), r && r.d(o), s && s.d(o) } } } function U8e(n) { let e, t; return e = new N8e({ props: { iconState: n[0], isWindowNotFocused: !n[4], isRefocused: n[3], $$slots: { "hover-slot": [B8e] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.iconState = i[0]), r & 16 && (s.isWindowNotFocused = !i[4]), r & 8 && (s.isRefocused = i[3]), r & 33 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function H8e(n) { let e, t; return e = new uh({ props: { $$slots: { default: [U8e, ({ didRefocus: i, isWindowInFocus: r }) => ({ 3: i, 4: r }), ({ didRefocus: i, isWindowInFocus: r }) => (i ? 8 : 0) | (r ? 16 : 0)] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 57 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function $8e(n, e, t) { let { iconState: i } = e; const { PLAYING: r, PAUSE: s } = ui; return n.$$set = o => { "iconState" in o && t(0, i = o.iconState) }, [i, r, s] } class UD extends oe { constructor(e) { super(), se(this, e, $8e, H8e, ye, { iconState: 0 }) } } function V8e(n) { let e, t, i, r, s; return t = new jg({ props: { iconSetOverride: n[4], iconState: n[1], ariaLabel: n[0], iconSet: "non-platter" } }), t.$on("click", n[5]), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(o) { e = T(o, "DIV", { class: !0 }); var a = E(e); q(t.$$.fragment, a), a.forEach(_), this.h() }, h() { p(e, "class", "interactive-play-button svelte-a72zjx") }, m(o, a) { I(o, e, a), H(t, e, null), i = !0, r || (s = Me(e, "dblclick", Vi(n[16])), r = !0) }, p(o, [a]) { const l = {}; a & 2 && (l.iconState = o[1]), a & 1 && (l.ariaLabel = o[0]), t.$set(l) }, i(o) { i || (w(t.$$.fragment, o), i = !0) }, o(o) { D(t.$$.fragment, o), i = !1 }, d(o) { o && _(e), $(t), r = !1, s() } } } function z8e(n, e, t) { let i, r, s, o, a, l, u, c, d; const f = ot(); ce(n, f, M => t(14, c = M)); const g = sn(), h = It(), m = zn(), { queue: v } = m; ce(n, v, M => t(15, d = M)); let { item: b } = e, { ariaLabel: y = null } = e, { isExplicit: k = !1 } = e; const S = $1e("non-platter", { [ui.PLAYING]: UD, [ui.PAUSE]: UD }); function C() { o && b.pauseAction ? (g(b.pauseAction), h("pause")) : a && b.resumeAction ? (g(b.resumeAction), h("resume")) : !s && b.playAction && (g(b.playAction), h("play")) } function P(M) { Bt.call(this, n, M) } return n.$$set = M => { "item" in M && t(6, b = M.item), "ariaLabel" in M && t(7, y = M.ariaLabel), "isExplicit" in M && t(8, k = M.isExplicit) }, n.$$.update = () => { n.$$.dirty & 64 && t(13, i = Qt(b)), n.$$.dirty & 40960 && t(12, r = i && d.nowPlayingItemId === i), n.$$.dirty & 36864 && t(9, s = r && d.derivedStates.isLoading), n.$$.dirty & 36864 && t(11, o = r && d.derivedStates.isPlaying), n.$$.dirty & 36864 && t(10, a = r && d.derivedStates.isPaused), n.$$.dirty & 3584 && t(1, l = (() => s ? ui.BUFFER : o ? ui.PLAYING : a ? ui.PAUSE : ui.PLAY)()), n.$$.dirty & 18816 && t(0, u = (() => { if (y) return y; let M = o ? c.t("ASE.Web.Music.Pause") : c.t("ASE.Web.Music.Play"); return k ? c.t("ASE.Web.Music.ContentA.Comma.ContentB", { contentA: c.t("ASE.Web.Music.Explicit"), contentB: M }) : M })()) }, [u, l, f, v, S, C, b, y, k, s, a, o, r, i, c, d, P] } class BB extends oe { constructor(e) { super(), se(this, e, z8e, V8e, ye, { item: 6, ariaLabel: 7, isExplicit: 8 }) } } function q8e(n) { let e, t, i = [{ width: "10" }, { height: "10" }, { viewBox: "0 0 10 10" }, { xmlns: "http://www.w3.org/2000/svg" }, { "fill-rule": "evenodd" }, { "clip-rule": "evenodd" }, { "stroke-linejoin": "round" }, { "stroke-miterlimit": "2" }, { class: "add-to-library__glyph add-to-library__glyph-add" }, { "aria-hidden": "true" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0, "fill-rule": !0, "clip-rule": !0, "stroke-linejoin": !0, "stroke-miterlimit": !0, class: !0, "aria-hidden": !0 }); var o = E(e); t = be(o, "path", { d: !0, "fill-rule": !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M.784 5.784h3.432v3.432c0 .43.354.784.784.784.43 0 .784-.354.784-.784V5.784h3.432a.784.784 0 1 0 0-1.568H5.784V.784A.788.788 0 0 0 5 0a.788.788 0 0 0-.784.784v3.432H.784a.784.784 0 1 0 0 1.568z"), p(t, "fill-rule", "nonzero"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "10" }, { height: "10" }, { viewBox: "0 0 10 10" }, { xmlns: "http://www.w3.org/2000/svg" }, { "fill-rule": "evenodd" }, { "clip-rule": "evenodd" }, { "stroke-linejoin": "round" }, { "stroke-miterlimit": "2" }, { class: "add-to-library__glyph add-to-library__glyph-add" }, { "aria-hidden": "true" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function W8e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let K8e = class extends oe { constructor(e) { super(), se(this, e, W8e, q8e, ht, {}) } }; function J8e(n) { let e, t, i, r = [{ viewBox: "0 0 28 28" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], s = {}; for (let o = 0; o < r.length; o += 1)s = fe(s, r[o]); return { c() { e = ve("svg"), t = ve("path"), i = ve("path"), this.h() }, l(o) { e = be(o, "svg", { viewBox: !0, xmlns: !0 }); var a = E(e); t = be(a, "path", { d: !0, style: !0, transform: !0 }), E(t).forEach(_), i = be(a, "path", { d: !0, style: !0, transform: !0 }), E(i).forEach(_), a.forEach(_), this.h() }, h() { p(t, "d", "M46.7 75.08A39.91 39.91 0 0 0 86.63 35.2c0-21.99-17.88-39.87-39.91-39.87A39.9 39.9 0 0 0 6.84 35.22 39.9 39.9 0 0 0 46.7 75.07Z"), Pt(t, "fill", "var(--checkmark-circle-fill-platter, var(--systemQuinary, rgb(127, 127, 127)))"), p(t, "transform", "translate(-2.4 1.65) scale(.35088)"), p(i, "d", "M42.44 54.19c-1.63 0-2.94-.67-4.16-2.25L29.34 40.9a4.54 4.54 0 0 1-1.13-2.98c0-2.2 1.67-3.95 3.9-3.95 1.3 0 2.33.45 3.41 1.87l6.75 8.79 15.17-24.4c.89-1.5 2.08-2.26 3.4-2.26 2.15 0 4.08 1.45 4.08 3.72 0 1-.5 2.05-1.13 3L46.37 51.92a4.59 4.59 0 0 1-3.93 2.27Z"), Pt(i, "fill", "var(--checkmark-circle-fill-check, var(--keyColor, rgb(255, 255, 255)))"), p(i, "transform", "translate(-2.4 1.65) scale(.35088)"), Le(e, s) }, m(o, a) { I(o, e, a), A(e, t), A(e, i) }, p(o, [a]) { Le(e, s = at(r, [{ viewBox: "0 0 28 28" }, { xmlns: "http://www.w3.org/2000/svg" }, a & 1 && o[0]])) }, i: j, o: j, d(o) { o && _(e) } } } function Y8e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let X8e = class extends oe { constructor(e) { super(), se(this, e, Y8e, J8e, ht, {}) } }; const Z8e = 5e3; function Q8e(n) { let e, t, i = [{ width: "16" }, { height: "16" }, { viewBox: "0 0 16 16" }, { xmlns: "http://www.w3.org/2000/svg" }, { "fill-rule": "evenodd" }, { "clip-rule": "evenodd" }, { "stroke-linejoin": "round" }, { "stroke-miterlimit": "2" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0, "fill-rule": !0, "clip-rule": !0, "stroke-linejoin": !0, "stroke-miterlimit": !0 }); var o = E(e); t = be(o, "path", { d: !0, "fill-rule": !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M8.003 14.992h-.006c-3.836 0-6.992-3.156-6.992-6.992s3.156-6.992 6.992-6.992c1.658 0 3.261.589 4.524 1.66.17.112.273.302.273.505 0 .33-.273.603-.603.603a.606.606 0 0 1-.447-.199 5.797 5.797 0 0 0-3.741-1.37c-3.18 0-5.795 2.617-5.795 5.796 0 3.18 2.616 5.795 5.795 5.795s5.795-2.616 5.795-5.795V8c.037-.3.295-.53.598-.53.304 0 .562.228.599.53 0 3.836-3.156 6.992-6.992 6.992"), p(t, "fill-rule", "nonzero"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "16" }, { height: "16" }, { viewBox: "0 0 16 16" }, { xmlns: "http://www.w3.org/2000/svg" }, { "fill-rule": "evenodd" }, { "clip-rule": "evenodd" }, { "stroke-linejoin": "round" }, { "stroke-miterlimit": "2" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function j8e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let G8e = class extends oe { constructor(e) { super(), se(this, e, j8e, Q8e, ht, {}) } }; function x8e(n) { let e, t, i; return t = new G8e({}), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { "data-testid": !0, class: !0, style: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "data-testid", "spinner"), p(e, "class", "spinner svelte-e5t4nl"), Pt(e, "--spinner-duration", n[0]) }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, [s]) { (!i || s & 1) && Pt(e, "--spinner-duration", r[0]) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function e9e(n, e, t) { let { duration: i = 1 } = e; return n.$$set = r => { "duration" in r && t(0, i = r.duration) }, [i] } class t9e extends oe { constructor(e) { super(), se(this, e, e9e, x8e, ye, { duration: 0 }) } } function n9e(n) { let e, t, i, r, s, o, a, l; t = new K8e({}); let u = !n[0] && HD(n); return { c() { e = L("button"), V(t.$$.fragment), i = Y(), u && u.c(), this.h() }, l(c) { e = T(c, "BUTTON", { class: !0, "aria-label": !0, title: !0, "data-testid": !0, tabindex: !0 }); var d = E(e); q(t.$$.fragment, d), i = X(d), u && u.l(d), d.forEach(_), this.h() }, h() { p(e, "class", "add-to-library-button svelte-lumgw1"), p(e, "aria-label", r = n[5].t("ASE.Web.Music.VO.AddToLibraryLabel")), p(e, "title", s = n[5].t("ASE.Web.Music.VO.AddToLibraryLabel")), p(e, "data-testid", "add-to-library-button"), p(e, "tabindex", "0"), J(e, "add-to-library-button--icon-only", n[0]) }, m(c, d) { I(c, e, d), H(t, e, null), A(e, i), u && u.m(e, null), o = !0, a || (l = Me(e, "click", Vi(n[8])), a = !0) }, p(c, d) { c[0] ? u && (u.d(1), u = null) : u ? u.p(c, d) : (u = HD(c), u.c(), u.m(e, null)), (!o || d & 32 && r !== (r = c[5].t("ASE.Web.Music.VO.AddToLibraryLabel"))) && p(e, "aria-label", r), (!o || d & 32 && s !== (s = c[5].t("ASE.Web.Music.VO.AddToLibraryLabel"))) && p(e, "title", s), (!o || d & 1) && J(e, "add-to-library-button--icon-only", c[0]) }, i(c) { o || (w(t.$$.fragment, c), o = !0) }, o(c) { D(t.$$.fragment, c), o = !1 }, d(c) { c && _(e), $(t), u && u.d(), a = !1, l() } } } function i9e(n) { let e, t; return e = new t9e({}), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function r9e(n) { let e, t, i = n[5].t("ASE.Web.Music.Library.States.justAdded") + "", r, s, o, a; return o = new X8e({ props: { class: "added-to-library-flash__check-icon" } }), { c() { e = L("div"), t = L("span"), r = le(i), s = Y(), V(o.$$.fragment), this.h() }, l(l) { e = T(l, "DIV", { "data-testid": !0, class: !0 }); var u = E(e); t = T(u, "SPAN", { class: !0 }); var c = E(t); r = ue(c, i), c.forEach(_), s = X(u), q(o.$$.fragment, u), u.forEach(_), this.h() }, h() { p(t, "class", "added-to-library-flash__text"), p(e, "data-testid", "added-to-library"), p(e, "class", "added-to-library-flash svelte-lumgw1") }, m(l, u) { I(l, e, u), A(e, t), A(t, r), A(e, s), H(o, e, null), a = !0 }, p(l, u) { (!a || u & 32) && i !== (i = l[5].t("ASE.Web.Music.Library.States.justAdded") + "") && me(r, i) }, i(l) { a || (w(o.$$.fragment, l), a = !0) }, o(l) { D(o.$$.fragment, l), a = !1 }, d(l) { l && _(e), $(o) } } } function HD(n) { let e, t, i = n[5].t("ASE.Web.Music.Shared.Add") + "", r; return { c() { e = L("span"), t = le(""), r = le(i), this.h() }, l(s) { e = T(s, "SPAN", { class: !0 }); var o = E(e); t = ue(o, ""), r = ue(o, i), o.forEach(_), this.h() }, h() { p(e, "class", "add-to-library-button__text svelte-lumgw1") }, m(s, o) { I(s, e, o), A(e, t), A(e, r) }, p(s, o) { o & 32 && i !== (i = s[5].t("ASE.Web.Music.Shared.Add") + "") && me(r, i) }, d(s) { s && _(e) } } } function s9e(n) { let e, t, i, r; const s = [r9e, i9e, n9e], o = []; function a(l, u) { return l[1] && !l[0] ? 0 : l[2] ? 1 : l[3] ? 2 : -1 } return ~(e = a(n)) && (t = o[e] = s[e](n)), { c() { t && t.c(), i = re() }, l(l) { t && t.l(l), i = re() }, m(l, u) { ~e && o[e].m(l, u), I(l, i, u), r = !0 }, p(l, [u]) { let c = e; e = a(l), e === c ? ~e && o[e].p(l, u) : (t && (te(), D(o[c], 1, 1, () => { o[c] = null }), ne()), ~e ? (t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) : t = null) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), ~e && o[e].d(l) } } } function o9e(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h = j, m = () => (h(), h = yn(l, K => t(20, g = K)), l), v, b; ce(n, gl, K => t(19, f = K)), n.$$.on_destroy.push(() => h()); var y; let { contentDescriptor: k } = e, { iconOnly: S = !1 } = e, { isStoreOnlyContent: C = !1 } = e; const P = kn("<AddToLibrary>"), M = ot(); ce(n, M, K => t(5, b = K)); const R = fn(), F = Qn(), { state: N } = xt(); ce(n, N, K => t(21, v = K)); let O = !1, B = !1; mn(() => { F.unsubscribeFromUpdates(a) }); const U = async () => { try { t(2, B = !0), await R.perform(df({ items: [{ contentDescriptor: k }] }, { targetId: a, targetType: "button", actionContext: "AddToLibraryButton" })), t(2, B = !1), t(1, O = !0), setTimeout(function () { t(1, O = !1) }, Z8e) } catch (K) { t(2, B = !1), P.error("Adding item to library failed:", K) } }; return n.$$set = K => { "contentDescriptor" in K && t(9, k = K.contentDescriptor), "iconOnly" in K && t(0, S = K.iconOnly), "isStoreOnlyContent" in K && t(10, C = K.isStoreOnlyContent) }, n.$$.update = () => { n.$$.dirty & 512 && t(18, i = k == null ? void 0 : k.kind), n.$$.dirty & 2099200 && t(15, r = bi(t(11, y = v.user) === null || y === void 0 ? void 0 : y.subscriberType)), n.$$.dirty & 262144 && t(16, s = Lg.includes(i)), n.$$.dirty & 262144 && t(13, o = [x.ArtistUploadedSong, x.ArtistUploadedVideo].includes(i)), n.$$.dirty & 512 && t(12, a = fr({ contentDescriptor: k })), n.$$.dirty & 4096 && m(t(4, l = F.subscribeToUpdates(a))), n.$$.dirty & 1347584 && t(17, u = (() => { var K; return r ? (K = F.get(a, i)) === null || K === void 0 ? void 0 : K.inLibrary : !1 })()), n.$$.dirty & 721408 && t(14, c = f || s && u || Pl(k)), n.$$.dirty & 123904 && t(3, d = s && r && !C && !c && !o && R.isUserInHomeStorefront()) }, [S, O, B, d, l, b, M, N, U, k, C, y, a, o, c, r, s, u, i, f, g, v] } class a9e extends oe { constructor(e) { super(), se(this, e, o9e, s9e, ye, { contentDescriptor: 9, iconOnly: 0, isStoreOnlyContent: 10 }) } } const $D = { type: null, isOpen: !1, playlistId: null, playlistName: null, invitationUrl: null, approvalRequired: null, collaborators: null, pendingCollaborators: null, isCollaborativeHost: !1 }; function l9e() { const { set: n, subscribe: e, update: t } = Tt($D); return { set: n, subscribe: e, setVisibility: i => { t(r => ({ ...r, isOpen: i })) }, resetCollabState: () => { t(() => $D) } } } const pf = l9e(); const u9e = n => ({}), VD = n => ({ onContextMenuActionComplete: n[12] }); function c9e(n) { let e, t = !1, i, r, s, o = t, a = !n[4] && zD(n), l = !n[5] && qD(n); return { c() { e = L("div"), i = Y(), a && a.c(), r = Y(), l && l.c(), this.h() }, l(u) { e = T(u, "DIV", { class: !0, "data-testid": !0 }); var c = E(e); i = X(c), a && a.l(c), r = X(c), l && l.l(c), c.forEach(_), this.h() }, h() { p(e, "class", "cloud-buttons svelte-u0auos"), p(e, "data-testid", "cloud-buttons") }, m(u, c) { I(u, e, c), A(e, i), a && a.m(e, null), A(e, r), l && l.m(e, null), s = !0 }, p(u, c) { u[4] ? a && (te(), D(a, 1, 1, () => { a = null }), ne()) : a ? (a.p(u, c), c & 16 && w(a, 1)) : (a = zD(u), a.c(), w(a, 1), a.m(e, r)), u[5] ? l && (te(), D(l, 1, 1, () => { l = null }), ne()) : l ? (l.p(u, c), c & 32 && w(l, 1)) : (l = qD(u), l.c(), w(l, 1), l.m(e, null)) }, i(u) { s || (w(o), w(a), w(l), s = !0) }, o(u) { D(o), D(a), D(l), s = !1 }, d(u) { u && _(e), a && a.d(), l && l.d() } } } function d9e(n) { let e; const t = n[21].default, i = We(t, n, n[20], VD); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 1048576) && Je(i, t, r, r[20], e ? Ke(t, r[20], s, u9e) : Ye(r[20]), VD) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function zD(n) { let e, t; return e = new a9e({ props: { contentDescriptor: n[0], iconOnly: n[6], isStoreOnlyContent: n[2] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.contentDescriptor = i[0]), r & 64 && (s.iconOnly = i[6]), r & 4 && (s.isStoreOnlyContent = i[2]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function qD(n) { let e, t; return e = new ls({ props: { attachedTo: n[0], isPlayable: n[1], itemProperties: n[3], hasMaterial: n[7], skipInvalidationOnDelete: n[8], buttonStyle: n[9] } }), e.$on("actionComplete", n[12]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.attachedTo = i[0]), r & 2 && (s.isPlayable = i[1]), r & 8 && (s.itemProperties = i[3]), r & 128 && (s.hasMaterial = i[7]), r & 256 && (s.skipInvalidationOnDelete = i[8]), r & 512 && (s.buttonStyle = i[9]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function f9e(n) { let e, t, i, r; const s = [d9e, c9e], o = []; function a(l, u) { return l[15].default ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, [u]) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function g9e(n, e, t) { let i, r, { $$slots: s = {}, $$scope: o } = e; const a = wn(s); var l, u; const c = It(), { state: d } = xt(); ce(n, d, O => t(19, r = O)); const f = sn(); let { contentDescriptor: g } = e, { isPlayable: h } = e, { isStoreOnlyContent: m = !1 } = e, { itemProperties: v = null } = e, { hideAddToLibrary: b = !1 } = e, { hideContextualMenu: y = !1 } = e, { iconOnly: k = !1 } = e, { hasMaterial: S = !1 } = e, { skipInvalidationOnDelete: C = !1 } = e, { buttonStyle: P = void 0 } = e, { collaborators: M = [] } = e; function R(O) { c("contextMenuActionComplete", O.detail) } function F() { const O = Pr(g); pf.set({ type: nN.GetLink, isOpen: !0, playlistId: O }) } function N() { const O = v == null ? void 0 : v.collaborationId, B = v == null ? void 0 : v.title, U = v == null ? void 0 : v.isCollaborativeHost; f(Bne(O, B, U ? null : M, !!U)) } return n.$$set = O => { "contentDescriptor" in O && t(0, g = O.contentDescriptor), "isPlayable" in O && t(1, h = O.isPlayable), "isStoreOnlyContent" in O && t(2, m = O.isStoreOnlyContent), "itemProperties" in O && t(3, v = O.itemProperties), "hideAddToLibrary" in O && t(4, b = O.hideAddToLibrary), "hideContextualMenu" in O && t(5, y = O.hideContextualMenu), "iconOnly" in O && t(6, k = O.iconOnly), "hasMaterial" in O && t(7, S = O.hasMaterial), "skipInvalidationOnDelete" in O && t(8, C = O.skipInvalidationOnDelete), "buttonStyle" in O && t(9, P = O.buttonStyle), "collaborators" in O && t(16, M = O.collaborators), "$$scope" in O && t(20, o = O.$$scope) }, n.$$.update = () => { n.$$.dirty & 917504 && t(10, i = t(18, u = t(17, l = r == null ? void 0 : r.userSocialProfile) === null || l === void 0 ? void 0 : l.userSocialProfileDescriptor) !== null && u !== void 0 ? u : {}) }, [g, h, m, v, b, y, k, S, C, P, i, d, R, F, N, a, M, l, u, r, o, s] } class Bc extends oe { constructor(e) { super(), se(this, e, g9e, f9e, ye, { contentDescriptor: 0, isPlayable: 1, isStoreOnlyContent: 2, itemProperties: 3, hideAddToLibrary: 4, hideContextualMenu: 5, iconOnly: 6, hasMaterial: 7, skipInvalidationOnDelete: 8, buttonStyle: 9, collaborators: 16 }) } } function h9e(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, { width: "64" }, { height: "64" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, viewBox: !0, width: !0, height: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M31.986 64C49.504 64 64 49.525 64 32 64 14.474 49.476 0 31.959 0 14.463 0 0 14.474 0 32c0 17.525 14.49 32 31.986 32zm0-6.29c-14.228 0-25.65-11.448-25.65-25.71S17.73 6.29 31.96 6.29c14.255 0 25.727 11.448 25.727 25.71a25.626 25.626 0 0 1-25.7 25.71zM17.664 31.994c0 1.674 1.203 2.868 2.923 2.868h8.472v8.531c0 1.693 1.194 2.897 2.866 2.897 1.739 0 2.933-1.198 2.933-2.897v-8.53h8.527c1.693 0 2.896-1.195 2.896-2.869 0-1.711-1.198-2.933-2.896-2.933h-8.527v-8.504c0-1.726-1.194-2.924-2.933-2.924-1.672 0-2.866 1.204-2.866 2.924v8.504h-8.472c-1.725 0-2.923 1.222-2.923 2.933z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, { width: "64" }, { height: "64" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function m9e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let p9e = class extends oe { constructor(e) { super(), se(this, e, m9e, h9e, ht, {}) } }; function _9e(n) { let e, t, i, r, s, o; return t = new p9e({}), { c() { e = L("button"), V(t.$$.fragment), this.h() }, l(a) { e = T(a, "BUTTON", { class: !0, "aria-label": !0, "data-testid": !0 }); var l = E(e); q(t.$$.fragment, l), l.forEach(_), this.h() }, h() { p(e, "class", "add-to-playlist-button svelte-turtz4"), p(e, "aria-label", i = n[0].t("ASE.Web.Music.ContextualMenu.AddToPlaylist")), p(e, "data-testid", "add-to-playlist-button") }, m(a, l) { I(a, e, l), H(t, e, null), r = !0, s || (o = Me(e, "click", Vi(Cr(n[2], 1e3))), s = !0) }, p(a, [l]) { (!r || l & 1 && i !== (i = a[0].t("ASE.Web.Music.ContextualMenu.AddToPlaylist"))) && p(e, "aria-label", i) }, i(a) { r || (w(t.$$.fragment, a), r = !0) }, o(a) { D(t.$$.fragment, a), r = !1 }, d(a) { a && _(e), $(t), s = !1, o() } } } function v9e(n, e, t) { let i; const r = ot(); ce(n, r, l => t(0, i = l)); let { item: s } = e; const o = It(), a = () => { o("addToLibraryPlaylist", { item: s }) }; return n.$$set = l => { "item" in l && t(3, s = l.item) }, [i, r, a, s] } class b9e extends oe { constructor(e) { super(), se(this, e, v9e, _9e, ye, { item: 3 }) } } const Hm = 0, ou = 100, l0 = 2, WD = l0 * 10, y9e = { 0: "NETWORK_EMPTY", 1: "NETWORK_IDLE", 2: "NETWORK_LOADING", 3: "NETWORK_NO_SOURCE" }; class w9e { constructor(e, t) { var i; this.audioCtx = (i = t == null ? void 0 : t.audioCtx) != null ? i : new AudioContext, this.source = this.audioCtx.createMediaElementSource(e), this.player = e } dispatchPlayerEvent(e, t) { const i = new CustomEvent(e, t); this.player.dispatchEvent(i) } async resume() { var e; return (e = this.audioCtx) == null ? void 0 : e.resume() } async suspend() { var e; return (e = this.audioCtx) == null ? void 0 : e.suspend() } } class k9e extends w9e { constructor(e, t) { var i, r, s; super(e, t), this.audioCtx && (this.gainNode = new GainNode(this.audioCtx, { gain: (i = t == null ? void 0 : t.initialGain) != null ? i : 0 }), this.source.connect(this.gainNode), this.gainNode.connect(this.audioCtx.destination), this.fadeInStep = (r = t == null ? void 0 : t.fadeInStep) != null ? r : Hm, this.fadeOutStep = (s = t == null ? void 0 : t.fadeOutStep) != null ? s : ou, this.dispatchPlayerEvent("crossfadeReady")) } changeGainValue(e = 0) { if (e <= 0) this.setGainValue(0); else if (e >= 1) this.setGainValue(1); else { const t = Math.cos((1 - e) * Math.PI * .5); this.setGainValue(t) } } getGainValue() { return this.gainNode.gain.value } setGainValue(e = 0) { this.gainNode.gain.value = e } fadeIn() { this.resetCounter(), this.fadeIntervalId = setInterval(() => { this.changeGainValue(this.fadeInStep / ou), this.fadeInStep++, this.fadeInStep === ou && (this.stopTimer(), this.setGainValue(1)) }, WD) } fadeOut(e = !1) { this.resetCounter(), this.fadeIntervalId = setInterval(() => { this.changeGainValue(this.fadeOutStep / ou), this.fadeOutStep--, this.fadeOutStep === Hm && (this.stopTimer(), this.setGainValue(0), this.dispatchPlayerEvent("fadeOutComplete", { detail: { resetPlayer: e } })) }, WD) } pause() { this.stopTimer(), this.suspend() } resetCounter() { this.stopTimer(), this.fadeInStep = Hm, this.fadeOutStep = ou } stopTimer() { clearInterval(this.fadeIntervalId) } } function D9e(n, e) { if (typeof (window == null ? void 0 : window.AudioContext) > "u") { console.warn("Web Audio API not supported in this browser"); return } if (!n) throw new Error("getCrossfader called without a valid player element"); return new k9e(n, e) } const KD = 30, Xa = 75, S9e = .5; function JD(n) { let e, t, i, r, s, o, a, l, u, c, d; return t = new jg({ props: { iconState: n[6], ariaLabel: n[5], iconSet: "radial-progress" } }), t.$on("click", n[13]), { c() { e = L("div"), i = L("div"), V(t.$$.fragment), s = Y(), o = L("audio"), a = L("source"), this.h() }, l(f) { e = T(f, "DIV", { class: !0, "data-testid": !0 }); var g = E(e); i = T(g, "DIV", { style: !0 }); var h = E(i); q(t.$$.fragment, h), s = X(g), o = T(g, "AUDIO", { "data-testid": !0, crossorigin: !0, preload: !0 }); var m = E(o); a = T(m, "SOURCE", { src: !0, type: !0 }), m.forEach(_), g.forEach(_), this.h() }, h() { Pt(i, "display", "contents"), Pt(i, "--progress-stroke-dashoffset", r = `${n[3]}px`), ji(a.src, l = n[0]) || p(a, "src", l), p(a, "type", "audio/mpeg"), p(o, "data-testid", "preview-player"), p(o, "crossorigin", "anonymous"), p(o, "preload", "auto"), p(e, "class", "inline-preview-play-button svelte-1kgzvzx"), p(e, "data-testid", "inline-preview-play-container") }, m(f, g) { I(f, e, g), A(e, i), H(t, i, null), A(e, s), A(e, o), A(o, a), n[30](o), u = !0, c || (d = [Me(o, "timeupdate", n[14]), Me(o, "error", n[10]), Me(o, "stalled", n[11]), Me(o, "playing", n[31]), Me(o, "canplaythrough", n[32]), Me(o, "waiting", n[12]), Me(e, "dblclick", Vi(n[29]))], c = !0) }, p(f, g) { g[0] & 8 && r !== (r = `${f[3]}px`) && Pt(i, "--progress-stroke-dashoffset", r); const h = {}; g[0] & 64 && (h.iconState = f[6]), g[0] & 32 && (h.ariaLabel = f[5]), t.$set(h), (!u || g[0] & 1 && !ji(a.src, l = f[0])) && p(a, "src", l) }, i(f) { u || (w(t.$$.fragment, f), u = !0) }, o(f) { D(t.$$.fragment, f), u = !1 }, d(f) { f && _(e), $(t), n[30](null), c = !1, Ot(d) } } } function C9e(n) { let e, t, i = n[7] && JD(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[7] ? i ? (i.p(r, s), s[0] & 128 && w(i, 1)) : (i = JD(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function P9e(n) { return new Promise(e => setTimeout(e, n)) } function A9e(n, e, t) { let i, r, s, o, a, l, u, c, d; ce(n, Si, he => t(26, u = he)); const f = kn("<InlinePreviewPlayButton>"), g = sn(), h = ot(); ce(n, h, he => t(27, c = he)); const m = zn(), { queue: v } = m; ce(n, v, he => t(28, d = he)); let { itemId: b } = e, { itemPreviewUrl: y } = e, { ariaLabel: k = null } = e, { isExplicit: S = !1 } = e, { maxPreviewLength: C = KD } = e, P, M = Xa, R, F = !1, N = !1, O = 0, B = !1, U, K = !1; function W() { t(21, B = !0) } function Z(he) { ke(he.detail.resetPlayer) } function Q(he) { f.error("Loading preview playback audio file failed:", he), t(19, N = !0) } async function G(he) { f.warn(`Loading preview playback audio file stalled with a network state of ${y9e[P.networkState]}`, he), t(20, O++, O), P.networkState !== 2 && O <= 3 && (await P9e(1e3), f.info(`Attempting to reload preview playback for ${b}`), P.load()) } function ae(he) { f.warn("Waiting for preview playback audio file to load:", he) } Yt(() => { typeof (window == null ? void 0 : window.AudioContext) > "u" || !P || (P.addEventListener("crossfadeReady", W), P.addEventListener("fadeOutComplete", Z), t(22, U = D9e(P, { audioCtx: u.audioCtx }))) }), mn(() => { typeof R == "function" && R() }); async function ee(he) { const Ae = async () => { const { volume: ze } = await m.getVolumeAndSubscribeToUpdates(); t(1, P.volume = ze, P) }; F || await P.load(); try { if (s) await g(Sd(b, y, "paused")); else { const { volume: ze, removeEventListenerCb: Pe } = await m.getVolumeAndSubscribeToUpdates(Ae); R = Pe, t(1, P.volume = typeof ze == "number" ? ze : S9e, P), P.currentTime !== 0 && P.currentTime < C ? o && await g(Sd(b, y, "resumed")) : await g(Sd(b, y, "playing")) } } catch (ze) { throw new Error("preview playback could not be played" + ze) } } async function pe() { P.currentTime > C && (u.lcdPlaybackInterrupted && await g(Wi()), ke(!0)), B && Math.ceil(P.currentTime) === C - l0 && U.getGainValue() === 1 && U.fadeOut(!0), t(3, M = Xa - P.currentTime / KD * 100 * (Xa / 100)) } async function ke(he = !1) { P && (await P.pause(), P.load(), he && u.currentItemId === b && Si.update(Ae => Object.assign(Object.assign({}, Ae), { currentItemPreviewUrl: null, currentState: null, lcdPlaybackInterrupted: !1, currentItemId: null }))) } function we(he) { Bt.call(this, n, he) } function Te(he) { wt[he ? "unshift" : "push"](() => { P = he, t(1, P) }) } const ge = () => t(2, K = !0), Ce = () => t(4, F = !0); return n.$$set = he => { "itemId" in he && t(15, b = he.itemId), "itemPreviewUrl" in he && t(0, y = he.itemPreviewUrl), "ariaLabel" in he && t(16, k = he.ariaLabel), "isExplicit" in he && t(17, S = he.isExplicit), "maxPreviewLength" in he && t(18, C = he.maxPreviewLength) }, n.$$.update = () => { n.$$.dirty[0] & 1572864 && t(7, i = !N && O < 3), n.$$.dirty[0] & 268435456 && t(25, r = d.derivedStates.isPlaying), n.$$.dirty[0] & 100663297 && t(24, s = !r && u.currentItemPreviewUrl === y && (u.currentState === "playing" || u.currentState === "resumed")), n.$$.dirty[0] & 67108865 && t(23, o = u.currentItemPreviewUrl === y && u.currentState === "paused"), n.$$.dirty[0] & 100663297 && !r && u.currentItemPreviewUrl === y && u.currentState, n.$$.dirty[0] & 25165824 && t(6, a = (() => s ? ui.PAUSE : ui.PLAY)()), n.$$.dirty[0] & 107249671 && (u.currentItemId === b && P && (u.currentState === "playing" || u.currentState === "resumed" ? (B && (u.currentState === "resumed" ? U.getGainValue() !== 1 && Math.ceil(P.currentTime) < C - l0 && U.setGainValue(1) : U.fadeIn()), P.play(), B && (U == null || U.resume())) : (B && (U == null || U.pause()), P.pause())), r && ke(!1), P && u.currentState === "playing" && u.currentItemPreviewUrl && u.currentItemPreviewUrl !== y && (B && K && U.getGainValue() === 1 ? U.fadeOut() : ke(!1))), n.$$.dirty[0] & 33554432 && r && ke(!0), n.$$.dirty[0] & 151191552 && t(5, l = (() => { if (k) return k; let he = s ? c.t("ASE.Web.Music.Pause") : c.t("ASE.Web.Music.Play"); return S ? c.t("ASE.Web.Music.ContentA.Comma.ContentB", { contentA: c.t("ASE.Web.Music.Explicit"), contentB: he }) : he })()) }, [y, P, K, M, F, l, a, i, h, v, Q, G, ae, ee, pe, b, k, S, C, N, O, B, U, o, s, r, u, c, d, we, Te, ge, Ce] } class E9e extends oe { constructor(e) { super(), se(this, e, A9e, C9e, ye, { itemId: 15, itemPreviewUrl: 0, ariaLabel: 16, isExplicit: 17, maxPreviewLength: 18 }, null, [-1, -1]) } } const I9e = n => ({}), YD = n => ({}); function M9e(n) { var r; let e, t, i; return t = new E9e({ props: { itemId: n[4], itemPreviewUrl: (r = n[0]) == null ? void 0 : r.previewUrl, isExplicit: n[6] } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); q(t.$$.fragment, o), o.forEach(_), this.h() }, h() { p(e, "class", "track-lockup__play-button-wrapper svelte-1tnc1ep") }, m(s, o) { I(s, e, o), H(t, e, null), i = !0 }, p(s, o) { var l; const a = {}; o[0] & 16 && (a.itemId = s[4]), o[0] & 1 && (a.itemPreviewUrl = (l = s[0]) == null ? void 0 : l.previewUrl), o[0] & 64 && (a.isExplicit = s[6]), t.$set(a) }, i(s) { i || (w(t.$$.fragment, s), i = !0) }, o(s) { D(t.$$.fragment, s), i = !1 }, d(s) { s && _(e), $(t) } } } function L9e(n) { let e, t, i; return t = new BB({ props: { item: n[8], isExplicit: n[6] } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "track-lockup__play-button-wrapper svelte-1tnc1ep") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[0] & 256 && (o.item = r[8]), s[0] & 64 && (o.isExplicit = r[6]), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function XD(n) { let e, t; return { c() { e = L("div"), t = le(n[17]), this.h() }, l(i) { e = T(i, "DIV", { class: !0 }); var r = E(e); t = ue(r, n[17]), r.forEach(_), this.h() }, h() { p(e, "class", "lockup-ranking svelte-1tnc1ep") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r[0] & 131072 && me(t, i[17]) }, d(i) { i && _(e) } } } function ZD(n) { let e, t, i = Zn(n[19]) + ""; return { c() { e = L("li"), t = new Pi(!1), this.h() }, l(r) { e = T(r, "LI", { class: !0, "data-testid": !0 }); var s = E(e); t = hr(s, !1), s.forEach(_), this.h() }, h() { t.a = null, p(e, "class", "track-lockup__headline svelte-1tnc1ep"), p(e, "data-testid", "track-lockup-headline") }, m(r, s) { I(r, e, s), t.m(i, e) }, p(r, s) { s[0] & 524288 && i !== (i = Zn(r[19]) + "") && t.p(i) }, d(r) { r && _(e) } } } function T9e(n) { let e; return { c() { e = le(n[5]) }, l(t) { e = ue(t, n[5]) }, m(t, i) { I(t, e, i) }, p(t, i) { i[0] & 32 && me(e, t[5]) }, i: j, o: j, d(t) { t && _(e) } } } function R9e(n) { let e, t; return e = new en({ props: { action: n[0].segue, ariaLabel: n[14], $$slots: { default: [F9e] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 1 && (s.action = i[0].segue), r[0] & 16384 && (s.ariaLabel = i[14]), r[0] & 32 | r[1] & 32 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function F9e(n) { let e; return { c() { e = le(n[5]) }, l(t) { e = ue(t, n[5]) }, m(t, i) { I(t, e, i) }, p(t, i) { i[0] & 32 && me(e, t[5]) }, d(t) { t && _(e) } } } function QD(n) { let e, t; return e = new Nc({ props: { explicitAriaText: null } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function O9e(n) { let e, t = n[39].title + "", i; return { c() { e = L("span"), i = le(t) }, l(r) { e = T(r, "SPAN", {}); var s = E(e); i = ue(s, t), s.forEach(_) }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s[1] & 256 && t !== (t = r[39].title + "") && me(i, t) }, d(r) { r && _(e) } } } function N9e(n) { let e, t, i; return t = new en({ props: { action: n[39].segue, $$slots: { default: [O9e] }, $$scope: { ctx: n } } }), { c() { e = L("span"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "SPAN", { "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "data-testid", "track-lockup-subtitle") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[1] & 256 && (o.action = r[39].segue), s[1] & 288 && (o.$$scope = { dirty: s, ctx: r }), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function jD(n) { let e, t, i = Zn(n[16], { allowedTags: ["mark"] }) + ""; return { c() { e = L("span"), t = new Pi(!1), this.h() }, l(r) { e = T(r, "SPAN", { class: !0 }); var s = E(e); t = hr(s, !1), s.forEach(_), this.h() }, h() { t.a = null, p(e, "class", "track-lockup__tertiary-title svelte-1tnc1ep") }, m(r, s) { I(r, e, s), t.m(i, e) }, p(r, s) { s[0] & 65536 && i !== (i = Zn(r[16], { allowedTags: ["mark"] }) + "") && t.p(i) }, d(r) { r && _(e) } } } function B9e(n) { let e, t; return e = new Bc({ props: { iconOnly: !0, contentDescriptor: n[0].contentDescriptor, isPlayable: n[2] !== null && !n[3], hideAddToLibrary: n[3], buttonStyle: "non-platter", itemProperties: { subtitleLinks: n[0].subtitleLinks, title: n[5], artwork: n[0].artwork, recoID: $i(n[2]) } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 1 && (s.contentDescriptor = i[0].contentDescriptor), r[0] & 12 && (s.isPlayable = i[2] !== null && !i[3]), r[0] & 8 && (s.hideAddToLibrary = i[3]), r[0] & 37 && (s.itemProperties = { subtitleLinks: i[0].subtitleLinks, title: i[5], artwork: i[0].artwork, recoID: $i(i[2]) }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function U9e(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F, N, O, B, U; i = new Gt({ props: { artwork: n[15], forceFullWidth: !1, profile: "track-lockup" } }); const K = [L9e, M9e], W = []; function Z(he, Ae) { var ze; return he[2] && !he[3] && !he[1] ? 0 : (ze = he[0]) != null && ze.previewUrl && he[1] && !he[3] ? 1 : -1 } ~(s = Z(n)) && (o = W[s] = K[s](n)); let Q = n[17] && XD(n), G = n[19] && ZD(n); const ae = [R9e, T9e], ee = []; function pe(he, Ae) { return !he[1] && he[0].segue ? 0 : 1 } g = pe(n), h = ee[g] = ae[g](n), v = new us({ props: { inFavorites: n[9] } }); let ke = n[6] && QD(); C = new so({ props: { items: n[18], translateFn: n[7].t, $$slots: { default: [N9e, ({ item: he }) => ({ 39: he }), ({ item: he }) => [0, he ? 256 : 0]] }, $$scope: { ctx: n } } }); let we = !n[19] && n[16] && !n[1] && jD(n); const Te = n[35]["secondary-actions"], ge = We(Te, n, n[36], YD), Ce = ge || B9e(n); return { c() { e = L("div"), t = L("div"), V(i.$$.fragment), r = Y(), o && o.c(), a = Y(), Q && Q.c(), l = Y(), u = L("ul"), G && G.c(), c = Y(), d = L("li"), f = L("div"), h.c(), m = Y(), V(v.$$.fragment), b = Y(), ke && ke.c(), y = Y(), k = L("li"), S = L("div"), V(C.$$.fragment), P = Y(), we && we.c(), M = Y(), R = L("div"), Ce && Ce.c(), this.h() }, l(he) { e = T(he, "DIV", { class: !0, "data-testid": !0, role: !0, "aria-label": !0 }); var Ae = E(e); t = T(Ae, "DIV", { class: !0, "data-testid": !0 }); var ze = E(t); q(i.$$.fragment, ze), r = X(ze), o && o.l(ze), ze.forEach(_), a = X(Ae), Q && Q.l(Ae), l = X(Ae), u = T(Ae, "UL", { class: !0 }); var Pe = E(u); G && G.l(Pe), c = X(Pe), d = T(Pe, "LI", { class: !0, "data-testid": !0 }); var Oe = E(d); f = T(Oe, "DIV", { class: !0 }); var _e = E(f); h.l(_e), _e.forEach(_), m = X(Oe), q(v.$$.fragment, Oe), b = X(Oe), ke && ke.l(Oe), Oe.forEach(_), y = X(Pe), k = T(Pe, "LI", { class: !0 }); var Se = E(k); S = T(Se, "DIV", { class: !0 }); var Re = E(S); q(C.$$.fragment, Re), Re.forEach(_), Se.forEach(_), P = X(Pe), we && we.l(Pe), Pe.forEach(_), M = X(Ae), R = T(Ae, "DIV", { class: !0 }); var Ze = E(R); Ce && Ce.l(Ze), Ze.forEach(_), Ae.forEach(_), this.h() }, h() { p(t, "class", "track-lockup__artwork-wrapper svelte-1tnc1ep"), p(t, "data-testid", "track-lockup-artwork"), p(f, "class", "track-lockup__clamp-wrapper svelte-1tnc1ep"), p(d, "class", "track-lockup__title svelte-1tnc1ep"), p(d, "data-testid", "track-lockup-title"), p(S, "class", "track-lockup__clamp-wrapper svelte-1tnc1ep"), p(k, "class", "track-lockup__subtitle svelte-1tnc1ep"), p(u, "class", "track-lockup__content svelte-1tnc1ep"), p(R, "class", "track-lockup__context-menu svelte-1tnc1ep"), p(e, "class", "track-lockup svelte-1tnc1ep"), p(e, "data-testid", "track-lockup"), p(e, "role", "listitem"), p(e, "aria-label", n[14]), J(e, "is-loading", n[13]), J(e, "is-playing", n[12]), J(e, "is-paused", n[11]), J(e, "is-link", !!n[0].segue), J(e, "is-suggestion", n[1]) }, m(he, Ae) { I(he, e, Ae), A(e, t), H(i, t, null), A(t, r), ~s && W[s].m(t, null), A(e, a), Q && Q.m(e, null), A(e, l), A(e, u), G && G.m(u, null), A(u, c), A(u, d), A(d, f), ee[g].m(f, null), A(d, m), H(v, d, null), A(d, b), ke && ke.m(d, null), A(u, y), A(u, k), A(k, S), H(C, S, null), A(u, P), we && we.m(u, null), A(e, M), A(e, R), Ce && Ce.m(R, null), O = !0, B || (U = [Ut(F = va.call(null, e, n[0].segue)), Ut(N = pl.call(null, e, { dragEnabled: !0, dragData: { items: [n[0].contentDescriptor] } }))], B = !0) }, p(he, Ae) { const ze = {}; Ae[0] & 32768 && (ze.artwork = he[15]), i.$set(ze); let Pe = s; s = Z(he), s === Pe ? ~s && W[s].p(he, Ae) : (o && (te(), D(W[Pe], 1, 1, () => { W[Pe] = null }), ne()), ~s ? (o = W[s], o ? o.p(he, Ae) : (o = W[s] = K[s](he), o.c()), w(o, 1), o.m(t, null)) : o = null), he[17] ? Q ? Q.p(he, Ae) : (Q = XD(he), Q.c(), Q.m(e, l)) : Q && (Q.d(1), Q = null), he[19] ? G ? G.p(he, Ae) : (G = ZD(he), G.c(), G.m(u, c)) : G && (G.d(1), G = null); let Oe = g; g = pe(he), g === Oe ? ee[g].p(he, Ae) : (te(), D(ee[Oe], 1, 1, () => { ee[Oe] = null }), ne(), h = ee[g], h ? h.p(he, Ae) : (h = ee[g] = ae[g](he), h.c()), w(h, 1), h.m(f, null)); const _e = {}; Ae[0] & 512 && (_e.inFavorites = he[9]), v.$set(_e), he[6] ? ke ? Ae[0] & 64 && w(ke, 1) : (ke = QD(), ke.c(), w(ke, 1), ke.m(d, null)) : ke && (te(), D(ke, 1, 1, () => { ke = null }), ne()); const Se = {}; Ae[0] & 262144 && (Se.items = he[18]), Ae[0] & 128 && (Se.translateFn = he[7].t), Ae[1] & 288 && (Se.$$scope = { dirty: Ae, ctx: he }), C.$set(Se), !he[19] && he[16] && !he[1] ? we ? we.p(he, Ae) : (we = jD(he), we.c(), we.m(u, null)) : we && (we.d(1), we = null), ge ? ge.p && (!O || Ae[1] & 32) && Je(ge, Te, he, he[36], O ? Ke(Te, he[36], Ae, I9e) : Ye(he[36]), YD) : Ce && Ce.p && (!O || Ae[0] & 45) && Ce.p(he, O ? Ae : [-1, -1]), (!O || Ae[0] & 16384) && p(e, "aria-label", he[14]), F && Ft(F.update) && Ae[0] & 1 && F.update.call(null, he[0].segue), N && Ft(N.update) && Ae[0] & 1 && N.update.call(null, { dragEnabled: !0, dragData: { items: [he[0].contentDescriptor] } }), (!O || Ae[0] & 8192) && J(e, "is-loading", he[13]), (!O || Ae[0] & 4096) && J(e, "is-playing", he[12]), (!O || Ae[0] & 2048) && J(e, "is-paused", he[11]), (!O || Ae[0] & 1) && J(e, "is-link", !!he[0].segue), (!O || Ae[0] & 2) && J(e, "is-suggestion", he[1]) }, i(he) { O || (w(i.$$.fragment, he), w(o), w(h), w(v.$$.fragment, he), w(ke), w(C.$$.fragment, he), w(Ce, he), O = !0) }, o(he) { D(i.$$.fragment, he), D(o), D(h), D(v.$$.fragment, he), D(ke), D(C.$$.fragment, he), D(Ce, he), O = !1 }, d(he) { he && _(e), $(i), ~s && W[s].d(), Q && Q.d(), G && G.d(), ee[g].d(), $(v), ke && ke.d(), $(C), we && we.d(), Ce && Ce.d(he), B = !1, Ot(U) } } } function H9e(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F = j, N = () => (F(), F = yn(C, Ae => t(32, R = Ae)), C), O, B, U; ce(n, Si, Ae => t(34, B = Ae)), n.$$.on_destroy.push(() => F()); let { $$slots: K = {}, $$scope: W } = e; var Z, Q, G, ae; const ee = ot(); ce(n, ee, Ae => t(7, U = Ae)); const pe = Qn(), { queue: ke, isRestricted: we } = zn(); ce(n, ke, Ae => t(33, O = Ae)); let Te = !1; Yt(async () => { try { const Ae = await (we == null ? void 0 : we()); t(27, Te = Ae) } catch (Ae) { } }), mn(() => { pe.unsubscribeFromUpdates(i) }); let { item: ge } = e, { containerItems: Ce = null } = e, { isSuggestion: he = !1 } = e; return n.$$set = Ae => { "item" in Ae && t(0, ge = Ae.item), "containerItems" in Ae && t(22, Ce = Ae.containerItems), "isSuggestion" in Ae && t(1, he = Ae.isSuggestion), "$$scope" in Ae && t(36, W = Ae.$$scope) }, n.$$.update = () => { n.$$.dirty[0] & 1 && t(4, i = Qt(ge)), n.$$.dirty[0] & 8388609 && t(29, r = t(23, Z = ge.contentDescriptor) === null || Z === void 0 ? void 0 : Z.kind), n.$$.dirty[0] & 1 && t(19, s = ge.headline), n.$$.dirty[0] & 1 && t(5, o = ge.title), n.$$.dirty[0] & 1 && t(31, a = ge.artistName), n.$$.dirty[0] & 1 && t(18, l = ge.subtitleLinks || []), n.$$.dirty[0] & 1 && t(6, u = ge.showExplicitBadge), n.$$.dirty[0] & 1 && t(17, c = ge.rankingText), n.$$.dirty[0] & 50331649 && t(16, d = (t(25, G = t(24, Q = ge.tertiaryLinks) === null || Q === void 0 ? void 0 : Q[0]) === null || G === void 0 ? void 0 : G.title) || null), n.$$.dirty[0] & 1 && t(15, f = ge.artwork), n.$$.dirty[0] & 134217793 && t(3, g = ge.isDisabled || u && Te), n.$$.dirty[0] & 224 | n.$$.dirty[1] & 1 && t(14, h = (() => { if (a) { const Ae = u ? `${U.t("ASE.Web.Music.Explicit")}: ` : "", ze = U.t("ASE.Web.Music.SongsList.ByComposerName", { composerName: a }); return `${Ae}${U.t("ASE.Web.Music.ContentA.Comma.ContentB", { contentA: o, contentB: ze })}` } })()), n.$$.dirty[0] & 19 | n.$$.dirty[1] & 12 && t(30, m = he ? B.currentItemPreviewUrl === (ge == null ? void 0 : ge.previewUrl) : i && O.nowPlayingItemId === i), n.$$.dirty[0] & 1073741824 | n.$$.dirty[1] & 4 && t(13, v = m && O.derivedStates.isLoading), n.$$.dirty[0] & 1073741826 | n.$$.dirty[1] & 12 && t(12, b = m && (he ? B.currentState === "playing" : O.derivedStates.isPlaying)), n.$$.dirty[0] & 1073741826 | n.$$.dirty[1] & 12 && t(11, y = m && (he ? B.currentState === "paused" : O.derivedStates.isPaused)), n.$$.dirty[0] & 1 && t(2, k = ge.playAction), n.$$.dirty[0] & 4194304 && t(28, S = Ce == null ? void 0 : Ce.map(Ae => Ae.contentDescriptor)), n.$$.dirty[0] & 16 && N(t(10, C = pe.subscribeToUpdates(i))), n.$$.dirty[0] & 603979792 | n.$$.dirty[1] & 2 && t(9, P = R && (t(26, ae = pe.get(i, r)) === null || ae === void 0 ? void 0 : ae.inFavorites)), n.$$.dirty[0] & 268435469 && t(8, M = (() => Object.assign(Object.assign({}, ge), { playAction: !g && ge.playAction && kR(k, S) }))()) }, [ge, he, k, g, i, o, u, U, M, P, C, y, b, v, h, f, d, c, l, s, ee, ke, Ce, Z, Q, G, ae, Te, S, r, m, a, R, O, B, K, W] } class UB extends oe { constructor(e) { super(), se(this, e, H9e, U9e, ye, { item: 0, containerItems: 22, isSuggestion: 1 }, null, [-1, -1]) } } const $9e = n => ({}), GD = n => ({}), V9e = n => ({}), xD = n => ({}), z9e = n => ({}), e6 = n => ({ artworkProps: { forceFullWidth: !1 } }), q9e = n => ({}), t6 = n => ({}); function n6(n) { let e, t; const i = n[4]["primary-action"], r = We(i, n, n[3], t6); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "top-search-lockup__action svelte-oo03qi") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 8) && Je(r, i, s, s[3], t ? Ke(i, s[3], o, q9e) : Ye(s[3]), t6) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function W9e(n) { let e, t, i, r, s, o, a, l, u, c = n[2]["primary-action"] && n6(n); const d = n[4].artwork, f = We(d, n, n[3], e6), g = n[4]["description-content"], h = We(g, n, n[3], xD), m = n[4]["secondary-buttons"], v = We(m, n, n[3], GD); return { c() { e = L("div"), c && c.c(), t = Y(), i = L("div"), r = L("div"), f && f.c(), s = Y(), o = L("div"), h && h.c(), a = Y(), l = L("div"), v && v.c(), this.h() }, l(b) { e = T(b, "DIV", { class: !0, "data-testid": !0, "aria-label": !0 }); var y = E(e); c && c.l(y), t = X(y), i = T(y, "DIV", { class: !0 }); var k = E(i); r = T(k, "DIV", { class: !0 }); var S = E(r); f && f.l(S), S.forEach(_), s = X(k), o = T(k, "DIV", { class: !0 }); var C = E(o); h && h.l(C), C.forEach(_), k.forEach(_), a = X(y), l = T(y, "DIV", { class: !0 }); var P = E(l); v && v.l(P), P.forEach(_), y.forEach(_), this.h() }, h() { p(r, "class", "top-search-lockup__artwork svelte-oo03qi"), p(o, "class", "top-search-lockup__description svelte-oo03qi"), p(i, "class", "top-search-lockup__content svelte-oo03qi"), p(l, "class", "top-search-lockup__icons svelte-oo03qi"), p(e, "class", "top-search-lockup svelte-oo03qi"), p(e, "data-testid", "top-search-result"), p(e, "aria-label", n[0]), J(e, "top-search-lockup--ellipse", n[1]) }, m(b, y) { I(b, e, y), c && c.m(e, null), A(e, t), A(e, i), A(i, r), f && f.m(r, null), A(i, s), A(i, o), h && h.m(o, null), A(e, a), A(e, l), v && v.m(l, null), u = !0 }, p(b, [y]) { b[2]["primary-action"] ? c ? (c.p(b, y), y & 4 && w(c, 1)) : (c = n6(b), c.c(), w(c, 1), c.m(e, t)) : c && (te(), D(c, 1, 1, () => { c = null }), ne()), f && f.p && (!u || y & 8) && Je(f, d, b, b[3], u ? Ke(d, b[3], y, z9e) : Ye(b[3]), e6), h && h.p && (!u || y & 8) && Je(h, g, b, b[3], u ? Ke(g, b[3], y, V9e) : Ye(b[3]), xD), v && v.p && (!u || y & 8) && Je(v, m, b, b[3], u ? Ke(m, b[3], y, $9e) : Ye(b[3]), GD), (!u || y & 1) && p(e, "aria-label", b[0]), (!u || y & 2) && J(e, "top-search-lockup--ellipse", b[1]) }, i(b) { u || (w(c), w(f, b), w(h, b), w(v, b), u = !0) }, o(b) { D(c), D(f, b), D(h, b), D(v, b), u = !1 }, d(b) { b && _(e), c && c.d(), f && f.d(b), h && h.d(b), v && v.d(b) } } } function K9e(n, e, t) { let { $$slots: i = {}, $$scope: r } = e; const s = wn(i); let { ariaLabel: o } = e, { isEllipseArtwork: a } = e; return n.$$set = l => { "ariaLabel" in l && t(0, o = l.ariaLabel), "isEllipseArtwork" in l && t(1, a = l.isEllipseArtwork), "$$scope" in l && t(3, r = l.$$scope) }, [o, a, s, r, i] } let J9e = class extends oe { constructor(e) { super(), se(this, e, K9e, W9e, ye, { ariaLabel: 0, isEllipseArtwork: 1 }) } }; function i6(n) { let e, t, i; return t = new BB({ props: { item: n[0], isExplicit: n[0].showExplicitBadge } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "top-search-lockup__play-button-wrapper svelte-bg2ql4") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[0] & 1 && (o.item = r[0]), s[0] & 1 && (o.isExplicit = r[0].showExplicitBadge), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function Y9e(n) { let e, t, i, r; const s = [{ artwork: n[0].artwork }, { profile: n[10] }, { fallbackKind: n[1] }, { suppressFallbackArt: !1 }, n[42]]; let o = {}; for (let l = 0; l < s.length; l += 1)o = fe(o, s[l]); e = new Gt({ props: o }); let a = n[6] && i6(n); return { c() { V(e.$$.fragment), t = Y(), a && a.c(), i = re() }, l(l) { q(e.$$.fragment, l), t = X(l), a && a.l(l), i = re() }, m(l, u) { H(e, l, u), I(l, t, u), a && a.m(l, u), I(l, i, u), r = !0 }, p(l, u) { const c = u[0] & 1027 | u[1] & 2048 ? at(s, [u[0] & 1 && { artwork: l[0].artwork }, u[0] & 1024 && { profile: l[10] }, u[0] & 2 && { fallbackKind: l[1] }, s[3], u[1] & 2048 && iH(l[42])]) : {}; e.$set(c), l[6] ? a ? (a.p(l, u), u[0] & 64 && w(a, 1)) : (a = i6(l), a.c(), w(a, 1), a.m(i.parentNode, i)) : a && (te(), D(a, 1, 1, () => { a = null }), ne()) }, i(l) { r || (w(e.$$.fragment, l), w(a), r = !0) }, o(l) { D(e.$$.fragment, l), D(a), r = !1 }, d(l) { l && (_(t), _(i)), $(e, l), a && a.d(l) } } } function r6(n) { let e, t, i = Zn(n[0].headline) + ""; return { c() { e = L("li"), t = new Pi(!1), this.h() }, l(r) { e = T(r, "LI", { class: !0, "data-testid": !0 }); var s = E(e); t = hr(s, !1), s.forEach(_), this.h() }, h() { t.a = null, p(e, "class", "top-search-lockup__headline svelte-bg2ql4"), p(e, "data-testid", "top-search-result-headline") }, m(r, s) { I(r, e, s), t.m(i, e) }, p(r, s) { s[0] & 1 && i !== (i = Zn(r[0].headline) + "") && t.p(i) }, d(r) { r && _(e) } } } function s6(n) { let e, t, i = n[0].title + "", r, s, o, a, l; o = new us({ props: { inFavorites: n[12] } }); let u = n[0].showExplicitBadge && o6(); return { c() { e = L("li"), t = L("span"), r = le(i), s = Y(), V(o.$$.fragment), a = Y(), u && u.c(), this.h() }, l(c) { e = T(c, "LI", { class: !0, "data-testid": !0 }); var d = E(e); t = T(d, "SPAN", { class: !0, dir: !0 }); var f = E(t); r = ue(f, i), f.forEach(_), s = X(d), q(o.$$.fragment, d), a = X(d), u && u.l(d), d.forEach(_), this.h() }, h() { p(t, "class", "top-search-lockup__primary__title svelte-bg2ql4"), p(t, "dir", "auto"), p(e, "class", "top-search-lockup__primary svelte-bg2ql4"), p(e, "data-testid", "top-search-result-title") }, m(c, d) { I(c, e, d), A(e, t), A(t, r), A(e, s), H(o, e, null), A(e, a), u && u.m(e, null), l = !0 }, p(c, d) { (!l || d[0] & 1) && i !== (i = c[0].title + "") && me(r, i); const f = {}; d[0] & 4096 && (f.inFavorites = c[12]), o.$set(f), c[0].showExplicitBadge ? u ? d[0] & 1 && w(u, 1) : (u = o6(), u.c(), w(u, 1), u.m(e, null)) : u && (te(), D(u, 1, 1, () => { u = null }), ne()) }, i(c) { l || (w(o.$$.fragment, c), w(u), l = !0) }, o(c) { D(o.$$.fragment, c), D(u), l = !1 }, d(c) { c && _(e), $(o), u && u.d() } } } function o6(n) { let e, t, i; return t = new ya({}), { c() { e = le(""), V(t.$$.fragment) }, l(r) { e = ue(r, ""), q(t.$$.fragment, r) }, m(r, s) { I(r, e, s), H(t, r, s), i = !0 }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t, r) } } } function a6(n) { let e, t = n[0].subtitle + "", i; return { c() { e = L("li"), i = le(t), this.h() }, l(r) { e = T(r, "LI", { class: !0, "data-testid": !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "top-search-lockup__secondary svelte-bg2ql4"), p(e, "data-testid", "top-search-result-subtitle") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s[0] & 1 && t !== (t = r[0].subtitle + "") && me(i, t) }, d(r) { r && _(e) } } } function l6(n) { let e, t, i = Zn(n[4], { allowedTags: ["mark"] }) + ""; return { c() { e = L("li"), t = new Pi(!1), this.h() }, l(r) { e = T(r, "LI", { class: !0, "data-testid": !0 }); var s = E(e); t = hr(s, !1), s.forEach(_), this.h() }, h() { t.a = null, p(e, "class", "top-search-lockup__secondary top-search-lockup__lyrics svelte-bg2ql4"), p(e, "data-testid", "top-search-result-subheadline") }, m(r, s) { I(r, e, s), t.m(i, e) }, p(r, s) { s[0] & 16 && i !== (i = Zn(r[4], { allowedTags: ["mark"] }) + "") && t.p(i) }, d(r) { r && _(e) } } } function u6(n) { let e, t = n[2].t("ASE.Web.Music.Music.Search.FromYourLibrary") + "", i; return { c() { e = L("li"), i = le(t), this.h() }, l(r) { e = T(r, "LI", { class: !0, "data-testid": !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "top-search-lockup__subhead svelte-bg2ql4"), p(e, "data-testid", "top-search-result-subhead") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s[0] & 4 && t !== (t = r[2].t("ASE.Web.Music.Music.Search.FromYourLibrary") + "") && me(i, t) }, d(r) { r && _(e) } } } function X9e(n) { let e, t, i, r, s, o, a = n[0].headline && r6(n), l = n[0].title && s6(n), u = n[0].subtitle && a6(n), c = n[4] && l6(n), d = n[13] && u6(n); return { c() { e = L("ul"), a && a.c(), t = Y(), l && l.c(), i = Y(), u && u.c(), r = Y(), c && c.c(), s = Y(), d && d.c() }, l(f) { e = T(f, "UL", {}); var g = E(e); a && a.l(g), t = X(g), l && l.l(g), i = X(g), u && u.l(g), r = X(g), c && c.l(g), s = X(g), d && d.l(g), g.forEach(_) }, m(f, g) { I(f, e, g), a && a.m(e, null), A(e, t), l && l.m(e, null), A(e, i), u && u.m(e, null), A(e, r), c && c.m(e, null), A(e, s), d && d.m(e, null), o = !0 }, p(f, g) { f[0].headline ? a ? a.p(f, g) : (a = r6(f), a.c(), a.m(e, t)) : a && (a.d(1), a = null), f[0].title ? l ? (l.p(f, g), g[0] & 1 && w(l, 1)) : (l = s6(f), l.c(), w(l, 1), l.m(e, i)) : l && (te(), D(l, 1, 1, () => { l = null }), ne()), f[0].subtitle ? u ? u.p(f, g) : (u = a6(f), u.c(), u.m(e, r)) : u && (u.d(1), u = null), f[4] ? c ? c.p(f, g) : (c = l6(f), c.c(), c.m(e, s)) : c && (c.d(1), c = null), f[13] ? d ? d.p(f, g) : (d = u6(f), d.c(), d.m(e, null)) : d && (d.d(1), d = null) }, i(f) { o || (w(l), o = !0) }, o(f) { D(l), o = !1 }, d(f) { f && _(e), a && a.d(), l && l.d(), u && u.d(), c && c.d(), d && d.d() } } } function Z9e(n) { let e, t; return e = new en({ props: { action: n[0].segue, ariaLabel: n[5] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 1 && (s.action = i[0].segue), r[0] & 32 && (s.ariaLabel = i[5]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function Q9e(n) { let e, t; return e = new Bc({ props: { isPlayable: n[6], contentDescriptor: n[0].contentDescriptor, iconOnly: !0, itemProperties: { title: n[0].title, subtitleLinks: [{ title: n[9] }], artwork: n[0].artwork }, buttonStyle: "non-platter", hideContextualMenu: !n[0].contentDescriptor } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 64 && (s.isPlayable = i[6]), r[0] & 1 && (s.contentDescriptor = i[0].contentDescriptor), r[0] & 513 && (s.itemProperties = { title: i[0].title, subtitleLinks: [{ title: i[9] }], artwork: i[0].artwork }), r[0] & 1 && (s.hideContextualMenu = !i[0].contentDescriptor), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function j9e(n) { let e, t, i; return t = new J9e({ props: { ariaLabel: n[5], isEllipseArtwork: n[11], $$slots: { "secondary-buttons": [Q9e], "primary-action": [Z9e], "description-content": [X9e], artwork: [Y9e, ({ artworkProps: r }) => ({ 42: r }), ({ artworkProps: r }) => [0, r ? 2048 : 0]] }, $$scope: { ctx: n } } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0, "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "top-search-lockup-wrapper svelte-bg2ql4"), p(e, "data-testid", "top-search-lockup-wrapper"), J(e, "is-playing", n[8]), J(e, "is-paused", n[7]), J(e, "top-search-lockup-wrapper--recently-searched", n[3]) }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[0] & 32 && (o.ariaLabel = r[5]), s[0] & 2048 && (o.isEllipseArtwork = r[11]), s[0] & 13943 | s[1] & 6144 && (o.$$scope = { dirty: s, ctx: r }), t.$set(o), (!i || s[0] & 256) && J(e, "is-playing", r[8]), (!i || s[0] & 128) && J(e, "is-paused", r[7]), (!i || s[0] & 8) && J(e, "top-search-lockup-wrapper--recently-searched", r[3]) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function G9e(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F, N, O, B, U = j, K = () => (U(), U = yn(l, Oe => t(38, B = Oe)), l), W; n.$$.on_destroy.push(() => U()); var Z, Q, G, ae, ee, pe, ke; const { queue: we } = zn(); ce(n, we, Oe => t(37, O = Oe)); const Te = ot(); ce(n, Te, Oe => t(2, N = Oe)); const ge = Qn(), { state: Ce } = xt(); ce(n, Ce, Oe => t(39, W = Oe)); let { item: he } = e, { section: Ae = null } = e, ze = !1; const Pe = ["musicVideo", "tvEpisode", "uploadedVideo", "movie", "artistUploadedVideo"]; return mn(() => { ge.unsubscribeFromUpdates(r) }), n.$$set = Oe => { "item" in Oe && t(0, he = Oe.item), "section" in Oe && t(18, Ae = Oe.section) }, n.$$.update = () => { if (n.$$.dirty[0] & 1 && t(30, i = Qt(he)), n.$$.dirty[0] & 1 && t(27, r = fr(he)), n.$$.dirty[0] & 524289 && t(1, s = t(19, Z = he.contentDescriptor) === null || Z === void 0 ? void 0 : Z.kind), n.$$.dirty[0] & 2 && t(35, o = Lg.includes(s)), n.$$.dirty[0] & 1048576 | n.$$.dirty[1] & 256 && t(36, a = bi(t(20, Q = W.user) === null || Q === void 0 ? void 0 : Q.subscriberType)), n.$$.dirty[0] & 134217728 && K(t(14, l = ge.subscribeToUpdates(r))), n.$$.dirty[0] & 134217730 | n.$$.dirty[1] & 160 && t(34, u = (() => { var Oe; return a ? B && ((Oe = ge.get(r, s)) === null || Oe === void 0 ? void 0 : Oe.inLibrary) : !1 })()), n.$$.dirty[0] & 1 | n.$$.dirty[1] & 24 && t(13, c = o && u || Pl(he.contentDescriptor)), n.$$.dirty[0] & 1075838978 | n.$$.dirty[1] & 128 && t(12, d = B && (t(21, G = ge.get(i, s)) === null || G === void 0 ? void 0 : G.inFavorites)), n.$$.dirty[0] & 2 && t(33, f = s === "artist"), n.$$.dirty[0] & 2 && t(32, g = s === "socialProfile"), n.$$.dirty[1] & 6 && t(11, h = f || g), n.$$.dirty[0] & 2 && t(31, m = Pe.includes(s)), n.$$.dirty[0] & 4194305 && !(t(22, ae = he.artwork) === null || ae === void 0) && ae.dictionary) { let { height: Oe, width: _e } = he.artwork.dictionary; t(26, ze = Oe > _e) } n.$$.dirty[0] & 67108864 | n.$$.dirty[1] & 1 && t(10, v = `top-search-result${m ? ze ? "-poster" : "-video" : ""}`), n.$$.dirty[0] & 58720257 && t(9, b = (t(25, ke = t(24, pe = t(23, ee = he.subtitle) === null || ee === void 0 ? void 0 : ee.split("")) === null || pe === void 0 ? void 0 : pe[1]) === null || ke === void 0 ? void 0 : ke.trim()) || he.subtitle), n.$$.dirty[0] & 1073741824 | n.$$.dirty[1] & 64 && t(29, y = i && O.nowPlayingItemId === i), n.$$.dirty[0] & 536870912 | n.$$.dirty[1] & 64 && t(8, k = y && O.derivedStates.isPlaying), n.$$.dirty[0] & 536870912 | n.$$.dirty[1] & 64 && t(7, S = y && O.derivedStates.isPaused), n.$$.dirty[0] & 1 && t(28, C = he.playAction), n.$$.dirty[0] & 268435456 && t(6, P = !!C), n.$$.dirty[0] & 5 && t(5, M = he.title && he.subtitle ? N.t("ASE.Web.Music.ContentA.Middot.ContentB", { contentA: he.title, contentB: he.subtitle }) : he.title || he.subtitle), n.$$.dirty[0] & 5 && t(4, R = he.subheadline !== N.t("ASE.Web.Music.Music.Search.FromYourLibrary") ? he.subheadline : null), n.$$.dirty[0] & 262144 && t(3, F = (Ae == null ? void 0 : Ae.id) === "top-search-section") }, [he, s, N, F, R, M, P, S, k, b, v, h, d, c, l, we, Te, Ce, Ae, Z, Q, G, ae, ee, pe, ke, ze, r, C, y, i, m, g, f, u, o, a, O, B, W] } class x9e extends oe { constructor(e) { super(), se(this, e, G9e, j9e, ye, { item: 0, section: 18 }, null, [-1, -1]) } } const eCe = n => ({}), c6 = n => ({ slot: "badge" }), tCe = n => ({}), d6 = n => ({}), nCe = n => ({}), f6 = n => ({}), iCe = n => ({}), g6 = n => ({}), rCe = n => ({ alt: n[0] & 8, profile: n[0] & 2 }), h6 = n => ({ alt: n[3], profile: n[1] }); function m6(n) { let e, t; return e = new ba({ props: { artwork: n[0], profile: n[1], alt: n[21] || n[3] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 1 && (s.artwork = i[0]), r[0] & 2 && (s.profile = i[1]), r[0] & 2097160 && (s.alt = i[21] || i[3]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function sCe(n) { let e, t, i = n[0] !== "slot" && m6(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[0] !== "slot" ? i ? (i.p(r, s), s[0] & 1 && w(i, 1)) : (i = m6(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function p6(n) { var l; let e, t, i, r, s, o = [{ class: "product-lockup__link" }, { "data-testid": "product-lockup-link" }, { "aria-label": n[21] }, { href: i = (l = n[13].url) != null ? l : "#" }, n[16]], a = {}; for (let u = 0; u < o.length; u += 1)a = fe(a, o[u]); return { c() { e = L("a"), t = le(n[3]), this.h() }, l(u) { e = T(u, "A", { class: !0, "data-testid": !0, "aria-label": !0, href: !0 }); var c = E(e); t = ue(c, n[3]), c.forEach(_), this.h() }, h() { Fi(e, a), J(e, "svelte-1tr6noh", !0) }, m(u, c) { I(u, e, c), A(e, t), r || (s = Me(e, "click", Vi(n[23])), r = !0) }, p(u, c) { var d; c[0] & 8 && yf(t, u[3], a.contenteditable), Fi(e, a = at(o, [{ class: "product-lockup__link" }, { "data-testid": "product-lockup-link" }, c[0] & 2097152 && { "aria-label": u[21] }, c[0] & 8192 && i !== (i = (d = u[13].url) != null ? d : "#") && { href: i }, c[0] & 65536 && u[16]])), J(e, "svelte-1tr6noh", !0) }, d(u) { u && _(e), r = !1, s() } } } function _6(n) { let e, t; const i = n[27]["play-button"], r = We(i, n, n[28], f6); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { "data-testid": !0, class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "data-testid", "play-button"), p(e, "class", "product-lockup__play-button svelte-1tr6noh"), J(e, "product-lockup__play-button--large", n[9]) }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o[0] & 268435456) && Je(r, i, s, s[28], t ? Ke(i, s[28], o, nCe) : Ye(s[28]), f6), (!t || o[0] & 512) && J(e, "product-lockup__play-button--large", s[9]) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function v6(n) { let e, t; const i = n[27]["context-button"], r = We(i, n, n[28], d6); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { "data-testid": !0, class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "data-testid", "context-button"), p(e, "class", "product-lockup__context-button svelte-1tr6noh") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o[0] & 268435456) && Je(r, i, s, s[28], t ? Ke(i, s[28], o, tCe) : Ye(s[28]), d6) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function b6(n) { let e, t; return { c() { e = L("p"), t = le(n[2]), this.h() }, l(i) { e = T(i, "P", { "data-testid": !0, class: !0 }); var r = E(e); t = ue(r, n[2]), r.forEach(_), this.h() }, h() { p(e, "data-testid", "product-lockup-ordinal"), p(e, "class", "product-lockup__ordinal svelte-1tr6noh") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r[0] & 4 && me(t, i[2]) }, d(i) { i && _(e) } } } function oCe(n) { let e, t = (n[3] || "") + "", i; return { c() { e = L("span"), i = le(t), this.h() }, l(r) { e = T(r, "SPAN", { "data-testid": !0, class: !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "data-testid", "product-lockup-title"), p(e, "class", "product-lockup__title link svelte-1tr6noh") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s[0] & 8 && t !== (t = (r[3] || "") + "") && me(i, t) }, d(r) { r && _(e) } } } function aCe(n) { let e, t = (n[3] || "") + "", i, r, s, o = [{ href: n[10] }, { "data-testid": "product-lockup-title" }, { class: "product-lockup__title" }, n[16]], a = {}; for (let l = 0; l < o.length; l += 1)a = fe(a, o[l]); return { c() { e = L("a"), i = le(t), this.h() }, l(l) { e = T(l, "A", { href: !0, "data-testid": !0, class: !0 }); var u = E(e); i = ue(u, t), u.forEach(_), this.h() }, h() { Fi(e, a), J(e, "svelte-1tr6noh", !0) }, m(l, u) { I(l, e, u), A(e, i), r || (s = Me(e, "click", Vi(n[22])), r = !0) }, p(l, u) { u[0] & 8 && t !== (t = (l[3] || "") + "") && yf(i, t, a.contenteditable), Fi(e, a = at(o, [u[0] & 1024 && { href: l[10] }, { "data-testid": "product-lockup-title" }, { class: "product-lockup__title" }, u[0] & 65536 && l[16]])), J(e, "svelte-1tr6noh", !0) }, d(l) { l && _(e), r = !1, s() } } } function lCe(n) { let e; function t(s, o) { return s[10] ? aCe : oCe } let i = t(n), r = i(n); return { c() { r.c(), e = re() }, l(s) { r.l(s), e = re() }, m(s, o) { r.m(s, o), I(s, e, o) }, p(s, o) { i === (i = t(s)) && r ? r.p(s, o) : (r.d(1), r = i(s), r && (r.c(), r.m(e.parentNode, e))) }, d(s) { s && _(e), r.d(s) } } } function uCe(n) { let e; const t = n[27]["favorited-badge"], i = We(t, n, n[28], c6); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s[0] & 268435456) && Je(i, t, r, r[28], e ? Ke(t, r[28], s, eCe) : Ye(r[28]), c6) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function y6(n) { let e, t, i; return t = new Nc({ props: { explicitAriaText: n[6] } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "product-lockup__explicit svelte-1tr6noh") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[0] & 64 && (o.explicitAriaText = r[6]), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function w6(n) { let e, t, i; return t = new $l({ props: { clamp: n[14] ? 1 : 2, allowFocusOverflow: !0, observe: !0, $$slots: { default: [hCe] }, $$scope: { ctx: n } } }), t.$on("resize", function () { Ft(n[17]) && n[17].apply(this, arguments) }), { c() { e = L("p"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "P", { "data-testid": !0, class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "data-testid", "product-lockup-subtitles"), p(e, "class", "product-lockup__subtitle-links svelte-1tr6noh"), J(e, "product-lockup__subtitle-links--multiline", n[15]), J(e, "product-lockup__subtitle-links--singlet", n[19]) }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { n = r; const o = {}; s[0] & 16384 && (o.clamp = n[14] ? 1 : 2), s[0] & 268501136 && (o.$$scope = { dirty: s, ctx: n }), t.$set(o), (!i || s[0] & 32768) && J(e, "product-lockup__subtitle-links--multiline", n[15]), (!i || s[0] & 524288) && J(e, "product-lockup__subtitle-links--singlet", n[19]) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function cCe(n) { let e, t = n[31].title + "", i; return { c() { e = L("span"), i = le(t), this.h() }, l(r) { e = T(r, "SPAN", { "data-testid": !0, class: !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "data-testid", "product-lockup-subtitle"), p(e, "class", "product-lockup__subtitle svelte-1tr6noh") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s[1] & 1 && t !== (t = r[31].title + "") && me(i, t) }, d(r) { r && _(e) } } } function dCe(n) { let e, t, i = n[31].title + "", r, s, o; return { c() { e = L("button"), t = L("span"), r = le(i), this.h() }, l(a) { e = T(a, "BUTTON", { "data-testid": !0, class: !0 }); var l = E(e); t = T(l, "SPAN", { class: !0 }); var u = E(t); r = ue(u, i), u.forEach(_), l.forEach(_), this.h() }, h() { p(t, "class", "svelte-1tr6noh"), p(e, "data-testid", "product-lockup-subtitle"), p(e, "class", "product-lockup__subtitle product-lockup__subtitle--button link svelte-1tr6noh") }, m(a, l) { I(a, e, l), A(e, t), A(t, r), s || (o = Me(e, "click", Vi(function () { Ft(n[24](n[31])) && n[24](n[31]).apply(this, arguments) })), s = !0) }, p(a, l) { n = a, l[1] & 1 && i !== (i = n[31].title + "") && me(r, i) }, d(a) { a && _(e), s = !1, o() } } } function fCe(n) { let e, t = n[31].title + "", i, r, s, o, a = [{ href: r = n[31].href }, { class: "product-lockup__subtitle" }, { "data-testid": "product-lockup-subtitle" }, n[16]], l = {}; for (let u = 0; u < a.length; u += 1)l = fe(l, a[u]); return { c() { e = L("a"), i = le(t), this.h() }, l(u) { e = T(u, "A", { href: !0, class: !0, "data-testid": !0 }); var c = E(e); i = ue(c, t), c.forEach(_), this.h() }, h() { Fi(e, l), J(e, "link", n[31].segue), J(e, "svelte-1tr6noh", !0) }, m(u, c) { I(u, e, c), A(e, i), s || (o = Me(e, "click", Vi(function () { Ft(n[24](n[31])) && n[24](n[31]).apply(this, arguments) })), s = !0) }, p(u, c) { n = u, c[1] & 1 && t !== (t = n[31].title + "") && yf(i, t, l.contenteditable), Fi(e, l = at(a, [c[1] & 1 && r !== (r = n[31].href) && { href: r }, { class: "product-lockup__subtitle" }, { "data-testid": "product-lockup-subtitle" }, c[0] & 65536 && n[16]])), J(e, "link", n[31].segue), J(e, "svelte-1tr6noh", !0) }, d(u) { u && _(e), s = !1, o() } } } function gCe(n) { let e; function t(s, o) { return s[31].href ? fCe : s[31].segue ? dCe : cCe } let i = t(n), r = i(n); return { c() { r.c(), e = re() }, l(s) { r.l(s), e = re() }, m(s, o) { r.m(s, o), I(s, e, o) }, p(s, o) { i === (i = t(s)) && r ? r.p(s, o) : (r.d(1), r = i(s), r && (r.c(), r.m(e.parentNode, e))) }, d(s) { s && _(e), r.d(s) } } } function hCe(n) { let e, t; return e = new so({ props: { items: n[4], translateFn: n[7], $$slots: { default: [gCe, ({ item: i }) => ({ 31: i }), ({ item: i }) => [0, i ? 1 : 0]] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 16 && (s.items = i[4]), r[0] & 128 && (s.translateFn = i[7]), r[0] & 268500992 | r[1] & 1 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function mCe(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C; const P = n[27].artwork, M = We(P, n, n[28], h6), R = M || sCe(n), F = n[27]["artwork-metadata-overlay"], N = We(F, n, n[28], g6); let O = n[13] && p6(n), B = n[25]["play-button"] && _6(n), U = n[25]["context-button"] && v6(n), K = n[2] && b6(n); h = new $l({ props: { clamp: 2, allowFocusOverflow: !0, observe: !0, $$slots: { badge: [uCe], default: [lCe] }, $$scope: { ctx: n } } }), h.$on("resize", function () { Ft(n[18]) && n[18].apply(this, arguments) }); let W = n[5] && y6(n), Z = n[4] && n[4].length > 0 && w6(n); return { c() { e = L("div"), t = L("div"), R && R.c(), i = Y(), N && N.c(), r = Y(), s = L("div"), O && O.c(), o = Y(), B && B.c(), a = Y(), U && U.c(), u = Y(), c = L("div"), K && K.c(), d = Y(), f = L("div"), g = L("div"), V(h.$$.fragment), m = Y(), W && W.c(), v = Y(), Z && Z.c(), this.h() }, l(Q) { e = T(Q, "DIV", { class: !0, "aria-label": !0, "data-testid": !0 }); var G = E(e); t = T(G, "DIV", { class: !0, "aria-hidden": !0 }); var ae = E(t); R && R.l(ae), i = X(ae), N && N.l(ae), r = X(ae), s = T(ae, "DIV", { "data-testid": !0, class: !0 }); var ee = E(s); O && O.l(ee), o = X(ee), B && B.l(ee), a = X(ee), U && U.l(ee), ee.forEach(_), ae.forEach(_), u = X(G), c = T(G, "DIV", { class: !0 }); var pe = E(c); K && K.l(pe), d = X(pe), f = T(pe, "DIV", { class: !0, dir: !0 }); var ke = E(f); g = T(ke, "DIV", { class: !0 }); var we = E(g); q(h.$$.fragment, we), m = X(we), W && W.l(we), we.forEach(_), v = X(ke), Z && Z.l(ke), ke.forEach(_), pe.forEach(_), G.forEach(_), this.h() }, h() { p(s, "data-testid", "lockup-control"), p(s, "class", "product-lockup__controls svelte-1tr6noh"), p(t, "class", "product-lockup__artwork svelte-1tr6noh"), p(t, "aria-hidden", l = !(n[25]["play-button"] || n[25]["context-button"])), J(t, "has-controls", n[25]["play-button"] || n[25]["context-button"]), p(g, "class", "product-lockup__title-link svelte-1tr6noh"), J(g, "product-lockup__title-link--multiline", n[14]), p(f, "class", "product-lockup__content-details svelte-1tr6noh"), p(f, "dir", "auto"), J(f, "product-lockup__content-details--no-subtitle-link", !n[20]), p(c, "class", "product-lockup__content svelte-1tr6noh"), p(e, "class", "product-lockup svelte-1tr6noh"), p(e, "aria-label", b = n[21] || n[3]), p(e, "data-testid", "product-lockup"), J(e, "has-open-menu", n[11]), J(e, "has-body-text", n[12] === "body") }, m(Q, G) { I(Q, e, G), A(e, t), R && R.m(t, null), A(t, i), N && N.m(t, null), A(t, r), A(t, s), O && O.m(s, null), A(s, o), B && B.m(s, null), A(s, a), U && U.m(s, null), A(e, u), A(e, c), K && K.m(c, null), A(c, d), A(c, f), A(f, g), H(h, g, null), A(g, m), W && W.m(g, null), A(f, v), Z && Z.m(f, null), k = !0, S || (C = [Me(e, "click", n[23]), Ut(y = pl.call(null, e, n[8]))], S = !0) }, p(Q, G) { n = Q, M ? M.p && (!k || G[0] & 268435466) && Je(M, P, n, n[28], k ? Ke(P, n[28], G, rCe) : Ye(n[28]), h6) : R && R.p && (!k || G[0] & 2097163) && R.p(n, k ? G : [-1, -1]), N && N.p && (!k || G[0] & 268435456) && Je(N, F, n, n[28], k ? Ke(F, n[28], G, iCe) : Ye(n[28]), g6), n[13] ? O ? O.p(n, G) : (O = p6(n), O.c(), O.m(s, o)) : O && (O.d(1), O = null), n[25]["play-button"] ? B ? (B.p(n, G), G[0] & 33554432 && w(B, 1)) : (B = _6(n), B.c(), w(B, 1), B.m(s, a)) : B && (te(), D(B, 1, 1, () => { B = null }), ne()), n[25]["context-button"] ? U ? (U.p(n, G), G[0] & 33554432 && w(U, 1)) : (U = v6(n), U.c(), w(U, 1), U.m(s, null)) : U && (te(), D(U, 1, 1, () => { U = null }), ne()), (!k || G[0] & 33554432 && l !== (l = !(n[25]["play-button"] || n[25]["context-button"]))) && p(t, "aria-hidden", l), (!k || G[0] & 33554432) && J(t, "has-controls", n[25]["play-button"] || n[25]["context-button"]), n[2] ? K ? K.p(n, G) : (K = b6(n), K.c(), K.m(c, d)) : K && (K.d(1), K = null); const ae = {}; G[0] & 268502024 && (ae.$$scope = { dirty: G, ctx: n }), h.$set(ae), n[5] ? W ? (W.p(n, G), G[0] & 32 && w(W, 1)) : (W = y6(n), W.c(), w(W, 1), W.m(g, null)) : W && (te(), D(W, 1, 1, () => { W = null }), ne()), (!k || G[0] & 16384) && J(g, "product-lockup__title-link--multiline", n[14]), n[4] && n[4].length > 0 ? Z ? (Z.p(n, G), G[0] & 16 && w(Z, 1)) : (Z = w6(n), Z.c(), w(Z, 1), Z.m(f, null)) : Z && (te(), D(Z, 1, 1, () => { Z = null }), ne()), (!k || G[0] & 1048576) && J(f, "product-lockup__content-details--no-subtitle-link", !n[20]), (!k || G[0] & 2097160 && b !== (b = n[21] || n[3])) && p(e, "aria-label", b), y && Ft(y.update) && G[0] & 256 && y.update.call(null, n[8]), (!k || G[0] & 2048) && J(e, "has-open-menu", n[11]), (!k || G[0] & 4096) && J(e, "has-body-text", n[12] === "body") }, i(Q) { k || (w(R, Q), w(N, Q), w(B), w(U), w(h.$$.fragment, Q), w(W), w(Z), k = !0) }, o(Q) { D(R, Q), D(N, Q), D(B), D(U), D(h.$$.fragment, Q), D(W), D(Z), k = !1 }, d(Q) { Q && _(e), R && R.d(Q), N && N.d(Q), O && O.d(), B && B.d(), U && U.d(), K && K.d(), $(h), W && W.d(), Z && Z.d(), S = !1, Ot(C) } } } function pCe(n, e, t) { let i, r, s, o, a, l, { $$slots: u = {}, $$scope: c } = e; const d = wn(u); let { artwork: f } = e, { profile: g = "episode-lockup" } = e, { ordinal: h } = e, { title: m } = e, { subtitleLinks: v } = e, { isExplicit: b } = e, { explicitAriaText: y } = e, { translateFn: k } = e, { dragOptions: S = !1 } = e, { immediatePlayModule: C = !1 } = e, { ariaLabel: P = null } = e, { titleHref: M = "" } = e, { contextMenuIsOpen: R = !1 } = e, { typography: F = null } = e; const N = It(), O = To(); let B = !0, U = !1, { linkAction: K = null } = e; const W = G => { N("titleClick", { event: G }) }, Z = G => { N("wrapperClick", { event: G }) }, Q = G => ae => { G.segue && N("subtitleClick", { event: ae, link: G }) }; return n.$$set = G => { "artwork" in G && t(0, f = G.artwork), "profile" in G && t(1, g = G.profile), "ordinal" in G && t(2, h = G.ordinal), "title" in G && t(3, m = G.title), "subtitleLinks" in G && t(4, v = G.subtitleLinks), "isExplicit" in G && t(5, b = G.isExplicit), "explicitAriaText" in G && t(6, y = G.explicitAriaText), "translateFn" in G && t(7, k = G.translateFn), "dragOptions" in G && t(8, S = G.dragOptions), "immediatePlayModule" in G && t(9, C = G.immediatePlayModule), "ariaLabel" in G && t(26, P = G.ariaLabel), "titleHref" in G && t(10, M = G.titleHref), "contextMenuIsOpen" in G && t(11, R = G.contextMenuIsOpen), "typography" in G && t(12, F = G.typography), "linkAction" in G && t(13, K = G.linkAction), "$$scope" in G && t(28, c = G.$$scope) }, n.$$.update = () => { n.$$.dirty[0] & 67109032 && t(21, i = b ? k("AMP.Shared.ContentA.Comma.ContentB", { contentA: k("FUSE.Explicit"), contentB: P != null ? P : m }) : P), n.$$.dirty[0] & 16 && t(20, r = v == null ? void 0 : v.some(G => G.href || G.segue)), n.$$.dirty[0] & 16 && t(19, s = (v == null ? void 0 : v.length) === 1), n.$$.dirty[0] & 8192 && t(16, l = K != null && K.isExternal ? { target: "_blank", rel: "noopener noreferer" } : {}) }, t(18, o = G => O.add(() => t(14, B = G.detail.multiline))), t(17, a = G => O.add(() => t(15, U = G.detail.multiline))), [f, g, h, m, v, b, y, k, S, C, M, R, F, K, B, U, l, a, o, s, r, i, W, Z, Q, d, P, u, c] } class _Ce extends oe { constructor(e) { super(), se(this, e, pCe, mCe, ye, { artwork: 0, profile: 1, ordinal: 2, title: 3, subtitleLinks: 4, isExplicit: 5, explicitAriaText: 6, translateFn: 7, dragOptions: 8, immediatePlayModule: 9, ariaLabel: 26, titleHref: 10, contextMenuIsOpen: 11, typography: 12, linkAction: 13 }, null, [-1, -1]) } } const HB = "social-badging"; function vCe() { const n = gi(HB); if (!n) throw new Error("getSocialBadging called before SocialBadging.setup"); return n } function bCe(n, e) { return n.dispatch(cT(e)) } function yCe(n, e, t) { let i = bCe.bind(null, n), r = xu(e.state, (s, o) => { var a; bi((a = s.user) == null ? void 0 : a.subscriberType) ? n.dispatch(nee()).then(({ contents: l }) => { const u = Array.from(new Set(Object.values(l).flatMap(c => c))); Array.isArray(u) && u.length > 0 ? i(u).then(c => { const d = {}; for (let f in l) d[f] = l[f].map(g => c.find(h => h.id === g)); return d }).then(c => o(c)) : t.warn("Missing social profile identifiers for intent: FetchFullSocialProfilesIntent") }, l => { t.error(l) }) : o({}) }); return r.fetchProfilesFromIds = i, r } class wCe { static setup(e, t, i, r) { const s = t.loggerFor("SocialBadging"); let o = yCe(r, i, s); e.set(HB, o) } } function k6(n, e, t) { const i = n.slice(); return i[5] = e[t], i[7] = t, i } const kCe = n => ({ item: n & 1, itemIdx: n & 1 }), D6 = n => ({ item: n[5], itemIdx: n[7] }); function S6(n) { let e, t, i; const r = n[4].default, s = We(r, n, n[3], D6); return { c() { e = L("li"), s && s.c(), t = Y(), this.h() }, l(o) { e = T(o, "LI", { "data-testid": !0, class: !0 }); var a = E(e); s && s.l(a), t = X(a), a.forEach(_), this.h() }, h() { p(e, "data-testid", "profile-badge"), p(e, "class", "profile-badge svelte-1ypwnvz"), J(e, "profile-badge--raise-on-hover", n[1]) }, m(o, a) { I(o, e, a), s && s.m(e, null), A(e, t), i = !0 }, p(o, a) { s && s.p && (!i || a & 9) && Je(s, r, o, o[3], i ? Ke(r, o[3], a, kCe) : Ye(o[3]), D6), (!i || a & 2) && J(e, "profile-badge--raise-on-hover", o[1]) }, i(o) { i || (w(s, o), i = !0) }, o(o) { D(s, o), i = !1 }, d(o) { o && _(e), s && s.d(o) } } } function C6(n, e) { let t, i, r, s = e[5] && S6(e); return { key: n, first: null, c() { t = re(), s && s.c(), i = re(), this.h() }, l(o) { t = re(), s && s.l(o), i = re(), this.h() }, h() { this.first = t }, m(o, a) { I(o, t, a), s && s.m(o, a), I(o, i, a), r = !0 }, p(o, a) { e = o, e[5] ? s ? (s.p(e, a), a & 1 && w(s, 1)) : (s = S6(e), s.c(), w(s, 1), s.m(i.parentNode, i)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()) }, i(o) { r || (w(s), r = !0) }, o(o) { D(s), r = !1 }, d(o) { o && (_(t), _(i)), s && s.d(o) } } } function DCe(n) { let e, t = [], i = new Map, r, s = ut(n[0]); const o = a => { var l; return ((l = a[5]) == null ? void 0 : l.id) || a[7] }; for (let a = 0; a < s.length; a += 1) { let l = k6(n, s, a), u = o(l); i.set(u, t[a] = C6(u, l)) } return { c() { e = L("ul"); for (let a = 0; a < t.length; a += 1)t[a].c(); this.h() }, l(a) { e = T(a, "UL", { class: !0 }); var l = E(e); for (let u = 0; u < t.length; u += 1)t[u].l(l); l.forEach(_), this.h() }, h() { p(e, "class", "badge-list svelte-1ypwnvz"), J(e, "badge-list--offset", n[2]) }, m(a, l) { I(a, e, l); for (let u = 0; u < t.length; u += 1)t[u] && t[u].m(e, null); r = !0 }, p(a, [l]) { l & 11 && (s = ut(a[0]), te(), t = lr(t, l, o, 1, a, s, i, e, Ir, C6, null, k6), ne()), (!r || l & 4) && J(e, "badge-list--offset", a[2]) }, i(a) { if (!r) { for (let l = 0; l < s.length; l += 1)w(t[l]); r = !0 } }, o(a) { for (let l = 0; l < t.length; l += 1)D(t[l]); r = !1 }, d(a) { a && _(e); for (let l = 0; l < t.length; l += 1)t[l].d() } } } function SCe(n, e, t) { let { $$slots: i = {}, $$scope: r } = e, { items: s } = e, { raiseBadgeOnHover: o = !1 } = e, { offsetByBorder: a = !1 } = e; return n.$$set = l => { "items" in l && t(0, s = l.items), "raiseBadgeOnHover" in l && t(1, o = l.raiseBadgeOnHover), "offsetByBorder" in l && t(2, a = l.offsetByBorder), "$$scope" in l && t(3, r = l.$$scope) }, [s, o, a, r, i] } class $B extends oe { constructor(e) { super(), se(this, e, SCe, DCe, ye, { items: 0, raiseBadgeOnHover: 1, offsetByBorder: 2 }) } } function CCe(n) { let e, t, i; return t = new Oo({ props: { badgeStyle: n[0], artwork: n[6], name: n[5] } }), { c() { e = L("span"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "SPAN", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "svelte-nsrbv3") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 1 && (o.badgeStyle = r[0]), s & 64 && (o.artwork = r[6]), s & 32 && (o.name = r[5]), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function PCe(n) { let e, t, i; return t = new Oo({ props: { badgeStyle: n[0], artwork: n[6], name: n[5] } }), { c() { e = L("a"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "A", { href: !0, "data-testid": !0, "data-friend-name": !0, class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "href", n[4]), p(e, "data-testid", "social-badge-meta"), p(e, "data-friend-name", n[5]), p(e, "class", "svelte-nsrbv3"), J(e, "is-first", n[2]), J(e, "is-last", n[3]) }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 1 && (o.badgeStyle = r[0]), s & 64 && (o.artwork = r[6]), s & 32 && (o.name = r[5]), t.$set(o), (!i || s & 16) && p(e, "href", r[4]), (!i || s & 32) && p(e, "data-friend-name", r[5]), (!i || s & 4) && J(e, "is-first", r[2]), (!i || s & 8) && J(e, "is-last", r[3]) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function ACe(n) { let e, t, i, r; const s = [PCe, CCe], o = []; function a(l, u) { return l[1] ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, [u]) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function ECe(n, e, t) { let i, r, s, { userProfile: o } = e, { badgeStyle: a = "overlay" } = e, { showBadgeMeta: l = !1 } = e, { isFirst: u = !1 } = e, { isLast: c = !1 } = e; return n.$$set = d => { "userProfile" in d && t(7, o = d.userProfile), "badgeStyle" in d && t(0, a = d.badgeStyle), "showBadgeMeta" in d && t(1, l = d.showBadgeMeta), "isFirst" in d && t(2, u = d.isFirst), "isLast" in d && t(3, c = d.isLast) }, n.$$.update = () => { n.$$.dirty & 128 && t(6, { artwork: i, name: r, url: s } = o.attributes, i, (t(5, r), t(7, o)), (t(4, s), t(7, o))) }, [a, l, u, c, s, r, i, o] } class ICe extends oe { constructor(e) { super(), se(this, e, ECe, ACe, ye, { userProfile: 7, badgeStyle: 0, showBadgeMeta: 1, isFirst: 2, isLast: 3 }) } } function P6(n) { let e, t, i, r; t = new $B({ props: { items: n[3], raiseBadgeOnHover: n[0], offsetByBorder: n[0], $$slots: { default: [MCe, ({ item: o, itemIdx: a }) => ({ 11: o, 12: a }), ({ item: o, itemIdx: a }) => (o ? 2048 : 0) | (a ? 4096 : 0)] }, $$scope: { ctx: n } } }); let s = n[0] && A6(n); return { c() { e = L("div"), V(t.$$.fragment), i = Y(), s && s.c(), this.h() }, l(o) { e = T(o, "DIV", { class: !0 }); var a = E(e); q(t.$$.fragment, a), i = X(a), s && s.l(a), a.forEach(_), this.h() }, h() { p(e, "class", "social-badges svelte-vx3tyj"), J(e, "social-badges--meta", n[0]) }, m(o, a) { I(o, e, a), H(t, e, null), A(e, i), s && s.m(e, null), r = !0 }, p(o, a) { const l = {}; a & 8 && (l.items = o[3]), a & 1 && (l.raiseBadgeOnHover = o[0]), a & 1 && (l.offsetByBorder = o[0]), a & 14347 && (l.$$scope = { dirty: a, ctx: o }), t.$set(l), o[0] ? s ? s.p(o, a) : (s = A6(o), s.c(), s.m(e, null)) : s && (s.d(1), s = null), (!r || a & 1) && J(e, "social-badges--meta", o[0]) }, i(o) { r || (w(t.$$.fragment, o), r = !0) }, o(o) { D(t.$$.fragment, o), r = !1 }, d(o) { o && _(e), $(t), s && s.d() } } } function MCe(n) { let e, t; return e = new ICe({ props: { badgeStyle: n[1], showBadgeMeta: n[0], userProfile: n[11], isFirst: n[12] === 0, isLast: n[12] === n[3].length - 1 } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.badgeStyle = i[1]), r & 1 && (s.showBadgeMeta = i[0]), r & 2048 && (s.userProfile = i[11]), r & 4096 && (s.isFirst = i[12] === 0), r & 4104 && (s.isLast = i[12] === i[3].length - 1), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function A6(n) { let e, t = n[4].t("ASE.Web.Music.Social.Friends.Listening", { count: n[2].length }) + "", i; return { c() { e = L("div"), i = le(t), this.h() }, l(r) { e = T(r, "DIV", { class: !0, "data-testid": !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "social-badges__friends-meta-info svelte-vx3tyj"), p(e, "data-testid", "social-badges-meta") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 20 && t !== (t = r[4].t("ASE.Web.Music.Social.Friends.Listening", { count: r[2].length }) + "") && me(i, t) }, d(r) { r && _(e) } } } function LCe(n) { let e, t, i = n[2] && n[2].length > 0 && P6(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[2] && r[2].length > 0 ? i ? (i.p(r, s), s & 4 && w(i, 1)) : (i = P6(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function TCe(n, e, t) { let i, r, s, o; var a; const l = ot(); ce(n, l, h => t(4, o = h)); let { contentDescriptor: u } = e, { maxBadges: c = KT } = e, { showBadgeMeta: d = !1 } = e, { badgeStyle: f = "overlay" } = e, g = vCe(); return ce(n, g, h => t(10, s = h)), n.$$set = h => { "contentDescriptor" in h && t(7, u = h.contentDescriptor), "maxBadges" in h && t(8, c = h.maxBadges), "showBadgeMeta" in h && t(0, d = h.showBadgeMeta), "badgeStyle" in h && t(1, f = h.badgeStyle) }, n.$$.update = () => { n.$$.dirty & 1664 && t(2, i = s && s[t(9, a = u == null ? void 0 : u.identifiers) === null || a === void 0 ? void 0 : a.storeAdamID] || []), n.$$.dirty & 260 && t(3, r = i.slice(0, c)) }, [d, f, i, r, o, l, g, u, c, a, s] } class ch extends oe { constructor(e) { super(), se(this, e, TCe, LCe, ye, { contentDescriptor: 7, maxBadges: 8, showBadgeMeta: 0, badgeStyle: 1 }) } } function dh(n, e, t) { const i = e ? n.t("ASE.Web.Music.VO.RadioPlayLabel", { content: e }) : n.t("ASE.Web.Music.Play"); return t ? n.t("ASE.Web.Music.ContentA.Comma.ContentB", { contentA: n.t("ASE.Web.Music.Explicit"), contentB: i }) : i } function j_(n) { var e, t; if (!((e = n.radioStation) != null && e.isBroadcastRadio) && !((t = n.radioStation) != null && t.isRadioEpisode && !Oi.hasEncryptedPlaybackSupport()) && !(n.radioStation === void 0 && n.isAOD)) return n.playAction } function RCe(n) { let e, t; return e = new Gt({ props: { artwork: n[21], profile: n[10], fallbackKind: n[2], alt: n[37], forceCropCode: n[11] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 2097152 && (s.artwork = i[21]), r[0] & 1024 && (s.profile = i[10]), r[0] & 4 && (s.fallbackKind = i[2]), r[1] & 64 && (s.alt = i[37]), r[0] & 2048 && (s.forceCropCode = i[11]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function FCe(n) { let e, t; return e = new Q_({ props: { collageArtwork: n[20], profile: "artwork-in-collage", fallbackKind: n[2], alt: n[37] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 1048576 && (s.collageArtwork = i[20]), r[0] & 4 && (s.fallbackKind = i[2]), r[1] & 64 && (s.alt = i[37]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function OCe(n) { let e, t, i, r; const s = [FCe, RCe], o = []; function a(l, u) { return l[20] ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, u) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function NCe(n) { let e, t; return e = new us({ props: { inFavorites: n[17] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 131072 && (s.inFavorites = i[17]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function E6(n) { let e, t; return e = new Ki({ props: { playAction: n[7], ariaLabel: n[13], isLarge: n[2] === x.RadioStation } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 128 && (s.playAction = i[7]), r[0] & 8192 && (s.ariaLabel = i[13]), r[0] & 4 && (s.isLarge = i[2] === x.RadioStation), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function BCe(n) { let e, t, i = n[7] && E6(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[7] ? i ? (i.p(r, s), s[0] & 128 && w(i, 1)) : (i = E6(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function UCe(n) { let e, t, i; return t = new ch({ props: { contentDescriptor: n[0].contentDescriptor } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0, slot: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "square-lockup__social svelte-152pqr7"), p(e, "slot", "artwork-metadata-overlay") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[0] & 1 && (o.contentDescriptor = r[0].contentDescriptor), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function HCe(n) { let e, t, i; return t = new ls({ props: { attachedTo: n[0].contentDescriptor, isPlayable: n[0].playAction !== null, itemProperties: { subtitleLinks: n[6], title: n[5], artwork: n[0].artwork, recoID: $i(n[7]) }, shareUrl: n[0].shareUrl, canDelete: n[0].canDelete } }), t.$on("contextMenuVisibilityChange", n[25]), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { slot: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "slot", "context-button") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[0] & 1 && (o.attachedTo = r[0].contentDescriptor), s[0] & 1 && (o.isPlayable = r[0].playAction !== null), s[0] & 225 && (o.itemProperties = { subtitleLinks: r[6], title: r[5], artwork: r[0].artwork, recoID: $i(r[7]) }), s[0] & 1 && (o.shareUrl = r[0].shareUrl), s[0] & 1 && (o.canDelete = r[0].canDelete), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function $Ce(n) { var i; let e, t; return e = new _Ce({ props: { artwork: "slot", title: n[5], subtitleLinks: n[6], ariaLabel: n[14], titleHref: n[19], ordinal: n[16], translateFn: n[8].t, isExplicit: n[4], explicitAriaText: n[8].t("ASE.Web.Music.Explicit"), dragOptions: { dragEnabled: n[1], dragData: { items: [n[0].contentDescriptor] }, isContainer: ef.includes((i = n[0].contentDescriptor) == null ? void 0 : i.kind), badgeCount: n[0].trackCount }, immediatePlayModule: n[15], contextMenuIsOpen: n[9], linkAction: n[26](n[3]), $$slots: { "context-button": [HCe], "artwork-metadata-overlay": [UCe], "play-button": [BCe], "favorited-badge": [NCe], artwork: [OCe, ({ alt: r }) => ({ 37: r }), ({ alt: r }) => [0, r ? 64 : 0]] }, $$scope: { ctx: n } } }), e.$on("wrapperClick", function () { Ft(n[12]) && n[12].apply(this, arguments) }), e.$on("titleClick", n[23]), e.$on("subtitleClick", n[24]), { c() { V(e.$$.fragment) }, l(r) { q(e.$$.fragment, r) }, m(r, s) { H(e, r, s), t = !0 }, p(r, s) { var a; n = r; const o = {}; s[0] & 32 && (o.title = n[5]), s[0] & 64 && (o.subtitleLinks = n[6]), s[0] & 16384 && (o.ariaLabel = n[14]), s[0] & 524288 && (o.titleHref = n[19]), s[0] & 65536 && (o.ordinal = n[16]), s[0] & 256 && (o.translateFn = n[8].t), s[0] & 16 && (o.isExplicit = n[4]), s[0] & 256 && (o.explicitAriaText = n[8].t("ASE.Web.Music.Explicit")), s[0] & 3 && (o.dragOptions = { dragEnabled: n[1], dragData: { items: [n[0].contentDescriptor] }, isContainer: ef.includes((a = n[0].contentDescriptor) == null ? void 0 : a.kind), badgeCount: n[0].trackCount }), s[0] & 32768 && (o.immediatePlayModule = n[15]), s[0] & 512 && (o.contextMenuIsOpen = n[9]), s[0] & 8 && (o.linkAction = n[26](n[3])), s[0] & 3288293 | s[1] & 192 && (o.$$scope = { dirty: s, ctx: n }), e.$set(o) }, i(r) { t || (w(e.$$.fragment, r), t = !0) }, o(r) { D(e.$$.fragment, r), t = !1 }, d(r) { $(e, r) } } } function VCe(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F, N = j, O = () => (N(), N = yn(d, ge => t(33, F = ge)), d); n.$$.on_destroy.push(() => N()); var B, U, K; const W = ot(); ce(n, W, ge => t(8, R = ge)), sn(); const Z = Qn(); let { item: Q } = e, { dragEnabled: G = !0 } = e; function ae(ge) { var Ce; bu((Ce = ge == null ? void 0 : ge.detail) === null || Ce === void 0 ? void 0 : Ce.event, l) } function ee(ge) { var Ce, he, Ae; bu((Ce = ge == null ? void 0 : ge.detail) === null || Ce === void 0 ? void 0 : Ce.event, ((Ae = (he = ge == null ? void 0 : ge.detail) === null || he === void 0 ? void 0 : he.link) === null || Ae === void 0 ? void 0 : Ae.segue) || Q.segue) } const pe = [x.RadioStation, x.Artist]; let ke = !1; function we(ge) { var Ce; t(9, ke = (Ce = ge.detail) === null || Ce === void 0 ? void 0 : Ce.open) } mn(() => { Z.unsubscribeFromUpdates(c) }); const Te = ge => { var Ce; return { url: (Ce = Kr(ge)) !== null && Ce !== void 0 ? Ce : "#", isExternal: zs(ge) || ra(ge) } }; return n.$$set = ge => { "item" in ge && t(0, Q = ge.item), "dragEnabled" in ge && t(1, G = ge.dragEnabled) }, n.$$.update = () => { n.$$.dirty[0] & 1 && t(21, i = Q.artwork), n.$$.dirty[0] & 1 && t(20, r = Q.trackArtwork), n.$$.dirty[0] & 134217729 && t(2, s = t(27, B = Q.contentDescriptor) === null || B === void 0 ? void 0 : B.kind), n.$$.dirty[0] & 1 && t(32, o = (Q.titleLinks || [])[0]), n.$$.dirty[1] & 2 && t(5, a = o == null ? void 0 : o.title), n.$$.dirty[0] & 1 | n.$$.dirty[1] & 2 && t(3, l = (o == null ? void 0 : o.segue) || Q.segue), n.$$.dirty[0] & 8 && t(19, u = Kr(l)), n.$$.dirty[0] & 1 && t(30, c = Qt(Q)), n.$$.dirty[0] & 1073741824 && O(t(18, d = Z.subscribeToUpdates(c))), n.$$.dirty[0] & 1342177284 | n.$$.dirty[1] & 4 && t(17, f = F && (t(28, U = Z.get(c, s)) === null || U === void 0 ? void 0 : U.inFavorites)), n.$$.dirty[0] & 536870913 && t(6, g = (t(29, K = Q.subtitleLinks) === null || K === void 0 ? void 0 : K.map(ge => Object.assign(Object.assign({}, ge), { href: Kr(ge.segue) }))) || []), n.$$.dirty[0] & 320 && t(31, h = g == null ? void 0 : g.map(ge => ge.title).join(R.t("ASE.Web.Music.Common.ListDelimiter"))), n.$$.dirty[0] & 1 && t(4, m = Q.showExplicitBadge), n.$$.dirty[0] & 1 && t(16, v = Q == null ? void 0 : Q.headline), n.$$.dirty[0] & 1 && t(7, b = j_(Q)), n.$$.dirty[0] & 132 && t(15, y = s === x.RadioStation && b !== void 0), n.$$.dirty[0] & 352 | n.$$.dirty[1] & 1 && t(14, k = g.length ? R.t("ASE.Web.Music.ContentA.Comma.ContentB", { contentA: a, contentB: h }) : a), n.$$.dirty[0] & 304 && t(13, S = dh(R, a, m)), n.$$.dirty[0] & 1 && t(12, C = ge => { var Ce; bu((Ce = ge == null ? void 0 : ge.detail) === null || Ce === void 0 ? void 0 : Ce.event, Q == null ? void 0 : Q.segue) }), n.$$.dirty[0] & 4 && t(11, P = !pe.includes(s)), n.$$.dirty[0] & 4 && t(10, M = Aee[s] || "product-rectangle") }, [Q, G, s, l, m, a, g, b, R, ke, M, P, C, S, k, y, v, f, d, u, r, i, W, ae, ee, we, Te, B, U, K, c, h, o, F] } class G_ extends oe { constructor(e) { super(), se(this, e, VCe, $Ce, ye, { item: 0, dragEnabled: 1 }, null, [-1, -1]) } } function zCe(n) { let e, t = n[0].text + "", i; return { c() { e = L("span"), i = le(t), this.h() }, l(r) { e = T(r, "SPAN", { class: !0, "data-testid": !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "accessory-badge-wrapper svelte-bjwgu8"), p(e, "data-testid", "accessory-badge"), J(e, "is-future", n[1]) }, m(r, s) { I(r, e, s), A(e, i) }, p(r, [s]) { s & 1 && t !== (t = r[0].text + "") && me(i, t), s & 2 && J(e, "is-future", r[1]) }, i: j, o: j, d(r) { r && _(e) } } } function qCe(n, e, t) { let i, { accessoryBadge: r } = e; return n.$$set = s => { "accessoryBadge" in s && t(0, r = s.accessoryBadge) }, n.$$.update = () => { n.$$.dirty & 1 && t(1, i = r.color === "systemMaterial") }, [r, i] } class WCe extends oe { constructor(e) { super(), se(this, e, qCe, zCe, ye, { accessoryBadge: 0 }) } } const KCe = n => {
    const e = $d.test(n.split("/").pop()); let t = n; if (e) { const i = new URL(n); i.search = "", t = decodeURI(i.toString()) } return t = ET(t, "true", e), `
        --background-image: url(${t.replace("{w}", "44").replace("{h}", "44").replace("{c}", "br").replace("{f}", "jpg").replace("{q}", QP.toString())});
        background-size: cover;
    `.trim()
}; const JCe = n => ({}), I6 = n => ({}), YCe = n => ({}), M6 = n => ({}), XCe = n => ({}), L6 = n => ({}), ZCe = n => ({}), T6 = n => ({}), QCe = n => ({}), R6 = n => ({}), jCe = n => ({}), F6 = n => ({}), GCe = n => ({}), O6 = n => ({}); function N6(n) { let e, t; return e = new ba({ props: { artwork: n[4], profile: "powerswoosh", useContainerStyle: !1, imageSettings: n[15] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 16 && (s.artwork = i[4]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function xCe(n) { let e, t, i = n[4] !== "slot" && N6(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[4] !== "slot" ? i ? (i.p(r, s), s & 16 && w(i, 1)) : (i = N6(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function B6(n) { let e; const t = n[21].accessoryBadge, i = We(t, n, n[20], F6); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 1048576) && Je(i, t, r, r[20], e ? Ke(t, r[20], s, jCe) : Ye(r[20]), F6) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function U6(n) { let e, t, i, r, s, o = n[3] && H6(n); return { c() { e = L("div"), t = L("div"), i = L("div"), r = le(n[2]), s = Y(), o && o.c(), this.h() }, l(a) { e = T(a, "DIV", { class: !0 }); var l = E(e); t = T(l, "DIV", { class: !0 }); var u = E(t); i = T(u, "DIV", { class: !0, "data-testid": !0 }); var c = E(i); r = ue(c, n[2]), c.forEach(_), s = X(u), o && o.l(u), u.forEach(_), l.forEach(_), this.h() }, h() { p(i, "class", "powerswoosh__editorial-details-title svelte-jazr1w"), p(i, "data-testid", "powerswoosh-overlay-title"), p(t, "class", "powerswoosh__editorial-details-lockup-details svelte-jazr1w"), p(e, "class", "powerswoosh__editorial-details powerswoosh__editorial-details--in-power-swoosh svelte-jazr1w"), J(e, "powerswoosh__editorial-details--legibility-gradient", n[8]), J(e, "powerswoosh__editorial-details--has-no-subtitle", !n[3]) }, m(a, l) { I(a, e, l), A(e, t), A(t, i), A(i, r), A(t, s), o && o.m(t, null) }, p(a, l) { l & 4 && me(r, a[2]), a[3] ? o ? o.p(a, l) : (o = H6(a), o.c(), o.m(t, null)) : o && (o.d(1), o = null), l & 256 && J(e, "powerswoosh__editorial-details--legibility-gradient", a[8]), l & 8 && J(e, "powerswoosh__editorial-details--has-no-subtitle", !a[3]) }, d(a) { a && _(e), o && o.d() } } } function H6(n) { let e, t; return { c() { e = L("div"), t = le(n[3]), this.h() }, l(i) { e = T(i, "DIV", { class: !0, "data-testid": !0 }); var r = E(e); t = ue(r, n[3]), r.forEach(_), this.h() }, h() { p(e, "class", "powerswoosh__editorial-details-subtitle svelte-jazr1w"), p(e, "data-testid", "powerswoosh-overlay-subtitle") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 8 && me(t, i[3]) }, d(i) { i && _(e) } } } function $6(n) { let e, t; const i = n[21].lockupAction, r = We(i, n, n[20], R6); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "powerswoosh__lockup-action svelte-jazr1w") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 1048576) && Je(r, i, s, s[20], t ? Ke(i, s[20], o, QCe) : Ye(s[20]), R6) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function V6(n) { let e, t; const i = n[21].playButton, r = We(i, n, n[20], T6); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "powerswoosh__play-button svelte-jazr1w") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 1048576) && Je(r, i, s, s[20], t ? Ke(i, s[20], o, ZCe) : Ye(s[20]), T6) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function z6(n) { let e, t; const i = n[21].contextMenu, r = We(i, n, n[20], L6); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "powerswoosh__context-button svelte-jazr1w") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 1048576) && Je(r, i, s, s[20], t ? Ke(i, s[20], o, XCe) : Ye(s[20]), L6) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function q6(n) { let e, t, i, r, s = n[6] && W6(n); return { c() { e = L("p"), t = le(n[0]), i = Y(), s && s.c(), this.h() }, l(o) { e = T(o, "P", { class: !0, "data-testid": !0 }); var a = E(e); t = ue(a, n[0]), i = X(a), s && s.l(a), a.forEach(_), this.h() }, h() { p(e, "class", "powerswoosh__title svelte-jazr1w"), p(e, "data-testid", "powerswoosh__title"), J(e, "powerswoosh__title--with-subtitle", n[17].subtitle), J(e, "powerswoosh__title--clamp-1", !!n[1]) }, m(o, a) { I(o, e, a), A(e, t), A(e, i), s && s.m(e, null), r = !0 }, p(o, a) { (!r || a & 1) && me(t, o[0]), o[6] ? s ? (s.p(o, a), a & 64 && w(s, 1)) : (s = W6(o), s.c(), w(s, 1), s.m(e, null)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()), (!r || a & 131072) && J(e, "powerswoosh__title--with-subtitle", o[17].subtitle), (!r || a & 2) && J(e, "powerswoosh__title--clamp-1", !!o[1]) }, i(o) { r || (w(s), r = !0) }, o(o) { D(s), r = !1 }, d(o) { o && _(e), s && s.d() } } } function W6(n) { let e, t; return e = new Nc({ props: { explicitAriaText: n[7], chinInlineSticky: !0 } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 128 && (s.explicitAriaText = i[7]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function K6(n) { let e, t; const i = n[21].subtitle, r = We(i, n, n[20], I6); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "powerswoosh__subtitle svelte-jazr1w") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 1048576) && Je(r, i, s, s[20], t ? Ke(i, s[20], o, JCe) : Ye(s[20]), I6) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function J6(n) { let e, t; return { c() { e = L("p"), t = le(n[1]), this.h() }, l(i) { e = T(i, "P", { "data-testid": !0, class: !0 }); var r = E(e); t = ue(r, n[1]), r.forEach(_), this.h() }, h() { p(e, "data-testid", "powerswoosh-description"), p(e, "class", "powerswoosh__description svelte-jazr1w") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 2 && me(t, i[1]) }, d(i) { i && _(e) } } } function ePe(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C; const P = n[21].artwork, M = We(P, n, n[20], O6), R = M || xCe(n); let F = n[17].accessoryBadge && B6(n), N = n[2] && U6(n), O = n[17].lockupAction && $6(n), B = n[17].playButton && V6(n), U = n[17].contextMenu && z6(n); const K = n[21]["artwork-metadata-overlay"], W = We(K, n, n[20], M6); let Z = n[0] && q6(n), Q = n[17].subtitle && K6(n), G = n[1] && J6(n); return { c() { e = L("div"), t = L("div"), i = L("div"), r = L("div"), R && R.c(), s = Y(), F && F.c(), o = Y(), N && N.c(), a = Y(), l = L("div"), O && O.c(), u = Y(), B && B.c(), c = Y(), U && U.c(), d = Y(), W && W.c(), f = Y(), g = L("div"), h = L("div"), m = Y(), v = L("div"), b = L("div"), Z && Z.c(), y = Y(), Q && Q.c(), k = Y(), G && G.c(), this.h() }, l(ae) { e = T(ae, "DIV", { class: !0, style: !0, "data-testid": !0 }); var ee = E(e); t = T(ee, "DIV", { class: !0 }); var pe = E(t); i = T(pe, "DIV", { class: !0 }); var ke = E(i); r = T(ke, "DIV", { class: !0 }); var we = E(r); R && R.l(we), we.forEach(_), s = X(ke), F && F.l(ke), o = X(ke), N && N.l(ke), a = X(ke), l = T(ke, "DIV", { class: !0 }); var Te = E(l); O && O.l(Te), u = X(Te), B && B.l(Te), c = X(Te), U && U.l(Te), Te.forEach(_), d = X(ke), W && W.l(ke), f = X(ke), g = T(ke, "DIV", { class: !0 }); var ge = E(g); h = T(ge, "DIV", { class: !0 }), E(h).forEach(_), m = X(ge), v = T(ge, "DIV", { class: !0 }); var Ce = E(v); b = T(Ce, "DIV", { class: !0 }); var he = E(b); Z && Z.l(he), y = X(he), Q && Q.l(he), k = X(he), G && G.l(he), he.forEach(_), Ce.forEach(_), ge.forEach(_), ke.forEach(_), pe.forEach(_), ee.forEach(_), this.h() }, h() { p(r, "class", "artwork powerswoosh__artwork svelte-jazr1w"), p(l, "class", "powerswoosh__lockup-controls svelte-jazr1w"), p(h, "class", "powerswoosh__artwork-blur svelte-jazr1w"), p(b, "class", "powerswoosh__lockup-details-container svelte-jazr1w"), p(v, "class", "powerswoosh__lockup-details svelte-jazr1w"), p(g, "class", "powerswoosh__chin svelte-jazr1w"), J(g, "powerswoosh__chin--legibility-gradient", n[9]), p(i, "class", "powerswoosh__reflect-wrapper svelte-jazr1w"), p(t, "class", "powerswoosh__reflect-outer-wrapper svelte-jazr1w"), p(e, "class", S = ys(`powerswoosh powerswoosh--${n[5]}`) + " svelte-jazr1w"), p(e, "style", n[14]), p(e, "data-testid", "powerswoosh"), J(e, "powerswoosh--superhero", n[10]), J(e, "powerswoosh--add-chin-padding", n[13] === n[16].ADD), J(e, "powerswoosh--remove-chin-padding", n[13] === n[16].REMOVE), J(e, "powerswoosh--has-no-title", !n[0]), J(e, "has-open-menu", n[11]) }, m(ae, ee) { I(ae, e, ee), A(e, t), A(t, i), A(i, r), R && R.m(r, null), A(i, s), F && F.m(i, null), A(i, o), N && N.m(i, null), A(i, a), A(i, l), O && O.m(l, null), A(l, u), B && B.m(l, null), A(l, c), U && U.m(l, null), A(i, d), W && W.m(i, null), A(i, f), A(i, g), A(g, h), A(g, m), A(g, v), A(v, b), Z && Z.m(b, null), A(b, y), Q && Q.m(b, null), A(b, k), G && G.m(b, null), C = !0 }, p(ae, [ee]) { M ? M.p && (!C || ee & 1048576) && Je(M, P, ae, ae[20], C ? Ke(P, ae[20], ee, GCe) : Ye(ae[20]), O6) : R && R.p && (!C || ee & 16) && R.p(ae, C ? ee : -1), ae[17].accessoryBadge ? F ? (F.p(ae, ee), ee & 131072 && w(F, 1)) : (F = B6(ae), F.c(), w(F, 1), F.m(i, o)) : F && (te(), D(F, 1, 1, () => { F = null }), ne()), ae[2] ? N ? N.p(ae, ee) : (N = U6(ae), N.c(), N.m(i, a)) : N && (N.d(1), N = null), ae[17].lockupAction ? O ? (O.p(ae, ee), ee & 131072 && w(O, 1)) : (O = $6(ae), O.c(), w(O, 1), O.m(l, u)) : O && (te(), D(O, 1, 1, () => { O = null }), ne()), ae[17].playButton ? B ? (B.p(ae, ee), ee & 131072 && w(B, 1)) : (B = V6(ae), B.c(), w(B, 1), B.m(l, c)) : B && (te(), D(B, 1, 1, () => { B = null }), ne()), ae[17].contextMenu ? U ? (U.p(ae, ee), ee & 131072 && w(U, 1)) : (U = z6(ae), U.c(), w(U, 1), U.m(l, null)) : U && (te(), D(U, 1, 1, () => { U = null }), ne()), W && W.p && (!C || ee & 1048576) && Je(W, K, ae, ae[20], C ? Ke(K, ae[20], ee, YCe) : Ye(ae[20]), M6), ae[0] ? Z ? (Z.p(ae, ee), ee & 1 && w(Z, 1)) : (Z = q6(ae), Z.c(), w(Z, 1), Z.m(b, y)) : Z && (te(), D(Z, 1, 1, () => { Z = null }), ne()), ae[17].subtitle ? Q ? (Q.p(ae, ee), ee & 131072 && w(Q, 1)) : (Q = K6(ae), Q.c(), w(Q, 1), Q.m(b, k)) : Q && (te(), D(Q, 1, 1, () => { Q = null }), ne()), ae[1] ? G ? G.p(ae, ee) : (G = J6(ae), G.c(), G.m(b, null)) : G && (G.d(1), G = null), (!C || ee & 512) && J(g, "powerswoosh__chin--legibility-gradient", ae[9]), (!C || ee & 32 && S !== (S = ys(`powerswoosh powerswoosh--${ae[5]}`) + " svelte-jazr1w")) && p(e, "class", S), (!C || ee & 16384) && p(e, "style", ae[14]), (!C || ee & 1056) && J(e, "powerswoosh--superhero", ae[10]), (!C || ee & 73760) && J(e, "powerswoosh--add-chin-padding", ae[13] === ae[16].ADD), (!C || ee & 73760) && J(e, "powerswoosh--remove-chin-padding", ae[13] === ae[16].REMOVE), (!C || ee & 33) && J(e, "powerswoosh--has-no-title", !ae[0]), (!C || ee & 2080) && J(e, "has-open-menu", ae[11]) }, i(ae) { C || (w(R, ae), w(F), w(O), w(B), w(U), w(W, ae), w(Z), w(Q), C = !0) }, o(ae) { D(R, ae), D(F), D(O), D(B), D(U), D(W, ae), D(Z), D(Q), C = !1 }, d(ae) { ae && _(e), R && R.d(ae), F && F.d(), N && N.d(), O && O.d(), B && B.d(), U && U.d(), W && W.d(ae), Z && Z.d(), Q && Q.d(), G && G.d() } } } function tPe(n, e, t) { let i, r, s, o = j, a = () => (o(), o = yn(F, O => t(19, s = O)), F); n.$$.on_destroy.push(() => o()); let { $$slots: l = {}, $$scope: u } = e; const c = wn(l); let { title: d = null } = e, { description: f = null } = e, { overlayTitle: g = null } = e, { overlaySubtitle: h = null } = e, { artwork: m } = e, { kind: v } = e, { showExplicitBadge: b = !1 } = e, { explicitAriaText: y = null } = e, { showTopLegibilityGradient: k = !1 } = e, { showBottomLegibilityGradient: S = !1 } = e, { hasTallArtwork: C = !1 } = e, { chinBgImage: P = null } = e, { contextMenuIsOpen: M = !1 } = e; const R = { forceCropCode: !1 }; let F = null; if (a(), Up()) { const { shelfAspectRatio: O } = v_(); a(F = O) } const N = { ADD: "ADD_PADDING", REMOVE: "REMOVE_PADDING" }; return n.$$set = O => { "title" in O && t(0, d = O.title), "description" in O && t(1, f = O.description), "overlayTitle" in O && t(2, g = O.overlayTitle), "overlaySubtitle" in O && t(3, h = O.overlaySubtitle), "artwork" in O && t(4, m = O.artwork), "kind" in O && t(5, v = O.kind), "showExplicitBadge" in O && t(6, b = O.showExplicitBadge), "explicitAriaText" in O && t(7, y = O.explicitAriaText), "showTopLegibilityGradient" in O && t(8, k = O.showTopLegibilityGradient), "showBottomLegibilityGradient" in O && t(9, S = O.showBottomLegibilityGradient), "hasTallArtwork" in O && t(10, C = O.hasTallArtwork), "chinBgImage" in O && t(18, P = O.chinBgImage), "contextMenuIsOpen" in O && t(11, M = O.contextMenuIsOpen), "$$scope" in O && t(20, u = O.$$scope) }, n.$$.update = () => { n.$$.dirty & 263168 && t(14, i = !C && P ? KCe(P) : null), n.$$.dirty & 525312 && t(13, r = (() => { if (Up()) { const O = parseFloat(s); if (C && !isNaN(O) && O === tf("powerswoosh")) return N.ADD; if (!C && !isNaN(O) && O === tf("powerswooshTall")) return N.REMOVE } return null })()) }, [d, f, g, h, m, v, b, y, k, S, C, M, F, r, i, R, N, c, P, s, u, l] } class nPe extends oe { constructor(e) { super(), se(this, e, tPe, ePe, ye, { title: 0, description: 1, overlayTitle: 2, overlaySubtitle: 3, artwork: 4, kind: 5, showExplicitBadge: 6, explicitAriaText: 7, showTopLegibilityGradient: 8, showBottomLegibilityGradient: 9, hasTallArtwork: 10, chinBgImage: 18, contextMenuIsOpen: 11 }) } } function Y6(n) { let e, t, i; return t = new so({ props: { items: n[0], translateFn: n[3].t, $$slots: { default: [oPe, ({ item: { title: r, segue: s }, index: o }) => ({ 8: r, 9: s, 10: o }), ({ item: r, index: s }) => (r ? 256 : 0) | (r ? 512 : 0) | (s ? 1024 : 0)] }, $$scope: { ctx: n } } }), { c() { e = L("p"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "P", { "data-testid": !0, class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "data-testid", "powerswoosh-subtitle"), p(e, "class", "subtitle-links svelte-1swnbbm"), J(e, "subtitle-links--chin-link", n[1]), J(e, "subtitle-links--clamp-1", n[2] === 1), J(e, "subtitle-links--clamp-2", n[2] === 2) }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 1 && (o.items = r[0]), s & 8 && (o.translateFn = r[3].t), s & 3840 && (o.$$scope = { dirty: s, ctx: r }), t.$set(o), (!i || s & 2) && J(e, "subtitle-links--chin-link", r[1]), (!i || s & 4) && J(e, "subtitle-links--clamp-1", r[2] === 1), (!i || s & 4) && J(e, "subtitle-links--clamp-2", r[2] === 2) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function X6(n) { let e, t, i, r, s; const o = [rPe, iPe], a = []; function l(u, c) { return u[9] ? 0 : 1 } return t = l(n), i = a[t] = o[t](n), { c() { e = L("span"), i.c(), this.h() }, l(u) { e = T(u, "SPAN", { "data-testid": !0, class: !0 }); var c = E(e); i.l(c), c.forEach(_), this.h() }, h() { p(e, "data-testid", r = `powerswoosh-subtitle-${n[9] ? "link" : "item"}${n[10]}`), p(e, "class", "svelte-1swnbbm") }, m(u, c) { I(u, e, c), a[t].m(e, null), s = !0 }, p(u, c) { let d = t; t = l(u), t === d ? a[t].p(u, c) : (te(), D(a[d], 1, 1, () => { a[d] = null }), ne(), i = a[t], i ? i.p(u, c) : (i = a[t] = o[t](u), i.c()), w(i, 1), i.m(e, null)), (!s || c & 1536 && r !== (r = `powerswoosh-subtitle-${u[9] ? "link" : "item"}${u[10]}`)) && p(e, "data-testid", r) }, i(u) { s || (w(i), s = !0) }, o(u) { D(i), s = !1 }, d(u) { u && _(e), a[t].d() } } } function iPe(n) { let e = n[8] + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 256 && e !== (e = i[8] + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function rPe(n) { let e, t; return e = new en({ props: { action: n[9], $$slots: { default: [sPe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 512 && (s.action = i[9]), r & 2304 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function sPe(n) { let e = n[8] + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 256 && e !== (e = i[8] + "") && me(t, e) }, d(i) { i && _(t) } } } function oPe(n) { let e, t, i = n[8] && X6(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[8] ? i ? (i.p(r, s), s & 256 && w(i, 1)) : (i = X6(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function aPe(n) { let e, t, i = n[0] && n[0].length && Y6(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[0] && r[0].length ? i ? (i.p(r, s), s & 1 && w(i, 1)) : (i = Y6(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } const lPe = 30; function uPe(n, e, t) { let i, r, s; const o = [x.Album], a = ot(); ce(n, a, d => t(3, s = d)); let { subtitleLinks: l } = e, { titleHeight: u } = e, { kind: c } = e; return n.$$set = d => { "subtitleLinks" in d && t(0, l = d.subtitleLinks), "titleHeight" in d && t(5, u = d.titleHeight), "kind" in d && t(6, c = d.kind) }, n.$$.update = () => { n.$$.dirty & 96 && t(2, i = u ? o.includes(c) || u >= lPe ? 1 : 2 : void 0), n.$$.dirty & 1 && t(1, r = l == null ? void 0 : l.some(d => !!d.segue)) }, [l, r, i, s, a, u, c] } class cPe extends oe { constructor(e) { super(), se(this, e, uPe, aPe, ye, { subtitleLinks: 0, titleHeight: 5, kind: 6 }) } } function dPe(n) { let e = n[32].warn("missing powerswoosh artwork:", n[8], n[0]) + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[0] & 257 && e !== (e = i[32].warn("missing powerswoosh artwork:", i[8], i[0]) + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function fPe(n) { let e = n[32].warn("unsupported powerswoosh kind:", n[8], n[0]) + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[0] & 257 && e !== (e = i[32].warn("unsupported powerswoosh kind:", i[8], i[0]) + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function gPe(n) { let e, t, i, r, s = n[30] && Z6(n); return i = new nPe({ props: { title: n[16], hasTallArtwork: n[12], chinBgImage: n[23], kind: n[8], description: n[27], showExplicitBadge: n[3], explicitAriaText: n[34], overlayTitle: n[29], overlaySubtitle: n[28], showTopLegibilityGradient: n[22], showBottomLegibilityGradient: n[21], contextMenuIsOpen: n[13], artwork: "slot", $$slots: { accessoryBadge: [kPe], lockupAction: [wPe], playButton: [vPe], contextMenu: [_Pe], subtitle: [pPe], "artwork-metadata-overlay": [mPe], artwork: [hPe] }, $$scope: { ctx: n } } }), { c() { e = L("div"), s && s.c(), t = Y(), V(i.$$.fragment), this.h() }, l(o) { e = T(o, "DIV", { class: !0, "aria-label": !0 }); var a = E(e); s && s.l(a), t = X(a), q(i.$$.fragment, a), a.forEach(_), this.h() }, h() { p(e, "class", "powerswoosh-container"), p(e, "aria-label", n[4]) }, m(o, a) { I(o, e, a), s && s.m(e, null), A(e, t), H(i, e, null), n[51](e), r = !0 }, p(o, a) { o[30] ? s ? s.p(o, a) : (s = Z6(o), s.c(), s.m(e, t)) : s && (s.d(1), s = null); const l = {}; a[0] & 65536 && (l.title = o[16]), a[0] & 4096 && (l.hasTallArtwork = o[12]), a[0] & 8388608 && (l.chinBgImage = o[23]), a[0] & 256 && (l.kind = o[8]), a[0] & 134217728 && (l.description = o[27]), a[0] & 8 && (l.showExplicitBadge = o[3]), a[0] & 536870912 && (l.overlayTitle = o[29]), a[0] & 268435456 && (l.overlaySubtitle = o[28]), a[0] & 4194304 && (l.showTopLegibilityGradient = o[22]), a[0] & 2097152 && (l.showBottomLegibilityGradient = o[21]), a[0] & 8192 && (l.contextMenuIsOpen = o[13]), a[0] & 119508983 | a[1] & 2097152 && (l.$$scope = { dirty: a, ctx: o }), i.$set(l), (!r || a[0] & 16) && p(e, "aria-label", o[4]) }, i(o) { r || (w(i.$$.fragment, o), r = !0) }, o(o) { D(i.$$.fragment, o), r = !1 }, d(o) { o && _(e), s && s.d(), $(i), n[51](null) } } } function Z6(n) { let e, t, i; return { c() { e = L("div"), t = L("div"), i = le(n[30]), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); t = T(s, "DIV", { class: !0, "data-testid": !0 }); var o = E(t); i = ue(o, n[30]), o.forEach(_), s.forEach(_), this.h() }, h() { p(t, "class", "powerswoosh-container__heading svelte-1rooe8x"), p(t, "data-testid", "powerswoosh-container__heading"), p(e, "class", "powerswoosh-container__header svelte-1rooe8x") }, m(r, s) { I(r, e, s), A(e, t), A(t, i) }, p(r, s) { s[0] & 1073741824 && me(i, r[30]) }, d(r) { r && _(e) } } } function hPe(n) { let e, t, i; function r(o) { n[50](o) } let s = { slot: "artwork", videoArtwork: n[25], artwork: n[11], itemKind: n[1], profile: n[26], collageArtwork: n[24], alt: n[16] }; return n[2] !== void 0 && (s.videoAsset = n[2]), e = new Hl({ props: s }), wt.push(() => Xr(e, "videoAsset", r)), { c() { V(e.$$.fragment) }, l(o) { q(e.$$.fragment, o) }, m(o, a) { H(e, o, a), i = !0 }, p(o, a) { const l = {}; a[0] & 33554432 && (l.videoArtwork = o[25]), a[0] & 2048 && (l.artwork = o[11]), a[0] & 2 && (l.itemKind = o[1]), a[0] & 67108864 && (l.profile = o[26]), a[0] & 16777216 && (l.collageArtwork = o[24]), a[0] & 65536 && (l.alt = o[16]), !t && a[0] & 4 && (t = !0, l.videoAsset = o[2], Yr(() => t = !1)), e.$set(l) }, i(o) { i || (w(e.$$.fragment, o), i = !0) }, o(o) { D(e.$$.fragment, o), i = !1 }, d(o) { $(e, o) } } } function mPe(n) { let e, t, i; return t = new ch({ props: { contentDescriptor: n[0].contentDescriptor } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0, slot: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "powerswoosh-container__social svelte-1rooe8x"), p(e, "slot", "artwork-metadata-overlay") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[0] & 1 && (o.contentDescriptor = r[0].contentDescriptor), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function Q6(n) { let e, t; return e = new cPe({ props: { subtitleLinks: n[5], titleHeight: n[15], kind: n[8] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 32 && (s.subtitleLinks = i[5]), r[0] & 32768 && (s.titleHeight = i[15]), r[0] & 256 && (s.kind = i[8]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function pPe(n) { let e, t, i = n[19] && Q6(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[19] ? i ? (i.p(r, s), s[0] & 524288 && w(i, 1)) : (i = Q6(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function _Pe(n) { let e, t; return e = new ls({ props: { slot: "contextMenu", attachedTo: n[0].contentDescriptor, isPlayable: n[7], itemProperties: { title: n[16], subtitleLinks: n[5], artwork: n[0].artwork, recoID: $i(n[10]) } } }), e.$on("contextMenuVisibilityChange", n[35]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 1 && (s.attachedTo = i[0].contentDescriptor), r[0] & 128 && (s.isPlayable = i[7]), r[0] & 66593 && (s.itemProperties = { title: i[16], subtitleLinks: i[5], artwork: i[0].artwork, recoID: $i(i[10]) }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function j6(n) { let e, t; return e = new Ki({ props: { playAction: n[10], ariaLabel: n[18], isLarge: !1, isInChin: !1 } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 1024 && (s.playAction = i[10]), r[0] & 262144 && (s.ariaLabel = i[18]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function vPe(n) { let e, t, i = n[7] && !n[20] && j6(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[7] && !r[20] ? i ? (i.p(r, s), s[0] & 1048704 && w(i, 1)) : (i = j6(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function bPe(n) { let e, t; return e = new en({ props: { action: n[9], ariaLabel: n[4] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 512 && (s.action = i[9]), r[0] & 16 && (s.ariaLabel = i[4]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function yPe(n) { let e, t; return e = new Ki({ props: { playAction: n[10], ariaLabel: n[18], isLarge: !0, isInChin: !1 } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 1024 && (s.playAction = i[10]), r[0] & 262144 && (s.ariaLabel = i[18]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function wPe(n) { let e, t, i, r; const s = [yPe, bPe], o = []; function a(l, u) { return l[20] ? 0 : l[6] ? 1 : -1 } return ~(e = a(n)) && (t = o[e] = s[e](n)), { c() { t && t.c(), i = re() }, l(l) { t && t.l(l), i = re() }, m(l, u) { ~e && o[e].m(l, u), I(l, i, u), r = !0 }, p(l, u) { let c = e; e = a(l), e === c ? ~e && o[e].p(l, u) : (t && (te(), D(o[c], 1, 1, () => { o[c] = null }), ne()), ~e ? (t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) : t = null) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), ~e && o[e].d(l) } } } function G6(n) { let e, t; return e = new WCe({ props: { accessoryBadge: n[17] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 131072 && (s.accessoryBadge = i[17]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function kPe(n) { let e, t, i = n[17] && G6(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[17] ? i ? (i.p(r, s), s[0] & 131072 && w(i, 1)) : (i = G6(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function DPe(n) { let e, t, i, r, s, o; const a = [gPe, fPe, dPe], l = []; function u(c, d) { return d[0] & 50333952 && (e = null), d[0] & 256 && (t = null), e == null && (e = !!(c[33].includes(c[8]) && (c[11] || c[25] || c[24]))), e ? 0 : (t == null && (t = !c[33].includes(c[8])), t ? 1 : c[11] ? -1 : 2) } return ~(i = u(n, [-1, -1])) && (r = l[i] = a[i](n)), { c() { r && r.c(), s = re() }, l(c) { r && r.l(c), s = re() }, m(c, d) { ~i && l[i].m(c, d), I(c, s, d), o = !0 }, p(c, d) { let f = i; i = u(c, d), i === f ? ~i && l[i].p(c, d) : (r && (te(), D(l[f], 1, 1, () => { l[f] = null }), ne()), ~i ? (r = l[i], r ? r.p(c, d) : (r = l[i] = a[i](c), r.c()), w(r, 1), r.m(s.parentNode, s)) : r = null) }, i(c) { o || (w(r), o = !0) }, o(c) { D(r), o = !1 }, d(c) { c && _(s), ~i && l[i].d(c) } } } function SPe(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F, N, O, B, U, K, W, Z; var Q, G, ae, ee, pe, ke, we, Te, ge; const Ce = ot(); ce(n, Ce, Be => t(49, Z = Be)); const he = kn("<Powerswoosh>"), Ae = ["album", "appleCurator", "artist", "artistUploadedVideo", "curator", "editorialItem", "movie", "musicSuperHero", "musicVideo", "playlist", "radioStation", "uploadedVideo", "tvEpisode", "tvShow"]; let { item: ze } = e, { itemKind: Pe } = e, Oe = null; const _e = Z.t("ASE.Web.Music.Explicit"); let Se = !1; function Re(Be) { var lt; t(13, Se = (lt = Be.detail) === null || lt === void 0 ? void 0 : lt.open) } let Ze, De = 0; Yt(() => { if (o) { const Be = Ze == null ? void 0 : Ze.querySelector(".powerswoosh__title"); t(15, De = (Be == null ? void 0 : Be.clientHeight) || 0) } }); function xe(Be) { Oe = Be, t(2, Oe) } function Fe(Be) { wt[Be ? "unshift" : "push"](() => { Ze = Be, t(14, Ze) }) } return n.$$set = Be => { "item" in Be && t(0, ze = Be.item), "itemKind" in Be && t(1, Pe = Be.itemKind) }, n.$$.update = () => { n.$$.dirty[0] & 1 && t(46, i = ze.kind), n.$$.dirty[0] & 1 && t(30, r = ze.heading), n.$$.dirty[0] & 1 && t(4, s = ze.accessibilityLabel), n.$$.dirty[1] & 32864 && t(16, o = oo(i) ? t(36, Q = i.chin) === null || Q === void 0 ? void 0 : Q.title : t(37, G = i.bottom) === null || G === void 0 ? void 0 : G.title), n.$$.dirty[1] & 33152 && t(5, a = oo(i) ? t(38, ae = i.chin) === null || ae === void 0 ? void 0 : ae.subtitleLinks : t(39, ee = i.bottom) === null || ee === void 0 ? void 0 : ee.subtitleLinks), n.$$.dirty[1] & 32768 && t(29, l = !oo(i) && i.top ? i.top.title : null), n.$$.dirty[1] & 32768 && t(28, u = !oo(i) && i.top ? i.top.subtitle : null), n.$$.dirty[1] & 34304 && t(27, c = oo(i) ? t(40, pe = i.chin) === null || pe === void 0 ? void 0 : pe.description : t(41, ke = i.bottom) === null || ke === void 0 ? void 0 : ke.description), n.$$.dirty[1] & 32768 && t(12, d = (i == null ? void 0 : i.kind) === "tallArtwork" || !1), n.$$.dirty[0] & 4096 && t(26, f = d ? "powerswooshTall" : "powerswoosh"), n.$$.dirty[0] & 1 && t(11, g = ze.artwork), n.$$.dirty[0] & 1 && t(25, h = ze.videoArtwork), n.$$.dirty[0] & 1 && t(24, m = ze.trackArtwork), n.$$.dirty[0] & 1 && t(8, v = ze.contentDescriptor.kind), n.$$.dirty[0] & 2048 | n.$$.dirty[1] & 2048 && t(47, b = t(42, we = g == null ? void 0 : g.dictionary) === null || we === void 0 ? void 0 : we.url), n.$$.dirty[0] & 4 && t(48, y = Oe == null ? void 0 : Oe.previewFrame.url), n.$$.dirty[1] & 196608 && t(23, k = y || b), n.$$.dirty[1] & 45056 && t(3, S = oo(i) ? t(43, Te = i.chin) === null || Te === void 0 ? void 0 : Te.showExplicitBadge : t(44, ge = i.bottom) === null || ge === void 0 ? void 0 : ge.showExplicitBadge), n.$$.dirty[1] & 32768 && t(22, C = !oo(i) && i.top ? i.top.showLegibilityGradient : !1), n.$$.dirty[1] & 32768 && t(21, P = !oo(i) && i.bottom ? i.bottom.showLegibilityGradient : !1), n.$$.dirty[0] & 1 && t(9, M = ze.segue), n.$$.dirty[0] & 1 && t(10, R = ze.playAction), n.$$.dirty[0] & 1024 && t(7, F = !!R), n.$$.dirty[0] & 512 && t(6, N = !!M), n.$$.dirty[0] & 256 && t(45, O = v === x.RadioStation), n.$$.dirty[0] & 192 | n.$$.dirty[1] & 16384 && t(20, B = F && (!N || O)), n.$$.dirty[0] & 32 && t(19, U = (a == null ? void 0 : a.length) > 0 || !1), n.$$.dirty[0] & 24 | n.$$.dirty[1] & 262144 && t(18, K = dh(Z, s, S)), n.$$.dirty[0] & 1 && t(17, W = ze.topLeadingBadge) }, [ze, Pe, Oe, S, s, a, N, F, v, M, R, g, d, Se, Ze, De, o, W, K, U, B, P, C, k, m, h, f, c, u, l, r, Ce, he, Ae, _e, Re, Q, G, ae, ee, pe, ke, we, Te, ge, O, i, b, y, Z, xe, Fe] } class CPe extends oe { constructor(e) { super(), se(this, e, SPe, DPe, ye, { item: 0, itemKind: 1 }, null, [-1, -1]) } } function PPe(n) { let e, t, i = [{ class: "person-circle-fill" }, { width: "45" }, { height: "47" }, { viewBox: "0 0 45 47" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { class: !0, width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0, "fill-opacity": !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M4.509 47.408h35.358c2.822 0 4.509-1.318 4.509-3.507 0-6.802-8.517-16.19-22.201-16.19C8.517 27.712 0 37.1 0 43.902c0 2.189 1.688 3.507 4.509 3.507ZM22.2 22.992c5.643 0 10.547-5.062 10.547-11.654C32.748 4.825 27.844 0 22.201 0 16.56 0 11.654 4.93 11.654 11.39c0 6.54 4.878 11.602 10.547 11.602Z"), p(t, "fill-opacity", ".85"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ class: "person-circle-fill" }, { width: "45" }, { height: "47" }, { viewBox: "0 0 45 47" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function APe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let EPe = class extends oe { constructor(e) { super(), se(this, e, APe, PPe, ht, {}) } }; function x6(n, e, t) { const i = n.slice(); return i[19] = e[t], i } const IPe = n => ({}), e4 = n => ({ slot: "badge" }), MPe = n => ({ artwork: n & 1, artworkAlt: n & 2 }), t4 = n => ({ artwork: n[0], artworkProfile: "ellipse-lockup", artworkAlt: n[1] }); function LPe(n) { let e; const t = n[14].artwork, i = We(t, n, n[16], t4), r = i || NPe(n); return { c() { r && r.c() }, l(s) { r && r.l(s) }, m(s, o) { r && r.m(s, o), e = !0 }, p(s, o) { i ? i.p && (!e || o & 65539) && Je(i, t, s, s[16], e ? Ke(t, s[16], o, MPe) : Ye(s[16]), t4) : r && r.p && (!e || o & 131) && r.p(s, e ? o : -1) }, i(s) { e || (w(r, s), e = !0) }, o(s) { D(r, s), e = !1 }, d(s) { r && r.d(s) } } } function TPe(n) { let e, t; return e = new Tl({ props: { initials: n[10]() } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1024 && (s.initials = i[10]()), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function n4(n) { let e, t; return e = new ba({ props: { artwork: n[0], profile: "ellipse-lockup", alt: n[1], $$slots: { "placeholder-component": [OPe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.artwork = i[0]), r & 2 && (s.alt = i[1]), r & 65664 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function RPe(n) { let e, t; return e = new EPe({}), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function FPe(n) { let e, t, i; var r = n[7]; function s(o, a) { return {} } return r && (e = jt(r, s())), { c() { e && V(e.$$.fragment), t = re() }, l(o) { e && q(e.$$.fragment, o), t = re() }, m(o, a) { e && H(e, o, a), I(o, t, a), i = !0 }, p(o, a) { if (a & 128 && r !== (r = o[7])) { if (e) { te(); const l = e; D(l.$$.fragment, 1, 0, () => { $(l, 1) }), ne() } r ? (e = jt(r, s()), V(e.$$.fragment), w(e.$$.fragment, 1), H(e, t.parentNode, t)) : e = null } }, i(o) { i || (e && w(e.$$.fragment, o), i = !0) }, o(o) { e && D(e.$$.fragment, o), i = !1 }, d(o) { o && _(t), e && $(e, o) } } } function OPe(n) { let e, t, i, r; const s = [FPe, RPe], o = []; function a(l, u) { return l[7] ? 0 : 1 } return t = a(n), i = o[t] = s[t](n), { c() { e = L("div"), i.c(), this.h() }, l(l) { e = T(l, "DIV", { class: !0, "data-testid": !0 }); var u = E(e); i.l(u), u.forEach(_), this.h() }, h() { p(e, "class", "artwork-fallback svelte-f2g5g5"), p(e, "data-testid", "artwork-fallback") }, m(l, u) { I(l, e, u), o[t].m(e, null), r = !0 }, p(l, u) { let c = t; t = a(l), t === c ? o[t].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), i = o[t], i ? i.p(l, u) : (i = o[t] = s[t](l), i.c()), w(i, 1), i.m(e, null)) }, i(l) { r || (w(i), r = !0) }, o(l) { D(i), r = !1 }, d(l) { l && _(e), o[t].d() } } } function NPe(n) { let e, t, i = n[0] !== "slot" && n4(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[0] !== "slot" ? i ? (i.p(r, s), s & 1 && w(i, 1)) : (i = n4(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function i4(n) { let e, t, i, r, s = n[2] && r4(n), o = n[3] && s4(n), a = n[4].length > 0 && o4(n); return { c() { s && s.c(), e = Y(), o && o.c(), t = Y(), a && a.c(), i = re() }, l(l) { s && s.l(l), e = X(l), o && o.l(l), t = X(l), a && a.l(l), i = re() }, m(l, u) { s && s.m(l, u), I(l, e, u), o && o.m(l, u), I(l, t, u), a && a.m(l, u), I(l, i, u), r = !0 }, p(l, u) { l[2] ? s ? s.p(l, u) : (s = r4(l), s.c(), s.m(e.parentNode, e)) : s && (s.d(1), s = null), l[3] ? o ? (o.p(l, u), u & 8 && w(o, 1)) : (o = s4(l), o.c(), w(o, 1), o.m(t.parentNode, t)) : o && (te(), D(o, 1, 1, () => { o = null }), ne()), l[4].length > 0 ? a ? a.p(l, u) : (a = o4(l), a.c(), a.m(i.parentNode, i)) : a && (a.d(1), a = null) }, i(l) { r || (w(o), r = !0) }, o(l) { D(o), r = !1 }, d(l) { l && (_(e), _(t), _(i)), s && s.d(l), o && o.d(l), a && a.d(l) } } } function r4(n) { let e, t; return { c() { e = L("span"), t = le(n[2]), this.h() }, l(i) { e = T(i, "SPAN", { "data-testid": !0, class: !0 }); var r = E(e); t = ue(r, n[2]), r.forEach(_), this.h() }, h() { p(e, "data-testid", fh.CAPTION), p(e, "class", "caption svelte-f2g5g5") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 4 && me(t, i[2]) }, d(i) { i && _(e) } } } function s4(n) { var i; let e, t; return e = new $l({ props: { clamp: 2, allowFocusOverflow: !0, observe: !0, shouldRenderBadgeSlots: (i = n[8] && n[12]["favorited-badge"]) != null ? i : !1, $$slots: { badge: [UPe], default: [BPe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(r) { q(e.$$.fragment, r) }, m(r, s) { H(e, r, s), t = !0 }, p(r, s) { var a; const o = {}; s & 4352 && (o.shouldRenderBadgeSlots = (a = r[8] && r[12]["favorited-badge"]) != null ? a : !1), s & 65544 && (o.$$scope = { dirty: s, ctx: r }), e.$set(o) }, i(r) { t || (w(e.$$.fragment, r), t = !0) }, o(r) { D(e.$$.fragment, r), t = !1 }, d(r) { $(e, r) } } } function BPe(n) { let e, t; return { c() { e = L("h3"), t = le(n[3]), this.h() }, l(i) { e = T(i, "H3", { "data-testid": !0, class: !0 }); var r = E(e); t = ue(r, n[3]), r.forEach(_), this.h() }, h() { p(e, "data-testid", fh.TITLE), p(e, "class", "title svelte-f2g5g5") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 8 && me(t, i[3]) }, d(i) { i && _(e) } } } function UPe(n) { let e; const t = n[14]["favorited-badge"], i = We(t, n, n[16], e4); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 65536) && Je(i, t, r, r[16], e ? Ke(t, r[16], s, IPe) : Ye(r[16]), e4) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function o4(n) { let e, t = ut(n[4]), i = []; for (let r = 0; r < t.length; r += 1)i[r] = a4(x6(n, t, r)); return { c() { e = L("p"); for (let r = 0; r < i.length; r += 1)i[r].c(); this.h() }, l(r) { e = T(r, "P", { "data-testid": !0, class: !0 }); var s = E(e); for (let o = 0; o < i.length; o += 1)i[o].l(s); s.forEach(_), this.h() }, h() { p(e, "data-testid", fh.SUB_TITLE), p(e, "class", "subtitle svelte-f2g5g5") }, m(r, s) { I(r, e, s); for (let o = 0; o < i.length; o += 1)i[o] && i[o].m(e, null) }, p(r, s) { if (s & 16) { t = ut(r[4]); let o; for (o = 0; o < t.length; o += 1) { const a = x6(r, t, o); i[o] ? i[o].p(a, s) : (i[o] = a4(a), i[o].c(), i[o].m(e, null)) } for (; o < i.length; o += 1)i[o].d(1); i.length = t.length } }, d(r) { r && _(e), ln(i, r) } } } function a4(n) { let e, t = n[19] + "", i; return { c() { e = L("span"), i = le(t), this.h() }, l(r) { e = T(r, "SPAN", { class: !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "subtitle-entry svelte-f2g5g5") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 16 && t !== (t = r[19] + "") && me(i, t) }, d(r) { r && _(e) } } } function HPe(n) { let e, t, i, r, s, o, a, l; const u = [TPe, LPe], c = []; function d(g, h) { return h & 1536 && (i = null), i == null && (i = !!(g[9]() && g[10]())), i ? 0 : 1 } r = d(n, -1), s = c[r] = u[r](n); let f = n[6] && i4(n); return { c() { e = L("div"), t = L("div"), s.c(), o = Y(), a = L("div"), f && f.c(), this.h() }, l(g) { e = T(g, "DIV", { class: !0, "data-testid": !0 }); var h = E(e); t = T(h, "DIV", { class: !0, "aria-hidden": !0 }); var m = E(t); s.l(m), m.forEach(_), o = X(h), a = T(h, "DIV", { class: !0 }); var v = E(a); f && f.l(v), v.forEach(_), h.forEach(_), this.h() }, h() { p(t, "class", "artwork svelte-f2g5g5"), p(t, "aria-hidden", "true"), p(a, "class", "text-container svelte-f2g5g5"), p(e, "class", "ellipse-lockup svelte-f2g5g5"), p(e, "data-testid", fh.LOCKUP), J(e, "content-container", n[5]) }, m(g, h) { I(g, e, h), A(e, t), c[r].m(t, null), A(e, o), A(e, a), f && f.m(a, null), n[15](a), l = !0 }, p(g, [h]) { let m = r; r = d(g, h), r === m ? c[r].p(g, h) : (te(), D(c[m], 1, 1, () => { c[m] = null }), ne(), s = c[r], s ? s.p(g, h) : (s = c[r] = u[r](g), s.c()), w(s, 1), s.m(t, null)), g[6] ? f ? (f.p(g, h), h & 64 && w(f, 1)) : (f = i4(g), f.c(), w(f, 1), f.m(a, null)) : f && (te(), D(f, 1, 1, () => { f = null }), ne()), (!l || h & 32) && J(e, "content-container", g[5]) }, i(g) { l || (w(s), w(f), l = !0) }, o(g) { D(s), D(f), l = !1 }, d(g) { g && _(e), c[r].d(), f && f.d(), n[15](null) } } } const fh = { ID: "ellipse-id", LOCKUP: "ellipse-lockup", CAPTION: "ellipse-lockup__caption", TITLE: "ellipse-lockup__title", SUB_TITLE: "ellipse-lockup__sub-title" }; function $Pe(n, e, t) { let { $$slots: i = {}, $$scope: r } = e; const s = wn(i), o = () => !1, a = () => ""; let { artwork: l } = e, { alt: u } = e, { caption: c = null } = e, { title: d } = e, { subtitles: f = [] } = e, { useDefaultContainerStyles: g = !0 } = e, { displayText: h = !0 } = e, { customFallback: m = null } = e, { showBadge: v = !0 } = e, { shouldUseMonogram: b = o } = e, { getMonogramInitals: y = a } = e, k; function S() { return k } function C(P) { wt[P ? "unshift" : "push"](() => { k = P, t(11, k) }) } return n.$$set = P => { "artwork" in P && t(0, l = P.artwork), "alt" in P && t(1, u = P.alt), "caption" in P && t(2, c = P.caption), "title" in P && t(3, d = P.title), "subtitles" in P && t(4, f = P.subtitles), "useDefaultContainerStyles" in P && t(5, g = P.useDefaultContainerStyles), "displayText" in P && t(6, h = P.displayText), "customFallback" in P && t(7, m = P.customFallback), "showBadge" in P && t(8, v = P.showBadge), "shouldUseMonogram" in P && t(9, b = P.shouldUseMonogram), "getMonogramInitals" in P && t(10, y = P.getMonogramInitals), "$$scope" in P && t(16, r = P.$$scope) }, [l, u, c, d, f, g, h, m, v, b, y, k, s, S, i, C, r] } class u0 extends oe { constructor(e) { super(), se(this, e, $Pe, HPe, ye, { artwork: 0, alt: 1, caption: 2, title: 3, subtitles: 4, useDefaultContainerStyles: 5, displayText: 6, customFallback: 7, showBadge: 8, shouldUseMonogram: 9, getMonogramInitals: 10, getTextContainer: 13 }) } get getTextContainer() { return this.$$.ctx[13] } } function VPe(n) { let e, t; return e = new Gt({ props: { artwork: n[3], profile: n[32], fallbackKind: n[2], alt: n[33] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 8 && (s.artwork = i[3]), r[1] & 2 && (s.profile = i[32]), r[0] & 4 && (s.fallbackKind = i[2]), r[1] & 4 && (s.alt = i[33]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function zPe(n) { let e, t; return e = new us({ props: { inFavorites: n[9] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 512 && (s.inFavorites = i[9]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function qPe(n) { var r; let e, t, i = { title: n[13], displayText: n[0], artwork: "slot", subtitles: n[12], shouldUseMonogram: n[8], useDefaultContainerStyles: n[1], caption: n[14], getMonogramInitals: n[7], showBadge: (r = n[9]) != null ? r : !1, alt: "", $$slots: { "favorited-badge": [zPe], artwork: [VPe, ({ artworkProfile: s, artworkAlt: o }) => ({ 32: s, 33: o }), ({ artworkProfile: s, artworkAlt: o }) => [0, (s ? 2 : 0) | (o ? 4 : 0)]] }, $$scope: { ctx: n } }; return e = new u0({ props: i }), n[25](e), { c() { V(e.$$.fragment) }, l(s) { q(e.$$.fragment, s) }, m(s, o) { H(e, s, o), t = !0 }, p(s, o) { var l; const a = {}; o[0] & 8192 && (a.title = s[13]), o[0] & 1 && (a.displayText = s[0]), o[0] & 4096 && (a.subtitles = s[12]), o[0] & 256 && (a.shouldUseMonogram = s[8]), o[0] & 2 && (a.useDefaultContainerStyles = s[1]), o[0] & 16384 && (a.caption = s[14]), o[0] & 128 && (a.getMonogramInitals = s[7]), o[0] & 512 && (a.showBadge = (l = s[9]) != null ? l : !1), o[0] & 524 | o[1] & 14 && (a.$$scope = { dirty: o, ctx: s }), e.$set(a) }, i(s) { t || (w(e.$$.fragment, s), t = !0) }, o(s) { D(e.$$.fragment, s), t = !1 }, d(s) { n[25](null), $(e, s) } } } function WPe(n) { let e, t, i, r, s, o, a; return t = new en({ props: { action: n[11], $$slots: { default: [qPe] }, $$scope: { ctx: n } } }), { c() { e = L("div"), V(t.$$.fragment), i = Y(), r = L("amp-contextual-menu-button"), this.h() }, l(l) { e = T(l, "DIV", { class: !0 }); var u = E(e); q(t.$$.fragment, u), i = X(u), r = T(u, "AMP-CONTEXTUAL-MENU-BUTTON", { config: !0 }), E(r).forEach(_), u.forEach(_), this.h() }, h() { Xe(r, "config", n[6]), p(e, "class", "ellipse-lockup-wrapper svelte-i6muqu") }, m(l, u) { I(l, e, u), H(t, e, null), A(e, i), A(e, r), n[26](r), s = !0, o || (a = Me(e, "contextmenu", n[15]), o = !0) }, p(l, u) { const c = {}; u[0] & 2048 && (c.action = l[11]), u[0] & 29599 | u[1] & 8 && (c.$$scope = { dirty: u, ctx: l }), t.$set(c), (!s || u[0] & 64) && Xe(r, "config", l[6]) }, i(l) { s || (w(t.$$.fragment, l), s = !0) }, o(l) { D(t.$$.fragment, l), s = !1 }, d(l) { l && _(e), $(t), n[26](null), o = !1, a() } } } function KPe(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y = j, k = () => (y(), y = yn(f, pe => t(24, b = pe)), f); n.$$.on_destroy.push(() => y()); var S, C, P; const M = kn("<EllipseLockup />"), R = It(), F = Fo(), N = Qn(); let { item: O } = e, { displayText: B = !0 } = e, { useDefaultContainerStyles: U = !0 } = e, K; mn(() => { N.unsubscribeFromUpdates(u) }); const W = () => { if (!K) return 0; const pe = K.getTextContainer(); if (!pe) return 0; const ke = pe.offsetHeight, we = window.getComputedStyle(pe).marginTop, Te = parseInt(we, 10), ge = (ke + Te) / 2; return isNaN(ge) ? 0 : ge }; Yt(() => { R("mount", { offset: W(), resizeCB: W }) }); const Z = async pe => { var ke; Q && ((ke = O == null ? void 0 : O.contentDescriptor) === null || ke === void 0 ? void 0 : ke.kind) === x.Artist && (pe.preventDefault(), t(20, G = await F.fetchUpdatedLibraryState(O.contentDescriptor, M)), await Q.open(pe)) }; let Q, G = {}; function ae(pe) { wt[pe ? "unshift" : "push"](() => { K = pe, t(4, K) }) } function ee(pe) { wt[pe ? "unshift" : "push"](() => { Q = pe, t(5, Q) }) } return n.$$set = pe => { "item" in pe && t(16, O = pe.item), "displayText" in pe && t(0, B = pe.displayText), "useDefaultContainerStyles" in pe && t(1, U = pe.useDefaultContainerStyles) }, n.$$.update = () => { n.$$.dirty[0] & 65536 && t(3, i = O.artwork), n.$$.dirty[0] & 65536 && t(14, r = O.headline), n.$$.dirty[0] & 65536 && t(13, s = O.title), n.$$.dirty[0] & 65536 && t(12, o = O.subtitle ? [O.subtitle] : []), n.$$.dirty[0] & 65536 && t(11, a = O.segue), n.$$.dirty[0] & 131080 && t(22, l = t(17, S = i == null ? void 0 : i.dictionary) === null || S === void 0 ? void 0 : S.url), n.$$.dirty[0] & 65536 && t(23, u = Qt(O)), n.$$.dirty[0] & 327680 && t(2, c = t(18, C = O.contentDescriptor) === null || C === void 0 ? void 0 : C.kind), n.$$.dirty[0] & 4 && t(21, d = c === "socialProfile"), n.$$.dirty[0] & 8388608 && k(t(10, f = N.subscribeToUpdates(u))), n.$$.dirty[0] & 25690116 && t(9, g = b && (t(19, P = N.get(u, c)) === null || P === void 0 ? void 0 : P.inFavorites)), n.$$.dirty[0] & 6291456 && t(8, h = () => (l == null ? void 0 : l.startsWith("monogram://")) || !l && d), n.$$.dirty[0] & 6356992 && t(7, m = () => { if (l) return new URL(l).searchParams.get("initials"); if (d) return oa(O.title) }), n.$$.dirty[0] & 1114112 && t(6, v = O.contentDescriptor ? F.getArtistItemsConfig(O.contentDescriptor, !1, !1, G) : null) }, [B, U, c, i, K, Q, v, m, h, g, f, a, o, s, r, Z, O, S, C, P, G, d, l, u, b, ae, ee] } class hl extends oe { constructor(e) { super(), se(this, e, KPe, WPe, ye, { item: 16, displayText: 0, useDefaultContainerStyles: 1 }, null, [-1, -1]) } } function JPe(n) { let e, t; return e = new G_({ props: { item: n[0] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.item = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function YPe(n) { let e, t; return e = new hl({ props: { item: n[0] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.item = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function XPe(n) { let e, t, i, r; const s = [YPe, JPe], o = []; function a(l, u) { return l[0].itemKind === "bubbleLockup" ? 0 : l[0].itemKind === "squareLockup" ? 1 : -1 } return ~(e = a(n)) && (t = o[e] = s[e](n)), { c() { t && t.c(), i = re() }, l(l) { t && t.l(l), i = re() }, m(l, u) { ~e && o[e].m(l, u), I(l, i, u), r = !0 }, p(l, [u]) { let c = e; e = a(l), e === c ? ~e && o[e].p(l, u) : (t && (te(), D(o[c], 1, 1, () => { o[c] = null }), ne()), ~e ? (t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) : t = null) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), ~e && o[e].d(l) } } } function ZPe(n, e, t) { let { item: i } = e; return n.$$set = r => { "item" in r && t(0, i = r.item) }, [i] } class QPe extends oe { constructor(e) { super(), se(this, e, ZPe, XPe, ye, { item: 0 }) } } function jPe(n) { let e, t, i, r, s, o; return s = new Il({ props: { class: "link-box__chevron", "aria-hidden": "true" } }), { c() { e = L("div"), t = L("p"), i = le(n[0]), r = Y(), V(s.$$.fragment), this.h() }, l(a) { e = T(a, "DIV", { class: !0 }); var l = E(e); t = T(l, "P", { class: !0 }); var u = E(t); i = ue(u, n[0]), u.forEach(_), r = X(l), q(s.$$.fragment, l), l.forEach(_), this.h() }, h() { p(t, "class", "svelte-wf06kw"), p(e, "class", "link-box svelte-wf06kw"), J(e, "category", n[1]) }, m(a, l) { I(a, e, l), A(e, t), A(t, i), A(e, r), H(s, e, null), o = !0 }, p(a, [l]) { (!o || l & 1) && me(i, a[0]), (!o || l & 2) && J(e, "category", a[1]) }, i(a) { o || (w(s.$$.fragment, a), o = !0) }, o(a) { D(s.$$.fragment, a), o = !1 }, d(a) { a && _(e), $(s) } } } function GPe(n, e, t) { let { title: i } = e, { isCategory: r = !0 } = e; return n.$$set = s => { "title" in s && t(0, i = s.title), "isCategory" in s && t(1, r = s.isCategory) }, [i, r] } class xPe extends oe { constructor(e) { super(), se(this, e, GPe, jPe, ye, { title: 0, isCategory: 1 }) } } function eAe(n) { let e, t; return e = new en({ props: { action: n[0], $$slots: { default: [nAe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.action = i[0]), r & 68 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function tAe(n) { let e, t; return e = new yi({ props: { buttonStyle: "buttonA", $$slots: { default: [iAe] }, $$scope: { ctx: n } } }), e.$on("buttonClick", n[3]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 68 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function nAe(n) { let e, t; return e = new xPe({ props: { title: n[2], isCategory: !1 } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 4 && (s.title = i[2]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function iAe(n) { let e; return { c() { e = le(n[2]) }, l(t) { e = ue(t, n[2]) }, m(t, i) { I(t, e, i) }, p(t, i) { i & 4 && me(e, t[2]) }, d(t) { t && _(e) } } } function rAe(n) { let e, t, i, r; const s = [tAe, eAe], o = []; function a(l, u) { return l[1] === "button" ? 0 : 1 } return t = a(n), i = o[t] = s[t](n), { c() { e = L("div"), i.c(), this.h() }, l(l) { e = T(l, "DIV", { class: !0 }); var u = E(e); i.l(u), u.forEach(_), this.h() }, h() { p(e, "class", "link-component svelte-11hu8an") }, m(l, u) { I(l, e, u), o[t].m(e, null), r = !0 }, p(l, [u]) { let c = t; t = a(l), t === c ? o[t].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), i = o[t], i ? i.p(l, u) : (i = o[t] = s[t](l), i.c()), w(i, 1), i.m(e, null)) }, i(l) { r || (w(i), r = !0) }, o(l) { D(i), r = !1 }, d(l) { l && _(e), o[t].d() } } } function sAe(n, e, t) { let i, r, s; const o = sn(); let { item: a } = e; const l = async () => { if (await o(i), zs(i) || ra(i)) { const u = "noopener,noreferrer"; window == null || window.open(Kr(i), "_blank", u) } }; return n.$$set = u => { "item" in u && t(4, a = u.item) }, n.$$.update = () => { n.$$.dirty & 16 && t(0, i = a.segue), n.$$.dirty & 16 && t(2, r = a.title), n.$$.dirty & 16 && t(1, s = a.displayStyle) }, [i, s, r, l, a] } class VB extends oe { constructor(e) { super(), se(this, e, sAe, rAe, ye, { item: 4 }) } } function oAe(n) { let e, t, i = [{ width: "15" }, { height: "14" }, { viewBox: "0 0 15 14" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M2.363 13.856h10.281c1.573 0 2.356-.783 2.356-2.333v-9.19C15 .783 14.217 0 12.644 0H2.364C.79 0 0 .775 0 2.333v9.19c0 1.558.79 2.333 2.363 2.333zm-.112-1.212c-.67 0-1.04-.353-1.04-1.053V4.493c0-.692.37-1.053 1.04-1.053h10.491c.67 0 1.046.36 1.046 1.053v7.098c0 .7-.376 1.053-1.046 1.053H2.251zm3.778-6.502h.444c.263 0 .353-.076.353-.34V5.36c0-.264-.09-.346-.353-.346h-.444c-.264 0-.354.082-.354.346v.444c0 .263.09.339.354.339zm2.506 0h.436c.264 0 .354-.076.354-.34V5.36c0-.264-.09-.346-.354-.346h-.436c-.271 0-.354.082-.354.346v.444c0 .263.083.339.354.339zm2.499 0h.444c.263 0 .346-.076.346-.34V5.36c0-.264-.083-.346-.346-.346h-.444c-.264 0-.354.082-.354.346v.444c0 .263.09.339.354.339zM3.53 8.602h.444c.264 0 .346-.075.346-.338V7.82c0-.264-.083-.339-.346-.339H3.53c-.264 0-.354.076-.354.339v.444c0 .263.09.339.354.339zm2.499 0h.444c.263 0 .353-.075.353-.338V7.82c0-.264-.09-.339-.353-.339h-.444c-.264 0-.354.076-.354.339v.444c0 .263.09.339.354.339zm2.506 0h.436c.264 0 .354-.075.354-.338V7.82c0-.264-.09-.339-.354-.339h-.436c-.271 0-.354.076-.354.339v.444c0 .263.083.339.354.339zm2.499 0h.444c.263 0 .346-.075.346-.338V7.82c0-.264-.083-.339-.346-.339h-.444c-.264 0-.354.076-.354.339v.444c0 .263.09.339.354.339zm-7.504 2.47h.444c.264 0 .346-.083.346-.347v-.444c0-.263-.083-.339-.346-.339H3.53c-.264 0-.354.076-.354.34v.443c0 .264.09.346.354.346zm2.499 0h.444c.263 0 .353-.083.353-.347v-.444c0-.263-.09-.339-.353-.339h-.444c-.264 0-.354.076-.354.34v.443c0 .264.09.346.354.346zm2.506 0h.436c.264 0 .354-.083.354-.347v-.444c0-.263-.09-.339-.354-.339h-.436c-.271 0-.354.076-.354.34v.443c0 .264.083.346.354.346z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "15" }, { height: "14" }, { viewBox: "0 0 15 14" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function aAe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let lAe = class extends oe { constructor(e) { super(), se(this, e, aAe, oAe, ht, {}) } }; function uAe(n) { let e, t, i; return t = new lAe({ props: { class: "schedule-glyph", "data-testid": "schedule-glyph" } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { "data-testid": !0, class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "data-testid", "schedule-button"), p(e, "class", "schedule-button svelte-zxl1tz") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p: j, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function cAe(n) { let e, t; return e = new en({ props: { action: n[0], ariaLabel: n[1].t("ASE.Web.Music.Radio.Full.Schedule"), $$slots: { default: [uAe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 1 && (s.action = i[0]), r & 2 && (s.ariaLabel = i[1].t("ASE.Web.Music.Radio.Full.Schedule")), r & 8 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function dAe(n, e, t) { let i; const r = ot(); ce(n, r, o => t(1, i = o)); let { scheduleAction: s } = e; return n.$$set = o => { "scheduleAction" in o && t(0, s = o.scheduleAction) }, [s, i, r] } class fAe extends oe { constructor(e) { super(), se(this, e, dAe, cAe, ye, { scheduleAction: 0 }) } } function l4(n) { let e, t, i, r, s, o, a, l = n[19] && gAe(n), u = n[16] && u4(n), c = n[8] && c4(n); return { c() { e = L("div"), t = L("h2"), l && l.c(), i = Y(), r = le(n[14]), s = Y(), u && u.c(), o = Y(), c && c.c(), this.h() }, l(d) { e = T(d, "DIV", { class: !0 }); var f = E(e); t = T(f, "H2", { class: !0, "aria-label": !0, "data-testid": !0 }); var g = E(t); l && l.l(g), i = X(g), r = ue(g, n[14]), g.forEach(_), s = X(f), u && u.l(f), o = X(f), c && c.l(f), f.forEach(_), this.h() }, h() { p(t, "class", "horizontal-poster-lockup__heading svelte-1qjtdtf"), p(t, "aria-label", n[12]), p(t, "data-testid", "heading"), p(e, "class", "shelf-grid__header horizontal-poster-lockup__header svelte-1qjtdtf") }, m(d, f) { I(d, e, f), A(e, t), l && l.m(t, null), A(t, i), A(t, r), A(e, s), u && u.m(e, null), A(e, o), c && c.m(e, null), a = !0 }, p(d, f) { d[19] && l.p(d, f), (!a || f & 16384) && me(r, d[14]), (!a || f & 4096) && p(t, "aria-label", d[12]), d[16] ? u ? u.p(d, f) : (u = u4(d), u.c(), u.m(e, o)) : u && (u.d(1), u = null), d[8] ? c ? (c.p(d, f), f & 256 && w(c, 1)) : (c = c4(d), c.c(), w(c, 1), c.m(e, null)) : c && (te(), D(c, 1, 1, () => { c = null }), ne()) }, i(d) { a || (w(c), a = !0) }, o(d) { D(c), a = !1 }, d(d) { d && _(e), l && l.d(), u && u.d(), c && c.d() } } } function gAe(n) { let e, t; return { c() { e = L("span"), t = le(n[15]), this.h() }, l(i) { e = T(i, "SPAN", { class: !0, dir: !0 }); var r = E(e); t = ue(r, n[15]), r.forEach(_), this.h() }, h() { p(e, "class", "am-wordmark"), p(e, "dir", "ltr") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 32768 && me(t, i[15]) }, d(i) { i && _(e) } } } function u4(n) { let e, t; return { c() { e = L("div"), t = le(n[16]), this.h() }, l(i) { e = T(i, "DIV", { class: !0, "data-testid": !0 }); var r = E(e); t = ue(r, n[16]), r.forEach(_), this.h() }, h() { p(e, "class", "horizontal-poster-lockup__subheading svelte-1qjtdtf"), p(e, "data-testid", "subheading") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 65536 && me(t, i[16]) }, d(i) { i && _(e) } } } function c4(n) { let e, t, i; return t = new fAe({ props: { scheduleAction: n[8] } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "horizontal-poster-lockup__schedule svelte-1qjtdtf") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 256 && (o.scheduleAction = r[8]), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function d4(n) { let e, t; return { c() { e = L("p"), t = le(n[4]), this.h() }, l(i) { e = T(i, "P", { class: !0, "data-testid": !0 }); var r = E(e); t = ue(r, n[4]), r.forEach(_), this.h() }, h() { p(e, "class", "horizontal-poster-lockup__badge-line typography-subhead-emphasized svelte-1qjtdtf"), p(e, "data-testid", "headline") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 16 && me(t, i[4]) }, d(i) { i && _(e) } } } function hAe(n) { let e; return { c() { e = le(n[2]) }, l(t) { e = ue(t, n[2]) }, m(t, i) { I(t, e, i) }, p(t, i) { i & 4 && me(e, t[2]) }, d(t) { t && _(e) } } } function mAe(n) { let e, t; return { c() { e = L("a"), t = le(n[2]), this.h() }, l(i) { e = T(i, "A", { class: !0, "aria-label": !0, href: !0, "data-testid": !0 }); var r = E(e); t = ue(r, n[2]), r.forEach(_), this.h() }, h() { p(e, "class", "horizontal-poster-lockup__episode-title-link svelte-1qjtdtf"), p(e, "aria-label", n[12]), p(e, "href", n[7]), p(e, "data-testid", "title-link") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 4 && me(t, i[2]), r & 4096 && p(e, "aria-label", i[12]), r & 128 && p(e, "href", i[7]) }, d(i) { i && _(e) } } } function f4(n) { let e, t; return { c() { e = L("p"), t = le(n[13]), this.h() }, l(i) { e = T(i, "P", { class: !0, "data-testid": !0 }); var r = E(e); t = ue(r, n[13]), r.forEach(_), this.h() }, h() { p(e, "class", "horizontal-poster-lockup__description typography-callout svelte-1qjtdtf"), p(e, "data-testid", "subtitle") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 8192 && me(t, i[13]) }, d(i) { i && _(e) } } } function g4(n) { let e, t; return e = new Ki({ props: { playAction: n[9], ariaLabel: n[11], isInChin: !0 } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 512 && (s.playAction = i[9]), r & 2048 && (s.ariaLabel = i[11]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function pAe(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b = `url(${n[6]})`, y, k, S, C, P = n[14] && l4(n); function M(W) { n[28](W) } let R = { videoArtwork: n[17], artwork: n[3], itemKind: n[0], profile: "hero", alt: n[5] }; n[1] !== void 0 && (R.videoAsset = n[1]), o = new Hl({ props: R }), wt.push(() => Xr(o, "videoAsset", M)); let F = n[4] && d4(n); function N(W, Z) { return W[10] ? mAe : hAe } let O = N(n), B = O(n), U = n[13] && f4(n), K = n[9] && g4(n); return { c() { e = L("div"), t = L("span"), P && P.c(), i = Y(), r = L("div"), s = L("div"), V(o.$$.fragment), l = Y(), u = L("div"), c = L("div"), d = Y(), f = L("div"), F && F.c(), g = Y(), h = L("p"), B.c(), m = Y(), U && U.c(), v = Y(), K && K.c(), this.h() }, l(W) { e = T(W, "DIV", { class: !0, "data-testid": !0 }); var Z = E(e); t = T(Z, "SPAN", { "aria-label": !0, tabindex: !0, "data-testid": !0, class: !0 }); var Q = E(t); P && P.l(Q), i = X(Q), r = T(Q, "DIV", { class: !0, "data-testid": !0 }); var G = E(r); s = T(G, "DIV", { class: !0 }); var ae = E(s); q(o.$$.fragment, ae), ae.forEach(_), l = X(G), u = T(G, "DIV", { class: !0 }); var ee = E(u); c = T(ee, "DIV", { class: !0 }), E(c).forEach(_), d = X(ee), f = T(ee, "DIV", { class: !0, dir: !0 }); var pe = E(f); F && F.l(pe), g = X(pe), h = T(pe, "P", { class: !0, "data-testid": !0 }); var ke = E(h); B.l(ke), ke.forEach(_), m = X(pe), U && U.l(pe), pe.forEach(_), ee.forEach(_), v = X(G), K && K.l(G), G.forEach(_), Q.forEach(_), Z.forEach(_), this.h() }, h() { p(s, "class", "horizontal-poster-lockup__artwork-container svelte-1qjtdtf"), p(c, "class", "horizontal-poster-lockup__artwork-blur svelte-1qjtdtf"), p(h, "class", "horizontal-poster-lockup__episode-title typography-title-3-emphasized svelte-1qjtdtf"), p(h, "data-testid", "title"), p(f, "class", "horizontal-poster-lockup__lockup-notes svelte-1qjtdtf"), p(f, "dir", "ltr"), p(u, "class", "horizontal-poster-lockup__chin svelte-1qjtdtf"), p(r, "class", "horizontal-poster-lockup__lockup-container svelte-1qjtdtf"), p(r, "data-testid", "lockup-container"), Pt(r, "--background-image", b), p(t, "aria-label", n[12]), p(t, "tabindex", "0"), p(t, "data-testid", "lockup-inner"), p(t, "class", "svelte-1qjtdtf"), p(e, "class", "horizontal-poster-lockup svelte-1qjtdtf"), p(e, "data-testid", "horizontalPosterLockup") }, m(W, Z) { I(W, e, Z), A(e, t), P && P.m(t, null), A(t, i), A(t, r), A(r, s), H(o, s, null), A(r, l), A(r, u), A(u, c), A(u, d), A(u, f), F && F.m(f, null), A(f, g), A(f, h), B.m(h, null), A(f, m), U && U.m(f, null), A(r, v), K && K.m(r, null), k = !0, S || (C = Ut(y = va.call(null, t, n[10])), S = !0) }, p(W, [Z]) { W[14] ? P ? (P.p(W, Z), Z & 16384 && w(P, 1)) : (P = l4(W), P.c(), w(P, 1), P.m(t, i)) : P && (te(), D(P, 1, 1, () => { P = null }), ne()); const Q = {}; Z & 131072 && (Q.videoArtwork = W[17]), Z & 8 && (Q.artwork = W[3]), Z & 1 && (Q.itemKind = W[0]), Z & 32 && (Q.alt = W[5]), !a && Z & 2 && (a = !0, Q.videoAsset = W[1], Yr(() => a = !1)), o.$set(Q), W[4] ? F ? F.p(W, Z) : (F = d4(W), F.c(), F.m(f, g)) : F && (F.d(1), F = null), O === (O = N(W)) && B ? B.p(W, Z) : (B.d(1), B = O(W), B && (B.c(), B.m(h, null))), W[13] ? U ? U.p(W, Z) : (U = f4(W), U.c(), U.m(f, null)) : U && (U.d(1), U = null), W[9] ? K ? (K.p(W, Z), Z & 512 && w(K, 1)) : (K = g4(W), K.c(), w(K, 1), K.m(r, null)) : K && (te(), D(K, 1, 1, () => { K = null }), ne()), Z & 64 && b !== (b = `url(${W[6]})`) && Pt(r, "--background-image", b), (!k || Z & 4096) && p(t, "aria-label", W[12]), y && Ft(y.update) && Z & 1024 && y.update.call(null, W[10]) }, i(W) { k || (w(P), w(o.$$.fragment, W), w(K), k = !0) }, o(W) { D(P), D(o.$$.fragment, W), D(K), k = !1 }, d(W) { W && _(e), P && P.d(), $(o), F && F.d(), B.d(), U && U.d(), K && K.d(), S = !1, C() } } } function _Ae(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R; var F; const N = ot(); ce(n, N, G => t(27, R = G)); let { item: O } = e, { itemKind: B } = e, U = null; const K = O.heading.toLowerCase().indexOf("music"), W = O.heading.startsWith("") && K > -1, Z = W ? K + 6 : 0; function Q(G) { U = G, t(1, U) } return n.$$set = G => { "item" in G && t(20, O = G.item), "itemKind" in G && t(0, B = G.itemKind) }, n.$$.update = () => { n.$$.dirty & 1048576 && t(3, i = O.artwork), n.$$.dirty & 1048576 && t(17, r = O.videoArtwork), n.$$.dirty & 1048576 && t(26, s = O.heading), n.$$.dirty & 1048576 && t(16, o = O.subheading), n.$$.dirty & 67108864 && t(15, a = s.substring(0, Z).replace(/\s/g, "")), n.$$.dirty & 67108864 && t(14, l = s.substring(Z)), n.$$.dirty & 1048576 && t(25, u = O.accessibilityLabel), n.$$.dirty & 1048576 && t(4, c = O.headline), n.$$.dirty & 1048576 && t(2, d = O.title), n.$$.dirty & 1048576 && t(13, f = O.subtitle), n.$$.dirty & 33554452 && t(24, g = [u, d, c]), n.$$.dirty & 150994944 && t(12, h = g.map(G => G && R.t("ASE.Web.Music.Browse.Hero.ARIALabel.Format", { content: G })).filter(G => !!G).join(" ")), n.$$.dirty & 134217728 && t(11, m = R.t("ASE.Web.Music.Play")), n.$$.dirty & 1048576 && t(10, v = O.segue), n.$$.dirty & 1048576 && t(9, b = O.playAction), n.$$.dirty & 1048576 && t(8, y = O.scheduleSegue), n.$$.dirty & 1048576 && t(7, k = O.contentDescriptor.url), n.$$.dirty & 2097160 && t(22, S = t(21, F = i == null ? void 0 : i.dictionary) === null || F === void 0 ? void 0 : F.url), n.$$.dirty & 2 && t(23, C = U == null ? void 0 : U.previewFrame.url), n.$$.dirty & 12582912 && t(6, P = (C || S).replace("{w}", "80").replace("{h}", "80").replace("{c}", "br").replace("{f}", "jpg")), n.$$.dirty & 134217732 && t(5, M = R.t("ASE.Web.Music.VO.RadioFCArtworkLabel", { content: d })) }, [B, U, d, i, c, M, P, k, y, b, v, m, h, f, l, a, o, r, N, W, O, F, S, C, g, u, s, R, Q] } class vAe extends oe { constructor(e) { super(), se(this, e, _Ae, pAe, ye, { item: 20, itemKind: 0 }) } } function bAe(n) { let e, t; return e = new Gt({ props: { artwork: n[14], profile: n[7] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 16384 && (s.artwork = i[14]), r & 128 && (s.profile = i[7]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function h4(n) { let e, t, i; return t = new Ki({ props: { playAction: n[10], isLarge: !0, ariaLabel: n[9] } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "horizontal-lockup__play-button svelte-1ykrxg8") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 1024 && (o.playAction = r[10]), s & 512 && (o.ariaLabel = r[9]), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function m4(n) { let e, t, i, r, s = n[11] && p4(n); return { c() { e = L("h4"), t = le(n[2]), i = Y(), s && s.c(), this.h() }, l(o) { e = T(o, "H4", { class: !0, "data-testid": !0 }); var a = E(e); t = ue(a, n[2]), i = X(a), s && s.l(a), a.forEach(_), this.h() }, h() { p(e, "class", "horizontal-lockup__headline svelte-1ykrxg8"), p(e, "data-testid", "headline"), J(e, "is-tinted", n[13] === "tintColor") }, m(o, a) { I(o, e, a), A(e, t), A(e, i), s && s.m(e, null), r = !0 }, p(o, a) { (!r || a & 4) && me(t, o[2]), o[11] ? s ? (s.p(o, a), a & 2048 && w(s, 1)) : (s = p4(o), s.c(), w(s, 1), s.m(e, null)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()), (!r || a & 8192) && J(e, "is-tinted", o[13] === "tintColor") }, i(o) { r || (w(s), r = !0) }, o(o) { D(s), r = !1 }, d(o) { o && _(e), s && s.d() } } } function p4(n) { let e, t; return e = new us({ props: { inFavorites: n[4] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 16 && (s.inFavorites = i[4]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function _4(n) { let e, t, i, r, s = (!n[11] || !n[2]) && v4(n); return { c() { e = L("h4"), t = le(n[1]), i = Y(), s && s.c(), this.h() }, l(o) { e = T(o, "H4", { class: !0, "data-testid": !0 }); var a = E(e); t = ue(a, n[1]), i = X(a), s && s.l(a), a.forEach(_), this.h() }, h() { p(e, "class", "horizontal-lockup__title svelte-1ykrxg8"), p(e, "data-testid", "title") }, m(o, a) { I(o, e, a), A(e, t), A(e, i), s && s.m(e, null), r = !0 }, p(o, a) { (!r || a & 2) && me(t, o[1]), !o[11] || !o[2] ? s ? (s.p(o, a), a & 2052 && w(s, 1)) : (s = v4(o), s.c(), w(s, 1), s.m(e, null)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()) }, i(o) { r || (w(s), r = !0) }, o(o) { D(s), r = !1 }, d(o) { o && _(e), s && s.d() } } } function v4(n) { let e, t; return e = new us({ props: { inFavorites: n[4] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 16 && (s.inFavorites = i[4]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function b4(n) { let e, t; return { c() { e = L("p"), t = le(n[12]), this.h() }, l(i) { e = T(i, "P", { class: !0, "data-testid": !0 }); var r = E(e); t = ue(r, n[12]), r.forEach(_), this.h() }, h() { p(e, "class", "horizontal-lockup__subtitle svelte-1ykrxg8"), p(e, "data-testid", "subtitle") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 4096 && me(t, i[12]) }, d(i) { i && _(e) } } } function yAe(n) { let e, t, i, r, s = n[2] && m4(n), o = n[1] && _4(n), a = n[12] && b4(n); return { c() { e = L("div"), s && s.c(), t = Y(), o && o.c(), i = Y(), a && a.c(), this.h() }, l(l) { e = T(l, "DIV", { class: !0 }); var u = E(e); s && s.l(u), t = X(u), o && o.l(u), i = X(u), a && a.l(u), u.forEach(_), this.h() }, h() { p(e, "class", "horizontal-lockup__description svelte-1ykrxg8") }, m(l, u) { I(l, e, u), s && s.m(e, null), A(e, t), o && o.m(e, null), A(e, i), a && a.m(e, null), r = !0 }, p(l, u) { l[2] ? s ? (s.p(l, u), u & 4 && w(s, 1)) : (s = m4(l), s.c(), w(s, 1), s.m(e, t)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()), l[1] ? o ? (o.p(l, u), u & 2 && w(o, 1)) : (o = _4(l), o.c(), w(o, 1), o.m(e, i)) : o && (te(), D(o, 1, 1, () => { o = null }), ne()), l[12] ? a ? a.p(l, u) : (a = b4(l), a.c(), a.m(e, null)) : a && (a.d(1), a = null) }, i(l) { r || (w(s), w(o), r = !0) }, o(l) { D(s), D(o), r = !1 }, d(l) { l && _(e), s && s.d(), o && o.d(), a && a.d() } } } function wAe(n) { let e, t, i, r, s, o, a, l, u, c, d; i = new en({ props: { action: n[15], ariaLabel: n[8], $$slots: { default: [bAe] }, $$scope: { ctx: n } } }); let f = n[10] && h4(n); return a = new en({ props: { action: n[15], $$slots: { default: [yAe] }, $$scope: { ctx: n } } }), c = new ls({ props: { attachedTo: n[0].contentDescriptor, isPlayable: n[10] !== null, buttonStyle: "non-platter", itemProperties: { title: n[1], subtitleLinks: [{ title: n[0].subtitle }], artwork: n[0].artwork, recoID: $i(n[10]) } } }), { c() { e = L("div"), t = L("div"), V(i.$$.fragment), r = Y(), f && f.c(), s = Y(), o = L("div"), V(a.$$.fragment), l = Y(), u = L("div"), V(c.$$.fragment), this.h() }, l(g) { e = T(g, "DIV", { class: !0, "data-testid": !0, "aria-label": !0 }); var h = E(e); t = T(h, "DIV", { class: !0 }); var m = E(t); q(i.$$.fragment, m), r = X(m), f && f.l(m), m.forEach(_), s = X(h), o = T(h, "DIV", { class: !0 }); var v = E(o); q(a.$$.fragment, v), v.forEach(_), l = X(h), u = T(h, "DIV", { class: !0 }); var b = E(u); q(c.$$.fragment, b), b.forEach(_), h.forEach(_), this.h() }, h() { p(t, "class", "horizontal-lockup__artwork svelte-1ykrxg8"), p(o, "class", "horizontal-lockup__description-wrapper svelte-1ykrxg8"), p(u, "class", "context-menu-wrapper svelte-1ykrxg8"), p(e, "class", "horizontal-lockup svelte-1ykrxg8"), p(e, "data-testid", "horizontal-lockup"), p(e, "aria-label", n[6]), J(e, "horizontal-lockup--large", n[11]), J(e, "horizontal-lockup--video", n[3]), J(e, "horizontal-lockup--playable", n[10]) }, m(g, h) { I(g, e, h), A(e, t), H(i, t, null), A(t, r), f && f.m(t, null), A(e, s), A(e, o), H(a, o, null), A(e, l), A(e, u), H(c, u, null), d = !0 }, p(g, [h]) { const m = {}; h & 32768 && (m.action = g[15]), h & 256 && (m.ariaLabel = g[8]), h & 16793728 && (m.$$scope = { dirty: h, ctx: g }), i.$set(m), g[10] ? f ? (f.p(g, h), h & 1024 && w(f, 1)) : (f = h4(g), f.c(), w(f, 1), f.m(t, null)) : f && (te(), D(f, 1, 1, () => { f = null }), ne()); const v = {}; h & 32768 && (v.action = g[15]), h & 16791574 && (v.$$scope = { dirty: h, ctx: g }), a.$set(v); const b = {}; h & 1 && (b.attachedTo = g[0].contentDescriptor), h & 1024 && (b.isPlayable = g[10] !== null), h & 1027 && (b.itemProperties = { title: g[1], subtitleLinks: [{ title: g[0].subtitle }], artwork: g[0].artwork, recoID: $i(g[10]) }), c.$set(b), (!d || h & 64) && p(e, "aria-label", g[6]), (!d || h & 2048) && J(e, "horizontal-lockup--large", g[11]), (!d || h & 8) && J(e, "horizontal-lockup--video", g[3]), (!d || h & 1024) && J(e, "horizontal-lockup--playable", g[10]) }, i(g) { d || (w(i.$$.fragment, g), w(f), w(a.$$.fragment, g), w(c.$$.fragment, g), d = !0) }, o(g) { D(i.$$.fragment, g), D(f), D(a.$$.fragment, g), D(c.$$.fragment, g), d = !1 }, d(g) { g && _(e), $(i), f && f.d(), $(a), $(c) } } } function kAe(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P = j, M = () => (P(), P = yn(k, U => t(21, C = U)), k), R; n.$$.on_destroy.push(() => P()); var F; const N = ot(); ce(n, N, U => t(22, R = U)); const O = Qn(); let { item: B } = e; return mn(() => { O.unsubscribeFromUpdates(s) }), n.$$set = U => { "item" in U && t(0, B = U.item) }, n.$$.update = () => { n.$$.dirty & 1 && t(15, i = B.segue), n.$$.dirty & 1 && t(14, r = B.artwork), n.$$.dirty & 1 && t(18, s = Qt(B)), n.$$.dirty & 1 && t(2, o = B.headline), n.$$.dirty & 1 && t(13, a = B.headlineColor), n.$$.dirty & 1 && t(1, l = B.title), n.$$.dirty & 1 && t(12, u = B.subtitle), n.$$.dirty & 1 && t(11, c = B.displayStyle === "large"), n.$$.dirty & 1 && t(10, d = j_(B)), n.$$.dirty & 4194310 && t(9, f = l ? `${R.t("ASE.Web.Music.Play")} ${l}` : `${R.t("ASE.Web.Music.Play")} ${o}`), n.$$.dirty & 6 && t(8, g = l ? `${l}` : `${o}`), n.$$.dirty & 1 && t(20, h = B == null ? void 0 : B.contentDescriptor), n.$$.dirty & 1048576 && t(19, m = h == null ? void 0 : h.kind), n.$$.dirty & 524288 && t(3, v = Mc.includes(m)), n.$$.dirty & 8 && t(7, b = v ? "horizontal-lockup-video" : "episode-lockup"), n.$$.dirty & 4194310 && t(6, y = o ? `${R.t("ASE.Web.Music.ContentA.Comma.ContentB", { contentA: l, contentB: o })}` : l), n.$$.dirty & 262144 && M(t(5, k = O.subscribeToUpdates(s))), n.$$.dirty & 3014656 && t(4, S = C && (t(17, F = O.get(s, m)) === null || F === void 0 ? void 0 : F.inFavorites)) }, [B, l, o, v, S, k, y, b, g, f, d, c, u, a, r, i, N, F, s, m, h, C, R] } class DAe extends oe { constructor(e) { super(), se(this, e, kAe, wAe, ye, { item: 0 }) } } const Vl = { EYEBROW: "hero-lockup__eyebrow", TITLE: "hero-lockup__title", SUB_TITLE: "hero-lockup__sub-title", DESCRIPTION: "hero-lockup__description", LINK: "hero-lockup__link", COVER_ARTWORK: "editorial-card__artwork-cover-artwork" }, SAe = { linkClick: "link-click" }; const CAe = n => ({}), y4 = n => ({}), PAe = n => ({}), w4 = n => ({}), AAe = n => ({}), k4 = n => ({}); function D4(n) { var u; let e, t, i, r, s, o, a = [{ class: "editorial-card__link" }, { "data-testid": i = Vl.LINK }, { href: r = (u = n[8].url) != null ? u : "#" }, n[11]], l = {}; for (let c = 0; c < a.length; c += 1)l = fe(l, a[c]); return { c() { e = L("a"), t = le(n[1]), this.h() }, l(c) { e = T(c, "A", { class: !0, "data-testid": !0, href: !0 }); var d = E(e); t = ue(d, n[1]), d.forEach(_), this.h() }, h() { Fi(e, l), J(e, "svelte-1fu2of6", !0) }, m(c, d) { I(c, e, d), A(e, t), s || (o = Me(e, "click", n[14]), s = !0) }, p(c, d) { var f; d & 2 && yf(t, c[1], l.contenteditable), Fi(e, l = at(a, [{ class: "editorial-card__link" }, { "data-testid": i }, d & 256 && r !== (r = (f = c[8].url) != null ? f : "#") && { href: r }, d & 2048 && c[11]])), J(e, "svelte-1fu2of6", !0) }, d(c) { c && _(e), s = !1, o() } } } function S4(n) { let e, t; return { c() { e = L("p"), t = le(n[0]), this.h() }, l(i) { e = T(i, "P", { "data-testid": !0, class: !0 }); var r = E(e); t = ue(r, n[0]), r.forEach(_), this.h() }, h() { p(e, "data-testid", Vl.EYEBROW), p(e, "class", "editorial-card__eyebrow svelte-1fu2of6") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 1 && me(t, i[0]) }, d(i) { i && _(e) } } } function C4(n) { let e, t; return { c() { e = L("p"), t = le(n[3]), this.h() }, l(i) { e = T(i, "P", { "data-testid": !0, class: !0 }); var r = E(e); t = ue(r, n[3]), r.forEach(_), this.h() }, h() { p(e, "data-testid", Vl.SUB_TITLE), p(e, "class", "editorial-card__sub-title svelte-1fu2of6") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 8 && me(t, i[3]) }, d(i) { i && _(e) } } } function P4(n) { let e, t, i, r, s, o = n[12] && A4(n); const a = [IAe, EAe], l = []; function u(c, d) { return c[5] ? 0 : 1 } return i = u(n), r = l[i] = a[i](n), { c() { e = L("div"), o && o.c(), t = Y(), r.c(), this.h() }, l(c) { e = T(c, "DIV", { class: !0 }); var d = E(e); o && o.l(d), t = X(d), r.l(d), d.forEach(_), this.h() }, h() { p(e, "class", "editorial-card__artwork-description svelte-1fu2of6") }, m(c, d) { I(c, e, d), o && o.m(e, null), A(e, t), l[i].m(e, null), s = !0 }, p(c, d) { c[12] ? o ? o.p(c, d) : (o = A4(c), o.c(), o.m(e, t)) : o && (o.d(1), o = null); let f = i; i = u(c), i === f ? l[i].p(c, d) : (te(), D(l[f], 1, 1, () => { l[f] = null }), ne(), r = l[i], r ? r.p(c, d) : (r = l[i] = a[i](c), r.c()), w(r, 1), r.m(e, null)) }, i(c) { s || (w(r), s = !0) }, o(c) { D(r), s = !1 }, d(c) { c && _(e), o && o.d(), l[i].d() } } } function A4(n) { let e, t; return { c() { e = L("div"), t = le(n[12]), this.h() }, l(i) { e = T(i, "DIV", { "data-testid": !0, class: !0 }); var r = E(e); t = ue(r, n[12]), r.forEach(_), this.h() }, h() { p(e, "data-testid", Vl.DESCRIPTION), p(e, "class", "editorial-card__artwork-description-text svelte-1fu2of6") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 4096 && me(t, i[12]) }, d(i) { i && _(e) } } } function EAe(n) { let e, t; const i = n[18]["play-button"], r = We(i, n, n[17], w4); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { "data-testid": !0, class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "data-testid", "play-button"), p(e, "class", "editorial-card__play-button svelte-1fu2of6") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 131072) && Je(r, i, s, s[17], t ? Ke(i, s[17], o, PAe) : Ye(s[17]), w4) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function IAe(n) { let e, t, i, r, s; t = new ba({ props: { artwork: n[5], noShelfChevronAnchor: !0, profile: n[6] ? "editorial-card-video-art" : "editorial-card-cover-artwork" } }); const o = n[18]["play-button"], a = We(o, n, n[17], k4); return { c() { e = L("div"), V(t.$$.fragment), i = Y(), r = L("div"), a && a.c(), this.h() }, l(l) { e = T(l, "DIV", { "data-testid": !0, class: !0 }); var u = E(e); q(t.$$.fragment, u), i = X(u), r = T(u, "DIV", { "data-testid": !0, class: !0 }); var c = E(r); a && a.l(c), c.forEach(_), u.forEach(_), this.h() }, h() { p(r, "data-testid", "play-button"), p(r, "class", "editorial-card__play-button svelte-1fu2of6"), p(e, "data-testid", Vl.COVER_ARTWORK), p(e, "class", "editorial-card__artwork-cover-artwork svelte-1fu2of6") }, m(l, u) { I(l, e, u), H(t, e, null), A(e, i), A(e, r), a && a.m(r, null), s = !0 }, p(l, u) { const c = {}; u & 32 && (c.artwork = l[5]), u & 64 && (c.profile = l[6] ? "editorial-card-video-art" : "editorial-card-cover-artwork"), t.$set(c), a && a.p && (!s || u & 131072) && Je(a, o, l, l[17], s ? Ke(o, l[17], u, AAe) : Ye(l[17]), k4) }, i(l) { s || (w(t.$$.fragment, l), w(a, l), s = !0) }, o(l) { D(t.$$.fragment, l), D(a, l), s = !1 }, d(l) { l && _(e), $(t), a && a.d(l) } } } function E4(n) { let e, t; const i = n[18]["play-button"], r = We(i, n, n[17], y4); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { "data-testid": !0, class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "data-testid", "play-button"), p(e, "class", "editorial-card__play-button svelte-1fu2of6") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 131072) && Je(r, i, s, s[17], t ? Ke(i, s[17], o, CAe) : Ye(s[17]), y4) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function MAe(n) { var C; let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v = n[8] && D4(n), b = n[0] && S4(n), y = n[13] && C4(n); d = new ba({ props: { alt: (C = n[2]) != null ? C : n[1], artwork: n[4], profile: "editorial-card", imageSettings: { forceCropCode: !0 } } }); let k = (n[12] || n[5]) && P4(n), S = n[7] && E4(n); return { c() { e = L("div"), v && v.c(), t = Y(), i = L("div"), b && b.c(), r = Y(), s = L("h2"), o = le(n[1]), l = Y(), y && y.c(), u = Y(), c = L("div"), V(d.$$.fragment), f = Y(), k && k.c(), g = Y(), S && S.c(), this.h() }, l(P) { e = T(P, "DIV", { class: !0, "aria-label": !0 }); var M = E(e); v && v.l(M), t = X(M), i = T(M, "DIV", { class: !0 }); var R = E(i); b && b.l(R), r = X(R), s = T(R, "H2", { "data-testid": !0, class: !0, dir: !0 }); var F = E(s); o = ue(F, n[1]), F.forEach(_), l = X(R), y && y.l(R), R.forEach(_), u = X(M), c = T(M, "DIV", { class: !0 }); var N = E(c); q(d.$$.fragment, N), f = X(N), k && k.l(N), g = X(N), S && S.l(N), N.forEach(_), M.forEach(_), this.h() }, h() { var P; p(s, "data-testid", Vl.TITLE), p(s, "class", "editorial-card__title svelte-1fu2of6"), p(s, "dir", "auto"), Jr(() => n[19].call(s)), J(s, "multi-line-clamp", n[9]), p(i, "class", "editorial-card__description svelte-1fu2of6"), J(i, "editorial-card__description--has-subtitle", n[3]), p(c, "class", "editorial-card__artwork svelte-1fu2of6"), p(e, "class", "editorial-card svelte-1fu2of6"), p(e, "aria-label", h = (P = n[2]) != null ? P : n[1]) }, m(P, M) { I(P, e, M), v && v.m(e, null), A(e, t), A(e, i), b && b.m(i, null), A(i, r), A(i, s), A(s, o), a = wf(s, n[19].bind(s)), A(i, l), y && y.m(i, null), A(e, u), A(e, c), H(d, c, null), A(c, f), k && k.m(c, null), A(c, g), S && S.m(c, null), m = !0 }, p(P, [M]) { var F, N; P[8] ? v ? v.p(P, M) : (v = D4(P), v.c(), v.m(e, t)) : v && (v.d(1), v = null), P[0] ? b ? b.p(P, M) : (b = S4(P), b.c(), b.m(i, r)) : b && (b.d(1), b = null), (!m || M & 2) && me(o, P[1]), (!m || M & 512) && J(s, "multi-line-clamp", P[9]), P[13] ? y ? y.p(P, M) : (y = C4(P), y.c(), y.m(i, null)) : y && (y.d(1), y = null), (!m || M & 8) && J(i, "editorial-card__description--has-subtitle", P[3]); const R = {}; M & 6 && (R.alt = (F = P[2]) != null ? F : P[1]), M & 16 && (R.artwork = P[4]), d.$set(R), P[12] || P[5] ? k ? (k.p(P, M), M & 4128 && w(k, 1)) : (k = P4(P), k.c(), w(k, 1), k.m(c, g)) : k && (te(), D(k, 1, 1, () => { k = null }), ne()), P[7] ? S ? (S.p(P, M), M & 128 && w(S, 1)) : (S = E4(P), S.c(), w(S, 1), S.m(c, null)) : S && (te(), D(S, 1, 1, () => { S = null }), ne()), (!m || M & 6 && h !== (h = (N = P[2]) != null ? N : P[1])) && p(e, "aria-label", h) }, i(P) { m || (w(d.$$.fragment, P), w(k), w(S), m = !0) }, o(P) { D(d.$$.fragment, P), D(k), D(S), m = !1 }, d(P) { P && _(e), v && v.d(), b && b.d(), a(), y && y.d(), $(d), k && k.d(), S && S.d() } } } const LAe = 22; function TAe(n, e, t) { let i, r, s, o, { $$slots: a = {}, $$scope: l } = e, u, { eyebrowText: c } = e, { title: d } = e, { ariaLabel: f = null } = e, { subtitle: g } = e, { description: h } = e, { artwork: m } = e, { coverArtwork: v } = e, { isVideo: b = !1 } = e, { hasStandaloneAction: y = !1 } = e, { linkAction: k = null } = e, { multilineTitle: S = !1 } = e; const C = It(), P = R => { C(SAe.linkClick, { event: R }) }; function M() { u = this.clientHeight, t(10, u) } return n.$$set = R => { "eyebrowText" in R && t(0, c = R.eyebrowText), "title" in R && t(1, d = R.title), "ariaLabel" in R && t(2, f = R.ariaLabel), "subtitle" in R && t(3, g = R.subtitle), "description" in R && t(15, h = R.description), "artwork" in R && t(4, m = R.artwork), "coverArtwork" in R && t(5, v = R.coverArtwork), "isVideo" in R && t(6, b = R.isVideo), "hasStandaloneAction" in R && t(7, y = R.hasStandaloneAction), "linkAction" in R && t(8, k = R.linkAction), "multilineTitle" in R && t(9, S = R.multilineTitle), "$$scope" in R && t(17, l = R.$$scope) }, n.$$.update = () => { n.$$.dirty & 1536 && t(16, i = S && u > LAe), n.$$.dirty & 65544 && t(13, r = !!g && !i), n.$$.dirty & 98312 && t(12, s = i && g || h), n.$$.dirty & 256 && t(11, o = k != null && k.isExternal ? { target: "_blank", rel: "noopener noreferer" } : {}) }, [c, d, f, g, m, v, b, y, k, S, u, o, s, r, P, h, i, l, a, M] } class RAe extends oe { constructor(e) { super(), se(this, e, TAe, MAe, ye, { eyebrowText: 0, title: 1, ariaLabel: 2, subtitle: 3, description: 15, artwork: 4, coverArtwork: 5, isVideo: 6, hasStandaloneAction: 7, linkAction: 8, multilineTitle: 9 }) } } function I4(n) { let e, t; return e = new Ki({ props: { playAction: n[0].playAction, ariaLabel: n[2], isInChin: !1 } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.playAction = i[0].playAction), r & 4 && (s.ariaLabel = i[2]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function FAe(n) { let e, t, i = n[0].playAction && I4(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[0].playAction ? i ? (i.p(r, s), s & 1 && w(i, 1)) : (i = I4(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function OAe(n) { let e, t; return e = new RAe({ props: { eyebrowText: n[9], title: n[8], subtitle: n[7], description: n[5], coverArtwork: n[4], artwork: n[6], isVideo: n[3], linkAction: n[11](n[1]), $$slots: { "play-button": [FAe] }, $$scope: { ctx: n } } }), e.$on("link-click", n[12]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 512 && (s.eyebrowText = i[9]), r & 256 && (s.title = i[8]), r & 128 && (s.subtitle = i[7]), r & 32 && (s.description = i[5]), r & 16 && (s.coverArtwork = i[4]), r & 64 && (s.artwork = i[6]), r & 8 && (s.isVideo = i[3]), r & 2 && (s.linkAction = i[11](i[1])), r & 65541 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function NAe(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g; var h; const m = ot(); ce(n, m, k => t(15, g = k)); let { item: v } = e; const b = k => { var S; return { url: (S = Kr(k)) !== null && S !== void 0 ? S : "#", isExternal: zs(k) || ra(k) } }, y = k => { bu(k.detail.event, u) }; return n.$$set = k => { "item" in k && t(0, v = k.item) }, n.$$.update = () => { n.$$.dirty & 1 && t(9, i = v.heading), n.$$.dirty & 1 && t(8, r = v.title), n.$$.dirty & 1 && t(7, s = v.subtitle), n.$$.dirty & 1 && t(14, o = v.accessibilityLabel), n.$$.dirty & 1 && t(6, a = ll(v.artwork)), n.$$.dirty & 1 && t(5, l = v.description), n.$$.dirty & 1 && t(1, u = v.segue), n.$$.dirty & 1 && t(4, c = v.coverArtwork && ll(v.coverArtwork)), n.$$.dirty & 8193 && t(3, d = ["artistUploadedVideo", "uploadedVideo", "musicVideo"].includes(t(13, h = v.contentDescriptor) === null || h === void 0 ? void 0 : h.kind)), n.$$.dirty & 49153 && t(2, f = dh(g, o, v.showExplicitBadge)) }, [v, u, f, d, c, l, a, s, r, i, m, b, y, h, o, g] } class BAe extends oe { constructor(e) { super(), se(this, e, NAe, OAe, ye, { item: 0 }) } } function M4(n) { let e, t; return { c() { e = L("h3"), t = le(n[1]), this.h() }, l(i) { e = T(i, "H3", { class: !0, "data-testid": !0 }); var r = E(e); t = ue(r, n[1]), r.forEach(_), this.h() }, h() { p(e, "class", "category-brick__title svelte-1mi51kw"), p(e, "data-testid", "category-brick__title") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 2 && me(t, i[1]) }, d(i) { i && _(e) } } } function UAe(n) { let e, t, i, r; t = new ba({ props: { artwork: n[0], forceFullWidth: !1, alt: "", profile: "category-brick" } }); let s = n[1] && M4(n); return { c() { e = L("div"), V(t.$$.fragment), i = Y(), s && s.c(), this.h() }, l(o) { e = T(o, "DIV", { class: !0, "data-testid": !0 }); var a = E(e); q(t.$$.fragment, a), i = X(a), s && s.l(a), a.forEach(_), this.h() }, h() { p(e, "class", "category-brick svelte-1mi51kw"), p(e, "data-testid", "category-brick"), J(e, "is-hd-aspect-ratio", n[2]) }, m(o, a) { I(o, e, a), H(t, e, null), A(e, i), s && s.m(e, null), r = !0 }, p(o, [a]) { const l = {}; a & 1 && (l.artwork = o[0]), t.$set(l), o[1] ? s ? s.p(o, a) : (s = M4(o), s.c(), s.m(e, null)) : s && (s.d(1), s = null), (!r || a & 4) && J(e, "is-hd-aspect-ratio", o[2]) }, i(o) { r || (w(t.$$.fragment, o), r = !0) }, o(o) { D(t.$$.fragment, o), r = !1 }, d(o) { o && _(e), $(t), s && s.d() } } } function HAe(n, e, t) { let { artwork: i } = e, { title: r } = e, { isHdAspectRatio: s = !1 } = e; return n.$$set = o => { "artwork" in o && t(0, i = o.artwork), "title" in o && t(1, r = o.title), "isHdAspectRatio" in o && t(2, s = o.isHdAspectRatio) }, [i, r, s] } class $Ae extends oe { constructor(e) { super(), se(this, e, HAe, UAe, ye, { artwork: 0, title: 1, isHdAspectRatio: 2 }) } } function VAe(n) { let e, t; return e = new $Ae({ props: { artwork: ll(n[0].artwork), title: n[1], isHdAspectRatio: !0 } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.artwork = ll(i[0].artwork)), r & 2 && (s.title = i[1]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function zAe(n) { let e, t; return e = new en({ props: { action: n[2], $$slots: { default: [VAe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 4 && (s.action = i[2]), r & 11 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function qAe(n, e, t) { let i, r, { item: s } = e; return n.$$set = o => { "item" in o && t(0, s = o.item) }, n.$$.update = () => { n.$$.dirty & 1 && t(2, i = s.segue), n.$$.dirty & 1 && t(1, r = s.title) }, [s, r, i] } class WAe extends oe { constructor(e) { super(), se(this, e, qAe, zAe, ye, { item: 0 }) } } function KAe(n) { let e, t, i = [{ class: "icon" }, { xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { class: !0, xmlns: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M19.817 61.863c1.48 0 2.672-.515 3.702-1.546l24.243-23.63c1.352-1.385 1.996-2.737 2.028-4.443 0-1.674-.644-3.09-2.028-4.443L23.519 4.138c-1.03-.998-2.253-1.513-3.702-1.513-2.994 0-5.409 2.382-5.409 5.344 0 1.481.612 2.833 1.739 3.96l20.99 20.347-20.99 20.283c-1.127 1.126-1.739 2.478-1.739 3.96 0 2.93 2.415 5.344 5.409 5.344Z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ class: "icon" }, { xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function JAe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let zB = class extends oe { constructor(e) { super(), se(this, e, JAe, KAe, ht, {}) } }; function YAe(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { "fill-rule": "evenodd" }, { "stroke-linejoin": "round" }, { "stroke-miterlimit": "2" }, { "clip-rule": "evenodd" }, { viewBox: "0 0 9 5" }, { "xml:space": "preserve" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, "fill-rule": !0, "stroke-linejoin": !0, "stroke-miterlimit": !0, "clip-rule": !0, viewBox: !0, "xml:space": !0 }); var o = E(e); t = be(o, "path", { "fill-rule": !0, d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "fill-rule", "nonzero"), p(t, "d", "M8.836.982 4.909 4.745a.624.624 0 0 1-.409.164.624.624 0 0 1-.409-.164L.164.982A.626.626 0 0 1 0 .573C0 .245.245 0 .573 0 .736 0 .9.082.982.164L4.5 3.518 8.018.164A.626.626 0 0 1 8.427 0C8.755 0 9 .245 9 .573a.626.626 0 0 1-.164.409Z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { "fill-rule": "evenodd" }, { "stroke-linejoin": "round" }, { "stroke-miterlimit": "2" }, { "clip-rule": "evenodd" }, { viewBox: "0 0 9 5" }, { "xml:space": "preserve" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function XAe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let x_ = class extends oe { constructor(e) { super(), se(this, e, XAe, YAe, ht, {}) } }; const ZAe = n => ({}), L4 = n => ({}), QAe = n => ({ option: n & 1 }), T4 = n => ({ option: n[0] }), jAe = n => ({ selectedOption: n & 1 }), R4 = n => ({ selectedOption: n[0] }); function F4(n, e, t) { const i = n.slice(); return i[9] = e[t], i } const GAe = n => ({ option: n & 2 }), O4 = n => ({ option: n[9] }); function N4(n) { let e, t, i, r; const s = n[6].label, o = We(s, n, n[5], O4); return { c() { e = L("option"), o && o.c(), t = Y(), this.h() }, l(a) { e = T(a, "OPTION", { "data-testid": !0, class: !0 }); var l = E(e); o && o.l(l), t = X(l), l.forEach(_), this.h() }, h() { e.__value = i = n[9], ps(e, e.__value), p(e, "data-testid", "select-option"), p(e, "class", "svelte-bydt3") }, m(a, l) { I(a, e, l), o && o.m(e, null), A(e, t), r = !0 }, p(a, l) { o && o.p && (!r || l & 34) && Je(o, s, a, a[5], r ? Ke(s, a[5], l, GAe) : Ye(a[5]), O4), (!r || l & 2 && i !== (i = a[9])) && (e.__value = i, ps(e, e.__value)) }, i(a) { r || (w(o, a), r = !0) }, o(a) { D(o, a), r = !1 }, d(a) { a && _(e), o && o.d(a) } } } function xAe(n) { let e; const t = n[6].label, i = We(t, n, n[5], T4); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 33) && Je(i, t, r, r[5], e ? Ke(t, r[5], s, QAe) : Ye(r[5]), T4) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function e7e(n) { let e; const t = n[6]["select-text"], i = We(t, n, n[5], R4); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 33) && Je(i, t, r, r[5], e ? Ke(t, r[5], s, jAe) : Ye(r[5]), R4) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function t7e(n) { let e, t; return e = new x_({ props: { "aria-hidden": "true" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function n7e(n) { let e, t, i, r, s, o, a, l, u, c, d, f = ut(n[1]), g = []; for (let C = 0; C < f.length; C += 1)g[C] = N4(F4(n, f, C)); const h = C => D(g[C], 1, 1, () => { g[C] = null }), m = [e7e, xAe], v = []; function b(C, P) { return C[4]["select-text"] ? 0 : 1 } s = b(n), o = v[s] = m[s](n); const y = n[6]["select-chevron"], k = We(y, n, n[5], L4), S = k || t7e(); return { c() { e = L("div"), t = L("select"); for (let C = 0; C < g.length; C += 1)g[C].c(); i = Y(), r = L("div"), o.c(), a = Y(), l = L("div"), S && S.c(), this.h() }, l(C) { e = T(C, "DIV", { class: !0, "data-testid": !0 }); var P = E(e); t = T(P, "SELECT", { class: !0, "data-testid": !0 }); var M = E(t); for (let N = 0; N < g.length; N += 1)g[N].l(M); M.forEach(_), i = X(P), r = T(P, "DIV", { class: !0, "aria-hidden": !0, "data-testid": !0 }); var R = E(r); o.l(R), R.forEach(_), a = X(P), l = T(P, "DIV", { class: !0, role: !0, "aria-hidden": !0 }); var F = E(l); S && S.l(F), F.forEach(_), P.forEach(_), this.h() }, h() { p(t, "class", "select svelte-bydt3"), p(t, "data-testid", "accessory-button-select"), n[0] === void 0 && Jr(() => n[7].call(t)), p(r, "class", "select-text svelte-bydt3"), p(r, "aria-hidden", "true"), p(r, "data-testid", "accessory-button-select-text"), p(l, "class", "select-chevron svelte-bydt3"), p(l, "role", "presentation"), p(l, "aria-hidden", "true"), p(e, "class", "select-wrapper svelte-bydt3"), p(e, "data-testid", "accessory-button-select-wrapper"), J(e, "select-wrapper--inherited-typography", n[2]) }, m(C, P) { I(C, e, P), A(e, t); for (let M = 0; M < g.length; M += 1)g[M] && g[M].m(t, null); kv(t, n[0], !0), A(e, i), A(e, r), v[s].m(r, null), A(e, a), A(e, l), S && S.m(l, null), u = !0, c || (d = [Me(t, "change", n[7]), Me(t, "change", n[3])], c = !0) }, p(C, [P]) { if (P & 34) { f = ut(C[1]); let R; for (R = 0; R < f.length; R += 1) { const F = F4(C, f, R); g[R] ? (g[R].p(F, P), w(g[R], 1)) : (g[R] = N4(F), g[R].c(), w(g[R], 1), g[R].m(t, null)) } for (te(), R = f.length; R < g.length; R += 1)h(R); ne() } P & 3 && kv(t, C[0]); let M = s; s = b(C), s === M ? v[s].p(C, P) : (te(), D(v[M], 1, 1, () => { v[M] = null }), ne(), o = v[s], o ? o.p(C, P) : (o = v[s] = m[s](C), o.c()), w(o, 1), o.m(r, null)), k && k.p && (!u || P & 32) && Je(k, y, C, C[5], u ? Ke(y, C[5], P, ZAe) : Ye(C[5]), L4), (!u || P & 4) && J(e, "select-wrapper--inherited-typography", C[2]) }, i(C) { if (!u) { for (let P = 0; P < f.length; P += 1)w(g[P]); w(o), w(S, C), u = !0 } }, o(C) { g = g.filter(Boolean); for (let P = 0; P < g.length; P += 1)D(g[P]); D(o), D(S, C), u = !1 }, d(C) { C && _(e), ln(g, C), v[s].d(), S && S.d(C), c = !1, Ot(d) } } } function i7e(n, e, t) { let { $$slots: i = {}, $$scope: r } = e; const s = wn(i), o = It(); let { selectedOption: a } = e, { options: l = [] } = e, { inheritTypography: u = !1 } = e; function c() { a && o("select", a) } function d() { a = zU(this), t(0, a), t(1, l) } return n.$$set = f => { "selectedOption" in f && t(0, a = f.selectedOption), "options" in f && t(1, l = f.options), "inheritTypography" in f && t(2, u = f.inheritTypography), "$$scope" in f && t(5, r = f.$$scope) }, [a, l, u, c, s, r, i, d] } let qB = class extends oe { constructor(e) { super(), se(this, e, i7e, n7e, ye, { selectedOption: 0, options: 1, inheritTypography: 2 }) } }; const r7e = n => ({}), B4 = n => ({}), s7e = n => ({}), U4 = n => ({}); function H4(n) { let e; const t = n[13].artwork, i = We(t, n, n[18], U4); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 262144) && Je(i, t, r, r[18], e ? Ke(t, r[18], s, s7e) : Ye(r[18]), U4) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function $4(n) { let e, t, i, r; function s(l, u) { return l[3] ? a7e : o7e } let o = s(n), a = o(n); return { c() { e = L("p"), a.c(), this.h() }, l(l) { e = T(l, "P", { class: !0, "aria-hidden": !0, "data-testid": !0 }); var u = E(e); a.l(u), u.forEach(_), this.h() }, h() { p(e, "class", "headline svelte-rnrb59"), p(e, "aria-hidden", t = !n[3] && n[4]), p(e, "data-testid", "header-headline"), J(e, "headline-link", n[3]) }, m(l, u) { I(l, e, u), a.m(e, null), i || (r = Me(e, "click", n[15]), i = !0) }, p(l, u) { o === (o = s(l)) && a ? a.p(l, u) : (a.d(1), a = o(l), a && (a.c(), a.m(e, null))), u & 24 && t !== (t = !l[3] && l[4]) && p(e, "aria-hidden", t), u & 8 && J(e, "headline-link", l[3]) }, d(l) { l && _(e), a.d(), i = !1, r() } } } function o7e(n) { let e; return { c() { e = le(n[0]) }, l(t) { e = ue(t, n[0]) }, m(t, i) { I(t, e, i) }, p(t, i) { i & 1 && me(e, t[0]) }, d(t) { t && _(e) } } } function a7e(n) { let e, t; return { c() { e = L("button"), t = le(n[0]), this.h() }, l(i) { e = T(i, "BUTTON", { type: !0 }); var r = E(e); t = ue(r, n[0]), r.forEach(_), this.h() }, h() { p(e, "type", "button") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 1 && me(t, i[0]) }, d(i) { i && _(e) } } } function V4(n) { let e, t, i, r, s, o; const a = [c7e, u7e, l7e], l = []; function u(c, d) { return c[4] ? 0 : c[5] ? 1 : 2 } return t = u(n), i = l[t] = a[t](n), { c() { e = L("h2"), i.c(), this.h() }, l(c) { e = T(c, "H2", { class: !0, "data-testid": !0 }); var d = E(e); i.l(d), d.forEach(_), this.h() }, h() { p(e, "class", "title svelte-rnrb59"), p(e, "data-testid", "header-title"), J(e, "title-link", n[4]) }, m(c, d) { I(c, e, d), l[t].m(e, null), r = !0, s || (o = Me(e, "click", n[17]), s = !0) }, p(c, d) { let f = t; t = u(c), t === f ? l[t].p(c, d) : (te(), D(l[f], 1, 1, () => { l[f] = null }), ne(), i = l[t], i ? i.p(c, d) : (i = l[t] = a[t](c), i.c()), w(i, 1), i.m(e, null)), (!r || d & 16) && J(e, "title-link", c[4]) }, i(c) { r || (w(i), r = !0) }, o(c) { D(i), r = !1 }, d(c) { c && _(e), l[t].d(), s = !1, o() } } } function l7e(n) { let e, t; return { c() { e = L("span"), t = le(n[1]), this.h() }, l(i) { e = T(i, "SPAN", { class: !0, dir: !0 }); var r = E(e); t = ue(r, n[1]), r.forEach(_), this.h() }, h() { p(e, "class", "dir-wrapper"), p(e, "dir", "auto") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 2 && me(t, i[1]) }, i: j, o: j, d(i) { i && _(e) } } } function u7e(n) { let e, t, i; return t = new qB({ props: { inheritTypography: !0, selectedOption: n[6], options: n[7], $$slots: { label: [d7e, ({ option: r }) => ({ 19: r }), ({ option: r }) => r ? 524288 : 0] }, $$scope: { ctx: n } } }), t.$on("select", n[16]), { c() { e = L("span"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "SPAN", { class: !0, dir: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "dir-wrapper"), p(e, "dir", "auto") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 64 && (o.selectedOption = r[6]), s & 128 && (o.options = r[7]), s & 786432 && (o.$$scope = { dirty: s, ctx: r }), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function c7e(n) { let e = n[9].tag, t, i = n[9].tag && $m(n); return { c() { i && i.c(), t = re() }, l(r) { i && i.l(r), t = re() }, m(r, s) { i && i.m(r, s), I(r, t, s) }, p(r, s) { r[9].tag ? e ? ye(e, r[9].tag) ? (i.d(1), i = $m(r), e = r[9].tag, i.c(), i.m(t.parentNode, t)) : i.p(r, s) : (i = $m(r), e = r[9].tag, i.c(), i.m(t.parentNode, t)) : e && (i.d(1), i = null, e = r[9].tag) }, i: j, o(r) { D(i, r) }, d(r) { r && _(t), i && i.d(r) } } } function d7e(n) { var i, r; let e = ((r = (i = n[19]) == null ? void 0 : i.title) != null ? r : "") + "", t; return { c() { t = le(e) }, l(s) { t = ue(s, e) }, m(s, o) { I(s, t, o) }, p(s, o) { var a, l; o & 524288 && e !== (e = ((l = (a = s[19]) == null ? void 0 : a.title) != null ? l : "") + "") && me(t, e) }, d(s) { s && _(t) } } } function $m(n) { let e, t, i, r, s, o, a, l, u; s = new zB({ props: { class: "chevron", "aria-hidden": "true" } }); let c = [n[9].attributes, { class: "title__button" }, { role: "link" }, { tabindex: "0" }, { "aria-label": o = n[0] && !n[3] ? `${n[0]} ${n[1]}` : null }], d = {}; for (let f = 0; f < c.length; f += 1)d = fe(d, c[f]); return { c() { e = L(n[9].tag), t = L("span"), i = le(n[1]), r = Y(), V(s.$$.fragment), this.h() }, l(f) { e = T(f, (n[9].tag || "null").toUpperCase(), { class: !0, role: !0, tabindex: !0, "aria-label": !0 }); var g = E(e); t = T(g, "SPAN", { class: !0, dir: !0 }); var h = E(t); i = ue(h, n[1]), h.forEach(_), r = X(g), q(s.$$.fragment, g), g.forEach(_), this.h() }, h() { p(t, "class", "dir-wrapper"), p(t, "dir", "auto"), yv(n[9].tag)(e, d), J(e, "svelte-rnrb59", !0) }, m(f, g) { I(f, e, g), A(e, t), A(t, i), A(e, r), H(s, e, null), a = !0, l || (u = Me(e, "click", Ui(n[14])), l = !0) }, p(f, g) { (!a || g & 2) && me(i, f[1]), yv(f[9].tag)(e, d = at(c, [g & 512 && f[9].attributes, { class: "title__button" }, { role: "link" }, { tabindex: "0" }, (!a || g & 11 && o !== (o = f[0] && !f[3] ? `${f[0]} ${f[1]}` : null)) && { "aria-label": o }])), J(e, "svelte-rnrb59", !0) }, i(f) { a || (w(s.$$.fragment, f), a = !0) }, o(f) { D(s.$$.fragment, f), a = !1 }, d(f) { f && _(e), $(s), l = !1, u() } } } function z4(n) { let e, t, i; return { c() { e = L("p"), t = L("span"), i = le(n[2]), this.h() }, l(r) { e = T(r, "P", { class: !0, "data-testid": !0 }); var s = E(e); t = T(s, "SPAN", { class: !0, dir: !0 }); var o = E(t); i = ue(o, n[2]), o.forEach(_), s.forEach(_), this.h() }, h() { p(t, "class", "dir-wrapper"), p(t, "dir", "auto"), p(e, "class", "subtitle svelte-rnrb59"), p(e, "data-testid", "header-subtitle") }, m(r, s) { I(r, e, s), A(e, t), A(t, i) }, p(r, s) { s & 4 && me(i, r[2]) }, d(r) { r && _(e) } } } function f7e(n) { let e, t, i, r, s, o, a, l = n[11].artwork && H4(n), u = n[0] && $4(n), c = n[1] && V4(n), d = n[2] && z4(n); const f = n[13].buttons, g = We(f, n, n[18], B4); return { c() { e = L("div"), l && l.c(), t = Y(), i = L("div"), u && u.c(), r = Y(), c && c.c(), s = Y(), d && d.c(), o = Y(), g && g.c(), this.h() }, l(h) { e = T(h, "DIV", { class: !0 }); var m = E(e); l && l.l(m), t = X(m), i = T(m, "DIV", { class: !0 }); var v = E(i); u && u.l(v), r = X(v), c && c.l(v), s = X(v), d && d.l(v), v.forEach(_), o = X(m), g && g.l(m), m.forEach(_), this.h() }, h() { p(i, "class", "header-title-wrapper svelte-rnrb59"), p(e, "class", "header svelte-rnrb59"), J(e, "is-panel-header", n[8]) }, m(h, m) { I(h, e, m), l && l.m(e, null), A(e, t), A(e, i), u && u.m(i, null), A(i, r), c && c.m(i, null), A(i, s), d && d.m(i, null), A(e, o), g && g.m(e, null), a = !0 }, p(h, [m]) { h[11].artwork ? l ? (l.p(h, m), m & 2048 && w(l, 1)) : (l = H4(h), l.c(), w(l, 1), l.m(e, t)) : l && (te(), D(l, 1, 1, () => { l = null }), ne()), h[0] ? u ? u.p(h, m) : (u = $4(h), u.c(), u.m(i, r)) : u && (u.d(1), u = null), h[1] ? c ? (c.p(h, m), m & 2 && w(c, 1)) : (c = V4(h), c.c(), w(c, 1), c.m(i, s)) : c && (te(), D(c, 1, 1, () => { c = null }), ne()), h[2] ? d ? d.p(h, m) : (d = z4(h), d.c(), d.m(i, null)) : d && (d.d(1), d = null), g && g.p && (!a || m & 262144) && Je(g, f, h, h[18], a ? Ke(f, h[18], m, r7e) : Ye(h[18]), B4), (!a || m & 256) && J(e, "is-panel-header", h[8]) }, i(h) { a || (w(l), w(c), w(g, h), a = !0) }, o(h) { D(l), D(c), D(g, h), a = !1 }, d(h) { h && _(e), l && l.d(), u && u.d(), c && c.d(), d && d.d(), g && g.d(h) } } } const g7e = n => ({ tag: "a", attributes: { href: n } }), h7e = () => ({ tag: "button", attributes: { type: "button" } }); function m7e(n, e, t) { let { $$slots: i = {}, $$scope: r } = e; const s = wn(i), o = It(); let { headline: a = null } = e, { title: l } = e, { subtitle: u = null } = e, { links: c = null } = e, { hasHeadlineLink: d = !1 } = e, { hasTitleLink: f = !1 } = e, { hasTitlePopover: g = !1 } = e, { popoverSelectedOption: h = null } = e, { popoverOptions: m = [] } = e, { isPanel: v = !1 } = e, b; function y(P) { Bt.call(this, n, P) } const k = () => o("headlineClick"), S = ({ detail: P }) => o("selectPopoverOption", P), C = () => f && o("titleClick"); return n.$$set = P => { "headline" in P && t(0, a = P.headline), "title" in P && t(1, l = P.title), "subtitle" in P && t(2, u = P.subtitle), "links" in P && t(12, c = P.links), "hasHeadlineLink" in P && t(3, d = P.hasHeadlineLink), "hasTitleLink" in P && t(4, f = P.hasTitleLink), "hasTitlePopover" in P && t(5, g = P.hasTitlePopover), "popoverSelectedOption" in P && t(6, h = P.popoverSelectedOption), "popoverOptions" in P && t(7, m = P.popoverOptions), "isPanel" in P && t(8, v = P.isPanel), "$$scope" in P && t(18, r = P.$$scope) }, n.$$.update = () => { n.$$.dirty & 4096 && t(9, b = c != null && c.title ? g7e(c == null ? void 0 : c.title) : h7e()) }, [a, l, u, d, f, g, h, m, v, b, o, s, c, i, y, k, S, C, r] } class WB extends oe { constructor(e) { super(), se(this, e, m7e, f7e, ye, { headline: 0, title: 1, subtitle: 2, links: 12, hasHeadlineLink: 3, hasTitleLink: 4, hasTitlePopover: 5, popoverSelectedOption: 6, popoverOptions: 7, isPanel: 8 }) } } function q4(n) { let e, t; return { c() { e = L("h2"), t = le(n[0]), this.h() }, l(i) { e = T(i, "H2", { class: !0, "data-testid": !0 }); var r = E(e); t = ue(r, n[0]), r.forEach(_), this.h() }, h() { p(e, "class", "title svelte-7k3won"), p(e, "data-testid", "disc-header-title") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 1 && me(t, i[0]) }, d(i) { i && _(e) } } } function p7e(n) { let e, t = n[0] && q4(n); return { c() { e = L("div"), t && t.c(), this.h() }, l(i) { e = T(i, "DIV", { class: !0 }); var r = E(e); t && t.l(r), r.forEach(_), this.h() }, h() { p(e, "class", "disc-header svelte-7k3won") }, m(i, r) { I(i, e, r), t && t.m(e, null) }, p(i, [r]) { i[0] ? t ? t.p(i, r) : (t = q4(i), t.c(), t.m(e, null)) : t && (t.d(1), t = null) }, i: j, o: j, d(i) { i && _(e), t && t.d() } } } function _7e(n, e, t) { let { title: i } = e; return n.$$set = r => { "title" in r && t(0, i = r.title) }, [i] } class v7e extends oe { constructor(e) { super(), se(this, e, _7e, p7e, ye, { title: 0 }) } } function b7e(n) { var i; let e = ((i = n[6]) == null ? void 0 : i.title) + "", t; return { c() { t = le(e) }, l(r) { t = ue(r, e) }, m(r, s) { I(r, t, s) }, p(r, s) { var o; s & 64 && e !== (e = ((o = r[6]) == null ? void 0 : o.title) + "") && me(t, e) }, d(r) { r && _(t) } } } function y7e(n) { let e, t; return e = new qB({ props: { selectedOption: n[1], options: n[0], $$slots: { label: [b7e, ({ option: i }) => ({ 6: i }), ({ option: i }) => i ? 64 : 0] }, $$scope: { ctx: n } } }), e.$on("select", n[4]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 2 && (s.selectedOption = i[1]), r & 1 && (s.options = i[0]), r & 192 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function w7e(n, e, t) { let i; const r = sn(); let { item: s } = e, o; function a(u) { u && r(u.segue) } const l = ({ detail: u }) => a(u); return n.$$set = u => { "item" in u && t(3, s = u.item) }, n.$$.update = () => { n.$$.dirty & 8 && t(0, i = s.items || []), n.$$.dirty & 9 && t(1, o = s.selectedItemID && i.find(u => `${u.id}` == `${s.selectedItemID}`)) }, [i, o, a, s, l] } class k7e extends oe { constructor(e) { super(), se(this, e, w7e, y7e, ye, { item: 3 }) } } function D7e(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 16 16" }, { width: "16" }, { height: "16" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, viewBox: !0, width: !0, height: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M3.644 1.78.191 5.3A.702.702 0 0 0 0 5.752c0 .362.246.608.602.608a.577.577 0 0 0 .43-.178l1.423-1.47 1.1-1.271-.068 1.58v8.785c0 .363.253.616.616.616.355 0 .608-.253.608-.616V5.02L4.65 3.44l1.094 1.272 1.429 1.47a.562.562 0 0 0 .424.178c.355 0 .601-.246.601-.608a.669.669 0 0 0-.191-.452L4.56 1.78a.614.614 0 0 0-.917 0zm8.718 12.444 3.447-3.536a.643.643 0 0 0 .191-.45c0-.363-.246-.603-.602-.603a.557.557 0 0 0-.424.171l-1.422 1.47-1.1 1.28.06-1.58V2.189a.59.59 0 0 0-.608-.615.592.592 0 0 0-.615.615v8.787l.068 1.58-1.1-1.28-1.423-1.47a.567.567 0 0 0-.424-.17c-.355 0-.608.239-.608.601a.65.65 0 0 0 .198.451l3.446 3.536a.62.62 0 0 0 .916 0z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 16 16" }, { width: "16" }, { height: "16" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function S7e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let C7e = class extends oe { constructor(e) { super(), se(this, e, S7e, D7e, ht, {}) } }; function W4(n) { let e, t, i, r, s, o, a; return i = new C7e({ props: { "data-testid": "sort-menu-icon", "aria-hidden": "true" } }), s = new x_({ props: { class: "chevron", "aria-hidden": "true" } }), { c() { e = L("amp-contextual-menu-button"), t = L("span"), V(i.$$.fragment), r = Y(), V(s.$$.fragment), this.h() }, l(l) { e = T(l, "AMP-CONTEXTUAL-MENU-BUTTON", { config: !0 }); var u = E(e); t = T(u, "SPAN", { class: !0, "data-testid": !0, "aria-label": !0, slot: !0 }); var c = E(t); q(i.$$.fragment, c), r = X(c), q(s.$$.fragment, c), c.forEach(_), u.forEach(_), this.h() }, h() { p(t, "class", "sort-button svelte-n8z8ot"), p(t, "data-testid", "sort-menu-trigger"), p(t, "aria-label", n[1]), p(t, "slot", "trigger-content"), Xe(e, "config", o = { items: n[2] }) }, m(l, u) { I(l, e, u), A(e, t), H(i, t, null), A(t, r), H(s, t, null), a = !0 }, p(l, u) { (!a || u & 2) && p(t, "aria-label", l[1]), (!a || u & 4 && o !== (o = { items: l[2] })) && Xe(e, "config", o) }, i(l) { a || (w(i.$$.fragment, l), w(s.$$.fragment, l), a = !0) }, o(l) { D(i.$$.fragment, l), D(s.$$.fragment, l), a = !1 }, d(l) { l && _(e), $(i), $(s) } } } function P7e(n) { var r; let e, t, i = ((r = n[0].items) == null ? void 0 : r.length) > 0 && W4(n); return { c() { i && i.c(), e = re() }, l(s) { i && i.l(s), e = re() }, m(s, o) { i && i.m(s, o), I(s, e, o), t = !0 }, p(s, [o]) { var a; ((a = s[0].items) == null ? void 0 : a.length) > 0 ? i ? (i.p(s, o), o & 1 && w(i, 1)) : (i = W4(s), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(s) { t || (w(i), t = !0) }, o(s) { D(i), t = !1 }, d(s) { s && _(e), i && i.d(s) } } } const Vm = '<svg viewBox="0 0 16 16"><path d="M6.9 12.9c.3 0 .5-.1.7-.4l5.3-8.4c.1-.1.1-.3.1-.4 0-.4-.2-.6-.6-.6-.3 0-.4.1-.6.3l-5 8-2.6-3.5c-.2-.2-.3-.3-.6-.3s-.6.2-.6.6c0 .2.1.3.2.5l3 3.9c.2.2.4.3.7.3z"/></svg>'; function A7e(n, e, t) { let i, r, s, { translateFn: o } = e, { config: a } = e, { ariaLabel: l } = e; const u = It(), c = d => { a.sortBy !== d && u("sortByChange", d) }; return n.$$set = d => { "translateFn" in d && t(3, o = d.translateFn), "config" in d && t(0, a = d.config), "ariaLabel" in d && t(1, l = d.ariaLabel) }, n.$$.update = () => { var d, f, g, h; n.$$.dirty & 1 && t(4, i = ((d = a.sortBy) == null ? void 0 : d.slice(0, 1)) === "-" ? "-" : ""), n.$$.dirty & 17 && t(5, r = i === "" ? a.sortBy : (f = a.sortBy) == null ? void 0 : f.slice(1)), n.$$.dirty & 57 && t(2, s = [...(h = (g = a.items) == null ? void 0 : g.map(m => ({ ...m, action: () => { var v; return c((v = m.action) != null ? v : `${i}${m.id}`) }, ...r === m.id ? { icon: Vm } : {} }))) != null ? h : [], { items: [{ label: o("FUSE.Sorts.Ascending"), ...a.isReversible ? { action: () => { var m; return c((m = a.sortOrderAction) != null ? m : r) } } : { styles: { cursor: "not-allowed", opacity: .35 } }, ...r && i === "" ? { icon: Vm } : {} }, { label: o("FUSE.Sorts.Descending"), ...a.isReversible ? { action: () => { var m; return c((m = a.sortOrderAction) != null ? m : `-${r}`) } } : { styles: { cursor: "not-allowed", opacity: .35 } }, ...r && i === "-" ? { icon: Vm } : {} }] }]) }, [a, l, s, o, i, r] } let E7e = class extends oe { constructor(e) { super(), se(this, e, A7e, P7e, ye, { translateFn: 3, config: 0, ariaLabel: 1 }) } }; function I7e(n) { let e, t; return e = new E7e({ props: { ariaLabel: n[1].t("ASE.Web.Music.Sort"), config: n[0], translateFn: n[1].t } }), e.$on("sortByChange", n[3]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 2 && (s.ariaLabel = i[1].t("ASE.Web.Music.Sort")), r & 1 && (s.config = i[0]), r & 2 && (s.translateFn = i[1].t), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } const M7e = "music-app-library:sort-preferences-user-"; function L7e(n, e, t) { let i, { config: r } = e; const s = ot(); ce(n, s, f => t(1, i = f)); const o = sn(), a = Ci("media-user-token"), l = a ? `${M7e}${a}` : null, u = $t(Cn).type, c = JSON.parse(window.localStorage.getItem(l)), d = f => { o(tr({ kind: "sortByChanged", metadata: { currentSort: f.detail } })) }; return n.$$set = f => { "config" in f && t(0, r = f.config) }, n.$$.update = () => { n.$$.dirty & 1 && window.localStorage.setItem(l, JSON.stringify(Object.assign(Object.assign({}, c), { [u]: { currentSort: r.sortBy } }))) }, [r, i, s, d] } class T7e extends oe { constructor(e) { super(), se(this, e, L7e, I7e, ye, { config: 0 }) } } function R7e(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, { width: "64" }, { height: "64" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, viewBox: !0, width: !0, height: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M7.531 37.102c0 13.57 10.89 24.46 24.432 24.46 13.543 0 24.405-10.89 24.405-24.46 0-1.326-.94-2.294-2.294-2.294-1.299 0-2.156.968-2.156 2.294 0 11.111-8.871 20.01-19.955 20.01a19.929 19.929 0 0 1-19.982-20.01c0-11.083 8.9-19.955 19.982-19.955 2.101 0 4.063.166 5.694.553l-8.264 8.181a2.287 2.287 0 0 0-.636 1.575c0 1.272.94 2.212 2.184 2.212.69 0 1.216-.222 1.603-.636L43.93 17.589c.497-.47.69-1.022.69-1.658 0-.608-.248-1.216-.69-1.658L32.544 2.72c-.387-.442-.94-.663-1.603-.663-1.244 0-2.184.995-2.184 2.266 0 .58.222 1.133.608 1.575l7.352 7.27a25.421 25.421 0 0 0-4.754-.47c-13.542 0-24.432 10.861-24.432 24.404Z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, { width: "64" }, { height: "64" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function F7e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let O7e = class extends oe { constructor(e) { super(), se(this, e, F7e, R7e, ht, {}) } }; function N7e(n) { let e, t, i, r = n[1].t("ASE.Web.Music.Library.Playlists.Suggested.Refresh") + "", s, o; return t = new O7e({ props: { "aria-hidden": "true" } }), { c() { e = L("div"), V(t.$$.fragment), i = Y(), s = le(r), this.h() }, l(a) { e = T(a, "DIV", { class: !0 }); var l = E(e); q(t.$$.fragment, l), i = X(l), s = ue(l, r), l.forEach(_), this.h() }, h() { p(e, "class", "refresh svelte-q0tczk") }, m(a, l) { I(a, e, l), H(t, e, null), A(e, i), A(e, s), o = !0 }, p(a, l) { (!o || l & 2) && r !== (r = a[1].t("ASE.Web.Music.Library.Playlists.Suggested.Refresh") + "") && me(s, r) }, i(a) { o || (w(t.$$.fragment, a), o = !0) }, o(a) { D(t.$$.fragment, a), o = !1 }, d(a) { a && _(e), $(t) } } } function B7e(n) { let e, t; return e = new en({ props: { action: n[0].segue, $$slots: { default: [N7e] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 1 && (s.action = i[0].segue), r & 10 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function U7e(n, e, t) { let i; const r = ot(); ce(n, r, o => t(1, i = o)); let { item: s } = e; return n.$$set = o => { "item" in o && t(0, s = o.item) }, [s, i, r] } class H7e extends oe { constructor(e) { super(), se(this, e, U7e, B7e, ye, { item: 0 }) } } function $7e(n) { let e, t = n[0].text + "", i, r, s; return { c() { e = L("button"), i = le(t), this.h() }, l(o) { e = T(o, "BUTTON", { "data-testid": !0, class: !0, "aria-label": !0 }); var a = E(e); i = ue(a, t), a.forEach(_), this.h() }, h() { p(e, "data-testid", "clear-recently-searched-button"), p(e, "class", "clear-recently-searched-button svelte-w7rvd0"), p(e, "aria-label", n[1]) }, m(o, a) { I(o, e, a), A(e, i), r || (s = Me(e, "click", n[3]), r = !0) }, p(o, [a]) { a & 1 && t !== (t = o[0].text + "") && me(i, t), a & 2 && p(e, "aria-label", o[1]) }, i: j, o: j, d(o) { o && _(e), r = !1, s() } } } function V7e(n, e, t) { let i, { item: r } = e, { ariaLabel: s = null } = e; const o = ot(); ce(n, o, c => t(4, i = c)); const a = sn(), l = kn("<ClearRecentlySearched>"), u = async () => { await io({ header: i.t("ASE.Web.Music.Search.RecentlySearched.ConfirmClear.Header"), message: i.t("ASE.Web.Music.Search.RecentlySearched.ConfirmClear.Message"), actionText: i.t("ASE.Web.Music.Search.RecentlySearched.ConfirmClear.ConfirmMessage"), confirmText: i.t("ASE.Web.Music.Cancel") }) ? a(r.segue) : l.info("Cancelled clear recently searched") }; return n.$$set = c => { "item" in c && t(0, r = c.item), "ariaLabel" in c && t(1, s = c.ariaLabel) }, [r, s, o, u] } class z7e extends oe { constructor(e) { super(), se(this, e, V7e, $7e, ye, { item: 0, ariaLabel: 1 }) } } function q7e(n) { let e, t; return e = new H7e({ props: { item: n[0].item } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.item = i[0].item), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function W7e(n) { let e, t; return e = new T7e({ props: { config: { ...n[0].item, isReversible: !0 } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.config = { ...i[0].item, isReversible: !0 }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function K7e(n) { let e, t; return e = new k7e({ props: { item: n[0].item } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.item = i[0].item), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function J7e(n) { let e, t; return e = new en({ props: { action: n[0].item.segue, $$slots: { default: [X7e] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.action = i[0].item.segue), r & 3 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function Y7e(n) { let e, t; return e = new z7e({ props: { item: n[0].item } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.item = i[0].item), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function X7e(n) { let e = n[0].item.text + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 1 && e !== (e = i[0].item.text + "") && me(t, e) }, d(i) { i && _(t) } } } function Z7e(n) { let e, t, i, r, s, o, a, l, u; const c = [Y7e, J7e, K7e, W7e, q7e], d = []; function f(g, h) { return h & 1 && (t = null), h & 1 && (i = null), h & 1 && (r = null), h & 1 && (s = null), h & 1 && (o = null), t == null && (t = !!Q7e(g[0])), t ? 0 : (i == null && (i = !!j7e(g[0])), i ? 1 : (r == null && (r = !!G7e(g[0])), r ? 2 : (s == null && (s = !!x7e(g[0])), s ? 3 : (o == null && (o = !!eEe(g[0])), o ? 4 : -1)))) } return ~(a = f(n, -1)) && (l = d[a] = c[a](n)), { c() { e = L("div"), l && l.c(), this.h() }, l(g) { e = T(g, "DIV", { class: !0, "data-testid": !0 }); var h = E(e); l && l.l(h), h.forEach(_), this.h() }, h() { p(e, "class", "accessory-button svelte-14ubqf2"), p(e, "data-testid", "accessory-button") }, m(g, h) { I(g, e, h), ~a && d[a].m(e, null), u = !0 }, p(g, [h]) { let m = a; a = f(g, h), a === m ? ~a && d[a].p(g, h) : (l && (te(), D(d[m], 1, 1, () => { d[m] = null }), ne()), ~a ? (l = d[a], l ? l.p(g, h) : (l = d[a] = c[a](g), l.c()), w(l, 1), l.m(e, null)) : l = null) }, i(g) { u || (w(l), u = !0) }, o(g) { D(l), u = !1 }, d(g) { g && _(e), ~a && d[a].d() } } } function Q7e(n) { return n.item.id === "clearButton" } function j7e(n) { return n.kind === "default" } function G7e(n) { return n.kind === "popover" } function x7e(n) { return n.kind === "contextMenu" } function eEe(n) { return n.kind === "refresh" } function tEe(n, e, t) { let { button: i } = e; return n.$$set = r => { "button" in r && t(0, i = r.button) }, [i] } class KB extends oe { constructor(e) { super(), se(this, e, tEe, Z7e, ye, { button: 0 }) } } function K4(n, e, t) { const i = n.slice(); return i[23] = e[t], i } function nEe(n) { let e = n[12].warn("unsupported header component:", n[1].kind, n[1]) + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 2 && e !== (e = i[12].warn("unsupported header component:", i[1].kind, i[1]) + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function iEe(n) { return { c: j, l: j, m: j, p: j, i: j, o: j, d: j } } function rEe(n) { let e, t; return e = new v7e({ props: { title: n[8] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 256 && (s.title = i[8]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function sEe(n) { var i; let e, t; return e = new WB({ props: { headline: n[9], title: n[8], subtitle: n[0], hasTitleLink: n[7], hasHeadlineLink: n[6], links: { title: (i = n[2]) == null ? void 0 : i.url }, $$slots: { buttons: [aEe], artwork: [oEe] }, $$scope: { ctx: n } } }), e.$on("headlineClick", function () { Ft(n[3]) && n[3].apply(this, arguments) }), e.$on("titleClick", function () { Ft(n[4]) && n[4].apply(this, arguments) }), { c() { V(e.$$.fragment) }, l(r) { q(e.$$.fragment, r) }, m(r, s) { H(e, r, s), t = !0 }, p(r, s) { var a; n = r; const o = {}; s & 512 && (o.headline = n[9]), s & 256 && (o.title = n[8]), s & 1 && (o.subtitle = n[0]), s & 128 && (o.hasTitleLink = n[7]), s & 64 && (o.hasHeadlineLink = n[6]), s & 4 && (o.links = { title: (a = n[2]) == null ? void 0 : a.url }), s & 67111968 && (o.$$scope = { dirty: s, ctx: n }), e.$set(o) }, i(r) { t || (w(e.$$.fragment, r), t = !0) }, o(r) { D(e.$$.fragment, r), t = !1 }, d(r) { $(e, r) } } } function J4(n) { let e, t, i; return t = new Gt({ props: { artwork: n[10], forceFullWidth: !1, profile: "track-list" } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0, "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "artwork-wrapper svelte-csow38"), p(e, "data-testid", "track-artwork"), J(e, "round", n[5] === "artist") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 1024 && (o.artwork = r[10]), t.$set(o), (!i || s & 32) && J(e, "round", r[5] === "artist") }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function oEe(n) { let e, t, i = n[10] && J4(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[10] ? i ? (i.p(r, s), s & 1024 && w(i, 1)) : (i = J4(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function Y4(n) { let e, t; return e = new KB({ props: { button: n[23] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2048 && (s.button = i[23]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function aEe(n) { let e, t, i = ut(n[11]), r = []; for (let o = 0; o < i.length; o += 1)r[o] = Y4(K4(n, i, o)); const s = o => D(r[o], 1, 1, () => { r[o] = null }); return { c() { for (let o = 0; o < r.length; o += 1)r[o].c(); e = re() }, l(o) { for (let a = 0; a < r.length; a += 1)r[a].l(o); e = re() }, m(o, a) { for (let l = 0; l < r.length; l += 1)r[l] && r[l].m(o, a); I(o, e, a), t = !0 }, p(o, a) { if (a & 2048) { i = ut(o[11]); let l; for (l = 0; l < i.length; l += 1) { const u = K4(o, i, l); r[l] ? (r[l].p(u, a), w(r[l], 1)) : (r[l] = Y4(u), r[l].c(), w(r[l], 1), r[l].m(e.parentNode, e)) } for (te(), l = i.length; l < r.length; l += 1)s(l); ne() } }, i(o) { if (!t) { for (let a = 0; a < i.length; a += 1)w(r[a]); t = !0 } }, o(o) { r = r.filter(Boolean); for (let a = 0; a < r.length; a += 1)D(r[a]); t = !1 }, d(o) { o && _(e), ln(r, o) } } } function lEe(n) { let e, t, i, r; const s = [sEe, rEe, iEe, nEe], o = []; function a(l, u) { return l[1].kind === "default" ? 0 : l[1].kind === "disc" ? 1 : l[1].kind === "composer" || l[1].kind === "column" ? 2 : 3 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, [u]) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function uEe(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h; var m, v, b, y, k, S; const C = kn("<Header>"); let { header: P } = e, { subtitle: M = null } = e; const R = sn(); function F(N) { var O; let B; if (N != null && N.segue && ws(N.segue)) { let U = N.segue.destination; (U == null ? void 0 : U.kind) === vt.CatalogItemDetailPage && (B = (O = U == null ? void 0 : U.contentDescriptor) === null || O === void 0 ? void 0 : O.kind) } return B } return n.$$set = N => { "header" in N && t(1, P = N.header), "subtitle" in N && t(0, M = N.subtitle) }, n.$$.update = () => { n.$$.dirty & 8194 && t(11, i = Di(P) && (t(13, m = P.item) === null || m === void 0 ? void 0 : m.accessoryButtons) || []), n.$$.dirty & 16386 && t(19, r = Di(P) && (t(14, v = P.item) === null || v === void 0 ? void 0 : v.headlineLink)), n.$$.dirty & 32770 && t(2, s = Di(P) && (t(15, b = P.item) === null || b === void 0 ? void 0 : b.titleLink)), n.$$.dirty & 65538 && t(20, o = Di(P) && (t(16, y = P.item) === null || y === void 0 ? void 0 : y.subtitles)), n.$$.dirty & 131074 && t(10, a = Di(P) && (t(17, k = P.item) === null || k === void 0 ? void 0 : k.artwork)), n.$$.dirty & 524288 && t(9, l = r == null ? void 0 : r.title), n.$$.dirty & 262150 && t(8, u = (s == null ? void 0 : s.title) || (t(18, S = P.item) === null || S === void 0 ? void 0 : S.title)), n.$$.dirty & 1048577 && t(0, M = o instanceof Array && o.length !== 0 ? o[0] : M), n.$$.dirty & 4 && t(7, c = !!(s != null && s.segue)), n.$$.dirty & 524288 && t(6, d = !!(r != null && r.segue)), n.$$.dirty & 4 && t(5, f = F(s)), n.$$.dirty & 4 && t(4, g = () => R(s == null ? void 0 : s.segue)), n.$$.dirty & 524288 && t(3, h = () => R(r == null ? void 0 : r.segue)) }, [M, P, s, h, g, f, d, c, u, l, a, i, C, m, v, b, y, k, S, r, o] } class JB extends oe { constructor(e) { super(), se(this, e, uEe, lEe, ye, { header: 1, subtitle: 0 }) } } function X4(n) { let e, t, i; return t = new Ki({ props: { playAction: n[12], ariaLabel: n[9] } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { "data-testid": !0, class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "data-testid", "play-button"), p(e, "class", "play-button menu-button svelte-1qus7j1") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 4096 && (o.playAction = r[12]), s & 512 && (o.ariaLabel = r[9]), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function Z4(n) { let e, t; return { c() { e = L("li"), t = le(n[15]), this.h() }, l(i) { e = T(i, "LI", { class: !0, "data-testid": !0 }); var r = E(e); t = ue(r, n[15]), r.forEach(_), this.h() }, h() { p(e, "class", "latest-release__headline svelte-1qus7j1"), p(e, "data-testid", "latest-release-headline") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 32768 && me(t, i[15]) }, d(i) { i && _(e) } } } function cEe(n) { let e; return { c() { e = le(n[3]) }, l(t) { e = ue(t, n[3]) }, m(t, i) { I(t, e, i) }, p(t, i) { i & 8 && me(e, t[3]) }, d(t) { t && _(e) } } } function Q4(n) { let e, t; return e = new ya({}), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function j4(n) { let e, t; return { c() { e = L("li"), t = le(n[14]), this.h() }, l(i) { e = T(i, "LI", { class: !0, "data-testid": !0 }); var r = E(e); t = ue(r, n[14]), r.forEach(_), this.h() }, h() { p(e, "class", "latest-release__subtitle svelte-1qus7j1"), p(e, "data-testid", "latest-release-subtitle") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 16384 && me(t, i[14]) }, d(i) { i && _(e) } } } function dEe(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F, N; r = new Gt({ props: { artwork: n[13], profile: n[10], fallbackKind: n[1], forceFullWidth: !1 } }); let O = n[12] && X4(n); u = new ls({ props: { attachedTo: n[0].contentDescriptor, isPlayable: n[12] !== null, itemProperties: { title: n[15], subtitleLinks: [{ title: n[0].subtitle }], artwork: n[0].artwork } } }), u.$on("contextMenuVisibilityChange", n[17]); let B = n[15] && Z4(n); m = new en({ props: { action: n[5], $$slots: { default: [cEe] }, $$scope: { ctx: n } } }), b = new us({ props: { inFavorites: n[7] } }); let U = n[2] && Q4(), K = n[14] && j4(n); return P = new Bc({ props: { contentDescriptor: n[0].contentDescriptor, isPlayable: n[12] !== null, itemProperties: null, hideContextualMenu: !0 } }), { c() { e = L("div"), t = L("div"), i = L("div"), V(r.$$.fragment), s = Y(), o = L("div"), O && O.c(), a = Y(), l = L("div"), V(u.$$.fragment), c = Y(), d = L("ul"), B && B.c(), f = Y(), g = L("div"), h = L("li"), V(m.$$.fragment), v = Y(), V(b.$$.fragment), y = Y(), U && U.c(), k = Y(), K && K.c(), S = Y(), C = L("li"), V(P.$$.fragment), this.h() }, l(W) { e = T(W, "DIV", { class: !0, "data-testid": !0 }); var Z = E(e); t = T(Z, "DIV", { class: !0 }); var Q = E(t); i = T(Q, "DIV", { class: !0 }); var G = E(i); q(r.$$.fragment, G), G.forEach(_), s = X(Q), o = T(Q, "DIV", { "data-testid": !0, class: !0 }); var ae = E(o); O && O.l(ae), a = X(ae), l = T(ae, "DIV", { "data-testid": !0, class: !0 }); var ee = E(l); q(u.$$.fragment, ee), ee.forEach(_), ae.forEach(_), Q.forEach(_), c = X(Z), d = T(Z, "UL", { class: !0 }); var pe = E(d); B && B.l(pe), f = X(pe), g = T(pe, "DIV", { class: !0 }); var ke = E(g); h = T(ke, "LI", { class: !0, "data-testid": !0 }); var we = E(h); q(m.$$.fragment, we), we.forEach(_), v = X(ke), q(b.$$.fragment, ke), y = X(ke), U && U.l(ke), ke.forEach(_), k = X(pe), K && K.l(pe), S = X(pe), C = T(pe, "LI", { class: !0 }); var Te = E(C); q(P.$$.fragment, Te), Te.forEach(_), pe.forEach(_), Z.forEach(_), this.h() }, h() { p(i, "class", "latest-release-artwork svelte-1qus7j1"), p(l, "data-testid", "context-button"), p(l, "class", "context-button menu-button svelte-1qus7j1"), p(o, "data-testid", "control"), p(o, "class", "controls svelte-1qus7j1"), p(t, "class", "artwork-wrapper svelte-1qus7j1"), J(t, "has-open-menu", n[6]), p(h, "class", "latest-release__title svelte-1qus7j1"), p(h, "data-testid", "latest-release-title"), J(h, "latest-release__title--explicit", n[2]), J(h, "latest-release__title--favorited", n[7]), p(g, "class", "latest-release__container svelte-1qus7j1"), p(C, "class", "latest-release__add svelte-1qus7j1"), p(d, "class", "lockup-lines svelte-1qus7j1"), p(e, "class", "latest-release svelte-1qus7j1"), p(e, "data-testid", "artist-latest-release"), J(e, "latest-release--video", n[4]) }, m(W, Z) { I(W, e, Z), A(e, t), A(t, i), H(r, i, null), A(t, s), A(t, o), O && O.m(o, null), A(o, a), A(o, l), H(u, l, null), A(e, c), A(e, d), B && B.m(d, null), A(d, f), A(d, g), A(g, h), H(m, h, null), A(g, v), H(b, g, null), A(g, y), U && U.m(g, null), A(d, k), K && K.m(d, null), A(d, S), A(d, C), H(P, C, null), R = !0, F || (N = [Me(t, "click", function () { Ft(n[11]) && n[11].apply(this, arguments) }), Ut(M = pl.call(null, e, { dragEnabled: !0, dragData: { items: [n[0].contentDescriptor] }, isContainer: ef.includes(n[1]), badgeCount: n[0].trackCount }))], F = !0) }, p(W, [Z]) { n = W; const Q = {}; Z & 8192 && (Q.artwork = n[13]), Z & 1024 && (Q.profile = n[10]), Z & 2 && (Q.fallbackKind = n[1]), r.$set(Q), n[12] ? O ? (O.p(n, Z), Z & 4096 && w(O, 1)) : (O = X4(n), O.c(), w(O, 1), O.m(o, a)) : O && (te(), D(O, 1, 1, () => { O = null }), ne()); const G = {}; Z & 1 && (G.attachedTo = n[0].contentDescriptor), Z & 4096 && (G.isPlayable = n[12] !== null), Z & 32769 && (G.itemProperties = { title: n[15], subtitleLinks: [{ title: n[0].subtitle }], artwork: n[0].artwork }), u.$set(G), (!R || Z & 64) && J(t, "has-open-menu", n[6]), n[15] ? B ? B.p(n, Z) : (B = Z4(n), B.c(), B.m(d, f)) : B && (B.d(1), B = null); const ae = {}; Z & 32 && (ae.action = n[5]), Z & 33554440 && (ae.$$scope = { dirty: Z, ctx: n }), m.$set(ae), (!R || Z & 4) && J(h, "latest-release__title--explicit", n[2]), (!R || Z & 128) && J(h, "latest-release__title--favorited", n[7]); const ee = {}; Z & 128 && (ee.inFavorites = n[7]), b.$set(ee), n[2] ? U ? Z & 4 && w(U, 1) : (U = Q4(), U.c(), w(U, 1), U.m(g, null)) : U && (te(), D(U, 1, 1, () => { U = null }), ne()), n[14] ? K ? K.p(n, Z) : (K = j4(n), K.c(), K.m(d, S)) : K && (K.d(1), K = null); const pe = {}; Z & 1 && (pe.contentDescriptor = n[0].contentDescriptor), Z & 4096 && (pe.isPlayable = n[12] !== null), P.$set(pe), M && Ft(M.update) && Z & 3 && M.update.call(null, { dragEnabled: !0, dragData: { items: [n[0].contentDescriptor] }, isContainer: ef.includes(n[1]), badgeCount: n[0].trackCount }), (!R || Z & 16) && J(e, "latest-release--video", n[4]) }, i(W) { R || (w(r.$$.fragment, W), w(O), w(u.$$.fragment, W), w(m.$$.fragment, W), w(b.$$.fragment, W), w(U), w(P.$$.fragment, W), R = !0) }, o(W) { D(r.$$.fragment, W), D(O), D(u.$$.fragment, W), D(m.$$.fragment, W), D(b.$$.fragment, W), D(U), D(P.$$.fragment, W), R = !1 }, d(W) { W && _(e), $(r), O && O.d(), $(u), B && B.d(), $(m), $(b), U && U.d(), K && K.d(), $(P), F = !1, Ot(N) } } } function fEe(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k = j, S = () => (k(), k = yn(v, K => t(21, y = K)), v), C; n.$$.on_destroy.push(() => k()); var P, M; const R = ot(); ce(n, R, K => t(22, C = K)); const F = sn(), N = Qn(); let { lockup: O } = e, B = !1; function U(K) { var W; t(6, B = (W = K.detail) === null || W === void 0 ? void 0 : W.open) } return mn(() => { N.unsubscribeFromUpdates(i) }), n.$$set = K => { "lockup" in K && t(0, O = K.lockup) }, n.$$.update = () => { n.$$.dirty & 1 && t(20, i = Qt(O)), n.$$.dirty & 262145 && t(1, r = t(18, P = O.contentDescriptor) === null || P === void 0 ? void 0 : P.kind), n.$$.dirty & 2 && t(4, s = Mc.includes(r)), n.$$.dirty & 1 && t(15, o = O.headline), n.$$.dirty & 1 && t(3, a = O.title), n.$$.dirty & 1 && t(14, l = O.subtitle), n.$$.dirty & 1 && t(2, u = O.showExplicitBadge), n.$$.dirty & 1 && t(13, c = O.artwork), n.$$.dirty & 1 && t(5, d = O.segue), n.$$.dirty & 1 && t(12, f = O.playAction), n.$$.dirty & 32 && t(11, g = () => F(d)), n.$$.dirty & 16 && t(10, h = s ? "featured-episode-video" : "episode-lockup"), n.$$.dirty & 4194316 && t(9, m = (() => { const K = `${C.t("ASE.Web.Music.Play")} ${a}`; return u ? C.t("ASE.Web.Music.ContentA.Comma.ContentB", { contentA: C.t("ASE.Web.Music.Explicit"), contentB: K }) : K })()), n.$$.dirty & 1048576 && S(t(8, v = N.subscribeToUpdates(i))), n.$$.dirty & 3670018 && t(7, b = y && (t(19, M = N.get(i, r)) === null || M === void 0 ? void 0 : M.inFavorites)) }, [O, r, u, a, s, d, B, b, v, m, h, g, f, c, l, o, R, U, P, M, i, y, C] } class gEe extends oe { constructor(e) { super(), se(this, e, fEe, dEe, ye, { lockup: 0 }) } } function hEe() { let n = { GRID_MAX_CONTENT: { A: { xsmall: "298px" }, B: { xsmall: "298px" }, C: { xsmall: "200px" }, D: { xsmall: "144px" }, E: { xsmall: "144px" }, F: { xsmall: "270px" }, G: { xsmall: "144px" }, H: { xsmall: "94px" }, I: { xsmall: "144px" }, EllipseA: {}, Spotlight: {}, Single: {}, "1-1-2-3": {}, "2-2-3-4": { xsmall: "270px" }, "1-2-2-2": {} }, GRID_COL_GAP: {}, GRID_ROW_GAP: { None: { xsmall: 0, small: 0, medium: 0, large: 0, xlarge: 0 }, "1-2-2-2": { xsmall: 0, small: 0, medium: 0, large: 0, xlarge: 0 } }, GRID_VALUES: { A: { xsmall: null, small: 2, medium: 2, large: 3, xlarge: 3 }, B: { xsmall: null, small: 2, medium: 3, large: 4, xlarge: 4 }, C: { xsmall: null, small: 3, medium: 4, large: 5, xlarge: 5 }, D: { xsmall: null, small: 4, medium: 5, large: 8, xlarge: 8 }, E: { xsmall: null, small: 5, medium: 9, large: 10, xlarge: 10 }, F: { xsmall: null, small: 2, medium: 3, large: 3, xlarge: 3 }, G: { xsmall: null, small: 4, medium: 5, large: 6, xlarge: 6 }, H: { xsmall: null, small: 6, medium: 8, large: 10, xlarge: 10 }, I: { xsmall: null, small: 5, medium: 6, large: 8, xlarge: 8 }, Single: { xsmall: 1, small: 1, medium: 1, large: 1, xlarge: 1 }, EllipseA: { xsmall: 2, small: 4, medium: 6, large: 6, xlarge: 6 }, Spotlight: { xsmall: 1, small: 1, medium: 1, large: 1, xlarge: 1 }, "1-1-2-3": { xsmall: 1, small: 1, medium: 2, large: 3, xlarge: 3 }, "2-2-3-4": { xsmall: 2, small: 2, medium: 3, large: 4, xlarge: 4 }, "1-2-2-2": { xsmall: 1, small: 2, medium: 2, large: 2, xlarge: 2 } } }; return { set: i => { n = { ...n, ...i } }, get: () => n } } const gh = hEe(), _f = 20, mEe = 10, pEe = 24, YB = gh.get(), { GRID_MAX_CONTENT: zm, GRID_VALUES: md, GRID_ROW_GAP: pd, GRID_COL_GAP: _Ee } = YB; gh.set({ ...YB, GRID_MAX_CONTENT: { ...zm, EpisodeLockup: zm.A, "music-radio": { xsmall: "220px" }, TrackLockupsShelf: zm["2-2-3-4"], TrackLockupsShelfNarrow: { xsmall: "calc(100% - var(--bodyGutter))" }, PlaylistCoverArt: { xsmall: "150px", small: "150px", medium: "150px", large: "150px", xlarge: "150px" } }, GRID_VALUES: { ...md, EpisodeLockup: md.A, "music-radio": { xsmall: null, small: 3, medium: 3, large: 3, xlarge: 3 }, TrackLockupsShelf: md["2-2-3-4"], TrackLockupsShelfNarrow: md["1-1-2-3"], PlaylistCoverArt: { xsmall: 3, small: 3, medium: 3, large: 3, xlarge: 3 } }, GRID_COL_GAP: { ..._Ee, TrackLockupsShelfNarrow: { xsmall: _f }, PlaylistCoverArt: { xsmall: 10, small: 10, medium: 10, large: 10, xlarge: 10 } }, GRID_ROW_GAP: { ...pd, EpisodeLockup: pd.None, TrackLockupsShelf: pd.None, TrackLockupsShelfNarrow: pd.None } }); const qm = { bubbleLockup: { gridType: "H", overrides: { large: { gridType: "C" } } }, flowcaseLockup: { gridType: "A", arrowOffset: [{ direction: "top", offset: 38 }] }, horizontalLockup: { gridType: "B", overrides: { large: { gridType: "Single" } } }, horizontalPosterLockup: { gridType: "music-radio", fullHeightLockup: !0, stackXSItems: !0, overflowBleedBottom: "26px", aspectRatioOverride: { type: "dominant" } }, posterLockup: { gridType: "C", fullHeightLockup: !0, arrowOffset: [{ direction: "bottom", offset: 32 }], alignItems: !0, aspectRatioOverride: { type: "fixed", aspectRatio: "1.00" } }, squareLockup: { gridType: "G", arrowOffset: [{ direction: "bottom", offset: 25 }], overrides: { large: { gridType: "C" } } }, verticalVideoLockup: { gridType: "C", overrides: { large: { gridType: "B" } }, arrowOffset: [{ direction: "bottom", offset: 32 }] }, trackLockup: { gridType: "TrackLockupsShelf" }, trackLockupNarrow: { gridType: "TrackLockupsShelfNarrow" } }, vEe = ["squareLockup", "verticalVideoLockup", "horizontalLockup", "bubbleLockup"]; function bEe(n, e) { const t = vEe.includes(n); let i = ""; return t && e && (i = e.displayStyle || ""), i } function yEe(n, e = !1, t) { var u; const i = t.length > 0 ? t[0] : null, r = e && qm.hasOwnProperty(`${n}Narrow`) ? qm[`${n}Narrow`] : qm[n], s = bEe(n, i), o = r || {}, a = ((u = r == null ? void 0 : r.overrides) == null ? void 0 : u[s]) || {}, l = { ...o, ...a }; return l == null || delete l.overrides, l } function wEe(n) { let e, t, i = [{ viewBox: "0 0 9 31" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M5.275 29.46a1.61 1.61 0 0 0 1.456 1.077c1.018 0 1.772-.737 1.772-1.737 0-.526-.277-1.186-.449-1.62l-4.68-11.912L8.05 3.363c.172-.442.45-1.116.45-1.625A1.702 1.702 0 0 0 6.728.002a1.603 1.603 0 0 0-1.456 1.09L.675 12.774c-.301.775-.677 1.744-.677 2.495 0 .754.376 1.705.677 2.498L5.272 29.46Z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ viewBox: "0 0 9 31" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function kEe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let G4 = class extends oe { constructor(e) { super(), se(this, e, kEe, wEe, ht, {}) } }; const DEe = n => ({}), x4 = n => ({}), SEe = n => ({}), eS = n => ({}); function CEe(n) { let e; const t = n[15]["shelf-content"], i = We(t, n, n[14], x4); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 16384) && Je(i, t, r, r[14], e ? Ke(t, r[14], s, DEe) : Ye(r[14]), x4) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function PEe(n) { let e, t, i, r, s, o, a, l, u, c, d; t = new G4({}); let f = [n[1], { type: "button" }, { class: "shelf-grid-nav__arrow shelf-grid-nav__arrow--left" }, { "data-testid": "shelf-button-left" }, { style: i = "--offset: " + n[4] + ";" }], g = {}; for (let y = 0; y < f.length; y += 1)g = fe(g, f[y]); const h = n[15]["shelf-content"], m = We(h, n, n[14], eS); a = new G4({}); let v = [n[3], { type: "button" }, { class: "shelf-grid-nav__arrow shelf-grid-nav__arrow--right" }, { "data-testid": "shelf-button-right" }, { style: l = "--offset: " + n[4] + ";" }], b = {}; for (let y = 0; y < v.length; y += 1)b = fe(b, v[y]); return { c() { e = L("button"), V(t.$$.fragment), r = Y(), m && m.c(), s = Y(), o = L("button"), V(a.$$.fragment), this.h() }, l(y) { e = T(y, "BUTTON", { type: !0, class: !0, "data-testid": !0, style: !0 }); var k = E(e); q(t.$$.fragment, k), k.forEach(_), r = X(y), m && m.l(y), s = X(y), o = T(y, "BUTTON", { type: !0, class: !0, "data-testid": !0, style: !0 }); var S = E(o); q(a.$$.fragment, S), S.forEach(_), this.h() }, h() { Fi(e, g), J(e, "svelte-1xmivhv", !0), Fi(o, b), J(o, "svelte-1xmivhv", !0) }, m(y, k) { I(y, e, k), H(t, e, null), e.autofocus && e.focus(), I(y, r, k), m && m.m(y, k), I(y, s, k), I(y, o, k), H(a, o, null), o.autofocus && o.focus(), u = !0, c || (d = [Me(e, "click", function () { Ft(n[0]) && n[0].apply(this, arguments) }), Me(o, "click", function () { Ft(n[2]) && n[2].apply(this, arguments) })], c = !0) }, p(y, k) { n = y, Fi(e, g = at(f, [k & 2 && n[1], { type: "button" }, { class: "shelf-grid-nav__arrow shelf-grid-nav__arrow--left" }, { "data-testid": "shelf-button-left" }, (!u || k & 16 && i !== (i = "--offset: " + n[4] + ";")) && { style: i }])), J(e, "svelte-1xmivhv", !0), m && m.p && (!u || k & 16384) && Je(m, h, n, n[14], u ? Ke(h, n[14], k, SEe) : Ye(n[14]), eS), Fi(o, b = at(v, [k & 8 && n[3], { type: "button" }, { class: "shelf-grid-nav__arrow shelf-grid-nav__arrow--right" }, { "data-testid": "shelf-button-right" }, (!u || k & 16 && l !== (l = "--offset: " + n[4] + ";")) && { style: l }])), J(o, "svelte-1xmivhv", !0) }, i(y) { u || (w(t.$$.fragment, y), w(m, y), w(a.$$.fragment, y), u = !0) }, o(y) { D(t.$$.fragment, y), D(m, y), D(a.$$.fragment, y), u = !1 }, d(y) { y && (_(e), _(r), _(s), _(o)), $(t), m && m.d(y), $(a), c = !1, Ot(d) } } } function AEe(n) { let e, t, i, r; const s = [PEe, CEe], o = []; function a(l, u) { return l[5] ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, [u]) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function EEe(n, e, t) {
    let i, r, s, o, a, l, u, c, { $$slots: d = {}, $$scope: f } = e, { translateFn: g } = e, { headerHeight: h } = e, { arrowOffset: m } = e, { hasNextPage: v } = e, { hasPreviousPage: b } = e, { isRTL: y } = e; const k = { PREVIOUS: "previous", NEXT: "next" }, S = It(), C = () => S(k.NEXT), P = () => S(k.PREVIOUS); return n.$$set = M => { "translateFn" in M && t(6, g = M.translateFn), "headerHeight" in M && t(7, h = M.headerHeight), "arrowOffset" in M && t(8, m = M.arrowOffset), "hasNextPage" in M && t(9, v = M.hasNextPage), "hasPreviousPage" in M && t(10, b = M.hasPreviousPage), "isRTL" in M && t(11, y = M.isRTL), "$$scope" in M && t(14, f = M.$$scope) }, n.$$.update = () => {
        n.$$.dirty & 1536 && t(5, i = b || v), n.$$.dirty & 384 && t(4, r = (() => {
            let M = "0px"; return m && m.length && m.forEach(({ direction: R, offset: F }) => {
                R == "top" ? M = `
                        ${F}px;
                    `: M = `
                        calc(${F}px * -1);
                    `}), h && (M = `
                ${h}px;
            `), M
        })()), n.$$.dirty & 576 && t(13, s = { disabled: !v, "aria-label": g("AMP.Shared.NextPage") }), n.$$.dirty & 1088 && t(12, o = { disabled: !b, "aria-label": g("AMP.Shared.PreviousPage") }), n.$$.dirty & 14336 && t(3, a = y ? o : s), n.$$.dirty & 2048 && t(2, l = y ? P : C), n.$$.dirty & 14336 && t(1, u = y ? s : o), n.$$.dirty & 2048 && t(0, c = y ? C : P)
    }, [c, u, l, a, r, i, g, h, m, v, b, y, o, s, f, d]
} class IEe extends oe { constructor(e) { super(), se(this, e, EEe, AEe, ye, { translateFn: 6, headerHeight: 7, arrowOffset: 8, hasNextPage: 9, hasPreviousPage: 10, isRTL: 11 }) } } const MEe = (n, e, t) => { const i = e[n], r = t[n], s = []; return r ? s.push(`--grid-max-content-${n}: ${r};`) : i && s.push(`--grid-${n}: ${i};`), s }, LEe = (n, e, t) => { var s, o; const i = [], r = n === "xsmall" ? mEe : _f; return i.push(`--grid-column-gap-${n}: ${(s = e[n]) != null ? s : r}px;`), i.push(`--grid-row-gap-${n}: ${(o = t[n]) != null ? o : pEe}px;`), i }, TEe = n => { const { GRID_VALUES: e, GRID_MAX_CONTENT: t, GRID_COL_GAP: i, GRID_ROW_GAP: r } = gh.get(), s = e[n], o = t[n], a = r[n] || {}, l = i[n] || {}, u = Object.keys(s); let c = []; return u.forEach(d => { const f = MEe(d, s, o), g = LEe(d, l, a); c = [...c, ...f, ...g] }), c.join(" ") }, REe = (n, e) => { const i = n.target.dataset.index, r = n.isIntersecting, s = "0", o = `${e}`; return [i === s ? r : null, i === o ? r : null] }; class FEe { constructor() { He(this, "visibleShelfEntries", new Set); He(this, "lowestIndexInVisibleShelf"); He(this, "highestIndexInVisibleShelf") } enterValue(e) { this.visibleShelfEntries.add(e), this.setMinAndMaxValuesOfViewport() } exitValue(e) { this.visibleShelfEntries.delete(e), this.setMinAndMaxValuesOfViewport() } setMinAndMaxValuesOfViewport() { this.lowestIndexInVisibleShelf = Math.min(...this.visibleShelfEntries), this.highestIndexInVisibleShelf = Math.max(...this.visibleShelfEntries) } getViewport() { const e = this.lowestIndexInVisibleShelf, t = this.highestIndexInVisibleShelf; return typeof e == "number" && typeof t == "number" ? [e, t] : null } } const OEe = 468, Wm = typeof window < "u" ? window.HTMLElement || window.Element : null; let Km; function NEe(n) { return .5 * (1 - Math.cos(Math.PI * n)) } var AP; const XB = typeof window < "u" && ((AP = window == null ? void 0 : window.performance) != null && AP.now) ? window.performance.now.bind(window.performance) : Date.now; function BEe(n) { this.scrollLeft = n } function ZB(n) { let t = (XB() - n.startTime) / OEe; t = Math.min(1, t); const i = NEe(t), r = n.startX + (n.x - n.startX) * i; n.method.call(n.scrollable, r), r !== n.x && window.requestAnimationFrame(ZB.bind(window, n)) } function UEe(n, e) { const t = XB(), i = n.scrollLeft; ZB({ scrollable: n, method: BEe, startTime: t, startX: i, x: e }) } let tS = !1; function HEe() { if ("scrollBehavior" in document.documentElement.style || tS) return; const n = window.matchMedia("(prefers-reduced-motion: reduce)"); function e() { if (n.matches) { Km && (Wm.prototype.scrollBy = Km); return } function t(i, r) { let s = 0; typeof i == "number" ? s = i : typeof i == "object" && (s = i.left || 0); const o = this.scrollLeft + s; UEe(this, o) } Km = Wm.prototype.scrollBy, Wm.prototype.scrollBy = t } n.addListener(e), e(), tS = !0 } function $Ee(n, e) { let t; function i(r) { t === r || !r || (t && t.unobserve(n), r.observe(n), t = r) } return i(e), { update: i, destroy() { t == null || t.unobserve(n) } } } const VEe = n => ({ isRendered: n & 1 }), nS = n => ({ isRendered: n[0] }); function zEe(n) { let e; const t = n[5].default, i = We(t, n, n[4], nS); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, [s]) { i && i.p && (!e || s & 17) && Je(i, t, r, r[4], e ? Ke(t, r[4], s, VEe) : Ye(r[4]), nS) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function qEe(n, e, t) { let i, r, { $$slots: s = {}, $$scope: o } = e, { index: a } = e, { visibleStore: l } = e; const u = To(), c = (m, v, b) => b >= m && b <= v; let { startIndex: d, endIndex: f } = $t(l); const g = l.subscribe(m => { const { startIndex: v, endIndex: b } = m, y = c(v, b, a); y && !i && u.add(() => { t(0, i = y) }) }); function h() { r && (g(), t(3, r = !1)) } return mn(() => { h() }), n.$$set = m => { "index" in m && t(1, a = m.index), "visibleStore" in m && t(2, l = m.visibleStore), "$$scope" in m && t(4, o = m.$$scope) }, n.$$.update = () => { n.$$.dirty & 2 && t(0, i = c(d, f, a)), n.$$.dirty & 9 && r && i && u.add(() => { h() }) }, t(3, r = !0), [i, a, l, r, o, s] } class WEe extends oe { constructor(e) { super(), se(this, e, qEe, zEe, ye, { index: 1, visibleStore: 2 }) } } const KEe = () => { const { subscribe: n, update: e } = Tt({ startIndex: 0, endIndex: 0 }); return { subscribe: n, updateStartIndex: t => e(i => ({ ...i, startIndex: t })), updateEndIndex: t => e(i => ({ ...i, endIndex: t })) } }, JEe = n => { const { GRID_VALUES: e } = gh.get(), t = e[n], i = [...Object.values(t)].filter(r => typeof r == "number"); return Math.max(...i) }; function iS(n, e, t) { var s, o; const i = n.slice(); i[47] = e[t], i[50] = t; const r = i[50] >= ((s = i[16]) == null ? void 0 : s[0]) && i[50] <= ((o = i[16]) == null ? void 0 : o[1]); return i[48] = r, i } const YEe = n => ({ item: n[0] & 4, index: n[0] & 4, numberOfItems: n[0] & 4 }), rS = n => ({ item: n[47], index: n[50], numberOfItems: n[2].length }), XEe = n => ({}), sS = n => ({}); function oS(n) { let e, t, i; const r = n[35].header, s = We(r, n, n[39], sS); return { c() { e = L("div"), s && s.c(), this.h() }, l(o) { e = T(o, "DIV", { class: !0 }); var a = E(e); s && s.l(a), a.forEach(_), this.h() }, h() { p(e, "class", "shelf-grid__header svelte-12rmzef"), Jr(() => n[36].call(e)) }, m(o, a) { I(o, e, a), s && s.m(e, null), t = wf(e, n[36].bind(e)), i = !0 }, p(o, a) { s && s.p && (!i || a[1] & 256) && Je(s, r, o, o[39], i ? Ke(r, o[39], a, XEe) : Ye(o[39]), sS) }, i(o) { i || (w(s, o), i = !0) }, o(o) { D(s, o), i = !1 }, d(o) { o && _(e), s && s.d(o), t() } } } function aS(n) { let e, t, i, r, s; const o = n[35].item, a = We(o, n, n[39], rS); return { c() { e = L("div"), a && a.c(), this.h() }, l(l) { e = T(l, "DIV", { class: !0 }); var u = E(e); a && a.l(u), u.forEach(_), this.h() }, h() { p(e, "class", "svelte-12rmzef") }, m(l, u) { I(l, e, u), a && a.m(e, null), i = !0, r || (s = Ut(t = c0.call(null, e, n[48])), r = !0) }, p(l, u) { n = l, a && a.p && (!i || u[0] & 4 | u[1] & 256) && Je(a, o, n, n[39], i ? Ke(o, n[39], u, YEe) : Ye(n[39]), rS), t && Ft(t.update) && u[0] & 65540 && t.update.call(null, n[48]) }, i(l) { i || (w(a, l), i = !0) }, o(l) { D(a, l), i = !1 }, d(l) { l && _(e), a && a.d(l), r = !1, s() } } } function ZEe(n) { let e, t, i, r, s, o, a, l, u = n[51] && aS(n); return { c() { e = L("li"), u && u.c(), s = Y(), this.h() }, l(c) { e = T(c, "LI", { class: !0, "data-index": !0, "aria-hidden": !0 }); var d = E(e); u && u.l(d), d.forEach(_), s = X(c), this.h() }, h() { p(e, "class", "shelf-grid__list-item svelte-12rmzef"), p(e, "data-index", t = n[50]), p(e, "aria-hidden", i = n[48] ? "false" : "true"), J(e, "placeholder", !n[51]), J(e, "shelf-grid__list-item--stack-xs-items", n[7]) }, m(c, d) { I(c, e, d), u && u.m(e, null), I(c, s, d), o = !0, a || (l = Ut(r = $Ee.call(null, e, n[15])), a = !0) }, p(c, d) { c[51] ? u ? (u.p(c, d), d[1] & 1048576 && w(u, 1)) : (u = aS(c), u.c(), w(u, 1), u.m(e, null)) : u && (te(), D(u, 1, 1, () => { u = null }), ne()), (!o || d[0] & 4 && t !== (t = c[50])) && p(e, "data-index", t), (!o || d[0] & 65540 && i !== (i = c[48] ? "false" : "true")) && p(e, "aria-hidden", i), r && Ft(r.update) && d[0] & 32768 && r.update.call(null, c[15]), (!o || d[1] & 1048576) && J(e, "placeholder", !c[51]), (!o || d[0] & 128) && J(e, "shelf-grid__list-item--stack-xs-items", c[7]) }, i(c) { o || (w(u), o = !0) }, o(c) { D(u), o = !1 }, d(c) { c && (_(e), _(s)), u && u.d(), a = !1, l() } } } function lS(n, e) { let t, i, r; return i = new WEe({ props: { index: e[50], visibleStore: e[21], $$slots: { default: [ZEe, ({ isRendered: s }) => ({ 51: s }), ({ isRendered: s }) => [0, s ? 1048576 : 0]] }, $$scope: { ctx: e } } }), { key: n, first: null, c() { t = re(), V(i.$$.fragment), this.h() }, l(s) { t = re(), q(i.$$.fragment, s), this.h() }, h() { this.first = t }, m(s, o) { I(s, t, o), H(i, s, o), r = !0 }, p(s, o) { e = s; const a = {}; o[0] & 4 && (a.index = e[50]), o[0] & 98436 | o[1] & 1048832 && (a.$$scope = { dirty: o, ctx: e }), i.$set(a) }, i(s) { r || (w(i.$$.fragment, s), r = !0) }, o(s) { D(i.$$.fragment, s), r = !1 }, d(s) { s && _(t), $(i, s) } } } function QEe(n) { let e, t = [], i = new Map, r, s, o, a, l, u = ut(n[2]); const c = d => d[20](d[47], d[50]); for (let d = 0; d < u.length; d += 1) { let f = iS(n, u, d), g = c(f); i.set(g, t[d] = lS(g, f)) } return { c() { e = L("ul"); for (let d = 0; d < t.length; d += 1)t[d].c(); this.h() }, l(d) { e = T(d, "UL", { slot: !0, class: !0, role: !0, tabindex: !0, "data-testid": !0 }); var f = E(e); for (let g = 0; g < t.length; g += 1)t[g].l(f); f.forEach(_), this.h() }, h() { p(e, "slot", "shelf-content"), p(e, "class", r = ys(`shelf-grid__list shelf-grid__list--grid-type-${n[3]} shelf-grid__list--grid-rows-${n[4]}`) + " svelte-12rmzef"), p(e, "role", "list"), p(e, "tabindex", "-1"), p(e, "data-testid", "shelf-item-list"), J(e, "shelf-grid__list--align-items-end", n[6]), J(e, "shelf-grid__list--stack-xs-items", n[7]) }, m(d, f) { I(d, e, f); for (let g = 0; g < t.length; g += 1)t[g] && t[g].m(e, null); n[37](e), o = !0, a || (l = [Me(e, "scroll", n[23]), Ut(s = n[22].call(null, e, n[2]))], a = !0) }, p(d, f) { f[0] & 2195588 | f[1] & 1048832 && (u = ut(d[2]), te(), t = lr(t, f, c, 1, d, u, i, e, Ir, lS, null, iS), ne()), (!o || f[0] & 24 && r !== (r = ys(`shelf-grid__list shelf-grid__list--grid-type-${d[3]} shelf-grid__list--grid-rows-${d[4]}`) + " svelte-12rmzef")) && p(e, "class", r), s && Ft(s.update) && f[0] & 4 && s.update.call(null, d[2]), (!o || f[0] & 88) && J(e, "shelf-grid__list--align-items-end", d[6]), (!o || f[0] & 152) && J(e, "shelf-grid__list--stack-xs-items", d[7]) }, i(d) { if (!o) { for (let f = 0; f < u.length; f += 1)w(t[f]); o = !0 } }, o(d) { for (let f = 0; f < t.length; f += 1)D(t[f]); o = !1 }, d(d) { d && _(e); for (let f = 0; f < t.length; f += 1)t[f].d(); n[37](null), a = !1, Ot(l) } } } function jEe(n) { let e, t, i, r, s, o = n[24].header && oS(n); return r = new IEe({ props: { headerHeight: n[9], translateFn: n[0], arrowOffset: n[5], hasNextPage: n[13], hasPreviousPage: n[12], isRTL: n[8], $$slots: { "shelf-content": [QEe] }, $$scope: { ctx: n } } }), r.$on("next", function () { Ft(n[18]) && n[18].apply(this, arguments) }), r.$on("previous", function () { Ft(n[17]) && n[17].apply(this, arguments) }), { c() { e = L("section"), o && o.c(), t = Y(), i = L("div"), V(r.$$.fragment), this.h() }, l(a) { e = T(a, "SECTION", { id: !0, "data-testid": !0, class: !0, style: !0 }); var l = E(e); o && o.l(l), t = X(l), i = T(l, "DIV", { class: !0, "data-testid": !0 }); var u = E(i); q(r.$$.fragment, u), u.forEach(_), l.forEach(_), this.h() }, h() { p(i, "class", "shelf-grid__body svelte-12rmzef"), p(i, "data-testid", "shelf-body"), p(e, "id", n[1]), p(e, "data-testid", "shelf-component"), p(e, "class", "shelf-grid shelf-grid--onhover svelte-12rmzef"), p(e, "style", n[19]) }, m(a, l) { I(a, e, l), o && o.m(e, null), A(e, t), A(e, i), H(r, i, null), n[38](i), s = !0 }, p(a, l) { n = a, n[24].header ? o ? (o.p(n, l), l[0] & 16777216 && w(o, 1)) : (o = oS(n), o.c(), w(o, 1), o.m(e, t)) : o && (te(), D(o, 1, 1, () => { o = null }), ne()); const u = {}; l[0] & 512 && (u.headerHeight = n[9]), l[0] & 1 && (u.translateFn = n[0]), l[0] & 32 && (u.arrowOffset = n[5]), l[0] & 8192 && (u.hasNextPage = n[13]), l[0] & 4096 && (u.hasPreviousPage = n[12]), l[0] & 256 && (u.isRTL = n[8]), l[0] & 100572 | l[1] & 256 && (u.$$scope = { dirty: l, ctx: n }), r.$set(u), (!s || l[0] & 2) && p(e, "id", n[1]), (!s || l[0] & 524288) && p(e, "style", n[19]) }, i(a) { s || (w(o), w(r.$$.fragment, a), s = !0) }, o(a) { D(o), D(r.$$.fragment, a), s = !1 }, d(a) { a && _(e), o && o.d(), $(r), n[38](null) } } } const Jm = 15, uS = 300; function Ym(n) { return typeof n == "object" && "id" in n } function c0(n, e) { n.querySelectorAll("a, button").forEach(i => { i.nodeName === "A" ? e ? i.removeAttribute("tabindex") : i.setAttribute("tabindex", "-1") : e ? i.removeAttribute("disabled") : i.setAttribute("disabled", "true") }) } function GEe(n, e, t) {
    let i, r, s, o, a, l, u, c = j, d = () => (c(), c = yn(Z, De => t(34, u = De)), Z); n.$$.on_destroy.push(() => c()); let { $$slots: f = {}, $$scope: g } = e; const h = wn(f); let { translateFn: m } = e, { id: v = void 0 } = e, { items: b } = e, { gridType: y } = e, { gridRows: k = 1 } = e, { arrowOffset: S = null } = e, { alignItems: C = !1 } = e, { stackXSItems: P = !1 } = e, { overflowBleedBottom: M = null } = e, { aspectRatioOverride: R = null } = e, { getItemIdentifier: F = null } = e, { pageScrollMultiplier: N = null } = e, { onIntersectionUpdate: O = null } = e, { firstItemIndex: B = 0 } = e; function U(De) { he(s * De) } const K = (De, xe) => { let Fe; return typeof F == "function" ? (Fe = F(De, xe), typeof Fe != "string" && console.debug("Could not get unique id, falling back to default", De)) : Ym(De) && (Fe = De.id), Fe || De }; let W = 0, Z = null; if (d(), R !== null) { const { shelfAspectRatio: De } = Yhe(R); d(Z = De) } let Q = null, G = !1, ae = !0, ee = null, pe = null, ke = null; const we = KEe(); ce(n, we, De => t(42, l = De)); const Te = JEe(y) * (k || 1); we.updateEndIndex(Te); const ge = De => { const xe = { root: De, rootMargin: "0px", threshold: .5 }, Fe = new FEe, Be = lt => { const _t = b.length - 1; lt.forEach(et => { const ie = et.target, $e = parseInt(ie.dataset.index, 10), kt = 2 * k || 2, [on, Dn] = REe(et, _t); if (et.isIntersecting) { if (Fe.enterValue($e), $e + 1 >= l.endIndex) { const gn = $e + kt; we.updateEndIndex(gn) } c0(et.target, !0) } else Fe.exitValue($e), c0(et.target, !1); on !== null && t(12, G = !on), Dn !== null && t(13, ae = !Dn) }), t(16, ke = Fe.getViewport()), ke && O && O(ke) }; return new IntersectionObserver(Be, xe) }; Yt(() => (HEe(), t(8, r = document.dir === Zg.RTL), t(15, pe = ge(ee)), B !== 0 && Ce(B), () => { pe.disconnect() })); function Ce(De) { const xe = Q.getElementsByClassName("shelf-grid__list-item"); if (!xe) return; const Be = xe[0].getBoundingClientRect().width; let lt; De === 0 ? lt = 0 : lt = (Be + _f - Jm * 2) * De; let _t = r ? -lt : lt; Q.scrollTo({ left: _t, behavior: "instant" }) } const he = (De = 1) => { const Fe = (Q.getBoundingClientRect().width + _f - Jm * 2) * De; Q.scrollBy(Fe, 0) }, Ae = N || 1; let ze, Pe = 0; function Oe(De, xe) { return Ym(xe[0]) ? (ze = xe[0], { update(Fe) { Ym(Fe[0]) && Fe[0].id !== ze.id && Pe === 0 && De.scrollLeft > 0 && (De.scrollLeft = 0) } }) : {} } function _e(De) { Pe = De.target.scrollLeft } function Se() { W = this.offsetHeight, t(9, W) } function Re(De) { wt[De ? "unshift" : "push"](() => { Q = De, t(11, Q) }) } function Ze(De) { wt[De ? "unshift" : "push"](() => { ee = De, t(14, ee) }) } return n.$$set = De => { "translateFn" in De && t(0, m = De.translateFn), "id" in De && t(1, v = De.id), "items" in De && t(2, b = De.items), "gridType" in De && t(3, y = De.gridType), "gridRows" in De && t(4, k = De.gridRows), "arrowOffset" in De && t(5, S = De.arrowOffset), "alignItems" in De && t(6, C = De.alignItems), "stackXSItems" in De && t(7, P = De.stackXSItems), "overflowBleedBottom" in De && t(25, M = De.overflowBleedBottom), "aspectRatioOverride" in De && t(26, R = De.aspectRatioOverride), "getItemIdentifier" in De && t(27, F = De.getItemIdentifier), "pageScrollMultiplier" in De && t(28, N = De.pageScrollMultiplier), "onIntersectionUpdate" in De && t(29, O = De.onIntersectionUpdate), "firstItemIndex" in De && t(30, B = De.firstItemIndex), "$$scope" in De && t(39, g = De.$$scope) }, n.$$.update = () => {
        n.$$.dirty[0] & 100663320 | n.$$.dirty[1] & 8 && t(19, i = (() => {
            let De = `
            ${TEe(y)}
            --grid-type: ${y};
            --grid-rows: ${k};
            --standard-lockup-shadow-offset: ${Jm}px;
            ${R !== null && u !== null ? `--shelf-aspect-ratio: ${u};` : ""}
        `; return M && (De += `--overflowBleedBottom: ${M};`), De
        })()), n.$$.dirty[0] & 256 && t(33, s = r ? -Ae : Ae), n.$$.dirty[1] & 4 && t(18, o = Cr(he.bind(null, s), uS)), n.$$.dirty[1] & 4 && t(17, a = Cr(he.bind(null, -s), uS))
    }, t(8, r = !1), [m, v, b, y, k, S, C, P, r, W, Z, Q, G, ae, ee, pe, ke, a, o, i, K, we, Oe, _e, h, M, R, F, N, O, B, U, Ce, s, u, f, Se, Re, Ze, g]
} let xEe = class extends oe { constructor(e) { super(), se(this, e, GEe, jEe, ye, { translateFn: 0, id: 1, items: 2, gridType: 3, gridRows: 4, arrowOffset: 5, alignItems: 6, stackXSItems: 7, overflowBleedBottom: 25, aspectRatioOverride: 26, getItemIdentifier: 27, pageScrollMultiplier: 28, onIntersectionUpdate: 29, firstItemIndex: 30, scrollToPage: 31, scrollToIndex: 32 }, null, [-1, -1]) } get scrollToPage() { return this.$$.ctx[31] } get scrollToIndex() { return this.$$.ctx[32] } }; const eIe = n => ({ item: n & 16384, index: n & 32768, numberOfItems: n & 65536 }), cS = n => ({ item: n[14], index: n[15], numberOfItems: n[16] }); function tIe(n) { let e; const t = n[12].default, i = We(t, n, n[13], cS); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 122880) && Je(i, t, r, r[13], e ? Ke(t, r[13], s, eIe) : Ye(r[13]), cS) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function nIe(n) { let e, t, i; return t = new xEe({ props: { translateFn: n[10].t, items: n[0], gridType: n[1], gridRows: n[3], arrowOffset: n[4], alignItems: n[5], stackXSItems: n[7], overflowBleedBottom: n[8], aspectRatioOverride: n[9], $$slots: { item: [tIe, ({ item: r, index: s, numberOfItems: o }) => ({ 14: r, 15: s, 16: o }), ({ item: r, index: s, numberOfItems: o }) => (r ? 16384 : 0) | (s ? 32768 : 0) | (o ? 65536 : 0)] }, $$scope: { ctx: n } } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "svelte-1dd7dqt"), J(e, "shelf", !n[2]), J(e, "shelf--full-height-lockups", n[6]) }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, [s]) { const o = {}; s & 1024 && (o.translateFn = r[10].t), s & 1 && (o.items = r[0]), s & 2 && (o.gridType = r[1]), s & 8 && (o.gridRows = r[3]), s & 16 && (o.arrowOffset = r[4]), s & 32 && (o.alignItems = r[5]), s & 128 && (o.stackXSItems = r[7]), s & 256 && (o.overflowBleedBottom = r[8]), s & 512 && (o.aspectRatioOverride = r[9]), s & 122880 && (o.$$scope = { dirty: s, ctx: r }), t.$set(o), (!i || s & 4) && J(e, "shelf", !r[2]), (!i || s & 64) && J(e, "shelf--full-height-lockups", r[6]) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function iIe(n, e, t) { let i, { $$slots: r = {}, $$scope: s } = e, { items: o } = e, { gridType: a } = e, { itemHasMargin: l = !1 } = e, { gridRows: u = 1 } = e, { arrowOffset: c = null } = e, { alignItems: d = !1 } = e, { fullHeightLockup: f = !1 } = e, { stackXSItems: g = !1 } = e, { overflowBleedBottom: h = null } = e, { aspectRatioOverride: m = null } = e; const v = ot(); return ce(n, v, b => t(10, i = b)), n.$$set = b => { "items" in b && t(0, o = b.items), "gridType" in b && t(1, a = b.gridType), "itemHasMargin" in b && t(2, l = b.itemHasMargin), "gridRows" in b && t(3, u = b.gridRows), "arrowOffset" in b && t(4, c = b.arrowOffset), "alignItems" in b && t(5, d = b.alignItems), "fullHeightLockup" in b && t(6, f = b.fullHeightLockup), "stackXSItems" in b && t(7, g = b.stackXSItems), "overflowBleedBottom" in b && t(8, h = b.overflowBleedBottom), "aspectRatioOverride" in b && t(9, m = b.aspectRatioOverride), "$$scope" in b && t(13, s = b.$$scope) }, [o, a, l, u, c, d, f, g, h, m, i, v, r, s] } class ev extends oe { constructor(e) { super(), se(this, e, iIe, nIe, ye, { items: 0, gridType: 1, itemHasMargin: 2, gridRows: 3, arrowOffset: 4, alignItems: 5, fullHeightLockup: 6, stackXSItems: 7, overflowBleedBottom: 8, aspectRatioOverride: 9 }) } } function rIe(n) { let e, t; return e = new hl({ props: { item: n[7] } }), e.$on("mount", AU(n[3])), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 128 && (s.item = i[7]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function sIe(n) { let e, t, i, r; return e = new ev({ props: { gridType: n[1], items: n[0], arrowOffset: n[2], $$slots: { default: [rIe, ({ item: s }) => ({ 7: s }), ({ item: s }) => s ? 128 : 0] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(s) { q(e.$$.fragment, s) }, m(s, o) { H(e, s, o), t = !0, i || (r = Me(window, "resize", Bi(n[4], 200)), i = !0) }, p(s, [o]) { const a = {}; o & 2 && (a.gridType = s[1]), o & 1 && (a.items = s[0]), o & 4 && (a.arrowOffset = s[2]), o & 384 && (a.$$scope = { dirty: o, ctx: s }), e.$set(a) }, i(s) { t || (w(e.$$.fragment, s), t = !0) }, o(s) { D(e.$$.fragment, s), t = !1 }, d(s) { $(e, s), i = !1, r() } } } function oIe(n, e, t) { let i, r, { items: s } = e, { gridType: o } = e; const a = []; function l(c) { const d = c.detail.offset, f = c.detail.resizeCB; a.push(f), i < d && t(5, i = d) } function u(c) { let d = 0; a.forEach(f => { d = Math.max(d, f()) }), d !== i && t(5, i = d) } return n.$$set = c => { "items" in c && t(0, s = c.items), "gridType" in c && t(1, o = c.gridType) }, n.$$.update = () => { n.$$.dirty & 32 && t(2, r = [{ direction: "bottom", offset: i }]) }, t(5, i = 10), [s, o, r, l, u, i] } class aIe extends oe { constructor(e) { super(), se(this, e, oIe, sIe, ye, { items: 0, gridType: 1 }) } } function dS(n, e, t) { const i = n.slice(); return i[2] = e[t], i } function fS(n, e, t) { const i = n.slice(); return i[5] = e[t].title, i[6] = e[t].renderTitleAsBadge, i[7] = e[t].content, i } function gS(n, e, t) { const i = n.slice(); return i[10] = e[t], i } function hS(n) { let e, t = n[5] + "", i, r; return { c() { e = L("dt"), i = le(t), r = Y(), this.h() }, l(s) { e = T(s, "DT", { "data-testid": !0, class: !0 }); var o = E(e); i = ue(o, t), r = X(o), o.forEach(_), this.h() }, h() { p(e, "data-testid", "text-list-subsection-title"), p(e, "class", "svelte-80nogj"), J(e, "text-list__group__title", !n[6]), J(e, "badge-icon", n[6]) }, m(s, o) { I(s, e, o), A(e, i), A(e, r) }, p(s, o) { o & 1 && t !== (t = s[5] + "") && me(i, t), o & 1 && J(e, "text-list__group__title", !s[6]), o & 1 && J(e, "badge-icon", s[6]) }, d(s) { s && _(e) } } } function mS(n) { let e, t = n[10] + "", i; return { c() { e = L("dd"), i = le(t), this.h() }, l(r) { e = T(r, "DD", { class: !0, "data-testid": !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "text-list__group__description svelte-80nogj"), p(e, "data-testid", "text-list-description") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 1 && t !== (t = r[10] + "") && me(i, t) }, d(r) { r && _(e) } } } function pS(n) { let e, t, i = n[5] && hS(n), r = ut(n[1](n[7])), s = []; for (let o = 0; o < r.length; o += 1)s[o] = mS(gS(n, r, o)); return { c() { e = L("dl"), i && i.c(), t = re(); for (let o = 0; o < s.length; o += 1)s[o].c(); this.h() }, l(o) { e = T(o, "DL", { class: !0, "data-testid": !0 }); var a = E(e); i && i.l(a), t = re(); for (let l = 0; l < s.length; l += 1)s[l].l(a); a.forEach(_), this.h() }, h() { p(e, "class", "text-list__group svelte-80nogj"), p(e, "data-testid", "text-list-group"), J(e, "text-list__group--with-badge", n[6]), J(e, "text-list__group--without-title", !n[5]) }, m(o, a) { I(o, e, a), i && i.m(e, null), A(e, t); for (let l = 0; l < s.length; l += 1)s[l] && s[l].m(e, null) }, p(o, a) { if (o[5] ? i ? i.p(o, a) : (i = hS(o), i.c(), i.m(e, t)) : i && (i.d(1), i = null), a & 3) { r = ut(o[1](o[7])); let l; for (l = 0; l < r.length; l += 1) { const u = gS(o, r, l); s[l] ? s[l].p(u, a) : (s[l] = mS(u), s[l].c(), s[l].m(e, null)) } for (; l < s.length; l += 1)s[l].d(1); s.length = r.length } a & 1 && J(e, "text-list__group--with-badge", o[6]), a & 1 && J(e, "text-list__group--without-title", !o[5]) }, d(o) { o && _(e), i && i.d(), ln(s, o) } } } function _S(n) { let e, t, i = n[2].title + "", r, s, o, a = ut(n[2].subsections), l = []; for (let u = 0; u < a.length; u += 1)l[u] = pS(fS(n, a, u)); return { c() { e = L("div"), t = L("h2"), r = le(i), s = Y(); for (let u = 0; u < l.length; u += 1)l[u].c(); o = Y(), this.h() }, l(u) { e = T(u, "DIV", { class: !0, "data-testid": !0 }); var c = E(e); t = T(c, "H2", { class: !0, "data-testid": !0 }); var d = E(t); r = ue(d, i), d.forEach(_), s = X(c); for (let f = 0; f < l.length; f += 1)l[f].l(c); o = X(c), c.forEach(_), this.h() }, h() { p(t, "class", "text-list__header svelte-80nogj"), p(t, "data-testid", "text-list-title"), p(e, "class", "text-list svelte-80nogj"), p(e, "data-testid", "text-list-column") }, m(u, c) { I(u, e, c), A(e, t), A(t, r), A(e, s); for (let d = 0; d < l.length; d += 1)l[d] && l[d].m(e, null); A(e, o) }, p(u, c) { if (c & 1 && i !== (i = u[2].title + "") && me(r, i), c & 3) { a = ut(u[2].subsections); let d; for (d = 0; d < a.length; d += 1) { const f = fS(u, a, d); l[d] ? l[d].p(f, c) : (l[d] = pS(f), l[d].c(), l[d].m(e, o)) } for (; d < l.length; d += 1)l[d].d(1); l.length = a.length } }, d(u) { u && _(e), ln(l, u) } } } function lIe(n) { let e, t = ut(n[0]), i = []; for (let r = 0; r < t.length; r += 1)i[r] = _S(dS(n, t, r)); return { c() { e = L("div"); for (let r = 0; r < i.length; r += 1)i[r].c(); this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); for (let o = 0; o < i.length; o += 1)i[o].l(s); s.forEach(_), this.h() }, h() { p(e, "class", "grid-wrapper svelte-80nogj") }, m(r, s) { I(r, e, s); for (let o = 0; o < i.length; o += 1)i[o] && i[o].m(e, null) }, p(r, [s]) { if (s & 3) { t = ut(r[0]); let o; for (o = 0; o < t.length; o += 1) { const a = dS(r, t, o); i[o] ? i[o].p(a, s) : (i[o] = _S(a), i[o].c(), i[o].m(e, null)) } for (; o < i.length; o += 1)i[o].d(1); i.length = t.length } }, i: j, o: j, d(r) { r && _(e), ln(i, r) } } } function uIe(n, e, t) {
    let { items: i } = e; const r = s => s.split(`
`); return n.$$set = s => { "items" in s && t(0, i = s.items) }, [i, r]
} class cIe extends oe { constructor(e) { super(), se(this, e, uIe, lIe, ye, { items: 0 }) } } function vS(n, e, t) { const i = n.slice(); return i[10] = e[t], i } function dIe(n) { let e = n[7].warn("unsupported grid section:", n[0].itemKind, n[0]) + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 1 && e !== (e = i[7].warn("unsupported grid section:", i[0].itemKind, i[0]) + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function fIe(n) { let e, t, i = ut(n[0].items), r = []; for (let o = 0; o < i.length; o += 1)r[o] = bS(vS(n, i, o)); const s = o => D(r[o], 1, 1, () => { r[o] = null }); return { c() { e = L("ul"); for (let o = 0; o < r.length; o += 1)r[o].c(); this.h() }, l(o) { e = T(o, "UL", { class: !0, "data-testid": !0 }); var a = E(e); for (let l = 0; l < r.length; l += 1)r[l].l(a); a.forEach(_), this.h() }, h() { p(e, "class", "grid svelte-1a54yxp"), p(e, "data-testid", "grid"), J(e, "grid--flow-row", n[6] === "row"), J(e, "grid--flow-column", n[6] === "column"), J(e, "grid--custom-columns", n[5]), J(e, "grid--top-results", n[3] === "topSearchLockup" && !n[4]), J(e, "grid--recently-searched", n[4]), J(e, "grid--category-bricks", n[3] === "brickLockup"), J(e, "grid--horizontal-lockups", n[3] === "horizontalLockup"), J(e, "grid--credit-lockups", n[3] === "songDetailItemLockup"), J(e, "grid--live-radio", n[3] === "liveRadioGridLockup"), J(e, "grid--singular-link", n[2]) }, m(o, a) { I(o, e, a); for (let l = 0; l < r.length; l += 1)r[l] && r[l].m(e, null); t = !0 }, p(o, a) { if (a & 3) { i = ut(o[0].items); let l; for (l = 0; l < i.length; l += 1) { const u = vS(o, i, l); r[l] ? (r[l].p(u, a), w(r[l], 1)) : (r[l] = bS(u), r[l].c(), w(r[l], 1), r[l].m(e, null)) } for (te(), l = i.length; l < r.length; l += 1)s(l); ne() } (!t || a & 64) && J(e, "grid--flow-row", o[6] === "row"), (!t || a & 64) && J(e, "grid--flow-column", o[6] === "column"), (!t || a & 32) && J(e, "grid--custom-columns", o[5]), (!t || a & 24) && J(e, "grid--top-results", o[3] === "topSearchLockup" && !o[4]), (!t || a & 16) && J(e, "grid--recently-searched", o[4]), (!t || a & 8) && J(e, "grid--category-bricks", o[3] === "brickLockup"), (!t || a & 8) && J(e, "grid--horizontal-lockups", o[3] === "horizontalLockup"), (!t || a & 8) && J(e, "grid--credit-lockups", o[3] === "songDetailItemLockup"), (!t || a & 8) && J(e, "grid--live-radio", o[3] === "liveRadioGridLockup"), (!t || a & 4) && J(e, "grid--singular-link", o[2]) }, i(o) { if (!t) { for (let a = 0; a < i.length; a += 1)w(r[a]); t = !0 } }, o(o) { r = r.filter(Boolean); for (let a = 0; a < r.length; a += 1)D(r[a]); t = !1 }, d(o) { o && _(e), ln(r, o) } } } function bS(n) { let e, t, i, r; var s = n[1]; function o(a, l) { return { props: { item: a[10], section: a[0] } } } return s && (t = jt(s, o(n))), { c() { e = L("li"), t && V(t.$$.fragment), i = Y(), this.h() }, l(a) { e = T(a, "LI", { class: !0, "data-testid": !0 }); var l = E(e); t && q(t.$$.fragment, l), i = X(l), l.forEach(_), this.h() }, h() { p(e, "class", "grid-item svelte-1a54yxp"), p(e, "data-testid", "grid-item") }, m(a, l) { I(a, e, l), t && H(t, e, null), A(e, i), r = !0 }, p(a, l) { if (l & 2 && s !== (s = a[1])) { if (t) { te(); const u = t; D(u.$$.fragment, 1, 0, () => { $(u, 1) }), ne() } s ? (t = jt(s, o(a)), V(t.$$.fragment), w(t.$$.fragment, 1), H(t, e, i)) : t = null } else if (s) { const u = {}; l & 1 && (u.item = a[10]), l & 1 && (u.section = a[0]), t.$set(u) } }, i(a) { r || (t && w(t.$$.fragment, a), r = !0) }, o(a) { t && D(t.$$.fragment, a), r = !1 }, d(a) { a && _(e), t && $(t) } } } function gIe(n) { let e, t, i, r; const s = [fIe, dIe], o = []; function a(l, u) { return l[1] ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, [u]) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function hIe(n, e, t) { let i, r, s, o, a; var l; const u = kn("<GridSection>"); let { section: c } = e, { itemComponent: d } = e, { defaultFlowStyle: f = "row" } = e; return n.$$set = g => { "section" in g && t(0, c = g.section), "itemComponent" in g && t(1, d = g.itemComponent), "defaultFlowStyle" in g && t(8, f = g.defaultFlowStyle) }, n.$$.update = () => { n.$$.dirty & 1 && t(3, i = c.itemKind), n.$$.dirty & 257 && t(6, r = (() => { var g; const h = c.presentation; return !((g = h == null ? void 0 : h.layout) === null || g === void 0) && g.flowStyle ? h.layout.flowStyle : f })()), n.$$.dirty & 521 && t(2, s = i === "linkComponentModel" && (t(9, l = c.presentation) === null || l === void 0 ? void 0 : l.kind) === "single"), n.$$.dirty & 12 && t(5, o = ["topSearchLockup", "brickLockup", "horizontalLockup", "songDetailItemLockup", "liveRadioGridLockup"].includes(i) || s), n.$$.dirty & 1 && t(4, a = c.id === "top-search-section") }, [c, d, s, i, a, o, r, u, f, l] } class tv extends oe { constructor(e) { super(), se(this, e, hIe, gIe, ye, { section: 0, itemComponent: 1, defaultFlowStyle: 8 }) } } function yS(n) { const e = n[0] || n[15] % n[2] === 0; n[16] = e } function mIe(n) { let e, t; function i(...r) { return n[7](n[15], ...r) } return e = new b9e({ props: { item: n[14] } }), e.$on("addToLibraryPlaylist", i), { c() { V(e.$$.fragment) }, l(r) { q(e.$$.fragment, r) }, m(r, s) { H(e, r, s), t = !0 }, p(r, s) { n = r; const o = {}; s & 16384 && (o.item = n[14]), e.$set(o) }, i(r) { t || (w(e.$$.fragment, r), t = !0) }, o(r) { D(e.$$.fragment, r), t = !1 }, d(r) { $(e, r) } } } function pIe(n) { yS(n); let e, t, i; return t = new UB({ props: { isSuggestion: !0, item: n[14], $$slots: { "secondary-actions": [mIe] }, $$scope: { ctx: n } } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "suggestion-lockup-item svelte-5ff4t6"), J(e, "no-divider", n[16]) }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { yS(r); const o = {}; s & 16384 && (o.item = r[14]), s & 180224 && (o.$$scope = { dirty: s, ctx: r }), t.$set(o), (!i || s & 32773) && J(e, "no-divider", r[16]) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function _Ie(n) { let e, t; return e = new ev({ props: { gridType: "1-2-2-2", gridRows: n[2], items: n[1], $$slots: { default: [pIe, ({ item: i, index: r }) => ({ 14: i, 15: r }), ({ item: i, index: r }) => (i ? 16384 : 0) | (r ? 32768 : 0)] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 4 && (s.gridRows = i[2]), r & 2 && (s.items = i[1]), r & 180229 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function vIe(n, e, t) { let i, r, s, o, a, l; ce(n, Si, b => t(8, o = b)), ce(n, _l, b => t(6, l = b)); let { section: u } = e; const c = ot(); ce(n, c, b => t(9, a = b)); const d = fn(), f = Tn(), g = kn("<Header>"), h = Qt({ contentDescriptor: u.containerContentDescriptor }), m = async (b, y) => { var k; try { const S = (k = b == null ? void 0 : b.detail) === null || k === void 0 ? void 0 : k.item, C = Qt({ contentDescriptor: S == null ? void 0 : S.contentDescriptor }), P = { actionType: "add", actionDetails: { kind: x.Song, addTo: "playlist", contentId: h }, targetId: C, targetType: "ShelfItem", eventType: "click", location: [{ id: C, locationType: "Shelf", locationPosition: y, name: "Suggested" }] }, M = LF({ storefront: f == null ? void 0 : f.storefront, playlistId: h, items: [{ id: Qt({ contentDescriptor: S == null ? void 0 : S.contentDescriptor }), type: ta({ contentDescriptor: S == null ? void 0 : S.contentDescriptor }) }] }); d.recordCustomMetricsEvent(P); const R = await d.dispatch(M); let F = !1; Si.update(N => { const O = Object.assign({}, N.suggestionsState), B = O[C] || {}; return O[C] = Object.assign(Object.assign({}, B), { selected: !0 }), F = Object.keys(O).reduce((K, W) => { var Z; return !((Z = O[W]) === null || Z === void 0) && Z.selected ? K + 1 : K }, 0) >= 3, Object.assign(Object.assign({}, N), { suggestionsState: O }) }), await d.perform(Qne(C, R, F)) } catch (S) { g.error("Adding a suggestion to library playlist failed:", S), io({ header: a.t("ASE.Web.Music.Error.AnErrorOccurred"), message: a.t("ASE.Web.Music.WEB.ERROR.PleaseTryAgain"), confirmText: a.t("ASE.Web.Music.OK") }) } }; $P(() => { var b; const y = (i == null ? void 0 : i.map(S => Qt({ contentDescriptor: S == null ? void 0 : S.contentDescriptor }))) || [], k = ((b = u == null ? void 0 : u.items) === null || b === void 0 ? void 0 : b.map(S => Qt({ contentDescriptor: S == null ? void 0 : S.contentDescriptor }))) || []; Si.update(S => { const C = Object.assign({}, S.suggestionsState); return [...k, ...y].forEach(P => { const M = C[P] || {}; C[P] = Object.assign(Object.assign({}, M), { impressed: y.includes(P) }) }), Object.assign(Object.assign({}, S), { suggestionsState: C }) }) }), mn(() => { d.dispatch(mae({ playlistId: h, isFinalSave: !0 })), Si.update(() => ({ audioCtx: null, currentItemId: null, currentState: null, currentItemPreviewUrl: null, lcdPlaybackInterrupted: !1, suggestionsState: {} })) }), Yt(() => { typeof (window == null ? void 0 : window.AudioContext) < "u" && ni(Si, o.audioCtx = new AudioContext, o) }); const v = (b, y) => m(y, b); return n.$$set = b => { "section" in b && t(5, u = b.section) }, n.$$.update = () => { n.$$.dirty & 32 && t(1, i = u == null ? void 0 : u.items.slice(0, na)), n.$$.dirty & 64 && t(0, r = ["xsmall", "small"].includes(l)), n.$$.dirty & 1 && t(2, s = r ? na : 3) }, [r, i, s, c, m, u, l, v] } class bIe extends oe { constructor(e) { super(), se(this, e, vIe, _Ie, ye, { section: 5 }) } } function yIe(n) { let e = n[14].warn("unsupported shelf contentType:", n[2], n[0]) + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 5 && e !== (e = i[14].warn("unsupported shelf contentType:", i[2], i[0]) + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function wIe(n) { let e, t; return e = new ev({ props: { gridType: n[10], arrowOffset: n[9], alignItems: n[8], fullHeightLockup: n[7], stackXSItems: n[6], overflowBleedBottom: n[5], aspectRatioOverride: n[4], gridRows: n[3], items: n[11], $$slots: { default: [IIe, ({ item: i }) => ({ 16: i }), ({ item: i }) => i ? 65536 : 0] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1024 && (s.gridType = i[10]), r & 512 && (s.arrowOffset = i[9]), r & 256 && (s.alignItems = i[8]), r & 128 && (s.fullHeightLockup = i[7]), r & 64 && (s.stackXSItems = i[6]), r & 32 && (s.overflowBleedBottom = i[5]), r & 16 && (s.aspectRatioOverride = i[4]), r & 8 && (s.gridRows = i[3]), r & 2048 && (s.items = i[11]), r & 198662 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function kIe(n) { let e, t; return e = new bIe({ props: { section: n[0] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.section = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function DIe(n) { let e, t; return e = new cIe({ props: { items: n[11] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2048 && (s.items = i[11]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function SIe(n) { let e, t; return e = new aIe({ props: { gridType: n[10], items: n[11] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1024 && (s.gridType = i[10]), r & 2048 && (s.items = i[11]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function CIe(n) { let e, t; return e = new tv({ props: { itemComponent: n[1], section: n[0] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.itemComponent = i[1]), r & 1 && (s.section = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function PIe(n) { let e, t, i; var r = n[1]; function s(o, a) { return { props: { item: o[16] } } } return r && (e = jt(r, s(n))), { c() { e && V(e.$$.fragment), t = re() }, l(o) { e && q(e.$$.fragment, o), t = re() }, m(o, a) { e && H(e, o, a), I(o, t, a), i = !0 }, p(o, a) { if (a & 2 && r !== (r = o[1])) { if (e) { te(); const l = e; D(l.$$.fragment, 1, 0, () => { $(l, 1) }), ne() } r ? (e = jt(r, s(o)), V(e.$$.fragment), w(e.$$.fragment, 1), H(e, t.parentNode, t)) : e = null } else if (r) { const l = {}; a & 65536 && (l.item = o[16]), e.$set(l) } }, i(o) { i || (e && w(e.$$.fragment, o), i = !0) }, o(o) { e && D(e.$$.fragment, o), i = !1 }, d(o) { o && _(t), e && $(e, o) } } } function AIe(n) { let e, t, i; var r = n[1]; function s(o, a) { return { props: { item: o[16], containerItems: o[11] } } } return r && (e = jt(r, s(n))), { c() { e && V(e.$$.fragment), t = re() }, l(o) { e && q(e.$$.fragment, o), t = re() }, m(o, a) { e && H(e, o, a), I(o, t, a), i = !0 }, p(o, a) { if (a & 2 && r !== (r = o[1])) { if (e) { te(); const l = e; D(l.$$.fragment, 1, 0, () => { $(l, 1) }), ne() } r ? (e = jt(r, s(o)), V(e.$$.fragment), w(e.$$.fragment, 1), H(e, t.parentNode, t)) : e = null } else if (r) { const l = {}; a & 65536 && (l.item = o[16]), a & 2048 && (l.containerItems = o[11]), e.$set(l) } }, i(o) { i || (e && w(e.$$.fragment, o), i = !0) }, o(o) { e && D(e.$$.fragment, o), i = !1 }, d(o) { o && _(t), e && $(e, o) } } } function EIe(n) { let e, t, i; var r = n[1]; function s(o, a) { return { props: { item: o[16], itemKind: o[2] } } } return r && (e = jt(r, s(n))), { c() { e && V(e.$$.fragment), t = re() }, l(o) { e && q(e.$$.fragment, o), t = re() }, m(o, a) { e && H(e, o, a), I(o, t, a), i = !0 }, p(o, a) { if (a & 2 && r !== (r = o[1])) { if (e) { te(); const l = e; D(l.$$.fragment, 1, 0, () => { $(l, 1) }), ne() } r ? (e = jt(r, s(o)), V(e.$$.fragment), w(e.$$.fragment, 1), H(e, t.parentNode, t)) : e = null } else if (r) { const l = {}; a & 65536 && (l.item = o[16]), a & 4 && (l.itemKind = o[2]), e.$set(l) } }, i(o) { i || (e && w(e.$$.fragment, o), i = !0) }, o(o) { e && D(e.$$.fragment, o), i = !1 }, d(o) { o && _(t), e && $(e, o) } } } function IIe(n) { let e, t, i, r, s, o; const a = [EIe, AIe, PIe], l = []; function u(c, d) { return d & 4 && (e = null), d & 4 && (t = null), e == null && (e = !!c[12].includes(c[2])), e ? 0 : (t == null && (t = !!c[13].includes(c[2])), t ? 1 : 2) } return i = u(n, -1), r = l[i] = a[i](n), { c() { r.c(), s = re() }, l(c) { r.l(c), s = re() }, m(c, d) { l[i].m(c, d), I(c, s, d), o = !0 }, p(c, d) { let f = i; i = u(c, d), i === f ? l[i].p(c, d) : (te(), D(l[f], 1, 1, () => { l[f] = null }), ne(), r = l[i], r ? r.p(c, d) : (r = l[i] = a[i](c), r.c()), w(r, 1), r.m(s.parentNode, s)) }, i(c) { o || (w(r), o = !0) }, o(c) { D(r), o = !1 }, d(c) { c && _(s), l[i].d(c) } } } function MIe(n) { let e, t, i, r; const s = [CIe, SIe, DIe, kIe, wIe, yIe], o = []; function a(l, u) { return l[2] === "topSearchLockup" && l[1] ? 0 : l[2] === "bubbleLockup" ? 1 : l[2] === "textListComponentModel" ? 2 : l[2] === "suggestionsListComponentModel" ? 3 : l[1] && l[10] ? 4 : 5 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, [u]) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function LIe(n) { return n.itemKind === "mixedContentTypeLockup" } function TIe(n) { return n.kind === "collection" } function RIe(n) { return (n == null ? void 0 : n.kind) === "shelf" } function FIe(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g; const h = ["horizontalPosterLockup", "posterLockup"], m = ["trackLockup", "verticalVideoLockup"], v = kn("<Shelf>"); let { shelf: b } = e, { itemComponent: y } = e; return n.$$set = k => { "shelf" in k && t(0, b = k.shelf), "itemComponent" in k && t(1, y = k.itemComponent) }, n.$$.update = () => { n.$$.dirty & 1 && t(2, i = b.itemKind), n.$$.dirty & 1 && t(11, r = b.items), n.$$.dirty & 5 && t(15, s = yEe(LIe(b) ? b.predominantItemKind : i, !!b.pinnedLeadingItem, b.items)), n.$$.dirty & 32768 && t(10, o = s == null ? void 0 : s.gridType), n.$$.dirty & 32768 && t(9, a = s == null ? void 0 : s.arrowOffset), n.$$.dirty & 32768 && t(8, l = s == null ? void 0 : s.alignItems), n.$$.dirty & 32768 && t(7, u = s == null ? void 0 : s.fullHeightLockup), n.$$.dirty & 32768 && t(6, c = s == null ? void 0 : s.stackXSItems), n.$$.dirty & 32768 && t(5, d = s == null ? void 0 : s.overflowBleedBottom), n.$$.dirty & 32768 && t(4, f = s == null ? void 0 : s.aspectRatioOverride), n.$$.dirty & 1 && t(3, g = (() => { const { presentation: k } = b; if (TIe(k)) { const { layout: S } = k; if (RIe(S)) return S.numberOfRows } return 1 })()) }, [b, y, i, g, f, d, c, u, l, a, o, r, h, m, v, s] } class OIe extends oe { constructor(e) { super(), se(this, e, FIe, MIe, ye, { shelf: 0, itemComponent: 1 }) } } function NIe(n) { let e, t, i = [{ height: "16" }, { viewBox: "0 0 16 16" }, { width: "16" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { height: !0, viewBox: !0, width: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "m4.4 15.14 10.386-6.096c.842-.459.794-1.64 0-2.097L4.401.85c-.87-.53-2-.12-2 .82v12.625c0 .966 1.06 1.4 2 .844z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ height: "16" }, { viewBox: "0 0 16 16" }, { width: "16" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function BIe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let UIe = class extends oe { constructor(e) { super(), se(this, e, BIe, NIe, ht, {}) } }; function HIe(n) { let e, t, i = [{ class: "icon shuffle" }, { viewBox: "0 0 18 14" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { class: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M.012 10.903c0 .43.333.732.79.732H2.54c1.272 0 2.019-.37 2.89-1.397l1.79-2.13 1.767 2.093c.894 1.065 1.737 1.434 3.009 1.434h1.478v1.782c0 .355.214.562.57.562.162 0 .31-.06.435-.155l2.898-2.418c.281-.23.281-.584 0-.828L14.48 8.161a.671.671 0 0 0-.436-.156c-.355 0-.569.2-.569.562v1.597H12.04c-.872 0-1.442-.288-2.07-1.042L8.166 6.985l1.811-2.144c.643-.761 1.161-1.035 2.019-1.035h1.478v1.627c0 .355.214.562.57.562.162 0 .31-.06.435-.156l2.898-2.417c.281-.23.281-.584 0-.828L14.48.177a.67.67 0 0 0-.436-.156c-.355 0-.569.2-.569.562v1.745h-1.471c-1.316 0-2.122.362-3.06 1.486L7.22 5.862l-1.79-2.13c-.87-1.027-1.67-1.397-2.933-1.397H.803c-.458 0-.791.303-.791.732s.333.74.79.74h1.635c.828 0 1.404.288 2.04 1.042l1.797 2.136-1.797 2.137c-.636.754-1.168 1.042-1.988 1.042H.803c-.458 0-.791.31-.791.74Z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ class: "icon shuffle" }, { viewBox: "0 0 18 14" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function $Ie(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let VIe = class extends oe { constructor(e) { super(), se(this, e, $Ie, HIe, ht, {}) } }; function wS(n) { let e, t, i; return t = new UIe({}), { c() { e = L("span"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "SPAN", { class: !0, "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "icon svelte-rka6wn"), p(e, "data-testid", "play-icon") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function kS(n) { let e, t, i; return t = new VIe({}), { c() { e = L("span"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "SPAN", { class: !0, "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "icon svelte-rka6wn"), p(e, "data-testid", "shuffle-icon") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function DS(n) { let e; return { c() { e = le(n[2]) }, l(t) { e = ue(t, n[2]) }, m(t, i) { I(t, e, i) }, p(t, i) { i & 4 && me(e, t[2]) }, d(t) { t && _(e) } } } function zIe(n) { let e, t, i, r, s = n[5] && wS(), o = n[4] && kS(), a = n[2] && DS(n); return { c() { s && s.c(), e = Y(), o && o.c(), t = Y(), a && a.c(), i = re() }, l(l) { s && s.l(l), e = X(l), o && o.l(l), t = X(l), a && a.l(l), i = re() }, m(l, u) { s && s.m(l, u), I(l, e, u), o && o.m(l, u), I(l, t, u), a && a.m(l, u), I(l, i, u), r = !0 }, p(l, u) { l[5] ? s ? u & 32 && w(s, 1) : (s = wS(), s.c(), w(s, 1), s.m(e.parentNode, e)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()), l[4] ? o ? u & 16 && w(o, 1) : (o = kS(), o.c(), w(o, 1), o.m(t.parentNode, t)) : o && (te(), D(o, 1, 1, () => { o = null }), ne()), l[2] ? a ? a.p(l, u) : (a = DS(l), a.c(), a.m(i.parentNode, i)) : a && (a.d(1), a = null) }, i(l) { r || (w(s), w(o), r = !0) }, o(l) { D(s), D(o), r = !1 }, d(l) { l && (_(e), _(t), _(i)), s && s.d(l), o && o.d(l), a && a.d(l) } } } function qIe(n) { let e, t, i; return t = new en({ props: { action: n[0], ariaLabel: n[1], disabled: n[3], $$slots: { default: [zIe] }, $$scope: { ctx: n } } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { "data-testid": !0, class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "data-testid", "button-action"), p(e, "class", "button svelte-rka6wn"), J(e, "primary", n[7]), J(e, "secondary", n[6]) }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, [s]) { const o = {}; s & 1 && (o.action = r[0]), s & 2 && (o.ariaLabel = r[1]), s & 8 && (o.disabled = r[3]), s & 8244 && (o.$$scope = { dirty: s, ctx: r }), t.$set(o), (!i || s & 128) && J(e, "primary", r[7]), (!i || s & 64) && J(e, "secondary", r[6]) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function WIe(n, e, t) { let i, r, s, o, a; var l, u, c; let { action: d } = e, { ariaLabel: f = "" } = e, { title: g = "" } = e, { disabled: h = !1 } = e, { styleOverride: m = {} } = e; return n.$$set = v => { "action" in v && t(0, d = v.action), "ariaLabel" in v && t(1, f = v.ariaLabel), "title" in v && t(2, g = v.title), "disabled" in v && t(3, h = v.disabled), "styleOverride" in v && t(8, m = v.styleOverride) }, n.$$.update = () => { n.$$.dirty & 1 && t(12, i = d.$kind), n.$$.dirty & 4864 && t(5, r = t(9, l = m.isPlay) !== null && l !== void 0 ? l : ["playAction"].includes(i)), n.$$.dirty & 5376 && t(4, s = t(10, u = m.isShuffle) !== null && u !== void 0 ? u : ["shuffleAction"].includes(i)), n.$$.dirty & 2352 && t(7, o = t(11, c = m.isPrimary) !== null && c !== void 0 ? c : !m.isSecondary && (r || s)), n.$$.dirty & 256 && t(6, a = m.isSecondary) }, [d, f, g, h, s, r, a, o, m, l, u, c, i] } class zl extends oe { constructor(e) { super(), se(this, e, WIe, qIe, ye, { action: 0, ariaLabel: 1, title: 2, disabled: 3, styleOverride: 8 }) } } function KIe(n) { let e, t, i = [{ width: "28" }, { height: "28" }, { viewBox: "0 0 28 28" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0, style: !0, transform: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M42.53 51.92c6 0 10 3.42 10 8.6 0 5.86-5.26 10.25-13.17 10.25-10.55 0-17.14-6.88-17.14-16.3 0-20.32 26.31-26.28 26.31-53.18 0-5.9-2-9.86-6.49-9.86-8.98 0-15.43 8.5-15.43 21.19 0 16.9 18.6 55.8 18.6 71.48 0 5.23-2.73 9.18-6.78 9.18-.93 0-1.47-.49-1.47-1.22 0-1.17 1.37-2.49 1.37-4.69 0-3.8-2.54-6.34-6.35-6.34-4.2 0-6.98 2.97-6.98 7.37 0 5.8 5.18 9.67 12.65 9.67C45.07 98.07 50 92.2 50 84.1c0-13.72-18.07-58.79-18.5-67.48C31 7.7 36.56 2.46 41.8 2.46c1.17 0 1.76.59 1.76 1.86 0 16.01-33.8 19.77-33.8 46.73 0 15.23 11.68 24.5 29.1 24.5 14.12 0 24.27-8.78 24.27-21.33 0-10.65-7.76-17.73-17.13-17.73-9.72 0-17.78 7.18-17.78 17.97 0 2.4 2.1 2.84 3.81 1.66 2.59-1.8 6.5-4.2 10.5-4.2Z"), Pt(t, "fill-rule", "nonzero"), p(t, "transform", "translate(6.39 4.65) scale(.20887)"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "28" }, { height: "28" }, { viewBox: "0 0 28 28" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function JIe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let YIe = class extends oe { constructor(e) { super(), se(this, e, JIe, KIe, ht, {}) } }; function SS(n) { let e, t; return e = new en({ props: { action: n[0].segue, ariaLabel: n[1], $$slots: { default: [XIe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.action = i[0].segue), r & 2 && (s.ariaLabel = i[1]), r & 8 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function XIe(n) { let e, t; return e = new YIe({ props: { class: "classical__action", "aria-hidden": "true", "data-testid": "classical-btn" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function ZIe(n) { let e, t, i = n[2] && SS(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[2] ? i ? (i.p(r, s), s & 4 && w(i, 1)) : (i = SS(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function QIe(n, e, t) { let i, { classicalAction: r } = e, { ariaLabel: s = null } = e; return n.$$set = o => { "classicalAction" in o && t(0, r = o.classicalAction), "ariaLabel" in o && t(1, s = o.ariaLabel) }, n.$$.update = () => { n.$$.dirty & 1 && t(2, i = !!r) }, [r, s, i] } class nv extends oe { constructor(e) { super(), se(this, e, QIe, ZIe, ye, { classicalAction: 0, ariaLabel: 1 }) } } function CS(n) { let e, t; return e = new yi({ props: { buttonStyle: n[1].buttonType, ariaLabel: n[1].text, $$slots: { default: [jIe] }, $$scope: { ctx: n } } }), e.$on("buttonClick", n[7]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.buttonStyle = i[1].buttonType), r & 2 && (s.ariaLabel = i[1].text), r & 2050 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function jIe(n) { let e = n[1].text + "", t, i, r, s; return r = new Ll({ props: { class: "web-to-native__action", "aria-hidden": "true", "data-testid": "cta-button-arrow-icon" } }), { c() { t = le(e), i = Y(), V(r.$$.fragment) }, l(o) { t = ue(o, e), i = X(o), q(r.$$.fragment, o) }, m(o, a) { I(o, t, a), I(o, i, a), H(r, o, a), s = !0 }, p(o, a) { (!s || a & 2) && e !== (e = o[1].text + "") && me(t, e) }, i(o) { s || (w(r.$$.fragment, o), s = !0) }, o(o) { D(r.$$.fragment, o), s = !1 }, d(o) { o && (_(t), _(i)), $(r, o) } } } function GIe(n) { let e, t, i = n[2] && CS(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[2] ? i ? (i.p(r, s), s & 4 && w(i, 1)) : (i = CS(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } const _d = "itunes"; function xIe(n, e, t) { let i, r, s, o; const a = ot(); ce(n, a, h => t(8, o = h)); const l = Oi.isAndroid(); let { profile: u = "default" } = e, { url: c = null } = e, { price: d = null } = e; const f = { default: { app: bs, text: o.t("ASE.Web.Music.openInMusic"), buttonType: "pillButton" }, socialProfile: { app: bs, text: o.t("ASE.Web.Music.Social.Follow.Profile"), buttonType: "socialProfileButton" }, socialProfileSelf: { app: bs, text: o.t("ASE.Web.Music.openInMusic"), buttonType: "socialProfileButton" }, store: { app: _d, text: o.t("ASE.Web.Music.Album.StoreContent.Purchase"), buttonType: "textButton" }, storeOnly: { app: _d, text: o.t("ASE.Web.Music.Album.StoreContent.Purchase.StoreOnly"), buttonType: "textButton" }, storeOnlyPill: { app: _d, text: o.t("ASE.Web.Music.Album.CTA.StoreContent.Offer", { price: d }), buttonType: "pillButton" } }, g = () => Ws(c, i.app); return n.$$set = h => { "profile" in h && t(4, u = h.profile), "url" in h && t(0, c = h.url), "price" in h && t(5, d = h.price) }, n.$$.update = () => { n.$$.dirty & 16 && t(1, i = f[u] || f.default), n.$$.dirty & 2 && t(6, r = i.app === _d && l), n.$$.dirty & 64 && t(2, s = !r) }, [c, i, s, a, u, d, r, g] } class hh extends oe { constructor(e) { super(), se(this, e, xIe, GIe, ye, { profile: 4, url: 0, price: 5 }) } } function PS(n) { let e, t; return e = new Ro({ props: { translateFn: n[0].t, config: n[2] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.translateFn = i[0].t), r & 4 && (s.config = i[2]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function eMe(n) { var r, s; let e, t, i = ((s = (r = n[2]) == null ? void 0 : r.items) == null ? void 0 : s.length) && n[1] && PS(n); return { c() { i && i.c(), e = re() }, l(o) { i && i.l(o), e = re() }, m(o, a) { i && i.m(o, a), I(o, e, a), t = !0 }, p(o, [a]) { var l, u; (u = (l = o[2]) == null ? void 0 : l.items) != null && u.length && o[1] ? i ? (i.p(o, a), a & 6 && w(i, 1)) : (i = PS(o), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(o) { t || (w(i), t = !0) }, o(o) { D(i), t = !1 }, d(o) { o && _(e), i && i.d(o) } } } function tMe(n, e, t) { let i, r, s, o, a, l, u; ce(n, pf, P => t(14, a = P)); var c, d, f, g; kn("<CollaborationContextMenu />"); const h = ot(); ce(n, h, P => t(0, l = P)); const m = Fo(), { state: v } = xt(); ce(n, v, P => t(15, u = P)); const b = It(); let { collaborationId: y } = e, { profileId: k } = e, { dialogElement: S = null } = e; function C(P = !1) { b("collabMenuActionComplete", { isForSelf: P }) } return n.$$set = P => { "collaborationId" in P && t(5, y = P.collaborationId), "profileId" in P && t(6, k = P.profileId), "dialogElement" in P && t(7, S = P.dialogElement) }, n.$$.update = () => { n.$$.dirty & 33536 && t(13, i = t(9, d = t(8, c = u == null ? void 0 : u.userSocialProfile) === null || c === void 0 ? void 0 : c.userSocialProfileDescriptor) !== null && d !== void 0 ? d : {}), n.$$.dirty & 11328 && t(12, r = k === (t(11, g = t(10, f = i == null ? void 0 : i.contentDescriptor) === null || f === void 0 ? void 0 : f.identifiers) === null || g === void 0 ? void 0 : g.socialProfileID)), n.$$.dirty & 4321 && t(2, s = Object.assign(Object.assign({}, m.getCollaborationMenuOptions(y, k, l, r, C)), { parentElement: S })), n.$$.dirty & 20480 && t(1, o = (a == null ? void 0 : a.isCollaborativeHost) || r) }, [l, o, s, h, v, y, k, S, c, d, f, g, r, i, a, u] } class nMe extends oe { constructor(e) { super(), se(this, e, tMe, eMe, ye, { collaborationId: 5, profileId: 6, dialogElement: 7 }) } } function iMe(n, e, t, i) { return { $kind: "pendingCollaboratorAction", playlistId: n, socialProfileId: e, invitationUrl: t, actionType: i, actionMetrics: { data: [], custom: {} } } } function rMe(n) { let e, t, i = [{ viewBox: "0 0 67.09 66.113" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M25.879 66.113c1.904 0 3.418-.83 4.492-2.49L65.967 7.324c.83-1.27 1.123-2.295 1.123-3.32C67.09 1.61 65.527 0 63.086 0c-1.758 0-2.734.586-3.809 2.295L25.684 56.2 8.008 32.373c-1.123-1.514-2.197-2.148-3.809-2.148-2.441 0-4.199 1.709-4.199 4.15 0 1.025.44 2.148 1.27 3.223l19.97 25.927c1.367 1.758 2.735 2.588 4.639 2.588Z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ viewBox: "0 0 67.09 66.113" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function sMe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let oMe = class extends oe { constructor(e) { super(), se(this, e, sMe, rMe, ht, {}) } }; const aMe = n => ({}), AS = n => ({}); function ES(n, e, t) { const i = n.slice(); return i[22] = e[t].attributes, i[23] = e[t].id, i[24] = e[t].meta, i[26] = t, i } const lMe = n => ({}), IS = n => ({}); function MS(n) { let e; const t = n[16]["collaborator-list-header"], i = We(t, n, n[15], IS); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 32768) && Je(i, t, r, r[15], e ? Ke(t, r[15], s, lMe) : Ye(r[15]), IS) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function LS(n) { let e; return { c() { e = le("(Owner)") }, l(t) { e = ue(t, "(Owner)") }, m(t, i) { I(t, e, i) }, d(t) { t && _(e) } } } function uMe(n) { let e, t = n[22].handle + "", i; return { c() { e = le("@"), i = le(t) }, l(r) { e = ue(r, "@"), i = ue(r, t) }, m(r, s) { I(r, e, s), I(r, i, s) }, p(r, s) { s & 1 && t !== (t = r[22].handle + "") && me(i, t) }, d(r) { r && (_(e), _(i)) } } } function cMe(n) { let e; return { c() { e = le("Wants to join") }, l(t) { e = ue(t, "Wants to join") }, m(t, i) { I(t, e, i) }, p: j, d(t) { t && _(e) } } } function dMe(n) { let e, t, i, r, s, o, a, l, u; i = new oMe({ props: { "aria-hidden": "true" } }); function c() { return n[17](n[23]) } o = new rr({ props: { "aria-hidden": "true" } }); function d() { return n[18](n[23]) } return { c() { e = L("div"), t = L("button"), V(i.$$.fragment), r = Y(), s = L("button"), V(o.$$.fragment), this.h() }, l(f) { e = T(f, "DIV", { class: !0, "data-testid": !0 }); var g = E(e); t = T(g, "BUTTON", { type: !0, class: !0, "aria-label": !0 }); var h = E(t); q(i.$$.fragment, h), h.forEach(_), r = X(g), s = T(g, "BUTTON", { type: !0, class: !0, "aria-label": !0 }); var m = E(s); q(o.$$.fragment, m), m.forEach(_), g.forEach(_), this.h() }, h() { p(t, "type", "button"), p(t, "class", "action-button action-button--approved svelte-8adngo"), p(t, "aria-label", "approve collaboration"), p(s, "type", "button"), p(s, "class", "action-button action-button--declined svelte-8adngo"), p(s, "aria-label", "decline collaboration"), p(e, "class", "collaborators__pending-actions svelte-8adngo"), p(e, "data-testid", "collaborators-modal-row-approval-actions") }, m(f, g) { I(f, e, g), A(e, t), H(i, t, null), A(e, r), A(e, s), H(o, s, null), a = !0, l || (u = [Me(t, "click", c), Me(s, "click", d)], l = !0) }, p(f, g) { n = f }, i(f) { a || (w(i.$$.fragment, f), w(o.$$.fragment, f), a = !0) }, o(f) { D(i.$$.fragment, f), D(o.$$.fragment, f), a = !1 }, d(f) { f && _(e), $(i), $(o), l = !1, Ot(u) } } } function fMe(n) { let e, t; return e = new nMe({ props: { profileId: n[23], collaborationId: n[3], dialogElement: n[2] } }), e.$on("collabMenuActionComplete", n[10]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.profileId = i[23]), r & 8 && (s.collaborationId = i[3]), r & 4 && (s.dialogElement = i[2]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function gMe(n) { let e, t = n[7].t("ASE.Web.Music.Library.PlaylistCollaborators.Follow") + "", i, r, s, o; return { c() { e = L("a"), i = le(t), this.h() }, l(a) { e = T(a, "A", { class: !0, "data-testid": !0, href: !0 }); var l = E(e); i = ue(l, t), l.forEach(_), this.h() }, h() { p(e, "class", "collaborators__follow-button svelte-8adngo"), p(e, "data-testid", "follow-button"), p(e, "href", r = n[22].url) }, m(a, l) { I(a, e, l), A(e, i), s || (o = Me(e, "click", Ui(n[9])), s = !0) }, p(a, l) { l & 128 && t !== (t = a[7].t("ASE.Web.Music.Library.PlaylistCollaborators.Follow") + "") && me(i, t), l & 1 && r !== (r = a[22].url) && p(e, "href", r) }, i: j, o: j, d(a) { a && _(e), s = !1, o() } } } function TS(n, e) { var N, O; let t, i, r, s, o, a, l, u = e[22].name + "", c, d, f, g, h, m, v, b, y; r = new Oo({ props: { artwork: (N = e[22]) == null ? void 0 : N.artwork, name: e[22].name, badgeStyle: "flat" } }); let k = e[1] && (((O = e[24]) == null ? void 0 : O.role) === Vp.Host || e[26] === 0) && LS(); function S(B, U) { if (B[4] && !B[24]) return cMe; if (B[22].handle) return uMe } let C = S(e), P = C && C(e); const M = [gMe, fMe, dMe], R = []; function F(B, U) { return B[6] && B[22].handle && B[22].followState === "notFollowing" ? 0 : B[5] ? 1 : B[4] ? 2 : -1 } return ~(m = F(e)) && (v = R[m] = M[m](e)), { key: n, first: null, c() { t = L("li"), i = L("div"), V(r.$$.fragment), s = Y(), o = L("div"), a = L("dl"), l = L("dt"), c = le(u), d = Y(), k && k.c(), f = Y(), g = L("dd"), P && P.c(), h = Y(), v && v.c(), b = Y(), this.h() }, l(B) { t = T(B, "LI", { class: !0, "data-testid": !0 }); var U = E(t); i = T(U, "DIV", { class: !0 }); var K = E(i); q(r.$$.fragment, K), K.forEach(_), s = X(U), o = T(U, "DIV", { class: !0 }); var W = E(o); a = T(W, "DL", { class: !0 }); var Z = E(a); l = T(Z, "DT", { class: !0, "data-testid": !0 }); var Q = E(l); c = ue(Q, u), d = X(Q), k && k.l(Q), f = X(Q), Q.forEach(_), g = T(Z, "DD", { class: !0, "data-testid": !0 }); var G = E(g); P && P.l(G), G.forEach(_), Z.forEach(_), h = X(W), v && v.l(W), W.forEach(_), b = X(U), U.forEach(_), this.h() }, h() { p(i, "class", "collaborators__artwork svelte-8adngo"), p(l, "class", "collaborators__name svelte-8adngo"), p(l, "data-testid", "collaborators-modal-row-name"), p(g, "class", "collaborators__handle svelte-8adngo"), p(g, "data-testid", "collaborators-modal-row-handle"), p(a, "class", "svelte-8adngo"), p(o, "class", "collaborators__details svelte-8adngo"), p(t, "class", "collaborators__row svelte-8adngo"), p(t, "data-testid", "collaborators-modal-row"), this.first = t }, m(B, U) { I(B, t, U), A(t, i), H(r, i, null), A(t, s), A(t, o), A(o, a), A(a, l), A(l, c), A(l, d), k && k.m(l, null), A(l, f), A(a, g), P && P.m(g, null), A(o, h), ~m && R[m].m(o, null), A(t, b), y = !0 }, p(B, U) { var Z, Q; e = B; const K = {}; U & 1 && (K.artwork = (Z = e[22]) == null ? void 0 : Z.artwork), U & 1 && (K.name = e[22].name), r.$set(K), (!y || U & 1) && u !== (u = e[22].name + "") && me(c, u), e[1] && (((Q = e[24]) == null ? void 0 : Q.role) === Vp.Host || e[26] === 0) ? k || (k = LS(), k.c(), k.m(l, f)) : k && (k.d(1), k = null), C === (C = S(e)) && P ? P.p(e, U) : (P && P.d(1), P = C && C(e), P && (P.c(), P.m(g, null))); let W = m; m = F(e), m === W ? ~m && R[m].p(e, U) : (v && (te(), D(R[W], 1, 1, () => { R[W] = null }), ne()), ~m ? (v = R[m], v ? v.p(e, U) : (v = R[m] = M[m](e), v.c()), w(v, 1), v.m(o, null)) : v = null) }, i(B) { y || (w(r.$$.fragment, B), w(v), y = !0) }, o(B) { D(r.$$.fragment, B), D(v), y = !1 }, d(B) { B && _(t), $(r), k && k.d(), P && P.d(), ~m && R[m].d() } } } function RS(n) { let e; const t = n[16]["collaborator-list-item"], i = We(t, n, n[15], AS); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 32768) && Je(i, t, r, r[15], e ? Ke(t, r[15], s, aMe) : Ye(r[15]), AS) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function hMe(n) { let e, t, i, r = [], s = new Map, o, a, l = n[12]["collaborator-list-header"] && MS(n), u = ut(n[0]); const c = f => f[23]; for (let f = 0; f < u.length; f += 1) { let g = ES(n, u, f), h = c(g); s.set(h, r[f] = TS(h, g)) } let d = n[12]["collaborator-list-item"] && RS(n); return { c() { e = L("div"), l && l.c(), t = Y(), i = L("ul"); for (let f = 0; f < r.length; f += 1)r[f].c(); o = Y(), d && d.c(), this.h() }, l(f) { e = T(f, "DIV", { class: !0 }); var g = E(e); l && l.l(g), t = X(g), i = T(g, "UL", {}); var h = E(i); for (let m = 0; m < r.length; m += 1)r[m].l(h); h.forEach(_), o = X(g), d && d.l(g), g.forEach(_), this.h() }, h() { p(e, "class", "collaborators__list svelte-8adngo") }, m(f, g) { I(f, e, g), l && l.m(e, null), A(e, t), A(e, i); for (let h = 0; h < r.length; h += 1)r[h] && r[h].m(i, null); A(e, o), d && d.m(e, null), a = !0 }, p(f, [g]) { f[12]["collaborator-list-header"] ? l ? (l.p(f, g), g & 4096 && w(l, 1)) : (l = MS(f), l.c(), w(l, 1), l.m(e, t)) : l && (te(), D(l, 1, 1, () => { l = null }), ne()), g & 3839 && (u = ut(f[0]), te(), r = lr(r, g, c, 1, f, u, s, i, Ir, TS, null, ES), ne()), f[12]["collaborator-list-item"] ? d ? (d.p(f, g), g & 4096 && w(d, 1)) : (d = RS(f), d.c(), w(d, 1), d.m(e, null)) : d && (te(), D(d, 1, 1, () => { d = null }), ne()) }, i(f) { if (!a) { w(l); for (let g = 0; g < u.length; g += 1)w(r[g]); w(d), a = !0 } }, o(f) { D(l); for (let g = 0; g < r.length; g += 1)D(r[g]); D(d), a = !1 }, d(f) { f && _(e), l && l.d(); for (let g = 0; g < r.length; g += 1)r[g].d(); d && d.d() } } } function mMe(n, e, t) { let i, r, s, o, a, l; ce(n, pf, F => t(14, l = F)); let { $$slots: u = {}, $$scope: c } = e; const d = wn(u), f = It(), g = ot(); ce(n, g, F => t(7, a = F)); const h = fn(); let { collaborators: m } = e, { indicateOwner: v = !1 } = e, { collaboratorAction: b } = e, { dialogElement: y = null } = e; async function k(F) { let N = F.target.href; const O = await h.routeUrl(N); Ws(N, bs, O) } function S() { f("refreshManageModal") } function C(F) { const { isForSelf: N } = F.detail; N ? pf.setVisibility(!1) : S() } async function P(F, N) { var O, B; const U = await h.perform(iMe(i, F, l.invitationUrl, N)); U != null && U.errors ? io({ header: "Collaboration Unavailable", message: ((B = (O = U == null ? void 0 : U.errors) === null || O === void 0 ? void 0 : O[0]) === null || B === void 0 ? void 0 : B.messageForDisplay) || "Try again later", confirmText: a.t("ASE.Web.Music.OK") }) : S() } const M = F => P(F, $p.Approve), R = F => P(F, $p.Remove); return n.$$set = F => { "collaborators" in F && t(0, m = F.collaborators), "indicateOwner" in F && t(1, v = F.indicateOwner), "collaboratorAction" in F && t(13, b = F.collaboratorAction), "dialogElement" in F && t(2, y = F.dialogElement), "$$scope" in F && t(15, c = F.$$scope) }, n.$$.update = () => { n.$$.dirty & 16384 && t(3, i = l == null ? void 0 : l.playlistId), n.$$.dirty & 8192 && t(6, r = b === yu.Follow), n.$$.dirty & 8192 && t(5, s = b === yu.ContextMenu), n.$$.dirty & 8192 && t(4, o = b === yu.NeedsApproval) }, [m, v, y, i, o, s, r, a, g, k, C, P, d, b, l, c, u, M, R] } class pMe extends oe { constructor(e) { super(), se(this, e, mMe, hMe, ye, { collaborators: 0, indicateOwner: 1, collaboratorAction: 13, dialogElement: 2 }) } } function _Me(n) { let e, t, i, r, s, o; return { c() { e = L("header"), t = L("h1"), i = le(n[0]), r = Y(), s = L("span"), o = le(n[1]), this.h() }, l(a) { e = T(a, "HEADER", { class: !0 }); var l = E(e); t = T(l, "H1", { class: !0, "data-testid": !0 }); var u = E(t); i = ue(u, n[0]), u.forEach(_), r = X(l), s = T(l, "SPAN", { class: !0, "data-testid": !0 }); var c = E(s); o = ue(c, n[1]), c.forEach(_), l.forEach(_), this.h() }, h() { p(t, "class", "collaborators-modal__title svelte-13fqnjx"), p(t, "data-testid", "playlist-collaboration-header-title"), p(s, "class", "collaborators-modal__subtitle svelte-13fqnjx"), p(s, "data-testid", "playlist-collaboration-header-subtitle"), p(e, "class", "collaborators-modal__header svelte-13fqnjx") }, m(a, l) { I(a, e, l), A(e, t), A(t, i), A(e, r), A(e, s), A(s, o) }, p(a, [l]) { l & 1 && me(i, a[0]), l & 2 && me(o, a[1]) }, i: j, o: j, d(a) { a && _(e) } } } function vMe(n, e, t) { let { modalTitle: i } = e, { modalSubtitle: r } = e; return n.$$set = s => { "modalTitle" in s && t(0, i = s.modalTitle), "modalSubtitle" in s && t(1, r = s.modalSubtitle) }, [i, r] } class bMe extends oe { constructor(e) { super(), se(this, e, vMe, _Me, ye, { modalTitle: 0, modalSubtitle: 1 }) } } function yMe(n) { var i, r, s, o; let e, t; return e = new Oo({ props: { name: (r = (i = n[21]) == null ? void 0 : i.attributes) == null ? void 0 : r.name, artwork: (o = (s = n[21]) == null ? void 0 : s.attributes) == null ? void 0 : o.artwork, badgeStyle: "flat" } }), { c() { V(e.$$.fragment) }, l(a) { q(e.$$.fragment, a) }, m(a, l) { H(e, a, l), t = !0 }, p(a, l) { var c, d, f, g; const u = {}; l & 2097152 && (u.name = (d = (c = a[21]) == null ? void 0 : c.attributes) == null ? void 0 : d.name), l & 2097152 && (u.artwork = (g = (f = a[21]) == null ? void 0 : f.attributes) == null ? void 0 : g.artwork), e.$set(u) }, i(a) { t || (w(e.$$.fragment, a), t = !0) }, o(a) { D(e.$$.fragment, a), t = !1 }, d(a) { $(e, a) } } } function wMe(n) { let e; return { c() { e = le(n[5]) }, l(t) { e = ue(t, n[5]) }, m(t, i) { I(t, e, i) }, p(t, i) { i & 32 && me(e, t[5]) }, d(t) { t && _(e) } } } function kMe(n) { let e = n[7].t("ASE.Web.Music.PlaylistCollaborators.Collaborators", { count: n[0].length - 1, name: n[5] }) + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 161 && e !== (e = i[7].t("ASE.Web.Music.PlaylistCollaborators.Collaborators", { count: i[0].length - 1, name: i[5] }) + "") && me(t, e) }, d(i) { i && _(t) } } } function FS(n) { let e, t, i = { modalTriggerElement: n[4], $$slots: { default: [SMe] }, $$scope: { ctx: n } }; return e = new Es({ props: i }), n[15](e), e.$on("close", n[16]), { c() { V(e.$$.fragment) }, l(r) { q(e.$$.fragment, r) }, m(r, s) { H(e, r, s), t = !0 }, p(r, s) { const o = {}; s & 16 && (o.modalTriggerElement = r[4]), s & 4194435 && (o.$$scope = { dirty: s, ctx: r }), e.$set(o) }, i(r) { t || (w(e.$$.fragment, r), t = !0) }, o(r) { D(e.$$.fragment, r), t = !1 }, d(r) { n[15](null), $(e, r) } } } function DMe(n) { let e = n[7].t("ASE.Web.Music.Library.PlaylistCollaborators.Close") + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 128 && e !== (e = i[7].t("ASE.Web.Music.Library.PlaylistCollaborators.Close") + "") && me(t, e) }, d(i) { i && _(t) } } } function SMe(n) { let e, t, i, r, s, o, a, l, u; return t = new bMe({ props: { modalTitle: n[1], modalSubtitle: n[7].t("ASE.Web.Music.Library.PlaylistCollaborators.Collaborators", { count: n[0].length }) } }), s = new pMe({ props: { collaborators: n[0], collaboratorAction: yu.Follow, indicateOwner: !0 } }), l = new yi({ props: { buttonStyle: "buttonA", $$slots: { default: [DMe] }, $$scope: { ctx: n } } }), l.$on("buttonClick", n[14]), { c() { e = L("div"), V(t.$$.fragment), i = Y(), r = L("div"), V(s.$$.fragment), o = Y(), a = L("div"), V(l.$$.fragment), this.h() }, l(c) { e = T(c, "DIV", { class: !0 }); var d = E(e); q(t.$$.fragment, d), i = X(d), r = T(d, "DIV", { class: !0 }); var f = E(r); q(s.$$.fragment, f), f.forEach(_), o = X(d), a = T(d, "DIV", { class: !0 }); var g = E(a); q(l.$$.fragment, g), g.forEach(_), d.forEach(_), this.h() }, h() { p(r, "class", "collaborators svelte-1nkrtx5"), p(a, "class", "collaborators-modal__actions svelte-1nkrtx5"), p(e, "class", "collaborators-modal svelte-1nkrtx5") }, m(c, d) { I(c, e, d), H(t, e, null), A(e, i), A(e, r), H(s, r, null), A(e, o), A(e, a), H(l, a, null), u = !0 }, p(c, d) { const f = {}; d & 2 && (f.modalTitle = c[1]), d & 129 && (f.modalSubtitle = c[7].t("ASE.Web.Music.Library.PlaylistCollaborators.Collaborators", { count: c[0].length })), t.$set(f); const g = {}; d & 1 && (g.collaborators = c[0]), s.$set(g); const h = {}; d & 4194432 && (h.$$scope = { dirty: d, ctx: c }), l.$set(h) }, i(c) { u || (w(t.$$.fragment, c), w(s.$$.fragment, c), w(l.$$.fragment, c), u = !0) }, o(c) { D(t.$$.fragment, c), D(s.$$.fragment, c), D(l.$$.fragment, c), u = !1 }, d(c) { c && _(e), $(t), $(s), $(l) } } } function CMe(n) { let e, t, i, r, s, o, a, l, u, c; t = new $B({ props: { items: n[6], $$slots: { default: [yMe, ({ item: m }) => ({ 21: m }), ({ item: m }) => m ? 2097152 : 0] }, $$scope: { ctx: n } } }); function d(m, v) { var b; return ((b = m[0]) == null ? void 0 : b.length) > 1 ? kMe : wMe } let f = d(n), g = f(n), h = n[3] && FS(n); return { c() { e = L("button"), V(t.$$.fragment), i = Y(), r = L("div"), g.c(), o = Y(), h && h.c(), a = re(), this.h() }, l(m) { e = T(m, "BUTTON", { class: !0, "aria-label": !0, type: !0, "data-testid": !0 }); var v = E(e); q(t.$$.fragment, v), i = X(v), r = T(v, "DIV", { class: !0, "data-testid": !0 }); var b = E(r); g.l(b), b.forEach(_), v.forEach(_), o = X(m), h && h.l(m), a = re(), this.h() }, h() { p(r, "class", "collaborators-button__names svelte-1nkrtx5"), p(r, "data-testid", "collaborators-names"), p(e, "class", "collaborators-button svelte-1nkrtx5"), p(e, "aria-label", s = n[7].t("ASE.Web.Music.Library.PlaylistCollaborators.View")), p(e, "type", "button"), p(e, "data-testid", "playlist-collaborators-button") }, m(m, v) { I(m, e, v), H(t, e, null), A(e, i), A(e, r), g.m(r, null), n[13](e), I(m, o, v), h && h.m(m, v), I(m, a, v), l = !0, u || (c = Me(e, "click", n[9]), u = !0) }, p(m, [v]) { const b = {}; v & 64 && (b.items = m[6]), v & 6291456 && (b.$$scope = { dirty: v, ctx: m }), t.$set(b), f === (f = d(m)) && g ? g.p(m, v) : (g.d(1), g = f(m), g && (g.c(), g.m(r, null))), (!l || v & 128 && s !== (s = m[7].t("ASE.Web.Music.Library.PlaylistCollaborators.View"))) && p(e, "aria-label", s), m[3] ? h ? (h.p(m, v), v & 8 && w(h, 1)) : (h = FS(m), h.c(), w(h, 1), h.m(a.parentNode, a)) : h && (te(), D(h, 1, 1, () => { h = null }), ne()) }, i(m) { l || (w(t.$$.fragment, m), w(h), l = !0) }, o(m) { D(t.$$.fragment, m), D(h), l = !1 }, d(m) { m && (_(e), _(o), _(a)), $(t), g.d(), n[13](null), h && h.d(m), u = !1, c() } } } function PMe(n, e, t) { let i, r, s; var o, a; const l = Tn(); let { collaborators: u } = e, { playlistTitle: c } = e, d, f, g = !1, h = ot(); ce(n, h, M => t(7, s = M)); let m = fn(); function v() { (u == null ? void 0 : u.length) === 1 ? b(u[0].attributes.handle) : y(!0) } async function b(M) { const R = co({ handle: M, storefront: l.storefront, language: l.language }), F = At({ kind: vt.CatalogPage, intent: R }, Ve); await m.perform(F) } function y(M) { t(3, g = M) } function k(M) { wt[M ? "unshift" : "push"](() => { d = M, t(4, d) }) } const S = () => y(!1); function C(M) { wt[M ? "unshift" : "push"](() => { f = M, t(2, f) }) } const P = () => y(!1); return n.$$set = M => { "collaborators" in M && t(0, u = M.collaborators), "playlistTitle" in M && t(1, c = M.playlistTitle) }, n.$$.update = () => { n.$$.dirty & 12 && (g ? f == null || f.showModal() : f == null || f.close()), n.$$.dirty & 1 && t(6, i = u == null ? void 0 : u.slice(0, KT)), n.$$.dirty & 6145 && t(5, r = t(12, a = t(11, o = u == null ? void 0 : u[0]) === null || o === void 0 ? void 0 : o.attributes) === null || a === void 0 ? void 0 : a.name) }, [u, c, f, g, d, r, i, s, h, v, y, o, a, k, S, C, P] } class AMe extends oe { constructor(e) { super(), se(this, e, PMe, CMe, ye, { collaborators: 0, playlistTitle: 1 }) } } function QB(n) { let e; const t = () => { const { scrollHeight: s, scrollTop: o, offsetHeight: a } = n, l = s - a, u = o > 1, c = l === 0, d = o >= l, f = c || d; e && window.cancelAnimationFrame(e), e = window.requestAnimationFrame(() => n.dispatchEvent(new CustomEvent("scrollStatus", { detail: { contentIsScrolling: u, hideGradient: f } }))) }, i = Cr(t, 250), r = Bi(t, 50); return n.addEventListener("scroll", r, { capture: !0, passive: !0 }), window.addEventListener("resize", i), { destroy() { n.removeEventListener("scroll", r, { capture: !0 }), window.removeEventListener("resize", i), e && window.cancelAnimationFrame(e) } } } const EMe = n => ({}), OS = n => ({}), IMe = n => ({}), NS = n => ({}); function BS(n) { let e; const t = n[11]["button-container"], i = We(t, n, n[10], NS); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 1024) && Je(i, t, r, r[10], e ? Ke(t, r[10], s, IMe) : Ye(r[10]), NS) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function US(n) { let e, t, i = n[0] && HS(n), r = n[1] && $S(n); return { c() { e = L("div"), i && i.c(), t = Y(), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); i && i.l(o), t = X(o), r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "header-container svelte-1ih6d3u"), J(e, "content-is-scrolling", n[6]) }, m(s, o) { I(s, e, o), i && i.m(e, null), A(e, t), r && r.m(e, null) }, p(s, o) { s[0] ? i ? i.p(s, o) : (i = HS(s), i.c(), i.m(e, t)) : i && (i.d(1), i = null), s[1] ? r ? r.p(s, o) : (r = $S(s), r.c(), r.m(e, null)) : r && (r.d(1), r = null), o & 64 && J(e, "content-is-scrolling", s[6]) }, d(s) { s && _(e), i && i.d(), r && r.d() } } } function HS(n) { let e, t; return { c() { e = L("h1"), t = le(n[0]), this.h() }, l(i) { e = T(i, "H1", { id: !0, "data-testid": !0, class: !0 }); var r = E(e); t = ue(r, n[0]), r.forEach(_), this.h() }, h() { p(e, "id", n[4]), p(e, "data-testid", "content-modal-title"), p(e, "class", "title svelte-1ih6d3u") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 1 && me(t, i[0]), r & 16 && p(e, "id", i[4]) }, d(i) { i && _(e) } } } function $S(n) { let e, t; return { c() { e = L("h2"), t = le(n[1]), this.h() }, l(i) { e = T(i, "H2", { "data-testid": !0, class: !0 }); var r = E(e); t = ue(r, n[1]), r.forEach(_), this.h() }, h() { p(e, "data-testid", "content-modal-subtitle"), p(e, "class", "subtitle svelte-1ih6d3u") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 2 && me(t, i[1]) }, d(i) { i && _(e) } } } function VS(n) { let e, t, i, r, s, o; const a = [LMe, MMe], l = []; function u(c, d) { return c[9].content ? 0 : 1 } return t = u(n), i = l[t] = a[t](n), { c() { e = L("div"), i.c(), this.h() }, l(c) { e = T(c, "DIV", { class: !0 }); var d = E(e); i.l(d), d.forEach(_), this.h() }, h() { p(e, "class", "content-container svelte-1ih6d3u") }, m(c, d) { I(c, e, d), l[t].m(e, null), n[12](e), r = !0, s || (o = [Ut(QB.call(null, e)), Me(e, "scrollStatus", n[13])], s = !0) }, p(c, d) { let f = t; t = u(c), t === f ? l[t].p(c, d) : (te(), D(l[f], 1, 1, () => { l[f] = null }), ne(), i = l[t], i ? i.p(c, d) : (i = l[t] = a[t](c), i.c()), w(i, 1), i.m(e, null)) }, i(c) { r || (w(i), r = !0) }, o(c) { D(i), r = !1 }, d(c) { c && _(e), l[t].d(), n[12](null), s = !1, Ot(o) } } } function MMe(n) { let e, t, i = Zn(n[2]) + ""; return { c() { e = L("p"), t = new Pi(!1), this.h() }, l(r) { e = T(r, "P", { "data-testid": !0 }); var s = E(e); t = hr(s, !1), s.forEach(_), this.h() }, h() { t.a = null, p(e, "data-testid", "content-modal-text") }, m(r, s) { I(r, e, s), t.m(i, e) }, p(r, s) { s & 4 && i !== (i = Zn(r[2]) + "") && t.p(i) }, i: j, o: j, d(r) { r && _(e) } } } function LMe(n) { let e; const t = n[11].content, i = We(t, n, n[10], OS); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 1024) && Je(i, t, r, r[10], e ? Ke(t, r[10], s, EMe) : Ye(r[10]), OS) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function TMe(n) { let e, t, i, r, s, o, a, l, u, c, d; r = new rr({ props: { "data-testid": "content-modal-close-button-svg" } }); let f = n[9]["button-container"] && BS(n), g = (n[0] || n[1]) && US(n), h = (n[2] || n[9].content) && VS(n); return { c() { e = L("div"), t = L("div"), i = L("button"), V(r.$$.fragment), o = Y(), f && f.c(), a = Y(), g && g.c(), l = Y(), h && h.c(), this.h() }, l(m) { e = T(m, "DIV", { "data-testid": !0, class: !0, dir: !0 }); var v = E(e); t = T(v, "DIV", { class: !0 }); var b = E(t); i = T(b, "BUTTON", { "data-testid": !0, class: !0, type: !0, "aria-label": !0 }); var y = E(i); q(r.$$.fragment, y), y.forEach(_), o = X(b), f && f.l(b), b.forEach(_), a = X(v), g && g.l(v), l = X(v), h && h.l(v), v.forEach(_), this.h() }, h() { p(i, "data-testid", "content-modal-close-button"), p(i, "class", "close-button svelte-1ih6d3u"), p(i, "type", "button"), p(i, "aria-label", s = n[3]("AMP.Shared.AX.Close")), p(t, "class", "button-container svelte-1ih6d3u"), p(e, "data-testid", "content-modal"), p(e, "class", "content-modal-container svelte-1ih6d3u"), p(e, "dir", "auto"), J(e, "hide-gradient", n[7]) }, m(m, v) { I(m, e, v), A(e, t), A(t, i), H(r, i, null), A(t, o), f && f.m(t, null), A(e, a), g && g.m(e, null), A(e, l), h && h.m(e, null), u = !0, c || (d = [Me(i, "click", n[8]), Ut(Ca.call(null, i))], c = !0) }, p(m, [v]) { (!u || v & 8 && s !== (s = m[3]("AMP.Shared.AX.Close"))) && p(i, "aria-label", s), m[9]["button-container"] ? f ? (f.p(m, v), v & 512 && w(f, 1)) : (f = BS(m), f.c(), w(f, 1), f.m(t, null)) : f && (te(), D(f, 1, 1, () => { f = null }), ne()), m[0] || m[1] ? g ? g.p(m, v) : (g = US(m), g.c(), g.m(e, l)) : g && (g.d(1), g = null), m[2] || m[9].content ? h ? (h.p(m, v), v & 516 && w(h, 1)) : (h = VS(m), h.c(), w(h, 1), h.m(e, null)) : h && (te(), D(h, 1, 1, () => { h = null }), ne()), (!u || v & 128) && J(e, "hide-gradient", m[7]) }, i(m) { u || (w(r.$$.fragment, m), w(f), w(h), u = !0) }, o(m) { D(r.$$.fragment, m), D(f), D(h), u = !1 }, d(m) { m && _(e), $(r), f && f.d(), g && g.d(), h && h.d(), c = !1, Ot(d) } } } function RMe(n, e, t) { let { $$slots: i = {}, $$scope: r } = e; const s = wn(i); let { title: o } = e, { subtitle: a } = e, { text: l = null } = e, { translateFn: u } = e, { dialogTitleId: c = null } = e, d, f = !1, g = !1; const h = It(), m = y => { y.preventDefault(), y.stopPropagation(), h("close") }; Yt(() => { let { scrollHeight: y, offsetHeight: k } = d; t(7, g = y - k === 0) }); function v(y) { wt[y ? "unshift" : "push"](() => { d = y, t(5, d) }) } const b = y => { t(6, f = y.detail.contentIsScrolling), t(7, g = y.detail.hideGradient) }; return n.$$set = y => { "title" in y && t(0, o = y.title), "subtitle" in y && t(1, a = y.subtitle), "text" in y && t(2, l = y.text), "translateFn" in y && t(3, u = y.translateFn), "dialogTitleId" in y && t(4, c = y.dialogTitleId), "$$scope" in y && t(10, r = y.$$scope) }, [o, a, l, u, c, d, f, g, m, s, r, i, v, b] } class FMe extends oe { constructor(e) { super(), se(this, e, RMe, TMe, ye, { title: 0, subtitle: 1, text: 2, translateFn: 3, dialogTitleId: 4 }) } } function zS(n) { let e, t, i, r; return { c() { e = L("button"), t = le(n[18]), this.h() }, l(s) { e = T(s, "BUTTON", { "data-testid": !0, class: !0, type: !0 }); var o = E(e); t = ue(o, n[18]), o.forEach(_), this.h() }, h() { p(e, "data-testid", "truncate-more-button"), p(e, "class", "more svelte-p1v1m6"), p(e, "type", "button") }, m(s, o) { I(s, e, o), A(e, t), i || (r = Me(e, "click", n[15]), i = !0) }, p: j, d(s) { s && _(e), i = !1, r() } } } function qS(n) { let e, t, i = { modalTriggerElement: n[13], ariaLabelledBy: n[17], $$slots: { default: [OMe] }, $$scope: { ctx: n } }; return e = new Es({ props: i }), n[21](e), { c() { V(e.$$.fragment) }, l(r) { q(e.$$.fragment, r) }, m(r, s) { H(e, r, s), t = !0 }, p(r, s) { const o = {}; s & 8192 && (o.modalTriggerElement = r[13]), s & 33554493 && (o.$$scope = { dirty: s, ctx: r }), e.$set(o) }, i(r) { t || (w(e.$$.fragment, r), t = !0) }, o(r) { D(e.$$.fragment, r), t = !1 }, d(r) { n[21](null), $(e, r) } } } function WS(n) { let e, t; return e = new FMe({ props: { title: n[2], subtitle: n[3], text: n[0], translateFn: n[4], dialogTitleId: n[17] } }), e.$on("close", n[16]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 4 && (s.title = i[2]), r & 8 && (s.subtitle = i[3]), r & 1 && (s.text = i[0]), r & 16 && (s.translateFn = i[4]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function OMe(n) { let e, t, i = n[5] === "contentModal" && WS(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[5] === "contentModal" ? i ? (i.p(r, s), s & 32 && w(i, 1)) : (i = WS(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function NMe(n) { let e, t, i, r = Zn(n[0], n[9]) + "", s, o, a, l, u, c, d = n[12] && zS(n), f = n[12] && !n[8] && qS(n); return { c() { e = L("div"), t = L("p"), i = new Pi(!1), s = Y(), d && d.c(), o = Y(), f && f.c(), a = re(), this.h() }, l(g) { e = T(g, "DIV", { class: !0 }); var h = E(e); t = T(h, "P", { "data-testid": !0, dir: !0, class: !0 }); var m = E(t); i = hr(m, !1), m.forEach(_), s = X(h), d && d.l(h), h.forEach(_), o = X(g), f && f.l(g), a = re(), this.h() }, h() { var g; i.a = null, p(t, "data-testid", "truncate-text"), p(t, "dir", "auto"), p(t, "class", "content svelte-p1v1m6"), J(t, "with-more-button", n[12]), J(t, "title-3", n[6] === "title-3"), J(t, "body", n[7] === "body"), Pt(t, "--lines", (g = n[1]) != null ? g : 4), Pt(t, "--line-height", "var(--lineHeight, 16)"), Pt(t, "--link-length", n[18].length), p(e, "class", "truncate-wrapper svelte-p1v1m6") }, m(g, h) { I(g, e, h), A(e, t), i.m(r, t), n[20](t), A(e, s), d && d.m(e, null), I(g, o, h), f && f.m(g, h), I(g, a, h), l = !0, u || (c = Me(window, "resize", Bi(n[14], 100)), u = !0) }, p(g, [h]) { var m; (!l || h & 513) && r !== (r = Zn(g[0], g[9]) + "") && i.p(r), (!l || h & 4096) && J(t, "with-more-button", g[12]), (!l || h & 64) && J(t, "title-3", g[6] === "title-3"), (!l || h & 128) && J(t, "body", g[7] === "body"), h & 2 && Pt(t, "--lines", (m = g[1]) != null ? m : 4), g[12] ? d ? d.p(g, h) : (d = zS(g), d.c(), d.m(e, null)) : d && (d.d(1), d = null), g[12] && !g[8] ? f ? (f.p(g, h), h & 4352 && w(f, 1)) : (f = qS(g), f.c(), w(f, 1), f.m(a.parentNode, a)) : f && (te(), D(f, 1, 1, () => { f = null }), ne()) }, i(g) { l || (w(f), l = !0) }, o(g) { D(f), l = !1 }, d(g) { g && (_(e), _(o), _(a)), n[20](null), d && d.d(), f && f.d(g), u = !1, c() } } } function BMe(n, e, t) { var B; const i = It(); let { text: r } = e, { lines: s = 4 } = e, { title: o = null } = e, { subtitle: a = null } = e, { translateFn: l } = e, { modalType: u = null } = e, { typography: c = null } = e, { bodyTypography: d = null } = e, { isPortalModal: f = !1 } = e, { expandText: g = !1 } = e, { sanitizeHtmlOptions: h = { allowedTags: [""], keepChildrenWhenRemovingParent: !0 } } = e, m, v, b = !1, y = null; function k() { t(12, b = v.scrollHeight > v.clientHeight) } function S(U) { U.preventDefault(), U.stopPropagation(), g ? (t(12, b = !1), v.style.setProperty("--lines", "unset")) : C(U) } function C(U) { t(13, y = U.target), i("openModal", U), m && m.showModal() } function P() { m.close() } const M = ro()(), R = p_(), F = (B = l("AMP.Shared.Truncate.More")) != null ? B : ""; Yt(async () => { await R(async U => { await U(), k() }) }); function N(U) { wt[U ? "unshift" : "push"](() => { v = U, t(11, v) }) } function O(U) { wt[U ? "unshift" : "push"](() => { m = U, t(10, m) }) } return n.$$set = U => { "text" in U && t(0, r = U.text), "lines" in U && t(1, s = U.lines), "title" in U && t(2, o = U.title), "subtitle" in U && t(3, a = U.subtitle), "translateFn" in U && t(4, l = U.translateFn), "modalType" in U && t(5, u = U.modalType), "typography" in U && t(6, c = U.typography), "bodyTypography" in U && t(7, d = U.bodyTypography), "isPortalModal" in U && t(8, f = U.isPortalModal), "expandText" in U && t(19, g = U.expandText), "sanitizeHtmlOptions" in U && t(9, h = U.sanitizeHtmlOptions) }, [r, s, o, a, l, u, c, d, f, h, m, v, b, y, k, S, P, M, F, g, N, O] } class iv extends oe { constructor(e) { super(), se(this, e, BMe, NMe, ye, { text: 0, lines: 1, title: 2, subtitle: 3, translateFn: 4, modalType: 5, typography: 6, bodyTypography: 7, isPortalModal: 8, expandText: 19, sanitizeHtmlOptions: 9 }) } } const UMe = n => ({}), KS = n => ({}), HMe = n => ({}), JS = n => ({}), $Me = n => ({}), YS = n => ({}), VMe = n => ({}), XS = n => ({}), zMe = n => ({}), ZS = n => ({}), qMe = n => ({}), QS = n => ({}), WMe = n => ({}), jS = n => ({}), KMe = n => ({}), GS = n => ({}), JMe = n => ({}), xS = n => ({}), YMe = n => ({}), e5 = n => ({}); function t5(n) { let e; const t = n[15].artwork, i = We(t, n, n[14], e5); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 16384) && Je(i, t, r, r[14], e ? Ke(t, r[14], s, YMe) : Ye(r[14]), e5) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function n5(n) { let e, t; const i = n[15]["metadata-top"], r = We(i, n, n[14], xS); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "headings__metadata-top svelte-1uuona0") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 16384) && Je(r, i, s, s[14], t ? Ke(i, s[14], o, JMe) : Ye(s[14]), xS) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function i5(n) { let e, t, i, r = n[13]["favorited-badge"] && r5(n), s = n[13].explicit && s5(n); return { c() { e = L("span"), r && r.c(), t = Y(), s && s.c(), this.h() }, l(o) { e = T(o, "SPAN", { class: !0 }); var a = E(e); r && r.l(a), t = X(a), s && s.l(a), a.forEach(_), this.h() }, h() { p(e, "class", "headings__badges svelte-1uuona0") }, m(o, a) { I(o, e, a), r && r.m(e, null), A(e, t), s && s.m(e, null), i = !0 }, p(o, a) { o[13]["favorited-badge"] ? r ? (r.p(o, a), a & 8192 && w(r, 1)) : (r = r5(o), r.c(), w(r, 1), r.m(e, t)) : r && (te(), D(r, 1, 1, () => { r = null }), ne()), o[13].explicit ? s ? (s.p(o, a), a & 8192 && w(s, 1)) : (s = s5(o), s.c(), w(s, 1), s.m(e, null)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()) }, i(o) { i || (w(r), w(s), i = !0) }, o(o) { D(r), D(s), i = !1 }, d(o) { o && _(e), r && r.d(), s && s.d() } } } function r5(n) { let e; const t = n[15]["favorited-badge"], i = We(t, n, n[14], GS); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 16384) && Je(i, t, r, r[14], e ? Ke(t, r[14], s, KMe) : Ye(r[14]), GS) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function s5(n) { let e; const t = n[15].explicit, i = We(t, n, n[14], jS); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 16384) && Je(i, t, r, r[14], e ? Ke(t, r[14], s, WMe) : Ye(r[14]), jS) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function o5(n) { let e, t, i; const r = n[15].subtitles, s = We(r, n, n[14], QS); return { c() { e = L("div"), s && s.c(), this.h() }, l(o) { e = T(o, "DIV", { class: !0, "data-testid": !0 }); var a = E(e); s && s.l(a), a.forEach(_), this.h() }, h() { p(e, "class", "headings__subtitles svelte-1uuona0"), p(e, "data-testid", "product-subtitles"), Jr(() => n[17].call(e)), J(e, "headings__subtitles--fluid-size", n[11]), J(e, "headings__subtitles--fluid-spacing", n[10]) }, m(o, a) { I(o, e, a), s && s.m(e, null), t = wf(e, n[17].bind(e)), i = !0 }, p(o, a) { s && s.p && (!i || a & 16384) && Je(s, r, o, o[14], i ? Ke(r, o[14], a, qMe) : Ye(o[14]), QS), (!i || a & 2048) && J(e, "headings__subtitles--fluid-size", o[11]), (!i || a & 1024) && J(e, "headings__subtitles--fluid-spacing", o[10]) }, i(o) { i || (w(s, o), i = !0) }, o(o) { D(s, o), i = !1 }, d(o) { o && _(e), s && s.d(o), t() } } } function a5(n) { let e, t; const i = n[15]["tertiary-titles"], r = We(i, n, n[14], ZS); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "headings__tertiary-titles") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 16384) && Je(r, i, s, s[14], t ? Ke(i, s[14], o, zMe) : Ye(s[14]), ZS) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function l5(n) { let e, t; const i = n[15]["metadata-bottom"], r = We(i, n, n[14], XS); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "headings__metadata-bottom svelte-1uuona0") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 16384) && Je(r, i, s, s[14], t ? Ke(i, s[14], o, VMe) : Ye(s[14]), XS) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function u5(n) { let e, t, i; return t = new iv({ props: { text: n[2], lines: jMe, title: n[4], subtitle: n[3], modalType: "contentModal", sanitizeHtmlOptions: n[6], translateFn: n[1] } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0, "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "description svelte-1uuona0"), p(e, "data-testid", "description") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 4 && (o.text = r[2]), s & 16 && (o.title = r[4]), s & 8 && (o.subtitle = r[3]), s & 64 && (o.sanitizeHtmlOptions = r[6]), s & 2 && (o.translateFn = r[1]), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function XMe(n) { let e, t, i, r = n[13]["play-button"] && c5(n), s = n[13]["shuffle-button"] && d5(n); return { c() { r && r.c(), e = Y(), s && s.c(), t = re() }, l(o) { r && r.l(o), e = X(o), s && s.l(o), t = re() }, m(o, a) { r && r.m(o, a), I(o, e, a), s && s.m(o, a), I(o, t, a), i = !0 }, p(o, a) { o[13]["play-button"] ? r ? (r.p(o, a), a & 8192 && w(r, 1)) : (r = c5(o), r.c(), w(r, 1), r.m(e.parentNode, e)) : r && (te(), D(r, 1, 1, () => { r = null }), ne()), o[13]["shuffle-button"] ? s ? (s.p(o, a), a & 8192 && w(s, 1)) : (s = d5(o), s.c(), w(s, 1), s.m(t.parentNode, t)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()) }, i(o) { i || (w(r), w(s), i = !0) }, o(o) { D(r), D(s), i = !1 }, d(o) { o && (_(e), _(t)), r && r.d(o), s && s.d(o) } } } function ZMe(n) { let e, t; return { c() { e = L("div"), t = le(n[5]), this.h() }, l(i) { e = T(i, "DIV", { class: !0, "data-testid": !0 }); var r = E(e); t = ue(r, n[5]), r.forEach(_), this.h() }, h() { p(e, "class", "primary-actions__siri-banner svelte-1uuona0"), p(e, "data-testid", "siri-banner") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 32 && me(t, i[5]) }, i: j, o: j, d(i) { i && _(e) } } } function c5(n) { let e, t; const i = n[15]["play-button"], r = We(i, n, n[14], YS); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "primary-actions__button primary-actions__button--play svelte-1uuona0") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 16384) && Je(r, i, s, s[14], t ? Ke(i, s[14], o, $Me) : Ye(s[14]), YS) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function d5(n) { let e, t; const i = n[15]["shuffle-button"], r = We(i, n, n[14], JS); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "primary-actions__button primary-actions__button--shuffle svelte-1uuona0") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 16384) && Je(r, i, s, s[14], t ? Ke(i, s[14], o, HMe) : Ye(s[14]), JS) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function f5(n) { let e, t; const i = n[15]["secondary-actions"], r = We(i, n, n[14], KS); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "secondary-actions svelte-1uuona0") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 16384) && Je(r, i, s, s[14], t ? Ke(i, s[14], o, UMe) : Ye(s[14]), KS) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function QMe(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k = n[13].artwork && t5(n), S = n[13]["metadata-top"] && n5(n), C = (n[13]["favorited-badge"] || n[13].explicit) && i5(n), P = n[13].subtitles && o5(n), M = n[13]["tertiary-titles"] && a5(n), R = n[13]["metadata-bottom"] && l5(n), F = n[2] && u5(n); const N = [ZMe, XMe], O = []; function B(K, W) { return K[5] ? 0 : K[13]["play-button"] || K[13]["shuffle-button"] ? 1 : -1 } ~(m = B(n)) && (v = O[m] = N[m](n)); let U = n[13]["secondary-actions"] && f5(n); return { c() { e = L("div"), k && k.c(), t = Y(), i = L("div"), S && S.c(), r = Y(), s = L("h1"), o = L("span"), a = le(n[0]), C && C.c(), u = Y(), P && P.c(), c = Y(), M && M.c(), d = Y(), R && R.c(), f = Y(), F && F.c(), g = Y(), h = L("div"), v && v.c(), b = Y(), U && U.c(), this.h() }, l(K) { e = T(K, "DIV", { class: !0, "data-testid": !0 }); var W = E(e); k && k.l(W), t = X(W), i = T(W, "DIV", { class: !0 }); var Z = E(i); S && S.l(Z), r = X(Z), s = T(Z, "H1", { class: !0, "data-testid": !0 }); var Q = E(s); o = T(Q, "SPAN", { dir: !0 }); var G = E(o); a = ue(G, n[0]), G.forEach(_), C && C.l(Q), Q.forEach(_), u = X(Z), P && P.l(Z), c = X(Z), M && M.l(Z), d = X(Z), R && R.l(Z), Z.forEach(_), f = X(W), F && F.l(W), g = X(W), h = T(W, "DIV", { class: !0 }); var ae = E(h); v && v.l(ae), ae.forEach(_), b = X(W), U && U.l(W), W.forEach(_), this.h() }, h() { p(o, "dir", "auto"), p(s, "class", "headings__title svelte-1uuona0"), p(s, "data-testid", "non-editable-product-title"), Jr(() => n[16].call(s)), J(s, "headings__title--fluid-size", n[12]), p(i, "class", "headings svelte-1uuona0"), p(h, "class", "primary-actions svelte-1uuona0"), p(e, "class", "container-detail-header svelte-1uuona0"), p(e, "data-testid", "container-detail-header"), J(e, "container-detail-header--no-description", !n[2]), J(e, "container-detail-header--metadata-tall", n[7]) }, m(K, W) { I(K, e, W), k && k.m(e, null), A(e, t), A(e, i), S && S.m(i, null), A(i, r), A(i, s), A(s, o), A(o, a), C && C.m(s, null), l = wf(s, n[16].bind(s)), A(i, u), P && P.m(i, null), A(i, c), M && M.m(i, null), A(i, d), R && R.m(i, null), A(e, f), F && F.m(e, null), A(e, g), A(e, h), ~m && O[m].m(h, null), A(e, b), U && U.m(e, null), y = !0 }, p(K, [W]) { K[13].artwork ? k ? (k.p(K, W), W & 8192 && w(k, 1)) : (k = t5(K), k.c(), w(k, 1), k.m(e, t)) : k && (te(), D(k, 1, 1, () => { k = null }), ne()), K[13]["metadata-top"] ? S ? (S.p(K, W), W & 8192 && w(S, 1)) : (S = n5(K), S.c(), w(S, 1), S.m(i, r)) : S && (te(), D(S, 1, 1, () => { S = null }), ne()), (!y || W & 1) && me(a, K[0]), K[13]["favorited-badge"] || K[13].explicit ? C ? (C.p(K, W), W & 8192 && w(C, 1)) : (C = i5(K), C.c(), w(C, 1), C.m(s, null)) : C && (te(), D(C, 1, 1, () => { C = null }), ne()), (!y || W & 4096) && J(s, "headings__title--fluid-size", K[12]), K[13].subtitles ? P ? (P.p(K, W), W & 8192 && w(P, 1)) : (P = o5(K), P.c(), w(P, 1), P.m(i, c)) : P && (te(), D(P, 1, 1, () => { P = null }), ne()), K[13]["tertiary-titles"] ? M ? (M.p(K, W), W & 8192 && w(M, 1)) : (M = a5(K), M.c(), w(M, 1), M.m(i, d)) : M && (te(), D(M, 1, 1, () => { M = null }), ne()), K[13]["metadata-bottom"] ? R ? (R.p(K, W), W & 8192 && w(R, 1)) : (R = l5(K), R.c(), w(R, 1), R.m(i, null)) : R && (te(), D(R, 1, 1, () => { R = null }), ne()), K[2] ? F ? (F.p(K, W), W & 4 && w(F, 1)) : (F = u5(K), F.c(), w(F, 1), F.m(e, g)) : F && (te(), D(F, 1, 1, () => { F = null }), ne()); let Z = m; m = B(K), m === Z ? ~m && O[m].p(K, W) : (v && (te(), D(O[Z], 1, 1, () => { O[Z] = null }), ne()), ~m ? (v = O[m], v ? v.p(K, W) : (v = O[m] = N[m](K), v.c()), w(v, 1), v.m(h, null)) : v = null), K[13]["secondary-actions"] ? U ? (U.p(K, W), W & 8192 && w(U, 1)) : (U = f5(K), U.c(), w(U, 1), U.m(e, null)) : U && (te(), D(U, 1, 1, () => { U = null }), ne()), (!y || W & 4) && J(e, "container-detail-header--no-description", !K[2]), (!y || W & 128) && J(e, "container-detail-header--metadata-tall", K[7]) }, i(K) { y || (w(k), w(S), w(C), w(P), w(M), w(R), w(F), w(v), w(U), y = !0) }, o(K) { D(k), D(S), D(C), D(P), D(M), D(R), D(F), D(v), D(U), y = !1 }, d(K) { K && _(e), k && k.d(), S && S.d(), C && C.d(), l(), P && P.d(), M && M.d(), R && R.d(), F && F.d(), ~m && O[m].d(), U && U.d() } } } const jMe = 3, Xm = 32, GMe = 52, xMe = 62, eLe = 54, tLe = 76; function nLe(n, e, t) { let i, r, s, { $$slots: o = {}, $$scope: a } = e; const l = wn(o); let { title: u } = e, { translateFn: c = null } = e, { modalText: d = null } = e, { modalSubtitle: f = null } = e, { modalTitle: g = null } = e, { nonPlayableConfigTitle: h = null } = e, { sanitizeHtmlOptions: m = void 0 } = e, { useExpandedHeadings: v = !1 } = e, b, y; Yt(() => { var C, P, M; (M = (P = (C = document.querySelector(".primary-actions")) == null ? void 0 : C.querySelector("[data-should-focus]")) == null ? void 0 : P.querySelector("button")) == null || M.focus() }); function k() { b = this.clientHeight, t(8, b) } function S() { y = this.clientHeight, t(9, y) } return n.$$set = C => { "title" in C && t(0, u = C.title), "translateFn" in C && t(1, c = C.translateFn), "modalText" in C && t(2, d = C.modalText), "modalSubtitle" in C && t(3, f = C.modalSubtitle), "modalTitle" in C && t(4, g = C.modalTitle), "nonPlayableConfigTitle" in C && t(5, h = C.nonPlayableConfigTitle), "sanitizeHtmlOptions" in C && t(6, m = C.sanitizeHtmlOptions), "useExpandedHeadings" in C && t(7, v = C.useExpandedHeadings), "$$scope" in C && t(14, a = C.$$scope) }, n.$$.update = () => { n.$$.dirty & 384 && t(12, i = v && b > Xm * 2 || b === GMe), n.$$.dirty & 896 && t(11, r = v && b > Xm || y > xMe || y === eLe), n.$$.dirty & 896 && t(10, s = v && b === Xm && y === tLe) }, [u, c, d, f, g, h, m, v, b, y, s, r, i, l, a, o, k, S] } class iLe extends oe { constructor(e) { super(), se(this, e, nLe, QMe, ye, { title: 0, translateFn: 1, modalText: 2, modalSubtitle: 3, modalTitle: 4, nonPlayableConfigTitle: 5, sanitizeHtmlOptions: 6, useExpandedHeadings: 7 }) } } function g5(n) { let e, t; return e = new ya({}), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function rLe(n) { let e, t, i = n[20] && g5(); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[20] ? i ? s[0] & 1048576 && w(i, 1) : (i = g5(), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function sLe(n) { let e, t; return e = new us({ props: { inFavorites: n[9] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 512 && (s.inFavorites = i[9]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function h5(n) { let e, t, i, r; const s = [aLe, oLe], o = []; function a(l, u) { var c; return ((c = l[1]) == null ? void 0 : c.length) > 0 ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, u) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function oLe(n) { let e, t; return e = new so({ props: { items: n[26], translateFn: n[7].t, $$slots: { default: [uLe, ({ item: i }) => ({ 55: i }), ({ item: i }) => [0, i ? 16777216 : 0]] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 67108864 && (s.items = i[26]), r[0] & 128 && (s.translateFn = i[7].t), r[1] & 50331648 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function aLe(n) { let e, t, i; return t = new AMe({ props: { collaborators: n[1], playlistTitle: n[27] } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "playlist-collaborators svelte-vj7zg9") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[0] & 2 && (o.collaborators = r[1]), s[0] & 134217728 && (o.playlistTitle = r[27]), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function lLe(n) { let e = n[55].title + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[1] & 16777216 && e !== (e = i[55].title + "") && me(t, e) }, d(i) { i && _(t) } } } function uLe(n) { let e, t; return e = new en({ props: { action: n[55].segue, $$slots: { default: [lLe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[1] & 16777216 && (s.action = i[55].segue), r[1] & 50331648 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function cLe(n) { let e, t, i = n[13] && h5(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[13] ? i ? (i.p(r, s), s[0] & 8192 && w(i, 1)) : (i = h5(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function m5(n) { let e, t; return e = new so({ props: { items: n[25], translateFn: n[7].t, $$slots: { default: [fLe, ({ item: i }) => ({ 54: i }), ({ item: i }) => [0, i ? 8388608 : 0]] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 33554432 && (s.items = i[25]), r[0] & 128 && (s.translateFn = i[7].t), r[1] & 41943040 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function dLe(n) { let e = n[54].title + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[1] & 8388608 && e !== (e = i[54].title + "") && me(t, e) }, d(i) { i && _(t) } } } function fLe(n) { let e, t; return e = new en({ props: { action: n[54].segue, $$slots: { default: [dLe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[1] & 8388608 && (s.action = i[54].segue), r[1] & 41943040 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function gLe(n) { let e, t, i = n[25] && m5(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[25] ? i ? (i.p(r, s), s[0] & 33554432 && w(i, 1)) : (i = m5(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function p5(n) { let e; return { c() { e = le(n[24]) }, l(t) { e = ue(t, n[24]) }, m(t, i) { I(t, e, i) }, p(t, i) { i[0] & 16777216 && me(e, t[24]) }, d(t) { t && _(e) } } } function hLe(n) { let e, t = n[24] && p5(n); return { c() { t && t.c(), e = re() }, l(i) { t && t.l(i), e = re() }, m(i, r) { t && t.m(i, r), I(i, e, r) }, p(i, r) { i[24] ? t ? t.p(i, r) : (t = p5(i), t.c(), t.m(e.parentNode, e)) : t && (t.d(1), t = null) }, d(i) { i && _(e), t && t.d(i) } } } function _5(n) { let e, t; return e = new zl({ props: { action: n[5].segue, title: n[5].title, styleOverride: { isPlay: !0, isPrimary: !0 } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 32 && (s.action = i[5].segue), r[0] & 32 && (s.title = i[5].title), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function mLe(n) { var r; let e, t, i = n[5] && ((r = n[0]) == null ? void 0 : r.trackCount) > 0 && _5(n); return { c() { i && i.c(), e = re() }, l(s) { i && i.l(s), e = re() }, m(s, o) { i && i.m(s, o), I(s, e, o), t = !0 }, p(s, o) { var a; s[5] && ((a = s[0]) == null ? void 0 : a.trackCount) > 0 ? i ? (i.p(s, o), o[0] & 33 && w(i, 1)) : (i = _5(s), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(s) { t || (w(i), t = !0) }, o(s) { D(i), t = !1 }, d(s) { s && _(e), i && i.d(s) } } } function v5(n) { let e, t; return e = new zl({ props: { action: n[19].segue, title: n[19].title } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 524288 && (s.action = i[19].segue), r[0] & 524288 && (s.title = i[19].title), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function pLe(n) { var r; let e, t, i = n[19] && ((r = n[0]) == null ? void 0 : r.trackCount) > 1 && v5(n); return { c() { i && i.c(), e = re() }, l(s) { i && i.l(s), e = re() }, m(s, o) { i && i.m(s, o), I(s, e, o), t = !0 }, p(s, o) { var a; s[19] && ((a = s[0]) == null ? void 0 : a.trackCount) > 1 ? i ? (i.p(s, o), o[0] & 524289 && w(i, 1)) : (i = v5(s), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(s) { t || (w(i), t = !0) }, o(s) { D(i), t = !1 }, d(s) { s && _(e), i && i.d(s) } } } function _Le(n) { let e, t; return e = new Q_({ props: { collageArtwork: n[29], profile: n[11], alt: "" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 536870912 && (s.collageArtwork = i[29]), r[0] & 2048 && (s.profile = i[11]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function vLe(n) { let e, t; return e = new Gt({ props: { artwork: n[3], profile: n[11], useContainerStyle: !1, forceCropCode: !1, forceFullWidth: !1, alt: "" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 8 && (s.artwork = i[3]), r[0] & 2048 && (s.profile = i[11]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function bLe(n) { let e, t, i, r, s, o, a, l, u, c; const d = [vLe, _Le], f = []; function g(h, m) { return h[3] ? 0 : h[29] ? 1 : -1 } return ~(i = g(n)) && (r = f[i] = d[i](n)), o = new Hl({ props: { artwork: n[3], collageArtwork: n[29], videoArtwork: n[28], profile: n[11], forceCropCode: !0, itemKind: "containerDetailHeaderLockup", alt: n[27] } }), { c() { e = L("div"), t = L("div"), r && r.c(), s = Y(), V(o.$$.fragment), this.h() }, l(h) { e = T(h, "DIV", { slot: !0 }); var m = E(e); t = T(m, "DIV", { class: !0 }); var v = E(t); r && r.l(v), v.forEach(_), s = X(m), q(o.$$.fragment, m), m.forEach(_), this.h() }, h() { p(t, "class", "artwork__radiosity svelte-vj7zg9"), p(e, "slot", "artwork") }, m(h, m) { I(h, e, m), A(e, t), ~i && f[i].m(t, null), A(e, s), H(o, e, null), l = !0, u || (c = Ut(a = pl.call(null, e, { dragEnabled: !0, dragData: { items: [n[0].contentDescriptor] }, isContainer: !0, badgeCount: n[0].trackCount })), u = !0) }, p(h, m) { let v = i; i = g(h), i === v ? ~i && f[i].p(h, m) : (r && (te(), D(f[v], 1, 1, () => { f[v] = null }), ne()), ~i ? (r = f[i], r ? r.p(h, m) : (r = f[i] = d[i](h), r.c()), w(r, 1), r.m(t, null)) : r = null); const b = {}; m[0] & 8 && (b.artwork = h[3]), m[0] & 536870912 && (b.collageArtwork = h[29]), m[0] & 268435456 && (b.videoArtwork = h[28]), m[0] & 2048 && (b.profile = h[11]), m[0] & 134217728 && (b.alt = h[27]), o.$set(b), a && Ft(a.update) && m[0] & 1 && a.update.call(null, { dragEnabled: !0, dragData: { items: [h[0].contentDescriptor] }, isContainer: !0, badgeCount: h[0].trackCount }) }, i(h) { l || (w(r), w(o.$$.fragment, h), l = !0) }, o(h) { D(r), D(o.$$.fragment, h), l = !1 }, d(h) { h && _(e), ~i && f[i].d(), $(o), u = !1, c() } } } function b5(n) { let e, t, i; return t = new nv({ props: { classicalAction: n[4], ariaLabel: n[18] } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "classical-button svelte-vj7zg9") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[0] & 16 && (o.classicalAction = r[4]), s[0] & 262144 && (o.ariaLabel = r[18]), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function y5(n) { let e, t; return e = new hh({ props: { profile: "storeOnlyPill", url: n[16], price: n[15] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 65536 && (s.url = i[16]), r[0] & 32768 && (s.price = i[15]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function w5(n) { var i; let e, t; return e = new Bc({ props: { contentDescriptor: n[0].contentDescriptor, isPlayable: n[14], isStoreOnlyContent: n[6], itemProperties: { subtitleLinks: n[2].subtitleLinks, title: n[27], description: n[2].modalPresentationDescriptor.paragraphText, canEdit: n[2].canEdit, isCollaborativeHost: !!n[2].isCollaborativeHost, isCollaborativeParticipant: n[8], collaborationId: n[2].collaborationId, isPublic: n[2].isPublic, artwork: (i = n[2]) == null ? void 0 : i.artwork }, skipInvalidationOnDelete: n[30], collaborators: n[1] } }), e.$on("contextMenuActionComplete", n[35]), { c() { V(e.$$.fragment) }, l(r) { q(e.$$.fragment, r) }, m(r, s) { H(e, r, s), t = !0 }, p(r, s) { var a; const o = {}; s[0] & 1 && (o.contentDescriptor = r[0].contentDescriptor), s[0] & 16384 && (o.isPlayable = r[14]), s[0] & 64 && (o.isStoreOnlyContent = r[6]), s[0] & 134217988 && (o.itemProperties = { subtitleLinks: r[2].subtitleLinks, title: r[27], description: r[2].modalPresentationDescriptor.paragraphText, canEdit: r[2].canEdit, isCollaborativeHost: !!r[2].isCollaborativeHost, isCollaborativeParticipant: r[8], collaborationId: r[2].collaborationId, isPublic: r[2].isPublic, artwork: (a = r[2]) == null ? void 0 : a.artwork }), s[0] & 1073741824 && (o.skipInvalidationOnDelete = r[30]), s[0] & 2 && (o.collaborators = r[1]), e.$set(o) }, i(r) { t || (w(e.$$.fragment, r), t = !0) }, o(r) { D(e.$$.fragment, r), t = !1 }, d(r) { $(e, r) } } } function yLe(n) { let e, t, i, r, s = n[12] && b5(n), o = n[6] && y5(n), a = n[0].contentDescriptor && w5(n); return { c() { e = L("div"), s && s.c(), t = Y(), o && o.c(), i = Y(), a && a.c(), this.h() }, l(l) { e = T(l, "DIV", { class: !0, slot: !0 }); var u = E(e); s && s.l(u), t = X(u), o && o.l(u), i = X(u), a && a.l(u), u.forEach(_), this.h() }, h() { p(e, "class", "secondary-actions svelte-vj7zg9"), p(e, "slot", "secondary-actions") }, m(l, u) { I(l, e, u), s && s.m(e, null), A(e, t), o && o.m(e, null), A(e, i), a && a.m(e, null), r = !0 }, p(l, u) { l[12] ? s ? (s.p(l, u), u[0] & 4096 && w(s, 1)) : (s = b5(l), s.c(), w(s, 1), s.m(e, t)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()), l[6] ? o ? (o.p(l, u), u[0] & 64 && w(o, 1)) : (o = y5(l), o.c(), w(o, 1), o.m(e, i)) : o && (te(), D(o, 1, 1, () => { o = null }), ne()), l[0].contentDescriptor ? a ? (a.p(l, u), u[0] & 1 && w(a, 1)) : (a = w5(l), a.c(), w(a, 1), a.m(e, null)) : a && (te(), D(a, 1, 1, () => { a = null }), ne()) }, i(l) { r || (w(s), w(o), w(a), r = !0) }, o(l) { D(s), D(o), D(a), r = !1 }, d(l) { l && _(e), s && s.d(), o && o.d(), a && a.d() } } } function wLe(n) { let e, t; return e = new iLe({ props: { title: n[27], modalTitle: n[22], modalSubtitle: n[21], modalText: n[23], nonPlayableConfigTitle: n[17], sanitizeHtmlOptions: n[34], translateFn: n[7].t, $$slots: { "secondary-actions": [yLe], artwork: [bLe], "shuffle-button": [pLe], "play-button": [mLe], "metadata-bottom": [hLe], "tertiary-titles": [gLe], subtitles: [cLe], "favorited-badge": [sLe], explicit: [rLe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 134217728 && (s.title = i[27]), r[0] & 4194304 && (s.modalTitle = i[22]), r[0] & 2097152 && (s.modalSubtitle = i[21]), r[0] & 8388608 && (s.modalText = i[23]), r[0] & 131072 && (s.nonPlayableConfigTitle = i[17]), r[0] & 128 && (s.translateFn = i[7].t), r[0] & 2132671487 | r[1] & 33554432 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function kLe(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F, N, O, B, U, K, W, Z, Q, G, ae, ee, pe, ke, we, Te = j, ge = () => (Te(), Te = yn(Z, ie => t(49, we = ie)), Z), Ce, he; ce(n, gl, ie => t(30, pe = ie)), n.$$.on_destroy.push(() => Te()); var Ae, ze, Pe, Oe, _e, Se; const Re = ot(); ce(n, Re, ie => t(7, Ce = ie)); let Ze = Tn(); const De = sn(), xe = Qn(), { state: Fe } = xt(); ce(n, Fe, ie => t(48, ke = ie)); let { item: Be } = e; const { sharePlayState: lt } = Or(); ce(n, lt, ie => t(50, he = ie)); const _t = { allowedTags: sN, keepChildrenWhenRemovingParent: !0 }; function et(ie) { var $e; if (pe && (($e = ie.detail) === null || $e === void 0 ? void 0 : $e.catalogActionType) === Pn.DeleteFromLibrary) if (window.history.length > 2) window.history.back(); else { const kt = gr(ur(Ze), qs.type, sa); De(kt) } } return Yt(() => { var ie; return al.set((ie = Be.isFavoritesPlaylist) !== null && ie !== void 0 ? ie : !1), () => al.set(!1) }), mn(() => { xe.unsubscribeFromUpdates(W) }), n.$$set = ie => { "item" in ie && t(0, Be = ie.item) }, n.$$.update = () => { n.$$.dirty[0] & 1 && t(2, i = Be), n.$$.dirty[0] & 4 && t(3, r = i.artwork), n.$$.dirty[0] & 4 && t(29, s = i.trackArtwork && i.trackArtwork.length > 0 ? i.trackArtwork : null), n.$$.dirty[0] & 4 && t(28, o = i.videoArtwork), n.$$.dirty[0] & 4 && t(27, a = i.title), n.$$.dirty[0] & 4 && t(26, l = i.subtitleLinks || []), n.$$.dirty[0] & 4 && t(4, u = i.classicalButton), n.$$.dirty[0] & 4 && t(25, c = i.tertiaryTitleLinks || []), n.$$.dirty[0] & 4 && t(24, d = i.quaternaryTitle), n.$$.dirty[0] & 4 && t(47, f = i.modalPresentationDescriptor), n.$$.dirty[1] & 65536 && t(23, g = f == null ? void 0 : f.paragraphText), n.$$.dirty[1] & 65536 && t(22, h = f == null ? void 0 : f.headerTitle), n.$$.dirty[1] & 65536 && t(21, m = f == null ? void 0 : f.headerSubtitle), n.$$.dirty[0] & 4 && t(20, v = i.showExplicitBadge), n.$$.dirty[0] & 132 | n.$$.dirty[1] & 524288 && t(5, b = he != null && he.inSession ? Object.assign(Object.assign({}, i.playButton), { title: Ce.t("ASE.Web.Music.Play") }) : i.playButton), n.$$.dirty[0] & 4 && t(19, y = i.shuffleButton), n.$$.dirty[0] & 128 && t(18, k = Ce.t("ASE.Web.Music.Album.LaunchClassical.AriaLabel")), n.$$.dirty[0] & 4 && t(46, S = i.siriBannerConfiguration), n.$$.dirty[1] & 32768 && t(17, C = S == null ? void 0 : S.title), n.$$.dirty[0] & 4 && t(45, P = i.offers), n.$$.dirty[0] & 4 | n.$$.dirty[1] & 32 && t(16, M = t(36, Ae = i.contentDescriptor) === null || Ae === void 0 ? void 0 : Ae.url), n.$$.dirty[0] & 4 | n.$$.dirty[1] & 64 && t(44, R = t(37, ze = i.contentDescriptor) === null || ze === void 0 ? void 0 : ze.kind), n.$$.dirty[1] & 16384 && t(6, F = P == null ? void 0 : P.every(ie => ie.type === "buy")), n.$$.dirty[0] & 64 | n.$$.dirty[1] & 16384 && t(15, N = F && (P == null ? void 0 : P[0].priceFormatted)), n.$$.dirty[0] & 33 && t(14, O = b !== null && !Be.isPreviewMode), n.$$.dirty[0] & 1 && t(13, B = "trackCount" in Be ? Be.trackCount > 0 : !0), n.$$.dirty[0] & 16 && t(12, U = !!u), n.$$.dirty[0] & 8 | n.$$.dirty[1] & 8192 && t(11, K = (() => R === x.Playlist ? "playlist-product" : (r == null ? void 0 : r.dictionary.width) !== (r == null ? void 0 : r.dictionary.height) ? "product-rectangle" : "product")()), n.$$.dirty[0] & 1 && t(42, W = Qt(Be)), n.$$.dirty[1] & 2048 && ge(t(10, Z = xe.subscribeToUpdates(W))), n.$$.dirty[1] & 272512 && t(9, Q = we && (t(38, Pe = xe.get(W, R)) === null || Pe === void 0 ? void 0 : Pe.inFavorites)), n.$$.dirty[0] & 4 | n.$$.dirty[1] & 256 && t(1, G = t(39, Oe = i == null ? void 0 : i.collaborators) !== null && Oe !== void 0 ? Oe : []), n.$$.dirty[1] & 132608 && t(43, ae = t(41, Se = t(40, _e = ke == null ? void 0 : ke.userSocialProfile) === null || _e === void 0 ? void 0 : _e.userSocialProfileDescriptor) !== null && Se !== void 0 ? Se : {}), n.$$.dirty[0] & 2 | n.$$.dirty[1] & 4096 && t(8, ee = !!G.find(ie => { var $e, kt; return ie.id === ((kt = ($e = ae == null ? void 0 : ae.contentDescriptor) === null || $e === void 0 ? void 0 : $e.identifiers) === null || kt === void 0 ? void 0 : kt.socialProfileID) })) }, [Be, G, i, r, u, b, F, Ce, ee, Q, Z, K, U, B, O, N, M, C, k, y, v, m, h, g, d, c, l, a, o, s, pe, Re, Fe, lt, _t, et, Ae, ze, Pe, Oe, _e, Se, W, ae, R, P, S, f, ke, we, he] } class DLe extends oe { constructor(e) { super(), se(this, e, kLe, wLe, ye, { item: 0 }, null, [-1, -1]) } } const SLe = n => ({}), k5 = n => ({}), CLe = n => ({}), D5 = n => ({}); function S5(n) { let e, t, i, r, s, o, a = n[6] && C5(n), l = n[5] && n[3] && P5(n), u = n[7]["cta-button"] && A5(n), c = n[7]["social-badges"] && E5(n); return { c() { e = L("div"), t = L("div"), a && a.c(), i = Y(), l && l.c(), r = Y(), u && u.c(), s = Y(), c && c.c(), this.h() }, l(d) { e = T(d, "DIV", { class: !0, "data-testid": !0 }); var f = E(e); t = T(f, "DIV", { class: !0 }); var g = E(t); a && a.l(g), i = X(g), l && l.l(g), r = X(g), u && u.l(g), g.forEach(_), s = X(f), c && c.l(f), f.forEach(_), this.h() }, h() { p(t, "class", "footer-body svelte-1tm9k9g"), p(e, "class", "tracklist-footer svelte-1tm9k9g"), p(e, "data-testid", "tracklist-footer"), J(e, "tracklist-footer--album", n[0]), J(e, "tracklist-footer--playlist", n[1]), J(e, "tracklist-footer--recording", n[2]) }, m(d, f) { I(d, e, f), A(e, t), a && a.m(t, null), A(t, i), l && l.m(t, null), A(t, r), u && u.m(t, null), A(e, s), c && c.m(e, null), o = !0 }, p(d, f) { d[6] ? a ? a.p(d, f) : (a = C5(d), a.c(), a.m(t, i)) : a && (a.d(1), a = null), d[5] && d[3] ? l ? (l.p(d, f), f & 40 && w(l, 1)) : (l = P5(d), l.c(), w(l, 1), l.m(t, r)) : l && (te(), D(l, 1, 1, () => { l = null }), ne()), d[7]["cta-button"] ? u ? (u.p(d, f), f & 128 && w(u, 1)) : (u = A5(d), u.c(), w(u, 1), u.m(t, null)) : u && (te(), D(u, 1, 1, () => { u = null }), ne()), d[7]["social-badges"] ? c ? (c.p(d, f), f & 128 && w(c, 1)) : (c = E5(d), c.c(), w(c, 1), c.m(e, null)) : c && (te(), D(c, 1, 1, () => { c = null }), ne()), (!o || f & 1) && J(e, "tracklist-footer--album", d[0]), (!o || f & 2) && J(e, "tracklist-footer--playlist", d[1]), (!o || f & 4) && J(e, "tracklist-footer--recording", d[2]) }, i(d) { o || (w(l), w(u), w(c), o = !0) }, o(d) { D(l), D(u), D(c), o = !1 }, d(d) { d && _(e), a && a.d(), l && l.d(), u && u.d(), c && c.d() } } } function C5(n) { let e, t; return { c() { e = L("p"), t = le(n[6]), this.h() }, l(i) { e = T(i, "P", { class: !0, "data-testid": !0 }); var r = E(e); t = ue(r, n[6]), r.forEach(_), this.h() }, h() { p(e, "class", "description svelte-1tm9k9g"), p(e, "data-testid", "tracklist-footer-description") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 64 && me(t, i[6]) }, d(i) { i && _(e) } } } function P5(n) { let e, t, i = n[5].title + "", r, s, o, a; var l = n[3]; function u(c, d) { return { props: { action: c[5].link.segue, $$slots: { default: [PLe] }, $$scope: { ctx: c } } } } return l && (o = jt(l, u(n))), { c() { e = L("div"), t = L("h2"), r = le(i), s = Y(), o && V(o.$$.fragment), this.h() }, l(c) { e = T(c, "DIV", { class: !0 }); var d = E(e); t = T(d, "H2", { class: !0, "data-testid": !0 }); var f = E(t); r = ue(f, i), f.forEach(_), s = X(d), o && q(o.$$.fragment, d), d.forEach(_), this.h() }, h() { p(t, "class", "link-section__heading svelte-1tm9k9g"), p(t, "data-testid", "tracklist-footer-link-heading"), p(e, "class", "link-section svelte-1tm9k9g") }, m(c, d) { I(c, e, d), A(e, t), A(t, r), A(e, s), o && H(o, e, null), a = !0 }, p(c, d) { if ((!a || d & 32) && i !== (i = c[5].title + "") && me(r, i), d & 8 && l !== (l = c[3])) { if (o) { te(); const f = o; D(f.$$.fragment, 1, 0, () => { $(f, 1) }), ne() } l ? (o = jt(l, u(c)), V(o.$$.fragment), w(o.$$.fragment, 1), H(o, e, null)) : o = null } else if (l) { const f = {}; d & 32 && (f.action = c[5].link.segue), d & 1056 && (f.$$scope = { dirty: d, ctx: c }), o.$set(f) } }, i(c) { a || (o && w(o.$$.fragment, c), a = !0) }, o(c) { o && D(o.$$.fragment, c), a = !1 }, d(c) { c && _(e), o && $(o) } } } function PLe(n) { let e, t = n[5].link.title + "", i, r, s; return r = new Il({ props: { class: "link-chevron", "aria-hidden": "true" } }), { c() { e = L("span"), i = le(t), V(r.$$.fragment), this.h() }, l(o) { e = T(o, "SPAN", { class: !0, "data-testid": !0 }); var a = E(e); i = ue(a, t), q(r.$$.fragment, a), a.forEach(_), this.h() }, h() { p(e, "class", "link-section__link svelte-1tm9k9g"), p(e, "data-testid", "tracklist-footer-link") }, m(o, a) { I(o, e, a), A(e, i), H(r, e, null), s = !0 }, p(o, a) { (!s || a & 32) && t !== (t = o[5].link.title + "") && me(i, t) }, i(o) { s || (w(r.$$.fragment, o), s = !0) }, o(o) { D(r.$$.fragment, o), s = !1 }, d(o) { o && _(e), $(r) } } } function A5(n) { let e, t; const i = n[9]["cta-button"], r = We(i, n, n[10], D5); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "tracklist-footer__native-cta-wrapper svelte-1tm9k9g") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 1024) && Je(r, i, s, s[10], t ? Ke(i, s[10], o, CLe) : Ye(s[10]), D5) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function E5(n) { let e, t; const i = n[9]["social-badges"], r = We(i, n, n[10], k5); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "tracklist-footer__friends svelte-1tm9k9g") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 1024) && Je(r, i, s, s[10], t ? Ke(i, s[10], o, SLe) : Ye(s[10]), k5) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function ALe(n) { let e, t, i = n[4] && S5(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[4] ? i ? (i.p(r, s), s & 16 && w(i, 1)) : (i = S5(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function ELe(n, e, t) { let i, r, s, { $$slots: o = {}, $$scope: a } = e; const l = wn(o); let { item: u } = e, { isAlbum: c = !1 } = e, { isPlaylist: d = !1 } = e, { isRecording: f = !1 } = e, { clickComponent: g } = e; return n.$$set = h => { "item" in h && t(8, u = h.item), "isAlbum" in h && t(0, c = h.isAlbum), "isPlaylist" in h && t(1, d = h.isPlaylist), "isRecording" in h && t(2, f = h.isRecording), "clickComponent" in h && t(3, g = h.clickComponent), "$$scope" in h && t(10, a = h.$$scope) }, n.$$.update = () => { n.$$.dirty & 256 && t(6, i = u.description), n.$$.dirty & 256 && t(5, r = u.linkSection), n.$$.dirty & 256 && t(4, s = !u.hidden) }, [c, d, f, g, s, r, i, l, u, o, a] } class ILe extends oe { constructor(e) { super(), se(this, e, ELe, ALe, ye, { item: 8, isAlbum: 0, isPlaylist: 1, isRecording: 2, clickComponent: 3 }) } } function I5(n) { let e, t; return e = new hh({ props: { profile: n[1], url: n[4] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.profile = i[1]), r & 16 && (s.url = i[4]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function MLe(n) { let e, t, i = n[1] && I5(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[1] ? i ? (i.p(r, s), s & 2 && w(i, 1)) : (i = I5(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function LLe(n) { let e, t; return e = new ch({ props: { contentDescriptor: n[0].contentDescriptor, badgeStyle: "flat", showBadgeMeta: !0, maxBadges: 10 } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.contentDescriptor = i[0].contentDescriptor), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function TLe(n) { let e, t; return e = new ILe({ props: { item: n[0], isAlbum: n[3], isPlaylist: n[2], clickComponent: en, $$slots: { "social-badges": [LLe], "cta-button": [MLe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 1 && (s.item = i[0]), r & 8 && (s.isAlbum = i[3]), r & 4 && (s.isPlaylist = i[2]), r & 2067 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function RLe(n, e, t) { let i, r, s, o, a, l; var u, c; let { item: d } = e; return n.$$set = f => { "item" in f && t(0, d = f.item) }, n.$$.update = () => { n.$$.dirty & 1 && d.description, n.$$.dirty & 1 && d.linkSection, n.$$.dirty & 1 && t(7, i = d.offers), n.$$.dirty & 33 && t(4, r = t(5, u = d.contentDescriptor) === null || u === void 0 ? void 0 : u.url), n.$$.dirty & 65 && t(8, s = t(6, c = d.contentDescriptor) === null || c === void 0 ? void 0 : c.kind), n.$$.dirty & 256 && t(3, o = [x.Album, x.ArtistUploadedSong].includes(s)), n.$$.dirty & 256 && t(2, a = s === x.Playlist), n.$$.dirty & 128 && t(1, l = (() => { if (!(i != null && i.length)) return; const f = i.some(h => h.type === "subscription"); if (i.some(h => h.type === "buy")) return f ? "store" : "storeOnly" })()) }, [d, l, a, o, r, u, c, i, s] } class FLe extends oe { constructor(e) { super(), se(this, e, RLe, TLe, ye, { item: 0 }) } } function M5(n) { let e, t, i; return t = new Gt({ props: { artwork: n[2], profile: "brand-logo", forceFullWidth: !1 } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0, "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "uber__brand-logo svelte-u2zh2b"), p(e, "data-testid", "uber-brand-logo") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 4 && (o.artwork = r[2]), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function OLe(n) { let e, t, i, r, s; i = new Gt({ props: { artwork: n[0], profile: "uber", forceFullWidth: !1 } }); let o = n[2] && M5(n); return { c() { e = L("div"), t = L("div"), V(i.$$.fragment), r = Y(), o && o.c(), this.h() }, l(a) { e = T(a, "DIV", { class: !0 }); var l = E(e); t = T(l, "DIV", { class: !0, style: !0, "data-testid": !0 }); var u = E(t); q(i.$$.fragment, u), u.forEach(_), r = X(l), o && o.l(l), l.forEach(_), this.h() }, h() { p(t, "class", "uber__image svelte-u2zh2b"), p(t, "style", n[1]), p(t, "data-testid", "uber-image"), p(e, "class", "uber svelte-u2zh2b") }, m(a, l) { I(a, e, l), A(e, t), H(i, t, null), A(e, r), o && o.m(e, null), s = !0 }, p(a, [l]) { const u = {}; l & 1 && (u.artwork = a[0]), i.$set(u), (!s || l & 2) && p(t, "style", a[1]), a[2] ? o ? (o.p(a, l), l & 4 && w(o, 1)) : (o = M5(a), o.c(), w(o, 1), o.m(e, null)) : o && (te(), D(o, 1, 1, () => { o = null }), ne()) }, i(a) { s || (w(i.$$.fragment, a), w(o), s = !0) }, o(a) { D(i.$$.fragment, a), D(o), s = !1 }, d(a) { a && _(e), $(i), o && o.d() } } } function NLe(n, e, t) { let i, r, s; var o; let { item: a } = e; return n.$$set = l => { "item" in l && t(3, a = l.item) }, n.$$.update = () => { n.$$.dirty & 8 && t(0, i = a.artwork), n.$$.dirty & 8 && t(2, r = a.coverArtwork), n.$$.dirty & 17 && t(1, s = `--curator-background-color: #${t(4, o = i == null ? void 0 : i.dictionary) === null || o === void 0 ? void 0 : o.bgColor}`) }, [i, s, r, a, o] } class BLe extends oe { constructor(e) { super(), se(this, e, NLe, OLe, ye, { item: 3 }) } } function L5(n) { let e, t, i; return t = new ya({}), { c() { e = L("span"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "SPAN", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "singular-content-page__explicit-badge svelte-8omwhm") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function T5(n) { let e, t = n[0].subtitle + "", i; return { c() { e = L("p"), i = le(t), this.h() }, l(r) { e = T(r, "P", { class: !0, "data-testid": !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "singular-content-page__singular-content-artist-name svelte-8omwhm"), p(e, "data-testid", "station-subtitle") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 1 && t !== (t = r[0].subtitle + "") && me(i, t) }, d(r) { r && _(e) } } } function R5(n) { let e, t, i, r, s, o, a; const l = [HLe, ULe], u = []; function c(d, f) { return d[2] ? 0 : 1 } return t = c(n), i = u[t] = l[t](n), o = new ls({ props: { attachedTo: n[0].contentDescriptor, isPlayable: n[0].playAction !== null, itemProperties: { title: n[0].title, subtitleLinks: [{ title: n[0].subtitle }], artwork: n[0].artwork } } }), { c() { e = L("div"), i.c(), r = Y(), s = L("div"), V(o.$$.fragment), this.h() }, l(d) { e = T(d, "DIV", { class: !0 }); var f = E(e); i.l(f), r = X(f), s = T(f, "DIV", { class: !0 }); var g = E(s); q(o.$$.fragment, g), g.forEach(_), f.forEach(_), this.h() }, h() { p(s, "class", "singular-content-page__contextual-menu svelte-8omwhm"), p(e, "class", "singular-content-page__buttons svelte-8omwhm") }, m(d, f) { I(d, e, f), u[t].m(e, null), A(e, r), A(e, s), H(o, s, null), a = !0 }, p(d, f) { let g = t; t = c(d), t === g ? u[t].p(d, f) : (te(), D(u[g], 1, 1, () => { u[g] = null }), ne(), i = u[t], i ? i.p(d, f) : (i = u[t] = l[t](d), i.c()), w(i, 1), i.m(e, r)); const h = {}; f & 1 && (h.attachedTo = d[0].contentDescriptor), f & 1 && (h.isPlayable = d[0].playAction !== null), f & 1 && (h.itemProperties = { title: d[0].title, subtitleLinks: [{ title: d[0].subtitle }], artwork: d[0].artwork }), o.$set(h) }, i(d) { a || (w(i), w(o.$$.fragment, d), a = !0) }, o(d) { D(i), D(o.$$.fragment, d), a = !1 }, d(d) { d && _(e), u[t].d(), $(o) } } } function ULe(n) { let e, t; return e = new zl({ props: { action: n[3], title: n[7].t(n[6] ? "ASE.Web.Music.Preview" : "ASE.Web.Music.Play") } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 8 && (s.action = i[3]), r & 192 && (s.title = i[7].t(i[6] ? "ASE.Web.Music.Preview" : "ASE.Web.Music.Play")), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function HLe(n) { let e, t; return e = new zl({ props: { action: n[1], styleOverride: { isPlay: !0 }, title: n[7].t("ASE.Web.Music.Play") } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.action = i[1]), r & 128 && (s.title = i[7].t("ASE.Web.Music.Play")), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function $Le(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v = n[7].t("ASE.Web.Music.IXDisplayableKind.radioStation.one") + "", b, y, k; s = new Gt({ props: { artwork: n[5], forceFullWidth: !1, profile: "episode-lockup", alt: "" } }), a = new Gt({ props: { artwork: n[5], forceFullWidth: !1, profile: "episode-lockup", alt: n[4] } }); let S = n[0].showExplicitBadge && L5(), C = n[0].subtitle && T5(n), P = n[3] && R5(n); return { c() { e = L("div"), t = L("div"), i = L("div"), r = L("div"), V(s.$$.fragment), o = Y(), V(a.$$.fragment), l = Y(), u = L("div"), c = L("h1"), d = le(n[4]), f = Y(), S && S.c(), g = Y(), C && C.c(), h = Y(), m = L("p"), b = le(v), y = Y(), P && P.c(), this.h() }, l(M) { e = T(M, "DIV", { class: !0 }); var R = E(e); t = T(R, "DIV", { class: !0 }); var F = E(t); i = T(F, "DIV", { class: !0 }); var N = E(i); r = T(N, "DIV", { class: !0 }); var O = E(r); q(s.$$.fragment, O), O.forEach(_), o = X(N), q(a.$$.fragment, N), N.forEach(_), l = X(F), u = T(F, "DIV", { class: !0 }); var B = E(u); c = T(B, "H1", { class: !0, "data-testid": !0 }); var U = E(c); d = ue(U, n[4]), f = X(U), S && S.l(U), U.forEach(_), g = X(B), C && C.l(B), h = X(B), m = T(B, "P", { class: !0, "data-testid": !0 }); var K = E(m); b = ue(K, v), K.forEach(_), y = X(B), P && P.l(B), B.forEach(_), F.forEach(_), R.forEach(_), this.h() }, h() { p(r, "class", "singular-content-page__artwork-radiosity svelte-8omwhm"), p(i, "class", "singular-content-page__artwork svelte-8omwhm"), p(c, "class", "singular-content-page__singular-content-name svelte-8omwhm"), p(c, "data-testid", "station-title"), p(m, "class", "singular-content-page__singular-content-genre svelte-8omwhm"), p(m, "data-testid", "station-kind"), p(u, "class", "singular-content-page__content-details svelte-8omwhm"), p(t, "class", "singular-content-page__content svelte-8omwhm"), p(e, "class", "singular-content-page svelte-8omwhm") }, m(M, R) { I(M, e, R), A(e, t), A(t, i), A(i, r), H(s, r, null), A(i, o), H(a, i, null), A(t, l), A(t, u), A(u, c), A(c, d), A(c, f), S && S.m(c, null), A(u, g), C && C.m(u, null), A(u, h), A(u, m), A(m, b), A(u, y), P && P.m(u, null), k = !0 }, p(M, [R]) { const F = {}; R & 32 && (F.artwork = M[5]), s.$set(F); const N = {}; R & 32 && (N.artwork = M[5]), R & 16 && (N.alt = M[4]), a.$set(N), (!k || R & 16) && me(d, M[4]), M[0].showExplicitBadge ? S ? R & 1 && w(S, 1) : (S = L5(), S.c(), w(S, 1), S.m(c, null)) : S && (te(), D(S, 1, 1, () => { S = null }), ne()), M[0].subtitle ? C ? C.p(M, R) : (C = T5(M), C.c(), C.m(u, h)) : C && (C.d(1), C = null), (!k || R & 128) && v !== (v = M[7].t("ASE.Web.Music.IXDisplayableKind.radioStation.one") + "") && me(b, v), M[3] ? P ? (P.p(M, R), R & 8 && w(P, 1)) : (P = R5(M), P.c(), w(P, 1), P.m(u, null)) : P && (te(), D(P, 1, 1, () => { P = null }), ne()) }, i(M) { k || (w(s.$$.fragment, M), w(a.$$.fragment, M), w(S), w(P), k = !0) }, o(M) { D(s.$$.fragment, M), D(a.$$.fragment, M), D(S), D(P), k = !1 }, d(M) { M && _(e), $(s), $(a), S && S.d(), C && C.d(), P && P.d() } } } function VLe(n, e, t) { let i, r, s, o, a, l, u, c, d; var f, g; const h = fn(), m = ot(); ce(n, m, k => t(7, d = k)); const { state: v } = xt(); ce(n, v, k => t(14, c = k)); let { item: b } = e, { canShowPreview: y = !1 } = e; return n.$$set = k => { "item" in k && t(0, b = k.item), "canShowPreview" in k && t(10, y = k.canShowPreview) }, n.$$.update = () => { n.$$.dirty & 17408 && t(6, i = (!h.isUserInHomeStorefront() || (c == null ? void 0 : c.user) === null) && y), n.$$.dirty & 1 && t(5, r = b.artwork), n.$$.dirty & 1 && t(4, s = b.title), n.$$.dirty & 1 && t(3, o = j_(b)), n.$$.dirty & 1 && t(13, a = b.contentDescriptor), n.$$.dirty & 26624 && t(2, l = (c == null ? void 0 : c.user) === null && a.kind === x.RadioStation || (t(11, f = c.user) === null || f === void 0 ? void 0 : f.subscriberType) === Hi.NotActive && a.kind !== x.RadioStation), n.$$.dirty & 12288 && t(1, u = vr({ type: ir.Open, activePath: fi.authenticate, modalParams: { contentId: t(12, g = a == null ? void 0 : a.identifiers) === null || g === void 0 ? void 0 : g.storeAdamID, contentType: a == null ? void 0 : a.kind } })) }, [b, u, l, o, s, r, i, d, m, v, y, f, g, a, c] } class zLe extends oe { constructor(e) { super(), se(this, e, VLe, $Le, ye, { item: 0, canShowPreview: 10 }) } } function qLe(n) {
    let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C; return {
        c() { e = L("h3"), t = L("button"), i = L("span"), r = le(n[5]), s = Y(), o = L("span"), a = ve("svg"), l = ve("polyline"), u = ve("animate"), c = ve("animate"), g = Y(), h = L("div"), m = L("div"), v = L("p"), b = le(n[4]), this.h() }, l(P) { e = T(P, "H3", {}); var M = E(e); t = T(M, "BUTTON", { class: !0, "data-testid": !0, id: !0, "aria-expanded": !0, "aria-controls": !0, type: !0 }); var R = E(t); i = T(R, "SPAN", { "data-testid": !0 }); var F = E(i); r = ue(F, n[5]), F.forEach(_), s = X(R), o = T(R, "SPAN", { class: !0 }); var N = E(o); a = be(N, "svg", { viewBox: !0, fill: !0, "aria-hidden": !0 }); var O = E(a); l = be(O, "polyline", { stroke: !0, "stroke-linecap": !0, "stroke-linejoin": !0, fill: !0, "fill-rule": !0, points: !0 }); var B = E(l); u = be(B, "animate", { attributeName: !0, values: !0, dur: !0, begin: !0, fill: !0, keyTimes: !0, calcMode: !0, keySplines: !0 }), E(u).forEach(_), c = be(B, "animate", { attributeName: !0, values: !0, dur: !0, begin: !0, fill: !0, keyTimes: !0, calcMode: !0, keySplines: !0 }), E(c).forEach(_), B.forEach(_), O.forEach(_), N.forEach(_), R.forEach(_), M.forEach(_), g = X(P), h = T(P, "DIV", { class: !0, "data-testid": !0, id: !0, "aria-labelledby": !0 }); var U = E(h); m = T(U, "DIV", { class: !0 }); var K = E(m); v = T(K, "P", { class: !0 }); var W = E(v); b = ue(W, n[4]), W.forEach(_), K.forEach(_), U.forEach(_), this.h() }, h() {
            p(i, "data-testid", "faq-accordion-item-question"), p(u, "attributeName", "points"), p(u, "values", `15 1.13 8.5 7.72 2 1.13;
                                15.85 4.42 8.5 4.42 1.15 4.42;
                                15 7.72 8.5 1.13 2 7.72`), p(u, "dur", "320ms"), p(u, "begin", "indefinite"), p(u, "fill", "freeze"), p(u, "keyTimes", `0;
                                0.5;
                                1`), p(u, "calcMode", "spline"), p(u, "keySplines", `0.12, 0, 0.38, 0;
                                    0.2, 1, 0.68, 1`), p(c, "attributeName", "points"), p(c, "values", `15 7.72 8.5 1.13 2 7.72;
                                15.85 4.42 8.5 4.42 1.15 4.42;
                                15 1.13 8.5 7.72 2 1.13`), p(c, "dur", "320ms"), p(c, "begin", "indefinite"), p(c, "fill", "freeze"), p(c, "keyTimes", `0;
                                0.5;
                                1`), p(c, "calcMode", "spline"), p(c, "keySplines", `0.2, 0, 0.68, 0;
                                    0.2, 1, 0.68, 1`), p(l, "stroke", "currentColor"), p(l, "stroke-linecap", "round"), p(l, "stroke-linejoin", "round"), p(l, "fill", "none"), p(l, "fill-rule", "evenodd"), p(l, "points", "15 1.13 8.5 7.72 2 1.13"), p(a, "viewBox", "0 0 17 8.85"), p(a, "fill", "currentColor"), p(a, "aria-hidden", "true"), p(o, "class", "faq-accordion__icon svelte-7947hy"), p(t, "class", "faq-accordion__button svelte-7947hy"), p(t, "data-testid", "faq-accordion-item-question-button"), p(t, "id", d = `faq-accordion-item-${n[0]}-button`), p(t, "aria-expanded", n[1]), p(t, "aria-controls", f = `faq-accordion-item-${n[0]}-content`), p(t, "type", "button"), p(v, "class", "faq-accordion__paragraph svelte-7947hy"), p(m, "class", "faq-accordion__content svelte-7947hy"), p(h, "class", "faq-accordion__tray svelte-7947hy"), p(h, "data-testid", "faq-accordion-item-answer"), p(h, "id", y = `faq-accordion-item-${n[0]}-content`), p(h, "aria-labelledby", k = `faq-accordion-item-${n[0]}-button`), J(h, "expanded", n[1]), J(h, "collapsed", !n[1])
        }, m(P, M) { I(P, e, M), A(e, t), A(t, i), A(i, r), A(t, s), A(t, o), A(o, a), A(a, l), A(l, u), n[8](u), A(l, c), n[9](c), I(P, g, M), I(P, h, M), A(h, m), A(m, v), A(v, b), S || (C = Me(t, "click", Ui(n[6])), S = !0) }, p(P, [M]) { M & 32 && me(r, P[5]), M & 1 && d !== (d = `faq-accordion-item-${P[0]}-button`) && p(t, "id", d), M & 2 && p(t, "aria-expanded", P[1]), M & 1 && f !== (f = `faq-accordion-item-${P[0]}-content`) && p(t, "aria-controls", f), M & 16 && me(b, P[4]), M & 1 && y !== (y = `faq-accordion-item-${P[0]}-content`) && p(h, "id", y), M & 1 && k !== (k = `faq-accordion-item-${P[0]}-button`) && p(h, "aria-labelledby", k), M & 2 && J(h, "expanded", P[1]), M & 2 && J(h, "collapsed", !P[1]) }, i: j, o: j, d(P) { P && (_(e), _(g), _(h)), n[8](null), n[9](null), S = !1, C() }
    }
} function WLe(n, e, t) { let i, r, { accordionItem: s } = e, { index: o = 0 } = e, a = !1, l, u; const c = () => { t(1, a = !a), a ? l.beginElement() : u.beginElement() }; function d(g) { wt[g ? "unshift" : "push"](() => { l = g, t(2, l) }) } function f(g) { wt[g ? "unshift" : "push"](() => { u = g, t(3, u) }) } return n.$$set = g => { "accordionItem" in g && t(7, s = g.accordionItem), "index" in g && t(0, o = g.index) }, n.$$.update = () => { n.$$.dirty & 128 && t(5, i = s == null ? void 0 : s.question), n.$$.dirty & 128 && t(4, r = s == null ? void 0 : s.answer) }, [o, a, l, u, r, i, c, s, d, f] } class KLe extends oe { constructor(e) { super(), se(this, e, WLe, qLe, ye, { accordionItem: 7, index: 0 }) } } function F5(n, e, t) { const i = n.slice(); return i[3] = e[t], i[5] = t, i } function O5(n) { let e, t; return { c() { e = L("h2"), t = le(n[1]), this.h() }, l(i) { e = T(i, "H2", { class: !0, "data-testid": !0 }); var r = E(e); t = ue(r, n[1]), r.forEach(_), this.h() }, h() { p(e, "class", "faq-content-title svelte-zf6th0"), p(e, "data-testid", "faq-accordion-header") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 2 && me(t, i[1]) }, d(i) { i && _(e) } } } function N5(n) { let e, t, i, r; return t = new KLe({ props: { accordionItem: n[3], index: n[5] } }), { c() { e = L("li"), V(t.$$.fragment), i = Y(), this.h() }, l(s) { e = T(s, "LI", { class: !0 }); var o = E(e); q(t.$$.fragment, o), i = X(o), o.forEach(_), this.h() }, h() { p(e, "class", "faq-accordion__item svelte-zf6th0") }, m(s, o) { I(s, e, o), H(t, e, null), A(e, i), r = !0 }, p(s, o) { const a = {}; o & 1 && (a.accordionItem = s[3]), t.$set(a) }, i(s) { r || (w(t.$$.fragment, s), r = !0) }, o(s) { D(t.$$.fragment, s), r = !1 }, d(s) { s && _(e), $(t) } } } function JLe(n) { let e, t, i, r, s, o = n[1] && O5(n), a = ut(n[0]), l = []; for (let c = 0; c < a.length; c += 1)l[c] = N5(F5(n, a, c)); const u = c => D(l[c], 1, 1, () => { l[c] = null }); return { c() { e = L("div"), t = L("div"), o && o.c(), i = Y(), r = L("ul"); for (let c = 0; c < l.length; c += 1)l[c].c(); this.h() }, l(c) { e = T(c, "DIV", { class: !0 }); var d = E(e); t = T(d, "DIV", { class: !0 }); var f = E(t); o && o.l(f), i = X(f), r = T(f, "UL", { class: !0 }); var g = E(r); for (let h = 0; h < l.length; h += 1)l[h].l(g); g.forEach(_), f.forEach(_), d.forEach(_), this.h() }, h() { p(r, "class", "faq-accordion svelte-zf6th0"), p(t, "class", "faq-accordion-wrapper svelte-zf6th0"), p(e, "class", "pattern-faq-accordion-content svelte-zf6th0") }, m(c, d) { I(c, e, d), A(e, t), o && o.m(t, null), A(t, i), A(t, r); for (let f = 0; f < l.length; f += 1)l[f] && l[f].m(r, null); s = !0 }, p(c, [d]) { if (c[1] ? o ? o.p(c, d) : (o = O5(c), o.c(), o.m(t, i)) : o && (o.d(1), o = null), d & 1) { a = ut(c[0]); let f; for (f = 0; f < a.length; f += 1) { const g = F5(c, a, f); l[f] ? (l[f].p(g, d), w(l[f], 1)) : (l[f] = N5(g), l[f].c(), w(l[f], 1), l[f].m(r, null)) } for (te(), f = a.length; f < l.length; f += 1)u(f); ne() } }, i(c) { if (!s) { for (let d = 0; d < a.length; d += 1)w(l[d]); s = !0 } }, o(c) { l = l.filter(Boolean); for (let d = 0; d < l.length; d += 1)D(l[d]); s = !1 }, d(c) { c && _(e), o && o.d(), ln(l, c) } } } function YLe(n, e, t) { let i, r, { item: s } = e; return n.$$set = o => { "item" in o && t(2, s = o.item) }, n.$$.update = () => { n.$$.dirty & 4 && t(1, i = s.headerTitle), n.$$.dirty & 4 && t(0, r = s.content || []) }, [r, i, s] } class XLe extends oe { constructor(e) { super(), se(this, e, YLe, JLe, ye, { item: 2 }) } } function B5(n, e, t) { const i = n.slice(); return i[8] = e[t].title, i[9] = e[t].content, i } function U5(n) { let e, t, i; return t = new iv({ props: { text: n[1], lines: 8, title: n[3], subtitle: n[2], modalType: "contentModal", translateFn: n[4].t } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "group-text-list__content__notes svelte-1lis0mr") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 2 && (o.text = r[1]), s & 8 && (o.title = r[3]), s & 4 && (o.subtitle = r[2]), s & 16 && (o.translateFn = r[4].t), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function H5(n) { let e, t = n[8] + "", i, r, s, o = n[9] + "", a, l; return { c() { e = L("dt"), i = le(t), r = Y(), s = L("dd"), a = le(o), l = Y(), this.h() }, l(u) { e = T(u, "DT", { class: !0, "data-testid": !0 }); var c = E(e); i = ue(c, t), r = X(c), c.forEach(_), s = T(u, "DD", { class: !0, "data-testid": !0 }); var d = E(s); a = ue(d, o), l = X(d), d.forEach(_), this.h() }, h() { p(e, "class", "group-text-list__detail-title svelte-1lis0mr"), p(e, "data-testid", "grouptext-section-title"), p(s, "class", "group-text-list__detail-description svelte-1lis0mr"), p(s, "data-testid", "grouptext-section-content") }, m(u, c) { I(u, e, c), A(e, i), A(e, r), I(u, s, c), A(s, a), A(s, l) }, p(u, c) { c & 1 && t !== (t = u[8] + "") && me(i, t), c & 1 && o !== (o = u[9] + "") && me(a, o) }, d(u) { u && (_(e), _(s)) } } } function ZLe(n) { let e, t, i, r, s, o = n[1] && U5(n), a = ut(n[0]), l = []; for (let u = 0; u < a.length; u += 1)l[u] = H5(B5(n, a, u)); return { c() { e = L("div"), t = L("div"), o && o.c(), i = Y(), r = L("dl"); for (let u = 0; u < l.length; u += 1)l[u].c(); this.h() }, l(u) { e = T(u, "DIV", { class: !0 }); var c = E(e); t = T(c, "DIV", { class: !0 }); var d = E(t); o && o.l(d), i = X(d), r = T(d, "DL", {}); var f = E(r); for (let g = 0; g < l.length; g += 1)l[g].l(f); f.forEach(_), d.forEach(_), c.forEach(_), this.h() }, h() { p(t, "class", "group-text-list__content svelte-1lis0mr"), p(e, "class", "group-text-list svelte-1lis0mr") }, m(u, c) { I(u, e, c), A(e, t), o && o.m(t, null), A(t, i), A(t, r); for (let d = 0; d < l.length; d += 1)l[d] && l[d].m(r, null); s = !0 }, p(u, [c]) { if (u[1] ? o ? (o.p(u, c), c & 2 && w(o, 1)) : (o = U5(u), o.c(), w(o, 1), o.m(t, i)) : o && (te(), D(o, 1, 1, () => { o = null }), ne()), c & 1) { a = ut(u[0]); let d; for (d = 0; d < a.length; d += 1) { const f = B5(u, a, d); l[d] ? l[d].p(f, c) : (l[d] = H5(f), l[d].c(), l[d].m(r, null)) } for (; d < l.length; d += 1)l[d].d(1); l.length = a.length } }, i(u) { s || (w(o), s = !0) }, o(u) { D(o), s = !1 }, d(u) { u && _(e), o && o.d(), ln(l, u) } } } function QLe(n, e, t) { let i, r, s, o, a, l; const u = ot(); ce(n, u, d => t(4, l = d)); let { item: c } = e; return n.$$set = d => { "item" in d && t(6, c = d.item) }, n.$$.update = () => { n.$$.dirty & 64 && t(7, i = c.modalPresentationDescriptor), n.$$.dirty & 128 && t(3, r = i.headerTitle), n.$$.dirty & 128 && t(2, s = i.headerSubtitle), n.$$.dirty & 128 && t(1, o = i.paragraphText), n.$$.dirty & 64 && t(0, a = c.subsections || []) }, [a, o, s, r, l, u, c, i] } class jLe extends oe { constructor(e) { super(), se(this, e, QLe, ZLe, ye, { item: 6 }) } } function $5(n) { let e, t, i, r; return { c() { e = L("div"), t = L("div"), i = L("p"), r = le(n[5]), this.h() }, l(s) { e = T(s, "DIV", { class: !0, "data-testid": !0 }); var o = E(e); t = T(o, "DIV", { class: !0 }); var a = E(t); i = T(a, "P", { "data-testid": !0, class: !0, "aria-label": !0 }); var l = E(i); r = ue(l, n[5]), l.forEach(_), a.forEach(_), o.forEach(_), this.h() }, h() { p(i, "data-testid", "superhero-description"), p(i, "class", "super-hero-lockup__primary-text svelte-1ozpa54"), p(i, "aria-label", n[5]), p(t, "class", "super-hero-lockup__description-primary svelte-1ozpa54"), p(e, "class", "super-hero-lockup__details super-hero-lockup__details--legibility-gradient svelte-1ozpa54"), p(e, "data-testid", "super-hero-lockup-details") }, m(s, o) { I(s, e, o), A(e, t), A(t, i), A(i, r) }, p(s, o) { o & 32 && me(r, s[5]), o & 32 && p(i, "aria-label", s[5]) }, d(s) { s && _(e) } } } function V5(n) { let e, t, i; return t = new Ki({ props: { playAction: n[2], ariaLabel: n[6], isLarge: n[3] === x.RadioStation } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "play-button svelte-1ozpa54") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 4 && (o.playAction = r[2]), s & 64 && (o.ariaLabel = r[6]), s & 8 && (o.isLarge = r[3] === x.RadioStation), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function z5(n) { let e, t, i; return t = new ls({ props: { attachedTo: n[0].contentDescriptor, isPlayable: n[0].playAction !== null, itemProperties: { subtitleLinks: [{ title: n[0].subtitle }], title: n[0].title, artwork: n[8], recoID: $i(n[2]) } } }), t.$on("contextMenuVisibilityChange", n[11]), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "context-button svelte-1ozpa54") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 1 && (o.attachedTo = r[0].contentDescriptor), s & 1 && (o.isPlayable = r[0].playAction !== null), s & 261 && (o.itemProperties = { subtitleLinks: [{ title: r[0].subtitle }], title: r[0].title, artwork: r[8], recoID: $i(r[2]) }), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function q5(n) { let e, t, i; return t = new ch({ props: { contentDescriptor: n[0].contentDescriptor } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "super-hero-lockup__social-badges svelte-1ozpa54") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 1 && (o.contentDescriptor = r[0].contentDescriptor), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function GLe(n) { let e, t, i, r, s, o, a, l, u; i = new Hl({ props: { videoArtwork: n[7], artwork: n[8], profile: n[9], alt: n[5], fallbackKind: n[3], itemKind: "superHeroLockup" } }); let c = n[5] && $5(n), d = n[2] && V5(n), f = n[0].contentDescriptor && z5(n), g = n[0].contentDescriptor && q5(n); return { c() { e = L("div"), t = L("div"), V(i.$$.fragment), r = Y(), c && c.c(), s = Y(), o = L("div"), d && d.c(), a = Y(), f && f.c(), l = Y(), g && g.c(), this.h() }, l(h) { e = T(h, "DIV", { class: !0 }); var m = E(e); t = T(m, "DIV", { class: !0 }); var v = E(t); q(i.$$.fragment, v), v.forEach(_), r = X(m), c && c.l(m), s = X(m), o = T(m, "DIV", { class: !0 }); var b = E(o); d && d.l(b), a = X(b), f && f.l(b), b.forEach(_), l = X(m), g && g.l(m), m.forEach(_), this.h() }, h() { p(t, "class", "super-hero-artwork svelte-1ozpa54"), p(o, "class", "lockup-controls svelte-1ozpa54"), p(e, "class", "container svelte-1ozpa54") }, m(h, m) { I(h, e, m), A(e, t), H(i, t, null), A(e, r), c && c.m(e, null), A(e, s), A(e, o), d && d.m(o, null), A(o, a), f && f.m(o, null), A(e, l), g && g.m(e, null), u = !0 }, p(h, m) { const v = {}; m & 128 && (v.videoArtwork = h[7]), m & 256 && (v.artwork = h[8]), m & 512 && (v.profile = h[9]), m & 32 && (v.alt = h[5]), m & 8 && (v.fallbackKind = h[3]), i.$set(v), h[5] ? c ? c.p(h, m) : (c = $5(h), c.c(), c.m(e, s)) : c && (c.d(1), c = null), h[2] ? d ? (d.p(h, m), m & 4 && w(d, 1)) : (d = V5(h), d.c(), w(d, 1), d.m(o, a)) : d && (te(), D(d, 1, 1, () => { d = null }), ne()), h[0].contentDescriptor ? f ? (f.p(h, m), m & 1 && w(f, 1)) : (f = z5(h), f.c(), w(f, 1), f.m(o, null)) : f && (te(), D(f, 1, 1, () => { f = null }), ne()), h[0].contentDescriptor ? g ? (g.p(h, m), m & 1 && w(g, 1)) : (g = q5(h), g.c(), w(g, 1), g.m(e, null)) : g && (te(), D(g, 1, 1, () => { g = null }), ne()) }, i(h) { u || (w(i.$$.fragment, h), w(d), w(f), w(g), u = !0) }, o(h) { D(i.$$.fragment, h), D(d), D(f), D(g), u = !1 }, d(h) { h && _(e), $(i), c && c.d(), d && d.d(), f && f.d(), g && g.d() } } } function xLe(n) { let e, t, i; return t = new en({ props: { action: n[4], $$slots: { default: [GLe] }, $$scope: { ctx: n } } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0, "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "super-hero-lockup svelte-1ozpa54"), p(e, "data-testid", "super-hero-lockup"), J(e, "has-open-menu", n[1]) }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, [s]) { const o = {}; s & 16 && (o.action = r[4]), s & 525293 && (o.$$scope = { dirty: s, ctx: r }), t.$set(o), (!i || s & 2) && J(e, "has-open-menu", r[1]) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function eTe(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g; ce(n, _l, P => t(17, g = P)); var h, m, v; const b = ot(); ce(n, b, P => t(16, f = P)); let { item: y } = e; const k = () => window.innerWidth < qH; let S = !1; function C(P) { var M; t(1, S = (M = P.detail) === null || M === void 0 ? void 0 : M.open) } return n.$$set = P => { "item" in P && t(0, y = P.item) }, n.$$.update = () => { n.$$.dirty & 131072 && t(15, i = g === "xsmall" && Cr(k, 50)), n.$$.dirty & 32768 && t(9, r = i ? "superHeroTall" : "superHeroWide"), n.$$.dirty & 32769 && t(8, s = i ? y.tallArtwork : y.wideArtwork), n.$$.dirty & 12289 && t(7, o = { dictionary: { motionTallVideo3x4: t(12, h = y.tallVideoArtwork) === null || h === void 0 ? void 0 : h.dictionary.motionTallVideo3x4, motionWideVideo21x9: t(13, m = y.wideVideoArtwork) === null || m === void 0 ? void 0 : m.dictionary.motionWideVideo21x9 } }), n.$$.dirty & 65537 && t(6, a = dh(f, y.accessibilityLabel, y.showExplicitBadge)), n.$$.dirty & 1 && t(5, l = y.description), n.$$.dirty & 1 && t(4, u = y.segue), n.$$.dirty & 16385 && t(3, c = t(14, v = y.contentDescriptor) === null || v === void 0 ? void 0 : v.kind), n.$$.dirty & 1 && t(2, d = y == null ? void 0 : y.playAction) }, [y, S, d, c, u, l, a, o, s, r, b, C, h, m, v, i, f, g] } class tTe extends oe { constructor(e) { super(), se(this, e, eTe, xLe, ye, { item: 0 }) } } const nTe = n => ({}), W5 = n => ({}); function K5(n) { let e, t; const i = n[6].action, r = We(i, n, n[5], W5); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "header-nav__action svelte-ktyztp") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 32) && Je(r, i, s, s[5], t ? Ke(i, s[5], o, nTe) : Ye(s[5]), W5) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function iTe(n) { let e, t, i, r; const s = n[6].default, o = We(s, n, n[5], null); let a = n[4].action && K5(n); return { c() { e = L("div"), t = L("h1"), o && o.c(), i = Y(), a && a.c(), this.h() }, l(l) { e = T(l, "DIV", { class: !0, "data-testid": !0, "aria-hidden": !0 }); var u = E(e); t = T(u, "H1", { class: !0 }); var c = E(t); o && o.l(c), c.forEach(_), i = X(u), a && a.l(u), u.forEach(_), this.h() }, h() { p(t, "class", "header-nav__heading svelte-ktyztp"), J(t, "header-nav__heading--centered", n[2] === "centered"), p(e, "class", "header-nav svelte-ktyztp"), p(e, "data-testid", "header-component-model"), p(e, "aria-hidden", n[3]), J(e, "header-nav--with-separator", n[1]), J(e, "header-nav--header-type-a", n[0] === "A"), J(e, "header-nav--library-header", n[0] === "library") }, m(l, u) { I(l, e, u), A(e, t), o && o.m(t, null), A(e, i), a && a.m(e, null), r = !0 }, p(l, [u]) { o && o.p && (!r || u & 32) && Je(o, s, l, l[5], r ? Ke(s, l[5], u, null) : Ye(l[5]), null), (!r || u & 4) && J(t, "header-nav__heading--centered", l[2] === "centered"), l[4].action ? a ? (a.p(l, u), u & 16 && w(a, 1)) : (a = K5(l), a.c(), w(a, 1), a.m(e, null)) : a && (te(), D(a, 1, 1, () => { a = null }), ne()), (!r || u & 8) && p(e, "aria-hidden", l[3]), (!r || u & 2) && J(e, "header-nav--with-separator", l[1]), (!r || u & 1) && J(e, "header-nav--header-type-a", l[0] === "A"), (!r || u & 1) && J(e, "header-nav--library-header", l[0] === "library") }, i(l) { r || (w(o, l), w(a), r = !0) }, o(l) { D(o, l), D(a), r = !1 }, d(l) { l && _(e), o && o.d(l), a && a.d() } } } function rTe(n, e, t) { let { $$slots: i = {}, $$scope: r } = e; const s = wn(i); let { headerType: o } = e, { displaySeparator: a = !1 } = e, { textAlignment: l = null } = e, { isAriaHidden: u = !1 } = e; return n.$$set = c => { "headerType" in c && t(0, o = c.headerType), "displaySeparator" in c && t(1, a = c.displaySeparator), "textAlignment" in c && t(2, l = c.textAlignment), "isAriaHidden" in c && t(3, u = c.isAriaHidden), "$$scope" in c && t(5, r = c.$$scope) }, [o, a, l, u, s, r, i] } class jB extends oe { constructor(e) { super(), se(this, e, rTe, iTe, ye, { headerType: 0, displaySeparator: 1, textAlignment: 2, isAriaHidden: 3 }) } } const sTe = n => ({}), J5 = n => ({}), oTe = n => ({}), Y5 = n => ({}), aTe = n => ({}), X5 = n => ({}), lTe = n => ({}), Z5 = n => ({}), uTe = n => ({}), Q5 = n => ({}), cTe = n => ({}), j5 = n => ({ slot: "artwork" }), dTe = n => ({}), G5 = n => ({ slot: "artwork" }), fTe = n => ({}), x5 = n => ({}), gTe = n => ({}), e8 = n => ({}); function hTe(n) { let e, t, i, r, s, o, a; return i = new u0({ props: { useDefaultContainerStyles: !1, artwork: "slot", title: null, alt: n[0], $$slots: { artwork: [_Te] }, $$scope: { ctx: n } } }), o = new u0({ props: { useDefaultContainerStyles: !1, artwork: "slot", title: null, alt: n[0], $$slots: { artwork: [vTe] }, $$scope: { ctx: n } } }), { c() { e = L("div"), t = L("div"), V(i.$$.fragment), r = Y(), s = L("div"), V(o.$$.fragment), this.h() }, l(l) { e = T(l, "DIV", { class: !0 }); var u = E(e); t = T(u, "DIV", { class: !0 }); var c = E(t); q(i.$$.fragment, c), c.forEach(_), r = X(u), s = T(u, "DIV", { class: !0 }); var d = E(s); q(o.$$.fragment, d), d.forEach(_), u.forEach(_), this.h() }, h() { p(t, "class", "artist-header__circular-artwork-gradient svelte-1xfsgte"), p(s, "class", "artist-header__circular-artwork svelte-1xfsgte"), p(e, "class", "artist-header__circular-artwork-container svelte-1xfsgte") }, m(l, u) { I(l, e, u), A(e, t), H(i, t, null), A(e, r), A(e, s), H(o, s, null), a = !0 }, p(l, u) { const c = {}; u & 1 && (c.alt = l[0]), u & 4096 && (c.$$scope = { dirty: u, ctx: l }), i.$set(c); const d = {}; u & 1 && (d.alt = l[0]), u & 4096 && (d.$$scope = { dirty: u, ctx: l }), o.$set(d) }, i(l) { a || (w(i.$$.fragment, l), w(o.$$.fragment, l), a = !0) }, o(l) { D(i.$$.fragment, l), D(o.$$.fragment, l), a = !1 }, d(l) { l && _(e), $(i), $(o) } } } function mTe(n) { let e; const t = n[11]["full-width-artwork"], i = We(t, n, n[12], x5); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 4096) && Je(i, t, r, r[12], e ? Ke(t, r[12], s, fTe) : Ye(r[12]), x5) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function pTe(n) { let e; const t = n[11]["video-artwork"], i = We(t, n, n[12], e8); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 4096) && Je(i, t, r, r[12], e ? Ke(t, r[12], s, gTe) : Ye(r[12]), e8) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function _Te(n) { let e; const t = n[11]["artwork-gradient"], i = We(t, n, n[12], G5); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 4096) && Je(i, t, r, r[12], e ? Ke(t, r[12], s, dTe) : Ye(r[12]), G5) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function vTe(n) { let e; const t = n[11].artwork, i = We(t, n, n[12], j5); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 4096) && Je(i, t, r, r[12], e ? Ke(t, r[12], s, cTe) : Ye(r[12]), j5) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function t8(n) { let e, t; return { c() { e = L("span"), t = le(n[1]), this.h() }, l(i) { e = T(i, "SPAN", { "data-testid": !0, class: !0 }); var r = E(e); t = ue(r, n[1]), r.forEach(_), this.h() }, h() { p(e, "data-testid", "artist-subtitle"), p(e, "class", "artist-header__metadata svelte-1xfsgte") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 2 && me(t, i[1]) }, d(i) { i && _(e) } } } function n8(n) { let e, t; const i = n[11]["classical-button"], r = We(i, n, n[12], Q5); return { c() { e = L("span"), r && r.c(), this.h() }, l(s) { e = T(s, "SPAN", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "artist-header__classical-button svelte-1xfsgte") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 4096) && Je(r, i, s, s[12], t ? Ke(i, s[12], o, uTe) : Ye(s[12]), Q5) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function i8(n) { let e, t; const i = n[11]["play-button"], r = We(i, n, n[12], Z5); return { c() { e = L("span"), r && r.c(), this.h() }, l(s) { e = T(s, "SPAN", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "artist-header__play-button svelte-1xfsgte") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 4096) && Je(r, i, s, s[12], t ? Ke(i, s[12], o, lTe) : Ye(s[12]), Z5) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function r8(n) { let e, t; const i = n[11]["favorited-badge"], r = We(i, n, n[12], X5); return { c() { e = L("span"), r && r.c(), this.h() }, l(s) { e = T(s, "SPAN", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "artist-header__favorite-button svelte-1xfsgte") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 4096) && Je(r, i, s, s[12], t ? Ke(i, s[12], o, aTe) : Ye(s[12]), X5) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function s8(n) { let e, t; const i = n[11]["share-button"], r = We(i, n, n[12], Y5); return { c() { e = L("span"), r && r.c(), this.h() }, l(s) { e = T(s, "SPAN", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "artist-header__share-button svelte-1xfsgte") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 4096) && Je(r, i, s, s[12], t ? Ke(i, s[12], o, oTe) : Ye(s[12]), Y5) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function o8(n) { let e, t; const i = n[11]["context-menu"], r = We(i, n, n[12], J5); return { c() { e = L("span"), r && r.c(), this.h() }, l(s) { e = T(s, "SPAN", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "artist-header__context-menu svelte-1xfsgte") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, o) { r && r.p && (!t || o & 4096) && Je(r, i, s, s[12], t ? Ke(i, s[12], o, sTe) : Ye(s[12]), J5) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function bTe(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h; const m = [pTe, mTe, hTe], v = []; function b(R, F) { return R[10]["video-artwork"] && R[4] ? 0 : R[10]["full-width-artwork"] && R[5] ? 1 : R[2] ? 2 : -1 } ~(t = b(n)) && (i = v[t] = m[t](n)); let y = n[1] && t8(n), k = n[10]["classical-button"] && n[9] && n8(n), S = n[10]["play-button"] && i8(n), C = n[10]["favorited-badge"] && n[7] && r8(n), P = n[10]["share-button"] && n[8] && s8(n), M = n[10]["context-menu"] && o8(n); return { c() { e = L("div"), i && i.c(), r = Y(), s = L("div"), y && y.c(), o = Y(), a = L("h1"), l = le(n[0]), u = Y(), k && k.c(), c = Y(), S && S.c(), d = Y(), C && C.c(), f = Y(), P && P.c(), g = Y(), M && M.c(), this.h() }, l(R) { e = T(R, "DIV", { "data-testid": !0, class: !0, style: !0 }); var F = E(e); i && i.l(F), r = X(F), s = T(F, "DIV", { class: !0 }); var N = E(s); y && y.l(N), o = X(N), a = T(N, "H1", { "data-testid": !0, class: !0 }); var O = E(a); l = ue(O, n[0]), O.forEach(_), u = X(N), k && k.l(N), c = X(N), S && S.l(N), d = X(N), C && C.l(N), f = X(N), P && P.l(N), g = X(N), M && M.l(N), N.forEach(_), F.forEach(_), this.h() }, h() { p(a, "data-testid", "artist-header-name"), p(a, "class", "artist-header__name svelte-1xfsgte"), p(s, "class", "artist-header__name-container svelte-1xfsgte"), p(e, "data-testid", "artist-detail-header"), p(e, "class", "artist-header svelte-1xfsgte"), p(e, "style", n[6]), J(e, "artist-header--fixed", n[3] || n[4] || n[5]), J(e, "artist-header--video", n[4]), J(e, "artist-header--full-width", n[5]), J(e, "artist-header--no-artwork", !n[2] && !n[4] && !n[3]) }, m(R, F) { I(R, e, F), ~t && v[t].m(e, null), A(e, r), A(e, s), y && y.m(s, null), A(s, o), A(s, a), A(a, l), A(s, u), k && k.m(s, null), A(s, c), S && S.m(s, null), A(s, d), C && C.m(s, null), A(s, f), P && P.m(s, null), A(s, g), M && M.m(s, null), h = !0 }, p(R, [F]) { let N = t; t = b(R), t === N ? ~t && v[t].p(R, F) : (i && (te(), D(v[N], 1, 1, () => { v[N] = null }), ne()), ~t ? (i = v[t], i ? i.p(R, F) : (i = v[t] = m[t](R), i.c()), w(i, 1), i.m(e, r)) : i = null), R[1] ? y ? y.p(R, F) : (y = t8(R), y.c(), y.m(s, o)) : y && (y.d(1), y = null), (!h || F & 1) && me(l, R[0]), R[10]["classical-button"] && R[9] ? k ? (k.p(R, F), F & 1536 && w(k, 1)) : (k = n8(R), k.c(), w(k, 1), k.m(s, c)) : k && (te(), D(k, 1, 1, () => { k = null }), ne()), R[10]["play-button"] ? S ? (S.p(R, F), F & 1024 && w(S, 1)) : (S = i8(R), S.c(), w(S, 1), S.m(s, d)) : S && (te(), D(S, 1, 1, () => { S = null }), ne()), R[10]["favorited-badge"] && R[7] ? C ? (C.p(R, F), F & 1152 && w(C, 1)) : (C = r8(R), C.c(), w(C, 1), C.m(s, f)) : C && (te(), D(C, 1, 1, () => { C = null }), ne()), R[10]["share-button"] && R[8] ? P ? (P.p(R, F), F & 1280 && w(P, 1)) : (P = s8(R), P.c(), w(P, 1), P.m(s, g)) : P && (te(), D(P, 1, 1, () => { P = null }), ne()), R[10]["context-menu"] ? M ? (M.p(R, F), F & 1024 && w(M, 1)) : (M = o8(R), M.c(), w(M, 1), M.m(s, null)) : M && (te(), D(M, 1, 1, () => { M = null }), ne()), (!h || F & 64) && p(e, "style", R[6]), (!h || F & 56) && J(e, "artist-header--fixed", R[3] || R[4] || R[5]), (!h || F & 16) && J(e, "artist-header--video", R[4]), (!h || F & 32) && J(e, "artist-header--full-width", R[5]), (!h || F & 28) && J(e, "artist-header--no-artwork", !R[2] && !R[4] && !R[3]) }, i(R) { h || (w(i), w(k), w(S), w(C), w(P), w(M), h = !0) }, o(R) { D(i), D(k), D(S), D(C), D(P), D(M), h = !1 }, d(R) { R && _(e), ~t && v[t].d(), y && y.d(), k && k.d(), S && S.d(), C && C.d(), P && P.d(), M && M.d() } } } function yTe(n, e, t) { let { $$slots: i = {}, $$scope: r } = e; const s = wn(i); let { name: o } = e, { subtitle: a = null } = e, { hasArtwork: l } = e, { hasUberArtwork: u } = e, { hasVideoArtwork: c } = e, { hasFullWidthArtwork: d = !1 } = e, { headerStyle: f = "" } = e, { showFavoriteButton: g = !1 } = e, { showShareButton: h = !1 } = e, { showClassicalButton: m = !1 } = e; return n.$$set = v => { "name" in v && t(0, o = v.name), "subtitle" in v && t(1, a = v.subtitle), "hasArtwork" in v && t(2, l = v.hasArtwork), "hasUberArtwork" in v && t(3, u = v.hasUberArtwork), "hasVideoArtwork" in v && t(4, c = v.hasVideoArtwork), "hasFullWidthArtwork" in v && t(5, d = v.hasFullWidthArtwork), "headerStyle" in v && t(6, f = v.headerStyle), "showFavoriteButton" in v && t(7, g = v.showFavoriteButton), "showShareButton" in v && t(8, h = v.showShareButton), "showClassicalButton" in v && t(9, m = v.showClassicalButton), "$$scope" in v && t(12, r = v.$$scope) }, [o, a, l, u, c, d, f, g, h, m, s, i, r] } let wTe = class extends oe { constructor(e) { super(), se(this, e, yTe, bTe, ye, { name: 0, subtitle: 1, hasArtwork: 2, hasUberArtwork: 3, hasVideoArtwork: 4, hasFullWidthArtwork: 5, headerStyle: 6, showFavoriteButton: 7, showShareButton: 8, showClassicalButton: 9 }) } }; function kTe(n) { let e, t; return e = new Ro({ props: { translateFn: n[1].t, config: n[0] } }), e.$on("mouseover", Bi(n[3], qp)), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 2 && (s.translateFn = i[1].t), r & 1 && (s.config = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function DTe(n, e, t) { let i, r; const s = kn("<ArtistContextMenu />"), o = ot(); ce(n, o, g => t(1, r = g)); const a = Fo(); let l = {}, { artistContentDescriptor: u } = e, { hideCreateStation: c = !1 } = e, { shareUrl: d = null } = e; const f = async () => { t(7, l = await a.fetchUpdatedLibraryState(u, s)) }; return n.$$set = g => { "artistContentDescriptor" in g && t(4, u = g.artistContentDescriptor), "hideCreateStation" in g && t(5, c = g.hideCreateStation), "shareUrl" in g && t(6, d = g.shareUrl) }, n.$$.update = () => { n.$$.dirty & 240 && t(0, i = a.getArtistItemsConfig(u, c, !0, l, d)) }, [i, r, o, f, u, c, d, l] } class rv extends oe { constructor(e) { super(), se(this, e, DTe, kTe, ye, { artistContentDescriptor: 4, hideCreateStation: 5, shareUrl: 6 }) } } function STe(n) { let e, t; return e = new Hl({ props: { videoArtwork: n[10], artwork: null, alt: n[12], profile: "artist-detail-header", itemKind: "artistDetailHeaderLockup", viewportThreshold: 0, videoCover: !0, slot: "video-artwork" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 1024 && (s.videoArtwork = i[10]), r[0] & 4096 && (s.alt = i[12]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function CTe(n) { let e, t; return e = new Gt({ props: { artwork: n[11], profile: "facehole-uber", slot: "artwork-gradient" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 2048 && (s.artwork = i[11]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function PTe(n) { let e, t; return e = new Gt({ props: { artwork: n[11], profile: "facehole-uber", slot: "artwork", alt: n[12] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 2048 && (s.artwork = i[11]), r[0] & 4096 && (s.alt = i[12]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function ATe(n) { let e, t; return e = new Ki({ props: { playAction: n[9], isStandAlone: !0, isFilled: !0, ariaLabel: n[7], slot: "play-button" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 512 && (s.playAction = i[9]), r[0] & 128 && (s.ariaLabel = i[7]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function ETe(n) { let e, t; return e = new nv({ props: { classicalAction: n[8], ariaLabel: n[6], slot: "classical-button" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 256 && (s.classicalAction = i[8]), r[0] & 64 && (s.ariaLabel = i[6]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function ITe(n) { let e, t; return e = new Ol({ props: { isFavorited: n[4], slot: "favorited-badge" } }), e.$on("toggle", n[15]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 16 && (s.isFavorited = i[4]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function MTe(n) { let e, t; return e = new rv({ props: { artistContentDescriptor: n[0], slot: "context-menu" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 1 && (s.artistContentDescriptor = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function LTe(n) { let e, t; return e = new wTe({ props: { name: n[12], headerStyle: n[2], showFavoriteButton: n[3], hasArtwork: !!n[11], hasUberArtwork: !!n[1], hasVideoArtwork: !!n[10], showClassicalButton: !!n[8], $$slots: { "context-menu": [MTe], "favorited-badge": [ITe], "classical-button": [ETe], "play-button": [ATe], artwork: [PTe], "artwork-gradient": [CTe], "video-artwork": [STe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 4096 && (s.name = i[12]), r[0] & 4 && (s.headerStyle = i[2]), r[0] & 8 && (s.showFavoriteButton = i[3]), r[0] & 2048 && (s.hasArtwork = !!i[11]), r[0] & 2 && (s.hasUberArtwork = !!i[1]), r[0] & 1024 && (s.hasVideoArtwork = !!i[10]), r[0] & 256 && (s.showClassicalButton = !!i[8]), r[0] & 8145 | r[1] & 1 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function TTe(n, e, t) {
    let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P = j, M = () => (P(), P = yn(h, ee => t(26, C = ee)), h), R; n.$$.on_destroy.push(() => P()); var F, N, O, B; const U = ot(); ce(n, U, ee => t(27, R = ee)); const { state: K } = xt(); ce(n, K, ee => t(25, S = ee)); const W = sn(), Z = Qn(), Q = Tn(); let { item: G } = e; const ae = ee => { Ml(s, x.Artist, r, !ee.detail, Z, !1, !0, W) }; return n.$$set = ee => { "item" in ee && t(16, G = ee.item) }, n.$$.update = () => {
        n.$$.dirty[0] & 65536 && t(24, i = G), n.$$.dirty[0] & 16777216 && t(0, r = i.contentDescriptor), n.$$.dirty[0] & 131073 && t(21, s = t(17, F = r == null ? void 0 : r.identifiers) === null || F === void 0 ? void 0 : F.storeAdamID), n.$$.dirty[0] & 16777216 && t(12, o = i.title), n.$$.dirty[0] & 16777216 && t(11, a = i.artwork), n.$$.dirty[0] & 16777216 && t(10, l = i.videoArtwork), n.$$.dirty[0] & 16777216 && t(1, u = i.uberArtwork), n.$$.dirty[0] & 16777216 && t(9, c = i.playAction), n.$$.dirty[0] & 16777216 && t(8, d = i.classicalButton), n.$$.dirty[0] & 134217728 && t(7, f = `${R.t("ASE.Web.Music.Play")}`), n.$$.dirty[0] & 134217728 && t(6, g = `${R.t("ASE.Web.Music.Artist.LaunchClassical.AriaLabel")}`), n.$$.dirty[0] & 2097152 && M(t(5, h = Z.subscribeToUpdates(s))), n.$$.dirty[0] & 69468160 && t(4, m = C && (t(18, N = Z.get(s, x.Artist)) === null || N === void 0 ? void 0 : N.inFavorites)), n.$$.dirty[0] & 34078720 && t(23, v = (S == null ? void 0 : S.user) && (t(19, O = S == null ? void 0 : S.user) === null || O === void 0 ? void 0 : O.subscriberType) === Hi.Premium), n.$$.dirty[0] & 34603008 && t(22, b = t(20, B = S.user) === null || B === void 0 ? void 0 : B.subscriptionStorefront), n.$$.dirty[0] & 12582912 && t(3, y = v && b === Q.storefront), n.$$.dirty[0] & 2 && t(2, k = (() => {
            if (!u) return; const ee = ll(u), pe = u.cropStyle || "ea", ke = "jpg"; if (ee) {
                const we = { width: 2400, height: 933, crop: pe, quality: 60, fileType: ke }, Te = ho(ee.template, we, {}), ge = { width: 1478, height: 646, crop: pe, quality: 60, fileType: ke }, Ce = ho(ee.template, ge, {}); return `--background-image: url(${Te});
                --background-image-xs: url(${Ce});
                --background-color: #${ee.backgroundColor};`
            }
        })())
    }, [r, u, k, y, m, h, g, f, d, c, l, a, o, U, K, ae, G, F, N, O, B, s, b, v, i, S, C, R]
} class RTe extends oe { constructor(e) { super(), se(this, e, TTe, LTe, ye, { item: 16 }, null, [-1, -1]) } } function FTe(n) { let e, t, i = [{ viewBox: "0 0 28 28" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0, fill: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M10.975 20.046 7.439 16.51a1.5 1.5 0 0 1 2.122-2.12l2.475 2.474 7.424-7.425a1.5 1.5 0 0 1 2.121 2.122l-8.485 8.485a1.5 1.5 0 0 1-2.121 0z"), p(t, "fill", "#4CD964"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ viewBox: "0 0 28 28" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function OTe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let NTe = class extends oe { constructor(e) { super(), se(this, e, OTe, FTe, ht, {}) } }; function BTe(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 28 28" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M14 6c2.21 0 4 1.795 4 4v2l.141.005A1.998 1.998 0 0 1 20 14v6c0 1.105-.902 2-2.009 2H10.01A2 2 0 0 1 8 20v-6c0-1.102.898-1.996 2-2v-2a4.003 4.003 0 0 1 3.8-3.995L14 6zm0 2-.15.005A1.995 1.995 0 0 0 12 9.998V12h4V9.998c0-1.06-.816-1.917-1.85-1.993L14 8z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 28 28" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function UTe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let HTe = class extends oe { constructor(e) { super(), se(this, e, UTe, BTe, ht, {}) } }; function $Te(n) { let e, t; return e = new Gt({ props: { artwork: n[6], profile: "facehole-uber" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 64 && (s.artwork = i[6]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function VTe(n) { let e, t; return e = new Gt({ props: { artwork: n[6], profile: "facehole-uber", alt: n[19] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 64 && (s.artwork = i[6]), r & 524288 && (s.alt = i[19]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function zTe(n) { let e, t, i, r; return t = new NTe({}), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(s) { e = T(s, "DIV", { class: !0, "aria-label": !0, "data-testid": !0 }); var o = E(e); q(t.$$.fragment, o), o.forEach(_), this.h() }, h() { p(e, "class", "social-profile__circular-artwork-badge svelte-1f33v8a"), p(e, "aria-label", i = n[7].t("ASE.Web.Music.Social.Profile.Meta.Description.Verified")), p(e, "data-testid", "profile-circular-artwork-verified") }, m(s, o) { I(s, e, o), H(t, e, null), r = !0 }, p(s, o) { (!r || o & 128 && i !== (i = s[7].t("ASE.Web.Music.Social.Profile.Meta.Description.Verified"))) && p(e, "aria-label", i) }, i(s) { r || (w(t.$$.fragment, s), r = !0) }, o(s) { D(t.$$.fragment, s), r = !1 }, d(s) { s && _(e), $(t) } } } function qTe(n) { let e, t, i, r; return t = new HTe({}), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(s) { e = T(s, "DIV", { class: !0, "aria-label": !0, "data-testid": !0 }); var o = E(e); q(t.$$.fragment, o), o.forEach(_), this.h() }, h() { p(e, "class", "social-profile__circular-artwork-badge svelte-1f33v8a"), p(e, "aria-label", i = n[7].t("ASE.Web.Music.Social.Profile.Meta.Description.Private")), p(e, "data-testid", "profile-circular-artwork-private") }, m(s, o) { I(s, e, o), H(t, e, null), r = !0 }, p(s, o) { (!r || o & 128 && i !== (i = s[7].t("ASE.Web.Music.Social.Profile.Meta.Description.Private"))) && p(e, "aria-label", i) }, i(s) { r || (w(t.$$.fragment, s), r = !0) }, o(s) { D(t.$$.fragment, s), r = !1 }, d(s) { s && _(e), $(t) } } } function a8(n) { let e, t = n[7].t("ASE.Web.Music.Social.Profile.Meta.Description.Private") + "", i; return { c() { e = L("h2"), i = le(t), this.h() }, l(r) { e = T(r, "H2", { class: !0, "data-testid": !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "social-profile__subtitle typography-title-2 svelte-1f33v8a"), p(e, "data-testid", "profile-subtitle") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 128 && t !== (t = r[7].t("ASE.Web.Music.Social.Profile.Meta.Description.Private") + "") && me(i, t) }, d(r) { r && _(e) } } } function WTe(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b; r = new hl({ props: { item: n[0], displayText: !1, useDefaultContainerStyles: !1, $$slots: { artwork: [$Te] }, $$scope: { ctx: n } } }), a = new hl({ props: { item: n[0], displayText: !1, useDefaultContainerStyles: !1, $$slots: { artwork: [VTe, ({ artworkAlt: P }) => ({ 19: P }), ({ artworkAlt: P }) => P ? 524288 : 0] }, $$scope: { ctx: n } } }); const y = [qTe, zTe], k = []; function S(P, M) { return P[4] ? 0 : P[3] ? 1 : -1 } ~(u = S(n)) && (c = k[u] = y[u](n)); let C = n[4] && a8(n); return v = new hh({ props: { profile: n[1] ? "socialProfileSelf" : "socialProfile", url: n[2] } }), { c() { e = L("div"), t = L("div"), i = L("div"), V(r.$$.fragment), s = Y(), o = L("div"), V(a.$$.fragment), l = Y(), c && c.c(), d = Y(), f = L("h1"), g = le(n[5]), h = Y(), C && C.c(), m = Y(), V(v.$$.fragment), this.h() }, l(P) { e = T(P, "DIV", { class: !0 }); var M = E(e); t = T(M, "DIV", { class: !0 }); var R = E(t); i = T(R, "DIV", { class: !0 }); var F = E(i); q(r.$$.fragment, F), F.forEach(_), s = X(R), o = T(R, "DIV", { class: !0 }); var N = E(o); q(a.$$.fragment, N), N.forEach(_), l = X(R), c && c.l(R), R.forEach(_), d = X(M), f = T(M, "H1", { class: !0, "data-testid": !0 }); var O = E(f); g = ue(O, n[5]), O.forEach(_), h = X(M), C && C.l(M), m = X(M), q(v.$$.fragment, M), M.forEach(_), this.h() }, h() { p(i, "class", "social-profile__circular-artwork-gradient svelte-1f33v8a"), p(o, "class", "social-profile__circular-artwork svelte-1f33v8a"), p(t, "class", "social-profile__circular-artwork-container svelte-1f33v8a"), p(f, "class", "social-profile__title typography-header-emphasized svelte-1f33v8a"), p(f, "data-testid", "profile-handle"), p(e, "class", "social-profile svelte-1f33v8a") }, m(P, M) { I(P, e, M), A(e, t), A(t, i), H(r, i, null), A(t, s), A(t, o), H(a, o, null), A(t, l), ~u && k[u].m(t, null), A(e, d), A(e, f), A(f, g), A(e, h), C && C.m(e, null), A(e, m), H(v, e, null), b = !0 }, p(P, [M]) { const R = {}; M & 1 && (R.item = P[0]), M & 1048640 && (R.$$scope = { dirty: M, ctx: P }), r.$set(R); const F = {}; M & 1 && (F.item = P[0]), M & 1572928 && (F.$$scope = { dirty: M, ctx: P }), a.$set(F); let N = u; u = S(P), u === N ? ~u && k[u].p(P, M) : (c && (te(), D(k[N], 1, 1, () => { k[N] = null }), ne()), ~u ? (c = k[u], c ? c.p(P, M) : (c = k[u] = y[u](P), c.c()), w(c, 1), c.m(t, null)) : c = null), (!b || M & 32) && me(g, P[5]), P[4] ? C ? C.p(P, M) : (C = a8(P), C.c(), C.m(e, m)) : C && (C.d(1), C = null); const O = {}; M & 2 && (O.profile = P[1] ? "socialProfileSelf" : "socialProfile"), M & 4 && (O.url = P[2]), v.$set(O) }, i(P) { b || (w(r.$$.fragment, P), w(a.$$.fragment, P), w(c), w(v.$$.fragment, P), b = !0) }, o(P) { D(r.$$.fragment, P), D(a.$$.fragment, P), D(c), D(v.$$.fragment, P), b = !1 }, d(P) { P && _(e), $(r), $(a), ~u && k[u].d(), C && C.d(), $(v) } } } function KTe(n, e, t) { let i, r, s, o, a, l, u, c, d; var f, g, h, m, v, b, y; const k = ot(); ce(n, k, P => t(7, d = P)); const { state: S } = xt(); ce(n, S, P => t(18, c = P)); let { item: C } = e; return n.$$set = P => { "item" in P && t(0, C = P.item) }, n.$$.update = () => { n.$$.dirty & 1 && t(6, i = C.artwork), n.$$.dirty & 1 && t(5, r = C.handle), n.$$.dirty & 1 && t(4, s = C.isPrivate), n.$$.dirty & 1 && t(3, o = C.isVerified), n.$$.dirty & 1025 && t(2, a = t(10, f = C.contentDescriptor) === null || f === void 0 ? void 0 : f.url), n.$$.dirty & 268288 && t(17, l = t(12, h = t(11, g = c == null ? void 0 : c.userSocialProfile) === null || g === void 0 ? void 0 : g.userSocialProfileDescriptor) !== null && h !== void 0 ? h : {}), n.$$.dirty & 253953 && t(1, u = (t(14, v = t(13, m = l.contentDescriptor) === null || m === void 0 ? void 0 : m.identifiers) === null || v === void 0 ? void 0 : v.socialProfileID) === (t(16, y = t(15, b = C == null ? void 0 : C.contentDescriptor) === null || b === void 0 ? void 0 : b.identifiers) === null || y === void 0 ? void 0 : y.socialProfileID)) }, [C, u, a, o, s, r, i, d, k, S, f, g, h, m, v, b, y, l, c] } class JTe extends oe { constructor(e) { super(), se(this, e, KTe, WTe, ye, { item: 0 }) } } function YTe(n) { let e, t, i = Zn(n[1]) + "", r; return { c() { e = L("p"), t = new Pi(!1), this.h() }, l(s) { e = T(s, "P", { "data-testid": !0, class: !0 }); var o = E(e); t = hr(o, !1), o.forEach(_), this.h() }, h() { t.a = null, p(e, "data-testid", "paragraph-lockup"), p(e, "class", r = "paragraph-lockup " + n[0] + " svelte-aypbas") }, m(s, o) { I(s, e, o), t.m(i, e) }, p(s, [o]) { o & 2 && i !== (i = Zn(s[1]) + "") && t.p(i), o & 1 && r !== (r = "paragraph-lockup " + s[0] + " svelte-aypbas") && p(e, "class", r) }, i: j, o: j, d(s) { s && _(e) } } } function XTe(n, e, t) { let i, r; const s = kn("<ParagraphLockup>"); let { item: o } = e; return n.$$set = a => { "item" in a && t(2, o = a.item) }, n.$$.update = () => { n.$$.dirty & 4 && t(0, r = o.textAlignment), n.$$.dirty & 1 && (["leading", "trailing", "centered"].includes(r) || s.warn("unexpected textAlignment:", r)), n.$$.dirty & 4 && t(1, i = o.text) }, [r, i, o] } class ZTe extends oe { constructor(e) { super(), se(this, e, XTe, YTe, ye, { item: 2 }) } } function l8(n, e, t) { const i = n.slice(); return i[1] = e[t], i } function u8(n) { let e, t = ut(n[0]), i = []; for (let r = 0; r < t.length; r += 1)i[r] = c8(l8(n, t, r)); return { c() { e = L("div"); for (let r = 0; r < i.length; r += 1)i[r].c(); this.h() }, l(r) { e = T(r, "DIV", { "data-testid": !0, class: !0 }); var s = E(e); for (let o = 0; o < i.length; o += 1)i[o].l(s); s.forEach(_), this.h() }, h() { p(e, "data-testid", "badges-list"), p(e, "class", "badges-list svelte-7edidg") }, m(r, s) { I(r, e, s); for (let o = 0; o < i.length; o += 1)i[o] && i[o].m(e, null) }, p(r, s) { if (s & 1) { t = ut(r[0]); let o; for (o = 0; o < t.length; o += 1) { const a = l8(r, t, o); i[o] ? i[o].p(a, s) : (i[o] = c8(a), i[o].c(), i[o].m(e, null)) } for (; o < i.length; o += 1)i[o].d(1); i.length = t.length } }, d(r) { r && _(e), ln(i, r) } } } function c8(n) { let e, t = n[1] + "", i; return { c() { e = L("span"), i = le(t), this.h() }, l(r) { e = T(r, "SPAN", { class: !0, "data-testid": !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "badge svelte-7edidg"), p(e, "data-testid", "badge") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 1 && t !== (t = r[1] + "") && me(i, t) }, d(r) { r && _(e) } } } function QTe(n) { let e, t = n[0] && n[0].length > 0 && u8(n); return { c() { t && t.c(), e = re() }, l(i) { t && t.l(i), e = re() }, m(i, r) { t && t.m(i, r), I(i, e, r) }, p(i, [r]) { i[0] && i[0].length > 0 ? t ? t.p(i, r) : (t = u8(i), t.c(), t.m(e.parentNode, e)) : t && (t.d(1), t = null) }, i: j, o: j, d(i) { i && _(e), t && t.d(i) } } } function jTe(n, e, t) { let { badges: i } = e; return n.$$set = r => { "badges" in r && t(0, i = r.badges) }, [i] } class GTe extends oe { constructor(e) { super(), se(this, e, jTe, QTe, ye, { badges: 0 }) } } function d8(n) { let e, t; return { c() { e = L("div"), t = le(n[16]), this.h() }, l(i) { e = T(i, "DIV", { class: !0, "data-testid": !0 }); var r = E(e); t = ue(r, n[16]), r.forEach(_), this.h() }, h() { p(e, "class", "tv-movie-header__eyebrow svelte-417pny"), p(e, "data-testid", "tv-movie-detail-header-headline") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 65536 && me(t, i[16]) }, d(i) { i && _(e) } } } function f8(n) { let e, t, i, r; t = new us({ props: { inFavorites: n[4] } }); let s = n[6] && g8(); return { c() { e = L("span"), V(t.$$.fragment), i = Y(), s && s.c(), this.h() }, l(o) { e = T(o, "SPAN", { class: !0 }); var a = E(e); q(t.$$.fragment, a), i = X(a), s && s.l(a), a.forEach(_), this.h() }, h() { p(e, "class", "tv-movie-header__badges svelte-417pny") }, m(o, a) { I(o, e, a), H(t, e, null), A(e, i), s && s.m(e, null), r = !0 }, p(o, a) { const l = {}; a & 16 && (l.inFavorites = o[4]), t.$set(l), o[6] ? s ? a & 64 && w(s, 1) : (s = g8(), s.c(), w(s, 1), s.m(e, null)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()) }, i(o) { r || (w(t.$$.fragment, o), w(s), r = !0) }, o(o) { D(t.$$.fragment, o), D(s), r = !1 }, d(o) { o && _(e), $(t), s && s.d() } } } function g8(n) { let e, t; return e = new ya({}), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function h8(n) { let e, t, i; return t = new so({ props: { items: n[0].subtitleLinks, translateFn: n[2].t, $$slots: { default: [eRe, ({ item: r }) => ({ 28: r }), ({ item: r }) => r ? 268435456 : 0] }, $$scope: { ctx: n } } }), { c() { e = L("p"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "P", { class: !0, "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "tv-movie-header__subtitle svelte-417pny"), p(e, "data-testid", "tv-movie-detail-header-subtitle") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 1 && (o.items = r[0].subtitleLinks), s & 4 && (o.translateFn = r[2].t), s & 805306368 && (o.$$scope = { dirty: s, ctx: r }), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function xTe(n) { let e = n[28].title + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 268435456 && e !== (e = i[28].title + "") && me(t, e) }, d(i) { i && _(t) } } } function eRe(n) { let e, t; return e = new en({ props: { action: n[28].segue, $$slots: { default: [xTe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 268435456 && (s.action = i[28].segue), r & 805306368 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function m8(n) { let e, t, i; return t = new iv({ props: { text: n[13], lines: 3, modalType: "contentModal", translateFn: n[2].t } }), { c() { e = L("p"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "P", { class: !0, "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "tv-movie-header__notes svelte-417pny"), p(e, "data-testid", "tv-movie-detail-header-description") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 8192 && (o.text = r[13]), s & 4 && (o.translateFn = r[2].t), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function tRe(n) { let e, t; return e = new hh({ props: { url: n[8] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 256 && (s.url = i[8]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function nRe(n) { let e, t; return e = new Bc({ props: { contentDescriptor: n[0].contentDescriptor, isPlayable: !!n[10], itemProperties: { subtitleLinks: n[0].subtitleLinks, title: n[15], artwork: n[0].artwork } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.contentDescriptor = i[0].contentDescriptor), r & 1024 && (s.isPlayable = !!i[10]), r & 32769 && (s.itemProperties = { subtitleLinks: i[0].subtitleLinks, title: i[15], artwork: i[0].artwork }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function iRe(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F, N, O, B; o = new Gt({ props: { artwork: n[1], profile: n[17], forceFullWidth: !1, alt: "" } }), l = new Gt({ props: { artwork: n[1], profile: n[17], forceCropCode: !0 } }), d = new Ki({ props: { ariaLabel: n[3], playAction: n[10], isStandAlone: !0 } }); let U = n[16] && d8(n), K = (n[6] || n[4]) && f8(n), W = n[14] && h8(n); P = new GTe({ props: { badges: n[11] } }); let Z = n[13] && m8(n); const Q = [nRe, tRe], G = []; function ae(ee, pe) { return ee[9] ? 0 : ee[7] ? -1 : 1 } return ~(N = ae(n)) && (O = G[N] = Q[N](n)), { c() { e = L("div"), t = L("div"), i = L("div"), r = L("div"), s = L("div"), V(o.$$.fragment), a = Y(), V(l.$$.fragment), u = Y(), c = L("div"), V(d.$$.fragment), f = Y(), g = L("div"), U && U.c(), h = Y(), m = L("p"), v = le(n[15]), K && K.c(), b = Y(), W && W.c(), y = Y(), k = L("div"), S = le(n[12]), C = Y(), V(P.$$.fragment), M = Y(), Z && Z.c(), R = Y(), F = L("div"), O && O.c(), this.h() }, l(ee) { e = T(ee, "DIV", { class: !0 }); var pe = E(e); t = T(pe, "DIV", { class: !0 }); var ke = E(t); i = T(ke, "DIV", { class: !0 }); var we = E(i); r = T(we, "DIV", { class: !0 }); var Te = E(r); s = T(Te, "DIV", { class: !0 }); var ge = E(s); q(o.$$.fragment, ge), ge.forEach(_), a = X(Te), q(l.$$.fragment, Te), u = X(Te), c = T(Te, "DIV", { class: !0 }); var Ce = E(c); q(d.$$.fragment, Ce), Ce.forEach(_), Te.forEach(_), we.forEach(_), f = X(ke), g = T(ke, "DIV", { class: !0 }); var he = E(g); U && U.l(he), h = X(he), m = T(he, "P", { class: !0, "data-testid": !0 }); var Ae = E(m); v = ue(Ae, n[15]), K && K.l(Ae), Ae.forEach(_), b = X(he), W && W.l(he), y = X(he), k = T(he, "DIV", { class: !0 }); var ze = E(k); S = ue(ze, n[12]), C = X(ze), q(P.$$.fragment, ze), ze.forEach(_), M = X(he), Z && Z.l(he), R = X(he), F = T(he, "DIV", { class: !0 }); var Pe = E(F); O && O.l(Pe), Pe.forEach(_), he.forEach(_), ke.forEach(_), pe.forEach(_), this.h() }, h() { p(s, "class", "tv-movie-header__radiosity svelte-417pny"), p(c, "class", "tv-movie-header__play-button svelte-417pny"), p(r, "class", "tv-movie-header__artwork-container svelte-417pny"), p(i, "class", "tv-movie-header__container svelte-417pny"), p(m, "class", "tv-movie-header__title svelte-417pny"), p(m, "data-testid", "tv-movie-detail-header-title"), p(k, "class", "tv-movie-header__meta svelte-417pny"), p(F, "class", "tv-movie-header__buttons svelte-417pny"), p(g, "class", "tv-movie-header__details svelte-417pny"), p(t, "class", "tv-movie-header__wrapper svelte-417pny"), p(e, "class", "tv-movie-header svelte-417pny") }, m(ee, pe) { I(ee, e, pe), A(e, t), A(t, i), A(i, r), A(r, s), H(o, s, null), A(r, a), H(l, r, null), A(r, u), A(r, c), H(d, c, null), A(t, f), A(t, g), U && U.m(g, null), A(g, h), A(g, m), A(m, v), K && K.m(m, null), A(g, b), W && W.m(g, null), A(g, y), A(g, k), A(k, S), A(k, C), H(P, k, null), A(g, M), Z && Z.m(g, null), A(g, R), A(g, F), ~N && G[N].m(F, null), B = !0 }, p(ee, [pe]) { const ke = {}; pe & 2 && (ke.artwork = ee[1]), pe & 131072 && (ke.profile = ee[17]), o.$set(ke); const we = {}; pe & 2 && (we.artwork = ee[1]), pe & 131072 && (we.profile = ee[17]), l.$set(we); const Te = {}; pe & 8 && (Te.ariaLabel = ee[3]), pe & 1024 && (Te.playAction = ee[10]), d.$set(Te), ee[16] ? U ? U.p(ee, pe) : (U = d8(ee), U.c(), U.m(g, h)) : U && (U.d(1), U = null), (!B || pe & 32768) && me(v, ee[15]), ee[6] || ee[4] ? K ? (K.p(ee, pe), pe & 80 && w(K, 1)) : (K = f8(ee), K.c(), w(K, 1), K.m(m, null)) : K && (te(), D(K, 1, 1, () => { K = null }), ne()), ee[14] ? W ? (W.p(ee, pe), pe & 16384 && w(W, 1)) : (W = h8(ee), W.c(), w(W, 1), W.m(g, y)) : W && (te(), D(W, 1, 1, () => { W = null }), ne()), (!B || pe & 4096) && me(S, ee[12]); const ge = {}; pe & 2048 && (ge.badges = ee[11]), P.$set(ge), ee[13] ? Z ? (Z.p(ee, pe), pe & 8192 && w(Z, 1)) : (Z = m8(ee), Z.c(), w(Z, 1), Z.m(g, R)) : Z && (te(), D(Z, 1, 1, () => { Z = null }), ne()); let Ce = N; N = ae(ee), N === Ce ? ~N && G[N].p(ee, pe) : (O && (te(), D(G[Ce], 1, 1, () => { G[Ce] = null }), ne()), ~N ? (O = G[N], O ? O.p(ee, pe) : (O = G[N] = Q[N](ee), O.c()), w(O, 1), O.m(F, null)) : O = null) }, i(ee) { B || (w(o.$$.fragment, ee), w(l.$$.fragment, ee), w(d.$$.fragment, ee), w(K), w(W), w(P.$$.fragment, ee), w(Z), w(O), B = !0) }, o(ee) { D(o.$$.fragment, ee), D(l.$$.fragment, ee), D(d.$$.fragment, ee), D(K), D(W), D(P.$$.fragment, ee), D(Z), D(O), B = !1 }, d(ee) { ee && _(e), $(o), $(l), $(d), U && U.d(), K && K.d(), W && W.d(), $(P), Z && Z.d(), ~N && G[N].d() } } } function rRe(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M = j, R = () => (M(), M = yn(y, Q => t(26, P = Q)), y); n.$$.on_destroy.push(() => M()); var F, N, O, B, U; const K = ot(); ce(n, K, Q => t(2, C = Q)); const W = Qn(); let { item: Z } = e; return mn(() => { W.unsubscribeFromUpdates(i) }), n.$$set = Q => { "item" in Q && t(0, Z = Q.item) }, n.$$.update = () => { n.$$.dirty & 1 && t(24, i = Qt(Z)), n.$$.dirty & 1 && t(1, r = Z.artwork), n.$$.dirty & 2 && t(17, s = dve(r.dictionary.width, r.dictionary.height)), n.$$.dirty & 524289 && t(25, o = t(19, F = Z.contentDescriptor) === null || F === void 0 ? void 0 : F.kind), n.$$.dirty & 1 && t(16, a = Z.headline), n.$$.dirty & 1 && t(15, l = Z.title), n.$$.dirty & 1 && t(14, u = !!Z.subtitleLinks), n.$$.dirty & 1048577 && t(13, c = Z.modalPresentationDescriptor ? t(20, N = Z.modalPresentationDescriptor) === null || N === void 0 ? void 0 : N.paragraphText : null), n.$$.dirty & 1 && t(12, d = Z.tertiaryTitle), n.$$.dirty & 1 && t(11, f = Z.trailingTertiaryBadges), n.$$.dirty & 1 && t(10, g = Z.playAction), n.$$.dirty & 33554432 && t(9, h = o === x.ArtistUploadedVideo), n.$$.dirty & 2097153 && t(8, m = t(21, O = Z.contentDescriptor) === null || O === void 0 ? void 0 : O.url), n.$$.dirty & 4194305 && t(7, v = (t(22, B = Z.contentDescriptor) === null || B === void 0 ? void 0 : B.kind) === x.MusicVideo), n.$$.dirty & 1 && t(6, b = Z.showExplicitBadge), n.$$.dirty & 16777216 && R(t(5, y = W.subscribeToUpdates(i))), n.$$.dirty & 125829120 && t(4, k = P && (t(23, U = W.get(i, o)) === null || U === void 0 ? void 0 : U.inFavorites)), n.$$.dirty & 4 && t(3, S = C.t("ASE.Web.Music.Play")) }, [Z, r, C, S, k, y, b, v, m, h, g, f, d, c, u, l, a, s, K, F, N, O, B, U, i, o, P] } class sRe extends oe { constructor(e) { super(), se(this, e, rRe, iRe, ye, { item: 0 }) } } function p8(n, e, t) { const i = n.slice(); return i[12] = e[t], i } function _8(n) { let e, t = n[12] + "", i; return { c() { e = L("span"), i = le(t), this.h() }, l(r) { e = T(r, "SPAN", { "data-testid": !0, class: !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "data-testid", "badge"), p(e, "class", "movie-badge svelte-1gj4uge") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 2 && t !== (t = r[12] + "") && me(i, t) }, d(r) { r && _(e) } } } function oRe(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b = ut(n[1]), y = []; for (let k = 0; k < b.length; k += 1)y[k] = _8(p8(n, b, k)); return u = new Ki({ props: { playAction: n[0], isInChin: !1 } }), m = new Ro({ props: { translateFn: n[4].t, config: n[6] } }), { c() { e = L("div"), t = L("div"), i = L("span"), r = le(n[2]), s = Y(); for (let k = 0; k < y.length; k += 1)y[k].c(); o = Y(), a = L("div"), l = L("div"), V(u.$$.fragment), c = Y(), d = L("span"), f = le(n[3]), g = Y(), h = L("div"), V(m.$$.fragment), this.h() }, l(k) { e = T(k, "DIV", { class: !0 }); var S = E(e); t = T(S, "DIV", { class: !0 }); var C = E(t); i = T(C, "SPAN", { class: !0, "data-testid": !0 }); var P = E(i); r = ue(P, n[2]), P.forEach(_), s = X(C); for (let O = 0; O < y.length; O += 1)y[O].l(C); C.forEach(_), o = X(S), a = T(S, "DIV", { class: !0 }); var M = E(a); l = T(M, "DIV", { class: !0 }); var R = E(l); q(u.$$.fragment, R), c = X(R), d = T(R, "SPAN", { class: !0, "data-testid": !0 }); var F = E(d); f = ue(F, n[3]), F.forEach(_), R.forEach(_), g = X(M), h = T(M, "DIV", { class: !0 }); var N = E(h); q(m.$$.fragment, N), N.forEach(_), M.forEach(_), S.forEach(_), this.h() }, h() { p(i, "class", "heading svelte-1gj4uge"), p(i, "data-testid", "heading"), p(t, "class", "year-and-badges svelte-1gj4uge"), p(d, "class", "title svelte-1gj4uge"), p(d, "data-testid", "title"), p(l, "class", "movie-playback svelte-1gj4uge"), p(h, "class", "movie-contextual"), p(a, "class", "content-play-context svelte-1gj4uge"), p(e, "class", "movie-description svelte-1gj4uge") }, m(k, S) { I(k, e, S), A(e, t), A(t, i), A(i, r), A(t, s); for (let C = 0; C < y.length; C += 1)y[C] && y[C].m(t, null); A(e, o), A(e, a), A(a, l), H(u, l, null), A(l, c), A(l, d), A(d, f), A(a, g), A(a, h), H(m, h, null), v = !0 }, p(k, [S]) { if ((!v || S & 4) && me(r, k[2]), S & 2) { b = ut(k[1]); let M; for (M = 0; M < b.length; M += 1) { const R = p8(k, b, M); y[M] ? y[M].p(R, S) : (y[M] = _8(R), y[M].c(), y[M].m(t, null)) } for (; M < y.length; M += 1)y[M].d(1); y.length = b.length } const C = {}; S & 1 && (C.playAction = k[0]), u.$set(C), (!v || S & 8) && me(f, k[3]); const P = {}; S & 16 && (P.translateFn = k[4].t), m.$set(P) }, i(k) { v || (w(u.$$.fragment, k), w(m.$$.fragment, k), v = !0) }, o(k) { D(u.$$.fragment, k), D(m.$$.fragment, k), v = !1 }, d(k) { k && _(e), ln(y, k), $(u), $(m) } } } function aRe(n, e, t) { let i, r, s, o, a, l, u; var c; const d = ot(); ce(n, d, m => t(4, u = m)); const f = Fo(); let { item: g } = e, h = { items: f.getSharingItemsConfig(a, l, z.TVShows) }; return n.$$set = m => { "item" in m && t(7, g = m.item) }, n.$$.update = () => { n.$$.dirty & 128 && t(3, i = g.title), n.$$.dirty & 128 && t(2, r = g.heading), n.$$.dirty & 128 && t(1, s = g.headingTrailingBadges), n.$$.dirty & 128 && t(0, o = g.playAction), n.$$.dirty & 128 && t(9, a = g.contentDescriptor), n.$$.dirty & 768 && (l = t(8, c = a.identifiers) === null || c === void 0 ? void 0 : c.storeAdamID) }, [o, s, r, i, u, d, h, g, c, a] } class lRe extends oe { constructor(e) { super(), se(this, e, aRe, oRe, ye, { item: 7 }) } } function uRe(n) { let e; return { c() { e = L("div"), this.h() }, l(t) { e = T(t, "DIV", { class: !0 }), E(e).forEach(_), this.h() }, h() { p(e, "class", "spacer-wrapper svelte-14fis98") }, m(t, i) { I(t, e, i) }, p: j, i: j, o: j, d(t) { t && _(e) } } } class cRe extends oe { constructor(e) { super(), se(this, e, null, uRe, ye, {}) } } function dRe(n) { let e, t, i = [{ width: "50" }, { height: "50" }, { viewBox: "0 0 50 50" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M8.528 50h32.944C47.176 50 50 47.176 50 41.58V8.42C50 2.823 47.176 0 41.472 0H8.528C2.852 0 0 2.797 0 8.42v33.16C0 47.203 2.852 50 8.528 50zm-4.155-8.637V8.636c0-2.824 1.493-4.264 4.21-4.264h32.835c2.688 0 4.209 1.44 4.209 4.264v32.727c0 2.119-.869 3.477-2.444 3.993-2.363-6.654-9.533-11.299-18.17-11.299-8.663 0-15.806 4.645-18.169 11.326-1.602-.543-2.471-1.901-2.471-4.02zm20.64-11.841c5.188.054 9.262-4.373 9.262-10.185 0-5.459-4.074-9.967-9.261-9.967-5.188 0-9.316 4.508-9.289 9.967.028 5.812 4.101 10.13 9.289 10.185z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "50" }, { height: "50" }, { viewBox: "0 0 50 50" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function fRe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let gRe = class extends oe { constructor(e) { super(), se(this, e, fRe, dRe, ht, {}) } }; function hRe(n) { let e, t, i, r, s, o = n[0].t("ASE.Web.Music.Library.MadeForYou.Empty") + "", a, l; return i = new gRe({}), { c() { e = L("div"), t = L("div"), V(i.$$.fragment), r = Y(), s = L("h2"), a = le(o), this.h() }, l(u) { e = T(u, "DIV", { role: !0, class: !0 }); var c = E(e); t = T(c, "DIV", { class: !0 }); var d = E(t); q(i.$$.fragment, d), d.forEach(_), r = X(c), s = T(c, "H2", { "data-test-header": !0, class: !0 }); var f = E(s); a = ue(f, o), f.forEach(_), c.forEach(_), this.h() }, h() { p(t, "class", "error-content__icon svelte-1mjxkpp"), p(s, "data-test-header", ""), p(s, "class", "error-content__header svelte-1mjxkpp"), p(e, "role", "status"), p(e, "class", "error-content svelte-1mjxkpp") }, m(u, c) { I(u, e, c), A(e, t), H(i, t, null), A(e, r), A(e, s), A(s, a), l = !0 }, p(u, [c]) { (!l || c & 1) && o !== (o = u[0].t("ASE.Web.Music.Library.MadeForYou.Empty") + "") && me(a, o) }, i(u) { l || (w(i.$$.fragment, u), l = !0) }, o(u) { D(i.$$.fragment, u), l = !1 }, d(u) { u && _(e), $(i) } } } function mRe(n, e, t) { let i; const r = ot(); return ce(n, r, s => t(0, i = s)), [i, r] } class pRe extends oe { constructor(e) { super(), se(this, e, mRe, hRe, ye, {}) } } function _Re(n) { let e, t = n[1].t("ASE.Web.Music.Library.Playlist.Empty") + "", i; return { c() { e = L("div"), i = le(t), this.h() }, l(r) { e = T(r, "DIV", { role: !0, class: !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "role", "status"), p(e, "class", "error-content svelte-fhaf7x"), J(e, "isMobile", n[0]) }, m(r, s) { I(r, e, s), A(e, i) }, p(r, [s]) { s & 2 && t !== (t = r[1].t("ASE.Web.Music.Library.Playlist.Empty") + "") && me(i, t), s & 1 && J(e, "isMobile", r[0]) }, i: j, o: j, d(r) { r && _(e) } } } function vRe(n, e, t) { let i, r, s; ce(n, _l, a => t(3, r = a)); const o = ot(); return ce(n, o, a => t(1, s = a)), n.$$.update = () => { n.$$.dirty & 8 && t(0, i = r === "xsmall" || r === "small") }, [i, s, o, r] } class bRe extends oe { constructor(e) { super(), se(this, e, vRe, _Re, ye, {}) } } function v8(n) { let e, t, i, r, s = n[3] && b8(n); return i = new ls({ props: { attachedTo: n[1], isPlayable: n[0].playAction !== null, itemProperties: { title: n[0].title, subtitleLinks: [{ title: n[0].album }], artwork: n[0].artwork } } }), { c() { e = L("div"), s && s.c(), t = Y(), V(i.$$.fragment), this.h() }, l(o) { e = T(o, "DIV", { class: !0 }); var a = E(e); s && s.l(a), t = X(a), q(i.$$.fragment, a), a.forEach(_), this.h() }, h() { p(e, "class", "song__action-buttons svelte-1xmd2gi") }, m(o, a) { I(o, e, a), s && s.m(e, null), A(e, t), H(i, e, null), r = !0 }, p(o, a) { o[3] ? s ? (s.p(o, a), a[0] & 8 && w(s, 1)) : (s = b8(o), s.c(), w(s, 1), s.m(e, t)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()); const l = {}; a[0] & 2 && (l.attachedTo = o[1]), a[0] & 1 && (l.isPlayable = o[0].playAction !== null), a[0] & 1 && (l.itemProperties = { title: o[0].title, subtitleLinks: [{ title: o[0].album }], artwork: o[0].artwork }), i.$set(l) }, i(o) { r || (w(s), w(i.$$.fragment, o), r = !0) }, o(o) { D(s), D(i.$$.fragment, o), r = !1 }, d(o) { o && _(e), s && s.d(), $(i) } } } function b8(n) { let e, t, i; return t = new Ol({ props: { isFavorited: n[4] } }), t.$on("toggle", n[14]), { c() { e = L("span"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "SPAN", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "song-header-page__favorite-button svelte-1xmd2gi") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[0] & 16 && (o.isFavorited = r[4]), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function y8(n) { let e, t, i; return t = new ya({}), { c() { e = L("span"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "SPAN", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "song-header-page__explicit-badge svelte-1xmd2gi") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function yRe(n) { let e = n[10].t("ASE.Web.Music.ContentA.Middot.ContentB", { contentA: n[0].album, contentB: n[0].artists }) + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[0] & 1025 && e !== (e = i[10].t("ASE.Web.Music.ContentA.Middot.ContentB", { contentA: i[0].album, contentB: i[0].artists }) + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function wRe(n) { let e, t, i, r, s, o, a, l; const u = [SRe, DRe], c = []; function d(m, v) { var b; return (b = m[6]) != null && b.segue ? 0 : 1 } t = d(n), i = c[t] = u[t](n); const f = [ARe, PRe], g = []; function h(m, v) { var b; return (b = m[7]) != null && b.length ? 0 : 1 } return o = h(n), a = g[o] = f[o](n), { c() { e = L("span"), i.c(), r = Y(), s = L("span"), a.c(), this.h() }, l(m) { e = T(m, "SPAN", { "data-testid": !0 }); var v = E(e); i.l(v), v.forEach(_), r = X(m), s = T(m, "SPAN", { class: !0, "data-testid": !0 }); var b = E(s); a.l(b), b.forEach(_), this.h() }, h() { p(e, "data-testid", "song-subtitle-album"), p(s, "class", "song-subtitles-item svelte-1xmd2gi"), p(s, "data-testid", "song-subtitle-artists") }, m(m, v) { I(m, e, v), c[t].m(e, null), I(m, r, v), I(m, s, v), g[o].m(s, null), l = !0 }, p(m, v) { let b = t; t = d(m), t === b ? c[t].p(m, v) : (te(), D(c[b], 1, 1, () => { c[b] = null }), ne(), i = c[t], i ? i.p(m, v) : (i = c[t] = u[t](m), i.c()), w(i, 1), i.m(e, null)); let y = o; o = h(m), o === y ? g[o].p(m, v) : (te(), D(g[y], 1, 1, () => { g[y] = null }), ne(), a = g[o], a ? a.p(m, v) : (a = g[o] = f[o](m), a.c()), w(a, 1), a.m(s, null)) }, i(m) { l || (w(i), w(a), l = !0) }, o(m) { D(i), D(a), l = !1 }, d(m) { m && (_(e), _(r), _(s)), c[t].d(), g[o].d() } } } function kRe(n) { let e, t, i, r; const s = [RRe, TRe], o = []; function a(l, u) { var c; return l[6] || (c = l[7]) != null && c.length ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, u) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function DRe(n) { let e = n[0].album + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[0] & 1 && e !== (e = i[0].album + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function SRe(n) { let e, t, i; return t = new en({ props: { action: n[6].segue, $$slots: { default: [CRe] }, $$scope: { ctx: n } } }), { c() { e = L("span"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "SPAN", { "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "data-testid", "song-subtitle-album-link") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[0] & 64 && (o.action = r[6].segue), s[0] & 64 | s[1] & 1 && (o.$$scope = { dirty: s, ctx: r }), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function CRe(n) { let e = n[6].title + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[0] & 64 && e !== (e = i[6].title + "") && me(t, e) }, d(i) { i && _(t) } } } function PRe(n) { let e = n[0].artists + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[0] & 1 && e !== (e = i[0].artists + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function ARe(n) { let e, t; return e = new so({ props: { items: n[7], translateFn: n[10].t, $$slots: { default: [LRe, ({ item: { title: i, segue: r }, index: s }) => ({ 11: i, 29: r, 30: s }), ({ item: i, index: r }) => [(i ? 2048 : 0) | (i ? 536870912 : 0) | (r ? 1073741824 : 0)]] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 128 && (s.items = i[7]), r[0] & 1024 && (s.translateFn = i[10].t), r[0] & 1610614784 | r[1] & 1 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function w8(n) { let e, t, i, r, s; const o = [IRe, ERe], a = []; function l(u, c) { return u[29] ? 0 : 1 } return t = l(n), i = a[t] = o[t](n), { c() { e = L("span"), i.c(), this.h() }, l(u) { e = T(u, "SPAN", { "data-testid": !0 }); var c = E(e); i.l(c), c.forEach(_), this.h() }, h() { p(e, "data-testid", r = `song-subtitle-artist-${n[29] ? "link" : "item"}${n[30]}`) }, m(u, c) { I(u, e, c), a[t].m(e, null), s = !0 }, p(u, c) { let d = t; t = l(u), t === d ? a[t].p(u, c) : (te(), D(a[d], 1, 1, () => { a[d] = null }), ne(), i = a[t], i ? i.p(u, c) : (i = a[t] = o[t](u), i.c()), w(i, 1), i.m(e, null)), (!s || c[0] & 1610612736 && r !== (r = `song-subtitle-artist-${u[29] ? "link" : "item"}${u[30]}`)) && p(e, "data-testid", r) }, i(u) { s || (w(i), s = !0) }, o(u) { D(i), s = !1 }, d(u) { u && _(e), a[t].d() } } } function ERe(n) { let e = n[11] + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[0] & 2048 && e !== (e = i[11] + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function IRe(n) { let e, t; return e = new en({ props: { action: n[29], $$slots: { default: [MRe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 536870912 && (s.action = i[29]), r[0] & 2048 | r[1] & 1 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function MRe(n) { let e = n[11] + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[0] & 2048 && e !== (e = i[11] + "") && me(t, e) }, d(i) { i && _(t) } } } function LRe(n) { let e, t, i = n[11] && w8(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[11] ? i ? (i.p(r, s), s[0] & 2048 && w(i, 1)) : (i = w8(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function TRe(n) { let e = n[10].t("ASE.Web.Music.ContentA.Middot.ContentB.Middot.ContentC", { contentA: n[0].album, contentB: n[0].artists, contentC: n[0].releaseDate }) + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[0] & 1025 && e !== (e = i[10].t("ASE.Web.Music.ContentA.Middot.ContentB.Middot.ContentC", { contentA: i[0].album, contentB: i[0].artists, contentC: i[0].releaseDate }) + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function RRe(n) { let e, t, i, r, s, o, a, l, u, c = n[0].releaseDate + "", d, f; const g = [ORe, FRe], h = []; function m(k, S) { var C; return (C = k[6]) != null && C.segue ? 0 : 1 } t = m(n), i = h[t] = g[t](n); const v = [URe, BRe], b = []; function y(k, S) { var C; return (C = k[7]) != null && C.length ? 0 : 1 } return o = y(n), a = b[o] = v[o](n), { c() { e = L("span"), i.c(), r = Y(), s = L("span"), a.c(), l = Y(), u = L("span"), d = le(c), this.h() }, l(k) { e = T(k, "SPAN", { "data-testid": !0 }); var S = E(e); i.l(S), S.forEach(_), r = X(k), s = T(k, "SPAN", { class: !0, "data-testid": !0 }); var C = E(s); a.l(C), C.forEach(_), l = X(k), u = T(k, "SPAN", { class: !0, "data-testid": !0 }); var P = E(u); d = ue(P, c), P.forEach(_), this.h() }, h() { p(e, "data-testid", "song-subtitle-album"), p(s, "class", "song-subtitles-item svelte-1xmd2gi"), p(s, "data-testid", "song-subtitle-artists"), p(u, "class", "song-subtitles-item svelte-1xmd2gi"), p(u, "data-testid", "song-subtitle-release-date") }, m(k, S) { I(k, e, S), h[t].m(e, null), I(k, r, S), I(k, s, S), b[o].m(s, null), I(k, l, S), I(k, u, S), A(u, d), f = !0 }, p(k, S) { let C = t; t = m(k), t === C ? h[t].p(k, S) : (te(), D(h[C], 1, 1, () => { h[C] = null }), ne(), i = h[t], i ? i.p(k, S) : (i = h[t] = g[t](k), i.c()), w(i, 1), i.m(e, null)); let P = o; o = y(k), o === P ? b[o].p(k, S) : (te(), D(b[P], 1, 1, () => { b[P] = null }), ne(), a = b[o], a ? a.p(k, S) : (a = b[o] = v[o](k), a.c()), w(a, 1), a.m(s, null)), (!f || S[0] & 1) && c !== (c = k[0].releaseDate + "") && me(d, c) }, i(k) { f || (w(i), w(a), f = !0) }, o(k) { D(i), D(a), f = !1 }, d(k) { k && (_(e), _(r), _(s), _(l), _(u)), h[t].d(), b[o].d() } } } function FRe(n) { let e = n[0].album + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[0] & 1 && e !== (e = i[0].album + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function ORe(n) { let e, t, i; return t = new en({ props: { action: n[6].segue, $$slots: { default: [NRe] }, $$scope: { ctx: n } } }), { c() { e = L("span"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "SPAN", { "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "data-testid", "song-subtitle-album-link") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[0] & 64 && (o.action = r[6].segue), s[0] & 64 | s[1] & 1 && (o.$$scope = { dirty: s, ctx: r }), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function NRe(n) { let e = n[6].title + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[0] & 64 && e !== (e = i[6].title + "") && me(t, e) }, d(i) { i && _(t) } } } function BRe(n) { let e = n[0].artists + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[0] & 1 && e !== (e = i[0].artists + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function URe(n) { let e, t; return e = new so({ props: { items: n[7], translateFn: n[10].t, $$slots: { default: [zRe, ({ item: { title: i, segue: r }, index: s }) => ({ 11: i, 29: r, 30: s }), ({ item: i, index: r }) => [(i ? 2048 : 0) | (i ? 536870912 : 0) | (r ? 1073741824 : 0)]] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 128 && (s.items = i[7]), r[0] & 1024 && (s.translateFn = i[10].t), r[0] & 1610614784 | r[1] & 1 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function k8(n) { let e, t, i, r, s; const o = [$Re, HRe], a = []; function l(u, c) { return u[29] ? 0 : 1 } return t = l(n), i = a[t] = o[t](n), { c() { e = L("span"), i.c(), this.h() }, l(u) { e = T(u, "SPAN", { "data-testid": !0 }); var c = E(e); i.l(c), c.forEach(_), this.h() }, h() { p(e, "data-testid", r = `song-subtitle-artist-${n[29] ? "link" : "item"}${n[30]}`) }, m(u, c) { I(u, e, c), a[t].m(e, null), s = !0 }, p(u, c) { let d = t; t = l(u), t === d ? a[t].p(u, c) : (te(), D(a[d], 1, 1, () => { a[d] = null }), ne(), i = a[t], i ? i.p(u, c) : (i = a[t] = o[t](u), i.c()), w(i, 1), i.m(e, null)), (!s || c[0] & 1610612736 && r !== (r = `song-subtitle-artist-${u[29] ? "link" : "item"}${u[30]}`)) && p(e, "data-testid", r) }, i(u) { s || (w(i), s = !0) }, o(u) { D(i), s = !1 }, d(u) { u && _(e), a[t].d() } } } function HRe(n) { let e = n[11] + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[0] & 2048 && e !== (e = i[11] + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function $Re(n) { let e, t; return e = new en({ props: { action: n[29], $$slots: { default: [VRe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 536870912 && (s.action = i[29]), r[0] & 2048 | r[1] & 1 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function VRe(n) { let e = n[11] + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[0] & 2048 && e !== (e = i[11] + "") && me(t, e) }, d(i) { i && _(t) } } } function zRe(n) { let e, t, i = n[11] && k8(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[11] ? i ? (i.p(r, s), s[0] & 2048 && w(i, 1)) : (i = k8(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function D8(n) { let e, t, i; return t = new zl({ props: { action: n[8], styleOverride: { isSecondary: !0 }, title: n[10].t(n[2] ? "ASE.Web.Music.Preview" : "ASE.Web.Music.Play") } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "song-header-page__buttons svelte-1xmd2gi") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[0] & 256 && (o.action = r[8]), s[0] & 1028 && (o.title = r[10].t(r[2] ? "ASE.Web.Music.Preview" : "ASE.Web.Music.Play")), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function qRe(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S = n[1] && v8(n); o = new Gt({ props: { artwork: n[9], forceFullWidth: !1, profile: "credits-artwork", alt: "" } }), l = new Gt({ props: { artwork: n[9], forceFullWidth: !1, profile: "credits-artwork", alt: n[10].t("ASE.Web.Music.Meta.Credits.Title.Image", { artistName: n[0].artists, songName: n[11] }) } }); let C = n[0].showExplicitBadge && y8(); const P = [kRe, wRe, yRe], M = []; function R(N, O) { var B; return N[0].releaseDate ? 0 : N[6] || (B = N[7]) != null && B.length ? 1 : 2 } v = R(n), b = M[v] = P[v](n); let F = n[8] && D8(n); return { c() { e = L("div"), S && S.c(), t = Y(), i = L("div"), r = L("div"), s = L("div"), V(o.$$.fragment), a = Y(), V(l.$$.fragment), u = Y(), c = L("div"), d = L("h1"), f = le(n[11]), g = Y(), C && C.c(), h = Y(), m = L("p"), b.c(), y = Y(), F && F.c(), this.h() }, l(N) { e = T(N, "DIV", { class: !0 }); var O = E(e); S && S.l(O), t = X(O), i = T(O, "DIV", { class: !0 }); var B = E(i); r = T(B, "DIV", { class: !0 }); var U = E(r); s = T(U, "DIV", { class: !0 }); var K = E(s); q(o.$$.fragment, K), K.forEach(_), a = X(U), q(l.$$.fragment, U), U.forEach(_), u = X(B), c = T(B, "DIV", { class: !0 }); var W = E(c); d = T(W, "H1", { class: !0, "data-testid": !0 }); var Z = E(d); f = ue(Z, n[11]), g = X(Z), C && C.l(Z), Z.forEach(_), h = X(W), m = T(W, "P", { class: !0, "data-testid": !0, dir: !0 }); var Q = E(m); b.l(Q), Q.forEach(_), y = X(W), F && F.l(W), W.forEach(_), B.forEach(_), O.forEach(_), this.h() }, h() { p(s, "class", "song-header-page__artwork-radiosity svelte-1xmd2gi"), p(r, "class", "song-header-page__artwork svelte-1xmd2gi"), p(d, "class", "song-header-page__song-header-title svelte-1xmd2gi"), p(d, "data-testid", "song-title"), p(m, "class", "song-header-page__song-header-subtitle svelte-1xmd2gi"), p(m, "data-testid", "song-subtitle"), p(m, "dir", "auto"), p(c, "class", "song-header-page-details svelte-1xmd2gi"), p(i, "class", "song-header-page__details-container svelte-1xmd2gi"), p(e, "class", "song-header-page svelte-1xmd2gi") }, m(N, O) { I(N, e, O), S && S.m(e, null), A(e, t), A(e, i), A(i, r), A(r, s), H(o, s, null), A(r, a), H(l, r, null), A(i, u), A(i, c), A(c, d), A(d, f), A(d, g), C && C.m(d, null), A(c, h), A(c, m), M[v].m(m, null), A(c, y), F && F.m(c, null), k = !0 }, p(N, O) { N[1] ? S ? (S.p(N, O), O[0] & 2 && w(S, 1)) : (S = v8(N), S.c(), w(S, 1), S.m(e, t)) : S && (te(), D(S, 1, 1, () => { S = null }), ne()); const B = {}; O[0] & 512 && (B.artwork = N[9]), o.$set(B); const U = {}; O[0] & 512 && (U.artwork = N[9]), O[0] & 3073 && (U.alt = N[10].t("ASE.Web.Music.Meta.Credits.Title.Image", { artistName: N[0].artists, songName: N[11] })), l.$set(U), (!k || O[0] & 2048) && me(f, N[11]), N[0].showExplicitBadge ? C ? O[0] & 1 && w(C, 1) : (C = y8(), C.c(), w(C, 1), C.m(d, null)) : C && (te(), D(C, 1, 1, () => { C = null }), ne()); let K = v; v = R(N), v === K ? M[v].p(N, O) : (te(), D(M[K], 1, 1, () => { M[K] = null }), ne(), b = M[v], b ? b.p(N, O) : (b = M[v] = P[v](N), b.c()), w(b, 1), b.m(m, null)), N[8] ? F ? (F.p(N, O), O[0] & 256 && w(F, 1)) : (F = D8(N), F.c(), w(F, 1), F.m(c, null)) : F && (te(), D(F, 1, 1, () => { F = null }), ne()) }, i(N) { k || (w(S), w(o.$$.fragment, N), w(l.$$.fragment, N), w(C), w(b), w(F), k = !0) }, o(N) { D(S), D(o.$$.fragment, N), D(l.$$.fragment, N), D(C), D(b), D(F), k = !1 }, d(N) { N && _(e), S && S.d(), $(o), $(l), C && C.d(), M[v].d(), F && F.d() } } } function WRe(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k = j, S = () => (k(), k = yn(d, G => t(24, y = G)), d), C; n.$$.on_destroy.push(() => k()); var P, M, R, F; const N = fn(), O = sn(), { state: B } = xt(); ce(n, B, G => t(23, b = G)); const U = ot(); ce(n, U, G => t(10, C = G)); const K = Qn(), W = Tn(); let { item: Z } = e; const Q = G => { Ml(l, c, u, !G.detail, K, !1, !0, O) }; return mn(() => { K.unsubscribeFromUpdates(l) }), n.$$set = G => { "item" in G && t(0, Z = G.item) }, n.$$.update = () => { n.$$.dirty[0] & 1 && t(9, i = Z.artwork), n.$$.dirty[0] & 1 && t(11, r = Z.title), n.$$.dirty[0] & 1 && t(8, s = Z.playAction), n.$$.dirty[0] & 1 && t(7, o = Z.artistLinks), n.$$.dirty[0] & 32769 && t(6, a = t(15, P = Z.albumLinks) === null || P === void 0 ? void 0 : P[0]), n.$$.dirty[0] & 1 && t(19, l = Qt(Z)), n.$$.dirty[0] & 1 && t(1, u = Z.contentDescriptor), n.$$.dirty[0] & 2 && t(20, c = u == null ? void 0 : u.kind), n.$$.dirty[0] & 524288 && S(t(5, d = K.subscribeToUpdates(l))), n.$$.dirty[0] & 18415616 && t(4, f = y && (t(16, M = K.get(l, c)) === null || M === void 0 ? void 0 : M.inFavorites)), n.$$.dirty[0] & 8519680 && t(22, g = (b == null ? void 0 : b.user) && (t(17, R = b == null ? void 0 : b.user) === null || R === void 0 ? void 0 : R.subscriberType) === Hi.Premium), n.$$.dirty[0] & 8650752 && t(21, h = t(18, F = b.user) === null || F === void 0 ? void 0 : F.subscriptionStorefront), n.$$.dirty[0] & 6291456 && t(3, m = g && h === W.storefront), n.$$.dirty[0] & 8388608 && t(2, v = !N.isUserInHomeStorefront() || (b == null ? void 0 : b.user) === null) }, [Z, u, v, m, f, d, a, o, s, i, C, r, B, U, Q, P, M, R, F, l, c, h, g, b, y] } class KRe extends oe { constructor(e) { super(), se(this, e, WRe, qRe, ye, { item: 0 }, null, [-1, -1]) } } function S8(n, e, t) { const i = n.slice(); i[8] = e[t], i[11] = t; const r = i[0].length - 1 === i[11]; return i[9] = r, i } const JRe = n => ({ item: n & 1 }), C8 = n => ({ item: n[8], index: n[11] }); function P8(n) { let e, t, i = ut(n[0]), r = []; for (let o = 0; o < i.length; o += 1)r[o] = A8(S8(n, i, o)); const s = o => D(r[o], 1, 1, () => { r[o] = null }); return { c() { e = L("div"); for (let o = 0; o < r.length; o += 1)r[o].c(); this.h() }, l(o) { e = T(o, "DIV", { class: !0, "data-testid": !0 }); var a = E(e); for (let l = 0; l < r.length; l += 1)r[l].l(a); a.forEach(_), this.h() }, h() { p(e, "class", "search-query-context-citation-list svelte-8e1fki"), p(e, "data-testid", "search-query-context-citation-list") }, m(o, a) { I(o, e, a); for (let l = 0; l < r.length; l += 1)r[l] && r[l].m(e, null); t = !0 }, p(o, a) { if (a & 45) { i = ut(o[0]); let l; for (l = 0; l < i.length; l += 1) { const u = S8(o, i, l); r[l] ? (r[l].p(u, a), w(r[l], 1)) : (r[l] = A8(u), r[l].c(), w(r[l], 1), r[l].m(e, null)) } for (te(), l = i.length; l < r.length; l += 1)s(l); ne() } }, i(o) { if (!t) { for (let a = 0; a < i.length; a += 1)w(r[a]); t = !0 } }, o(o) { r = r.filter(Boolean); for (let a = 0; a < r.length; a += 1)D(r[a]); t = !1 }, d(o) { o && _(e), ln(r, o) } } } function A8(n) { let e = (n[9] ? n[2] : n[3][n[11]]) + "", t, i; const r = n[6].default, s = We(r, n, n[5], C8); return { c() { s && s.c(), t = le(e) }, l(o) { s && s.l(o), t = ue(o, e) }, m(o, a) { s && s.m(o, a), I(o, t, a), i = !0 }, p(o, a) { s && s.p && (!i || a & 33) && Je(s, r, o, o[5], i ? Ke(r, o[5], a, JRe) : Ye(o[5]), C8), (!i || a & 13) && e !== (e = (o[9] ? o[2] : o[3][o[11]]) + "") && me(t, e) }, i(o) { i || (w(s, o), i = !0) }, o(o) { D(s, o), i = !1 }, d(o) { o && _(t), s && s.d(o) } } } function YRe(n) { let e, t, i = n[1] && P8(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[1] ? i ? (i.p(r, s), s & 2 && w(i, 1)) : (i = P8(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function XRe(n, e, t) { let i, r, s, { $$slots: o = {}, $$scope: a } = e; const l = { 1: [""], 2: [" and "], 3: [", ", ", and "] }; let { items: u } = e, { disclaimer: c = null } = e; return n.$$set = d => { "items" in d && t(0, u = d.items), "disclaimer" in d && t(4, c = d.disclaimer), "$$scope" in d && t(5, a = d.$$scope) }, n.$$.update = () => { n.$$.dirty & 1 && t(3, i = l[u.length]), n.$$.dirty & 16 && t(2, r = c ? ` ${c}` : ""), n.$$.dirty & 1 && t(1, s = u.length && u.some(d => !!d.title)) }, [u, s, r, i, c, a, o] } class ZRe extends oe { constructor(e) { super(), se(this, e, XRe, YRe, ye, { items: 0, disclaimer: 4 }) } } function E8(n, e, t) { const i = n.slice(); return i[3] = e[t].name, i[5] = e[t].value, i } function I8(n) { let e, t, i, r, s, o, a, l, u = ut(n[2]), c = []; for (let d = 0; d < u.length; d += 1)c[d] = M8(E8(n, u, d)); return s = new x_({}), { c() { e = L("div"), t = L("select"); for (let d = 0; d < c.length; d += 1)c[d].c(); i = Y(), r = L("div"), V(s.$$.fragment), this.h() }, l(d) { e = T(d, "DIV", { class: !0, "data-testid": !0 }); var f = E(e); t = T(f, "SELECT", { class: !0, id: !0, name: !0, "data-testid": !0 }); var g = E(t); for (let m = 0; m < c.length; m += 1)c[m].l(g); g.forEach(_), i = X(f), r = T(f, "DIV", { class: !0, role: !0, "aria-hidden": !0 }); var h = E(r); q(s.$$.fragment, h), h.forEach(_), f.forEach(_), this.h() }, h() { p(t, "class", "form-dropdown__select svelte-lxsy4c"), p(t, "id", n[0]), p(t, "name", n[3]), t.required = n[1], p(t, "data-testid", "form-dropdown-select"), p(r, "class", "form-dropdown__chevron svelte-lxsy4c"), p(r, "role", "presentation"), p(r, "aria-hidden", "true"), p(e, "class", "form-dropdown svelte-lxsy4c"), p(e, "data-testid", "form-dropdown") }, m(d, f) { I(d, e, f), A(e, t); for (let g = 0; g < c.length; g += 1)c[g] && c[g].m(t, null); A(e, i), A(e, r), H(s, r, null), o = !0, a || (l = Me(t, "change", n[4]), a = !0) }, p(d, f) { if (f & 4) { u = ut(d[2]); let g; for (g = 0; g < u.length; g += 1) { const h = E8(d, u, g); c[g] ? c[g].p(h, f) : (c[g] = M8(h), c[g].c(), c[g].m(t, null)) } for (; g < c.length; g += 1)c[g].d(1); c.length = u.length } (!o || f & 1) && p(t, "id", d[0]), (!o || f & 8) && p(t, "name", d[3]), (!o || f & 2) && (t.required = d[1]) }, i(d) { o || (w(s.$$.fragment, d), o = !0) }, o(d) { D(s.$$.fragment, d), o = !1 }, d(d) { d && _(e), ln(c, d), $(s), a = !1, l() } } } function M8(n) { let e, t = n[3] + "", i, r; return { c() { e = L("option"), i = le(t), this.h() }, l(s) { e = T(s, "OPTION", { "data-testid": !0 }); var o = E(e); i = ue(o, t), o.forEach(_), this.h() }, h() { e.__value = r = n[5], ps(e, e.__value), p(e, "data-testid", "form-dropdown-option") }, m(s, o) { I(s, e, o), A(e, i) }, p(s, o) { o & 4 && t !== (t = s[3] + "") && me(i, t), o & 4 && r !== (r = s[5]) && (e.__value = r, ps(e, e.__value)) }, d(s) { s && _(e) } } } function QRe(n) { var r; let e, t, i = ((r = n[2]) == null ? void 0 : r.length) && I8(n); return { c() { i && i.c(), e = re() }, l(s) { i && i.l(s), e = re() }, m(s, o) { i && i.m(s, o), I(s, e, o), t = !0 }, p(s, [o]) { var a; (a = s[2]) != null && a.length ? i ? (i.p(s, o), o & 4 && w(i, 1)) : (i = I8(s), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(s) { t || (w(i), t = !0) }, o(s) { D(i), t = !1 }, d(s) { s && _(e), i && i.d(s) } } } function jRe(n, e, t) { let { id: i } = e, { name: r } = e, { required: s = !0 } = e, { options: o = [] } = e; function a(l) { Bt.call(this, n, l) } return n.$$set = l => { "id" in l && t(0, i = l.id), "name" in l && t(3, r = l.name), "required" in l && t(1, s = l.required), "options" in l && t(2, o = l.options) }, [i, s, o, r, a] } class GRe extends oe { constructor(e) { super(), se(this, e, jRe, QRe, ye, { id: 0, name: 3, required: 1, options: 2 }) } } function xRe(n) { let e; return { c() { e = L("textarea"), this.h() }, l(t) { e = T(t, "TEXTAREA", { class: !0, id: !0, name: !0, "data-testid": !0, placeholder: !0, maxlength: !0 }), E(e).forEach(_), this.h() }, h() { p(e, "class", "form-text svelte-lq86p9"), p(e, "id", n[0]), p(e, "name", n[1]), e.required = n[2], p(e, "data-testid", "text-input"), p(e, "placeholder", n[3]), p(e, "maxlength", n[4]) }, m(t, i) { I(t, e, i) }, p(t, [i]) { i & 1 && p(e, "id", t[0]), i & 2 && p(e, "name", t[1]), i & 4 && (e.required = t[2]), i & 8 && p(e, "placeholder", t[3]), i & 16 && p(e, "maxlength", t[4]) }, i: j, o: j, d(t) { t && _(e) } } } function eFe(n, e, t) { let { id: i } = e, { name: r } = e, { required: s = !0 } = e, { placeholder: o = null } = e, { maxLength: a = 1e3 } = e; return n.$$set = l => { "id" in l && t(0, i = l.id), "name" in l && t(1, r = l.name), "required" in l && t(2, s = l.required), "placeholder" in l && t(3, o = l.placeholder), "maxLength" in l && t(4, a = l.maxLength) }, [i, r, s, o, a] } class tFe extends oe { constructor(e) { super(), se(this, e, eFe, xRe, ye, { id: 0, name: 1, required: 2, placeholder: 3, maxLength: 4 }) } } function nFe(n) { let e, t, i, r, s = [{ width: "80" }, { height: "80" }, { viewBox: "0 0 80 80" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], o = {}; for (let a = 0; a < s.length; a += 1)o = fe(o, s[a]); return { c() { e = ve("svg"), t = ve("g"), i = ve("path"), r = ve("path"), this.h() }, l(a) { e = be(a, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var l = E(e); t = be(l, "g", { fill: !0, "fill-rule": !0 }); var u = E(t); i = be(u, "path", { d: !0 }), E(i).forEach(_), r = be(u, "path", { d: !0 }), E(r).forEach(_), u.forEach(_), l.forEach(_), this.h() }, h() { p(i, "d", "M39.82 79.15c21.533 0 39.453-17.87 39.453-39.404C79.273 18.213 61.305.342 39.771.342 18.287.342.416 18.212.416 39.746c0 21.533 17.92 39.404 39.404 39.404Zm0-7.421c-17.724 0-31.885-14.21-31.885-31.983S22.047 7.764 39.771 7.764c17.774 0 32.032 14.209 32.032 31.982S57.593 71.73 39.82 71.73Z"), p(r, "d", "M35.621 57.91c1.416 0 2.637-.683 3.516-2.05l16.796-26.563c.538-.879 1.075-1.856 1.075-2.832 0-1.953-1.71-3.174-3.565-3.174-1.123 0-2.197.635-3.027 1.953L35.426 49.56l-6.739-9.082c-1.074-1.416-2.05-1.757-3.222-1.757-1.905 0-3.37 1.513-3.37 3.466 0 .928.391 1.856.977 2.686l8.79 10.986c1.122 1.465 2.294 2.051 3.759 2.051Z"), p(t, "fill", "currentColor"), p(t, "fill-rule", "nonzero"), Le(e, o) }, m(a, l) { I(a, e, l), A(e, t), A(t, i), A(t, r) }, p(a, [l]) { Le(e, o = at(s, [{ width: "80" }, { height: "80" }, { viewBox: "0 0 80 80" }, { xmlns: "http://www.w3.org/2000/svg" }, l & 1 && a[0]])) }, i: j, o: j, d(a) { a && _(e) } } } function iFe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let rFe = class extends oe { constructor(e) { super(), se(this, e, iFe, nFe, ht, {}) } }; function sFe(n) { let e, t = "Report a Concern", i, r, s = "Tell us more about your concern with this content.", o, a, l, u = "What is your concern?", c, d, f, g, h, m, v, b, y, k; f = new GRe({ props: { id: "report-a-concern-reason", name: "rac-reason", options: n[0] } }); let S = n[4] && L8(n); return v = new yi({ props: { buttonStyle: "buttonD", type: "submit", disabled: n[7], $$slots: { default: [aFe] }, $$scope: { ctx: n } } }), { c() { e = L("h1"), e.textContent = t, i = Y(), r = L("div"), r.textContent = s, o = Y(), a = L("form"), l = L("label"), l.textContent = u, c = Y(), d = L("div"), V(f.$$.fragment), g = Y(), S && S.c(), h = Y(), m = L("div"), V(v.$$.fragment), this.h() }, l(C) { e = T(C, "H1", { class: !0, tabindex: !0, ["data-svelte-h"]: !0 }), Wr(e) !== "svelte-148zchn" && (e.textContent = t), i = X(C), r = T(C, "DIV", { class: !0, ["data-svelte-h"]: !0 }), Wr(r) !== "svelte-1skfp5d" && (r.textContent = s), o = X(C), a = T(C, "FORM", { class: !0, "data-testid": !0 }); var P = E(a); l = T(P, "LABEL", { class: !0, for: !0, ["data-svelte-h"]: !0 }), Wr(l) !== "svelte-37vndc" && (l.textContent = u), c = X(P), d = T(P, "DIV", { class: !0 }); var M = E(d); q(f.$$.fragment, M), M.forEach(_), g = X(P), S && S.l(P), h = X(P), m = T(P, "DIV", { class: !0, "data-testid": !0 }); var R = E(m); q(v.$$.fragment, R), R.forEach(_), P.forEach(_), this.h() }, h() { p(e, "class", "report-a-concern__title svelte-x3xww"), p(e, "tabindex", "-1"), p(r, "class", "report-a-concern__subtitle svelte-x3xww"), p(l, "class", "report-a-concern__label svelte-x3xww"), p(l, "for", "report-a-concern-reason"), p(d, "class", "report-a-concern__input svelte-x3xww"), p(m, "class", "report-a-concern__submit svelte-x3xww"), p(m, "data-testid", "report-a-concern-submit"), p(a, "class", "report-a-concern__form svelte-x3xww"), p(a, "data-testid", "report-a-concern-form") }, m(C, P) { I(C, e, P), n[12](e), I(C, i, P), I(C, r, P), I(C, o, P), I(C, a, P), A(a, l), A(a, c), A(a, d), H(f, d, null), A(a, g), S && S.m(a, null), A(a, h), A(a, m), H(v, m, null), b = !0, y || (k = [Me(a, "submit", n[13]), Me(a, "submit", Ui(n[10]))], y = !0) }, p(C, P) { const M = {}; P & 1 && (M.options = C[0]), f.$set(M), C[4] ? S ? (S.p(C, P), P & 16 && w(S, 1)) : (S = L8(C), S.c(), w(S, 1), S.m(a, h)) : S && (te(), D(S, 1, 1, () => { S = null }), ne()); const R = {}; P & 128 && (R.disabled = C[7]), P & 32768 && (R.$$scope = { dirty: P, ctx: C }), v.$set(R) }, i(C) { b || (w(f.$$.fragment, C), w(S), w(v.$$.fragment, C), b = !0) }, o(C) { D(f.$$.fragment, C), D(S), D(v.$$.fragment, C), b = !1 }, d(C) { C && (_(e), _(i), _(r), _(o), _(a)), n[12](null), $(f), S && S.d(), $(v), y = !1, Ot(k) } } } function oFe(n) { let e, t, i, r, s = "Submitted", o, a, l, u; return t = new rFe({ props: { role: "presentation" } }), l = new yi({ props: { buttonStyle: "buttonD", type: "button", $$slots: { default: [lFe] }, $$scope: { ctx: n } } }), l.$on("buttonClick", n[8]), { c() { e = L("div"), V(t.$$.fragment), i = Y(), r = L("div"), r.textContent = s, o = Y(), a = L("div"), V(l.$$.fragment), this.h() }, l(c) { e = T(c, "DIV", { class: !0, "data-testid": !0 }); var d = E(e); q(t.$$.fragment, d), i = X(d), r = T(d, "DIV", { class: !0, tabindex: !0, ["data-svelte-h"]: !0 }), Wr(r) !== "svelte-fzblhe" && (r.textContent = s), o = X(d), a = T(d, "DIV", { class: !0, "data-testid": !0 }); var f = E(a); q(l.$$.fragment, f), f.forEach(_), d.forEach(_), this.h() }, h() { p(r, "class", "report-a-concern-submitted__title svelte-x3xww"), p(r, "tabindex", "-1"), p(a, "class", "report-a-concern-submitted__done svelte-x3xww"), p(a, "data-testid", "report-a-concern-submitted-done"), p(e, "class", "report-a-concern-submitted__container svelte-x3xww"), p(e, "data-testid", "submitted-container") }, m(c, d) { I(c, e, d), H(t, e, null), A(e, i), A(e, r), n[11](r), A(e, o), A(e, a), H(l, a, null), u = !0 }, p(c, d) { const f = {}; d & 32768 && (f.$$scope = { dirty: d, ctx: c }), l.$set(f) }, i(c) { u || (w(t.$$.fragment, c), w(l.$$.fragment, c), u = !0) }, o(c) { D(t.$$.fragment, c), D(l.$$.fragment, c), u = !1 }, d(c) { c && _(e), $(t), n[11](null), $(l) } } } function L8(n) { let e, t = "Comment:", i, r, s, o; return s = new tFe({ props: { id: "report-a-concern-comment", name: "rac-comment", required: !1, placeholder: n[2], maxLength: n[3] } }), { c() { e = L("label"), e.textContent = t, i = Y(), r = L("div"), V(s.$$.fragment), this.h() }, l(a) { e = T(a, "LABEL", { class: !0, for: !0, ["data-svelte-h"]: !0 }), Wr(e) !== "svelte-6ig6i8" && (e.textContent = t), i = X(a), r = T(a, "DIV", { class: !0 }); var l = E(r); q(s.$$.fragment, l), l.forEach(_), this.h() }, h() { p(e, "class", "report-a-concern__label svelte-x3xww"), p(e, "for", "report-a-concern-comment"), p(r, "class", "report-a-concern__input svelte-x3xww") }, m(a, l) { I(a, e, l), I(a, i, l), I(a, r, l), H(s, r, null), o = !0 }, p(a, l) { const u = {}; l & 4 && (u.placeholder = a[2]), l & 8 && (u.maxLength = a[3]), s.$set(u) }, i(a) { o || (w(s.$$.fragment, a), o = !0) }, o(a) { D(s.$$.fragment, a), o = !1 }, d(a) { a && (_(e), _(i), _(r)), $(s) } } } function aFe(n) { let e; return { c() { e = le("Submit") }, l(t) { e = ue(t, "Submit") }, m(t, i) { I(t, e, i) }, d(t) { t && _(e) } } } function lFe(n) { let e; return { c() { e = le("Done") }, l(t) { e = ue(t, "Done") }, m(t, i) { I(t, e, i) }, d(t) { t && _(e) } } } function uFe(n) { let e, t, i, r; const s = [oFe, sFe], o = []; function a(l, u) { return l[1] ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, [u]) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function cFe(n, e, t) { const i = It(); let r, s, o = !1, { reasons: a } = e, { isFormSubmitted: l = !1 } = e, { placeholder: u = null } = e, { maxLength: c = null } = e, { canProvideComment: d = !1 } = e, { focusOnMount: f = !1 } = e; function g() { i("doneButtonClick") } Yt(() => { f && (r == null || r.focus()) }); function h(y) { Bt.call(this, n, y) } function m(y) { wt[y ? "unshift" : "push"](() => { s = y, t(5, s) }) } function v(y) { wt[y ? "unshift" : "push"](() => { r = y, t(6, r) }) } const b = () => t(7, o = !0); return n.$$set = y => { "reasons" in y && t(0, a = y.reasons), "isFormSubmitted" in y && t(1, l = y.isFormSubmitted), "placeholder" in y && t(2, u = y.placeholder), "maxLength" in y && t(3, c = y.maxLength), "canProvideComment" in y && t(4, d = y.canProvideComment), "focusOnMount" in y && t(9, f = y.focusOnMount) }, n.$$.update = () => { n.$$.dirty & 34 && l && (t(7, o = !1), s == null || s.focus()) }, [a, l, u, c, d, s, r, o, g, f, h, m, v, b] } class dFe extends oe { constructor(e) { super(), se(this, e, cFe, uFe, ye, { reasons: 0, isFormSubmitted: 1, placeholder: 2, maxLength: 3, canProvideComment: 4, focusOnMount: 9 }) } } function fFe(n) { let e, t, i = [{ width: "20" }, { height: "20" }, { viewBox: "0 0 20 20" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "m12.12 10 4.07-4.06a1.5 1.5 0 1 0-2.11-2.12L10 7.88 5.94 3.81a1.5 1.5 0 1 0-2.12 2.12L7.88 10l-4.07 4.06a1.5 1.5 0 0 0 0 2.12 1.51 1.51 0 0 0 2.13 0L10 12.12l4.06 4.07a1.45 1.45 0 0 0 1.06.44 1.5 1.5 0 0 0 1.06-2.56Z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "20" }, { height: "20" }, { viewBox: "0 0 20 20" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function gFe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let hFe = class extends oe { constructor(e) { super(), se(this, e, gFe, fFe, ht, {}) } }; function mFe(n) { let e, t, i, r, s, o, a, l, u; return i = new hFe({ props: { role: "presentation", "aria-hidden": "true" } }), o = new dFe({ props: { isFormSubmitted: n[3], reasons: n[2], canProvideComment: n[4] } }), o.$on("submit", n[6]), o.$on("doneButtonClick", n[7]), { c() { e = L("div"), t = L("button"), V(i.$$.fragment), s = Y(), V(o.$$.fragment), this.h() }, l(c) { e = T(c, "DIV", { class: !0, "data-testid": !0 }); var d = E(e); t = T(d, "BUTTON", { "aria-label": !0, class: !0, "data-testid": !0 }); var f = E(t); q(i.$$.fragment, f), f.forEach(_), s = X(d), q(o.$$.fragment, d), d.forEach(_), this.h() }, h() { p(t, "aria-label", r = n[1]("AMP.Shared.AX.Close")), p(t, "class", "report-a-concern__close svelte-19ypdur"), p(t, "data-testid", "report-a-concern-close"), p(e, "class", "report-a-concern svelte-19ypdur"), p(e, "data-testid", "report-a-concern-modal") }, m(c, d) { I(c, e, d), A(e, t), H(i, t, null), A(e, s), H(o, e, null), a = !0, l || (u = Me(t, "click", function () { Ft(n[10]) && n[10].apply(this, arguments) }), l = !0) }, p(c, d) { n = c, (!a || d & 2 && r !== (r = n[1]("AMP.Shared.AX.Close"))) && p(t, "aria-label", r); const f = {}; d & 8 && (f.isFormSubmitted = n[3]), d & 4 && (f.reasons = n[2]), d & 16 && (f.canProvideComment = n[4]), o.$set(f) }, i(c) { a || (w(i.$$.fragment, c), w(o.$$.fragment, c), a = !0) }, o(c) { D(i.$$.fragment, c), D(o.$$.fragment, c), a = !1 }, d(c) { c && _(e), $(i), $(o), l = !1, u() } } } function pFe(n) { let e, t, i, r = { showOnMount: !0, modalTriggerElement: n[0], $$slots: { default: [mFe, ({ handleClose: s }) => ({ 10: s }), ({ handleClose: s }) => s ? 1024 : 0] }, $$scope: { ctx: n } }; return e = new Es({ props: r }), n[8](e), e.$on("close", n[9]), { c() { t = L("div"), V(e.$$.fragment), this.h() }, l(s) { t = T(s, "DIV", { style: !0 }); var o = E(t); q(e.$$.fragment, o), this.h() }, h() { Pt(t, "display", "contents"), Pt(t, "--modalMaxWidth", "calc(100% - var(--bodyGutter) * 2)") }, m(s, o) { I(s, t, o), H(e, t, null), i = !0 }, p(s, [o]) { const a = {}; o & 1 && (a.modalTriggerElement = s[0]), o & 3102 && (a.$$scope = { dirty: o, ctx: s }), e.$set(a) }, i(s) { i || (w(e.$$.fragment, s), i = !0) }, o(s) { D(e.$$.fragment, s), i = !1 }, d(s) { n[8](null), s && e && _(t), $(e, s) } } } function _Fe(n, e, t) { let { modalTriggerElement: i } = e, { translateFn: r } = e, { reasons: s } = e, { isFormSubmitted: o = !1 } = e, { canProvideComment: a = !1 } = e, l; mn(() => { l.close() }); function u(g) { Bt.call(this, n, g) } function c(g) { Bt.call(this, n, g) } function d(g) { wt[g ? "unshift" : "push"](() => { l = g, t(5, l) }) } function f(g) { Bt.call(this, n, g) } return n.$$set = g => { "modalTriggerElement" in g && t(0, i = g.modalTriggerElement), "translateFn" in g && t(1, r = g.translateFn), "reasons" in g && t(2, s = g.reasons), "isFormSubmitted" in g && t(3, o = g.isFormSubmitted), "canProvideComment" in g && t(4, a = g.canProvideComment) }, [i, r, s, o, a, l, u, c, d, f] } class vFe extends oe { constructor(e) { super(), se(this, e, _Fe, pFe, ye, { modalTriggerElement: 0, translateFn: 1, reasons: 2, isFormSubmitted: 3, canProvideComment: 4 }) } } var sv = (n => (n.QueryContext = "query-context", n))(sv || {}); const bFe = [{ value: "context-not-accurate", name: "It isn't accurate" }, { value: "context-not-relevant", name: "It isn't relevant" }, { value: "context-offensive", name: "It's offensive" }, { value: "context-not-listed", name: "My concern isnt listed here." }]; function yFe(n, e, t) { let i; return t === sv.QueryContext && (i = { data: [], custom: {} }), { $kind: "reportAConcernAction", concern: n, concernData: e, type: t, actionMetrics: i } } function T8(n) { let e, t, i, r, s, o, a, l, u, c, d, f = n[9] && R8(n), g = n[11] && F8(n), h = n[8] && B8(n), m = n[6] && U8(n), v = n[6] && n[3] && H8(n); return { c() { e = L("div"), t = L("div"), f && f.c(), i = Y(), g && g.c(), r = Y(), h && h.c(), s = Y(), m && m.c(), a = Y(), v && v.c(), l = re(), this.h() }, l(b) { e = T(b, "DIV", { class: !0 }); var y = E(e); t = T(y, "DIV", { class: !0, "data-testid": !0 }); var k = E(t); f && f.l(k), i = X(k), g && g.l(k), r = X(k), h && h.l(k), s = X(k), m && m.l(k), k.forEach(_), y.forEach(_), a = X(b), v && v.l(b), l = re(), this.h() }, h() { p(t, "class", "search-query-context-lockup svelte-1ikhmc2"), p(t, "data-testid", "search-query-context-lockup"), p(e, "class", "search-query-context-lockup-container svelte-1ikhmc2") }, m(b, y) { I(b, e, y), A(e, t), f && f.m(t, null), A(t, i), g && g.m(t, null), A(t, r), h && h.m(t, null), A(t, s), m && m.m(t, null), I(b, a, y), v && v.m(b, y), I(b, l, y), u = !0, c || (d = [Ut(o = o_.call(null, t, { enabled: n[6], allowClasses: ["search-query-context-lockup__more"], allowTags: ["A"] })), Me(t, "longpress", n[19])], c = !0) }, p(b, y) { b[9] ? f ? f.p(b, y) : (f = R8(b), f.c(), f.m(t, i)) : f && (f.d(1), f = null), b[11] ? g ? (g.p(b, y), y & 2048 && w(g, 1)) : (g = F8(b), g.c(), w(g, 1), g.m(t, r)) : g && (te(), D(g, 1, 1, () => { g = null }), ne()), b[8] ? h ? (h.p(b, y), y & 256 && w(h, 1)) : (h = B8(b), h.c(), w(h, 1), h.m(t, s)) : h && (te(), D(h, 1, 1, () => { h = null }), ne()), b[6] ? m ? (m.p(b, y), y & 64 && w(m, 1)) : (m = U8(b), m.c(), w(m, 1), m.m(t, null)) : m && (te(), D(m, 1, 1, () => { m = null }), ne()), o && Ft(o.update) && y & 64 && o.update.call(null, { enabled: b[6], allowClasses: ["search-query-context-lockup__more"], allowTags: ["A"] }), b[6] && b[3] ? v ? (v.p(b, y), y & 72 && w(v, 1)) : (v = H8(b), v.c(), w(v, 1), v.m(l.parentNode, l)) : v && (te(), D(v, 1, 1, () => { v = null }), ne()) }, i(b) { u || (w(g), w(h), w(m), w(v), u = !0) }, o(b) { D(g), D(h), D(m), D(v), u = !1 }, d(b) { b && (_(e), _(a), _(l)), f && f.d(), g && g.d(), h && h.d(), m && m.d(), v && v.d(b), c = !1, Ot(d) } } } function R8(n) { let e, t; return { c() { e = L("h2"), t = le(n[9]), this.h() }, l(i) { e = T(i, "H2", { class: !0, "data-testid": !0, dir: !0 }); var r = E(e); t = ue(r, n[9]), r.forEach(_), this.h() }, h() { p(e, "class", "search-query-context-lockup__title svelte-1ikhmc2"), p(e, "data-testid", "search-query-context-lockup-headline"), p(e, "dir", "auto") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 512 && me(t, i[9]) }, d(i) { i && _(e) } } } function F8(n) { let e, t, i, r; t = new $l({ props: { clamp: n[2], allowFocusOverflow: !0, observe: !0, $$slots: { default: [kFe] }, $$scope: { ctx: n } } }), t.$on("resize", function () { Ft(n[5]) && n[5].apply(this, arguments) }); let s = n[1] && N8(n); return { c() { e = L("p"), V(t.$$.fragment), i = Y(), s && s.c(), this.h() }, l(o) { e = T(o, "P", { class: !0, "data-testid": !0, dir: !0 }); var a = E(e); q(t.$$.fragment, a), i = X(a), s && s.l(a), a.forEach(_), this.h() }, h() { p(e, "class", "search-query-context-lockup__desc svelte-1ikhmc2"), p(e, "data-testid", "search-query-context-lockup-text"), p(e, "dir", "auto") }, m(o, a) { I(o, e, a), H(t, e, null), A(e, i), s && s.m(e, null), r = !0 }, p(o, a) { n = o; const l = {}; a & 4 && (l.clamp = n[2]), a & 134219904 && (l.$$scope = { dirty: a, ctx: n }), t.$set(l), n[1] ? s ? s.p(n, a) : (s = N8(n), s.c(), s.m(e, null)) : s && (s.d(1), s = null) }, i(o) { r || (w(t.$$.fragment, o), r = !0) }, o(o) { D(t.$$.fragment, o), r = !1 }, d(o) { o && _(e), $(t), s && s.d() } } } function O8(n) { let e, t; return e = new en({ props: { action: n[7].segue, isCtaLink: !0, $$slots: { default: [wFe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 128 && (s.action = i[7].segue), r & 134217856 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function wFe(n) { let e = n[7].title + "", t, i, r, s; return r = new Ll({ props: { "aria-hidden": "true" } }), { c() { t = le(e), i = Y(), V(r.$$.fragment) }, l(o) { t = ue(o, e), i = X(o), q(r.$$.fragment, o) }, m(o, a) { I(o, t, a), I(o, i, a), H(r, o, a), s = !0 }, p(o, a) { (!s || a & 128) && e !== (e = o[7].title + "") && me(t, e) }, i(o) { s || (w(r.$$.fragment, o), s = !0) }, o(o) { D(r.$$.fragment, o), s = !1 }, d(o) { o && (_(t), _(i)), $(r, o) } } } function kFe(n) { let e, t = Zn(n[11]) + "", i, r, s, o = n[7] && O8(n); return { c() { e = new Pi(!1), i = Y(), o && o.c(), r = re(), this.h() }, l(a) { e = hr(a, !1), i = X(a), o && o.l(a), r = re(), this.h() }, h() { e.a = i }, m(a, l) { e.m(t, a, l), I(a, i, l), o && o.m(a, l), I(a, r, l), s = !0 }, p(a, l) { (!s || l & 2048) && t !== (t = Zn(a[11]) + "") && e.p(t), a[7] ? o ? (o.p(a, l), l & 128 && w(o, 1)) : (o = O8(a), o.c(), w(o, 1), o.m(r.parentNode, r)) : o && (te(), D(o, 1, 1, () => { o = null }), ne()) }, i(a) { s || (w(o), s = !0) }, o(a) { D(o), s = !1 }, d(a) { a && (e.d(), _(i), _(r)), o && o.d(a) } } } function N8(n) { let e, t = n[12].t("AMP.Shared.Truncate.More") + "", i, r, s; return { c() { e = L("button"), i = le(t), this.h() }, l(o) { e = T(o, "BUTTON", { class: !0 }); var a = E(e); i = ue(a, t), a.forEach(_), this.h() }, h() { p(e, "class", "search-query-context-lockup__more svelte-1ikhmc2") }, m(o, a) { I(o, e, a), A(e, i), r || (s = Me(e, "click", n[17]), r = !0) }, p(o, a) { a & 4096 && t !== (t = o[12].t("AMP.Shared.Truncate.More") + "") && me(i, t) }, d(o) { o && _(e), r = !1, s() } } } function B8(n) { let e, t; return e = new ZRe({ props: { items: n[8], disclaimer: n[10], $$slots: { default: [PFe, ({ item: i }) => ({ 0: i }), ({ item: i }) => i ? 1 : 0] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 256 && (s.items = i[8]), r & 1024 && (s.disclaimer = i[10]), r & 134217729 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function DFe(n) { let e = n[0].title + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 1 && e !== (e = i[0].title + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function SFe(n) { let e, t; return e = new en({ props: { action: n[0].segue, $$slots: { default: [CFe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.action = i[0].segue), r & 134217729 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function CFe(n) { let e = n[0].title + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 1 && e !== (e = i[0].title + "") && me(t, e) }, d(i) { i && _(t) } } } function PFe(n) { let e, t, i, r; const s = [SFe, DFe], o = []; function a(l, u) { return l[0].segue ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, u) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function U8(n) { let e, t, i; function r(o) { n[23](o) } let s = { translateFn: n[12].t, config: n[16], buttonStyle: "non-platter", hasMaterial: !1 }; return n[4] !== void 0 && (s.contextualMenuButtonElement = n[4]), e = new Ro({ props: s }), wt.push(() => Xr(e, "contextualMenuButtonElement", r)), { c() { V(e.$$.fragment) }, l(o) { q(e.$$.fragment, o) }, m(o, a) { H(e, o, a), i = !0 }, p(o, a) { const l = {}; a & 4096 && (l.translateFn = o[12].t), !t && a & 16 && (t = !0, l.contextualMenuButtonElement = o[4], Yr(() => t = !1)), e.$set(l) }, i(o) { i || (w(e.$$.fragment, o), i = !0) }, o(o) { D(e.$$.fragment, o), i = !1 }, d(o) { $(e, o) } } } function H8(n) { let e, t; return e = new vFe({ props: { modalTriggerElement: n[15], canProvideComment: !0, reasons: bFe, translateFn: n[12].t } }), e.$on("close", n[24]), e.$on("submit", n[18]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 4096 && (s.translateFn = i[12].t), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function AFe(n) { let e, t, i = n[0] && T8(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[0] ? i ? (i.p(r, s), s & 1 && w(i, 1)) : (i = T8(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function EFe(n, e, t) { let i, r, s, o, a, l, u, c, d; var f, g; const { state: h } = xt(); ce(n, h, K => t(22, c = K)); const m = To(), v = ot(); ce(n, v, K => t(12, d = K)); const b = fn(); let { item: y } = e, k = !1, S = 3, C = !1, P, M, R = { items: [{ label: "Report A Concern", action: () => { t(3, C = !0) } }] }; const F = () => { t(2, S = 1e3), b.recordCustomMetricsEvent({ eventType: "click", actionContext: "searchQueryContext", actionType: "select", searchTerm: y.term, targetId: "More", targetType: "button" }) }; function N(K) { const W = new FormData(K.target), Z = { kind: "query-context", reason: W.get("rac-reason"), comments: W.get("rac-comment") }, Q = { form: { searchTerm: y.term, queryContext: y.queryContext }, target: { kind: "search-results" } }; b.perform(yFe(Z, Q, sv.QueryContext)), t(3, C = !1) } function O(K) { try { M == null || M.open(K) } catch (W) { } return !1 } function B(K) { M = K, t(4, M) } const U = () => t(3, C = !1); return n.$$set = K => { "item" in K && t(0, y = K.item) }, n.$$.update = () => { n.$$.dirty & 1 && t(11, i = y.text), n.$$.dirty & 1048577 && t(10, r = t(20, f = y.disclaimer) !== null && f !== void 0 ? f : "Test Disclaimer"), n.$$.dirty & 1 && t(9, s = y.headline), n.$$.dirty & 1 && t(8, o = y.footer), n.$$.dirty & 2097153 && t(7, a = t(21, g = y.links) === null || g === void 0 ? void 0 : g[0]), n.$$.dirty & 4194304 && t(6, l = c.user !== null) }, t(5, u = K => { m.add(() => t(1, k = K.detail.truncated)) }), [y, k, S, C, M, u, l, a, o, s, r, i, d, h, v, P, R, F, N, O, f, g, c, B, U] } class IFe extends oe { constructor(e) { super(), se(this, e, EFe, AFe, ye, { item: 0 }) } } const MFe = n => ({}), $8 = n => ({}); function LFe(n) { let e, t; const i = n[1].cta, r = We(i, n, n[0], $8); return { c() { e = L("div"), r && r.c(), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); r && r.l(o), o.forEach(_), this.h() }, h() { p(e, "class", "content-footer svelte-1khcxxf") }, m(s, o) { I(s, e, o), r && r.m(e, null), t = !0 }, p(s, [o]) { r && r.p && (!t || o & 1) && Je(r, i, s, s[0], t ? Ke(i, s[0], o, MFe) : Ye(s[0]), $8) }, i(s) { t || (w(r, s), t = !0) }, o(s) { D(r, s), t = !1 }, d(s) { s && _(e), r && r.d(s) } } } function TFe(n, e, t) { let { $$slots: i = {}, $$scope: r } = e; return n.$$set = s => { "$$scope" in s && t(0, r = s.$$scope) }, [r, i] } class RFe extends oe { constructor(e) { super(), se(this, e, TFe, LFe, ye, {}) } } function FFe(n) { let e, t, i, r; return i = new Ll({ props: { class: "artist-detail-footer__arrow-icon", "aria-hidden": "true" } }), { c() { e = le(n[0]), t = Y(), V(i.$$.fragment) }, l(s) { e = ue(s, n[0]), t = X(s), q(i.$$.fragment, s) }, m(s, o) { I(s, e, o), I(s, t, o), H(i, s, o), r = !0 }, p(s, o) { (!r || o & 1) && me(e, s[0]) }, i(s) { r || (w(i.$$.fragment, s), r = !0) }, o(s) { D(i.$$.fragment, s), r = !1 }, d(s) { s && (_(e), _(t)), $(i, s) } } } function OFe(n) { let e, t; return e = new en({ props: { action: n[1], slot: "cta", $$slots: { default: [FFe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.action = i[1]), r & 9 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function NFe(n) { let e, t; return e = new RFe({ props: { $$slots: { cta: [OFe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 11 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function BFe(n, e, t) { let i, r, { item: s } = e; return n.$$set = o => { "item" in o && t(2, s = o.item) }, n.$$.update = () => { n.$$.dirty & 4 && t(1, i = s.segue), n.$$.dirty & 4 && t(0, r = s.title) }, [r, i, s] } class UFe extends oe { constructor(e) { super(), se(this, e, BFe, NFe, ye, { item: 2 }) } } function HFe(n) { let e, t, i = [{ width: "45" }, { height: "33" }, { viewBox: "0 0 45 33" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0, "fill-rule": !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M35.227 0c3.394 0 5.825.41 7.614 2.177C44.617 3.932 45 6.335 45 9.724v13.543c0 3.403-.383 5.792-2.159 7.56C41.066 32.595 38.621 33 35.227 33h-13.59c-3.394 0-5.824-.405-7.614-2.173-1.302-1.287-1.855-2.923-2.057-5.046.361.095.738.145 1.125.145a4.24 4.24 0 0 0 2.335-.67c.129 1.273.461 2.315 1.159 3.02.969.95 2.608 1.25 4.564 1.25h14.566c1.956 0 3.596-.29 4.565-1.25.955-.965 1.232-2.561 1.232-4.518V9.238c0-1.953-.268-3.554-1.232-4.51-.97-.96-2.609-1.25-4.565-1.25h-14.51c-2.002 0-3.66.28-4.62 1.241-.26.264-.469.577-.636.93a4.266 4.266 0 0 0-2.858-1.072c-.198 0-.394.014-.586.04a6.401 6.401 0 0 1 1.528-2.44C15.808.41 18.253 0 21.57 0Zm-1.546 7.334c1.076-.225 1.57.112 1.57 1.06v12.005c0 2.492-1.88 3.55-3.333 3.55-1.551 0-2.683-1.013-2.683-2.429 0-1.39.92-2.273 2.74-2.677l1.287-.28c.316-.065.48-.265.48-.595l-.046-5.303c0-.291-.13-.36-.483-.295l-6.82 1.41c-.32.057-.361.125-.361.463v8.002c0 2.474-1.927 3.6-3.38 3.6-1.533 0-2.637-1.012-2.637-2.423 0-1.444.916-2.388 2.698-2.742l1.321-.262c.298-.055.415-.25.415-.575l-.042-9.7c0-.585.38-.973 1.033-1.105Zm-20.59.063c.414 0 .763.14 1.043.422l6.228 6.189.014.013c.379.367.588.806.588 1.235 0 .428-.206.86-.593 1.245l-6.233 6.18-.014.014c-.272.277-.61.412-1.033.412-.508 0-.836-.217-1.021-.399-.184-.18-.404-.5-.404-.998 0-.37.173-.78.451-1.071l1.051-1.07 3.2-2.836H1.476c-.503 0-.835-.218-1.015-.39l-.03-.03A1.48 1.48 0 0 1 0 15.255c0-.406.152-.783.427-1.06a1.44 1.44 0 0 1 1.048-.422h14.893l-3.2-2.83-1.051-1.075c-.171-.183-.451-.56-.451-1.072 0-.5.22-.82.403-1 .186-.183.513-.4 1.022-.4Z"), p(t, "fill-rule", "evenodd"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "45" }, { height: "33" }, { viewBox: "0 0 45 33" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function $Fe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let VFe = class extends oe { constructor(e) { super(), se(this, e, $Fe, HFe, ht, {}) } }; function zFe() { return { $kind: "hideTransferMusicTip", actionMetrics: { data: [], custom: {} } } } function V8(n) { let e, t, i, r, s, o, a, l, u, c = n[1].t("ASE.Web.Music.TransferMusic.Tooltip.Title") + "", d, f, g, h, m = n[1].t("ASE.Web.Music.TransferMusic.Tooltip.CTA") + "", v, b, y, k; return i = new rr({ props: { "aria-hidden": "true" } }), a = new VFe({ props: { "aria-hidden": "true" } }), { c() { e = L("div"), t = L("button"), V(i.$$.fragment), s = Y(), o = L("div"), V(a.$$.fragment), l = Y(), u = L("h3"), d = le(c), f = Y(), g = L("div"), h = L("button"), v = le(m), this.h() }, l(S) { e = T(S, "DIV", { class: !0, "aria-label": !0, "data-testid": !0 }); var C = E(e); t = T(C, "BUTTON", { class: !0, "data-testid": !0, "aria-label": !0, type: !0 }); var P = E(t); q(i.$$.fragment, P), P.forEach(_), s = X(C), o = T(C, "DIV", { class: !0 }); var M = E(o); q(a.$$.fragment, M), M.forEach(_), l = X(C), u = T(C, "H3", { class: !0 }); var R = E(u); d = ue(R, c), R.forEach(_), f = X(C), g = T(C, "DIV", { class: !0 }); var F = E(g); h = T(F, "BUTTON", { "data-testid": !0, class: !0, type: !0 }); var N = E(h); v = ue(N, m), N.forEach(_), F.forEach(_), C.forEach(_), this.h() }, h() { p(t, "class", "close-button svelte-18k7k41"), p(t, "data-testid", "transfer-music-tool-tip-close"), p(t, "aria-label", r = n[1].t("ASE.Web.Music.Shared.AX.Close")), p(t, "type", "button"), p(o, "class", "transfer-music-tool-tip__left-detail svelte-18k7k41"), p(u, "class", "transfer-music-tool-tip__headline svelte-18k7k41"), p(h, "data-testid", "transfer-music-tool-tip-action"), p(h, "class", "action-button svelte-18k7k41"), p(h, "type", "button"), p(g, "class", "transfer-music-tool-tip__actions svelte-18k7k41"), p(e, "class", "transfer-music-tool-tip svelte-18k7k41"), p(e, "aria-label", "transfer music"), p(e, "data-testid", "transfer-music-tool-tip") }, m(S, C) { I(S, e, C), A(e, t), H(i, t, null), A(e, s), A(e, o), H(a, o, null), A(e, l), A(e, u), A(u, d), A(e, f), A(e, g), A(g, h), A(h, v), b = !0, y || (k = [Me(t, "click", n[4]), Me(h, "click", n[5])], y = !0) }, p(S, C) { (!b || C & 2 && r !== (r = S[1].t("ASE.Web.Music.Shared.AX.Close"))) && p(t, "aria-label", r), (!b || C & 2) && c !== (c = S[1].t("ASE.Web.Music.TransferMusic.Tooltip.Title") + "") && me(d, c), (!b || C & 2) && m !== (m = S[1].t("ASE.Web.Music.TransferMusic.Tooltip.CTA") + "") && me(v, m) }, i(S) { b || (w(i.$$.fragment, S), w(a.$$.fragment, S), b = !0) }, o(S) { D(i.$$.fragment, S), D(a.$$.fragment, S), b = !1 }, d(S) { S && _(e), $(i), $(a), y = !1, Ot(k) } } } function qFe(n) { let e, t, i = n[0].showBubbleTip && V8(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[0].showBubbleTip ? i ? (i.p(r, s), s & 1 && w(i, 1)) : (i = V8(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function WFe(n, e, t) { let i, r; const s = fn(), o = ot(); ce(n, o, c => t(1, r = c)); const a = Fc(); ce(n, a, c => t(0, i = c)); function l() { s.perform(zFe()), s.recordCustomMetricsEvent({ eventType: "click", actionType: "dismiss", targetId: "Close", actionContext: "transfer_started", targetType: "banner", pageUrl: window.location.href }) } function u() { s.perform(zu(es.start)) } return [i, r, o, a, l, u] } class KFe extends oe { constructor(e) { super(), se(this, e, WFe, qFe, ye, {}) } } function JFe(n) { let e = n[6].warn("unsupported single component:", n[2], n[1], n[0]) + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 7 && e !== (e = i[6].warn("unsupported single component:", i[2], i[1], i[0]) + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function YFe(n) { let e, t, i; var r = n[5]; function s(o, a) { return { props: { item: o[1] } } } return r && (e = jt(r, s(n))), { c() { e && V(e.$$.fragment), t = re() }, l(o) { e && q(e.$$.fragment, o), t = re() }, m(o, a) { e && H(e, o, a), I(o, t, a), i = !0 }, p(o, a) { if (a & 32 && r !== (r = o[5])) { if (e) { te(); const l = e; D(l.$$.fragment, 1, 0, () => { $(l, 1) }), ne() } r ? (e = jt(r, s(o)), V(e.$$.fragment), w(e.$$.fragment, 1), H(e, t.parentNode, t)) : e = null } else if (r) { const l = {}; a & 2 && (l.item = o[1]), e.$set(l) } }, i(o) { i || (e && w(e.$$.fragment, o), i = !0) }, o(o) { e && D(e.$$.fragment, o), i = !1 }, d(o) { o && _(t), e && $(e, o) } } } function XFe(n) { let e, t; return e = new tv({ props: { itemComponent: n[5], section: n[0], defaultFlowStyle: "column" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 32 && (s.itemComponent = i[5]), r & 1 && (s.section = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function ZFe(n) { let e, t; return e = new jB({ props: { headerType: "A", textAlignment: n[3], $$slots: { action: [jFe], default: [QFe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 8 && (s.textAlignment = i[3]), r & 8210 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function QFe(n) { let e = n[1].title + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 2 && e !== (e = i[1].title + "") && me(t, e) }, d(i) { i && _(t) } } } function z8(n) { let e, t; return e = new rv({ props: { artistContentDescriptor: n[1].contentDescriptor, hideCreateStation: !0 } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.artistContentDescriptor = i[1].contentDescriptor), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function jFe(n) { let e, t, i = n[4] && z8(n); return { c() { e = L("div"), i && i.c(), this.h() }, l(r) { e = T(r, "DIV", { slot: !0 }); var s = E(e); i && i.l(s), s.forEach(_), this.h() }, h() { p(e, "slot", "action") }, m(r, s) { I(r, e, s), i && i.m(e, null), t = !0 }, p(r, s) { r[4] ? i ? (i.p(r, s), s & 16 && w(i, 1)) : (i = z8(r), i.c(), w(i, 1), i.m(e, null)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d() } } } function GFe(n) { let e, t, i, r; const s = [ZFe, XFe, YFe, JFe], o = []; function a(l, u) { return l[2] === "headerComponentModel" ? 0 : l[2] === "linkComponentModel" && l[5] ? 1 : l[5] ? 2 : 3 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, [u]) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function xFe(n, e, t) { let i, r, s, o, a; var l, u, c, d, f; const g = kn("<SingleItemSection>"); let { section: h } = e; const m = { containerDetailHeaderLockup: DLe, containerDetailTracklistFooterLockup: FLe, curatorDetailHeaderComponentModel: BLe, faqList: XLe, groupTextListLockup: jLe, superHeroLockup: tTe, artistDetailHeaderLockup: RTe, socialProfileDetailHeaderLockup: JTe, paragraphComponentModel: ZTe, tvMovieDetailHeaderLockup: sRe, tvMovieDescription: lRe, spacer: cRe, centeredItemDetailHeader: zLe, linkComponentModel: VB, madeForYouEmpty: pRe, songDetailHeader: KRe, playlistEmpty: bRe, searchQueryContextLockup: IFe, artistDetailFooter: UFe, redCarpetTooltip: KFe }; return n.$$set = v => { "section" in v && t(0, h = v.section) }, n.$$.update = () => { n.$$.dirty & 1 && t(2, i = h.itemKind), n.$$.dirty & 385 && t(1, r = t(8, u = t(7, l = h.items) === null || l === void 0 ? void 0 : l[0]) !== null && u !== void 0 ? u : {}), n.$$.dirty & 4 && t(5, s = m[i]), n.$$.dirty & 1538 && t(4, o = [x.AppleCurator, x.Curator, x.RecordLabel].includes(t(10, d = t(9, c = r) === null || c === void 0 ? void 0 : c.contentDescriptor) === null || d === void 0 ? void 0 : d.kind)), n.$$.dirty & 2054 && t(3, a = i === "headerComponentModel" ? t(11, f = r) === null || f === void 0 ? void 0 : f.textAlignment : null) }, [h, r, i, a, o, s, g, l, u, c, d, f] } class GB extends oe { constructor(e) { super(), se(this, e, xFe, GFe, ye, { section: 0 }) } } function q8(n) { let e, t; return e = new Ki({ props: { playAction: n[0].playAction, ariaLabel: n[6], isLarge: !0 } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.playAction = i[0].playAction), r & 64 && (s.ariaLabel = i[6]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function eOe(n) { let e, t, i, r, s, o, a, l, u, c, d; i = new Gt({ props: { artwork: n[7], profile: "product-center-crop", alt: "" } }); let f = !n[1] && q8(n); function g(m) { n[19](m) } let h = { config: n[5], translateFn: n[2].t }; return n[4] !== void 0 && (h.contextualMenuButtonElement = n[4]), a = new Ro({ props: h }), wt.push(() => Xr(a, "contextualMenuButtonElement", g)), a.$on("contextMenuVisibilityChange", n[20]), { c() { e = L("div"), t = L("div"), V(i.$$.fragment), r = Y(), s = L("div"), f && f.c(), o = Y(), V(a.$$.fragment), this.h() }, l(m) { e = T(m, "DIV", { class: !0, "data-testid": !0 }); var v = E(e); t = T(v, "DIV", { class: !0, "data-testid": !0 }); var b = E(t); q(i.$$.fragment, b), b.forEach(_), r = X(v), s = T(v, "DIV", { class: !0 }); var y = E(s); f && f.l(y), o = X(y), q(a.$$.fragment, y), y.forEach(_), v.forEach(_), this.h() }, h() { p(t, "class", "live-radio-lockup__artwork svelte-1m757pn"), p(t, "data-testid", "live-radio-lockup-artwork"), p(s, "class", "live-radio-lockup__controls svelte-1m757pn"), p(e, "class", "live-radio-lockup svelte-1m757pn"), p(e, "data-testid", "live-radio-lockup"), J(e, "has-open-menu", n[3]), J(e, "live-radio-lockup--active", n[8]) }, m(m, v) { I(m, e, v), A(e, t), H(i, t, null), A(e, r), A(e, s), f && f.m(s, null), A(s, o), H(a, s, null), u = !0, c || (d = [Me(e, "contextmenu", n[11]), Ut(o_.call(null, e, { allowClasses: ["live-radio-lockup__controls"] })), Me(e, "longpress", n[12]), Me(e, "click", n[13])], c = !0) }, p(m, [v]) { const b = {}; v & 128 && (b.artwork = m[7]), i.$set(b), m[1] ? f && (te(), D(f, 1, 1, () => { f = null }), ne()) : f ? (f.p(m, v), v & 2 && w(f, 1)) : (f = q8(m), f.c(), w(f, 1), f.m(s, o)); const y = {}; v & 32 && (y.config = m[5]), v & 4 && (y.translateFn = m[2].t), !l && v & 16 && (l = !0, y.contextualMenuButtonElement = m[4], Yr(() => l = !1)), a.$set(y), (!u || v & 8) && J(e, "has-open-menu", m[3]), (!u || v & 256) && J(e, "live-radio-lockup--active", m[8]) }, i(m) { u || (w(i.$$.fragment, m), w(f), w(a.$$.fragment, m), u = !0) }, o(m) { D(i.$$.fragment, m), D(f), D(a.$$.fragment, m), u = !1 }, d(m) { m && _(e), $(i), f && f.d(), $(a), c = !1, Ot(d) } } } function tOe(n, e, t) { let i, r, s, o, a, l, u, c, d; var f, g; let { item: h } = e; const { queue: m } = zn(); ce(n, m, O => t(18, d = O)); const v = Fo(), b = fn(), y = ot(); ce(n, y, O => t(2, c = O)); let k = !1, S = !1, C; async function P(O) { O.preventDefault(), await C.open(O) } function M(O) { try { C == null || C.open(O) } catch (B) { } return !1 } async function R() { t(16, k = !s), r ? await b.perform(Wi()) : s ? await b.perform(One()) : await b.perform(h.playAction), t(16, k = !1) } function F(O) { C = O, t(4, C) } const N = O => t(3, S = O.detail.open); return n.$$set = O => { "item" in O && t(0, h = O.item) }, n.$$.update = () => { n.$$.dirty & 311297 && t(17, i = (t(15, g = t(14, f = h.contentDescriptor) === null || f === void 0 ? void 0 : f.identifiers) === null || g === void 0 ? void 0 : g.storeAdamID) === d.nowPlayingItemId), n.$$.dirty & 393216 && (r = i && d.state == 4), n.$$.dirty & 393216 && t(1, s = i && d.state == 2), n.$$.dirty & 65538 && t(8, o = s || k), n.$$.dirty & 1 && t(7, a = h.artwork), n.$$.dirty & 7 && t(6, l = s ? c.t("ASE.Web.Music.Pause") : c.t("ASE.Web.Music.VO.RadioPlayLabel", { content: h.accessibilityLabel })), n.$$.dirty & 5 && t(5, u = { items: [{ label: c.t("ASE.Web.Music.Radio.View.Schedule"), action: () => { b.perform(h.secondaryAction) }, icon: ii.CalendarIcon }, ...v.getSharingItemsConfig(h.contentDescriptor, h.id, z.Stations)] }) }, [h, s, c, S, C, u, l, a, o, m, y, P, M, R, f, g, k, i, d, F, N] } class nOe extends oe { constructor(e) { super(), se(this, e, tOe, eOe, ye, { item: 0 }) } } function W8(n, e, t) { const i = n.slice(); return i[34] = e[t], i[36] = t, i } function K8(n) { let e, t, i, r, s, o, a, l, u; t = new WB({ props: { title: n[9].title } }); const c = [rOe, iOe], d = []; function f(g, h) { return h[0] & 512 && (s = null), s == null && (s = !!kOe(g[9])), s ? 0 : 1 } return o = f(n, [-1, -1]), a = d[o] = c[o](n), { c() { e = L("div"), V(t.$$.fragment), i = Y(), r = L("div"), a.c(), this.h() }, l(g) { e = T(g, "DIV", { class: !0, "data-testid": !0, "aria-label": !0 }); var h = E(e); q(t.$$.fragment, h), i = X(h), r = T(h, "DIV", { class: !0 }); var m = E(r); a.l(m), m.forEach(_), h.forEach(_), this.h() }, h() { p(r, "class", "pinned-item-content"), p(e, "class", "pinned-item"), p(e, "data-testid", "pinned-item"), p(e, "aria-label", l = n[9].title) }, m(g, h) { I(g, e, h), H(t, e, null), A(e, i), A(e, r), d[o].m(r, null), u = !0 }, p(g, h) { const m = {}; h[0] & 512 && (m.title = g[9].title), t.$set(m); let v = o; o = f(g, h), o === v ? d[o].p(g, h) : (te(), D(d[v], 1, 1, () => { d[v] = null }), ne(), a = d[o], a ? a.p(g, h) : (a = d[o] = c[o](g), a.c()), w(a, 1), a.m(r, null)), (!u || h[0] & 512 && l !== (l = g[9].title)) && p(e, "aria-label", l) }, i(g) { u || (w(t.$$.fragment, g), w(a), u = !0) }, o(g) { D(t.$$.fragment, g), D(a), u = !1 }, d(g) { g && _(e), $(t), d[o].d() } } } function iOe(n) { let e = n[14].warn("unsupported pinnedLeadingItem component:", n[9]) + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[0] & 512 && e !== (e = i[14].warn("unsupported pinnedLeadingItem component:", i[9]) + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function rOe(n) { let e, t; return e = new gEe({ props: { lockup: n[9].item } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 512 && (s.lockup = i[9].item), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function J8(n) { let e, t; return e = new JB({ props: { header: n[0].header } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 1 && (s.header = i[0].header), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function sOe(n) { let e = n[14].warn("unsupported section layout:", n[0]) + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r[0] & 1 && e !== (e = i[14].warn("unsupported section layout:", i[0]) + "") && me(t, e) }, i: j, o: j, d(i) { i && _(t) } } } function oOe(n) { let e, t; return e = new GB({ props: { section: n[0] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 1 && (s.section = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function aOe(n) { let e, t, i = { ctx: n, current: null, token: null, hasCatch: !1, pending: gOe, then: fOe, catch: dOe, value: 37, blocks: [, , ,] }; return uo(wOe(), i), { c() { e = re(), i.block.c() }, l(r) { e = re(), i.block.l(r) }, m(r, s) { I(r, e, s), i.block.m(r, i.anchor = s), i.mount = () => e.parentNode, i.anchor = e, t = !0 }, p(r, s) { n = r, Gu(i, n, s) }, i(r) { t || (w(i.block), t = !0) }, o(r) { for (let s = 0; s < 3; s += 1) { const o = i.blocks[s]; D(o) } t = !1 }, d(r) { r && _(e), i.block.d(r), i.token = null, i = null } } } function lOe(n) { let e, t, i = { ctx: n, current: null, token: null, hasCatch: !1, pending: pOe, then: mOe, catch: hOe, value: 33, blocks: [, , ,] }; return uo(yOe(), i), { c() { e = re(), i.block.c() }, l(r) { e = re(), i.block.l(r) }, m(r, s) { I(r, e, s), i.block.m(r, i.anchor = s), i.mount = () => e.parentNode, i.anchor = e, t = !0 }, p(r, s) { n = r, Gu(i, n, s) }, i(r) { t || (w(i.block), t = !0) }, o(r) { for (let s = 0; s < 3; s += 1) { const o = i.blocks[s]; D(o) } t = !1 }, d(r) { r && _(e), i.block.d(r), i.token = null, i = null } } } function uOe(n) { let e, t; return e = new tv({ props: { section: n[0], itemComponent: n[10] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 1 && (s.section = i[0]), r[0] & 1024 && (s.itemComponent = i[10]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function cOe(n) { let e, t; return e = new OIe({ props: { shelf: n[0], itemComponent: n[10] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 1 && (s.shelf = i[0]), r[0] & 1024 && (s.itemComponent = i[10]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function dOe(n) { return { c: j, l: j, m: j, p: j, i: j, o: j, d: j } } function fOe(n) { let e, t; return e = new n[37]({ props: { section: n[0] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 1 && (s.section = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function gOe(n) { let e, t, i, r = n[0].header && Y8(), s = ut(n[12]), o = []; for (let a = 0; a < s.length; a += 1)o[a] = X8(W8(n, s, a)); return { c() { e = L("div"), r && r.c(), t = Y(), i = L("div"); for (let a = 0; a < o.length; a += 1)o[a].c(); this.h() }, l(a) { e = T(a, "DIV", { class: !0 }); var l = E(e); r && r.l(l), t = X(l), i = T(l, "DIV", {}); var u = E(i); for (let c = 0; c < o.length; c += 1)o[c].l(u); u.forEach(_), l.forEach(_), this.h() }, h() { p(e, "class", "placeholder-table svelte-wa5vzl") }, m(a, l) { I(a, e, l), r && r.m(e, null), A(e, t), A(e, i); for (let u = 0; u < o.length; u += 1)o[u] && o[u].m(i, null) }, p(a, l) { if (a[0].header ? r || (r = Y8(), r.c(), r.m(e, t)) : r && (r.d(1), r = null), l[0] & 4097) { s = ut(a[12]); let u; for (u = 0; u < s.length; u += 1) { const c = W8(a, s, u); o[u] ? o[u].p(c, l) : (o[u] = X8(c), o[u].c(), o[u].m(i, null)) } for (; u < o.length; u += 1)o[u].d(1); o.length = s.length } }, i: j, o: j, d(a) { a && _(e), r && r.d(), ln(o, a) } } } function Y8(n) { let e; return { c() { e = L("div"), this.h() }, l(t) { e = T(t, "DIV", { class: !0 }), E(e).forEach(_), this.h() }, h() { p(e, "class", "placeholder-table-header svelte-wa5vzl") }, m(t, i) { I(t, e, i) }, d(t) { t && _(e) } } } function X8(n) { let e; return { c() { e = L("div"), this.h() }, l(t) { e = T(t, "DIV", { class: !0 }), E(e).forEach(_), this.h() }, h() { p(e, "class", "placeholder-row svelte-wa5vzl"), J(e, "placeholder-row--even", n[36] % 2 === 0), J(e, "placeholder-row--album", !n[0].header) }, m(t, i) { I(t, e, i) }, p(t, i) { i[0] & 1 && J(e, "placeholder-row--album", !t[0].header) }, d(t) { t && _(e) } } } function hOe(n) { return { c: j, l: j, m: j, p: j, i: j, o: j, d: j } } function mOe(n) { let e, t; return e = new n[33]({ props: { items: n[12], getPage: n[26], total: n[11] } }), e.$on("pageUpdate", n[18]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 4096 && (s.items = i[12]), r[0] & 1 && (s.getPage = i[26]), r[0] & 2048 && (s.total = i[11]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function pOe(n) { return { c: j, l: j, m: j, p: j, i: j, o: j, d: j } } function Z8(n) { let e; return { c() { e = L("div"), this.h() }, l(t) { e = T(t, "DIV", { "data-testid": !0, class: !0 }), E(e).forEach(_), this.h() }, h() { p(e, "data-testid", "section-separator"), p(e, "class", "section-separator svelte-wa5vzl") }, m(t, i) { I(t, e, i) }, d(t) { t && _(e) } } } function _Oe(n) { let e, t, i, r, s, o, a, l, u = n[9] && K8(n), c = n[0].header && J8(n); const d = [cOe, uOe, lOe, aOe, oOe, sOe], f = []; function g(m, v) { return m[2] === "shelf" ? 0 : m[2] === "grid" ? 1 : m[2] === "virtualScroll" ? 2 : m[2] === "list" ? 3 : m[2] === "single" ? 4 : 5 } s = g(n), o = f[s] = d[s](n); let h = n[0].displaySeparator && !n[1] && Z8(); return { c() { e = L("div"), u && u.c(), t = Y(), i = L("div"), c && c.c(), r = Y(), o.c(), a = Y(), h && h.c(), this.h() }, l(m) { e = T(m, "DIV", { class: !0, "data-testid": !0, "aria-label": !0 }); var v = E(e); u && u.l(v), t = X(v), i = T(v, "DIV", { class: !0, "data-testid": !0 }); var b = E(i); c && c.l(b), r = X(b), o.l(b), b.forEach(_), a = X(v), h && h.l(v), v.forEach(_), this.h() }, h() { p(i, "class", "section-content svelte-wa5vzl"), p(i, "data-testid", "section-content"), p(e, "class", "section svelte-wa5vzl"), p(e, "data-testid", "section-container"), p(e, "aria-label", n[17]), J(e, "with-top-spacing", n[8]), J(e, "with-pinned-item", !!n[9]), J(e, "section-recently-searched-top-search-lockup", n[7]), J(e, "section-brick-lockup", n[6]), J(e, "section--suggested-songs", n[5]), J(e, "section--alternate", n[0].backgroundTreatment === "alternate"), J(e, "section--disc", n[3]), J(e, "section--has-composer-header", n[4]) }, m(m, v) { I(m, e, v), u && u.m(e, null), A(e, t), A(e, i), c && c.m(i, null), A(i, r), f[s].m(i, null), A(e, a), h && h.m(e, null), l = !0 }, p(m, v) { m[9] ? u ? (u.p(m, v), v[0] & 512 && w(u, 1)) : (u = K8(m), u.c(), w(u, 1), u.m(e, t)) : u && (te(), D(u, 1, 1, () => { u = null }), ne()), m[0].header ? c ? (c.p(m, v), v[0] & 1 && w(c, 1)) : (c = J8(m), c.c(), w(c, 1), c.m(i, r)) : c && (te(), D(c, 1, 1, () => { c = null }), ne()); let b = s; s = g(m), s === b ? f[s].p(m, v) : (te(), D(f[b], 1, 1, () => { f[b] = null }), ne(), o = f[s], o ? o.p(m, v) : (o = f[s] = d[s](m), o.c()), w(o, 1), o.m(i, null)), m[0].displaySeparator && !m[1] ? h || (h = Z8(), h.c(), h.m(e, null)) : h && (h.d(1), h = null), (!l || v[0] & 256) && J(e, "with-top-spacing", m[8]), (!l || v[0] & 512) && J(e, "with-pinned-item", !!m[9]), (!l || v[0] & 128) && J(e, "section-recently-searched-top-search-lockup", m[7]), (!l || v[0] & 64) && J(e, "section-brick-lockup", m[6]), (!l || v[0] & 32) && J(e, "section--suggested-songs", m[5]), (!l || v[0] & 1) && J(e, "section--alternate", m[0].backgroundTreatment === "alternate"), (!l || v[0] & 8) && J(e, "section--disc", m[3]), (!l || v[0] & 16) && J(e, "section--has-composer-header", m[4]) }, i(m) { l || (w(u), w(c), w(o), l = !0) }, o(m) { D(u), D(c), D(o), l = !1 }, d(m) { m && _(e), u && u.d(), c && c.d(), f[s].d(), h && h.d() } } } const vOe = { brickLockup: WAe, bubbleLockup: hl, flowcaseLockup: BAe, horizontalLockup: DAe, horizontalPosterLockup: vAe, linkComponentModel: VB, mixedContentTypeLockup: QPe, posterLockup: CPe, squareLockup: G_, topSearchLockup: x9e, trackLockup: UB, verticalVideoLockup: L8e, liveRadioGridLockup: nOe }; function bOe(n) { return vOe[n] } async function yOe() { return (await ft(() => import("./LockupVirtualScroll-6a0a1e1d.js"), ["assets/LockupVirtualScroll-6a0a1e1d.js", "assets/splitIntoChunks-b312b9a6.js", "assets/LockupVirtualScroll-bb9f807e.css"])).default } async function wOe() { return (await ft(() => import("./List-93a5064d.js"), ["assets/List-93a5064d.js", "assets/splitIntoChunks-b312b9a6.js", "assets/List-891988bd.css"])).default } function kOe(n) { return n.kind === "artistLatestReleaseLockup" } function DOe(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b; var y, k, S, C, P, M; const R = ot(); ce(n, R, ee => t(30, b = ee)); const F = kn("<Section>"), N = fn(), O = Qn(), B = Tn(), { state: U } = xt(); ce(n, U, ee => t(29, v = ee)); let { section: K } = e, { isFirstSection: W = !1 } = e, { isLastSection: Z = !1 } = e, Q = Di(K.header) ? (M = (P = K.header.item) === null || P === void 0 ? void 0 : P.titleLink) === null || M === void 0 ? void 0 : M.title : W ? b.t("ASE.Web.Music.Fallback.Hero.Shelf.Heading") : null; async function G({ detail: ee }) { var pe; await Qg([{ items: ee }], (pe = v.user) === null || pe === void 0 ? void 0 : pe.subscriberType, N, F, B, O) } const ae = ({ offset: ee, limit: pe }) => N.dispatch(K.fetchIntent({ offset: ee, limit: pe })); return n.$$set = ee => { "section" in ee && t(0, K = ee.section), "isFirstSection" in ee && t(19, W = ee.isFirstSection), "isLastSection" in ee && t(1, Z = ee.isLastSection) }, n.$$.update = () => { n.$$.dirty[0] & 7340033 && t(25, i = (t(21, k = t(20, y = K.presentation) === null || y === void 0 ? void 0 : y.layout) === null || k === void 0 ? void 0 : k.kind) || (t(22, S = K.presentation) === null || S === void 0 ? void 0 : S.layout)), n.$$.dirty[0] & 33554433 && t(2, r = (() => K.presentation.kind === "single" ? "single" : K.presentation.kind === "virtualScroll" ? "virtualScroll" : i)()), n.$$.dirty[0] & 1 && t(24, s = K.itemKind), n.$$.dirty[0] & 1 && t(12, o = K.items), n.$$.dirty[0] & 8388609 && t(11, a = t(23, C = K.metadata) === null || C === void 0 ? void 0 : C.total), n.$$.dirty[0] & 16777216 && t(10, l = bOe(s)), n.$$.dirty[0] & 1 && t(9, u = K.pinnedLeadingItem), n.$$.dirty[0] & 17301508 && t(8, c = W && r !== "virtualScroll" && ["brickLockup", "bubbleLockup", "horizontalLockup", "squareLockup", "topSearchLockup", "trackLockup", "verticalVideoLockup"].includes(s)), n.$$.dirty[0] & 1 && t(7, d = K.id === "top-search-section"), n.$$.dirty[0] & 16777216 && t(6, f = s === "brickLockup"), n.$$.dirty[0] & 16777216 && t(5, g = s === "suggestionsListComponentModel"), n.$$.dirty[0] & 1 && t(4, h = YI(K.header)), n.$$.dirty[0] & 1 && t(3, m = aK(K.header)) }, [K, Z, r, m, h, g, f, d, c, u, l, a, o, R, F, N, U, Q, G, W, y, k, S, C, s, i, ae] } class SOe extends oe { constructor(e) { super(), se(this, e, DOe, _Oe, ye, { section: 0, isFirstSection: 19, isLastSection: 1 }, null, [-1, -1]) } } function COe(n) { let e, t, i = '<div class="pulse-spinner__container svelte-15g9gr3"><div class="pulse-spinner__nib pulse-spinner__nib--1 svelte-15g9gr3"></div> <div class="pulse-spinner__nib pulse-spinner__nib--2 svelte-15g9gr3"></div> <div class="pulse-spinner__nib pulse-spinner__nib--3 svelte-15g9gr3"></div> <div class="pulse-spinner__nib pulse-spinner__nib--4 svelte-15g9gr3"></div> <div class="pulse-spinner__nib pulse-spinner__nib--5 svelte-15g9gr3"></div> <div class="pulse-spinner__nib pulse-spinner__nib--6 svelte-15g9gr3"></div> <div class="pulse-spinner__nib pulse-spinner__nib--7 svelte-15g9gr3"></div> <div class="pulse-spinner__nib pulse-spinner__nib--8 svelte-15g9gr3"></div></div>'; return { c() { e = L("div"), t = L("div"), t.innerHTML = i, this.h() }, l(r) { e = T(r, "DIV", { class: !0, "data-testid": !0, style: !0, "aria-label": !0 }); var s = E(e); t = T(s, "DIV", { class: !0, ["data-svelte-h"]: !0 }), Wr(t) !== "svelte-agxtlm" && (t.innerHTML = i), s.forEach(_), this.h() }, h() { p(t, "class", "pulse-spinner svelte-15g9gr3"), p(e, "class", "loading-spinner svelte-15g9gr3"), p(e, "data-testid", "loading-spinner"), Pt(e, "animation-delay", n[0] + "ms"), p(e, "aria-label", n[3]), J(e, "inset", n[1]), J(e, "loading-spinner--small", n[2]) }, m(r, s) { I(r, e, s), A(e, t) }, p(r, [s]) { s & 1 && Pt(e, "animation-delay", r[0] + "ms"), s & 8 && p(e, "aria-label", r[3]), s & 2 && J(e, "inset", r[1]), s & 4 && J(e, "loading-spinner--small", r[2]) }, i: j, o: j, d(r) { r && _(e) } } } function POe(n, e, t) { let { delay: i = 0 } = e, { inset: r = !1 } = e, { small: s = !1 } = e, { ariaLoading: o = "" } = e; return n.$$set = a => { "delay" in a && t(0, i = a.delay), "inset" in a && t(1, r = a.inset), "small" in a && t(2, s = a.small), "ariaLoading" in a && t(3, o = a.ariaLoading) }, [i, r, s, o] } class mh extends oe { constructor(e) { super(), se(this, e, POe, COe, ye, { delay: 0, inset: 1, small: 2, ariaLoading: 3 }) } } function Q8(n, e, t) { const i = n.slice(); return i[11] = e[t], i[13] = t, i } const AOe = n => ({ item: n & 4 }), j8 = n => ({ item: n[11], index: n[13] }); function G8(n) { let e; const t = n[10].default, i = We(t, n, n[9], j8); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 516) && Je(i, t, r, r[9], e ? Ke(t, r[9], s, AOe) : Ye(r[9]), j8) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function x8(n) { let e, t, i, r, s = n[1] && e9(); return { c() { e = L("div"), s && s.c(), this.h() }, l(o) { e = T(o, "DIV", { class: !0, "data-testid": !0, "aria-busy": !0, "aria-live": !0 }); var a = E(e); s && s.l(a), a.forEach(_), this.h() }, h() { p(e, "class", "infinite-scroll-spinner svelte-152p1dr"), p(e, "data-testid", "infinite-scroll-spinner"), p(e, "aria-busy", n[1]), p(e, "aria-live", "polite") }, m(o, a) { I(o, e, a), s && s.m(e, null), t = !0, i || (r = Ut(rh.call(null, e, { callback: n[3] })), i = !0) }, p(o, a) { o[1] ? s ? a & 2 && w(s, 1) : (s = e9(), s.c(), w(s, 1), s.m(e, null)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()), (!t || a & 2) && p(e, "aria-busy", o[1]) }, i(o) { t || (w(s), t = !0) }, o(o) { D(s), t = !1 }, d(o) { o && _(e), s && s.d(), i = !1, r() } } } function e9(n) { let e, t; return e = new mh({ props: { delay: 200, inset: !0 } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function EOe(n) { let e, t, i, r = ut(n[2]), s = []; for (let l = 0; l < r.length; l += 1)s[l] = G8(Q8(n, r, l)); const o = l => D(s[l], 1, 1, () => { s[l] = null }); let a = n[0] && x8(n); return { c() { for (let l = 0; l < s.length; l += 1)s[l].c(); e = Y(), a && a.c(), t = re() }, l(l) { for (let u = 0; u < s.length; u += 1)s[u].l(l); e = X(l), a && a.l(l), t = re() }, m(l, u) { for (let c = 0; c < s.length; c += 1)s[c] && s[c].m(l, u); I(l, e, u), a && a.m(l, u), I(l, t, u), i = !0 }, p(l, [u]) { if (u & 516) { r = ut(l[2]); let c; for (c = 0; c < r.length; c += 1) { const d = Q8(l, r, c); s[c] ? (s[c].p(d, u), w(s[c], 1)) : (s[c] = G8(d), s[c].c(), w(s[c], 1), s[c].m(e.parentNode, e)) } for (te(), c = r.length; c < s.length; c += 1)o(c); ne() } l[0] ? a ? (a.p(l, u), u & 1 && w(a, 1)) : (a = x8(l), a.c(), w(a, 1), a.m(t.parentNode, t)) : a && (te(), D(a, 1, 1, () => { a = null }), ne()) }, i(l) { if (!i) { for (let u = 0; u < r.length; u += 1)w(s[u]); w(a), i = !0 } }, o(l) { s = s.filter(Boolean); for (let u = 0; u < s.length; u += 1)D(s[u]); D(a), i = !1 }, d(l) { l && (_(e), _(t)), ln(s, l), a && a.d(l) } } } function IOe(n, e, t) { let i, r, { $$slots: s = {}, $$scope: o } = e, { items: a = [] } = e, { hasMore: l = !0 } = e, { isLoading: u = !1 } = e, { loadMore: c } = e, d = [], f = !1; async function g(h) { if (h && !r) { t(8, f = !0); try { let m = await c(); m && t(7, d = [...d, ...m]) } finally { t(8, f = !1) } } } return n.$$set = h => { "items" in h && t(4, a = h.items), "hasMore" in h && t(0, l = h.hasMore), "isLoading" in h && t(5, u = h.isLoading), "loadMore" in h && t(6, c = h.loadMore), "$$scope" in h && t(9, o = h.$$scope) }, n.$$.update = () => { n.$$.dirty & 144 && t(2, i = [...a, ...d]), n.$$.dirty & 288 && t(1, r = u || f) }, [l, r, i, g, a, u, c, d, f, o, s] } class MOe extends oe { constructor(e) { super(), se(this, e, IOe, EOe, ye, { items: 4, hasMore: 0, isLoading: 5, loadMore: 6 }) } } function LOe(n) { let e, t, i, r = [{ width: "14" }, { height: "14" }, { viewBox: "0 0 14 14" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], s = {}; for (let o = 0; o < r.length; o += 1)s = fe(s, r[o]); return { c() { e = ve("svg"), t = ve("circle"), i = ve("path"), this.h() }, l(o) { e = be(o, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var a = E(e); t = be(a, "circle", { fill: !0, cx: !0, cy: !0, r: !0 }), E(t).forEach(_), i = be(a, "path", { d: !0, fill: !0 }), E(i).forEach(_), a.forEach(_), this.h() }, h() { p(t, "fill", "rgba(255,255,255,0.2)"), p(t, "cx", "7"), p(t, "cy", "7"), p(t, "r", "7"), p(i, "d", "M9.834 9.834a.571.571 0 0 0 .007-.798L7.807 6.998l2.034-2.033a.571.571 0 0 0-.007-.799.571.571 0 0 0-.799-.007L7.002 6.193 4.964 4.155a.587.587 0 0 0-.802.008.59.59 0 0 0-.007.802l2.037 2.033-2.037 2.038a.587.587 0 0 0 .007.802c.22.22.596.213.802.007l2.038-2.037L9.035 9.84a.568.568 0 0 0 .799-.007z"), p(i, "fill", "#FFF"), Le(e, s) }, m(o, a) { I(o, e, a), A(e, t), A(e, i) }, p(o, [a]) { Le(e, s = at(r, [{ width: "14" }, { height: "14" }, { viewBox: "0 0 14 14" }, { xmlns: "http://www.w3.org/2000/svg" }, a & 1 && o[0]])) }, i: j, o: j, d(o) { o && _(e) } } } function TOe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let ROe = class extends oe { constructor(e) { super(), se(this, e, TOe, LOe, ht, {}) } }; function FOe(n) { let e, t, i, r, s; return t = new jg({ props: { iconState: n[1], ariaLabel: n[0], iconSet: "radial-progress" } }), t.$on("click", n[6]), { c() { e = L("div"), i = L("div"), V(t.$$.fragment), this.h() }, l(o) { e = T(o, "DIV", { class: !0 }); var a = E(e); i = T(a, "DIV", { style: !0 }); var l = E(i); q(t.$$.fragment, l), a.forEach(_), this.h() }, h() { Pt(i, "display", "contents"), Pt(i, "--progress-stroke-dashoffset", r = `${n[2]}px`), p(e, "class", "radial-progress-wrapper svelte-14hhbn2") }, m(o, a) { I(o, e, a), A(e, i), H(t, i, null), s = !0 }, p(o, [a]) { a & 4 && r !== (r = `${o[2]}px`) && Pt(i, "--progress-stroke-dashoffset", r); const l = {}; a & 2 && (l.iconState = o[1]), a & 1 && (l.ariaLabel = o[0]), t.$set(l) }, i(o) { s || (w(t.$$.fragment, o), s = !0) }, o(o) { D(t.$$.fragment, o), s = !1 }, d(o) { o && _(e), $(t) } } } function OOe(n, e, t) { return Math.max(n, Math.min(e, t)) } function NOe(n, e, t) { let i, r, s, o, a, l, u, c, d, f; const { queue: g } = zn(); ce(n, g, F => t(19, f = F)); const { currentPlaybackTime: h } = g; ce(n, h, F => t(18, c = F)); let { playAction: m } = e, { pauseAction: v } = e, { resumeAction: b } = e, { naturalPauseAction: y } = e, { ariaLabel: k = "" } = e, { startTime: S } = e, { endTime: C } = e; const P = sn(), { state: M } = xt(); ce(n, M, F => t(20, d = F)); const R = () => { var F, N; if (d.user === null || ((F = d.user) === null || F === void 0 ? void 0 : F.subscriberType) === Hi.NotActive) { const { identifiers: O, kind: B } = (N = m.items[0]) === null || N === void 0 ? void 0 : N.contentDescriptor; P(vr({ type: ir.Open, activePath: fi.authenticate, modalParams: { contentId: O == null ? void 0 : O.storeAdamID, contentType: B } })) } else r ? P(v) : s && c <= C ? P(b) : P(m) }; return n.$$set = F => { "playAction" in F && t(7, m = F.playAction), "pauseAction" in F && t(8, v = F.pauseAction), "resumeAction" in F && t(9, b = F.resumeAction), "naturalPauseAction" in F && t(10, y = F.naturalPauseAction), "ariaLabel" in F && t(0, k = F.ariaLabel), "startTime" in F && t(11, S = F.startTime), "endTime" in F && t(12, C = F.endTime) }, n.$$.update = () => { n.$$.dirty & 524288 && t(15, i = f.derivedStates.isLoading), n.$$.dirty & 524288 && t(14, r = f.derivedStates.isPlaying), n.$$.dirty & 524288 && t(13, s = f.derivedStates.isPaused), n.$$.dirty & 6144 && t(17, o = C - S), n.$$.dirty & 395264 && t(16, a = Xa - (c - S) / o * Xa), n.$$.dirty & 65536 && t(2, l = OOe(0, Xa, a)), n.$$.dirty & 57344 && t(1, u = (() => i ? ui.BUFFER : r ? ui.PAUSE : ui.PLAY)()), n.$$.dirty & 269312 && S && c > C && P(y) }, [k, u, l, g, h, M, R, m, v, b, y, S, C, s, r, i, a, o, c, f] } class BOe extends oe { constructor(e) { super(), se(this, e, NOe, FOe, ye, { playAction: 7, pauseAction: 8, resumeAction: 9, naturalPauseAction: 10, ariaLabel: 0, startTime: 11, endTime: 12 }) } } function t9(n, e, t) { const i = n.slice(); return i[23] = e[t], i } function n9(n) { let e, t = n[23] + "", i; return { c() { e = L("p"), i = le(t), this.h() }, l(r) { e = T(r, "P", { class: !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "lyrics-sharing__line svelte-mnq1tk") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 4 && t !== (t = r[23] + "") && me(i, t) }, d(r) { r && _(e) } } } function UOe(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F, N; t = new U_({ props: { artworkURL: n[3] } }), s = new ROe({ props: { "data-testid": "lyrics-sharing__close-button-svg" } }); let O = ut(n[2]), B = []; for (let U = 0; U < O.length; U += 1)B[U] = n9(t9(n, O, U)); return M = new BOe({ props: { naturalPauseAction: n[14], playAction: n[7], pauseAction: n[8], resumeAction: n[9], startTime: n[10], endTime: n[11], ariaLabel: `${n[4].t("ASE.Web.Music.Play")} ${n[12]}` } }), { c() { e = L("article"), V(t.$$.fragment), i = Y(), r = L("button"), V(s.$$.fragment), a = Y(), l = L("div"), u = L("div"); for (let U = 0; U < B.length; U += 1)B[U].c(); c = Y(), d = L("div"), f = L("p"), g = le(n[1]), h = Y(), m = L("div"), v = L("div"), b = L("div"), y = le(n[12]), k = Y(), S = L("div"), C = le(n[13]), P = Y(), V(M.$$.fragment), this.h() }, l(U) { e = T(U, "ARTICLE", { class: !0, "data-testid": !0 }); var K = E(e); q(t.$$.fragment, K), i = X(K), r = T(K, "BUTTON", { "data-testid": !0, class: !0, type: !0, "aria-label": !0 }); var W = E(r); q(s.$$.fragment, W), W.forEach(_), a = X(K), l = T(K, "DIV", { class: !0, "data-testid": !0 }); var Z = E(l); u = T(Z, "DIV", { class: !0 }); var Q = E(u); for (let Te = 0; Te < B.length; Te += 1)B[Te].l(Q); Q.forEach(_), c = X(Z), d = T(Z, "DIV", { class: !0, "data-testid": !0 }); var G = E(d); f = T(G, "P", { class: !0 }); var ae = E(f); g = ue(ae, n[1]), ae.forEach(_), G.forEach(_), Z.forEach(_), h = X(K), m = T(K, "DIV", { class: !0, "data-test-lyrics-chin": !0 }); var ee = E(m); v = T(ee, "DIV", { class: !0, "data-testid": !0 }); var pe = E(v); b = T(pe, "DIV", { class: !0 }); var ke = E(b); y = ue(ke, n[12]), ke.forEach(_), k = X(pe), S = T(pe, "DIV", { class: !0 }); var we = E(S); C = ue(we, n[13]), we.forEach(_), pe.forEach(_), P = X(ee), q(M.$$.fragment, ee), ee.forEach(_), K.forEach(_), this.h() }, h() { p(r, "data-testid", "lyrics-sharing-modal-close-button"), p(r, "class", "lyrics-sharing__close-button svelte-mnq1tk"), p(r, "type", "button"), p(r, "aria-label", o = n[4].t("ASE.Web.Music.Shared.AX.Close")), p(u, "class", "svelte-mnq1tk"), J(u, "lyrics-sharing__small", n[2].length > 3), J(u, "lyrics-sharing__large", n[2].length <= 3), p(f, "class", "svelte-mnq1tk"), p(d, "class", "lyrics-sharing__timestamp svelte-mnq1tk"), p(d, "data-testid", "lyrics-sharing__timestamp"), p(l, "class", "lyrics-sharing__container svelte-mnq1tk"), p(l, "data-testid", "lyrics-sharing__container"), p(b, "class", "lyrics-sharing__track-name typography-title-3-bold svelte-mnq1tk"), p(S, "class", "lyrics-sharing__artist-name typography-title-3 svelte-mnq1tk"), p(v, "class", "lyrics-sharing__chin-text svelte-mnq1tk"), p(v, "data-testid", "lyrics-sharing__chin-text"), p(m, "class", "lyrics-sharing__chin svelte-mnq1tk"), p(m, "data-test-lyrics-chin", ""), p(e, "class", "lyrics-sharing__modal svelte-mnq1tk"), p(e, "data-testid", "lyrics-sharing__modal"), J(e, "is-not-focused", !n[22]) }, m(U, K) { I(U, e, K), H(t, e, null), A(e, i), A(e, r), H(s, r, null), A(e, a), A(e, l), A(l, u); for (let W = 0; W < B.length; W += 1)B[W] && B[W].m(u, null); A(l, c), A(l, d), A(d, f), A(f, g), A(e, h), A(e, m), A(m, v), A(v, b), A(b, y), A(v, k), A(v, S), A(S, C), A(m, P), H(M, m, null), R = !0, F || (N = [Me(r, "click", function () { Ft(n[0].close) && n[0].close.apply(this, arguments) }), Ut(Ca.call(null, r))], F = !0) }, p(U, K) { n = U; const W = {}; if (K & 8 && (W.artworkURL = n[3]), t.$set(W), (!R || K & 16 && o !== (o = n[4].t("ASE.Web.Music.Shared.AX.Close"))) && p(r, "aria-label", o), K & 4) { O = ut(n[2]); let Q; for (Q = 0; Q < O.length; Q += 1) { const G = t9(n, O, Q); B[Q] ? B[Q].p(G, K) : (B[Q] = n9(G), B[Q].c(), B[Q].m(u, null)) } for (; Q < B.length; Q += 1)B[Q].d(1); B.length = O.length } (!R || K & 4) && J(u, "lyrics-sharing__small", n[2].length > 3), (!R || K & 4) && J(u, "lyrics-sharing__large", n[2].length <= 3), (!R || K & 2) && me(g, n[1]); const Z = {}; K & 16 && (Z.ariaLabel = `${n[4].t("ASE.Web.Music.Play")} ${n[12]}`), M.$set(Z), (!R || K & 4194304) && J(e, "is-not-focused", !n[22]) }, i(U) { R || (w(t.$$.fragment, U), w(s.$$.fragment, U), w(M.$$.fragment, U), R = !0) }, o(U) { D(t.$$.fragment, U), D(s.$$.fragment, U), D(M.$$.fragment, U), R = !1 }, d(U) { U && _(e), $(t), $(s), ln(B, U), $(M), F = !1, Ot(N) } } } function HOe(n) { let e, t; return e = new uh({ props: { $$slots: { default: [UOe, ({ isWindowInFocus: i }) => ({ 22: i }), ({ isWindowInFocus: i }) => i ? 4194304 : 0] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 71303199 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function $Oe(n) { let e, t, i = { modalTriggerElement: VOe, $$slots: { default: [HOe] }, $$scope: { ctx: n } }; return e = new Es({ props: i }), n[17](e), { c() { V(e.$$.fragment) }, l(r) { q(e.$$.fragment, r) }, m(r, s) { H(e, r, s), t = !0 }, p(r, [s]) { const o = {}; s & 67108895 && (o.$$scope = { dirty: s, ctx: r }), e.$set(o) }, i(r) { t || (w(e.$$.fragment, r), t = !0) }, o(r) { D(e.$$.fragment, r), t = !1 }, d(r) { n[17](null), $(e, r) } } } let VOe = null; function zOe(n, e, t) {
    let i, r, s, o, a; const l = ot(); ce(n, l, F => t(4, a = F)); const u = Tn(), { state: c } = xt(); ce(n, c, F => t(16, o = F)); let d, { item: f } = e; const { playAction: g, pauseAction: h, resumeAction: m, startTime: v, endTime: b, artwork: y, duration: k, name: S, artistName: C, snippet: P, naturalPauseAction: M } = f; Yt(() => { d.showModal() }); function R(F) { wt[F ? "unshift" : "push"](() => { d = F, t(0, d) }) } return n.$$set = F => { "item" in F && t(15, f = F.item) }, n.$$.update = () => { n.$$.dirty & 65537 && o.user && d && d.showModal() }, t(3, i = (() => ho(y == null ? void 0 : y.dictionary.url, { width: 60, height: 60, crop: "bb", quality: 50, fileType: "jpg" }, {}))()), t(2, r = (() => {
        const F = P; return F && F.split(`
`)
    })()), t(1, s = O1(k, u.language)), [d, s, r, i, a, l, c, g, h, m, v, b, S, C, M, f, o, R]
} class qOe extends oe { constructor(e) { super(), se(this, e, zOe, $Oe, ye, { item: 15 }) } } function Fd(n) { return "libraryType" in n } function WOe(n) { return n.libraryType === "album" } function i9(n) { return n.libraryType === "artist" } function KOe(n) { return "renderListenNowUpsellPage" in n } function JOe(n) { return n.sections.some(e => e.itemKind === "redCarpetTooltip") } function r9(n, e, t) { const i = n.slice(); return i[14] = e[t], i } function s9(n) { let e, t; return e = new jB({ props: { textAlignment: n[0], headerType: n[1], displaySeparator: n[2], $$slots: { action: [XOe], default: [YOe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.textAlignment = i[0]), r & 2 && (s.headerType = i[1]), r & 4 && (s.displaySeparator = i[2]), r & 131096 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function YOe(n) { let e; return { c() { e = le(n[4]) }, l(t) { e = ue(t, n[4]) }, m(t, i) { I(t, e, i) }, p(t, i) { i & 16 && me(e, t[4]) }, d(t) { t && _(e) } } } function o9(n) { let e, t; return e = new KB({ props: { button: n[14] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 8 && (s.button = i[14]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function XOe(n) { let e, t, i = ut(n[3]), r = []; for (let o = 0; o < i.length; o += 1)r[o] = o9(r9(n, i, o)); const s = o => D(r[o], 1, 1, () => { r[o] = null }); return { c() { for (let o = 0; o < r.length; o += 1)r[o].c(); e = re() }, l(o) { for (let a = 0; a < r.length; a += 1)r[a].l(o); e = re() }, m(o, a) { for (let l = 0; l < r.length; l += 1)r[l] && r[l].m(o, a); I(o, e, a), t = !0 }, p(o, a) { if (a & 8) { i = ut(o[3]); let l; for (l = 0; l < i.length; l += 1) { const u = r9(o, i, l); r[l] ? (r[l].p(u, a), w(r[l], 1)) : (r[l] = o9(u), r[l].c(), w(r[l], 1), r[l].m(e.parentNode, e)) } for (te(), l = i.length; l < r.length; l += 1)s(l); ne() } }, i(o) { if (!t) { for (let a = 0; a < i.length; a += 1)w(r[a]); t = !0 } }, o(o) { r = r.filter(Boolean); for (let a = 0; a < r.length; a += 1)D(r[a]); t = !1 }, d(o) { o && _(e), ln(r, o) } } } function ZOe(n) { let e, t, i = n[4] && s9(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[4] ? i ? (i.p(r, s), s & 16 && w(i, 1)) : (i = s9(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function QOe(n, e, t) { let i, r, s, o, a, l, u; var c, d, f, g, h; let { page: m } = e, v = Fc(); return ce(n, v, b => t(13, u = b)), n.$$set = b => { "page" in b && t(6, m = b.page) }, n.$$.update = () => { n.$$.dirty & 192 && t(4, i = t(7, c = m.header) === null || c === void 0 ? void 0 : c.title), n.$$.dirty & 832 && t(3, r = t(9, f = t(8, d = m.header) === null || d === void 0 ? void 0 : d.trailingAccessoryButtons) !== null && f !== void 0 ? f : []), n.$$.dirty & 8256 && t(12, s = JOe(m) && u.showBubbleTip), n.$$.dirty & 7232 && t(2, o = Fd(m) && s ? !1 : t(11, h = t(10, g = m.header) === null || g === void 0 ? void 0 : g.showSeparator) !== null && h !== void 0 ? h : !1), n.$$.dirty & 64 && t(1, a = Fd(m) ? "library" : "A"), n.$$.dirty & 64 && t(0, l = Fd(m) ? "centered" : "leading") }, [l, a, o, r, i, v, m, c, d, f, g, h, s, u] } class jOe extends oe { constructor(e) { super(), se(this, e, QOe, ZOe, ye, { page: 6 }) } } function a9(n, e, t) { const i = n.slice(); return i[8] = e[t], i[10] = t, i } function l9(n) { let e, t; return e = new jOe({ props: { page: n[0] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.page = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function u9(n) { let e, t, i; return e = new qOe({ props: { item: n[2] } }), { c() { t = L("div"), V(e.$$.fragment), this.h() }, l(r) { t = T(r, "DIV", { style: !0 }); var s = E(t); q(e.$$.fragment, s), this.h() }, h() { Pt(t, "display", "contents"), Pt(t, "--modalOverflow", "visible") }, m(r, s) { I(r, t, s), H(e, t, null), i = !0 }, p(r, s) { const o = {}; s & 4 && (o.item = r[2]), e.$set(o) }, i(r) { i || (w(e.$$.fragment, r), i = !0) }, o(r) { D(e.$$.fragment, r), i = !1 }, d(r) { r && e && _(t), $(e, r) } } } function c9(n) { let e, t; return e = new SOe({ props: { section: n[8], isFirstSection: n[10] === 0, isLastSection: n[10] === n[4].length - 1 } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 16 && (s.section = i[8]), r & 16 && (s.isLastSection = i[10] === i[4].length - 1), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function GOe(n) { let e, t, i, r, s, o = n[0].header && l9(n), a = n[2] && u9(n), l = ut(n[4]), u = []; for (let d = 0; d < l.length; d += 1)u[d] = c9(a9(n, l, d)); const c = d => D(u[d], 1, 1, () => { u[d] = null }); return r = new MOe({ props: { items: [], hasMore: n[1], isLoading: n[3], loadMore: n[5] } }), { c() { o && o.c(), e = Y(), a && a.c(), t = Y(); for (let d = 0; d < u.length; d += 1)u[d].c(); i = Y(), V(r.$$.fragment) }, l(d) { o && o.l(d), e = X(d), a && a.l(d), t = X(d); for (let f = 0; f < u.length; f += 1)u[f].l(d); i = X(d), q(r.$$.fragment, d) }, m(d, f) { o && o.m(d, f), I(d, e, f), a && a.m(d, f), I(d, t, f); for (let g = 0; g < u.length; g += 1)u[g] && u[g].m(d, f); I(d, i, f), H(r, d, f), s = !0 }, p(d, [f]) { if (d[0].header ? o ? (o.p(d, f), f & 1 && w(o, 1)) : (o = l9(d), o.c(), w(o, 1), o.m(e.parentNode, e)) : o && (te(), D(o, 1, 1, () => { o = null }), ne()), d[2] ? a ? (a.p(d, f), f & 4 && w(a, 1)) : (a = u9(d), a.c(), w(a, 1), a.m(t.parentNode, t)) : a && (te(), D(a, 1, 1, () => { a = null }), ne()), f & 16) { l = ut(d[4]); let h; for (h = 0; h < l.length; h += 1) { const m = a9(d, l, h); u[h] ? (u[h].p(m, f), w(u[h], 1)) : (u[h] = c9(m), u[h].c(), w(u[h], 1), u[h].m(i.parentNode, i)) } for (te(), h = l.length; h < u.length; h += 1)c(h); ne() } const g = {}; f & 2 && (g.hasMore = d[1]), f & 8 && (g.isLoading = d[3]), r.$set(g) }, i(d) { if (!s) { w(o), w(a); for (let f = 0; f < l.length; f += 1)w(u[f]); w(r.$$.fragment, d), s = !0 } }, o(d) { D(o), D(a), u = u.filter(Boolean); for (let f = 0; f < u.length; f += 1)D(u[f]); D(r.$$.fragment, d), s = !1 }, d(d) { d && (_(e), _(t), _(i)), o && o.d(d), a && a.d(d), ln(u, d), $(r, d) } } } function xOe(n, e, t) { let i, r, s, o, a; ce(n, mne, d => t(6, a = d)); let { page: l } = e; const u = sn(); async function c() { r && u(tr({ kind: "nextPage" })) } return n.$$set = d => { "page" in d && t(0, l = d.page) }, n.$$.update = () => { n.$$.dirty & 1 && t(4, i = l.sections.filter(({ items: d }) => Array.isArray(d) && d.length !== 0)), n.$$.dirty & 1 && t(1, r = !!l.nextIntent), n.$$.dirty & 64 && t(3, s = a.isLoadingNextPage), n.$$.dirty & 1 && t(2, o = l.lyricsModal) }, [l, r, o, s, i, c, a] } class Uc extends oe { constructor(e) { super(), se(this, e, xOe, GOe, ye, { page: 0 }) } } function d9(n) { let e, t; return e = new yi({ props: { buttonStyle: "buttonB", $$slots: { default: [eNe] }, $$scope: { ctx: n } } }), e.$on("buttonClick", n[4]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 129 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function eNe(n) { let e = n[0]("FUSE.Error.TryAgain") + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 1 && e !== (e = i[0]("FUSE.Error.TryAgain") + "") && me(t, e) }, d(i) { i && _(t) } } } function tNe(n) { let e, t, i = n[0](n[3]) + "", r, s, o = n[1](n[2]), a, l = o && d9(n); return { c() { e = L("div"), t = L("h1"), r = le(i), s = Y(), l && l.c(), this.h() }, l(u) { e = T(u, "DIV", { role: !0, class: !0 }); var c = E(e); t = T(c, "H1", { class: !0, "data-testid": !0 }); var d = E(t); r = ue(d, i), d.forEach(_), s = X(c), l && l.l(c), c.forEach(_), this.h() }, h() { p(t, "class", "page-error__title svelte-73dmah"), p(t, "data-testid", "page-error-title"), p(e, "role", "status"), p(e, "class", "page-error svelte-73dmah") }, m(u, c) { I(u, e, c), A(e, t), A(t, r), A(e, s), l && l.m(e, null), a = !0 }, p(u, [c]) { (!a || c & 9) && i !== (i = u[0](u[3]) + "") && me(r, i), c & 6 && (o = u[1](u[2])), o ? l ? (l.p(u, c), c & 6 && w(l, 1)) : (l = d9(u), l.c(), w(l, 1), l.m(e, null)) : l && (te(), D(l, 1, 1, () => { l = null }), ne()) }, i(u) { a || (w(l), a = !0) }, o(u) { D(l), a = !1 }, d(u) { u && _(e), l && l.d() } } } function nNe(n, e, t) { let i; const r = It(); let { translateFn: s } = e, { isRetryError: o = () => !1 } = e, { error: a = null } = e, { errorLocKey: l = null } = e; function u() { r("retryAction") } return n.$$set = c => { "translateFn" in c && t(0, s = c.translateFn), "isRetryError" in c && t(1, o = c.isRetryError), "error" in c && t(2, a = c.error), "errorLocKey" in c && t(5, l = c.errorLocKey) }, n.$$.update = () => { var c; n.$$.dirty & 36 && t(3, i = l || (((c = a == null ? void 0 : a.userInfo) == null ? void 0 : c.status) === 404 || (a == null ? void 0 : a.message) === "404" || (a == null ? void 0 : a.statusCode) === 404 || (a == null ? void 0 : a.statusCode) === 204 ? "AMP.Shared.Error.ItemNotFound" : "FUSE.Error.AnErrorOccurred")) }, [s, o, a, i, u, l] } let iNe = class extends oe { constructor(e) { super(), se(this, e, nNe, tNe, ye, { translateFn: 0, isRetryError: 1, error: 2, errorLocKey: 5 }) } }; function rNe() { const { subscribe: n, set: e, update: t } = Tt(0); return { subscribe: n, increment: () => t(i => i + 1), reset: () => e(0) } } const Zm = rNe(); function sNe(n) { let e, t; return e = new iNe({ props: { translateFn: n[2].t, error: n[0], errorLocKey: n[1], isRetryError: aNe } }), e.$on("retryAction", n[4]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 4 && (s.translateFn = i[2].t), r & 1 && (s.error = i[0]), r & 2 && (s.errorLocKey = i[1]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } const oNe = 2; function aNe(n) { return !!n && "retryFlowAction" in n } function lNe(n, e, t) { let i; const r = ot(); ce(n, r, d => t(2, i = d)); const s = Tn(), o = sn(); let a = !1, { error: l = null } = e, { errorLocKey: u = null } = e; mn(() => { a || Zm.reset() }); function c() { if ($t(Zm) < oNe) a = !0, Zm.increment(), o(l.retryFlowAction); else if (!l.isFirstPage) window.history.back(); else { const d = gr(ur(s), qs.type, sa); o(d) } } return n.$$set = d => { "error" in d && t(0, l = d.error), "errorLocKey" in d && t(1, u = d.errorLocKey) }, [l, u, i, r, c] } class uNe extends oe { constructor(e) { super(), se(this, e, lNe, sNe, ye, { error: 0, errorLocKey: 1 }) } } function f9(n) { let e, t, i, r; return { c() { e = L("button"), t = le(n[1]), this.h() }, l(s) { e = T(s, "BUTTON", { "data-testid": !0, class: !0 }); var o = E(e); t = ue(o, n[1]), o.forEach(_), this.h() }, h() { p(e, "data-testid", "album-toggle-button"), p(e, "class", "toggle-button link svelte-yu8vd2") }, m(s, o) { I(s, e, o), A(e, t), i || (r = Me(e, "click", n[4]), i = !0) }, p(s, o) { o & 2 && me(t, s[1]) }, d(s) { s && _(e), i = !1, r() } } } function cNe(n) { let e, t, i, r; t = new Uc({ props: { page: n[0] } }); let s = n[2] && f9(n); return { c() { e = L("div"), V(t.$$.fragment), i = Y(), s && s.c(), this.h() }, l(o) { e = T(o, "DIV", { class: !0, "data-testid": !0 }); var a = E(e); q(t.$$.fragment, a), i = X(a), s && s.l(a), a.forEach(_), this.h() }, h() { p(e, "class", "album-container svelte-yu8vd2"), p(e, "data-testid", "library-album-component"), J(e, "album-container--has-tracklist-toggle", n[2]) }, m(o, a) { I(o, e, a), H(t, e, null), A(e, i), s && s.m(e, null), r = !0 }, p(o, [a]) { const l = {}; a & 1 && (l.page = o[0]), t.$set(l), o[2] ? s ? s.p(o, a) : (s = f9(o), s.c(), s.m(e, null)) : s && (s.d(1), s = null), (!r || a & 4) && J(e, "album-container--has-tracklist-toggle", o[2]) }, i(o) { r || (w(t.$$.fragment, o), r = !0) }, o(o) { D(t.$$.fragment, o), r = !1 }, d(o) { o && _(e), $(t), s && s.d() } } } function dNe(n, e, t) { let i, r, s, o; var a; const l = ot(); ce(n, l, m => t(9, o = m)); let { page: u } = e; var c; (function (m) { m.LIBRARY = "library", m.CATALOG = "catalog" })(c || (c = {})); const d = { [c.LIBRARY]: o.t("ASE.Web.Music.Library.Album.ShowCompleteAlbum"), [c.CATALOG]: o.t("ASE.Web.Music.Library.Album.HideSongsNotInLibrary") }; let f = c.LIBRARY, g = (a = u.catalogPage) !== null && a !== void 0 ? a : null; function h() { t(7, f = f === c.LIBRARY ? c.CATALOG : c.LIBRARY) } return n.$$set = m => { "page" in m && t(5, u = m.page) }, n.$$.update = () => { n.$$.dirty & 32 && t(2, i = u.showTrackListToggle), n.$$.dirty & 128 && t(1, r = d[f]), n.$$.dirty & 224 && t(0, s = f === c.CATALOG ? g : u) }, [s, r, i, l, h, u, c, f] } class fNe extends oe { constructor(e) { super(), se(this, e, dNe, cNe, ye, { page: 5 }) } } function g9(n) { let e, t; return e = new zB({ props: { class: "chevron", "aria-hidden": "true" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function gNe(n) { let e, t, i, r, s = n[8] && g9(); return { c() { e = le(n[9]), t = Y(), s && s.c(), i = re() }, l(o) { e = ue(o, n[9]), t = X(o), s && s.l(o), i = re() }, m(o, a) { I(o, e, a), I(o, t, a), s && s.m(o, a), I(o, i, a), r = !0 }, p(o, a) { (!r || a & 512) && me(e, o[9]), o[8] ? s ? a & 256 && w(s, 1) : (s = g9(), s.c(), w(s, 1), s.m(i.parentNode, i)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()) }, i(o) { r || (w(s), r = !0) }, o(o) { D(s), r = !1 }, d(o) { o && (_(e), _(t), _(i)), s && s.d(o) } } } function h9(n) { let e, t, i; return t = new nv({ props: { classicalAction: n[2], ariaLabel: n[10].t("ASE.Web.Music.Artist.LaunchClassical.AriaLabel") } }), { c() { e = L("span"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "SPAN", { class: !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "artist-detail-header__classical-button svelte-cjzn54") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 4 && (o.classicalAction = r[2]), s & 1024 && (o.ariaLabel = r[10].t("ASE.Web.Music.Artist.LaunchClassical.AriaLabel")), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function m9(n) { let e, t; return e = new Ki({ props: { playAction: n[6], isStandAlone: !0, ariaLabel: n[10].t("ASE.Web.Music.Play") } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 64 && (s.playAction = i[6]), r & 1024 && (s.ariaLabel = i[10].t("ASE.Web.Music.Play")), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function p9(n) { let e, t; return e = new zl({ props: { action: n[5], ariaLabel: n[10].t("ASE.Web.Music.Shuffle"), styleOverride: { isSecondary: !0 } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 32 && (s.action = i[5]), r & 1024 && (s.ariaLabel = i[10].t("ASE.Web.Music.Shuffle")), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function _9(n) { let e, t; return e = new Ol({ props: { isFavorited: n[1] } }), e.$on("toggle", n[13]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.isFavorited = i[1]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function v9(n) { let e, t; return e = new rv({ props: { artistContentDescriptor: n[0], shareUrl: n[7] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.artistContentDescriptor = i[0]), r & 128 && (s.shareUrl = i[7]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function hNe(n) { let e, t, i, r, s, o, a, l, u, c; i = new en({ props: { action: n[8], $$slots: { default: [gNe] }, $$scope: { ctx: n } } }); let d = n[2] && h9(n), f = n[6] && m9(n), g = n[5] && p9(n), h = n[3] && _9(n), m = n[0] && v9(n); return { c() { e = L("div"), t = L("h1"), V(i.$$.fragment), r = Y(), s = L("div"), d && d.c(), o = Y(), f && f.c(), a = Y(), g && g.c(), l = Y(), h && h.c(), u = Y(), m && m.c(), this.h() }, l(v) { e = T(v, "DIV", { class: !0 }); var b = E(e); t = T(b, "H1", { "data-testid": !0, class: !0 }); var y = E(t); q(i.$$.fragment, y), y.forEach(_), r = X(b), s = T(b, "DIV", { class: !0 }); var k = E(s); d && d.l(k), o = X(k), f && f.l(k), a = X(k), g && g.l(k), l = X(k), h && h.l(k), u = X(k), m && m.l(k), k.forEach(_), b.forEach(_), this.h() }, h() { p(t, "data-testid", "artist-detail-name"), p(t, "class", "svelte-cjzn54"), p(s, "class", "artist-detail-header__buttons svelte-cjzn54"), p(e, "class", "artist-detail-header svelte-cjzn54") }, m(v, b) { I(v, e, b), A(e, t), H(i, t, null), A(e, r), A(e, s), d && d.m(s, null), A(s, o), f && f.m(s, null), A(s, a), g && g.m(s, null), A(s, l), h && h.m(s, null), A(s, u), m && m.m(s, null), c = !0 }, p(v, [b]) { const y = {}; b & 256 && (y.action = v[8]), b & 33555200 && (y.$$scope = { dirty: b, ctx: v }), i.$set(y), v[2] ? d ? (d.p(v, b), b & 4 && w(d, 1)) : (d = h9(v), d.c(), w(d, 1), d.m(s, o)) : d && (te(), D(d, 1, 1, () => { d = null }), ne()), v[6] ? f ? (f.p(v, b), b & 64 && w(f, 1)) : (f = m9(v), f.c(), w(f, 1), f.m(s, a)) : f && (te(), D(f, 1, 1, () => { f = null }), ne()), v[5] ? g ? (g.p(v, b), b & 32 && w(g, 1)) : (g = p9(v), g.c(), w(g, 1), g.m(s, l)) : g && (te(), D(g, 1, 1, () => { g = null }), ne()), v[3] ? h ? (h.p(v, b), b & 8 && w(h, 1)) : (h = _9(v), h.c(), w(h, 1), h.m(s, u)) : h && (te(), D(h, 1, 1, () => { h = null }), ne()), v[0] ? m ? (m.p(v, b), b & 1 && w(m, 1)) : (m = v9(v), m.c(), w(m, 1), m.m(s, null)) : m && (te(), D(m, 1, 1, () => { m = null }), ne()) }, i(v) { c || (w(i.$$.fragment, v), w(d), w(f), w(g), w(h), w(m), c = !0) }, o(v) { D(i.$$.fragment, v), D(d), D(f), D(g), D(h), D(m), c = !1 }, d(v) { v && _(e), $(i), d && d.d(), f && f.d(), g && g.d(), h && h.d(), m && m.d() } } } function mNe(n, e, t) { let i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y = j, k = () => (y(), y = yn(d, K => t(21, b = K)), d), S; n.$$.on_destroy.push(() => y()); var C, P; let { artist: M } = e; const R = ot(); ce(n, R, K => t(10, S = K)); const F = sn(), N = Qn(), O = Tn(), { state: B } = xt(); ce(n, B, K => t(20, v = K)); const U = () => { Ml(l, o, s, f, N, !1, !0, F) }; return n.$$set = K => { "artist" in K && t(14, M = K.artist) }, n.$$.update = () => { n.$$.dirty & 16384 && t(9, i = (M == null ? void 0 : M.name) || ""), n.$$.dirty & 16384 && t(8, r = M == null ? void 0 : M.segue), n.$$.dirty & 16384 && t(0, s = M == null ? void 0 : M.contentDescriptor), n.$$.dirty & 1 && t(17, o = s == null ? void 0 : s.kind), n.$$.dirty & 16384 && t(7, a = M == null ? void 0 : M.shareUrl), n.$$.dirty & 16384 && t(18, l = Qt(M)), n.$$.dirty & 16384 && t(6, u = M == null ? void 0 : M.playAction), n.$$.dirty & 16384 && t(5, c = M == null ? void 0 : M.shuffleAction), n.$$.dirty & 262144 && k(t(4, d = N.subscribeToUpdates(l))), n.$$.dirty & 2523136 && t(1, f = b && (t(15, C = N.get(l, o)) === null || C === void 0 ? void 0 : C.inFavorites)), n.$$.dirty & 1114112 && t(19, g = t(16, P = v.user) === null || P === void 0 ? void 0 : P.subscriptionStorefront), n.$$.dirty & 524289 && t(3, h = g === O.storefront && !!s), n.$$.dirty & 16384 && t(2, m = M == null ? void 0 : M.classicalButton) }, [s, f, m, h, d, c, u, a, r, i, S, R, B, U, M, C, P, o, l, g, v, b] } class pNe extends oe { constructor(e) { super(), se(this, e, mNe, hNe, ye, { artist: 14 }) } } function _Ne(n) { let e, t, i = [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { xmlns: !0, viewBox: !0 }); var o = E(e); t = be(o, "path", { d: !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M51.644 55.124c1.39.834 3.1.427 3.977-.984 3.978-6.287 6.33-13.943 6.33-22.09 0-8.127-2.352-15.782-6.33-22.09-.877-1.412-2.587-1.797-3.977-.963-1.476.855-1.69 2.652-.727 4.277C54.274 18.62 56.24 25.12 56.24 32.05c0 6.928-1.989 13.45-5.324 18.797-.963 1.603-.749 3.4.727 4.277Zm-10.33-6.202c1.37.791 3.037.45 3.914-.898 2.972-4.49 4.683-10.072 4.683-15.974 0-5.881-1.69-11.484-4.683-15.975-.898-1.347-2.545-1.69-3.913-.876-1.497.876-1.668 2.694-.663 4.362 2.224 3.507 3.528 7.89 3.528 12.489 0 4.619-1.304 8.981-3.528 12.488-1.005 1.668-.834 3.486.663 4.384Zm-27.842-5.56c6.159 0 11.291-5.154 11.291-11.312 0-6.18-5.09-11.292-11.291-11.292-6.18 0-11.291 5.111-11.291 11.292 0 6.18 5.11 11.312 11.291 11.312Zm17.514-.663c1.326.813 2.93.492 3.785-.684 1.946-2.673 3.08-6.223 3.08-9.965 0-3.721-1.155-7.25-3.08-9.966-.855-1.176-2.46-1.475-3.785-.663-1.433.877-1.754 2.588-.577 4.513 1.09 1.668 1.71 3.87 1.71 6.116 0 2.266-.641 4.448-1.71 6.116-1.155 1.946-.856 3.635.577 4.533Zm-17.493-3.186c-.962 0-1.796-.77-1.796-1.754v-3.956H7.912c-.92 0-1.732-.813-1.754-1.753 0-.941.834-1.754 1.754-1.754h3.785V26.34c0-.984.834-1.732 1.796-1.732.963 0 1.797.748 1.797 1.732v3.956h3.763c.941 0 1.733.791 1.733 1.754 0 .94-.792 1.753-1.733 1.753H15.29v3.956c0 .984-.856 1.754-1.797 1.754Z"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ xmlns: "http://www.w3.org/2000/svg" }, { viewBox: "0 0 64 64" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function vNe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let bNe = class extends oe { constructor(e) { super(), se(this, e, vNe, _Ne, ht, {}) } }; function b9(n) { var d; let e, t, i, r, s, o = n[3].t("ASE.Web.Music.Library.Artists.Detail.Empty", { artistName: n[2] }) + "", a, l, u; i = new hl({ props: { item: n[0], useDefaultContainerStyles: !1, $$slots: { artwork: [yNe] }, $$scope: { ctx: n } } }); let c = ((d = n[0]) == null ? void 0 : d.catalogId) && y9(n); return { c() { e = L("div"), t = L("div"), V(i.$$.fragment), r = Y(), s = L("div"), a = le(o), l = Y(), c && c.c(), this.h() }, l(f) { e = T(f, "DIV", { class: !0 }); var g = E(e); t = T(g, "DIV", { class: !0 }); var h = E(t); q(i.$$.fragment, h), h.forEach(_), r = X(g), s = T(g, "DIV", { class: !0, "data-testid": !0 }); var m = E(s); a = ue(m, o), m.forEach(_), l = X(g), c && c.l(g), g.forEach(_), this.h() }, h() { p(t, "class", "artist-empty-state__artwork svelte-oyb8jz"), p(s, "class", "artist-empty-state__message svelte-oyb8jz"), p(s, "data-testid", "artist-empty-state-message"), p(e, "class", "artist-empty-state svelte-oyb8jz") }, m(f, g) { I(f, e, g), A(e, t), H(i, t, null), A(e, r), A(e, s), A(s, a), A(e, l), c && c.m(e, null), u = !0 }, p(f, g) { var m; const h = {}; g & 1 && (h.item = f[0]), g & 130 && (h.$$scope = { dirty: g, ctx: f }), i.$set(h), (!u || g & 12) && o !== (o = f[3].t("ASE.Web.Music.Library.Artists.Detail.Empty", { artistName: f[2] }) + "") && me(a, o), (m = f[0]) != null && m.catalogId ? c ? (c.p(f, g), g & 1 && w(c, 1)) : (c = y9(f), c.c(), w(c, 1), c.m(e, null)) : c && (te(), D(c, 1, 1, () => { c = null }), ne()) }, i(f) { u || (w(i.$$.fragment, f), w(c), u = !0) }, o(f) { D(i.$$.fragment, f), D(c), u = !1 }, d(f) { f && _(e), $(i), c && c.d() } } } function yNe(n) { let e, t; return e = new Gt({ props: { artwork: n[1], profile: "facehole-uber" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.artwork = i[1]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function y9(n) { let e, t, i, r = n[3].t("ASE.Web.Music.Library.Artists.Detail.StartStation") + "", s, o, a, l; return t = new bNe({ props: { "aria-hidden": "true" } }), { c() { e = L("button"), V(t.$$.fragment), i = Y(), s = le(r), this.h() }, l(u) { e = T(u, "BUTTON", { class: !0, "data-testid": !0 }); var c = E(e); q(t.$$.fragment, c), i = X(c), s = ue(c, r), c.forEach(_), this.h() }, h() { p(e, "class", "artist-empty-state__station-button svelte-oyb8jz"), p(e, "data-testid", "artist-empty-state-button") }, m(u, c) { I(u, e, c), H(t, e, null), A(e, i), A(e, s), o = !0, a || (l = Me(e, "click", n[5]), a = !0) }, p(u, c) { (!o || c & 8) && r !== (r = u[3].t("ASE.Web.Music.Library.Artists.Detail.StartStation") + "") && me(s, r) }, i(u) { o || (w(t.$$.fragment, u), o = !0) }, o(u) { D(t.$$.fragment, u), o = !1 }, d(u) { u && _(e), $(t), a = !1, l() } } } function wNe(n) { let e, t, i = n[0] && b9(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[0] ? i ? (i.p(r, s), s & 1 && w(i, 1)) : (i = b9(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function kNe(n, e, t) { let i, r, s, { artist: o } = e; const a = fn(), l = ot(); ce(n, l, c => t(3, s = c)); const u = () => { a.perform(PR(o == null ? void 0 : o.catalogId, x.Artist)) }; return n.$$set = c => { "artist" in c && t(0, o = c.artist) }, n.$$.update = () => { n.$$.dirty & 1 && t(2, i = o == null ? void 0 : o.name), n.$$.dirty & 1 && t(1, r = o == null ? void 0 : o.artwork) }, [o, r, i, s, l, u] } class DNe extends oe { constructor(e) { super(), se(this, e, kNe, wNe, ye, { artist: 0 }) } } function w9(n, e, t) { const i = n.slice(); return i[12] = e[t], i } function SNe(n) { let e, t, i; return t = new DNe({ props: { artist: n[0] } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "data-testid", "artist-detail-empty") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 1 && (o.artist = r[0]), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function CNe(n) { let e, t, i = ut(n[1]), r = []; for (let o = 0; o < i.length; o += 1)r[o] = k9(w9(n, i, o)); const s = o => D(r[o], 1, 1, () => { r[o] = null }); return { c() { e = L("div"); for (let o = 0; o < r.length; o += 1)r[o].c(); this.h() }, l(o) { e = T(o, "DIV", { class: !0, "data-testid": !0 }); var a = E(e); for (let l = 0; l < r.length; l += 1)r[l].l(a); a.forEach(_), this.h() }, h() { p(e, "class", "artist-detail-grid svelte-1q5jy1p"), p(e, "data-testid", "artist-detail-grid") }, m(o, a) { I(o, e, a); for (let l = 0; l < r.length; l += 1)r[l] && r[l].m(e, null); t = !0 }, p(o, a) { if (a & 2) { i = ut(o[1]); let l; for (l = 0; l < i.length; l += 1) { const u = w9(o, i, l); r[l] ? (r[l].p(u, a), w(r[l], 1)) : (r[l] = k9(u), r[l].c(), w(r[l], 1), r[l].m(e, null)) } for (te(), l = i.length; l < r.length; l += 1)s(l); ne() } }, i(o) { if (!t) { for (let a = 0; a < i.length; a += 1)w(r[a]); t = !0 } }, o(o) { r = r.filter(Boolean); for (let a = 0; a < r.length; a += 1)D(r[a]); t = !1 }, d(o) { o && _(e), ln(r, o) } } } function k9(n) { let e, t; return e = new G_({ props: { item: n[12] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.item = i[12]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function PNe(n) { let e, t, i, r, s, o; e = new pNe({ props: { artist: n[0] } }); const a = [CNe, SNe], l = []; function u(c, d) { return c[1].length > 0 ? 0 : 1 } return i = u(n), r = l[i] = a[i](n), { c() { V(e.$$.fragment), t = Y(), r.c(), s = re() }, l(c) { q(e.$$.fragment, c), t = X(c), r.l(c), s = re() }, m(c, d) { H(e, c, d), I(c, t, d), l[i].m(c, d), I(c, s, d), o = !0 }, p(c, [d]) { const f = {}; d & 1 && (f.artist = c[0]), e.$set(f); let g = i; i = u(c), i === g ? l[i].p(c, d) : (te(), D(l[g], 1, 1, () => { l[g] = null }), ne(), r = l[i], r ? r.p(c, d) : (r = l[i] = a[i](c), r.c()), w(r, 1), r.m(s.parentNode, s)) }, i(c) { o || (w(e.$$.fragment, c), w(r), o = !0) }, o(c) { D(e.$$.fragment, c), D(r), o = !1 }, d(c) { c && (_(t), _(s)), $(e, c), l[i].d(c) } } } function ANe(n, e, t) { let i, r, s, o; var a, l; let { section: u } = e; const c = kn("<ArtistDetails>"), d = fn(), f = Qn(), g = Tn(), { state: h } = xt(); return ce(n, h, m => t(6, o = m)), mn(() => { f.unsubscribeFromUpdates(s) }), n.$$set = m => { "section" in m && t(3, u = m.section) }, n.$$.update = () => { n.$$.dirty & 24 && t(1, i = t(4, a = u == null ? void 0 : u.items) !== null && a !== void 0 ? a : []), n.$$.dirty & 106 && Qg([...u != null && u.artist ? [{ items: [u == null ? void 0 : u.artist] }] : [], { items: i }], t(5, l = o.user) === null || l === void 0 ? void 0 : l.subscriberType, d, c, g, f), n.$$.dirty & 8 && t(0, r = u == null ? void 0 : u.artist), n.$$.dirty & 1 && (s = Qt(r)) }, [r, i, h, u, a, l, o] } class ENe extends oe { constructor(e) { super(), se(this, e, ANe, PNe, ye, { section: 3 }) } } function INe(n) { let e, t, i = [{ width: "45" }, { height: "53" }, { viewBox: "0 0 45 53" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], r = {}; for (let s = 0; s < i.length; s += 1)r = fe(r, i[s]); return { c() { e = ve("svg"), t = ve("path"), this.h() }, l(s) { e = be(s, "svg", { width: !0, height: !0, viewBox: !0, xmlns: !0 }); var o = E(e); t = be(o, "path", { d: !0, "fill-rule": !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { p(t, "d", "M15.208 37.347V7.422c0-1.537 1.107-2.196 2.372-2.447l23.91-4.8C43.671-.264 45-.013 45 2.497v36.7c0 6.902-5.535 8.376-9.014 8.376-3.447 0-6.293-2.635-6.293-5.991 0-4.047 3.068-5.74 6.958-6.525l3.51-.784c1.423-.282 1.866-1.317 1.866-2.415l.032-17.567c0-1.223-.57-1.662-1.961-1.349L19.825 17.02c-1.17.189-1.518.534-1.518 1.914v25.534C18.307 51.4 12.677 53 9.2 53 5.689 53 3 50.334 3 47.009c0-4.11 3.1-5.804 6.8-6.682l3.763-.753c1.17-.282 1.645-1.192 1.645-2.227Z"), p(t, "fill-rule", "nonzero"), Le(e, r) }, m(s, o) { I(s, e, o), A(e, t) }, p(s, [o]) { Le(e, r = at(i, [{ width: "45" }, { height: "53" }, { viewBox: "0 0 45 53" }, { xmlns: "http://www.w3.org/2000/svg" }, o & 1 && s[0]])) }, i: j, o: j, d(s) { s && _(e) } } } function MNe(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } let LNe = class extends oe { constructor(e) { super(), se(this, e, MNe, INe, ht, {}) } }; function TNe(n) { let e = n[0].t("ASE.Web.Music.Error.EmptyLibraryState.Browse.Apple.Music") + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 1 && e !== (e = i[0].t("ASE.Web.Music.Error.EmptyLibraryState.Browse.Apple.Music") + "") && me(t, e) }, d(i) { i && _(t) } } } function RNe(n) { let e, t, i, r, s, o = n[0].t("ASE.Web.Music.Error.EmptyLibraryState.Header") + "", a, l, u, c = n[0].t("ASE.Web.Music.Error.EmptyLibraryState.Description") + "", d, f, g, h, m; return i = new LNe({}), h = new yi({ props: { buttonStyle: "buttonA", $$slots: { default: [TNe] }, $$scope: { ctx: n } } }), h.$on("buttonClick", n[2]), { c() { e = L("div"), t = L("div"), V(i.$$.fragment), r = Y(), s = L("h2"), a = le(o), l = Y(), u = L("p"), d = le(c), f = Y(), g = L("div"), V(h.$$.fragment), this.h() }, l(v) { e = T(v, "DIV", { role: !0, class: !0 }); var b = E(e); t = T(b, "DIV", { class: !0 }); var y = E(t); q(i.$$.fragment, y), y.forEach(_), r = X(b), s = T(b, "H2", { "data-testid": !0, class: !0 }); var k = E(s); a = ue(k, o), k.forEach(_), l = X(b), u = T(b, "P", { "data-testid": !0, class: !0 }); var S = E(u); d = ue(S, c), S.forEach(_), f = X(b), g = T(b, "DIV", { class: !0 }); var C = E(g); q(h.$$.fragment, C), C.forEach(_), b.forEach(_), this.h() }, h() { p(t, "class", "error-content__icon svelte-1hhrcqm"), p(s, "data-testid", "header"), p(s, "class", "error-content__header typography-headline-emphasized svelte-1hhrcqm"), p(u, "data-testid", "error-desc"), p(u, "class", "error-content__description typography-subhead svelte-1hhrcqm"), p(g, "class", "button-container svelte-1hhrcqm"), p(e, "role", "status"), p(e, "class", "error-content svelte-1hhrcqm") }, m(v, b) { I(v, e, b), A(e, t), H(i, t, null), A(e, r), A(e, s), A(s, a), A(e, l), A(e, u), A(u, d), A(e, f), A(e, g), H(h, g, null), m = !0 }, p(v, [b]) { (!m || b & 1) && o !== (o = v[0].t("ASE.Web.Music.Error.EmptyLibraryState.Header") + "") && me(a, o), (!m || b & 1) && c !== (c = v[0].t("ASE.Web.Music.Error.EmptyLibraryState.Description") + "") && me(d, c); const y = {}; b & 33 && (y.$$scope = { dirty: b, ctx: v }), h.$set(y) }, i(v) { m || (w(i.$$.fragment, v), w(h.$$.fragment, v), m = !0) }, o(v) { D(i.$$.fragment, v), D(h.$$.fragment, v), m = !1 }, d(v) { v && _(e), $(i), $(h) } } } function FNe(n, e, t) { let i; const r = ot(); ce(n, r, l => t(0, i = l)); const s = sn(), o = Tn(); return [i, r, () => { const l = gr(ur(o), qs.type, sa); s(l) }] } class ONe extends oe { constructor(e) { super(), se(this, e, FNe, RNe, ye, {}) } } function NNe(n) { let e, t; return e = new Uc({ props: { page: n[0] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.page = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function BNe(n) { let e, t; return e = new ENe({ props: { section: n[4] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function UNe(n) { let e, t; return e = new fNe({ props: { page: n[0] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.page = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function HNe(n) { let e, t; return e = new ONe({}), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function $Ne(n) { let e, t, i, r, s, o; const a = [HNe, UNe, BNe, NNe], l = []; function u(c, d) { return d & 1 && (e = null), d & 8 && (t = null), c[2] ? 0 : (e == null && (e = !!WOe(c[0])), e ? 1 : c[1] ? 2 : (t == null && (t = !!c[5].includes(c[3])), t ? 3 : -1)) } return ~(i = u(n, -1)) && (r = l[i] = a[i](n)), { c() { r && r.c(), s = re() }, l(c) { r && r.l(c), s = re() }, m(c, d) { ~i && l[i].m(c, d), I(c, s, d), o = !0 }, p(c, [d]) { let f = i; i = u(c, d), i === f ? ~i && l[i].p(c, d) : (r && (te(), D(l[f], 1, 1, () => { l[f] = null }), ne()), ~i ? (r = l[i], r ? r.p(c, d) : (r = l[i] = a[i](c), r.c()), w(r, 1), r.m(s.parentNode, s)) : r = null) }, i(c) { o || (w(r), o = !0) }, o(c) { D(r), o = !1 }, d(c) { c && _(s), ~i && l[i].d(c) } } } function VNe(n, e, t) { let i, r, s; var o, a, l; let { page: u } = e; const c = i9(u) ? u.sections[0] : null, d = ["album", "albums", "artists", "made-for-you", "recently-added", "songs", "playlist", "all-playlists", "playlist-folder"]; return Yt(() => (gl.set(!0), () => gl.set(!1))), n.$$set = f => { "page" in f && t(0, u = f.page) }, n.$$.update = () => { n.$$.dirty & 1 && t(3, i = u.libraryType), n.$$.dirty & 1 && t(1, r = i9(u)), n.$$.dirty & 451 && t(2, s = Array.isArray(t(6, o = u == null ? void 0 : u.sections[0]) === null || o === void 0 ? void 0 : o.items) && (t(8, l = t(7, a = u == null ? void 0 : u.sections[0]) === null || a === void 0 ? void 0 : a.items) === null || l === void 0 ? void 0 : l.length) === 0 && !r) }, [u, r, s, i, c, d, o, a, l] } class zNe extends oe { constructor(e) { super(), se(this, e, VNe, $Ne, ye, { page: 0 }) } } let xB = "/includes/music-replay"; const qNe = `${xB}/build/replay.js`, D9 = "replay-script-tag", WNe = `${xB}/build/replay.esm.js`, S9 = "replay-script-tag-esm"; async function KNe() { if (!document.getElementById(S9)) { const t = document.createElement("script"); t.setAttribute("src", WNe), t.setAttribute("id", S9), t.setAttribute("type", "module"), document.body.appendChild(t) } if (!document.getElementById(D9)) { const t = document.createElement("script"); t.setAttribute("src", qNe), t.setAttribute("id", D9), t.setAttribute("nomodule", "true"), document.body.appendChild(t) } } const eU = "isListenNowUpsellPage"; function JNe(n) { const e = Tt(!1); n.set(eU, e) } function ov() { const n = gi(eU); if (!n) throw new Error("getIsListenNowUpsellPage called before setupContext"); return n } function C9(n) { let e, t, i, r; return { c() { e = L("div"), t = L("apple-music-replay"), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); t = T(o, "APPLE-MUSIC-REPLAY", { "data-testid": !0, embedded: !0, storefront: !0, language: !0, "feature-name": !0 }), E(t).forEach(_), o.forEach(_), this.h() }, h() { Xe(t, "data-testid", "apple-music-replay"), Xe(t, "embedded", !0), Xe(t, "storefront", n[1].storefront), Xe(t, "language", n[1].language), Xe(t, "feature-name", XNe), p(e, "class", "replay-component-container") }, m(s, o) { I(s, e, o), A(e, t), i || (r = Ut(xg.call(null, t, n[2])), i = !0) }, p: j, d(s) { s && _(e), i = !1, r() } } } function YNe(n) { let e, t = n[0] && C9(n); return { c() { t && t.c(), e = re() }, l(i) { t && t.l(i), e = re() }, m(i, r) { t && t.m(i, r), I(i, e, r) }, p(i, [r]) { i[0] ? t ? t.p(i, r) : (t = C9(i), t.c(), t.m(e.parentNode, e)) : t && (t.d(1), t = null) }, i: j, o: j, d(i) { i && _(e), t && t.d(i) } } } const XNe = "replay"; function ZNe(n, e, t) { let i; ce(n, Ad, d => t(4, i = d)); const r = zn(); let s = !1, { page: o } = e; const a = kn("<ReplayPage>"), l = Tn(), u = fn(), c = ov(); return Yt(() => { ni(Ad, i = !0, i); const d = (async () => { a.info("loading replay module scripts with locale " + l.language + " replay page" + o.replay), KNe(), await r.ready, a.info("MK instance is ready; able to show Replay"), t(0, s = !0), c.set(!0) })(); return () => d.finally(() => c.set(!1)) }), mn(() => { ni(Ad, i = !1, i) }), n.$$set = d => { "page" in d && t(3, o = d.page) }, [s, l, u, o] } class QNe extends oe { constructor(e) { super(), se(this, e, ZNe, YNe, ye, { page: 3 }) } } async function tU() { return (await ft(() => import("./index-565480d2.js"), ["assets/index-565480d2.js", "assets/index-bb37f73d.js"])).setAssetPath } async function jNe() { return (await ft(() => import("./cwc-music-upsell-banner-web-dc420b70.js"), ["assets/cwc-music-upsell-banner-web-dc420b70.js", "assets/index-bb37f73d.js", "assets/cwc-icon2-9c807b00.js"])).defineCustomElement } async function GNe() { return (await ft(() => import("./cwc-upsell-personal-2f44675e.js"), ["assets/cwc-upsell-personal-2f44675e.js", "assets/index-bb37f73d.js", "assets/cwc-icon2-9c807b00.js"])).defineCustomElement } async function xNe() { if (!customElements.get("cwc-music-upsell-banner-web")) { const [n, e] = await Promise.all([tU(), jNe()]); n(`${aA()}/assets/cwc/`), e() } } async function eBe() { if (!customElements.get("cwc-upsell-personal")) { const [n, e] = await Promise.all([tU(), GNe()]); n(`${aA()}/assets/cwc/`), e() } } function P9(n) { let e, t, i, r, s, o, a, l = n[4] && A9(n); return { c() { e = L("cwc-upsell-personal"), l && l.c(), this.h() }, l(u) { e = T(u, "CWC-UPSELL-PERSONAL", { locale: !0, storefront: !0, "is-intro-offer": !0, "is-free-trial": !0, "base-price-string": !0, "intro-period": !0, "intro-price": !0, "is-user-subscribed": !0, "is-voice-subscription": !0, class: !0 }); var c = E(e); l && l.l(c), c.forEach(_), this.h() }, h() { var u, c, d, f; Xe(e, "locale", n[6]), Xe(e, "storefront", n[2]), Xe(e, "is-intro-offer", t = (u = n[0]) == null ? void 0 : u.isIntroOffer), Xe(e, "is-free-trial", i = (c = n[0]) == null ? void 0 : c.isFreeTrial), Xe(e, "base-price-string", r = ((d = n[0]) == null ? void 0 : d.basePriceString) || n[1].t("ASE.Web.Music.UpsellBanner.Subscribe.BaseMonthlyPrice")), Xe(e, "intro-period", n[3]), Xe(e, "intro-price", s = (f = n[0]) == null ? void 0 : f.introPrice), Xe(e, "is-user-subscribed", n[5]), Xe(e, "is-voice-subscription", n[4]), Xe(e, "class", "svelte-1kpxsii") }, m(u, c) { I(u, e, c), l && l.m(e, null), o || (a = [Me(e, "upsellCtaClick", n[14]), Me(e, "upsellStudentCtaClick", n[15])], o = !0) }, p(u, c) { var d, f, g, h; u[4] ? l ? l.p(u, c) : (l = A9(u), l.c(), l.m(e, null)) : l && (l.d(1), l = null), c & 64 && Xe(e, "locale", u[6]), c & 4 && Xe(e, "storefront", u[2]), c & 1 && t !== (t = (d = u[0]) == null ? void 0 : d.isIntroOffer) && Xe(e, "is-intro-offer", t), c & 1 && i !== (i = (f = u[0]) == null ? void 0 : f.isFreeTrial) && Xe(e, "is-free-trial", i), c & 3 && r !== (r = ((g = u[0]) == null ? void 0 : g.basePriceString) || u[1].t("ASE.Web.Music.UpsellBanner.Subscribe.BaseMonthlyPrice")) && Xe(e, "base-price-string", r), c & 8 && Xe(e, "intro-period", u[3]), c & 1 && s !== (s = (h = u[0]) == null ? void 0 : h.introPrice) && Xe(e, "intro-price", s), c & 32 && Xe(e, "is-user-subscribed", u[5]), c & 16 && Xe(e, "is-voice-subscription", u[4]) }, d(u) { u && _(e), l && l.d(), o = !1, Ot(a) } } } function A9(n) { let e, t, i, r = n[1].t("ASE.Web.Music.ListenNow.Banner.Header") + "", s, o, a, l = n[1].t("ASE.Web.Music.ListenNow.Banner.Body") + "", u; return { c() { e = L("div"), t = L("div"), i = L("h2"), s = le(r), o = Y(), a = L("p"), u = le(l), this.h() }, l(c) { e = T(c, "DIV", { class: !0, "data-testid": !0 }); var d = E(e); t = T(d, "DIV", { class: !0 }); var f = E(t); i = T(f, "H2", { class: !0 }); var g = E(i); s = ue(g, r), g.forEach(_), o = X(f), a = T(f, "P", { class: !0 }); var h = E(a); u = ue(h, l), h.forEach(_), f.forEach(_), d.forEach(_), this.h() }, h() { p(i, "class", "title svelte-1kpxsii"), p(a, "class", "subtitle svelte-1kpxsii"), p(t, "class", "container"), p(e, "class", "listen-now-banner svelte-1kpxsii"), p(e, "data-testid", "listen-now-banner") }, m(c, d) { I(c, e, d), A(e, t), A(t, i), A(i, s), A(t, o), A(t, a), A(a, u) }, p(c, d) { d & 2 && r !== (r = c[1].t("ASE.Web.Music.ListenNow.Banner.Header") + "") && me(s, r), d & 2 && l !== (l = c[1].t("ASE.Web.Music.ListenNow.Banner.Body") + "") && me(u, l) }, d(c) { c && _(e) } } } function tBe(n) { let e, t = n[0] && P9(n); return { c() { e = L("div"), t && t.c(), this.h() }, l(i) { e = T(i, "DIV", { class: !0, "data-testid": !0 }); var r = E(e); t && t.l(r), r.forEach(_), this.h() }, h() { p(e, "class", "upsell-personal svelte-1kpxsii"), p(e, "data-testid", "upsell-personal") }, m(i, r) { I(i, e, r), t && t.m(e, null) }, p(i, [r]) { i[0] ? t ? t.p(i, r) : (t = P9(i), t.c(), t.m(e, null)) : t && (t.d(1), t = null) }, i: j, o: j, d(i) { i && _(e), t && t.d() } } } function nBe(n, e, t) { let i, r, s, o, a, l, u, c; var d, f, g; const h = kn("<UpsellPage>"), m = ot(); ce(n, m, M => t(1, u = M)); const v = Tn(), { state: b } = xt(); ce(n, b, M => t(13, c = M)); const y = sn(), k = ov(), S = M => { if (!uT.includes(r)) { const F = vr({ type: ir.Open, activePath: M }); y(F) } else hN() }; Yt(() => { var M; return k.set(!0), (M = eBe()) === null || M === void 0 || M.catch(R => h.error("Loading CWC Upsell Personal Failed", R)), () => k.set(!1) }); const C = () => S(fi.subscribe), P = () => S(fi.subscribeStudent); return n.$$.update = () => { n.$$.dirty & 8192 && t(0, i = c.upsellOfferDetails), n.$$.dirty & 9216 && t(2, r = (t(10, d = c.user) === null || d === void 0 ? void 0 : d.subscriptionStorefront) || v.storefront), n.$$.dirty & 10240 && t(5, o = LT(t(11, f = c.user) === null || f === void 0 ? void 0 : f.subscriberType)), n.$$.dirty & 12288 && t(4, a = MT(t(12, g = c.user) === null || g === void 0 ? void 0 : g.subscriberType)), n.$$.dirty & 3 && t(3, l = u.t("ASE.Web.Music.Finance.Duration.Months", { num: i == null ? void 0 : i.introPeriod, count: i == null ? void 0 : i.introPeriod })) }, t(6, s = v.language), [i, u, r, l, a, o, s, m, b, S, d, f, g, c, C, P] } class iBe extends oe { constructor(e) { super(), se(this, e, nBe, tBe, ye, {}) } } const rBe = ["ar", "ko"], E9 = "TEXT"; function sBe(n, e, t) { return n.length <= 1 ? [] : rBe.some(r => e.startsWith(r)) && /[a-zA-Z0-9]/.test(n[0]) ? I9(n.length, "en", ", ") : I9(n.length, e, t("FUSE.Common.ListDelimiter")) } function oBe(n, e, t) { const i = sBe(n, e, t); return n.map((r, s) => r + (i[s] || "")).join("") } function I9(n, e, t) { if (!Intl || !Intl.ListFormat || typeof Intl.ListFormat != "function") return new Array(n - 1).fill(t); const i = new Array(n).fill(E9); return new Intl.ListFormat(e, { style: "short" }).format(i).split(E9).slice(1, -1) } const aBe = () => { za.set({ inSearch: !1, showRecentlySearch: !1, suggestionsVisible: !1, isSearching: !1 }) }, za = Tt({ inSearch: !1, showRecentlySearch: !1, suggestionsVisible: !1, isSearching: !1 }); function M9(n, e, t) { const i = n.slice(); return i[31] = e[t], i } function lBe(n) { let e, t, i, r, s, o, a, l; const u = [dBe, cBe], c = []; function d(f, g) { var h; return f[1] ? 0 : f[9].showRecentlySearch && ((h = f[6].items) == null ? void 0 : h.length) > 0 ? 1 : -1 } return ~(t = d(n)) && (i = c[t] = u[t](n)), o = new S_({ props: { suggestions: n[6].items, translateFn: n[8].t, $$slots: { suggestion: [fBe, ({ suggestion: f }) => ({ 30: f }), ({ suggestion: f }) => [f ? 1073741824 : 0]] }, $$scope: { ctx: n } } }), o.$on("suggestionClicked", n[23]), { c() { e = L("div"), i && i.c(), r = Y(), s = L("div"), V(o.$$.fragment), this.h() }, l(f) { e = T(f, "DIV", { class: !0 }); var g = E(e); i && i.l(g), r = X(g), s = T(g, "DIV", { class: !0, role: !0, tabindex: !0, "aria-labelledby": !0 }); var h = E(s); q(o.$$.fragment, h), h.forEach(_), g.forEach(_), this.h() }, h() { p(s, "class", "search-panel"), p(s, "role", "tabpanel"), p(s, "tabindex", "0"), p(s, "aria-labelledby", a = n[6].htmlId + "-label"), p(e, "class", "search-tab-control svelte-19ntdtp") }, m(f, g) { I(f, e, g), ~t && c[t].m(e, null), A(e, r), A(e, s), H(o, s, null), l = !0 }, p(f, g) { let h = t; t = d(f), t === h ? ~t && c[t].p(f, g) : (i && (te(), D(c[h], 1, 1, () => { c[h] = null }), ne()), ~t ? (i = c[t], i ? i.p(f, g) : (i = c[t] = u[t](f), i.c()), w(i, 1), i.m(e, r)) : i = null); const m = {}; g[0] & 64 && (m.suggestions = f[6].items), g[0] & 256 && (m.translateFn = f[8].t), g[0] & 1073741824 | g[1] & 8 && (m.$$scope = { dirty: g, ctx: f }), o.$set(m), (!l || g[0] & 64 && a !== (a = f[6].htmlId + "-label")) && p(s, "aria-labelledby", a) }, i(f) { l || (w(i), w(o.$$.fragment, f), l = !0) }, o(f) { D(i), D(o.$$.fragment, f), l = !1 }, d(f) { f && _(e), ~t && c[t].d(), $(o) } } } function uBe(n) { let e, t, i; return t = new Uc({ props: { page: n[0] } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0, "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "mobile-search-page svelte-19ntdtp"), p(e, "data-testid", "mobile-search-page"), J(e, "mobile-search-page--landing", n[5]) }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s[0] & 1 && (o.page = r[0]), t.$set(o), (!i || s[0] & 32) && J(e, "mobile-search-page--landing", r[5]) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function cBe(n) { let e, t; return e = new JB({ props: { header: n[6].header } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 64 && (s.header = i[6].header), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function dBe(n) { let e, t, i, r = n[7] && L9(n), s = !n[4] && T9(n); return { c() { r && r.c(), e = Y(), s && s.c(), t = re() }, l(o) { r && r.l(o), e = X(o), s && s.l(o), t = re() }, m(o, a) { r && r.m(o, a), I(o, e, a), s && s.m(o, a), I(o, t, a), i = !0 }, p(o, a) { o[7] ? r ? (r.p(o, a), a[0] & 128 && w(r, 1)) : (r = L9(o), r.c(), w(r, 1), r.m(e.parentNode, e)) : r && (te(), D(r, 1, 1, () => { r = null }), ne()), o[4] ? s && (s.d(1), s = null) : s ? s.p(o, a) : (s = T9(o), s.c(), s.m(t.parentNode, t)) }, i(o) { i || (w(r), i = !0) }, o(o) { D(r), i = !1 }, d(o) { o && (_(e), _(t)), r && r.d(o), s && s.d(o) } } } function L9(n) { let e, t; return e = new GB({ props: { section: n[7] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 128 && (s.section = i[7]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function T9(n) { let e, t = ut(n[3]), i = []; for (let r = 0; r < t.length; r += 1)i[r] = R9(M9(n, t, r)); return { c() { e = L("div"); for (let r = 0; r < i.length; r += 1)i[r].c(); this.h() }, l(r) { e = T(r, "DIV", { class: !0, role: !0, "data-testid": !0 }); var s = E(e); for (let o = 0; o < i.length; o += 1)i[o].l(s); s.forEach(_), this.h() }, h() { p(e, "class", "search-tablist svelte-19ntdtp"), p(e, "role", "tablist"), p(e, "data-testid", "search-tablist") }, m(r, s) { I(r, e, s); for (let o = 0; o < i.length; o += 1)i[o] && i[o].m(e, null) }, p(r, s) { if (s[0] & 4108) { t = ut(r[3]); let o; for (o = 0; o < t.length; o += 1) { const a = M9(r, t, o); i[o] ? i[o].p(a, s) : (i[o] = R9(a), i[o].c(), i[o].m(e, null)) } for (; o < i.length; o += 1)i[o].d(1); i.length = t.length } }, d(r) { r && _(e), ln(i, r) } } } function R9(n) { let e, t, i, r, s, o, a, l = (Di(n[31].header) && n[31].header.item.titleLink.title) + "", u, c, d, f, g, h, m; function v() { return n[22](n[31]) } return { c() { e = L("label"), t = L("input"), a = Y(), u = le(l), c = Y(), this.h() }, l(b) { e = T(b, "LABEL", { role: !0, class: !0, for: !0, id: !0, "aria-selected": !0 }); var y = E(e); t = T(y, "INPUT", { class: !0, type: !0, name: !0, id: !0, "data-testid": !0 }), a = X(y), u = ue(y, l), c = X(y), y.forEach(_), this.h() }, h() { p(t, "class", "search-tab__input svelte-19ntdtp"), p(t, "type", "radio"), p(t, "name", "mobile-search-results-category"), p(t, "id", i = n[31].htmlId), t.value = r = n[31].id, t.checked = s = n[2] === n[31].id, p(t, "data-testid", o = n[31].id), p(e, "role", "tab"), p(e, "class", "search-tab svelte-19ntdtp"), p(e, "for", d = n[31].htmlId), p(e, "id", f = n[31].htmlId + "-label"), p(e, "aria-selected", g = n[2] === n[31].id) }, m(b, y) { I(b, e, y), A(e, t), A(e, a), A(e, u), A(e, c), h || (m = Me(t, "change", v), h = !0) }, p(b, y) { n = b, y[0] & 8 && i !== (i = n[31].htmlId) && p(t, "id", i), y[0] & 8 && r !== (r = n[31].id) && (t.value = r), y[0] & 12 && s !== (s = n[2] === n[31].id) && (t.checked = s), y[0] & 8 && o !== (o = n[31].id) && p(t, "data-testid", o), y[0] & 8 && l !== (l = (Di(n[31].header) && n[31].header.item.titleLink.title) + "") && me(u, l), y[0] & 8 && d !== (d = n[31].htmlId) && p(e, "for", d), y[0] & 8 && f !== (f = n[31].htmlId + "-label") && p(e, "id", f), y[0] & 12 && g !== (g = n[2] === n[31].id) && p(e, "aria-selected", g) }, d(b) { b && _(e), h = !1, m() } } } function fBe(n) { let e, t; return e = new aN({ props: { item: n[30] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r[0] & 1073741824 && (s.item = i[30]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function gBe(n) { let e, t, i, r; const s = [uBe, lBe], o = []; function a(l, u) { var c; return ((c = l[3]) == null ? void 0 : c.length) === 0 || !l[9].isSearching && !l[1] ? 0 : l[9].suggestionsVisible ? -1 : 1 } return ~(e = a(n)) && (t = o[e] = s[e](n)), { c() { t && t.c(), i = re() }, l(l) { t && t.l(l), i = re() }, m(l, u) { ~e && o[e].m(l, u), I(l, i, u), r = !0 }, p(l, u) { let c = e; e = a(l), e === c ? ~e && o[e].p(l, u) : (t && (te(), D(o[c], 1, 1, () => { o[c] = null }), ne()), ~e ? (t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) : t = null) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), ~e && o[e].d(l) } } } function hBe(n) { var e, t; return "title" in n && n.title || "titleLinks" in n && ((t = (e = n.titleLinks) === null || e === void 0 ? void 0 : e[0]) === null || t === void 0 ? void 0 : t.title) || "" } function mBe(n, e, t) { let i, r, s, o, a, l, u, c, d; ce(n, za, Q => t(9, d = Q)); var f, g, h, m, v, b; const y = ot(); ce(n, y, Q => t(8, c = Q)); const k = Tn(), S = fn(); let { page: C } = e, { hasSearchResults: P } = e, M = { term: "", sectionId: null }, R = { term: "", sectionId: null }; function F(Q) { switch (Q.contentDescriptor.kind) { case x.Artist: case x.Curator: case x.SocialProfile: case x.RecordLabel: return Dr.Circle; case x.MusicVideo: case x.ArtistUploadedVideo: return Dr.Brick; default: return Dr.Square } } function N(Q) { return [x.Album, x.Playlist, x.AppleCurator, x.RadioStation, x.MusicVideo, x.ArtistUploadedVideo, x.EditorialItem].includes(Q.contentDescriptor.kind) } function O(Q) { const G = Q.contentDescriptor.kind; let ae; if (N(Q)) { const ee = Q.subtitleLinks || []; ae = oBe(ee.map(pe => pe.title), k.language, c.t) } switch (G) { case x.Artist: return c.t("ASE.Web.Music.IXDisplayableKind.artist.one"); case x.Album: case x.Playlist: case x.Song: case x.MusicVideo: return ae ? c.t("ASE.Web.Music.ContentA.Middot.ContentB", { contentA: c.t(`IXDisplayableKind.${G}.one`), contentB: ae }) : c.t(`IXDisplayableKind.${G}.one`); case x.ArtistUploadedVideo: return ae ? c.t("ASE.Web.Music.ContentA.Middot.ContentB", { contentA: c.t("ASE.Web.Music.IXDisplayableKind.uploadedVideo.one"), contentB: ae }) : c.t("ASE.Web.Music.IXDisplayableKind.uploadedVideo.one"); case x.AppleCurator: return c.t("ASE.Web.Music.IXDisplayableKind.iTunesBrand.Show.one"); case x.Curator: return c.t("ASE.Web.Music.IXDisplayableKind.brand.one"); case x.RadioStation: return c.t("ASE.Web.Music.IXDisplayableKind.station.one"); case x.EditorialItem: return c.t("ASE.Web.Music.Search.Category"); case x.RecordLabel: return c.t("ASE.Web.Music.IXDisplayableKind.label.one"); case x.SocialProfile: return c.t("ASE.Web.Music.Social.Profile"); default: return "" } } function B(Q) { var G, ae; const ee = F(Q), pe = hBe(Q), ke = O(Q); return Object.assign(Object.assign({}, Q), { title: pe, subtitle: ke, subheadline: Object.hasOwn(Q, "tertiaryLinks") ? (ae = (G = Q.tertiaryLinks) === null || G === void 0 ? void 0 : G[0]) === null || ae === void 0 ? void 0 : ae.title : void 0, artworkTreatment: ee }) } function U(Q) { S.perform(Q.segue || Q.playAction) } function K(Q) { var G; !((G = C.scopeBar) === null || G === void 0) && G.inLibrary ? t(20, R = { term: C.term, sectionId: Q }) : t(19, M = { term: C.term, sectionId: Q }) } const W = Q => K(Q.id), Z = Q => U(Q.detail.suggestion); return n.$$set = Q => { "page" in Q && t(0, C = Q.page), "hasSearchResults" in Q && t(1, P = Q.hasSearchResults) }, n.$$.update = () => { n.$$.dirty[0] & 1572865 && (R.term !== C.term && t(20, R = { term: C.term, sectionId: null }), M.term !== C.term && t(19, M = { term: C.term, sectionId: null })), n.$$.dirty[0] & 57345 && t(7, i = t(15, h = t(14, g = t(13, f = C.sections) === null || f === void 0 ? void 0 : f.filter(Q => Q.presentation.kind === "single" && Q.itemKind === "searchQueryContextLockup")) === null || g === void 0 ? void 0 : g[0]) !== null && h !== void 0 ? h : null), n.$$.dirty[0] & 1 && t(3, r = C.sections.filter(Q => Q.presentation.kind === "collection").map(Q => Object.assign(Object.assign({}, Q), { htmlId: Q.id.replace(/ /g, "_"), items: Q.itemKind === "topSearchLockup" ? Q.items : Q.items.map(G => B(G)) }))), n.$$.dirty[0] & 2031625 && t(2, s = !(t(16, m = C.scopeBar) === null || m === void 0) && m.inLibrary ? R.sectionId || (t(17, v = r[0]) === null || v === void 0 ? void 0 : v.id) : M.sectionId || (t(18, b = r[0]) === null || b === void 0 ? void 0 : b.id)), n.$$.dirty[0] & 12 && t(6, o = r.find(Q => Q.id === s)), n.$$.dirty[0] & 1 && t(5, a = C.search && !C.term), n.$$.dirty[0] & 1 && t(21, l = C.sections.find(Q => Q.id = "top-search-section - top")), n.$$.dirty[0] & 2097152 && t(4, u = l == null ? void 0 : l.hideCategories) }, [C, P, s, r, u, a, o, i, c, d, y, U, K, f, g, h, m, v, b, M, R, l, W, Z] } class pBe extends oe { constructor(e) { super(), se(this, e, mBe, gBe, ye, { page: 0, hasSearchResults: 1 }, null, [-1, -1]) } } const _Be = n => ({}), F9 = n => ({}); function vBe(n) { let e, t, i, r, s; const o = n[2].default, a = We(o, n, n[1], null), l = n[2].controls, u = We(l, n, n[1], F9); return { c() { e = L("div"), t = L("div"), a && a.c(), i = Y(), r = L("div"), u && u.c(), this.h() }, l(c) { e = T(c, "DIV", { class: !0, "data-testid": !0 }); var d = E(e); t = T(d, "DIV", { class: !0, "data-testid": !0 }); var f = E(t); a && a.l(f), f.forEach(_), i = X(d), r = T(d, "DIV", { class: !0, "data-testid": !0 }); var g = E(r); u && u.l(g), g.forEach(_), d.forEach(_), this.h() }, h() { p(t, "class", "content-scope-bar__content svelte-1hzfv5e"), p(t, "data-testid", "content-scope-bar-content"), J(t, "content-scope-bar__content--centered", n[0] === "centered"), p(r, "class", "content-scope-bar__controls typography-segmented-control svelte-1hzfv5e"), p(r, "data-testid", "content-scope-bar-controls"), p(e, "class", "content-scope-bar content-scope-bar--desktop svelte-1hzfv5e"), p(e, "data-testid", "content-scope-bar") }, m(c, d) { I(c, e, d), A(e, t), a && a.m(t, null), A(e, i), A(e, r), u && u.m(r, null), s = !0 }, p(c, [d]) { a && a.p && (!s || d & 2) && Je(a, o, c, c[1], s ? Ke(o, c[1], d, null) : Ye(c[1]), null), (!s || d & 1) && J(t, "content-scope-bar__content--centered", c[0] === "centered"), u && u.p && (!s || d & 2) && Je(u, l, c, c[1], s ? Ke(l, c[1], d, _Be) : Ye(c[1]), F9) }, i(c) { s || (w(a, c), w(u, c), s = !0) }, o(c) { D(a, c), D(u, c), s = !1 }, d(c) { c && _(e), a && a.d(c), u && u.d(c) } } } function bBe(n, e, t) { let { $$slots: i = {}, $$scope: r } = e, { textAlignment: s = "left" } = e; return n.$$set = o => { "textAlignment" in o && t(0, s = o.textAlignment), "$$scope" in o && t(1, r = o.$$scope) }, [s, r, i] } class yBe extends oe { constructor(e) { super(), se(this, e, bBe, vBe, ye, { textAlignment: 0 }) } } function O9(n, e, t) { const i = n.slice(); return i[12] = e[t], i[14] = t, i } function N9(n) { let e, t, i = Zn(n[1], { allowedTags: ["mark"] }) + ""; return { c() { e = L("div"), t = new Pi(!1), this.h() }, l(r) { e = T(r, "DIV", { class: !0, "data-testid": !0 }); var s = E(e); t = hr(s, !1), s.forEach(_), this.h() }, h() { t.a = null, p(e, "class", "search-scope-bar__results-text svelte-nkvllf"), p(e, "data-testid", "search-scope-bar-context") }, m(r, s) { I(r, e, s), t.m(i, e) }, p(r, s) { s & 2 && i !== (i = Zn(r[1], { allowedTags: ["mark"] }) + "") && t.p(i) }, d(r) { r && _(e) } } } function wBe(n) { let e, t = n[1] && N9(n); return { c() { t && t.c(), e = re() }, l(i) { t && t.l(i), e = re() }, m(i, r) { t && t.m(i, r), I(i, e, r) }, p(i, r) { i[1] ? t ? t.p(i, r) : (t = N9(i), t.c(), t.m(e.parentNode, e)) : t && (t.d(1), t = null) }, d(i) { i && _(e), t && t.d(i) } } } function B9(n) { let e, t, i = ut(n[0]), r = []; for (let o = 0; o < i.length; o += 1)r[o] = U9(O9(n, i, o)); const s = o => D(r[o], 1, 1, () => { r[o] = null }); return { c() { e = L("div"); for (let o = 0; o < r.length; o += 1)r[o].c(); this.h() }, l(o) { e = T(o, "DIV", { class: !0, style: !0, "data-testid": !0 }); var a = E(e); for (let l = 0; l < r.length; l += 1)r[l].l(a); a.forEach(_), this.h() }, h() { p(e, "class", "search-scope-bar__pill-container typography-segmented-control svelte-nkvllf"), Pt(e, "--current-index", n[6]), p(e, "data-testid", "segmented-control-container"), J(e, "search-scope-bar__pill-container--small", n[4]) }, m(o, a) { I(o, e, a); for (let l = 0; l < r.length; l += 1)r[l] && r[l].m(e, null); t = !0 }, p(o, a) { if (a & 229) { i = ut(o[0]); let l; for (l = 0; l < i.length; l += 1) { const u = O9(o, i, l); r[l] ? (r[l].p(u, a), w(r[l], 1)) : (r[l] = U9(u), r[l].c(), w(r[l], 1), r[l].m(e, null)) } for (te(), l = i.length; l < r.length; l += 1)s(l); ne() } (!t || a & 64) && Pt(e, "--current-index", o[6]), (!t || a & 16) && J(e, "search-scope-bar__pill-container--small", o[4]) }, i(o) { if (!t) { for (let a = 0; a < i.length; a += 1)w(r[a]); t = !0 } }, o(o) { r = r.filter(Boolean); for (let a = 0; a < r.length; a += 1)D(r[a]); t = !1 }, d(o) { o && _(e), ln(r, o) } } } function kBe(n) { let e, t, i, r, s, o, a, l, u = n[12].label + "", c, d, f, g, h; function m() { return n[8](n[12]) } function v() { return n[9](n[14]) } return { c() { e = L("input"), a = Y(), l = L("label"), c = le(u), this.h() }, l(b) { e = T(b, "INPUT", { type: !0, id: !0, "aria-label": !0, "data-testid": !0, class: !0 }), a = X(b), l = T(b, "LABEL", { "aria-hidden": !0, for: !0, class: !0, "data-testid": !0 }); var y = E(l); c = ue(y, u), y.forEach(_), this.h() }, h() { p(e, "type", "radio"), p(e, "id", t = n[12].id), e.value = i = n[12].id, p(e, "aria-label", r = n[12].ariaLabel), e.checked = s = n[12].id === n[2], p(e, "data-testid", o = n[12].id), p(e, "class", "svelte-nkvllf"), p(l, "aria-hidden", "true"), p(l, "for", d = n[12].id), p(l, "class", "search-scope-bar__pill-label svelte-nkvllf"), p(l, "data-testid", f = `${n[12].id}-label`) }, m(b, y) { I(b, e, y), I(b, a, y), I(b, l, y), A(l, c), g || (h = [Me(e, "change", m), Me(e, "change", v)], g = !0) }, p(b, y) { n = b, y & 1 && t !== (t = n[12].id) && p(e, "id", t), y & 1 && i !== (i = n[12].id) && (e.value = i), y & 1 && r !== (r = n[12].ariaLabel) && p(e, "aria-label", r), y & 5 && s !== (s = n[12].id === n[2]) && (e.checked = s), y & 1 && o !== (o = n[12].id) && p(e, "data-testid", o), y & 1 && u !== (u = n[12].label + "") && me(c, u), y & 1 && d !== (d = n[12].id) && p(l, "for", d), y & 1 && f !== (f = `${n[12].id}-label`) && p(l, "data-testid", f) }, i: j, o: j, d(b) { b && (_(e), _(a), _(l)), g = !1, Ot(h) } } } function DBe(n) { let e, t, i; var r = n[5]; function s(o, a) { return { props: { action: o[12].action, $$slots: { default: [SBe] }, $$scope: { ctx: o } } } } return r && (e = jt(r, s(n))), { c() { e && V(e.$$.fragment), t = re() }, l(o) { e && q(e.$$.fragment, o), t = re() }, m(o, a) { e && H(e, o, a), I(o, t, a), i = !0 }, p(o, a) { if (a & 32 && r !== (r = o[5])) { if (e) { te(); const l = e; D(l.$$.fragment, 1, 0, () => { $(l, 1) }), ne() } r ? (e = jt(r, s(o)), V(e.$$.fragment), w(e.$$.fragment, 1), H(e, t.parentNode, t)) : e = null } else if (r) { const l = {}; a & 1 && (l.action = o[12].action), a & 32769 && (l.$$scope = { dirty: a, ctx: o }), e.$set(l) } }, i(o) { i || (e && w(e.$$.fragment, o), i = !0) }, o(o) { e && D(e.$$.fragment, o), i = !1 }, d(o) { o && _(t), e && $(e, o) } } } function SBe(n) { let e, t = n[12].label + "", i; return { c() { e = L("span"), i = le(t), this.h() }, l(r) { e = T(r, "SPAN", { class: !0 }); var s = E(e); i = ue(s, t), s.forEach(_), this.h() }, h() { p(e, "class", "search-scope-bar__pill-label svelte-nkvllf") }, m(r, s) { I(r, e, s), A(e, i) }, p(r, s) { s & 1 && t !== (t = r[12].label + "") && me(i, t) }, d(r) { r && _(e) } } } function U9(n) { let e, t, i, r, s, o, a; const l = [DBe, kBe], u = []; function c(f, g) { return f[5] ? 0 : 1 } t = c(n), i = u[t] = l[t](n); function d() { return n[10](n[14]) } return { c() { e = L("div"), i.c(), r = Y(), this.h() }, l(f) { e = T(f, "DIV", { class: !0 }); var g = E(e); i.l(g), r = X(g), g.forEach(_), this.h() }, h() { p(e, "class", "search-scope-bar__pill-option svelte-nkvllf"), J(e, "search-scope-bar__pill-option--right", n[14] === n[0].length - 1), J(e, "search-scope-bar__pill-option--selected", n[12].id === n[2]) }, m(f, g) { I(f, e, g), u[t].m(e, null), A(e, r), s = !0, o || (a = Me(e, "click", d, !0), o = !0) }, p(f, g) { n = f; let h = t; t = c(n), t === h ? u[t].p(n, g) : (te(), D(u[h], 1, 1, () => { u[h] = null }), ne(), i = u[t], i ? i.p(n, g) : (i = u[t] = l[t](n), i.c()), w(i, 1), i.m(e, r)), (!s || g & 1) && J(e, "search-scope-bar__pill-option--right", n[14] === n[0].length - 1), (!s || g & 5) && J(e, "search-scope-bar__pill-option--selected", n[12].id === n[2]) }, i(f) { s || (w(i), s = !0) }, o(f) { D(i), s = !1 }, d(f) { f && _(e), u[t].d(), o = !1, a() } } } function CBe(n) { var r; let e, t, i = ((r = n[0]) == null ? void 0 : r.length) && B9(n); return { c() { i && i.c(), e = re() }, l(s) { i && i.l(s), e = re() }, m(s, o) { i && i.m(s, o), I(s, e, o), t = !0 }, p(s, o) { var a; (a = s[0]) != null && a.length ? i ? (i.p(s, o), o & 1 && w(i, 1)) : (i = B9(s), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(s) { t || (w(i), t = !0) }, o(s) { D(i), t = !1 }, d(s) { s && _(e), i && i.d(s) } } } function PBe(n) { let e, t, i; return t = new yBe({ props: { textAlignment: "left", $$slots: { controls: [CBe], default: [wBe] }, $$scope: { ctx: n } } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0, "data-testid": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "search-scope-bar svelte-nkvllf"), p(e, "data-testid", "segmented-controls"), J(e, "desktop-controls-centered", n[3]), J(e, "scope-bar-non-material", !n[1]) }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, [s]) { const o = {}; s & 32887 && (o.$$scope = { dirty: s, ctx: r }), t.$set(o), (!i || s & 8) && J(e, "desktop-controls-centered", r[3]), (!i || s & 2) && J(e, "scope-bar-non-material", !r[1]) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function ABe(n, e, t) { const i = It(); let { items: r } = e, { context: s = null } = e, { selectedId: o } = e, { centerControls: a = !1 } = e, { useSmallControls: l = !0 } = e, { clickComponent: u = null } = e, c = r.findIndex(m => m.id === o); function d(m) { i("toggleSelected", m) } const f = m => d(m.id), g = m => t(6, c = m), h = m => t(6, c = m); return n.$$set = m => { "items" in m && t(0, r = m.items), "context" in m && t(1, s = m.context), "selectedId" in m && t(2, o = m.selectedId), "centerControls" in m && t(3, a = m.centerControls), "useSmallControls" in m && t(4, l = m.useSmallControls), "clickComponent" in m && t(5, u = m.clickComponent) }, [r, s, o, a, l, u, c, d, f, g, h] } class EBe extends oe { constructor(e) { super(), se(this, e, ABe, PBe, ye, { items: 0, context: 1, selectedId: 2, centerControls: 3, useSmallControls: 4, clickComponent: 5 }) } } function IBe(n) { let e, t; return e = new EBe({ props: { items: n[3], context: n[1], selectedId: n[0] } }), e.$on("toggleSelected", n[4]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 2 && (s.context = i[1]), r & 1 && (s.selectedId = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } const MBe = "searchInCatalog", H9 = "searchInLibrary"; function LBe(n, e, t) { let i, r, s, o; const a = ot(); ce(n, a, h => t(8, o = h)); const l = sn(); let { item: u } = e, { term: c } = e; const d = [{ id: MBe, ariaLabel: o.t("ASE.Web.Music.Search.In.Apple.Music"), label: o.t("ASE.Web.Music.AppleMusic") }, { id: H9, ariaLabel: o.t("ASE.Web.Music.Search.In.Library"), label: o.t("ASE.Web.Music.Your.Library") }]; function f({ detail: h }) { t(7, i = h === H9), l(i ? u.inLibrarySegue : u.catalogSegue) } function g(h) { t(0, r = h.detail), f(h) } return n.$$set = h => { "item" in h && t(5, u = h.item), "term" in h && t(6, c = h.term) }, n.$$.update = () => { n.$$.dirty & 32 && t(7, i = (u == null ? void 0 : u.inLibrary) || !1), n.$$.dirty & 128 && t(0, r = i ? "searchInLibrary" : "searchInCatalog"), n.$$.dirty & 320 && t(1, s = c ? o.t("ASE.Web.Music.Search.Showing.Results", { searchText: c }) : null), n.$$.dirty & 128 && Jg.set(i) }, [r, s, a, d, g, u, c, i, o] } class nU extends oe { constructor(e) { super(), se(this, e, LBe, IBe, ye, { item: 5, term: 6 }) } } function $9(n) { let e, t; return e = new nU({ props: { item: n[0].scopeBar, term: n[0].term } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.item = i[0].scopeBar), r & 1 && (s.term = i[0].term), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function V9(n) { let e, t, i, r, s, o = n[3].t("ASE.Web.Music.Search.In.Library") + "", a, l; return i = new fO({}), { c() { e = L("div"), t = L("div"), V(i.$$.fragment), r = Y(), s = L("p"), a = le(o), this.h() }, l(u) { e = T(u, "DIV", { role: !0, class: !0 }); var c = E(e); t = T(c, "DIV", { class: !0 }); var d = E(t); q(i.$$.fragment, d), d.forEach(_), r = X(c), s = T(c, "P", { "data-testid": !0, class: !0 }); var f = E(s); a = ue(f, o), f.forEach(_), c.forEach(_), this.h() }, h() { p(t, "class", "library-search-content__icon svelte-1bbvl5d"), p(s, "data-testid", "library-search-desc"), p(s, "class", "library-search-content__description svelte-1bbvl5d"), p(e, "role", "status"), p(e, "class", "library-search-content svelte-1bbvl5d") }, m(u, c) { I(u, e, c), A(e, t), H(i, t, null), A(e, r), A(e, s), A(s, a), l = !0 }, p(u, c) { (!l || c & 8) && o !== (o = u[3].t("ASE.Web.Music.Search.In.Library") + "") && me(a, o) }, i(u) { l || (w(i.$$.fragment, u), l = !0) }, o(u) { D(i.$$.fragment, u), l = !1 }, d(u) { u && _(e), $(i) } } } function TBe(n) { var l; let e, t, i, r, s, o = n[0].scopeBar && $9(n); i = new Uc({ props: { page: n[2] } }); let a = ((l = n[0].scopeBar) == null ? void 0 : l.inLibrary) && !n[1] && V9(n); return { c() { e = L("div"), o && o.c(), t = Y(), V(i.$$.fragment), r = Y(), a && a.c(), this.h() }, l(u) { e = T(u, "DIV", { class: !0 }); var c = E(e); o && o.l(c), t = X(c), q(i.$$.fragment, c), r = X(c), a && a.l(c), c.forEach(_), this.h() }, h() { p(e, "class", "desktop-search-page svelte-1bbvl5d") }, m(u, c) { I(u, e, c), o && o.m(e, null), A(e, t), H(i, e, null), A(e, r), a && a.m(e, null), s = !0 }, p(u, [c]) { var f; u[0].scopeBar ? o ? (o.p(u, c), c & 1 && w(o, 1)) : (o = $9(u), o.c(), w(o, 1), o.m(e, t)) : o && (te(), D(o, 1, 1, () => { o = null }), ne()); const d = {}; c & 4 && (d.page = u[2]), i.$set(d), (f = u[0].scopeBar) != null && f.inLibrary && !u[1] ? a ? (a.p(u, c), c & 3 && w(a, 1)) : (a = V9(u), a.c(), w(a, 1), a.m(e, null)) : a && (te(), D(a, 1, 1, () => { a = null }), ne()) }, i(u) { s || (w(o), w(i.$$.fragment, u), w(a), s = !0) }, o(u) { D(o), D(i.$$.fragment, u), D(a), s = !1 }, d(u) { u && _(e), o && o.d(), $(i), a && a.d() } } } function RBe(n, e, t) { let i, r; const s = ot(); ce(n, s, l => t(3, r = l)); let { page: o } = e, { hasSearchResults: a } = e; return n.$$set = l => { "page" in l && t(0, o = l.page), "hasSearchResults" in l && t(1, a = l.hasSearchResults) }, n.$$.update = () => { n.$$.dirty & 1 && t(2, i = Object.assign(Object.assign({}, o), { sections: o.sections.map(l => l.id === "top-search-section - top" ? Object.assign(Object.assign({}, l), { items: l.items.slice(0, 6) }) : l) })) }, [o, a, i, r, s] } class FBe extends oe { constructor(e) { super(), se(this, e, RBe, TBe, ye, { page: 0, hasSearchResults: 1 }) } } function OBe(n) { let e, t; return e = new FBe({ props: { page: n[0], hasSearchResults: n[1] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.page = i[0]), r & 2 && (s.hasSearchResults = i[1]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function NBe(n) { let e, t; return e = new pBe({ props: { page: n[0], hasSearchResults: n[1] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.page = i[0]), r & 2 && (s.hasSearchResults = i[1]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function BBe(n) { let e, t, i, r; const s = [NBe, OBe], o = []; function a(l, u) { return l[2] ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, [u]) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function UBe(n, e, t) { let i, r; ce(n, ec, o => t(2, r = o)); let { page: s } = e; return n.$$set = o => { "page" in o && t(0, s = o.page) }, n.$$.update = () => { n.$$.dirty & 1 && t(1, i = s.sections.filter(o => o.itemKind !== "brickLockup").some(o => o.itemKind !== "topSearchLockup")) }, [s, i, r] } class HBe extends oe { constructor(e) { super(), se(this, e, UBe, BBe, ye, { page: 0 }) } } function $Be(n) { return "deeplinkPath" in n } function VBe(n) { return "replay" in n } function iU(n) { return "search" in n && n.search === !0 } const rU = { "<": "\\u003C", "\u2028": "\\u2028", "\u2029": "\\u2029" }, zBe = new RegExp(`[${Object.keys(rU).join("")}]`, "g"); function z9(n) { try { return JSON.stringify(n).replace(zBe, e => rU[e]) } catch (e) { return "" } } const qBe = n => ({}), q9 = n => ({}), WBe = n => ({}), W9 = n => ({}); function K9(n, e, t) { const i = n.slice(); return i[18] = e[t], i } function J9(n) { return document.title = "" + (n[7] + n[9]), { c: j, l: j, m: j, d: j } } function Y9(n) { var et; let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R, F, N, O, B; function U(ie, $e) { if (ie[0].noFollow) return JBe; if (ie[0].noIndex) return KBe } let K = U(n), W = K && K(n), Z = n[0].description && X9(n), Q = n[0].keywords && Z9(n), G = n[10] && Q9(n), ae = n[2] && j9(n), ee = !!((et = n[0].oembedData) != null && et.url) && eC(n), pe = n[0].appleStoreId && tC(n), ke = n[0].appleStoreName && nC(n), we = n[0].appleContentId && iC(n), Te = n[0].appleTitle && rC(n), ge = n[0].appleDescription && sC(n), Ce = n[0].socialTitle && oC(n), he = n[0].socialDescription && aC(n), Ae = n[0].siteName && lC(n), ze = n[0].url && uC(n), Pe = n[6] && cC(n), Oe = n[0].ogType && hC(n), _e = n[0].socialTitle && n[8] && mC(n), Se = n[11].extendedOpenGraphData && pC(n), Re = n[0].socialTitle && _C(n), Ze = n[0].socialDescription && vC(n), De = n[0].twitterSite && bC(n), xe = n[5] && yC(n), Fe = n[0].twitterCardType && wC(n), Be = n[11].schemaOrganizationData && kC(n), lt = n[0].schemaName && n[4] && DC(n), _t = n[0].breadcrumbSchemaName && n[3] && SC(n); return { c() { W && W.c(), e = Y(), Z && Z.c(), t = Y(), Q && Q.c(), i = Y(), G && G.c(), r = Y(), ae && ae.c(), s = Y(), ee && ee.c(), o = Y(), pe && pe.c(), a = Y(), ke && ke.c(), l = Y(), we && we.c(), u = Y(), Te && Te.c(), c = Y(), ge && ge.c(), d = Y(), Ce && Ce.c(), f = Y(), he && he.c(), g = Y(), Ae && Ae.c(), h = Y(), ze && ze.c(), m = Y(), Pe && Pe.c(), v = Y(), Oe && Oe.c(), b = Y(), _e && _e.c(), y = Y(), Se && Se.c(), k = Y(), Re && Re.c(), S = Y(), Ze && Ze.c(), C = Y(), De && De.c(), P = Y(), xe && xe.c(), M = Y(), Fe && Fe.c(), R = Y(), Be && Be.c(), F = Y(), lt && lt.c(), N = Y(), _t && _t.c(), O = re() }, l(ie) { W && W.l(ie), e = X(ie), Z && Z.l(ie), t = X(ie), Q && Q.l(ie), i = X(ie), G && G.l(ie), r = X(ie), ae && ae.l(ie), s = X(ie), ee && ee.l(ie), o = X(ie), pe && pe.l(ie), a = X(ie), ke && ke.l(ie), l = X(ie), we && we.l(ie), u = X(ie), Te && Te.l(ie), c = X(ie), ge && ge.l(ie), d = X(ie), Ce && Ce.l(ie), f = X(ie), he && he.l(ie), g = X(ie), Ae && Ae.l(ie), h = X(ie), ze && ze.l(ie), m = X(ie), Pe && Pe.l(ie), v = X(ie), Oe && Oe.l(ie), b = X(ie), _e && _e.l(ie), y = X(ie), Se && Se.l(ie), k = X(ie), Re && Re.l(ie), S = X(ie), Ze && Ze.l(ie), C = X(ie), De && De.l(ie), P = X(ie), xe && xe.l(ie), M = X(ie), Fe && Fe.l(ie), R = X(ie), Be && Be.l(ie), F = X(ie), lt && lt.l(ie), N = X(ie), _t && _t.l(ie), O = re() }, m(ie, $e) { W && W.m(ie, $e), I(ie, e, $e), Z && Z.m(ie, $e), I(ie, t, $e), Q && Q.m(ie, $e), I(ie, i, $e), G && G.m(ie, $e), I(ie, r, $e), ae && ae.m(ie, $e), I(ie, s, $e), ee && ee.m(ie, $e), I(ie, o, $e), pe && pe.m(ie, $e), I(ie, a, $e), ke && ke.m(ie, $e), I(ie, l, $e), we && we.m(ie, $e), I(ie, u, $e), Te && Te.m(ie, $e), I(ie, c, $e), ge && ge.m(ie, $e), I(ie, d, $e), Ce && Ce.m(ie, $e), I(ie, f, $e), he && he.m(ie, $e), I(ie, g, $e), Ae && Ae.m(ie, $e), I(ie, h, $e), ze && ze.m(ie, $e), I(ie, m, $e), Pe && Pe.m(ie, $e), I(ie, v, $e), Oe && Oe.m(ie, $e), I(ie, b, $e), _e && _e.m(ie, $e), I(ie, y, $e), Se && Se.m(ie, $e), I(ie, k, $e), Re && Re.m(ie, $e), I(ie, S, $e), Ze && Ze.m(ie, $e), I(ie, C, $e), De && De.m(ie, $e), I(ie, P, $e), xe && xe.m(ie, $e), I(ie, M, $e), Fe && Fe.m(ie, $e), I(ie, R, $e), Be && Be.m(ie, $e), I(ie, F, $e), lt && lt.m(ie, $e), I(ie, N, $e), _t && _t.m(ie, $e), I(ie, O, $e), B = !0 }, p(ie, $e) { var kt; K !== (K = U(ie)) && (W && W.d(1), W = K && K(ie), W && (W.c(), W.m(e.parentNode, e))), ie[0].description ? Z ? Z.p(ie, $e) : (Z = X9(ie), Z.c(), Z.m(t.parentNode, t)) : Z && (Z.d(1), Z = null), ie[0].keywords ? Q ? Q.p(ie, $e) : (Q = Z9(ie), Q.c(), Q.m(i.parentNode, i)) : Q && (Q.d(1), Q = null), ie[10] ? G ? G.p(ie, $e) : (G = Q9(ie), G.c(), G.m(r.parentNode, r)) : G && (G.d(1), G = null), ie[2] ? ae ? ae.p(ie, $e) : (ae = j9(ie), ae.c(), ae.m(s.parentNode, s)) : ae && (ae.d(1), ae = null), (kt = ie[0].oembedData) != null && kt.url ? ee ? ee.p(ie, $e) : (ee = eC(ie), ee.c(), ee.m(o.parentNode, o)) : ee && (ee.d(1), ee = null), ie[0].appleStoreId ? pe ? pe.p(ie, $e) : (pe = tC(ie), pe.c(), pe.m(a.parentNode, a)) : pe && (pe.d(1), pe = null), ie[0].appleStoreName ? ke ? ke.p(ie, $e) : (ke = nC(ie), ke.c(), ke.m(l.parentNode, l)) : ke && (ke.d(1), ke = null), ie[0].appleContentId ? we ? we.p(ie, $e) : (we = iC(ie), we.c(), we.m(u.parentNode, u)) : we && (we.d(1), we = null), ie[0].appleTitle ? Te ? Te.p(ie, $e) : (Te = rC(ie), Te.c(), Te.m(c.parentNode, c)) : Te && (Te.d(1), Te = null), ie[0].appleDescription ? ge ? ge.p(ie, $e) : (ge = sC(ie), ge.c(), ge.m(d.parentNode, d)) : ge && (ge.d(1), ge = null), ie[0].socialTitle ? Ce ? Ce.p(ie, $e) : (Ce = oC(ie), Ce.c(), Ce.m(f.parentNode, f)) : Ce && (Ce.d(1), Ce = null), ie[0].socialDescription ? he ? he.p(ie, $e) : (he = aC(ie), he.c(), he.m(g.parentNode, g)) : he && (he.d(1), he = null), ie[0].siteName ? Ae ? Ae.p(ie, $e) : (Ae = lC(ie), Ae.c(), Ae.m(h.parentNode, h)) : Ae && (Ae.d(1), Ae = null), ie[0].url ? ze ? ze.p(ie, $e) : (ze = uC(ie), ze.c(), ze.m(m.parentNode, m)) : ze && (ze.d(1), ze = null), ie[6] ? Pe ? Pe.p(ie, $e) : (Pe = cC(ie), Pe.c(), Pe.m(v.parentNode, v)) : Pe && (Pe.d(1), Pe = null), ie[0].ogType ? Oe ? Oe.p(ie, $e) : (Oe = hC(ie), Oe.c(), Oe.m(b.parentNode, b)) : Oe && (Oe.d(1), Oe = null), ie[0].socialTitle && ie[8] ? _e ? _e.p(ie, $e) : (_e = mC(ie), _e.c(), _e.m(y.parentNode, y)) : _e && (_e.d(1), _e = null), ie[11].extendedOpenGraphData ? Se ? (Se.p(ie, $e), $e & 2048 && w(Se, 1)) : (Se = pC(ie), Se.c(), w(Se, 1), Se.m(k.parentNode, k)) : Se && (te(), D(Se, 1, 1, () => { Se = null }), ne()), ie[0].socialTitle ? Re ? Re.p(ie, $e) : (Re = _C(ie), Re.c(), Re.m(S.parentNode, S)) : Re && (Re.d(1), Re = null), ie[0].socialDescription ? Ze ? Ze.p(ie, $e) : (Ze = vC(ie), Ze.c(), Ze.m(C.parentNode, C)) : Ze && (Ze.d(1), Ze = null), ie[0].twitterSite ? De ? De.p(ie, $e) : (De = bC(ie), De.c(), De.m(P.parentNode, P)) : De && (De.d(1), De = null), ie[5] ? xe ? xe.p(ie, $e) : (xe = yC(ie), xe.c(), xe.m(M.parentNode, M)) : xe && (xe.d(1), xe = null), ie[0].twitterCardType ? Fe ? Fe.p(ie, $e) : (Fe = wC(ie), Fe.c(), Fe.m(R.parentNode, R)) : Fe && (Fe.d(1), Fe = null), ie[11].schemaOrganizationData ? Be ? (Be.p(ie, $e), $e & 2048 && w(Be, 1)) : (Be = kC(ie), Be.c(), w(Be, 1), Be.m(F.parentNode, F)) : Be && (te(), D(Be, 1, 1, () => { Be = null }), ne()), ie[0].schemaName && ie[4] ? lt ? lt.p(ie, $e) : (lt = DC(ie), lt.c(), lt.m(N.parentNode, N)) : lt && (lt.d(1), lt = null), ie[0].breadcrumbSchemaName && ie[3] ? _t ? _t.p(ie, $e) : (_t = SC(ie), _t.c(), _t.m(O.parentNode, O)) : _t && (_t.d(1), _t = null) }, i(ie) { B || (w(Se), w(Be), B = !0) }, o(ie) { D(Se), D(Be), B = !1 }, d(ie) { ie && (_(e), _(t), _(i), _(r), _(s), _(o), _(a), _(l), _(u), _(c), _(d), _(f), _(g), _(h), _(m), _(v), _(b), _(y), _(k), _(S), _(C), _(P), _(M), _(R), _(F), _(N), _(O)), W && W.d(ie), Z && Z.d(ie), Q && Q.d(ie), G && G.d(ie), ae && ae.d(ie), ee && ee.d(ie), pe && pe.d(ie), ke && ke.d(ie), we && we.d(ie), Te && Te.d(ie), ge && ge.d(ie), Ce && Ce.d(ie), he && he.d(ie), Ae && Ae.d(ie), ze && ze.d(ie), Pe && Pe.d(ie), Oe && Oe.d(ie), _e && _e.d(ie), Se && Se.d(ie), Re && Re.d(ie), Ze && Ze.d(ie), De && De.d(ie), xe && xe.d(ie), Fe && Fe.d(ie), Be && Be.d(ie), lt && lt.d(ie), _t && _t.d(ie) } } } function KBe(n) { let e; return { c() { e = L("meta"), this.h() }, l(t) { e = T(t, "META", { name: !0, content: !0 }), this.h() }, h() { p(e, "name", "robots"), p(e, "content", "noindex") }, m(t, i) { I(t, e, i) }, d(t) { t && _(e) } } } function JBe(n) { let e; return { c() { e = L("meta"), this.h() }, l(t) { e = T(t, "META", { name: !0, content: !0 }), this.h() }, h() { p(e, "name", "robots"), p(e, "content", "noindex, nofollow") }, m(t, i) { I(t, e, i) }, d(t) { t && _(e) } } } function X9(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { name: !0, content: !0 }), this.h() }, h() { p(e, "name", "description"), p(e, "content", t = n[0].description) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].description) && p(e, "content", t) }, d(i) { i && _(e) } } } function Z9(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { name: !0, content: !0 }), this.h() }, h() { p(e, "name", "keywords"), p(e, "content", t = n[0].keywords) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].keywords) && p(e, "content", t) }, d(i) { i && _(e) } } } function Q9(n) { let e; return { c() { e = L("link"), this.h() }, l(t) { e = T(t, "LINK", { rel: !0, href: !0 }), this.h() }, h() { p(e, "rel", "canonical"), p(e, "href", n[10]) }, m(t, i) { I(t, e, i) }, p(t, i) { i & 1024 && p(e, "href", t[10]) }, d(t) { t && _(e) } } } function j9(n) { let e, t = ut(n[2]), i = []; for (let r = 0; r < t.length; r += 1)i[r] = x9(K9(n, t, r)); return { c() { for (let r = 0; r < i.length; r += 1)i[r].c(); e = re() }, l(r) { for (let s = 0; s < i.length; s += 1)i[s].l(r); e = re() }, m(r, s) { for (let o = 0; o < i.length; o += 1)i[o] && i[o].m(r, s); I(r, e, s) }, p(r, s) { if (s & 4) { t = ut(r[2]); let o; for (o = 0; o < t.length; o += 1) { const a = K9(r, t, o); i[o] ? i[o].p(a, s) : (i[o] = x9(a), i[o].c(), i[o].m(e.parentNode, e)) } for (; o < i.length; o += 1)i[o].d(1); i.length = t.length } }, d(r) { r && _(e), ln(i, r) } } } function G9(n) { let e, t, i; return { c() { e = L("link"), this.h() }, l(r) { e = T(r, "LINK", { rel: !0, href: !0, hreflang: !0 }), this.h() }, h() { p(e, "rel", "alternate"), p(e, "href", t = n[18].path), p(e, "hreflang", i = n[18].tag) }, m(r, s) { I(r, e, s) }, p(r, s) { s & 4 && t !== (t = r[18].path) && p(e, "href", t), s & 4 && i !== (i = r[18].tag) && p(e, "hreflang", i) }, d(r) { r && _(e) } } } function x9(n) { let e, t = n[18] && G9(n); return { c() { t && t.c(), e = re() }, l(i) { t && t.l(i), e = re() }, m(i, r) { t && t.m(i, r), I(i, e, r) }, p(i, r) { i[18] ? t ? t.p(i, r) : (t = G9(i), t.c(), t.m(e.parentNode, e)) : t && (t.d(1), t = null) }, d(i) { i && _(e), t && t.d(i) } } } function eC(n) { let e, t, i; return { c() { e = L("link"), this.h() }, l(r) { e = T(r, "LINK", { rel: !0, type: !0, href: !0, title: !0 }), this.h() }, h() { var r; p(e, "rel", "alternate"), p(e, "type", "application/json+oembed"), p(e, "href", t = `${n[1]}/api/oembed?url=${encodeURIComponent(n[0].oembedData.url)}`), p(e, "title", i = (r = n[0].oembedData.title) != null ? r : "") }, m(r, s) { I(r, e, s) }, p(r, s) { var o; s & 3 && t !== (t = `${r[1]}/api/oembed?url=${encodeURIComponent(r[0].oembedData.url)}`) && p(e, "href", t), s & 1 && i !== (i = (o = r[0].oembedData.title) != null ? o : "") && p(e, "title", i) }, d(r) { r && _(e) } } } function tC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { name: !0, content: !0 }), this.h() }, h() { p(e, "name", "al:ios:app_store_id"), p(e, "content", t = n[0].appleStoreId) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].appleStoreId) && p(e, "content", t) }, d(i) { i && _(e) } } } function nC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { name: !0, content: !0 }), this.h() }, h() { p(e, "name", "al:ios:app_name"), p(e, "content", t = n[0].appleStoreName) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].appleStoreName) && p(e, "content", t) }, d(i) { i && _(e) } } } function iC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { name: !0, content: !0 }), this.h() }, h() { p(e, "name", "apple:content_id"), p(e, "content", t = n[0].appleContentId) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].appleContentId) && p(e, "content", t) }, d(i) { i && _(e) } } } function rC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { name: !0, content: !0 }), this.h() }, h() { p(e, "name", "apple:title"), p(e, "content", t = n[0].appleTitle) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].appleTitle) && p(e, "content", t) }, d(i) { i && _(e) } } } function sC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { name: !0, content: !0 }), this.h() }, h() { p(e, "name", "apple:description"), p(e, "content", t = n[0].appleDescription) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].appleDescription) && p(e, "content", t) }, d(i) { i && _(e) } } } function oC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "og:title"), p(e, "content", t = n[0].socialTitle) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].socialTitle) && p(e, "content", t) }, d(i) { i && _(e) } } } function aC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "og:description"), p(e, "content", t = n[0].socialDescription) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].socialDescription) && p(e, "content", t) }, d(i) { i && _(e) } } } function lC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "og:site_name"), p(e, "content", t = n[0].siteName) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].siteName) && p(e, "content", t) }, d(i) { i && _(e) } } } function uC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "og:url"), p(e, "content", t = n[0].url) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].url) && p(e, "content", t) }, d(i) { i && _(e) } } } function cC(n) { let e, t, i, r, s, o, a, l; function u(m, v) { if (m[0].imageAltTitle) return XBe; if (m[0].socialTitle) return YBe } let c = u(n), d = c && c(n), f = n[0].width && dC(n), g = n[0].height && fC(n), h = n[0].fileType && gC(n); return { c() { e = L("meta"), t = Y(), i = L("meta"), r = Y(), d && d.c(), s = Y(), f && f.c(), o = Y(), g && g.c(), a = Y(), h && h.c(), l = re(), this.h() }, l(m) { e = T(m, "META", { property: !0, content: !0 }), t = X(m), i = T(m, "META", { property: !0, content: !0 }), r = X(m), d && d.l(m), s = X(m), f && f.l(m), o = X(m), g && g.l(m), a = X(m), h && h.l(m), l = re(), this.h() }, h() { p(e, "property", "og:image"), p(e, "content", n[6]), p(i, "property", "og:image:secure_url"), p(i, "content", n[6]) }, m(m, v) { I(m, e, v), I(m, t, v), I(m, i, v), I(m, r, v), d && d.m(m, v), I(m, s, v), f && f.m(m, v), I(m, o, v), g && g.m(m, v), I(m, a, v), h && h.m(m, v), I(m, l, v) }, p(m, v) { v & 64 && p(e, "content", m[6]), v & 64 && p(i, "content", m[6]), c === (c = u(m)) && d ? d.p(m, v) : (d && d.d(1), d = c && c(m), d && (d.c(), d.m(s.parentNode, s))), m[0].width ? f ? f.p(m, v) : (f = dC(m), f.c(), f.m(o.parentNode, o)) : f && (f.d(1), f = null), m[0].height ? g ? g.p(m, v) : (g = fC(m), g.c(), g.m(a.parentNode, a)) : g && (g.d(1), g = null), m[0].fileType ? h ? h.p(m, v) : (h = gC(m), h.c(), h.m(l.parentNode, l)) : h && (h.d(1), h = null) }, d(m) { m && (_(e), _(t), _(i), _(r), _(s), _(o), _(a), _(l)), d && d.d(m), f && f.d(m), g && g.d(m), h && h.d(m) } } } function YBe(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "og:image:alt"), p(e, "content", t = n[0].socialTitle) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].socialTitle) && p(e, "content", t) }, d(i) { i && _(e) } } } function XBe(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "og:image:alt"), p(e, "content", t = n[0].imageAltTitle) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].imageAltTitle) && p(e, "content", t) }, d(i) { i && _(e) } } } function dC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "og:image:width"), p(e, "content", t = n[0].width.toString()) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].width.toString()) && p(e, "content", t) }, d(i) { i && _(e) } } } function fC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "og:image:height"), p(e, "content", t = n[0].height.toString()) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].height.toString()) && p(e, "content", t) }, d(i) { i && _(e) } } } function gC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "og:image:type"), p(e, "content", t = `image/${n[0].fileType}`) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = `image/${i[0].fileType}`) && p(e, "content", t) }, d(i) { i && _(e) } } } function hC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "og:type"), p(e, "content", t = n[0].ogType) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].ogType) && p(e, "content", t) }, d(i) { i && _(e) } } } function mC(n) { let e; return { c() { e = L("meta"), this.h() }, l(t) { e = T(t, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "og:locale"), p(e, "content", n[8]) }, m(t, i) { I(t, e, i) }, p(t, i) { i & 256 && p(e, "content", t[8]) }, d(t) { t && _(e) } } } function pC(n) { let e; const t = n[16].extendedOpenGraphData, i = We(t, n, n[15], W9); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 32768) && Je(i, t, r, r[15], e ? Ke(t, r[15], s, WBe) : Ye(r[15]), W9) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function _C(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { name: !0, content: !0 }), this.h() }, h() { p(e, "name", "twitter:title"), p(e, "content", t = n[0].socialTitle) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].socialTitle) && p(e, "content", t) }, d(i) { i && _(e) } } } function vC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { name: !0, content: !0 }), this.h() }, h() { p(e, "name", "twitter:description"), p(e, "content", t = n[0].socialDescription) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].socialDescription) && p(e, "content", t) }, d(i) { i && _(e) } } } function bC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { name: !0, content: !0 }), this.h() }, h() { p(e, "name", "twitter:site"), p(e, "content", t = n[0].twitterSite) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].twitterSite) && p(e, "content", t) }, d(i) { i && _(e) } } } function yC(n) { let e, t, i; function r(a, l) { if (a[0].imageAltTitle) return QBe; if (a[0].socialTitle) return ZBe } let s = r(n), o = s && s(n); return { c() { e = L("meta"), t = Y(), o && o.c(), i = re(), this.h() }, l(a) { e = T(a, "META", { name: !0, content: !0 }), t = X(a), o && o.l(a), i = re(), this.h() }, h() { p(e, "name", "twitter:image"), p(e, "content", n[5]) }, m(a, l) { I(a, e, l), I(a, t, l), o && o.m(a, l), I(a, i, l) }, p(a, l) { l & 32 && p(e, "content", a[5]), s === (s = r(a)) && o ? o.p(a, l) : (o && o.d(1), o = s && s(a), o && (o.c(), o.m(i.parentNode, i))) }, d(a) { a && (_(e), _(t), _(i)), o && o.d(a) } } } function ZBe(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { name: !0, content: !0 }), this.h() }, h() { p(e, "name", "twitter:image:alt"), p(e, "content", t = n[0].socialTitle) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].socialTitle) && p(e, "content", t) }, d(i) { i && _(e) } } } function QBe(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { name: !0, content: !0 }), this.h() }, h() { p(e, "name", "twitter:image:alt"), p(e, "content", t = n[0].imageAltTitle) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].imageAltTitle) && p(e, "content", t) }, d(i) { i && _(e) } } } function wC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { name: !0, content: !0 }), this.h() }, h() { p(e, "name", "twitter:card"), p(e, "content", t = n[0].twitterCardType) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].twitterCardType) && p(e, "content", t) }, d(i) { i && _(e) } } } function kC(n) { let e; const t = n[16].schemaOrganizationData, i = We(t, n, n[15], q9); return { c() { i && i.c() }, l(r) { i && i.l(r) }, m(r, s) { i && i.m(r, s), e = !0 }, p(r, s) { i && i.p && (!e || s & 32768) && Je(i, t, r, r[15], e ? Ke(t, r[15], s, qBe) : Ye(r[15]), q9) }, i(r) { e || (w(i, r), e = !0) }, o(r) { D(i, r), e = !1 }, d(r) { i && i.d(r) } } } function DC(n) {
    let e, t = `
                <script id=${n[0].schemaName} type="application/ld+json">
                    ${n[4]}
                <\/script>
                `, i; return {
        c() { e = new Pi(!1), i = re(), this.h() }, l(r) { e = hr(r, !1), i = re(), this.h() }, h() { e.a = i }, m(r, s) { e.m(t, r, s), I(r, i, s) }, p(r, s) {
            s & 17 && t !== (t = `
                <script id=${r[0].schemaName} type="application/ld+json">
                    ${r[4]}
                <\/script>
                `) && e.p(t)
        }, d(r) { r && (_(i), e.d()) }
    }
} function SC(n) {
    let e, t = `
                <script id=${n[0].breadcrumbSchemaName} name=${n[0].breadcrumbSchemaName} type="application/ld+json">
                    ${n[3]}
                <\/script>
                `, i; return {
        c() { e = new Pi(!1), i = re(), this.h() }, l(r) { e = hr(r, !1), i = re(), this.h() }, h() { e.a = i }, m(r, s) { e.m(t, r, s), I(r, i, s) }, p(r, s) {
            s & 9 && t !== (t = `
                <script id=${r[0].breadcrumbSchemaName} name=${r[0].breadcrumbSchemaName} type="application/ld+json">
                    ${r[3]}
                <\/script>
                `) && e.p(t)
        }, d(r) { r && (_(i), e.d()) }
    }
} function jBe(n) { let e, t, i, r = n[9] && J9(n), s = !!n[0] && Y9(n); return { c() { r && r.c(), e = re(), s && s.c(), t = re() }, l(o) { const a = f0("svelte-1dn0qnz", document.head); r && r.l(a), e = re(), s && s.l(a), t = re(), a.forEach(_) }, m(o, a) { r && r.m(document.head, null), A(document.head, e), s && s.m(document.head, null), A(document.head, t), i = !0 }, p(o, [a]) { o[9] ? r || (r = J9(o), r.c(), r.m(e.parentNode, e)) : r && (r.d(1), r = null), o[0] ? s ? (s.p(o, a), a & 1 && w(s, 1)) : (s = Y9(o), s.c(), w(s, 1), s.m(t.parentNode, t)) : s && (te(), D(s, 1, 1, () => { s = null }), ne()) }, i(o) { i || (w(s), i = !0) }, o(o) { D(s), i = !1 }, d(o) { r && r.d(o), _(e), s && s.d(o), _(t) } } } function GBe(n, e, t) { let i, r, s, o, a, l, u, c, { $$slots: d = {}, $$scope: f } = e; const g = wn(d); let { seoData: h = void 0 } = e, { locale: m } = e, { origin: v } = e, { pageDir: b } = e, { defaultTitle: y } = e, { hreflangTags: k = null } = e; function S(C, P) { return C.startsWith("/") && (C = `${v}${C}`), ate(C, P) } return n.$$set = C => { "seoData" in C && t(0, h = C.seoData), "locale" in C && t(12, m = C.locale), "origin" in C && t(1, v = C.origin), "pageDir" in C && t(13, b = C.pageDir), "defaultTitle" in C && t(14, y = C.defaultTitle), "hreflangTags" in C && t(2, k = C.hreflangTags), "$$scope" in C && t(15, f = C.$$scope) }, n.$$.update = () => { var C, P; n.$$.dirty & 1 && t(10, i = (C = h == null ? void 0 : h.canonicalUrl) != null ? C : h == null ? void 0 : h.url), n.$$.dirty & 16385 && t(9, r = (P = h == null ? void 0 : h.pageTitle) != null ? P : y), n.$$.dirty & 4096 && t(8, s = m.language.replace(/-/g, "_") || null), n.$$.dirty & 8192 && t(7, o = b === "rtl" ? i0e : n0e), n.$$.dirty & 1 && t(6, a = h != null && h.artworkUrl ? S(h.artworkUrl, { width: h.width, height: h.height, crop: h.crop, fileType: h.fileType, quality: h.quality }) : null), n.$$.dirty & 1 && t(5, l = h != null && h.artworkUrl ? S(h.artworkUrl, { width: h.twitterWidth, height: h.twitterHeight, crop: h.twitterCropCode, fileType: h.fileType, quality: h.quality }) : null), n.$$.dirty & 1 && t(4, u = h != null && h.schemaContent ? z9(h.schemaContent) : null), n.$$.dirty & 1 && t(3, c = h != null && h.breadcrumbSchemaContent ? z9(h.breadcrumbSchemaContent) : null) }, [h, v, k, c, u, l, a, o, s, r, i, g, m, b, y, f, d] } class xBe extends oe { constructor(e) { super(), se(this, e, GBe, jBe, ye, { seoData: 0, locale: 12, origin: 1, pageDir: 13, defaultTitle: 14, hreflangTags: 2 }) } } function ml(n, e, t) { let i; return n === "" ? i = `/${e}` : i = `/${e}/${n}`, t && (i = `${i}?l=${t}`), i } function CC(n, e, t) { const i = n.slice(); return i[11] = e[t], i } function PC(n, e, t) { const i = n.slice(); return i[14] = e[t], i[16] = t, i } function AC(n) { let e, t, i, r, s, o, a, l; return { c() { e = L("meta"), i = Y(), r = L("meta"), o = Y(), a = L("meta"), this.h() }, l(u) { e = T(u, "META", { property: !0, content: !0 }), i = X(u), r = T(u, "META", { property: !0, content: !0 }), o = X(u), a = T(u, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "og:video"), p(e, "content", t = n[0].videoUrl), p(r, "property", "og:video:height"), p(r, "content", s = n[0].videoHeight.toString()), p(a, "property", "og:video:width"), p(a, "content", l = n[0].videoWidth.toString()) }, m(u, c) { I(u, e, c), I(u, i, c), I(u, r, c), I(u, o, c), I(u, a, c) }, p(u, c) { c & 1 && t !== (t = u[0].videoUrl) && p(e, "content", t), c & 1 && s !== (s = u[0].videoHeight.toString()) && p(r, "content", s), c & 1 && l !== (l = u[0].videoWidth.toString()) && p(a, "content", l) }, d(u) { u && (_(e), _(i), _(r), _(o), _(a)) } } } function EC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "music:song_count"), p(e, "content", t = n[0].songsCount.toString()) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].songsCount.toString()) && p(e, "content", t) }, d(i) { i && _(e) } } } function IC(n) { let e, t = ut(n[0].ogSongs), i = []; for (let r = 0; r < t.length; r += 1)i[r] = UC(PC(n, t, r)); return { c() { for (let r = 0; r < i.length; r += 1)i[r].c(); e = re() }, l(r) { for (let s = 0; s < i.length; s += 1)i[s].l(r); e = re() }, m(r, s) { for (let o = 0; o < i.length; o += 1)i[o] && i[o].m(r, s); I(r, e, s) }, p(r, s) { if (s & 1) { t = ut(r[0].ogSongs); let o; for (o = 0; o < t.length; o += 1) { const a = PC(r, t, o); i[o] ? i[o].p(a, s) : (i[o] = UC(a), i[o].c(), i[o].m(e.parentNode, e)) } for (; o < i.length; o += 1)i[o].d(1); i.length = t.length } }, d(r) { r && _(e), ln(i, r) } } } function MC(n) { let e, t, i, r, s, o, a, l = n[14].url && LC(n), u = n[14].discNumber && TC(n), c = n[14].duration && RC(n), d = n[0].ogType === "music.song" && FC(n); return { c() { l && l.c(), e = Y(), u && u.c(), t = Y(), c && c.c(), i = Y(), r = L("meta"), o = Y(), d && d.c(), a = re(), this.h() }, l(f) { l && l.l(f), e = X(f), u && u.l(f), t = X(f), c && c.l(f), i = X(f), r = T(f, "META", { property: !0, content: !0 }), o = X(f), d && d.l(f), a = re(), this.h() }, h() { var f; p(r, "property", "music:song:track"), p(r, "content", s = ((f = n[14].trackNumber) != null ? f : n[16] + 1).toString()) }, m(f, g) { l && l.m(f, g), I(f, e, g), u && u.m(f, g), I(f, t, g), c && c.m(f, g), I(f, i, g), I(f, r, g), I(f, o, g), d && d.m(f, g), I(f, a, g) }, p(f, g) { var h; f[14].url ? l ? l.p(f, g) : (l = LC(f), l.c(), l.m(e.parentNode, e)) : l && (l.d(1), l = null), f[14].discNumber ? u ? u.p(f, g) : (u = TC(f), u.c(), u.m(t.parentNode, t)) : u && (u.d(1), u = null), f[14].duration ? c ? c.p(f, g) : (c = RC(f), c.c(), c.m(i.parentNode, i)) : c && (c.d(1), c = null), g & 1 && s !== (s = ((h = f[14].trackNumber) != null ? h : f[16] + 1).toString()) && p(r, "content", s), f[0].ogType === "music.song" ? d ? d.p(f, g) : (d = FC(f), d.c(), d.m(a.parentNode, a)) : d && (d.d(1), d = null) }, d(f) { f && (_(e), _(t), _(i), _(r), _(o), _(a)), l && l.d(f), u && u.d(f), c && c.d(f), d && d.d(f) } } } function LC(n) { let e, t, i, r, s; return { c() { e = L("meta"), i = Y(), r = L("meta"), this.h() }, l(o) { e = T(o, "META", { property: !0, content: !0 }), i = X(o), r = T(o, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "music:song"), p(e, "content", t = n[14].url), p(r, "property", "music:song:preview_url:secure_url"), p(r, "content", s = n[14].url) }, m(o, a) { I(o, e, a), I(o, i, a), I(o, r, a) }, p(o, a) { a & 1 && t !== (t = o[14].url) && p(e, "content", t), a & 1 && s !== (s = o[14].url) && p(r, "content", s) }, d(o) { o && (_(e), _(i), _(r)) } } } function TC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "music:song:disc"), p(e, "content", t = n[14].discNumber) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[14].discNumber) && p(e, "content", t) }, d(i) { i && _(e) } } } function RC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "music:song:duration"), p(e, "content", t = n[14].duration) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[14].duration) && p(e, "content", t) }, d(i) { i && _(e) } } } function FC(n) { let e, t, i, r = n[14].albumURL && OC(n), s = n[14].discNumber && NC(n), o = n[14].trackNumber && BC(n); return { c() { r && r.c(), e = Y(), s && s.c(), t = Y(), o && o.c(), i = re() }, l(a) { r && r.l(a), e = X(a), s && s.l(a), t = X(a), o && o.l(a), i = re() }, m(a, l) { r && r.m(a, l), I(a, e, l), s && s.m(a, l), I(a, t, l), o && o.m(a, l), I(a, i, l) }, p(a, l) { a[14].albumURL ? r ? r.p(a, l) : (r = OC(a), r.c(), r.m(e.parentNode, e)) : r && (r.d(1), r = null), a[14].discNumber ? s ? s.p(a, l) : (s = NC(a), s.c(), s.m(t.parentNode, t)) : s && (s.d(1), s = null), a[14].trackNumber ? o ? o.p(a, l) : (o = BC(a), o.c(), o.m(i.parentNode, i)) : o && (o.d(1), o = null) }, d(a) { a && (_(e), _(t), _(i)), r && r.d(a), s && s.d(a), o && o.d(a) } } } function OC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "music:album"), p(e, "content", t = n[14].albumURL) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[14].albumURL) && p(e, "content", t) }, d(i) { i && _(e) } } } function NC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "music:album:disc"), p(e, "content", t = n[14].discNumber) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[14].discNumber) && p(e, "content", t) }, d(i) { i && _(e) } } } function BC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "music:album:track"), p(e, "content", t = n[14].trackNumber.toString()) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[14].trackNumber.toString()) && p(e, "content", t) }, d(i) { i && _(e) } } } function UC(n) { let e, t = n[14] && MC(n); return { c() { t && t.c(), e = re() }, l(i) { t && t.l(i), e = re() }, m(i, r) { t && t.m(i, r), I(i, e, r) }, p(i, r) { i[14] ? t ? t.p(i, r) : (t = MC(i), t.c(), t.m(e.parentNode, e)) : t && (t.d(1), t = null) }, d(i) { i && _(e), t && t.d(i) } } } function HC(n) { let e, t = ut(n[0].artistUrls), i = []; for (let r = 0; r < t.length; r += 1)i[r] = $C(CC(n, t, r)); return { c() { for (let r = 0; r < i.length; r += 1)i[r].c(); e = re() }, l(r) { for (let s = 0; s < i.length; s += 1)i[s].l(r); e = re() }, m(r, s) { for (let o = 0; o < i.length; o += 1)i[o] && i[o].m(r, s); I(r, e, s) }, p(r, s) { if (s & 1) { t = ut(r[0].artistUrls); let o; for (o = 0; o < t.length; o += 1) { const a = CC(r, t, o); i[o] ? i[o].p(a, s) : (i[o] = $C(a), i[o].c(), i[o].m(e.parentNode, e)) } for (; o < i.length; o += 1)i[o].d(1); i.length = t.length } }, d(r) { r && _(e), ln(i, r) } } } function $C(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "music:musician"), p(e, "content", t = n[11]) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[11]) && p(e, "content", t) }, d(i) { i && _(e) } } } function VC(n) { let e, t; return { c() { e = L("meta"), this.h() }, l(i) { e = T(i, "META", { property: !0, content: !0 }), this.h() }, h() { p(e, "property", "music:release_date"), p(e, "content", t = n[0].musicReleaseDate) }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && t !== (t = i[0].musicReleaseDate) && p(e, "content", t) }, d(i) { i && _(e) } } } function eUe(n) { var d, f, g, h, m; let e, t, i, r, s, o = ((d = n[0]) == null ? void 0 : d.videoUrl) && AC(n), a = ((f = n[0]) == null ? void 0 : f.songsCount) && EC(n), l = ((g = n[0]) == null ? void 0 : g.ogSongs) && IC(n), u = ((h = n[0]) == null ? void 0 : h.artistUrls) && HC(n), c = ((m = n[0]) == null ? void 0 : m.musicReleaseDate) && VC(n); return { c() { o && o.c(), e = Y(), a && a.c(), t = Y(), l && l.c(), i = Y(), u && u.c(), r = Y(), c && c.c(), s = re() }, l(v) { o && o.l(v), e = X(v), a && a.l(v), t = X(v), l && l.l(v), i = X(v), u && u.l(v), r = X(v), c && c.l(v), s = re() }, m(v, b) { o && o.m(v, b), I(v, e, b), a && a.m(v, b), I(v, t, b), l && l.m(v, b), I(v, i, b), u && u.m(v, b), I(v, r, b), c && c.m(v, b), I(v, s, b) }, p(v, b) { var y, k, S, C, P; (y = v[0]) != null && y.videoUrl ? o ? o.p(v, b) : (o = AC(v), o.c(), o.m(e.parentNode, e)) : o && (o.d(1), o = null), (k = v[0]) != null && k.songsCount ? a ? a.p(v, b) : (a = EC(v), a.c(), a.m(t.parentNode, t)) : a && (a.d(1), a = null), (S = v[0]) != null && S.ogSongs ? l ? l.p(v, b) : (l = IC(v), l.c(), l.m(i.parentNode, i)) : l && (l.d(1), l = null), (C = v[0]) != null && C.artistUrls ? u ? u.p(v, b) : (u = HC(v), u.c(), u.m(r.parentNode, r)) : u && (u.d(1), u = null), (P = v[0]) != null && P.musicReleaseDate ? c ? c.p(v, b) : (c = VC(v), c.c(), c.m(s.parentNode, s)) : c && (c.d(1), c = null) }, d(v) { v && (_(e), _(t), _(i), _(r), _(s)), o && o.d(v), a && a.d(v), l && l.d(v), u && u.d(v), c && c.d(v) } } } function zC(n) {
    let e, t = `{
                    "@context": "https://schema.org",
                    "@id": "https://music.apple.com/#organization",
                    "@type": "Organization",
                    "name": "Apple Music",
                    "url": "https://music.apple.com/",
                    "logo": "https://music.apple.com/assets/knowledge-graph/music.png",
                    "sameAs": [
                        "https://www.wikidata.org/wiki/Q20056642",
                        "https://x.com/AppleMusic",
                        "https://www.instagram.com/applemusic/",
                        "https://www.facebook.com/applemusic/",
                        "https://giphy.com/applemusic",
                        "https://www.youtube.com/applemusic",
                        "https://www.tiktok.com/@applemusic",
                        "https://www.snapchat.com/add/applemusic"
                    ],
                    "parentOrganization": {
                        "@type": "Organization",
                        "name": "Apple",
                        "@id": "https://www.apple.com/#organization",
                        "url": "https://www.apple.com/"
                    }
                }`; return { c() { e = L("script"), e.textContent = t, this.h() }, l(i) { e = T(i, "SCRIPT", { type: !0, ["data-svelte-h"]: !0 }), Wr(e) !== "svelte-1i0wfo0" && (e.textContent = t), this.h() }, h() { p(e, "type", "application/ld+json") }, m(i, r) { I(i, e, r) }, d(i) { i && _(e) } }
} function tUe(n) { var i; let e, t = ((i = n[0]) == null ? void 0 : i.showOrgData) && zC(); return { c() { t && t.c(), e = re() }, l(r) { t && t.l(r), e = re() }, m(r, s) { t && t.m(r, s), I(r, e, s) }, p(r, s) { var o; (o = r[0]) != null && o.showOrgData ? t || (t = zC(), t.c(), t.m(e.parentNode, e)) : t && (t.d(1), t = null) }, d(r) { r && _(e), t && t.d(r) } } } function nUe(n) { let e, t; return e = new xBe({ props: { seoData: n[0], locale: n[5], pageDir: n[1], origin: ts, defaultTitle: n[3], hreflangTags: n[2], $$slots: { schemaOrganizationData: [tUe], extendedOpenGraphData: [eUe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, [r]) { const s = {}; r & 1 && (s.seoData = i[0]), r & 2 && (s.pageDir = i[1]), r & 8 && (s.defaultTitle = i[3]), r & 4 && (s.hreflangTags = i[2]), r & 131073 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function iUe(n, e, t) { let i, r, s, o, a, l; var u; let { page: c } = e; const d = ot(); ce(n, d, h => t(9, l = h)); const f = Ig(); function g(h) { return h ? Cl.flatMap(v => v.locales).map(v => { const { id: b, language: y, isDefault: k = !1 } = v; if (!(b === f.storefront && y === f.language)) { if (k) return { path: `${ts}${ml(h, b)}`, tag: `${y.split("-")[0]}-${b}` }; { const S = y.length === 2 ? y : y.substring(0, y.lastIndexOf("-")), C = y.startsWith("zh") ? y : S; return { path: `${ts}${ml(h, b, C)}`, tag: `${S}-${b}` } } } }) : void 0 } return n.$$set = h => { "page" in h && t(6, c = h.page) }, n.$$.update = () => { n.$$.dirty & 512 && t(8, i = l.t("ASE.Web.Music.AppleMusic")), n.$$.dirty & 768 && t(3, r = l.t("ASE.Web.Music.Meta.Browse.PageTitle", { siteName: i })), n.$$.dirty & 64 && t(0, s = c.seoData), n.$$.dirty & 1 && t(2, o = s != null && s.includeHrefLangTags ? g(s == null ? void 0 : s.hrefLangPage) : void 0), n.$$.dirty & 128 && t(1, a = t(7, u = PO(f.language)) !== null && u !== void 0 ? u : "ltr") }, [s, a, o, r, d, f, c, u, i, l] } class rUe extends oe { constructor(e) { super(), se(this, e, iUe, nUe, ye, { page: 6 }) } } function sUe(n, e, t) { if (!Array.isArray(n) || !Array.isArray(e)) return null; if (n.length !== e.length) return !1; const i = o => new Set(t ? o.map(a => a[t]) : o), r = i(n), s = i(e); return r.size === s.size && [...r].every(o => s.has(o)) } function oUe(n) { let e, t; return e = new uNe({ props: { error: n[1] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.error = i[1]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function aUe(n) { let e, t, i, r, s, o, a, l, u, c, d, f; e = new rUe({ props: { page: n[0] } }); const g = [hUe, gUe, fUe, dUe, cUe, uUe, lUe], h = []; function m(v, b) { return b & 1 && (i = null), b & 1 && (r = null), b & 1 && (s = null), b & 1 && (o = null), b & 1 && (a = null), b & 1 && (l = null), i == null && (i = !!iU(v[0])), i ? 0 : (r == null && (r = !!Fd(v[0])), r ? 1 : (s == null && (s = !!$Be(v[0])), s ? 2 : (o == null && (o = !!Hie(v[0])), o ? 3 : (a == null && (a = !!VBe(v[0])), a ? 4 : (l == null && (l = !!KOe(v[0])), l ? 5 : 6))))) } return u = m(n, -1), c = h[u] = g[u](n), { c() { V(e.$$.fragment), t = Y(), c.c(), d = re() }, l(v) { q(e.$$.fragment, v), t = X(v), c.l(v), d = re() }, m(v, b) { H(e, v, b), I(v, t, b), h[u].m(v, b), I(v, d, b), f = !0 }, p(v, b) { const y = {}; b & 1 && (y.page = v[0]), e.$set(y); let k = u; u = m(v, b), u === k ? h[u].p(v, b) : (te(), D(h[k], 1, 1, () => { h[k] = null }), ne(), c = h[u], c ? c.p(v, b) : (c = h[u] = g[u](v), c.c()), w(c, 1), c.m(d.parentNode, d)) }, i(v) { f || (w(e.$$.fragment, v), w(c), f = !0) }, o(v) { D(e.$$.fragment, v), D(c), f = !1 }, d(v) { v && (_(t), _(d)), $(e, v), h[u].d(v) } } } function lUe(n) { let e, t; return e = new Uc({ props: { page: n[0] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.page = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function uUe(n) { let e, t; return e = new iBe({}), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function cUe(n) { let e, t; return e = new QNe({ props: { page: n[0] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.page = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function dUe(n) { let e, t, i, r, s; const o = [pUe, mUe], a = []; function l(u, c) { return c & 1 && (e = null), e == null && (e = !!$ie(u[0].commercePath)), e ? 0 : 1 } return t = l(n, -1), i = a[t] = o[t](n), { c() { i.c(), r = re() }, l(u) { i.l(u), r = re() }, m(u, c) { a[t].m(u, c), I(u, r, c), s = !0 }, p(u, c) { let d = t; t = l(u, c), t === d ? a[t].p(u, c) : (te(), D(a[d], 1, 1, () => { a[d] = null }), ne(), i = a[t], i ? i.p(u, c) : (i = a[t] = o[t](u), i.c()), w(i, 1), i.m(r.parentNode, r)) }, i(u) { s || (w(i), s = !0) }, o(u) { D(i), s = !1 }, d(u) { u && _(r), a[t].d(u) } } } function fUe(n) { let e, t; return e = new NB({}), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function gUe(n) { let e, t; return e = new zNe({ props: { page: n[0] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.page = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function hUe(n) { let e, t; return e = new HBe({ props: { page: n[0] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.page = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function mUe(n) { let e, t; return e = new h8e({ props: { page: n[0] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 1 && (s.page = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function pUe(n) { let e, t; return e = new NB({}), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function _Ue(n) { let e, t, i, r; const s = [aUe, oUe], o = []; function a(l, u) { return l[0] ? 0 : 1 } return e = a(n), t = o[e] = s[e](n), { c() { t.c(), i = re() }, l(l) { t.l(l), i = re() }, m(l, u) { o[e].m(l, u), I(l, i, u), r = !0 }, p(l, [u]) { let c = e; e = a(l), e === c ? o[e].p(l, u) : (te(), D(o[c], 1, 1, () => { o[c] = null }), ne(), t = o[e], t ? t.p(l, u) : (t = o[e] = s[e](l), t.c()), w(t, 1), t.m(i.parentNode, i)) }, i(l) { r || (w(t), r = !0) }, o(l) { D(t), r = !1 }, d(l) { l && _(i), o[e].d(l) } } } function vUe(n, e, t) { let i, r, s, { resolution: o } = e; const a = fn(), l = kn("<Page>"), u = Qn(), c = Tn(), { state: d } = xt(); ce(n, d, m => t(5, s = m)); let f; const g = () => f = i == null ? void 0 : i.sections; function h(m) { m && io(m) } return g0(async () => { var m, v; if (!s.user) return; if (sUe((m = i == null ? void 0 : i.sections) === null || m === void 0 ? void 0 : m.flatMap(({ items: y }) => y), f == null ? void 0 : f.flatMap(({ items: y }) => y), "id")) { l.info("Did not re-fetch inLibrary status as items are unchanged"); return } g(), await Qg(i == null ? void 0 : i.sections, (v = s.user) === null || v === void 0 ? void 0 : v.subscriberType, a, l, c, u) }), n.$$set = m => { "resolution" in m && t(3, o = m.resolution) }, n.$$.update = () => { n.$$.dirty & 8 && t(0, i = "page" in o ? o.page : void 0), n.$$.dirty & 8 && t(1, r = "error" in o ? o.error : void 0), n.$$.dirty & 1 && i && "confirm" in i && h(i.confirm) }, [i, r, d, o] } class sU extends oe { constructor(e) { super(), se(this, e, vUe, _Ue, ye, { resolution: 3 }) } } const Pu = "~error~", bUe = "itsmetrics_test", oU = "Perfkit-context"; function yUe(n, e, t) { const i = t.loggerFor("PageSpeedContext"); n.set(oU, { getPageSpeedMetric: e.getPageSpeedMetric.bind(e), capturePageAppearTime: () => { const r = e.getPageSpeedMetric.apply(e); r !== null ? r.capturePageAppearTime.apply(r) : i.debug("unable to capture appear time, no metric exists.") }, capturePageData: r => { const s = e.getPageSpeedMetric.apply(e); if (s !== null) { const o = { pageContext: (r == null ? void 0 : r.pageContext) || Pu, pageId: (r == null ? void 0 : r.pageId) || Pu, pageType: (r == null ? void 0 : r.pageType) || Pu, isFirstPage: (r == null ? void 0 : r.isFirstPage) || !1 }; s.capturePageData.apply(s, [o, { capturePageEndTime: !0 }]) } else i.debug("unable to capture pageData, no metric exists.") } }) } function wUe(n) { return () => n(oU) } function vd() { return Date.now() } class kUe { constructor(e, t, i) { He(this, "perfkit"); He(this, "logger"); He(this, "pageData"); He(this, "renderMetrics"); He(this, "deleteInstance"); this.perfkit = e, this.logger = t, this.pageData = { pageId: null, pageContext: null, pageType: null, isFirstPage: null }, this.deleteInstance = i, this.renderMetrics = { pageAppearTime: null, pageRequestTime: null, pageAfterFirstRenderTime: null, pageEndTime: null } } isPageDataEmpty() { return Object.values(this.pageData).every(e => e === null) } capturePageRequestTime() { if (this.renderMetrics.pageRequestTime === null) { this.renderMetrics.pageRequestTime = vd(), this.logger.debug("pageRequestTime metric", this.renderMetrics); return } this.logger.debug("request time has already been captured") } capturePageData(e, t = {}) { const i = t.capturePageEndTime || !1; if (this.isPageDataEmpty()) { this.pageData = e, this.logger.debug("pageData captured", this.pageData), i && this.capturePageEndTime(); return } this.logger.debug("pageData has already been set. Create a new metric to track other pages") } capturePageAppearTime() { if (this.renderMetrics.pageAppearTime === null) { this.renderMetrics.pageAppearTime = vd(), this.logger.debug("pageAppearTime metric", this.renderMetrics); return } this.logger.debug("appear time has already been captured") } capturePageEndTime() { if (this.isPageDataEmpty()) { this.logger.warn("pageData is empty. render metrics are not captured"), this.deleteInstance(); return } requestAnimationFrame(() => { requestAnimationFrame(() => { this.renderMetrics.pageRequestTime ? (this.renderMetrics.pageAfterFirstRenderTime = vd(), this.renderMetrics.pageEndTime = vd(), this.logger.debug("PageEndTime metric", this.renderMetrics), this.logger.debug("recording metric", { renderMetrics: this.renderMetrics, pageData: this.pageData }), this.recordPageRenderMetric()) : (this.logger.warn("Invalid metrics, no request time was captured"), this.deleteInstance()) }) }) } recordPageRenderMetric() { this.perfkit.then(e => { if (!e) return; const { pageContext: t, pageId: i, pageType: r, isFirstPage: s } = this.pageData, o = e.eventHandlers.pageRender.instance(i, r, t); o.addData(this.renderMetrics), o.setIsAppLaunch(s), o.recordEvent() }).catch(e => { const { pageContext: t, pageId: i, pageType: r } = this.pageData; this.logger.error(`render metrics failed for: ${t}, ${i}, ${r}`, e) }).finally(() => this.deleteInstance()) } } var lo, Au, aU, vf, lU = -1, ql = function (n) { addEventListener("pageshow", function (e) { e.persisted && (lU = e.timeStamp, n(e)) }, !0) }, av = function () { return window.performance && performance.getEntriesByType && performance.getEntriesByType("navigation")[0] }, ph = function () { var n = av(); return n && n.activationStart || 0 }, Cs = function (n, e) { var t = av(), i = "navigate"; return lU >= 0 ? i = "back-forward-cache" : t && (i = document.prerendering || ph() > 0 ? "prerender" : t.type.replace(/_/g, "-")), { name: n, value: e === void 0 ? -1 : e, rating: "good", delta: 0, entries: [], id: "v3-".concat(Date.now(), "-").concat(Math.floor(8999999999999 * Math.random()) + 1e12), navigationType: i } }, _h = function (n, e, t) { try { if (PerformanceObserver.supportedEntryTypes.includes(n)) { var i = new PerformanceObserver(function (r) { e(r.getEntries()) }); return i.observe(Object.assign({ type: n, buffered: !0 }, t || {})), i } } catch (r) { } }, vh = function (n, e) { var t = function i(r) { r.type !== "pagehide" && document.visibilityState !== "hidden" || (n(r), e && (removeEventListener("visibilitychange", i, !0), removeEventListener("pagehide", i, !0))) }; addEventListener("visibilitychange", t, !0), addEventListener("pagehide", t, !0) }, Ps = function (n, e, t, i) { var r, s; return function (o) { e.value >= 0 && (o || i) && ((s = e.value - (r || 0)) || r === void 0) && (r = e.value, e.delta = s, e.rating = function (a, l) { return a > l[1] ? "poor" : a > l[0] ? "needs-improvement" : "good" }(e.value, t), n(e)) } }, mu = -1, qC = function () { return document.visibilityState !== "hidden" || document.prerendering ? 1 / 0 : 0 }, WC = function () { vh(function (n) { var e = n.timeStamp; mu = e }, !0) }, lv = function () { return mu < 0 && (mu = qC(), WC(), ql(function () { setTimeout(function () { mu = qC(), WC() }, 0) })), { get firstHiddenTime() { return mu } } }, DUe = function (n, e) { e = e || {}; var t, i = [1800, 3e3], r = lv(), s = Cs("FCP"), o = function (u) { u.forEach(function (c) { c.name === "first-contentful-paint" && (l && l.disconnect(), c.startTime < r.firstHiddenTime && (s.value = Math.max(c.startTime - ph(), 0), s.entries.push(c), t(!0))) }) }, a = window.performance && window.performance.getEntriesByName && window.performance.getEntriesByName("first-contentful-paint")[0], l = a ? null : _h("paint", o); (a || l) && (t = Ps(n, s, i, e.reportAllChanges), a && o([a]), ql(function (u) { s = Cs("FCP"), t = Ps(n, s, i, e.reportAllChanges), requestAnimationFrame(function () { requestAnimationFrame(function () { s.value = performance.now() - u.timeStamp, t(!0) }) }) })) }, KC = !1, Qm = -1, SUe = function (n, e) { e = e || {}; var t = [.1, .25]; KC || (DUe(function (c) { Qm = c.value }), KC = !0); var i, r = function (c) { Qm > -1 && n(c) }, s = Cs("CLS", 0), o = 0, a = [], l = function (c) { c.forEach(function (d) { if (!d.hadRecentInput) { var f = a[0], g = a[a.length - 1]; o && d.startTime - g.startTime < 1e3 && d.startTime - f.startTime < 5e3 ? (o += d.value, a.push(d)) : (o = d.value, a = [d]), o > s.value && (s.value = o, s.entries = a, i()) } }) }, u = _h("layout-shift", l); u && (i = Ps(r, s, t, e.reportAllChanges), vh(function () { l(u.takeRecords()), i(!0) }), ql(function () { o = 0, Qm = -1, s = Cs("CLS", 0), i = Ps(r, s, t, e.reportAllChanges) })) }, pu = { passive: !0, capture: !0 }, CUe = new Date, JC = function (n, e) { lo || (lo = e, Au = n, aU = new Date, cU(removeEventListener), uU()) }, uU = function () { if (Au >= 0 && Au < aU - CUe) { var n = { entryType: "first-input", name: lo.type, target: lo.target, cancelable: lo.cancelable, startTime: lo.timeStamp, processingStart: lo.timeStamp + Au }; vf.forEach(function (e) { e(n) }), vf = [] } }, PUe = function (n) { if (n.cancelable) { var e = (n.timeStamp > 1e12 ? new Date : performance.now()) - n.timeStamp; n.type == "pointerdown" ? function (t, i) { var r = function () { JC(t, i), o() }, s = function () { o() }, o = function () { removeEventListener("pointerup", r, pu), removeEventListener("pointercancel", s, pu) }; addEventListener("pointerup", r, pu), addEventListener("pointercancel", s, pu) }(e, n) : JC(e, n) } }, cU = function (n) { ["mousedown", "keydown", "touchstart", "pointerdown"].forEach(function (e) { return n(e, PUe, pu) }) }, AUe = function (n, e) { e = e || {}; var t, i = [100, 300], r = lv(), s = Cs("FID"), o = function (u) { u.startTime < r.firstHiddenTime && (s.value = u.processingStart - u.startTime, s.entries.push(u), t(!0)) }, a = function (u) { u.forEach(o) }, l = _h("first-input", a); t = Ps(n, s, i, e.reportAllChanges), l && vh(function () { a(l.takeRecords()), l.disconnect() }, !0), l && ql(function () { var u; s = Cs("FID"), t = Ps(n, s, i, e.reportAllChanges), vf = [], Au = -1, lo = null, cU(addEventListener), u = o, vf.push(u), uU() }) }, jm = {}, EUe = function (n, e) { e = e || {}; var t, i = [2500, 4e3], r = lv(), s = Cs("LCP"), o = function (u) { var c = u[u.length - 1]; if (c) { var d = Math.max(c.startTime - ph(), 0); d < r.firstHiddenTime && (s.value = d, s.entries = [c], t()) } }, a = _h("largest-contentful-paint", o); if (a) { t = Ps(n, s, i, e.reportAllChanges); var l = function () { jm[s.id] || (o(a.takeRecords()), a.disconnect(), jm[s.id] = !0, t(!0)) };["keydown", "click"].forEach(function (u) { addEventListener(u, l, { once: !0, capture: !0 }) }), vh(l, !0), ql(function (u) { s = Cs("LCP"), t = Ps(n, s, i, e.reportAllChanges), requestAnimationFrame(function () { requestAnimationFrame(function () { s.value = performance.now() - u.timeStamp, jm[s.id] = !0, t(!0) }) }) }) } }, IUe = function n(e) { document.prerendering ? addEventListener("prerenderingchange", function () { return n(e) }, !0) : document.readyState !== "complete" ? addEventListener("load", function () { return n(e) }, !0) : setTimeout(e, 0) }, MUe = function (n, e) { e = e || {}; var t = [800, 1800], i = Cs("TTFB"), r = Ps(n, i, t, e.reportAllChanges); IUe(function () { var s = av(); if (s) { if (i.value = Math.max(s.responseStart - ph(), 0), i.value < 0 || i.value > performance.now()) return; i.entries = [s], r(!0), ql(function () { i = Cs("TTFB", 0), (r = Ps(n, i, t, e.reportAllChanges))(!0) }) } }) }; class LUe { constructor(e, t) { He(this, "mtPerfkit"); He(this, "pageType"); He(this, "pageTypeResolver"); He(this, "isPageTypeSet"); He(this, "logger"); He(this, "observer"); He(this, "webVitals"); He(this, "isPerfkitReady"); He(this, "pageSpeedMetric"); this.mtPerfkit = e, this.logger = t, this.isPerfkitReady = !1, this.webVitals = new Set, this.pageSpeedMetric = null, this.pageTypeResolver = null, this.isPageTypeSet = !1, this.pageType = new Promise((i, r) => { this.pageTypeResolver = i, window.setTimeout(() => { this.isPageTypeSet || (this.logger.debug("failed to set pageType"), this.isPageTypeSet = !0, i(Pu)) }, 1e4) }), this.mtPerfkit.then(i => { i !== null && (this.isPerfkitReady = !0, t.debug("perfkit is ready"), this.flushWebVitals(i)) }) } recordLoadURLEvents(e, t) { for (const i of t) { const r = { ...i.toJSON(), isSSL: i.name.startsWith("https") }; e.eventHandlers.loadUrl.fromTimingEntry(r).recordEvent() } } flushWebVitals(e) { this.webVitals.forEach(t => { this.recordWebVital(t, e) }), this.webVitals.clear() } recordWebVital(e, t) { if (t === null) return; const i = window.location.href; this.getPageType().then(r => { const s = r; this.logger.debug(`web_vital:${e.name}, pageType:${s} captured`, e); const o = { id: e.id, value: e.value, rating: e.rating, navigationType: e.navigationType, pageUrl: i, pageType: r }; t.eventHandlers.flexible.instance(e.name, o).recordEvent() }) } onWebVitalReport(e) { if (this.isPerfkitReady) this.mtPerfkit.then(t => { this.recordWebVital(e, t) }); else { let t = !1; for (const i of this.webVitals) if (i.name === i.name) { t = !0; break } t || this.webVitals.add(e) } } async setupLoadUrlEventObserver() { const e = await this.mtPerfkit; if (e !== null) { if (window.performance.getEntriesByType && this.recordLoadURLEvents(e, window.performance.getEntriesByType("resource")), !("PerformanceObserver" in window)) { this.logger.warn("PerformanceObserver is not supported. Some metrics may not be captured"); return } this.observer = new PerformanceObserver(t => { this.recordLoadURLEvents(e, t.getEntries()) }), this.observer.observe({ entryTypes: ["resource"] }) } } setupWebVitals() { const e = this.onWebVitalReport.bind(this); SUe(e), AUe(e), EUe(e), MUe(e) } getPageType() { return this.pageType } setPageType(e) { if (!this.isPageTypeSet) { const t = e != null ? e : Pu; this.pageTypeResolver(t), this.isPageTypeSet = !0 } } getPageSpeedMetric() { return this.pageSpeedMetric } deletePageSpeedMetric() { this.pageSpeedMetric = null } makeNewPageSpeedMetric() { return this.pageSpeedMetric = new kUe(this.mtPerfkit, this.logger, this.deletePageSpeedMetric.bind(this)), this.getPageSpeedMetric() } } const TUe = { webVitals: !0, loadUrl: !0 }, RUe = (n, e, t = TUe) => { const i = e.loggerFor("Perfkit"), o = window.location.href.includes("multidev") || "production" !== "production", a = async () => { var d; if (typeof window > "u") throw new Error("perfkit can only be used in a browser context"); const u = n.suppressPerfKit || o ? bUe : n.topic; let c = null; try { const [f, g, h] = await Promise.all([ft(() => import("./mt-perfkit.esm-cdc62ef3.js"), ["assets/mt-perfkit.esm-cdc62ef3.js", "assets/mt-event-queue.esm-44c965a7.js", "assets/mt-client-logger-core.esm-b9212dc6.js"]), ft(() => import("./mt-metricskit-delegates-html.esm-b753627a.js"), ["assets/mt-metricskit-delegates-html.esm-b753627a.js", "assets/mt-event-queue.esm-44c965a7.js", "assets/mt-client-logger-core.esm-b9212dc6.js"]), ft(() => import("./mt-client-config-3b3a5eed.js").then(m => m.m), ["assets/mt-client-config-3b3a5eed.js", "assets/mt-client-logger-core.esm-b9212dc6.js"])]); c = f.default, c.system.logger.setLevel("none"), g.eventQueue.logger.setLevel("none"), h.default.logger.setLevel("none"), c.system.environment.setDelegate({ app: () => n.appName, appVersion: () => n.appVersion, delegateApp: () => n.delegateApp, resourceRevNum: () => n.resourceRevNum }), c.config.setDebugSource({ maxPersistentQueueSize: 350, disabled: (d = n.suppressPerfKit) != null ? d : o }), n.suppressPerfKit || c.init(u, null, g), (n.suppressPerfKit || o) && i.debug("perfkit disabled. Will not send requests") } catch (f) { i.error("perfkit failed to initialize", f) } return c }, l = new LUe(a(), i); return t.webVitals && l.setupWebVitals(), t.loadUrl && l.setupLoadUrlEventObserver(), l }, FUe = wUe(gi); function OUe(n) { let e, t; return e = new sU({ props: { resolution: { error: n[4] } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.resolution = { error: i[4] }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function NUe(n) { let e, t, i = n[1], r, s; e = new sU({ props: { resolution: { page: n[1] } } }); let o = YC(n); return { c() { V(e.$$.fragment), t = Y(), o.c(), r = re() }, l(a) { q(e.$$.fragment, a), t = X(a), o.l(a), r = re() }, m(a, l) { H(e, a, l), I(a, t, l), o.m(a, l), I(a, r, l), s = !0 }, p(a, l) { const u = {}; l & 2 && (u.resolution = { page: a[1] }), e.$set(u), l & 2 && ye(i, i = a[1]) ? (o.d(1), o = YC(a), o.c(), o.m(r.parentNode, r)) : o.p(a, l) }, i(a) { s || (w(e.$$.fragment, a), s = !0) }, o(a) { D(e.$$.fragment, a), s = !1 }, d(a) { a && (_(t), _(r)), $(e, a), o.d(a) } } } function YC(n) { let e = n[2](n[1]) + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 2 && e !== (e = i[2](i[1]) + "") && me(t, e) }, d(i) { i && _(t) } } } function BUe(n) { let e, t, i; return t = new mh({ props: { delay: n[0] ? 1500 : 1e3 } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { "data-testid": !0, "aria-live": !0, "aria-busy": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "data-testid", "page-loading"), p(e, "aria-live", "polite"), p(e, "aria-busy", "true") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 1 && (o.delay = r[0] ? 1500 : 1e3), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function UUe(n) { let e, t, i, r = { ctx: n, current: null, token: null, hasCatch: !0, pending: BUe, then: NUe, catch: OUe, value: 1, error: 4, blocks: [, , ,] }; return uo(t = n[1], r), { c() { e = re(), r.block.c() }, l(s) { e = re(), r.block.l(s) }, m(s, o) { I(s, e, o), r.block.m(s, r.anchor = o), r.mount = () => e.parentNode, r.anchor = e, i = !0 }, p(s, [o]) { n = s, r.ctx = n, o & 2 && t !== (t = n[1]) && uo(t, r) || Gu(r, n, o) }, i(s) { i || (w(r.block), i = !0) }, o(s) { for (let o = 0; o < 3; o += 1) { const a = r.blocks[o]; D(a) } i = !1 }, d(s) { s && _(e), r.block.d(s), r.token = null, r = null } } } function HUe(n, e, t) { let { page: i } = e, { firstPage: r } = e; const s = FUe(); g0(() => { s.capturePageAppearTime() }); const o = a => { var l, u, c; const { pageMetrics: d } = a; return s.capturePageData({ pageContext: (l = d == null ? void 0 : d.pageFields) === null || l === void 0 ? void 0 : l.pageFeatureName, pageType: (u = d == null ? void 0 : d.pageFields) === null || u === void 0 ? void 0 : u.pageType, pageId: (c = d == null ? void 0 : d.pageFields) === null || c === void 0 ? void 0 : c.pageId, isFirstPage: r }), "" }; return n.$$set = a => { "page" in a && t(1, i = a.page), "firstPage" in a && t(0, r = a.firstPage) }, [r, i, o] } class $Ue extends oe { constructor(e) { super(), se(this, e, HUe, UUe, ye, { page: 1, firstPage: 0 }) } } function XC(n, e, t) { const i = n.slice(); return i[5] = e[t].url, i[6] = e[t].locKey, i[7] = e[t].id, i } const VUe = n => ({}), ZC = n => ({}); function QC(n, e) { let t, i, r = e[0](e[6]) + "", s, o, a, l; return { key: n, first: null, c() { t = L("li"), i = L("a"), s = le(r), a = Y(), this.h() }, l(u) { t = T(u, "LI", { "data-testid": !0, class: !0 }); var c = E(t); i = T(c, "A", { href: !0, rel: !0, dir: !0, class: !0 }); var d = E(i); s = ue(d, r), d.forEach(_), a = X(c), c.forEach(_), this.h() }, h() { p(i, "href", o = e[0](e[5])), p(i, "rel", "noopener"), p(i, "dir", "auto"), p(i, "class", "svelte-wadixz"), p(t, "data-testid", l = e[7]), p(t, "class", "svelte-wadixz"), this.first = t }, m(u, c) { I(u, t, c), A(t, i), A(i, s), A(t, a) }, p(u, c) { e = u, c & 3 && r !== (r = e[0](e[6]) + "") && me(s, r), c & 3 && o !== (o = e[0](e[5])) && p(i, "href", o), c & 2 && l !== (l = e[7]) && p(t, "data-testid", l) }, d(u) { u && _(t) } } } function zUe(n) { let e, t, i, r, s, o, a, l = n[0]("AMP.Shared.Footer.CopyrightYear", { year: n[2] }) + "", u, c, d, f, g = n[0]("AMP.Shared.Footer.Apple.Text") + "", h, m, v, b, y = n[0]("AMP.Shared.Footer.AllRightsReserved") + "", k, S, C, P = [], M = new Map, R; const F = n[4]["secondary-content"], N = We(F, n, n[3], ZC); let O = ut(n[1]); const B = U => U[7]; for (let U = 0; U < O.length; U += 1) { let K = XC(n, O, U), W = B(K); M.set(W, P[U] = QC(W, K)) } return { c() { e = L("footer"), t = L("div"), N && N.c(), i = Y(), r = L("div"), s = L("p"), o = L("span"), a = L("span"), u = le(l), c = Y(), d = L("a"), f = L("span"), h = le(g), v = Y(), b = L("span"), k = le(y), S = Y(), C = L("ul"); for (let U = 0; U < P.length; U += 1)P[U].c(); this.h() }, l(U) { e = T(U, "FOOTER", { "data-testid": !0, class: !0 }); var K = E(e); t = T(K, "DIV", { class: !0 }); var W = E(t); N && N.l(W), W.forEach(_), i = X(K), r = T(K, "DIV", { class: !0 }); var Z = E(r); s = T(Z, "P", { class: !0 }); var Q = E(s); o = T(Q, "SPAN", { dir: !0 }); var G = E(o); a = T(G, "SPAN", { dir: !0 }); var ae = E(a); u = ue(ae, l), ae.forEach(_), c = X(G), d = T(G, "A", { href: !0, rel: !0, class: !0 }); var ee = E(d); f = T(ee, "SPAN", { dir: !0 }); var pe = E(f); h = ue(pe, g), pe.forEach(_), ee.forEach(_), G.forEach(_), v = X(Q), b = T(Q, "SPAN", { dir: !0 }); var ke = E(b); k = ue(ke, y), ke.forEach(_), Q.forEach(_), S = X(Z), C = T(Z, "UL", { class: !0 }); var we = E(C); for (let Te = 0; Te < P.length; Te += 1)P[Te].l(we); we.forEach(_), Z.forEach(_), K.forEach(_), this.h() }, h() { p(t, "class", "footer-secondary-slot svelte-wadixz"), p(a, "dir", "auto"), p(f, "dir", "auto"), p(d, "href", m = n[0]("AMP.Shared.Footer.Apple.URL")), p(d, "rel", "noopener"), p(d, "class", "svelte-wadixz"), p(o, "dir", "ltr"), p(b, "dir", "auto"), p(s, "class", "svelte-wadixz"), p(C, "class", "svelte-wadixz"), p(r, "class", "footer-contents svelte-wadixz"), p(e, "data-testid", "footer"), p(e, "class", "svelte-wadixz") }, m(U, K) { I(U, e, K), A(e, t), N && N.m(t, null), A(e, i), A(e, r), A(r, s), A(s, o), A(o, a), A(a, u), A(o, c), A(o, d), A(d, f), A(f, h), A(s, v), A(s, b), A(b, k), A(r, S), A(r, C); for (let W = 0; W < P.length; W += 1)P[W] && P[W].m(C, null); R = !0 }, p(U, [K]) { N && N.p && (!R || K & 8) && Je(N, F, U, U[3], R ? Ke(F, U[3], K, VUe) : Ye(U[3]), ZC), (!R || K & 1) && l !== (l = U[0]("AMP.Shared.Footer.CopyrightYear", { year: U[2] }) + "") && me(u, l), (!R || K & 1) && g !== (g = U[0]("AMP.Shared.Footer.Apple.Text") + "") && me(h, g), (!R || K & 1 && m !== (m = U[0]("AMP.Shared.Footer.Apple.URL"))) && p(d, "href", m), (!R || K & 1) && y !== (y = U[0]("AMP.Shared.Footer.AllRightsReserved") + "") && me(k, y), K & 3 && (O = ut(U[1]), P = lr(P, K, B, 1, U, O, M, C, nH, QC, null, XC)) }, i(U) { R || (w(N, U), R = !0) }, o(U) { D(N, U), R = !1 }, d(U) { U && _(e), N && N.d(U); for (let K = 0; K < P.length; K += 1)P[K].d() } } } function qUe(n, e, t) { let { $$slots: i = {}, $$scope: r } = e, { translateFn: s } = e, { footerItems: o } = e; const a = new Date().getFullYear().toString(); return n.$$set = l => { "translateFn" in l && t(0, s = l.translateFn), "footerItems" in l && t(1, o = l.footerItems), "$$scope" in l && t(3, r = l.$$scope) }, [s, o, a, r, i] } class WUe extends oe { constructor(e) { super(), se(this, e, qUe, zUe, ye, { translateFn: 0, footerItems: 1 }) } } const KUe = [{ id: "terms-of-use", url: "ASE.Web.Music.Shared.Footer.TermsOfUse.URL", locKey: "ASE.Web.Music.Shared.Footer.TermsOfUse.Text" }, { id: "privacy-policy", url: "ASE.Web.Music.Footer.PrivacyPolicy.URL", locKey: "ASE.Web.Music.Footer.PrivacyPolicy.Text" }, { id: "cookie-policy", url: "ASE.Web.Music.Shared.Footer.CookiePolicy.URL", locKey: "ASE.Web.Music.Shared.Footer.CookiePolicy.Text" }, { id: "get-help", url: "ASE.Web.Music.Footer.GetHelp.URL", locKey: "ASE.Web.Music.Footer.GetHelp.Text" }, { id: "feed-back", url: "ASE.Web.Music.Footer.Feedback.URL", locKey: "ASE.Web.Music.Footer.Feedback.Text" }]; function jC(n, e, t) { const i = n.slice(); return i[3] = e[t], i } function GC(n) { let e, t, i, r = n[3].name + "", s, o, a; return { c() { e = L("li"), t = L("a"), i = L("span"), s = le(r), a = Y(), this.h() }, l(l) { e = T(l, "LI", { class: !0 }); var u = E(e); t = T(u, "A", { href: !0, "data-testid": !0, class: !0 }); var c = E(t); i = T(c, "SPAN", {}); var d = E(i); s = ue(d, r), d.forEach(_), c.forEach(_), a = X(u), u.forEach(_), this.h() }, h() { p(t, "href", o = n[1](n[3])), p(t, "data-testid", "region-list-link"), p(t, "class", "svelte-a89zv9"), p(e, "class", "svelte-a89zv9") }, m(l, u) { I(l, e, u), A(e, t), A(t, i), A(i, s), A(e, a) }, p(l, u) { u & 1 && r !== (r = l[3].name + "") && me(s, r), u & 1 && o !== (o = l[1](l[3])) && p(t, "href", o) }, d(l) { l && _(e) } } } function JUe(n) { let e, t = ut(n[0]), i = []; for (let r = 0; r < t.length; r += 1)i[r] = GC(jC(n, t, r)); return { c() { e = L("ul"); for (let r = 0; r < i.length; r += 1)i[r].c(); this.h() }, l(r) { e = T(r, "UL", { class: !0 }); var s = E(e); for (let o = 0; o < i.length; o += 1)i[o].l(s); s.forEach(_), this.h() }, h() { p(e, "class", "svelte-a89zv9") }, m(r, s) { I(r, e, s); for (let o = 0; o < i.length; o += 1)i[o] && i[o].m(e, null) }, p(r, [s]) { if (s & 3) { t = ut(r[0]); let o; for (o = 0; o < t.length; o += 1) { const a = jC(r, t, o); i[o] ? i[o].p(a, s) : (i[o] = GC(a), i[o].c(), i[o].m(e, null)) } for (; o < i.length; o += 1)i[o].d(1); i.length = t.length } }, i: j, o: j, d(r) { r && _(e), ln(i, r) } } } function YUe(n, e, t) { let { regionList: i } = e, { defaultRoute: r } = e; const s = o => o.isDefault ? ml(r, o.id) : ml(r, o.id, o.language); return n.$$set = o => { "regionList" in o && t(0, i = o.regionList), "defaultRoute" in o && t(2, r = o.defaultRoute) }, [i, s, r] } class dU extends oe { constructor(e) { super(), se(this, e, YUe, JUe, ye, { regionList: 0, defaultRoute: 2 }) } } const XUe = n => ({}), xC = n => ({}), ZUe = n => ({}), eP = n => ({}); function QUe(n) { let e, t, i, r, s, o; const a = n[2].button, l = We(a, n, n[1], eP), u = n[2].list, c = We(u, n, n[1], xC); return { c() { e = L("div"), t = L("h2"), i = le(n[0]), r = Y(), l && l.c(), s = Y(), c && c.c(), this.h() }, l(d) { e = T(d, "DIV", { class: !0 }); var f = E(e); t = T(f, "H2", { class: !0 }); var g = E(t); i = ue(g, n[0]), g.forEach(_), r = X(f), l && l.l(f), f.forEach(_), s = X(d), c && c.l(d), this.h() }, h() { p(t, "class", "svelte-vqg5px"), p(e, "class", "region-header svelte-vqg5px") }, m(d, f) { I(d, e, f), A(e, t), A(t, i), A(e, r), l && l.m(e, null), I(d, s, f), c && c.m(d, f), o = !0 }, p(d, [f]) { (!o || f & 1) && me(i, d[0]), l && l.p && (!o || f & 2) && Je(l, a, d, d[1], o ? Ke(a, d[1], f, ZUe) : Ye(d[1]), eP), c && c.p && (!o || f & 2) && Je(c, u, d, d[1], o ? Ke(u, d[1], f, XUe) : Ye(d[1]), xC) }, i(d) { o || (w(l, d), w(c, d), o = !0) }, o(d) { D(l, d), D(c, d), o = !1 }, d(d) { d && (_(e), _(s)), l && l.d(d), c && c.d(d) } } } function jUe(n, e, t) { let { $$slots: i = {}, $$scope: r } = e, { regionName: s } = e; return n.$$set = o => { "regionName" in o && t(0, s = o.regionName), "$$scope" in o && t(1, r = o.$$scope) }, [s, r, i] } class fU extends oe { constructor(e) { super(), se(this, e, jUe, QUe, ye, { regionName: 0 }) } } function tP(n, e, t) { const i = n.slice(); return i[17] = e[t], i } function GUe(n) { let e, t, i, r = n[0]("AMP.Shared.LocaleSwitcher.Back") + "", s, o, a, l, u, c; return t = new Il({ props: { class: "back-chevron", "aria-hidden": "true" } }), a = new fU({ props: { regionName: n[0](n[5].name), $$slots: { list: [eHe] }, $$scope: { ctx: n } } }), { c() { e = L("button"), V(t.$$.fragment), i = Y(), s = le(r), o = Y(), V(a.$$.fragment), this.h() }, l(d) { e = T(d, "BUTTON", { class: !0 }); var f = E(e); q(t.$$.fragment, f), i = X(f), s = ue(f, r), f.forEach(_), o = X(d), q(a.$$.fragment, d), this.h() }, h() { p(e, "class", "back-button svelte-1jierl0") }, m(d, f) { I(d, e, f), H(t, e, null), A(e, i), A(e, s), I(d, o, f), H(a, d, f), l = !0, u || (c = Me(e, "click", n[11]), u = !0) }, p(d, f) { (!l || f & 1) && r !== (r = d[0]("AMP.Shared.LocaleSwitcher.Back") + "") && me(s, r); const g = {}; f & 33 && (g.regionName = d[0](d[5].name)), f & 1048610 && (g.$$scope = { dirty: f, ctx: d }), a.$set(g) }, i(d) { l || (w(t.$$.fragment, d), w(a.$$.fragment, d), l = !0) }, o(d) { D(t.$$.fragment, d), D(a.$$.fragment, d), l = !1 }, d(d) { d && (_(e), _(o)), $(t), $(a, d), u = !1, c() } } } function xUe(n) { let e = [], t = new Map, i, r, s = ut(n[7]); const o = a => a[17].name; for (let a = 0; a < s.length; a += 1) { let l = tP(n, s, a), u = o(l); t.set(u, e[a] = nP(u, l)) } return { c() { for (let a = 0; a < e.length; a += 1)e[a].c(); i = re() }, l(a) { for (let l = 0; l < e.length; l += 1)e[l].l(a); i = re() }, m(a, l) { for (let u = 0; u < e.length; u += 1)e[u] && e[u].m(a, l); I(a, i, l), r = !0 }, p(a, l) { l & 899 && (s = ut(a[7]), te(), e = lr(e, l, o, 1, a, s, t, i.parentNode, Ir, nP, i, tP), ne()) }, i(a) { if (!r) { for (let l = 0; l < s.length; l += 1)w(e[l]); r = !0 } }, o(a) { for (let l = 0; l < e.length; l += 1)D(e[l]); r = !1 }, d(a) { a && _(i); for (let l = 0; l < e.length; l += 1)e[l].d(a) } } } function eHe(n) { let e, t; return e = new dU({ props: { slot: "list", regionList: n[5].locales, defaultRoute: n[1] } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 32 && (s.regionList = i[5].locales), r & 2 && (s.defaultRoute = i[1]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function tHe(n) { let e, t = n[0]("AMP.Shared.LocaleSwitcher.SeeAll") + "", i, r, s, o; function a() { return n[13](n[17]) } return { c() { e = L("button"), i = le(t), r = Y(), this.h() }, l(l) { e = T(l, "BUTTON", { slot: !0, class: !0 }); var u = E(e); i = ue(u, t), r = X(u), u.forEach(_), this.h() }, h() { p(e, "slot", "button"), p(e, "class", "see-all-button svelte-1jierl0"), J(e, "see-all-button-hidden", n[17].locales.length <= gU) }, m(l, u) { I(l, e, u), A(e, i), A(e, r), s || (o = Me(e, "click", a), s = !0) }, p(l, u) { n = l, u & 1 && t !== (t = n[0]("AMP.Shared.LocaleSwitcher.SeeAll") + "") && me(i, t) }, d(l) { l && _(e), s = !1, o() } } } function nHe(n) { var i; let e, t; return e = new dU({ props: { slot: "list", regionList: n[17].locales.length <= gU ? (i = n[8](n[17])) == null ? void 0 : i.locales : n[17].locales, defaultRoute: n[1] } }), { c() { V(e.$$.fragment) }, l(r) { q(e.$$.fragment, r) }, m(r, s) { H(e, r, s), t = !0 }, p(r, s) { const o = {}; s & 2 && (o.defaultRoute = r[1]), e.$set(o) }, i(r) { t || (w(e.$$.fragment, r), t = !0) }, o(r) { D(e.$$.fragment, r), t = !1 }, d(r) { $(e, r) } } } function nP(n, e) { let t, i, r; return i = new fU({ props: { regionName: e[0](e[17].name), $$slots: { list: [nHe], button: [tHe] }, $$scope: { ctx: e } } }), { key: n, first: null, c() { t = re(), V(i.$$.fragment), this.h() }, l(s) { t = re(), q(i.$$.fragment, s), this.h() }, h() { this.first = t }, m(s, o) { I(s, t, o), H(i, s, o), r = !0 }, p(s, o) { e = s; const a = {}; o & 1 && (a.regionName = e[0](e[17].name)), o & 1048579 && (a.$$scope = { dirty: o, ctx: e }), i.$set(a) }, i(s) { r || (w(i.$$.fragment, s), r = !0) }, o(s) { D(i.$$.fragment, s), r = !1 }, d(s) { s && _(t), $(i, s) } } } function iHe(n) { let e, t, i, r, s, o, a, l = n[0]("AMP.Shared.LocaleSwitcher.Heading") + "", u, c, d, f, g, h, m, v; i = new rr({ props: { "data-testid": "locale-switcher-modal-close-button-svg" } }); const b = [xUe, GUe], y = []; function k(S, C) { return S[4] ? 0 : 1 } return f = k(n), g = y[f] = b[f](n), { c() { e = L("div"), t = L("button"), V(i.$$.fragment), s = Y(), o = L("div"), a = L("span"), u = le(l), c = Y(), d = L("div"), g.c(), this.h() }, l(S) { e = T(S, "DIV", { "data-testid": !0, class: !0 }); var C = E(e); t = T(C, "BUTTON", { "data-testid": !0, class: !0, type: !0, "aria-label": !0 }); var P = E(t); q(i.$$.fragment, P), P.forEach(_), s = X(C), o = T(C, "DIV", { class: !0 }); var M = E(o); a = T(M, "SPAN", { id: !0, "data-testid": !0, class: !0 }); var R = E(a); u = ue(R, l), R.forEach(_), M.forEach(_), c = X(C), d = T(C, "DIV", { class: !0 }); var F = E(d); g.l(F), F.forEach(_), C.forEach(_), this.h() }, h() { p(t, "data-testid", "locale-switcher-modal-close-button"), p(t, "class", "close-button svelte-1jierl0"), p(t, "type", "button"), p(t, "aria-label", r = n[0]("AMP.Shared.AX.Close")), p(a, "id", n[2]), p(a, "data-testid", "locale-switcher-modal-title"), p(a, "class", "title svelte-1jierl0"), p(o, "class", "header-container svelte-1jierl0"), J(o, "content-is-scrolling", n[3]), p(d, "class", "region-container svelte-1jierl0"), p(e, "data-testid", "locale-switcher-modal-container"), p(e, "class", "locale-switcher-modal-container svelte-1jierl0") }, m(S, C) { I(S, e, C), A(e, t), H(i, t, null), A(e, s), A(e, o), A(o, a), A(a, u), A(e, c), A(e, d), y[f].m(d, null), n[14](d), h = !0, m || (v = [Me(t, "click", n[10]), Ut(Ca.call(null, t)), Ut(QB.call(null, d)), Me(d, "scrollStatus", n[15])], m = !0) }, p(S, [C]) { (!h || C & 1 && r !== (r = S[0]("AMP.Shared.AX.Close"))) && p(t, "aria-label", r), (!h || C & 1) && l !== (l = S[0]("AMP.Shared.LocaleSwitcher.Heading") + "") && me(u, l), (!h || C & 4) && p(a, "id", S[2]), (!h || C & 8) && J(o, "content-is-scrolling", S[3]); let P = f; f = k(S), f === P ? y[f].p(S, C) : (te(), D(y[P], 1, 1, () => { y[P] = null }), ne(), g = y[f], g ? g.p(S, C) : (g = y[f] = b[f](S), g.c()), w(g, 1), g.m(d, null)) }, i(S) { h || (w(i.$$.fragment, S), w(g), h = !0) }, o(S) { D(i.$$.fragment, S), D(g), h = !1 }, d(S) { S && _(e), $(i), y[f].d(), n[14](null), m = !1, Ot(v) } } } const gU = 6; function rHe(n, e, t) { let { translateFn: i } = e, { regions: r } = e, { defaultRoute: s } = e, { dialogTitleId: o = null } = e, a = !1, l = !0, u, c; const d = r.map(({ name: S, locales: C }) => ({ name: S, locales: C.filter(P => P.isDefault) })), f = It(), g = S => r.find(C => C.name === S.name), h = S => { t(5, u = g(S)), t(4, l = !1), c.scroll(0, 0) }, m = () => { f("close") }, v = () => { t(4, l = !0) }, b = S => h(S); function y(S) { wt[S ? "unshift" : "push"](() => { c = S, t(6, c) }) } const k = S => t(3, a = S.detail.contentIsScrolling); return n.$$set = S => { "translateFn" in S && t(0, i = S.translateFn), "regions" in S && t(12, r = S.regions), "defaultRoute" in S && t(1, s = S.defaultRoute), "dialogTitleId" in S && t(2, o = S.dialogTitleId) }, [i, s, o, a, l, u, c, d, g, h, m, v, r, b, y, k] } class hU extends oe { constructor(e) { super(), se(this, e, rHe, iHe, ye, { translateFn: 0, regions: 12, defaultRoute: 1, dialogTitleId: 2 }) } } function iP(n, e, t) { const i = n.slice(); return i[4] = e[t], i } function rP(n) { let e, t = ut(n[1]), i = []; for (let r = 0; r < t.length; r += 1)i[r] = oP(iP(n, t, r)); return { c() { e = L("ul"); for (let r = 0; r < i.length; r += 1)i[r].c(); this.h() }, l(r) { e = T(r, "UL", { class: !0 }); var s = E(e); for (let o = 0; o < i.length; o += 1)i[o].l(s); s.forEach(_), this.h() }, h() { p(e, "class", "svelte-n776hm"), J(e, "languages-new-line", n[1].length >= 6) }, m(r, s) { I(r, e, s); for (let o = 0; o < i.length; o += 1)i[o] && i[o].m(e, null) }, p(r, s) { if (s & 7) { t = ut(r[1]); let o; for (o = 0; o < t.length; o += 1) { const a = iP(r, t, o); i[o] ? i[o].p(a, s) : (i[o] = oP(a), i[o].c(), i[o].m(e, null)) } for (; o < i.length; o += 1)i[o].d(1); i.length = t.length } s & 2 && J(e, "languages-new-line", r[1].length >= 6) }, d(r) { r && _(e), ln(i, r) } } } function sP(n) { let e, t, i = n[4].name + "", r, s, o, a, l, u, c; function d() { return n[3](n[4]) } return { c() { e = L("li"), t = L("a"), r = le(i), l = Y(), this.h() }, l(f) { e = T(f, "LI", { class: !0 }); var g = E(e); t = T(g, "A", { href: !0, "aria-label": !0, "data-testid": !0, class: !0 }); var h = E(t); r = ue(h, i), h.forEach(_), l = X(g), g.forEach(_), this.h() }, h() { p(t, "href", s = `?l=${n[4].tag}`), p(t, "aria-label", o = n[0]("AMP.Shared.LocaleSwitcher.SwitchLanguage", { language: n[4].name })), p(t, "data-testid", a = `other-language-${n[4].tag}`), p(t, "class", "svelte-n776hm"), p(e, "class", "svelte-n776hm") }, m(f, g) { I(f, e, g), A(e, t), A(t, r), A(e, l), u || (c = Me(t, "click", Ui(d)), u = !0) }, p(f, g) { n = f, g & 2 && i !== (i = n[4].name + "") && me(r, i), g & 2 && s !== (s = `?l=${n[4].tag}`) && p(t, "href", s), g & 3 && o !== (o = n[0]("AMP.Shared.LocaleSwitcher.SwitchLanguage", { language: n[4].name })) && p(t, "aria-label", o), g & 2 && a !== (a = `other-language-${n[4].tag}`) && p(t, "data-testid", a) }, d(f) { f && _(e), u = !1, c() } } } function oP(n) { let e, t = n[4].tag && n[4].name && sP(n); return { c() { t && t.c(), e = re() }, l(i) { t && t.l(i), e = re() }, m(i, r) { t && t.m(i, r), I(i, e, r) }, p(i, r) { i[4].tag && i[4].name ? t ? t.p(i, r) : (t = sP(i), t.c(), t.m(e.parentNode, e)) : t && (t.d(1), t = null) }, d(i) { i && _(e), t && t.d(i) } } } function sHe(n) { let e, t = n[1].length > 0 && rP(n); return { c() { t && t.c(), e = re() }, l(i) { t && t.l(i), e = re() }, m(i, r) { t && t.m(i, r), I(i, e, r) }, p(i, [r]) { i[1].length > 0 ? t ? t.p(i, r) : (t = rP(i), t.c(), t.m(e.parentNode, e)) : t && (t.d(1), t = null) }, i: j, o: j, d(i) { i && _(e), t && t.d(i) } } } function oHe(n, e, t) { let { translateFn: i } = e, { otherLanguages: r } = e; const s = a => { const l = new URL(window.location.href); l.searchParams.set("l", a), window.location.assign(`${l.pathname}${l.search}`) }, o = a => s(a.tag); return n.$$set = a => { "translateFn" in a && t(0, i = a.translateFn), "otherLanguages" in a && t(1, r = a.otherLanguages) }, [i, r, s, o] } class aHe extends oe { constructor(e) { super(), se(this, e, oHe, sHe, ye, { translateFn: 0, otherLanguages: 1 }) } } function aP(n) { let e, t, i, r, s, o, a, l; return s = new aHe({ props: { translateFn: n[0], otherLanguages: n[6] } }), { c() { e = L("div"), t = L("button"), i = le(n[5]), r = Y(), V(s.$$.fragment), this.h() }, l(u) { e = T(u, "DIV", { class: !0 }); var c = E(e); t = T(c, "BUTTON", { class: !0, "data-testid": !0 }); var d = E(t); i = ue(d, n[5]), d.forEach(_), r = X(c), q(s.$$.fragment, c), c.forEach(_), this.h() }, h() { p(t, "class", "link svelte-14qifue"), p(t, "data-testid", "locale-switcher-button"), p(e, "class", "button-container svelte-14qifue"), J(e, "languages-new-line", n[6].length >= 6) }, m(u, c) { I(u, e, c), A(e, t), A(t, i), A(e, r), H(s, e, null), o = !0, a || (l = Me(t, "click", n[7]), a = !0) }, p(u, c) { (!o || c & 32) && me(i, u[5]); const d = {}; c & 1 && (d.translateFn = u[0]), c & 64 && (d.otherLanguages = u[6]), s.$set(d), (!o || c & 64) && J(e, "languages-new-line", u[6].length >= 6) }, i(u) { o || (w(s.$$.fragment, u), o = !0) }, o(u) { D(s.$$.fragment, u), o = !1 }, d(u) { u && _(e), $(s), a = !1, l() } } } function lHe(n) { let e, t; return e = new hU({ props: { translateFn: n[0], regions: n[1], defaultRoute: n[2] } }), e.$on("close", function () { Ft(n[3].close) && n[3].close.apply(this, arguments) }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { n = i; const s = {}; r & 1 && (s.translateFn = n[0]), r & 2 && (s.regions = n[1]), r & 4 && (s.defaultRoute = n[2]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function uHe(n) { let e, t, i, r = n[5] && !n[4] && aP(n), s = { modalTriggerElement: cHe, $$slots: { default: [lHe] }, $$scope: { ctx: n } }; return t = new Es({ props: s }), n[13](t), { c() { r && r.c(), e = Y(), V(t.$$.fragment) }, l(o) { r && r.l(o), e = X(o), q(t.$$.fragment, o) }, m(o, a) { r && r.m(o, a), I(o, e, a), H(t, o, a), i = !0 }, p(o, [a]) { o[5] && !o[4] ? r ? (r.p(o, a), a & 48 && w(r, 1)) : (r = aP(o), r.c(), w(r, 1), r.m(e.parentNode, e)) : r && (te(), D(r, 1, 1, () => { r = null }), ne()); const l = {}; a & 16399 && (l.$$scope = { dirty: a, ctx: o }), t.$set(l) }, i(o) { i || (w(r), w(t.$$.fragment, o), i = !0) }, o(o) { D(r), D(t.$$.fragment, o), i = !1 }, d(o) { o && _(e), r && r.d(o), n[13](null), $(t, o) } } } let cHe = null; function dHe(n, e, t) { let i, r, s, o, a, { translateFn: l } = e, { locale: u } = e, { regions: c } = e, { languages: d } = e, { defaultRoute: f } = e, { storefrontNameTranslations: g } = e, h; const m = () => { c.length && h.showModal() }; function v(b) { wt[b ? "unshift" : "push"](() => { h = b, t(3, h) }) } return n.$$set = b => { "translateFn" in b && t(0, l = b.translateFn), "locale" in b && t(8, u = b.locale), "regions" in b && t(1, c = b.regions), "languages" in b && t(9, d = b.languages), "defaultRoute" in b && t(2, f = b.defaultRoute), "storefrontNameTranslations" in b && t(10, g = b.storefrontNameTranslations) }, n.$$.update = () => { var b, y, k; n.$$.dirty & 256 && t(12, i = u.language), n.$$.dirty & 256 && t(11, r = u.storefront), n.$$.dirty & 6656 && t(6, s = d[r].filter(S => S.tag.toLowerCase() !== i.toLowerCase())), n.$$.dirty & 7168 && t(5, o = (k = (b = g[r]) == null ? void 0 : b[i]) != null ? k : (y = g[r]) == null ? void 0 : y.default), n.$$.dirty & 2048 && t(4, a = r === "cn") }, [l, c, f, h, a, o, s, m, u, d, g, r, i, v] } class fHe extends oe { constructor(e) { super(), se(this, e, dHe, uHe, ye, { translateFn: 0, locale: 8, regions: 1, languages: 9, defaultRoute: 2, storefrontNameTranslations: 10 }) } } function gHe(n) { return { c: j, l: j, m: j, p: j, i: j, o: j, d: j } } function hHe(n) { let e, t; return e = new WUe({ props: { footerItems: KUe, translateFn: n[1].t, $$slots: { "secondary-content": [mHe] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.translateFn = i[1].t), r & 38 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function lP(n) { let e, t; return e = new fHe({ props: { translateFn: n[1].t, regions: Cl, languages: dT, locale: n[4], storefrontNameTranslations: fT, defaultRoute: wO } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.translateFn = i[1].t), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function mHe(n) { let e, t, i = !n[2] && lP(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, s) { r[2] ? i && (te(), D(i, 1, 1, () => { i = null }), ne()) : i ? (i.p(r, s), s & 4 && w(i, 1)) : (i = lP(r), i.c(), w(i, 1), i.m(e.parentNode, e)) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function pHe(n) { return { c: j, l: j, m: j, p: j, i: j, o: j, d: j } } function _He(n) { let e, t, i, r = { ctx: n, current: null, token: null, hasCatch: !1, pending: pHe, then: hHe, catch: gHe, blocks: [, , ,] }; return uo(t = n[0], r), { c() { e = re(), r.block.c() }, l(s) { e = re(), r.block.l(s) }, m(s, o) { I(s, e, o), r.block.m(s, r.anchor = o), r.mount = () => e.parentNode, r.anchor = e, i = !0 }, p(s, [o]) { n = s, r.ctx = n, o & 1 && t !== (t = n[0]) && uo(t, r) || Gu(r, n, o) }, i(s) { i || (w(r.block), i = !0) }, o(s) { for (let o = 0; o < 3; o += 1) { const a = r.blocks[o]; D(a) } i = !1 }, d(s) { s && _(e), r.block.d(s), r.token = null, r = null } } } function vHe(n, e, t) { let i, r; ce(n, gl, l => t(2, r = l)); let { page: s } = e; const o = ot(); ce(n, o, l => t(1, i = l)); const a = Tn(); return n.$$set = l => { "page" in l && t(0, s = l.page) }, [s, i, r, o, a] } class bHe extends oe { constructor(e) { super(), se(this, e, vHe, _He, ye, { page: 0 }) } } function uP(n, e, t) { const i = n.slice(); return i[15] = e[t], i[17] = t, i } function cP(n) { let e, t, i, r = n[5].name + "", s, o, a, l, u, c, d = n[0]("AMP.Shared.DropdownMenu.Continue") + "", f, g, h, m; a = new Il({ props: { class: "chevron", "aria-hidden": "true" } }); let v = n[3] && dP(n); return { c() { e = L("div"), t = L("button"), i = L("span"), s = le(r), o = Y(), V(a.$$.fragment), l = Y(), v && v.c(), u = Y(), c = L("button"), f = le(d), this.h() }, l(b) { e = T(b, "DIV", { class: !0, "data-testid": !0 }); var y = E(e); t = T(y, "BUTTON", { class: !0, "data-testid": !0, "aria-haspopup": !0, "aria-controls": !0, "aria-expanded": !0 }); var k = E(t); i = T(k, "SPAN", { id: !0, class: !0 }); var S = E(i); s = ue(S, r), S.forEach(_), o = X(k), q(a.$$.fragment, k), k.forEach(_), l = X(y), v && v.l(y), u = X(y), c = T(y, "BUTTON", { class: !0, "data-testid": !0 }); var C = E(c); f = ue(C, d), C.forEach(_), y.forEach(_), this.h() }, h() { p(i, "id", "button-label"), p(i, "class", "svelte-1ma3nks"), p(t, "class", "dropdown-button svelte-1ma3nks"), p(t, "data-testid", "dropdown-button"), p(t, "aria-haspopup", "menu"), p(t, "aria-controls", "select-list"), p(t, "aria-expanded", n[3]), p(c, "class", "select-button svelte-1ma3nks"), p(c, "data-testid", "select-button"), p(e, "class", "select-container svelte-1ma3nks"), p(e, "data-testid", "select-container"), J(e, "open-up", n[3] && n[2] === "up"), J(e, "open-down", n[3] && n[2] === "down") }, m(b, y) { I(b, e, y), A(e, t), A(t, i), A(i, s), A(t, o), H(a, t, null), n[12](t), A(e, l), v && v.m(e, null), A(e, u), A(e, c), A(c, f), g = !0, h || (m = [Me(t, "click", n[11]), Me(c, "click", n[14]), Me(e, "keyup", n[9])], h = !0) }, p(b, y) { (!g || y & 32) && r !== (r = b[5].name + "") && me(s, r), (!g || y & 8) && p(t, "aria-expanded", b[3]), b[3] ? v ? (v.p(b, y), y & 8 && w(v, 1)) : (v = dP(b), v.c(), w(v, 1), v.m(e, u)) : v && (te(), D(v, 1, 1, () => { v = null }), ne()), (!g || y & 1) && d !== (d = b[0]("AMP.Shared.DropdownMenu.Continue") + "") && me(f, d), (!g || y & 12) && J(e, "open-up", b[3] && b[2] === "up"), (!g || y & 12) && J(e, "open-down", b[3] && b[2] === "down") }, i(b) { g || (w(a.$$.fragment, b), w(v), g = !0) }, o(b) { D(a.$$.fragment, b), D(v), g = !1 }, d(b) { b && _(e), $(a), n[12](null), v && v.d(), h = !1, Ot(m) } } } function dP(n) { let e, t = [], i = new Map, r, s, o, a = ut(n[1]); const l = u => u[15].name; for (let u = 0; u < a.length; u += 1) { let c = uP(n, a, u), d = l(c); i.set(d, t[u] = gP(d, c)) } return { c() { e = L("ul"); for (let u = 0; u < t.length; u += 1)t[u].c(); this.h() }, l(u) { e = T(u, "UL", { id: !0, "data-testid": !0, role: !0, class: !0 }); var c = E(e); for (let d = 0; d < t.length; d += 1)t[d].l(c); c.forEach(_), this.h() }, h() { p(e, "id", "select-list"), p(e, "data-testid", "select-list"), p(e, "role", "menu"), p(e, "class", "select-list svelte-1ma3nks") }, m(u, c) { I(u, e, c); for (let d = 0; d < t.length; d += 1)t[d] && t[d].m(e, null); r = !0, s || (o = Ut(lN.call(null, e, n[8])), s = !0) }, p(u, c) { c & 102 && (a = ut(u[1]), te(), t = lr(t, c, l, 1, u, a, i, e, Ir, gP, null, uP), ne()) }, i(u) { if (!r) { for (let c = 0; c < a.length; c += 1)w(t[c]); r = !0 } }, o(u) { for (let c = 0; c < t.length; c += 1)D(t[c]); r = !1 }, d(u) { u && _(e); for (let c = 0; c < t.length; c += 1)t[c].d(); s = !1, o() } } } function fP(n) { let e, t; return e = new Il({ props: { class: "chevron", "aria-hidden": "true" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function gP(n, e) { let t, i, r = e[15].name + "", s, o, a, l, u, c, d, f, g = (e[17] === e[1].length - 1 && e[2] === "up" || e[17] === 0 && e[2] === "down") && fP(); function h() { return e[13](e[17]) } return { key: n, first: null, c() { t = L("li"), i = L("span"), s = le(r), o = Y(), g && g.c(), a = Y(), this.h() }, l(m) { t = T(m, "LI", { "data-testid": !0, role: !0, tabindex: !0, "aria-selected": !0, class: !0 }); var v = E(t); i = T(v, "SPAN", { class: !0 }); var b = E(i); s = ue(b, r), b.forEach(_), o = X(v), g && g.l(v), a = X(v), v.forEach(_), this.h() }, h() { p(i, "class", "svelte-1ma3nks"), p(t, "data-testid", l = `list-item-${e[17]}`), p(t, "role", "menuitem"), p(t, "tabindex", "0"), p(t, "aria-selected", u = e[15] === e[5]), p(t, "class", "dropdown-select-item svelte-1ma3nks"), J(t, "selected", e[15] === e[5]), this.first = t }, m(m, v) { I(m, t, v), A(t, i), A(i, s), A(t, o), g && g.m(t, null), A(t, a), c = !0, d || (f = Me(t, "click", h), d = !0) }, p(m, v) { e = m, (!c || v & 2) && r !== (r = e[15].name + "") && me(s, r), e[17] === e[1].length - 1 && e[2] === "up" || e[17] === 0 && e[2] === "down" ? g ? v & 6 && w(g, 1) : (g = fP(), g.c(), w(g, 1), g.m(t, a)) : g && (te(), D(g, 1, 1, () => { g = null }), ne()), (!c || v & 2 && l !== (l = `list-item-${e[17]}`)) && p(t, "data-testid", l), (!c || v & 34 && u !== (u = e[15] === e[5])) && p(t, "aria-selected", u), (!c || v & 34) && J(t, "selected", e[15] === e[5]) }, i(m) { c || (w(g), c = !0) }, o(m) { D(g), c = !1 }, d(m) { m && _(t), g && g.d(), d = !1, f() } } } function yHe(n) { let e, t, i = n[1].length && cP(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[1].length ? i ? (i.p(r, s), s & 2 && w(i, 1)) : (i = cP(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } const wHe = "Rendering DropdownMenu failed, no options provided"; function kHe(n, e, t) { let i, { translateFn: r } = e, { options: s } = e, { position: o } = e, a = !1, l = null, u = 0; const c = y => { t(10, u = y), t(3, a = !1) }, d = y => { i.callback(y) }, f = y => { const k = y.composedPath()[0]; a && !l.contains(k) && t(3, a = !1) }, g = y => { a && y.key === "Escape" && t(3, a = !1) }; Yt(() => { s.length || console.warn(wHe) }); const h = () => t(3, a = !a); function m(y) { wt[y ? "unshift" : "push"](() => { l = y, t(4, l) }) } const v = y => c(y), b = y => d(y); return n.$$set = y => { "translateFn" in y && t(0, r = y.translateFn), "options" in y && t(1, s = y.options), "position" in y && t(2, o = y.position) }, n.$$.update = () => { n.$$.dirty & 1026 && t(5, i = s[u]) }, [r, s, o, a, l, i, c, d, f, g, u, h, m, v, b] } class DHe extends oe { constructor(e) { super(), se(this, e, kHe, yHe, ye, { translateFn: 0, options: 1, position: 2 }) } } function hP(n) { let e, t, i, r, s, o, a, l, u = n[0]("AMP.Shared.AwayFromHomeBanner.Heading") + "", c, d, f, g, h, m, v; return r = new rr({}), f = new DHe({ props: { translateFn: n[0], position: n[3], options: n[7] } }), { c() { e = L("div"), t = L("div"), i = L("button"), V(r.$$.fragment), o = Y(), a = L("div"), l = L("span"), c = le(u), d = Y(), V(f.$$.fragment), this.h() }, l(b) { e = T(b, "DIV", { "aria-label": !0, class: !0, "data-testid": !0 }); var y = E(e); t = T(y, "DIV", { class: !0 }); var k = E(t); i = T(k, "BUTTON", { class: !0, "data-testid": !0, type: !0, "aria-label": !0 }); var S = E(i); q(r.$$.fragment, S), S.forEach(_), o = X(k), a = T(k, "DIV", { class: !0 }); var C = E(a); l = T(C, "SPAN", { class: !0 }); var P = E(l); c = ue(P, u), P.forEach(_), d = X(C), q(f.$$.fragment, C), C.forEach(_), k.forEach(_), y.forEach(_), this.h() }, h() { p(i, "class", "close-button svelte-1tek7x4"), p(i, "data-testid", "close-button"), p(i, "type", "button"), p(i, "aria-label", s = n[0]("AMP.Shared.AX.Close")), p(l, "class", "message svelte-1tek7x4"), p(a, "class", "dropdown-container svelte-1tek7x4"), p(t, "class", "banner-content svelte-1tek7x4"), p(e, "aria-label", g = n[0]("AMP.Shared.AwayFromHomeBanner.AriaLabel")), p(e, "class", "banner-container svelte-1tek7x4"), p(e, "data-testid", "banner-container") }, m(b, y) { I(b, e, y), A(e, t), A(t, i), H(r, i, null), A(t, o), A(t, a), A(a, l), A(l, c), A(a, d), H(f, a, null), h = !0, m || (v = [Me(i, "click", n[9]), Ut(Ca.call(null, e))], m = !0) }, p(b, y) { (!h || y & 1 && s !== (s = b[0]("AMP.Shared.AX.Close"))) && p(i, "aria-label", s), (!h || y & 1) && u !== (u = b[0]("AMP.Shared.AwayFromHomeBanner.Heading") + "") && me(c, u); const k = {}; y & 1 && (k.translateFn = b[0]), y & 8 && (k.position = b[3]), y & 128 && (k.options = b[7]), f.$set(k), (!h || y & 1 && g !== (g = b[0]("AMP.Shared.AwayFromHomeBanner.AriaLabel"))) && p(e, "aria-label", g) }, i(b) { h || (w(r.$$.fragment, b), w(f.$$.fragment, b), h = !0) }, o(b) { D(r.$$.fragment, b), D(f.$$.fragment, b), h = !1 }, d(b) { b && _(e), $(r), $(f), m = !1, Ot(v) } } } function SHe(n) { let e, t; return e = new hU({ props: { translateFn: n[0], regions: n[1], defaultRoute: n[2], dialogTitleId: n[4] } }), e.$on("close", function () { Ft(n[6].close) && n[6].close.apply(this, arguments) }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { n = i; const s = {}; r & 1 && (s.translateFn = n[0]), r & 2 && (s.regions = n[1]), r & 4 && (s.defaultRoute = n[2]), r & 16 && (s.dialogTitleId = n[4]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function CHe(n) { let e, t, i, r = n[8] && hP(n), s = { modalTriggerElement: n[5], ariaLabelledBy: n[4], $$slots: { default: [SHe] }, $$scope: { ctx: n } }; return t = new Es({ props: s }), n[13](t), { c() { r && r.c(), e = Y(), V(t.$$.fragment) }, l(o) { r && r.l(o), e = X(o), q(t.$$.fragment, o) }, m(o, a) { r && r.m(o, a), I(o, e, a), H(t, o, a), i = !0 }, p(o, [a]) { o[8] ? r ? (r.p(o, a), a & 256 && w(r, 1)) : (r = hP(o), r.c(), w(r, 1), r.m(e.parentNode, e)) : r && (te(), D(r, 1, 1, () => { r = null }), ne()); const l = {}; a & 32 && (l.modalTriggerElement = o[5]), a & 16 && (l.ariaLabelledBy = o[4]), a & 2097239 && (l.$$scope = { dirty: a, ctx: o }), t.$set(l) }, i(o) { i || (w(r), w(t.$$.fragment, o), i = !0) }, o(o) { D(r), D(t.$$.fragment, o), i = !1 }, d(o) { o && _(e), r && r.d(o), n[13](null), $(t, o) } } } const mP = "dismissed-geo-banner"; function PHe(n, e, t) { var R; const i = _N(); let { translateFn: r } = e, { locale: s } = e, { user: o } = e, { regions: a } = e, { storefrontNameTranslations: l } = e, { defaultRoute: u } = e, { dropdownPosition: c = "up" } = e, { dialogTitleId: d = (R = i == null ? void 0 : i()) != null ? R : "away-from-home-banner-dialog-title" } = e, f = null, g, h, m, v = [], b = s.language, y = s.storefront.toLowerCase(), k = !1; const S = () => { var F; typeof localStorage < "u" && (m = window.localStorage.getItem(`${mP}-${y}`), h = (F = Ci("geo")) == null ? void 0 : F.toLowerCase(), P()) }, C = () => { t(8, k = !1), window.localStorage.setItem(`${mP}-${y}`, Date.now().toString()) }, P = () => { var F, N; if (!h || !l[h] || (o == null ? void 0 : o.userStorefront) === y ? t(8, k = !1) : o != null && o.isSignedIn && (o == null ? void 0 : o.userStorefront) !== void 0 ? t(8, k = !0) : t(8, k = h !== y && !m), k) { const O = (F = l[h][b]) != null ? F : l[h].default, B = o != null && o.userStorefront ? (N = l[o.userStorefront][b]) != null ? N : l[o.userStorefront].default : null, U = B && (o == null ? void 0 : o.userStorefront) !== h; t(7, v = [{ name: O, callback: () => { window.location.assign(ml(u, h)) } }, { name: r("AMP.Shared.LocaleSwitcher.Heading"), callback: K => { t(5, f = K.target), g.showModal() } }]), U && v.unshift({ name: B, callback: () => { window.location.assign(ml(u, o == null ? void 0 : o.userStorefront)) } }) } }; Yt(() => S()); function M(F) { wt[F ? "unshift" : "push"](() => { g = F, t(6, g) }) } return n.$$set = F => { "translateFn" in F && t(0, r = F.translateFn), "locale" in F && t(10, s = F.locale), "user" in F && t(11, o = F.user), "regions" in F && t(1, a = F.regions), "storefrontNameTranslations" in F && t(12, l = F.storefrontNameTranslations), "defaultRoute" in F && t(2, u = F.defaultRoute), "dropdownPosition" in F && t(3, c = F.dropdownPosition), "dialogTitleId" in F && t(4, d = F.dialogTitleId) }, n.$$.update = () => { n.$$.dirty & 2048 && S(), n.$$.dirty & 2048 && P() }, [r, a, u, c, d, f, g, v, k, C, s, o, l, M] } class AHe extends oe { constructor(e) { super(), se(this, e, PHe, CHe, ye, { translateFn: 0, locale: 10, user: 11, regions: 1, storefrontNameTranslations: 12, defaultRoute: 2, dropdownPosition: 3, dialogTitleId: 4 }) } } function pP(n) { let e, t, i, r, s, o, a, l, u; return { c() { e = L("div"), t = L("cwc-music-upsell-banner-web"), this.h() }, l(c) { e = T(c, "DIV", { class: !0, "data-testid": !0 }); var d = E(e); t = T(d, "CWC-MUSIC-UPSELL-BANNER-WEB", { storefront: !0, "is-intro-offer": !0, "is-free-trial": !0, "base-price-string": !0, "intro-period": !0, "intro-price": !0 }), E(t).forEach(_), d.forEach(_), this.h() }, h() { var c, d, f, g, h, m; Xe(t, "storefront", n[1]), Xe(t, "is-intro-offer", i = (c = n[0]) == null ? void 0 : c.isIntroOffer), Xe(t, "is-free-trial", r = (d = n[0]) == null ? void 0 : d.isFreeTrial), Xe(t, "base-price-string", s = ((f = n[0]) == null ? void 0 : f.basePriceString) || n[3].t("ASE.Web.Music.UpsellBanner.Subscribe.BaseMonthlyPrice")), Xe(t, "intro-period", o = n[3].t("ASE.Web.Music.Finance.Duration.Months", { num: (g = n[0]) == null ? void 0 : g.introPeriod, count: (h = n[0]) == null ? void 0 : h.introPeriod })), Xe(t, "intro-price", a = (m = n[0]) == null ? void 0 : m.introPrice), p(e, "class", "upsell-banner svelte-t9o48i"), p(e, "data-testid", "upsell-banner") }, m(c, d) { I(c, e, d), A(e, t), l || (u = Me(t, "cwcCtaClick", n[7]), l = !0) }, p(c, d) { var f, g, h, m, v, b; d & 2 && Xe(t, "storefront", c[1]), d & 1 && i !== (i = (f = c[0]) == null ? void 0 : f.isIntroOffer) && Xe(t, "is-intro-offer", i), d & 1 && r !== (r = (g = c[0]) == null ? void 0 : g.isFreeTrial) && Xe(t, "is-free-trial", r), d & 9 && s !== (s = ((h = c[0]) == null ? void 0 : h.basePriceString) || c[3].t("ASE.Web.Music.UpsellBanner.Subscribe.BaseMonthlyPrice")) && Xe(t, "base-price-string", s), d & 9 && o !== (o = c[3].t("ASE.Web.Music.Finance.Duration.Months", { num: (m = c[0]) == null ? void 0 : m.introPeriod, count: (v = c[0]) == null ? void 0 : v.introPeriod })) && Xe(t, "intro-period", o), d & 1 && a !== (a = (b = c[0]) == null ? void 0 : b.introPrice) && Xe(t, "intro-price", a) }, d(c) { c && _(e), l = !1, u() } } } function EHe(n) { let e, t = n[2] && pP(n); return { c() { t && t.c(), e = re() }, l(i) { t && t.l(i), e = re() }, m(i, r) { t && t.m(i, r), I(i, e, r) }, p(i, [r]) { i[2] ? t ? t.p(i, r) : (t = pP(i), t.c(), t.m(e.parentNode, e)) : t && (t.d(1), t = null) }, i: j, o: j, d(i) { i && _(e), t && t.d(i) } } } function IHe(n, e, t) { let i, r, s, o, a, l, u; ce(n, Zo, k => t(12, l = k)); var c, d; const f = ot(); ce(n, f, k => t(3, u = k)); const g = kn("<UpsellBanner>"), h = Tn(), { state: m } = xt(); ce(n, m, k => t(10, o = k)); const v = sn(), b = ov(); ce(n, b, k => t(11, a = k)); const y = () => { if (!uT.includes(s)) { const S = vr({ type: ir.Open, activePath: fi.subscribe }); v(S) } else hN() }; return Yt(async () => { try { xNe() } catch (k) { g.error("Loading CWC Music Upsell Banner Failed", k) } }), n.$$.update = () => { n.$$.dirty & 1024 && t(0, i = o.upsellOfferDetails), n.$$.dirty & 7425 && t(2, r = !l && !a && i && !(!(t(8, c = o.user) === null || c === void 0) && c.isSubscribed) && !o.suppressUpSells), n.$$.dirty & 1536 && t(1, s = (t(9, d = o.user) === null || d === void 0 ? void 0 : d.subscriptionStorefront) || h.storefront) }, [i, s, r, u, f, m, b, y, c, d, o, a, l] } class MHe extends oe { constructor(e) { super(), se(this, e, IHe, EHe, ye, {}) } } function LHe(n) { let e = n[6].t("ASE.Web.Music.Cancel") + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 64 && e !== (e = i[6].t("ASE.Web.Music.Cancel") + "") && me(t, e) }, d(i) { i && _(t) } } } function THe(n) { let e; return { c() { e = le(n[1]) }, l(t) { e = ue(t, n[1]) }, m(t, i) { I(t, e, i) }, p(t, i) { i & 2 && me(e, t[1]) }, d(t) { t && _(e) } } } function RHe(n) {
    let e, t, i, r, s = !1, o, a, l, u, c, d, f, g, h, m, v, b, y = n[6].t("ASE.Web.Music.Library.PlaylistCreation.MakePublic") + "", k, S, C, P, M, R, F, N, O, B, U, K = s; return M = new yi({ props: { buttonStyle: "buttonB", type: "button", $$slots: { default: [LHe] }, $$scope: { ctx: n } } }), M.$on("buttonClick", n[9]), N = new yi({ props: { buttonStyle: "buttonA", type: "submit", disabled: n[5].trim().length < 1, $$slots: { default: [THe] }, $$scope: { ctx: n } } }), {
        c() {
            e = L("form"), t = L("h3"), i = le(n[0]), r = Y(), o = Y(), a = L("input"), c = Y(), d = L("textarea"), h = Y(), m = L("label"), v = L("input"), b = le(`
            `), k = le(y), S = Y(), C = L("div"), P = L("div"), V(M.$$.fragment), R = Y(), F = L("div"), V(N.$$.fragment), this.h()
        }, l(W) {
            e = T(W, "FORM", { class: !0 }); var Z = E(e); t = T(Z, "H3", { class: !0 }); var Q = E(t); i = ue(Q, n[0]), Q.forEach(_), r = X(Z), o = X(Z), a = T(Z, "INPUT", { class: !0, name: !0, type: !0, "data-testid": !0, "aria-label": !0, placeholder: !0 }), c = X(Z), d = T(Z, "TEXTAREA", { class: !0, name: !0, "data-testid": !0, "aria-label": !0, placeholder: !0, rows: !0 }), E(d).forEach(_), h = X(Z), m = T(Z, "LABEL", { class: !0 }); var G = E(m); v = T(G, "INPUT", { class: !0, name: !0, type: !0 }), b = ue(G, `
            `), k = ue(G, y), G.forEach(_), S = X(Z), C = T(Z, "DIV", { class: !0 }); var ae = E(C); P = T(ae, "DIV", { class: !0 }); var ee = E(P); q(M.$$.fragment, ee), ee.forEach(_), R = X(ae), F = T(ae, "DIV", { class: !0 }); var pe = E(F); q(N.$$.fragment, pe), pe.forEach(_), ae.forEach(_), Z.forEach(_), this.h()
        }, h() { p(t, "class", "modal-title svelte-1kd2e9n"), p(a, "class", "playlist-title svelte-1kd2e9n"), p(a, "name", "title"), p(a, "type", "text"), p(a, "data-testid", "playlist-title-input"), p(a, "aria-label", l = n[6].t("ASE.Web.Music.Library.PlaylistCreation.TitleLabel")), p(a, "placeholder", u = n[6].t("ASE.Web.Music.Library.PlaylistCreation.TitlePlaceholder")), a.required = !0, p(d, "class", "description svelte-1kd2e9n"), p(d, "name", "description"), p(d, "data-testid", "playlist-description-input"), p(d, "aria-label", f = n[6].t("ASE.Web.Music.Library.PlaylistCreation.DescriptionLabel")), p(d, "placeholder", g = n[6].t("ASE.Web.Music.Library.PlaylistCreation.DescriptionPlaceholder")), d.required = !1, p(d, "rows", "2"), p(v, "class", "public-checkbox"), p(v, "name", "public"), p(v, "type", "checkbox"), p(m, "class", "public svelte-1kd2e9n"), p(P, "class", "cancel-button svelte-1kd2e9n"), p(F, "class", "submit-button"), p(C, "class", "buttons svelte-1kd2e9n"), p(e, "class", "playlist-form svelte-1kd2e9n") }, m(W, Z) { I(W, e, Z), A(e, t), A(t, i), A(e, r), A(e, o), A(e, a), ps(a, n[5]), A(e, c), A(e, d), ps(d, n[4]), A(e, h), A(e, m), A(m, v), v.checked = n[3], A(m, b), A(m, k), A(e, S), A(e, C), A(C, P), H(M, P, null), A(C, R), A(C, F), H(N, F, null), O = !0, B || (U = [Me(a, "input", n[14]), Me(d, "input", n[15]), Me(v, "change", n[16]), Me(e, "submit", Ui(n[8]))], B = !0) }, p(W, Z) { (!O || Z & 1) && me(i, W[0]), (!O || Z & 64 && l !== (l = W[6].t("ASE.Web.Music.Library.PlaylistCreation.TitleLabel"))) && p(a, "aria-label", l), (!O || Z & 64 && u !== (u = W[6].t("ASE.Web.Music.Library.PlaylistCreation.TitlePlaceholder"))) && p(a, "placeholder", u), Z & 32 && a.value !== W[5] && ps(a, W[5]), (!O || Z & 64 && f !== (f = W[6].t("ASE.Web.Music.Library.PlaylistCreation.DescriptionLabel"))) && p(d, "aria-label", f), (!O || Z & 64 && g !== (g = W[6].t("ASE.Web.Music.Library.PlaylistCreation.DescriptionPlaceholder"))) && p(d, "placeholder", g), Z & 16 && ps(d, W[4]), Z & 8 && (v.checked = W[3]), (!O || Z & 64) && y !== (y = W[6].t("ASE.Web.Music.Library.PlaylistCreation.MakePublic") + "") && me(k, y); const Q = {}; Z & 524352 && (Q.$$scope = { dirty: Z, ctx: W }), M.$set(Q); const G = {}; Z & 32 && (G.disabled = W[5].trim().length < 1), Z & 524290 && (G.$$scope = { dirty: Z, ctx: W }), N.$set(G) }, i(W) { O || (w(K), w(M.$$.fragment, W), w(N.$$.fragment, W), O = !0) }, o(W) { D(K), D(M.$$.fragment, W), D(N.$$.fragment, W), O = !1 }, d(W) { W && _(e), $(M), $(N), B = !1, Ot(U) }
    }
} function FHe(n) { let e, t, i = { modalTriggerElement: null, $$slots: { default: [RHe] }, $$scope: { ctx: n } }; return e = new Es({ props: i }), n[17](e), e.$on("close", n[9]), { c() { V(e.$$.fragment) }, l(r) { q(e.$$.fragment, r) }, m(r, s) { H(e, r, s), t = !0 }, p(r, [s]) { const o = {}; s & 524411 && (o.$$scope = { dirty: s, ctx: r }), e.$set(o) }, i(r) { t || (w(e.$$.fragment, r), t = !0) }, o(r) { D(e.$$.fragment, r), t = !1 }, d(r) { n[17](null), $(e, r) } } } function OHe(n, e, t) { let i, r, s, o, { headerText: a } = e, { submitText: l } = e, { isOpen: u } = e; const c = It(), d = ot(); ce(n, d, P => t(6, o = P)); let { title: f = "" } = e, { description: g = "" } = e, { isPublic: h = !1 } = e, m; function v() { c("submit", { title: i, description: r, isPublic: s }) } function b() { c("close") } Yt(() => { window.addEventListener("popstate", b) }), mn(() => { window.removeEventListener("popstate", b) }); function y() { i = this.value, t(5, i), t(11, f), t(10, u), t(2, m) } function k() { r = this.value, t(4, r), t(12, g), t(10, u), t(2, m) } function S() { s = this.checked, t(3, s), t(13, h), t(10, u), t(2, m) } function C(P) { wt[P ? "unshift" : "push"](() => { m = P, t(2, m) }) } return n.$$set = P => { "headerText" in P && t(0, a = P.headerText), "submitText" in P && t(1, l = P.submitText), "isOpen" in P && t(10, u = P.isOpen), "title" in P && t(11, f = P.title), "description" in P && t(12, g = P.description), "isPublic" in P && t(13, h = P.isPublic) }, n.$$.update = () => { n.$$.dirty & 2048 && t(5, i = f || ""), n.$$.dirty & 4096 && t(4, r = g || ""), n.$$.dirty & 8192 && t(3, s = h), n.$$.dirty & 1028 && (u ? m == null || m.showModal() : (m == null || m.close(), t(5, i = t(4, r = "")), t(3, s = !1))) }, [a, l, m, s, r, i, o, d, v, b, u, f, g, h, y, k, S, C] } class mU extends oe { constructor(e) { super(), se(this, e, OHe, FHe, ye, { headerText: 0, submitText: 1, isOpen: 10, title: 11, description: 12, isPublic: 13 }) } } function _P(n) { let e, t; return e = new mU({ props: { headerText: n[1].t("ASE.Web.Music.Library.PlaylistCreation.Heading"), submitText: n[1].t("ASE.Web.Music.Library.PlaylistCreation.Create"), isOpen: !0 } }), e.$on("submit", n[3]), e.$on("close", n[4]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 2 && (s.headerText = i[1].t("ASE.Web.Music.Library.PlaylistCreation.Heading")), r & 2 && (s.submitText = i[1].t("ASE.Web.Music.Library.PlaylistCreation.Create")), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function NHe(n) { let e, t, i = n[0] && _P(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[0] ? i ? (i.p(r, s), s & 1 && w(i, 1)) : (i = _P(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function BHe(n, e, t) { let i, r, s; ce(n, Dd, d => t(5, i = d)), ce(n, wd, d => t(0, r = d)); const o = ot(); ce(n, o, d => t(1, s = d)); const a = Ig(), l = fn(); async function u({ detail: { title: d, description: f, isPublic: g } }) { l.recordCustomMetricsEvent(nf("create")), await Dne({ title: d, description: f, id: i.id, kind: i.kind, contentDescriptor: i.contentDescriptor, isPublic: g }, l, a), ni(wd, r = !1, r), ni(Dd, i = null, i) } async function c() { ni(wd, r = !1, r), ni(Dd, i = null, i), l.recordCustomMetricsEvent(nf("cancel")) } return [r, s, o, u, c] } class UHe extends oe { constructor(e) { super(), se(this, e, BHe, NHe, ye, {}) } } function vP(n) { let e, t; return e = new mU({ props: { headerText: n[4].t("ASE.Web.Music.Library.PlaylistEdition.Header"), submitText: n[4].t("ASE.Web.Music.Library.PlaylistEdition.Submit"), isOpen: n[3], title: n[2], description: n[1], isPublic: n[0] } }), e.$on("submit", n[6]), e.$on("close", n[7]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 16 && (s.headerText = i[4].t("ASE.Web.Music.Library.PlaylistEdition.Header")), r & 16 && (s.submitText = i[4].t("ASE.Web.Music.Library.PlaylistEdition.Submit")), r & 8 && (s.isOpen = i[3]), r & 4 && (s.title = i[2]), r & 2 && (s.description = i[1]), r & 1 && (s.isPublic = i[0]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function HHe(n) { let e, t, i = n[3] && vP(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[3] ? i ? (i.p(r, s), s & 8 && w(i, 1)) : (i = vP(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function $He(n, e, t) { let i, r, s, o, a, l; ce(n, cR, g => t(8, o = g)), ce(n, kd, g => t(3, a = g)); const u = ot(); ce(n, u, g => t(4, l = g)), Ig(); const c = fn(); async function d({ detail: { title: g, description: h, isPublic: m } }) { c.recordCustomMetricsEvent(nf("done", o == null ? void 0 : o.id)), await Sne({ name: g, description: h, id: o.id, isPublic: m }, c), ni(kd, a = !1, a) } async function f() { ni(kd, a = !1, a), c.recordCustomMetricsEvent(nf("cancel", o == null ? void 0 : o.id)) } return n.$$.update = () => { n.$$.dirty & 256 && t(2, i = o == null ? void 0 : o.title), n.$$.dirty & 256 && t(1, r = o == null ? void 0 : o.description), n.$$.dirty & 256 && t(0, s = o == null ? void 0 : o.isPublic) }, [s, r, i, a, l, u, d, f, o] } class VHe extends oe { constructor(e) { super(), se(this, e, $He, HHe, ye, {}) } } function bP(n) { let e, t, i, r, s, o, a; function l(f, g) { return f[0] ? qHe : zHe } let u = l(n), c = u(n), d = n[2] && yP(n); return o = new yi({ props: { buttonStyle: n[2] ? "alertButtonSecondary" : "alertButton", makeFocused: !n[2], $$slots: { default: [KHe] }, $$scope: { ctx: n } } }), o.$on("buttonClick", n[7]), { c() { e = L("article"), t = L("div"), c.c(), i = Y(), r = L("div"), d && d.c(), s = Y(), V(o.$$.fragment), this.h() }, l(f) { e = T(f, "ARTICLE", { class: !0, "data-testid": !0 }); var g = E(e); t = T(g, "DIV", { role: !0, class: !0 }); var h = E(t); c.l(h), h.forEach(_), i = X(g), r = T(g, "DIV", { class: !0 }); var m = E(r); d && d.l(m), s = X(m), q(o.$$.fragment, m), m.forEach(_), g.forEach(_), this.h() }, h() { p(t, "role", "status"), p(t, "class", "error-modal__top-content svelte-1qlmxda"), J(t, "error-modal__top-content--expanded", !!n[0]), p(r, "class", "error-modal__bottom-content svelte-1qlmxda"), J(r, "error-modal__bottom-content--has-action", !!n[2]), J(r, "error-modal__bottom-content--row", n[5] === "row"), p(e, "class", "error-modal__container svelte-1qlmxda"), p(e, "data-testid", "error-modal") }, m(f, g) { I(f, e, g), A(e, t), c.m(t, null), A(e, i), A(e, r), d && d.m(r, null), A(r, s), H(o, r, null), a = !0 }, p(f, g) { u === (u = l(f)) && c ? c.p(f, g) : (c.d(1), c = u(f), c && (c.c(), c.m(t, null))), (!a || g & 1) && J(t, "error-modal__top-content--expanded", !!f[0]), f[2] ? d ? (d.p(f, g), g & 4 && w(d, 1)) : (d = yP(f), d.c(), w(d, 1), d.m(r, s)) : d && (te(), D(d, 1, 1, () => { d = null }), ne()); const h = {}; g & 4 && (h.buttonStyle = f[2] ? "alertButtonSecondary" : "alertButton"), g & 4 && (h.makeFocused = !f[2]), g & 520 && (h.$$scope = { dirty: g, ctx: f }), o.$set(h), (!a || g & 4) && J(r, "error-modal__bottom-content--has-action", !!f[2]), (!a || g & 32) && J(r, "error-modal__bottom-content--row", f[5] === "row") }, i(f) { a || (w(d), w(o.$$.fragment, f), a = !0) }, o(f) { D(d), D(o.$$.fragment, f), a = !1 }, d(f) { f && _(e), c.d(), d && d.d(), $(o) } } } function zHe(n) { let e, t; return { c() { e = L("h1"), t = le(n[1]), this.h() }, l(i) { e = T(i, "H1", { id: !0, "data-testid": !0, class: !0 }); var r = E(e); t = ue(r, n[1]), r.forEach(_), this.h() }, h() { p(e, "id", n[4]), p(e, "data-testid", "error-message-only"), p(e, "class", "error-modal__message svelte-1qlmxda") }, m(i, r) { I(i, e, r), A(e, t) }, p(i, r) { r & 2 && me(t, i[1]), r & 16 && p(e, "id", i[4]) }, d(i) { i && _(e) } } } function qHe(n) { let e, t, i, r, s; return { c() { e = L("h1"), t = le(n[0]), i = Y(), r = L("p"), s = le(n[1]), this.h() }, l(o) { e = T(o, "H1", { id: !0, "data-testid": !0, class: !0 }); var a = E(e); t = ue(a, n[0]), a.forEach(_), i = X(o), r = T(o, "P", { "data-testid": !0, class: !0 }); var l = E(r); s = ue(l, n[1]), l.forEach(_), this.h() }, h() { p(e, "id", n[4]), p(e, "data-testid", "error-header"), p(e, "class", "error-modal__message svelte-1qlmxda"), p(r, "data-testid", "error-message"), p(r, "class", "error-modal__sub-message svelte-1qlmxda") }, m(o, a) { I(o, e, a), A(e, t), I(o, i, a), I(o, r, a), A(r, s) }, p(o, a) { a & 1 && me(t, o[0]), a & 16 && p(e, "id", o[4]), a & 2 && me(s, o[1]) }, d(o) { o && (_(e), _(i), _(r)) } } } function yP(n) { let e, t; return e = new yi({ props: { buttonStyle: "alertButton", makeFocused: !0, $$slots: { default: [WHe] }, $$scope: { ctx: n } } }), e.$on("buttonClick", n[6]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 516 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function WHe(n) { let e; return { c() { e = le(n[2]) }, l(t) { e = ue(t, n[2]) }, m(t, i) { I(t, e, i) }, p(t, i) { i & 4 && me(e, t[2]) }, d(t) { t && _(e) } } } function KHe(n) { let e; return { c() { e = le(n[3]) }, l(t) { e = ue(t, n[3]) }, m(t, i) { I(t, e, i) }, p(t, i) { i & 8 && me(e, t[3]) }, d(t) { t && _(e) } } } function JHe(n) { let e, t, i = n[1] && n[3] && bP(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[1] && r[3] ? i ? (i.p(r, s), s & 10 && w(i, 1)) : (i = bP(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function YHe(n, e, t) { let { header: i = null } = e, { message: r = null } = e, { action: s = null } = e, { confirm: o = null } = e, { dialogTitleId: a = null } = e, { buttonLayout: l = "row" } = e; const u = It(), c = () => { u("action") }, d = () => { u("close") }; return n.$$set = f => { "header" in f && t(0, i = f.header), "message" in f && t(1, r = f.message), "action" in f && t(2, s = f.action), "confirm" in f && t(3, o = f.confirm), "dialogTitleId" in f && t(4, a = f.dialogTitleId), "buttonLayout" in f && t(5, l = f.buttonLayout) }, [i, r, s, o, a, l, c, d] } class pU extends oe { constructor(e) { super(), se(this, e, YHe, JHe, ye, { header: 0, message: 1, action: 2, confirm: 3, dialogTitleId: 4, buttonLayout: 5 }) } } function XHe(n) { let e, t; return e = new pU({ props: { header: n[4], message: n[3], action: n[2], confirm: n[1], dialogTitleId: n[7] } }), e.$on("action", n[9]), e.$on("close", n[8]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 16 && (s.header = i[4]), r & 8 && (s.message = i[3]), r & 4 && (s.action = i[2]), r & 2 && (s.confirm = i[1]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function ZHe(n) { let e, t, i = { modalTriggerElement: QHe, error: !0, ariaLabelledBy: n[7], $$slots: { default: [XHe] }, $$scope: { ctx: n } }; return e = new Es({ props: i }), n[12](e), { c() { V(e.$$.fragment) }, l(r) { q(e.$$.fragment, r) }, m(r, s) { H(e, r, s), t = !0 }, p(r, [s]) { const o = {}; s & 1048606 && (o.$$scope = { dirty: s, ctx: r }), e.$set(o) }, i(r) { t || (w(e.$$.fragment, r), t = !0) }, o(r) { D(e.$$.fragment, r), t = !1 }, d(r) { n[12](null), $(e, r) } } } const QHe = null; function jHe(n, e, t) { let i, r, s, o, a, l, u, c, d; const f = ot(); ce(n, f, M => t(15, c = M)); const { state: g } = zn(); ce(n, g, M => t(11, d = M)); const h = Tn(), m = sn(), v = kn("<ErrorModal>"), b = ro()(); let y; function k(M) { const R = i[M]; return r ? R : c.t(R) } function S() { g.clearPlaybackError(), y.close() } function C() { let M; if (i.mkError === "CONTENT_RESTRICTED" && (M = OO(h)), r) { Ws(l), S(); return } S(), M ? m(M) : v.warn("unsupported error modal action for: ", i.mkError) } function P(M) { wt[M ? "unshift" : "push"](() => { y = M, t(0, y) }) } return n.$$.update = () => { n.$$.dirty & 2048 && t(10, i = d == null ? void 0 : d.playbackError), n.$$.dirty & 1024 && (r = EO.includes(i == null ? void 0 : i.mkError)), n.$$.dirty & 1024 && t(4, s = i != null && i.header ? k("header") : null), n.$$.dirty & 1024 && t(3, o = i ? k("message") : null), n.$$.dirty & 1024 && t(2, a = i != null && i.action ? k("action") : null), n.$$.dirty & 1024 && (l = i == null ? void 0 : i.actionUrl), n.$$.dirty & 1024 && t(1, u = i ? k("confirm") : null), n.$$.dirty & 1025 && i && y && y.showModal() }, [y, u, a, o, s, f, g, b, S, C, i, d, P] } class GHe extends oe { constructor(e) { super(), se(this, e, jHe, ZHe, ye, {}) } } function xHe(n) { var i, r, s, o, a; let e, t; return e = new pU({ props: { header: (i = n[2].currentWarning) == null ? void 0 : i.header, message: (r = n[2].currentWarning) == null ? void 0 : r.message, action: (s = n[2].currentWarning) == null ? void 0 : s.actionText, confirm: (o = n[2].currentWarning) == null ? void 0 : o.confirmText, buttonLayout: (a = n[2].currentWarning) == null ? void 0 : a.buttonLayout, dialogTitleId: n[0] } }), e.$on("close", n[4]), e.$on("action", n[5]), { c() { V(e.$$.fragment) }, l(l) { q(e.$$.fragment, l) }, m(l, u) { H(e, l, u), t = !0 }, p(l, u) { var d, f, g, h, m; const c = {}; u & 4 && (c.header = (d = l[2].currentWarning) == null ? void 0 : d.header), u & 4 && (c.message = (f = l[2].currentWarning) == null ? void 0 : f.message), u & 4 && (c.action = (g = l[2].currentWarning) == null ? void 0 : g.actionText), u & 4 && (c.confirm = (h = l[2].currentWarning) == null ? void 0 : h.confirmText), u & 4 && (c.buttonLayout = (m = l[2].currentWarning) == null ? void 0 : m.buttonLayout), u & 1 && (c.dialogTitleId = l[0]), e.$set(c) }, i(l) { t || (w(e.$$.fragment, l), t = !0) }, o(l) { D(e.$$.fragment, l), t = !1 }, d(l) { $(e, l) } } } function e$e(n) { let e, t, i = { modalTriggerElement: t$e, error: !0, ariaLabelledBy: n[0], $$slots: { default: [xHe] }, $$scope: { ctx: n } }; return e = new Es({ props: i }), n[6](e), { c() { V(e.$$.fragment) }, l(r) { q(e.$$.fragment, r) }, m(r, s) { H(e, r, s), t = !0 }, p(r, [s]) { const o = {}; s & 1 && (o.ariaLabelledBy = r[0]), s & 133 && (o.$$scope = { dirty: s, ctx: r }), e.$set(o) }, i(r) { t || (w(e.$$.fragment, r), t = !0) }, o(r) { D(e.$$.fragment, r), t = !1 }, d(r) { n[6](null), $(e, r) } } } const t$e = null; function n$e(n, e, t) { let i; ce(n, Ku, c => t(2, i = c)); let { dialogTitleId: r = null } = e, s; async function o(c) { var d, f; typeof ((d = i.currentWarning) === null || d === void 0 ? void 0 : d.resolveCb) == "function" && ((f = i.currentWarning) === null || f === void 0 || f.resolveCb(c)), Ku.set({ currentWarning: null }), s.close() } const a = () => o(!1), l = () => o(!0); function u(c) { wt[c ? "unshift" : "push"](() => { s = c, t(1, s) }) } return n.$$set = c => { "dialogTitleId" in c && t(0, r = c.dialogTitleId) }, n.$$.update = () => { n.$$.dirty & 6 && s && i != null && i.currentWarning && s.showModal() }, [r, s, i, o, a, l, u] } class i$e extends oe { constructor(e) { super(), se(this, e, n$e, e$e, ye, { dialogTitleId: 0 }) } } function r$e(n) { let e, t, i, r = [{ class: "person-circle-fill" }, { width: "54" }, { height: "54" }, { viewBox: "0 0 54 54" }, { xmlns: "http://www.w3.org/2000/svg" }, n[0]], s = {}; for (let o = 0; o < r.length; o += 1)s = fe(s, r[o]); return { c() { e = ve("svg"), t = ve("path"), i = ve("path"), this.h() }, l(o) { e = be(o, "svg", { class: !0, width: !0, height: !0, viewBox: !0, xmlns: !0 }); var a = E(e); t = be(a, "path", { d: !0 }), E(t).forEach(_), i = be(a, "path", { d: !0, fill: !0 }), E(i).forEach(_), a.forEach(_), this.h() }, h() { p(t, "d", "M26.986 53.972C41.746 53.972 54 41.746 54 26.986S41.718 0 26.958 0C12.221 0 0 12.226 0 26.986s12.248 26.986 26.986 26.986Z"), p(i, "d", "M14.537 40.864c-1.107 0-1.613-.754-1.613-1.744 0-2.971 4.487-10.714 14.062-10.714 9.604 0 14.084 7.742 14.084 10.715 0 .99-.5 1.743-1.607 1.743H14.537Zm12.449-14.698c-3.856-.029-6.997-3.299-6.997-7.656 0-4.087 3.14-7.498 6.997-7.498 3.884 0 7.025 3.411 7.025 7.498 0 4.357-3.14 7.684-7.025 7.656Z"), p(i, "fill", "#fff"), Le(e, s) }, m(o, a) { I(o, e, a), A(e, t), A(e, i) }, p(o, [a]) { Le(e, s = at(r, [{ class: "person-circle-fill" }, { width: "54" }, { height: "54" }, { viewBox: "0 0 54 54" }, { xmlns: "http://www.w3.org/2000/svg" }, a & 1 && o[0]])) }, i: j, o: j, d(o) { o && _(e) } } } function s$e(n, e, t) { return n.$$set = i => { t(0, e = fe(fe({}, e), Ie(i))) }, e = Ie(e), [e] } class o$e extends oe { constructor(e) { super(), se(this, e, s$e, r$e, ht, {}) } } function a$e({ profile: n }) { return { $kind: "connectSharePlayAction", profile: n, actionMetrics: { data: [], custom: {} } } } function wP(n) { let e, t, i; return e = new Rl({ props: { modalTriggerElement: null, disableScrim: !1, translateFn: n[9].t, includeCollapseButton: !1, ariaLabelledBy: n[14], $$slots: { "close-trigger": [v$e], default: [_$e] }, $$scope: { ctx: n } } }), e.$on("close", n[17]), { c() { t = L("div"), V(e.$$.fragment), this.h() }, l(r) { t = T(r, "DIV", { style: !0 }); var s = E(t); q(e.$$.fragment, s), this.h() }, h() { Pt(t, "display", "contents"), Pt(t, "--slidingModalHeight", "auto"), Pt(t, "--modalWidth", "690px"), Pt(t, "--modalMaxWidth", "560px"), Pt(t, "--slidingModalBorderRadius", "16px") }, m(r, s) { I(r, t, s), H(e, t, null), i = !0 }, p(r, s) { const o = {}; s & 512 && (o.translateFn = r[9].t), s & 67109631 && (o.$$scope = { dirty: s, ctx: r }), e.$set(o) }, i(r) { i || (w(e.$$.fragment, r), i = !0) }, o(r) { D(e.$$.fragment, r), i = !1 }, d(r) { r && e && _(t), $(e, r) } } } function l$e(n) { var f; let e, t, i, r, s, o, a, l = !((f = n[0]) != null && f.collaborationAllowed) && kP(n); const u = [m$e, h$e], c = []; function d(g, h) { return g[1].isConnecting ? 1 : 0 } return i = d(n), r = c[i] = u[i](n), { c() { l && l.c(), e = Y(), t = L("div"), r.c(), this.h() }, l(g) { l && l.l(g), e = X(g), t = T(g, "DIV", { class: !0, "data-testid": !0, "aria-busy": !0, "aria-live": !0 }); var h = E(t); r.l(h), h.forEach(_), this.h() }, h() { p(t, "class", "join-share-play__button svelte-1wgwkg2"), p(t, "data-testid", "shareplay-connect-button"), p(t, "aria-busy", s = n[1].isConnecting), p(t, "aria-live", o = n[1].isConnecting ? "polite" : void 0), J(t, "is-connecting", n[1].isConnecting) }, m(g, h) { l && l.m(g, h), I(g, e, h), I(g, t, h), c[i].m(t, null), a = !0 }, p(g, h) { var v; (v = g[0]) != null && v.collaborationAllowed ? l && (te(), D(l, 1, 1, () => { l = null }), ne()) : l ? (l.p(g, h), h & 1 && w(l, 1)) : (l = kP(g), l.c(), w(l, 1), l.m(e.parentNode, e)); let m = i; i = d(g), i === m ? c[i].p(g, h) : (te(), D(c[m], 1, 1, () => { c[m] = null }), ne(), r = c[i], r ? r.p(g, h) : (r = c[i] = u[i](g), r.c()), w(r, 1), r.m(t, null)), (!a || h & 2 && s !== (s = g[1].isConnecting)) && p(t, "aria-busy", s), (!a || h & 2 && o !== (o = g[1].isConnecting ? "polite" : void 0)) && p(t, "aria-live", o), (!a || h & 2) && J(t, "is-connecting", g[1].isConnecting) }, i(g) { a || (w(l), w(r), a = !0) }, o(g) { D(l), D(r), a = !1 }, d(g) { g && (_(e), _(t)), l && l.d(g), c[i].d() } } } function u$e(n) { let e, t, i; return t = new mh({ props: { ariaLoading: n[9].t("ASE.Web.Music.Loading") } }), { c() { e = L("div"), V(t.$$.fragment), this.h() }, l(r) { e = T(r, "DIV", { class: !0, "aria-live": !0, "aria-busy": !0 }); var s = E(e); q(t.$$.fragment, s), s.forEach(_), this.h() }, h() { p(e, "class", "join-share-play__profile-loading-spinner svelte-1wgwkg2"), p(e, "aria-live", "polite"), p(e, "aria-busy", "true") }, m(r, s) { I(r, e, s), H(t, e, null), i = !0 }, p(r, s) { const o = {}; s & 512 && (o.ariaLoading = r[9].t("ASE.Web.Music.Loading")), t.$set(o) }, i(r) { i || (w(t.$$.fragment, r), i = !0) }, o(r) { D(t.$$.fragment, r), i = !1 }, d(r) { r && _(e), $(t) } } } function kP(n) { let e, t = n[9].t("ASE.Web.Music.SharePlay.Join.Social.JoinAs") + "", i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k = n[9].t("ASE.Web.Music.SharePlay.Join.Social.Disclaimer") + "", S, C, P, M; const R = [f$e, d$e, c$e], F = []; function N(O, B) { var U; return (U = O[0]) != null && U.artwork ? 0 : O[3] ? 1 : 2 } return a = N(n), l = F[a] = R[a](n), v = new yi({ props: { buttonStyle: "textButton", $$slots: { default: [g$e] }, $$scope: { ctx: n } } }), v.$on("buttonClick", n[16]), { c() { e = L("p"), i = le(t), r = Y(), s = L("div"), o = L("div"), l.c(), u = Y(), c = L("div"), d = L("input"), h = Y(), m = L("div"), V(v.$$.fragment), b = Y(), y = L("p"), S = le(k), this.h() }, l(O) { e = T(O, "P", { class: !0 }); var B = E(e); i = ue(B, t), B.forEach(_), r = X(O), s = T(O, "DIV", { class: !0, role: !0, "aria-label": !0 }); var U = E(s); o = T(U, "DIV", { class: !0, "data-testid": !0 }); var K = E(o); l.l(K), K.forEach(_), u = X(U), c = T(U, "DIV", { class: !0 }); var W = E(c); d = T(W, "INPUT", { class: !0, "data-testid": !0, placeholder: !0, type: !0 }), W.forEach(_), h = X(U), m = T(U, "DIV", { class: !0 }); var Z = E(m); q(v.$$.fragment, Z), Z.forEach(_), U.forEach(_), b = X(O), y = T(O, "P", { class: !0 }); var Q = E(y); S = ue(Q, k), Q.forEach(_), this.h() }, h() { p(e, "class", "join-share-play__lockup-header svelte-1wgwkg2"), p(o, "class", "share-play-lockup__social share-play-lockup__social--circular svelte-1wgwkg2"), p(o, "data-testid", "share-play-lockup-avatar"), p(d, "class", "share-play-lockup__input svelte-1wgwkg2"), p(d, "data-testid", "share-play-lockup-input"), p(d, "placeholder", f = n[9].t("ASE.Web.Music.SharePlay.Name")), p(d, "type", "text"), d.required = !0, d.disabled = g = n[1].isConnecting, p(c, "class", "share-play-lockup__content svelte-1wgwkg2"), p(m, "class", "share-play-lockup__button svelte-1wgwkg2"), p(s, "class", "share-play-lockup svelte-1wgwkg2"), p(s, "role", "listitem"), p(s, "aria-label", ""), p(y, "class", "join-share-play__lockup-footer svelte-1wgwkg2") }, m(O, B) { I(O, e, B), A(e, i), I(O, r, B), I(O, s, B), A(s, o), F[a].m(o, null), A(s, u), A(s, c), A(c, d), ps(d, n[3]), n[24](d), A(s, h), A(s, m), H(v, m, null), I(O, b, B), I(O, y, B), A(y, S), C = !0, P || (M = Me(d, "input", n[23]), P = !0) }, p(O, B) { (!C || B & 512) && t !== (t = O[9].t("ASE.Web.Music.SharePlay.Join.Social.JoinAs") + "") && me(i, t); let U = a; a = N(O), a === U ? F[a].p(O, B) : (te(), D(F[U], 1, 1, () => { F[U] = null }), ne(), l = F[a], l ? l.p(O, B) : (l = F[a] = R[a](O), l.c()), w(l, 1), l.m(o, null)), (!C || B & 512 && f !== (f = O[9].t("ASE.Web.Music.SharePlay.Name"))) && p(d, "placeholder", f), (!C || B & 2 && g !== (g = O[1].isConnecting)) && (d.disabled = g), B & 8 && d.value !== O[3] && ps(d, O[3]); const K = {}; B & 67109376 && (K.$$scope = { dirty: B, ctx: O }), v.$set(K), (!C || B & 512) && k !== (k = O[9].t("ASE.Web.Music.SharePlay.Join.Social.Disclaimer") + "") && me(S, k) }, i(O) { C || (w(l), w(v.$$.fragment, O), C = !0) }, o(O) { D(l), D(v.$$.fragment, O), C = !1 }, d(O) { O && (_(e), _(r), _(s), _(b), _(y)), F[a].d(), n[24](null), $(v), P = !1, M() } } } function c$e(n) { let e, t; return e = new o$e({ props: { "aria-hidden": "true" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p: j, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function d$e(n) { let e, t; return e = new Tl({ props: { initials: oa(n[3]) } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 8 && (s.initials = oa(i[3])), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function f$e(n) { let e, t; return e = new Gt({ props: { artwork: n[7], profile: "facehole-uber" } }), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 128 && (s.artwork = i[7]), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function g$e(n) { let e = n[9].t("ASE.Web.Music.SharePlay.Join.Social.Edit") + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 512 && e !== (e = i[9].t("ASE.Web.Music.SharePlay.Join.Social.Edit") + "") && me(t, e) }, d(i) { i && _(t) } } } function h$e(n) { let e, t, i, r = n[9].t("ASE.Web.Music.SharePlay.Join.Connecting") + "", s, o; return t = new mh({ props: { small: !0 } }), { c() { e = L("div"), V(t.$$.fragment), i = Y(), s = le(r), this.h() }, l(a) { e = T(a, "DIV", { class: !0 }); var l = E(e); q(t.$$.fragment, l), l.forEach(_), i = X(a), s = ue(a, r), this.h() }, h() { p(e, "class", "join-share-play__button-loading-spinner svelte-1wgwkg2") }, m(a, l) { I(a, e, l), H(t, e, null), I(a, i, l), I(a, s, l), o = !0 }, p(a, l) { (!o || l & 512) && r !== (r = a[9].t("ASE.Web.Music.SharePlay.Join.Connecting") + "") && me(s, r) }, i(a) { o || (w(t.$$.fragment, a), o = !0) }, o(a) { D(t.$$.fragment, a), o = !1 }, d(a) { a && (_(e), _(i), _(s)), $(t) } } } function m$e(n) { let e, t; return e = new yi({ props: { buttonStyle: "pillButton", disabled: !n[3], $$slots: { default: [p$e] }, $$scope: { ctx: n } } }), e.$on("buttonClick", n[15]), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, p(i, r) { const s = {}; r & 8 && (s.disabled = !i[3]), r & 67109376 && (s.$$scope = { dirty: r, ctx: i }), e.$set(s) }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function p$e(n) { let e = n[9].t("ASE.Web.Music.SharePlay.Join.Connect") + "", t; return { c() { t = le(e) }, l(i) { t = ue(i, e) }, m(i, r) { I(i, t, r) }, p(i, r) { r & 512 && e !== (e = i[9].t("ASE.Web.Music.SharePlay.Join.Connect") + "") && me(t, e) }, d(i) { i && _(t) } } } function _$e(n) { let e, t, i, r, s = n[9].t(n[6], { sharePlaySessionName: n[1].displayName }) + "", o, a, l, u = n[9].t("ASE.Web.Music.SharePlay.Join.Subtitle") + "", c, d, f, g, h; t = new AN({ props: { type: n[5] } }); const m = [u$e, l$e], v = []; function b(y, k) { return y[4] ? 0 : 1 } return f = b(n), g = v[f] = m[f](n), { c() { e = L("div"), V(t.$$.fragment), i = Y(), r = L("div"), o = le(s), a = Y(), l = L("p"), c = le(u), d = Y(), g.c(), this.h() }, l(y) { e = T(y, "DIV", { class: !0 }); var k = E(e); q(t.$$.fragment, k), i = X(k), r = T(k, "DIV", { class: !0, "data-testid": !0, id: !0 }); var S = E(r); o = ue(S, s), S.forEach(_), a = X(k), l = T(k, "P", { class: !0 }); var C = E(l); c = ue(C, u), C.forEach(_), d = X(k), g.l(k), k.forEach(_), this.h() }, h() { p(r, "class", "join-share-play__title svelte-1wgwkg2"), p(r, "data-testid", "join-share-play-copy"), p(r, "id", n[14]), p(l, "class", "join-share-play__subtitle svelte-1wgwkg2"), p(e, "class", "join-share-play svelte-1wgwkg2") }, m(y, k) { I(y, e, k), H(t, e, null), A(e, i), A(e, r), A(r, o), A(e, a), A(e, l), A(l, c), A(e, d), v[f].m(e, null), h = !0 }, p(y, k) { const S = {}; k & 32 && (S.type = y[5]), t.$set(S), (!h || k & 578) && s !== (s = y[9].t(y[6], { sharePlaySessionName: y[1].displayName }) + "") && me(o, s), (!h || k & 512) && u !== (u = y[9].t("ASE.Web.Music.SharePlay.Join.Subtitle") + "") && me(c, u); let C = f; f = b(y), f === C ? v[f].p(y, k) : (te(), D(v[C], 1, 1, () => { v[C] = null }), ne(), g = v[f], g ? g.p(y, k) : (g = v[f] = m[f](y), g.c()), w(g, 1), g.m(e, null)) }, i(y) { h || (w(t.$$.fragment, y), w(g), h = !0) }, o(y) { D(t.$$.fragment, y), D(g), h = !1 }, d(y) { y && _(e), $(t), v[f].d() } } } function v$e(n) { let e, t, i, r, s, o; return t = new rr({ props: { "aria-hidden": "true" } }), { c() { e = L("button"), V(t.$$.fragment), this.h() }, l(a) { e = T(a, "BUTTON", { class: !0, slot: !0, "aria-label": !0 }); var l = E(e); q(t.$$.fragment, l), l.forEach(_), this.h() }, h() { p(e, "class", "close-button svelte-1wgwkg2"), p(e, "slot", "close-trigger"), p(e, "aria-label", i = n[9].t("ASE.Web.Music.Shared.AX.Close")) }, m(a, l) { I(a, e, l), H(t, e, null), r = !0, s || (o = Me(e, "click", n[17]), s = !0) }, p(a, l) { (!r || l & 512 && i !== (i = a[9].t("ASE.Web.Music.Shared.AX.Close"))) && p(e, "aria-label", i) }, i(a) { r || (w(t.$$.fragment, a), r = !0) }, o(a) { D(t.$$.fragment, a), r = !1 }, d(a) { a && _(e), $(t), s = !1, o() } } } function b$e(n) { let e, t, i = n[8] && !n[1].inSession && wP(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[8] && !r[1].inSession ? i ? (i.p(r, s), s & 258 && w(i, 1)) : (i = wP(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function y$e(n) { return `ASE.Web.Music.SharePlay.Join.Title.${n}` } function w$e(n, e, t) { let i, r, s, o, a, l, u, c, d, f; var g, h, m; const v = ot(); ce(n, v, U => t(9, f = U)); const { isOpenSharePlayModal: b, sharePlayState: y } = Or(); ce(n, b, U => t(8, d = U)), ce(n, y, U => t(1, c = U)); const { state: k } = xt(); ce(n, k, U => t(22, u = U)); const S = fn(), C = ro()(); let P, M = ""; async function R() { var U, K, W; const Z = (W = (K = (U = l == null ? void 0 : l.contentDescriptor) === null || U === void 0 ? void 0 : U.identifiers) === null || K === void 0 ? void 0 : K.socialProfileID) !== null && W !== void 0 ? W : null; S.perform(a$e({ profile: { displayName: M, identifier: Z, isResolvable: !!Z } })) } function F() { P.focus() } function N() { S.perform(EN()) } function O() { M = this.value, t(3, M), t(22, u), t(19, h), t(20, m) } function B(U) { wt[U ? "unshift" : "push"](() => { P = U, t(2, P) }) } return n.$$.update = () => { n.$$.dirty & 4456448 && t(0, l = t(18, g = u.userSocialProfile) === null || g === void 0 ? void 0 : g.userSocialProfileDescriptor), n.$$.dirty & 1 && t(7, i = l == null ? void 0 : l.artwork), n.$$.dirty & 2 && t(21, r = ul(c.route)), n.$$.dirty & 2097152 && t(6, s = y$e(r)), n.$$.dirty & 2 && t(5, o = wN(c.route)), n.$$.dirty & 4194304 && t(4, a = !u.isSetup || u.isLoadingUser || u.isLoadingUserProfile), n.$$.dirty & 5767168 && t(3, M = t(20, m = t(19, h = u.userSocialProfile) === null || h === void 0 ? void 0 : h.userSocialProfileDescriptor) === null || m === void 0 ? void 0 : m.name) }, [l, c, P, M, a, o, s, i, d, f, v, b, y, k, C, R, F, N, g, h, m, r, u, O, B] } class k$e extends oe { constructor(e) { super(), se(this, e, w$e, b$e, ye, {}) } } async function DP(n) { return navigator.clipboard ? navigator.clipboard.writeText(n) : D$e(n) } async function D$e(n) { const e = document.createElement("textarea"); e.value = n, e.style.position = "absolute", e.style.top = "-999999px", e.style.left = "-999999px", document.body.appendChild(e), e.focus(), e.select(); try { return document.execCommand("copy") ? Promise.resolve() : Promise.reject("copy failed") } finally { document.body.removeChild(e) } } function S$e(n) { let e, t, i, r, s, o, a, l; const u = n[1].default, c = We(u, n, n[0], null); return { c() { e = L("div"), t = L("div"), i = L("div"), c && c.c(), r = Y(), s = L("div"), o = Y(), a = L("div"), this.h() }, l(d) { e = T(d, "DIV", { "aria-hidden": !0, class: !0, "data-drag-image": !0, "data-testid": !0 }); var f = E(e); t = T(f, "DIV", { class: !0 }); var g = E(t); i = T(g, "DIV", { class: !0, "data-fallback-image": !0 }); var h = E(i); c && c.l(h), h.forEach(_), r = X(g), s = T(g, "DIV", { class: !0, "data-drag-image-source": !0 }), E(s).forEach(_), g.forEach(_), o = X(f), a = T(f, "DIV", { class: !0, "data-drag-image-badge": !0 }), E(a).forEach(_), f.forEach(_), this.h() }, h() { p(i, "class", "fallback-image svelte-1qeygwd"), p(i, "data-fallback-image", ""), p(s, "class", "image svelte-1qeygwd"), p(s, "data-drag-image-source", ""), p(t, "class", "image-wrapper"), p(a, "class", "badge svelte-1qeygwd"), p(a, "data-drag-image-badge", ""), p(e, "aria-hidden", "true"), p(e, "class", "drag-image svelte-1qeygwd"), p(e, "data-drag-image", ""), p(e, "data-testid", "drag-image") }, m(d, f) { I(d, e, f), A(e, t), A(t, i), c && c.m(i, null), A(t, r), A(t, s), A(e, o), A(e, a), l = !0 }, p(d, f) { c && c.p && (!l || f & 1) && Je(c, u, d, d[0], l ? Ke(u, d[0], f, null) : Ye(d[0]), null) }, i(d) { l || (w(c, d), l = !0) }, o(d) { D(c, d), l = !1 }, d(d) { d && _(e), c && c.d(d) } } } function C$e(n) { let e, t, i = typeof window < "u" && S$e(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { typeof window < "u" && i.p(r, s) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function P$e(n, e, t) { let { $$slots: i = {}, $$scope: r } = e; return n.$$set = s => { "$$scope" in s && t(0, r = s.$$scope) }, [r, i] } class A$e extends oe { constructor(e) { super(), se(this, e, P$e, C$e, ye, {}) } } const Ba = { ARABIC: /^(ar-?)/, HEBREW: /^(he-?)/, HINDI: /^(hi-?)/, JAPANESE: /^(ja-?)/, KOREAN: /^(ko-?)/, THAI: /^(th-?)/ }, _U = "//www.apple.com/wss/fonts"; function E$e(n, e) { let t = "SF+Pro,v4%7CSF+Pro+Icons,v1"; switch (Ba.ARABIC.test(n) ? t = `${t}%7CArabic+UI,v1` : Ba.HEBREW.test(n) ? t = `${t}%7CArial+Hebrew,v1` : Ba.HINDI.test(n) ? t = `${t}%7CKohinoor+Devanagari,v1` : Ba.JAPANESE.test(n) ? t = `${t}%7CSF+Pro+JP,v1` : Ba.KOREAN.test(n) ? t = `${t}%7CSF+Pro+KR,v2` : Ba.THAI.test(n) && (t = `${t}%7CThonburi+Pro,v1`), n) { case "zh-cn": t = "SF+Pro,v4%7CSF+Pro+SC,v1%7CSF+Pro+Icons,v1"; break; case "zh-hk": t = "SF+Pro,v4%7CSF+Pro+HK,v1%7CSF+Pro+Icons,v1"; break; case "zh-mo": case "zh-tw": t = "SF+Pro,v4%7CSF+Pro+TC,v1%7CSF+Pro+Icons,v1"; break }return e && (t = `${t}%7CNew+York+Small,v1%7CNew+York+Medium,v1%7CNew+York+Large,v1`), `${_U}?families=${t}&display=swap` } function I$e(n) { let e, t; return { c() { e = L("link"), t = L("link"), this.h() }, l(i) { const r = f0("svelte-1cypuwr", document.head); e = T(r, "LINK", { rel: !0, href: !0, crossorigin: !0 }), t = T(r, "LINK", { rel: !0, href: !0, type: !0, referrerpolicy: !0 }), r.forEach(_), this.h() }, h() { p(e, "rel", "preconnect"), p(e, "href", _U), p(e, "crossorigin", "anonymous"), p(t, "rel", "stylesheet"), p(t, "href", n[0]), p(t, "type", "text/css"), p(t, "referrerpolicy", "strict-origin-when-cross-origin") }, m(i, r) { A(document.head, e), A(document.head, t) }, p(i, [r]) { r & 1 && p(t, "href", i[0]) }, i: j, o: j, d(i) { _(e), _(t) } } } function M$e(n, e, t) { let i, { language: r } = e; return n.$$set = s => { "language" in s && t(1, r = s.language) }, n.$$.update = () => { n.$$.dirty & 2 && t(0, i = E$e(r)) }, [i, r] } class L$e extends oe { constructor(e) { super(), se(this, e, M$e, I$e, ye, { language: 1 }) } } function T$e() { return { $kind: "closeSongShiftAction", actionMetrics: Ve } } function SP(n) { let e, t, i, r; return t = new Rl({ props: { modalTriggerElement: null, disableScrim: !1, translateFn: n[1].t, includeCollapseButton: !1, ariaLabelledBy: "ss-container", dialogClassNames: "ss-container", $$slots: { "close-trigger": [F$e], default: [R$e] }, $$scope: { ctx: n } } }), t.$on("close", n[4]), { c() { e = L("div"), i = L("div"), V(t.$$.fragment), this.h() }, l(s) { e = T(s, "DIV", { class: !0 }); var o = E(e); i = T(o, "DIV", { style: !0 }); var a = E(i); q(t.$$.fragment, a), o.forEach(_), this.h() }, h() { Pt(i, "display", "contents"), Pt(i, "--slidingModalHeight", "auto"), Pt(i, "--slidingModalBorderRadius", "10px"), p(e, "class", "song-shift-modal-wrapper svelte-o6st8q") }, m(s, o) { I(s, e, o), A(e, i), H(t, i, null), r = !0 }, p(s, o) { const a = {}; o & 2 && (a.translateFn = s[1].t), o & 131 && (a.$$scope = { dirty: o, ctx: s }), t.$set(a) }, i(s) { r || (w(t.$$.fragment, s), r = !0) }, o(s) { D(t.$$.fragment, s), r = !1 }, d(s) { s && _(e), $(t) } } } function R$e(n) { let e, t; return { c() { e = L("iframe"), this.h() }, l(i) { e = T(i, "IFRAME", { src: !0, seamless: !0, title: !0 }), E(e).forEach(_), this.h() }, h() { ji(e.src, t = n[0].iframeURL) || p(e, "src", t), p(e, "seamless", ""), p(e, "title", "") }, m(i, r) { I(i, e, r) }, p(i, r) { r & 1 && !ji(e.src, t = i[0].iframeURL) && p(e, "src", t) }, d(i) { i && _(e) } } } function F$e(n) { let e, t, i, r, s, o = n[1].t("ASE.Web.Music.Cancel") + "", a, l, u, c, d; return i = new rr({ props: { "aria-hidden": "true" } }), { c() { e = L("div"), t = L("button"), V(i.$$.fragment), r = Y(), s = L("span"), a = le(o), this.h() }, l(f) { e = T(f, "DIV", { class: !0, slot: !0 }); var g = E(e); t = T(g, "BUTTON", { class: !0, "aria-label": !0 }); var h = E(t); q(i.$$.fragment, h), r = X(h), s = T(h, "SPAN", { class: !0 }); var m = E(s); a = ue(m, o), m.forEach(_), h.forEach(_), g.forEach(_), this.h() }, h() { p(s, "class", "close-button__text svelte-o6st8q"), p(t, "class", "close-button svelte-o6st8q"), p(t, "aria-label", l = n[1].t("ASE.Web.Music.Shared.AX.Close")), p(e, "class", "close-button-wrapper svelte-o6st8q"), p(e, "slot", "close-trigger") }, m(f, g) { I(f, e, g), A(e, t), H(i, t, null), A(t, r), A(t, s), A(s, a), u = !0, c || (d = Me(t, "click", n[4]), c = !0) }, p(f, g) { (!u || g & 2) && o !== (o = f[1].t("ASE.Web.Music.Cancel") + "") && me(a, o), (!u || g & 2 && l !== (l = f[1].t("ASE.Web.Music.Shared.AX.Close"))) && p(t, "aria-label", l) }, i(f) { u || (w(i.$$.fragment, f), u = !0) }, o(f) { D(i.$$.fragment, f), u = !1 }, d(f) { f && _(e), $(i), c = !1, d() } } } function O$e(n) { let e, t, i = n[0].modalActive && SP(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[0].modalActive ? i ? (i.p(r, s), s & 1 && w(i, 1)) : (i = SP(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function N$e(n, e, t) { let i, r; const s = fn(), o = ot(); ce(n, o, c => t(1, r = c)); const a = Fc(); ce(n, a, c => t(0, i = c)); let { page: l } = e; function u() { var c; const d = l; s.perform(T$e()), s.recordCustomMetricsEvent(Object.assign(Object.assign({}, (c = d == null ? void 0 : d.pageMetrics) === null || c === void 0 ? void 0 : c.pageFields), { eventType: "page", extRefUrl: oA(i == null ? void 0 : i.iframeURL), pageDetails: { referralStatus: "unknown" }, pageUrl: window.location.href })) } return n.$$set = c => { "page" in c && t(5, l = c.page) }, [i, r, o, a, u, l] } class B$e extends oe { constructor(e) { super(), se(this, e, N$e, O$e, ye, { page: 5 }) } } function CP(n) { var i, r; let e, t; return e = new cN({ props: { defaultValue: (r = (i = n[0]) == null ? void 0 : i.term) != null ? r : "", currentTab: Cn, $$slots: { searchScopeBar: [U$e] }, $$scope: { ctx: n } } }), e.$on("showSearchSuggestions", n[3]), e.$on("searchInputHasFocus", n[6]), e.$on("clickedOutside", n[7]), e.$on("clear", n[4]), { c() { V(e.$$.fragment) }, l(s) { q(e.$$.fragment, s) }, m(s, o) { H(e, s, o), t = !0 }, p(s, o) { var l, u; const a = {}; o & 1 && (a.defaultValue = (u = (l = s[0]) == null ? void 0 : l.term) != null ? u : ""), o & 515 && (a.$$scope = { dirty: o, ctx: s }), e.$set(a) }, i(s) { t || (w(e.$$.fragment, s), t = !0) }, o(s) { D(e.$$.fragment, s), t = !1 }, d(s) { $(e, s) } } } function PP(n) { var i, r; let e, t; return e = new nU({ props: { item: (i = n[0]) == null ? void 0 : i.scopeBar, term: (r = n[0]) == null ? void 0 : r.term } }), { c() { V(e.$$.fragment) }, l(s) { q(e.$$.fragment, s) }, m(s, o) { H(e, s, o), t = !0 }, p(s, o) { var l, u; const a = {}; o & 1 && (a.item = (l = s[0]) == null ? void 0 : l.scopeBar), o & 1 && (a.term = (u = s[0]) == null ? void 0 : u.term), e.$set(a) }, i(s) { t || (w(e.$$.fragment, s), t = !0) }, o(s) { D(e.$$.fragment, s), t = !1 }, d(s) { $(e, s) } } } function U$e(n) { var r; let e, t, i = ((r = n[0]) == null ? void 0 : r.scopeBar) && n[1].isSearching && PP(n); return { c() { i && i.c(), e = re() }, l(s) { i && i.l(s), e = re() }, m(s, o) { i && i.m(s, o), I(s, e, o), t = !0 }, p(s, o) { var a; (a = s[0]) != null && a.scopeBar && s[1].isSearching ? i ? (i.p(s, o), o & 3 && w(i, 1)) : (i = PP(s), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(s) { t || (w(i), t = !0) }, o(s) { D(i), t = !1 }, d(s) { s && _(e), i && i.d(s) } } } function H$e(n) { let e, t, i = n[1].inSearch && CP(n); return { c() { i && i.c(), e = re() }, l(r) { i && i.l(r), e = re() }, m(r, s) { i && i.m(r, s), I(r, e, s), t = !0 }, p(r, [s]) { r[1].inSearch ? i ? (i.p(r, s), s & 2 && w(i, 1)) : (i = CP(r), i.c(), w(i, 1), i.m(e.parentNode, e)) : i && (te(), D(i, 1, 1, () => { i = null }), ne()) }, i(r) { t || (w(i), t = !0) }, o(r) { D(i), t = !1 }, d(r) { r && _(e), i && i.d(r) } } } function $$e(n, e, t) { let i; ce(n, za, f => t(1, i = f)); let r; const s = fn(); let { page: o = null } = e; function a(f) { za.update(g => Object.assign(Object.assign({}, g), { isSearching: f, showRecentlySearch: f, suggestionsVisible: !1 })) } function l(f) { za.update(g => { var h; return Object.assign(Object.assign({}, g), { suggestionsVisible: !(!((h = r == null ? void 0 : r.scopeBar) === null || h === void 0) && h.inLibrary) && f.detail.showSearchSuggestions }) }) } function u(f) { r != null && r.term && s.perform(f.detail) } const c = () => a(!0), d = () => a(!1); return n.$$set = f => { "page" in f && t(5, o = f.page) }, n.$$.update = () => { n.$$.dirty & 32 && Promise.resolve(o).then(f => { iU(f) && (t(0, r = f), za.update(g => Object.assign(Object.assign({}, g), { inSearch: !0, suggestionsVisible: !1 }))) }) }, [r, i, a, l, u, o, c, d] } class V$e extends oe { constructor(e) { super(), se(this, e, $$e, H$e, ye, { page: 5 }) } } function z$e(n) { let e, t; return e = new WO({}), { c() { V(e.$$.fragment) }, l(i) { q(e.$$.fragment, i) }, m(i, r) { H(e, i, r), t = !0 }, i(i) { t || (w(e.$$.fragment, i), t = !0) }, o(i) { D(e.$$.fragment, i), t = !1 }, d(i) { $(e, i) } } } function q$e(n) { let e, t, i, r; return e = new V$e({ props: { page: n[0] } }), i = new $Ue({ props: { page: n[0], firstPage: n[1] } }), { c() { V(e.$$.fragment), t = Y(), V(i.$$.fragment) }, l(s) { q(e.$$.fragment, s), t = X(s), q(i.$$.fragment, s) }, m(s, o) { H(e, s, o), I(s, t, o), H(i, s, o), r = !0 }, p(s, o) { const a = {}; o & 1 && (a.page = s[0]), e.$set(a); const l = {}; o & 1 && (l.page = s[0]), o & 2 && (l.firstPage = s[1]), i.$set(l) }, i(s) { r || (w(e.$$.fragment, s), w(i.$$.fragment, s), r = !0) }, o(s) { D(e.$$.fragment, s), D(i.$$.fragment, s), r = !1 }, d(s) { s && _(t), $(e, s), $(i, s) } } } function W$e(n) { let e, t, i, r; return e = new t8e({ props: { $$slots: { default: [q$e] }, $$scope: { ctx: n } } }), i = new bHe({ props: { page: n[0] } }), { c() { V(e.$$.fragment), t = Y(), V(i.$$.fragment) }, l(s) { q(e.$$.fragment, s), t = X(s), q(i.$$.fragment, s) }, m(s, o) { H(e, s, o), I(s, t, o), H(i, s, o), r = !0 }, p(s, o) { const a = {}; o & 131075 && (a.$$scope = { dirty: o, ctx: s }), e.$set(a); const l = {}; o & 1 && (l.page = s[0]), i.$set(l) }, i(s) { r || (w(e.$$.fragment, s), w(i.$$.fragment, s), r = !0) }, o(s) { D(e.$$.fragment, s), D(i.$$.fragment, s), r = !1 }, d(s) { s && _(t), $(e, s), $(i, s) } } } function K$e(n) { let e, t, i, r, s, o, a = !1, l, u; e = new UHe({}), i = new VHe({}); let c = a; return { c() { V(e.$$.fragment), t = Y(), V(i.$$.fragment), r = Y(), s = L("apple-music-video-player"), o = Y(), l = re(), this.h() }, l(d) { q(e.$$.fragment, d), t = X(d), q(i.$$.fragment, d), r = X(d), s = T(d, "APPLE-MUSIC-VIDEO-PLAYER", { class: !0 }), E(s).forEach(_), o = X(d), l = re(), this.h() }, h() { Xe(s, "class", "svelte-t3vj1e") }, m(d, f) { H(e, d, f), I(d, t, f), H(i, d, f), I(d, r, f), I(d, s, f), I(d, o, f), I(d, l, f), u = !0 }, i(d) { u || (w(e.$$.fragment, d), w(i.$$.fragment, d), w(c), u = !0) }, o(d) { D(e.$$.fragment, d), D(i.$$.fragment, d), D(c), u = !1 }, d(d) { d && (_(t), _(r), _(s), _(o), _(l)), $(e, d), $(i, d) } } } function J$e(n) { let e, t, i, r, s, o, a, l, u, c, d, f, g, h, m, v, b, y, k, S, C, P, M, R; t = new A$e({ props: { $$slots: { default: [z$e] }, $$scope: { ctx: n } } }), r = new V_e({}), o = new G5e({}), l = new W_e({ props: { $$slots: { default: [W$e] }, $$scope: { ctx: n } } }), c = new MHe({}), f = new GHe({}), h = new i$e({}), v = new AHe({ props: { translateFn: n[3].t, locale: n[5], user: n[2], regions: Cl, storefrontNameTranslations: fT, defaultRoute: wO } }); let F = typeof window < "u" && K$e(); return k = new k$e({}), C = new Sge({}), M = new B$e({ props: { page: n[0] } }), { c() { e = L("div"), V(t.$$.fragment), i = Y(), V(r.$$.fragment), s = Y(), V(o.$$.fragment), a = Y(), V(l.$$.fragment), u = Y(), V(c.$$.fragment), d = Y(), V(f.$$.fragment), g = Y(), V(h.$$.fragment), m = Y(), V(v.$$.fragment), b = Y(), F && F.c(), y = Y(), V(k.$$.fragment), S = Y(), V(C.$$.fragment), P = Y(), V(M.$$.fragment), this.h() }, l(N) { e = T(N, "DIV", { class: !0, "data-testid": !0 }); var O = E(e); q(t.$$.fragment, O), i = X(O), q(r.$$.fragment, O), s = X(O), q(o.$$.fragment, O), a = X(O), q(l.$$.fragment, O), u = X(O), q(c.$$.fragment, O), d = X(O), q(f.$$.fragment, O), g = X(O), q(h.$$.fragment, O), m = X(O), q(v.$$.fragment, O), b = X(O), F && F.l(O), y = X(O), q(k.$$.fragment, O), S = X(O), q(C.$$.fragment, O), P = X(O), q(M.$$.fragment, O), O.forEach(_), this.h() }, h() { p(e, "class", "app-container svelte-t3vj1e"), p(e, "data-testid", "app-container"), J(e, "is-not-focused", !n[13]), J(e, "is-refocused", n[15]), J(e, "scroll-is-locked", n[10]), J(e, "is-library-page", n[11]), J(e, "is-footer-hidden", n[16]), J(e, "needs-gdpr", n[12]), J(e, "is-android", n[7]), J(e, "is-drawer-open", n[14]) }, m(N, O) { I(N, e, O), H(t, e, null), A(e, i), H(r, e, null), A(e, s), H(o, e, null), A(e, a), H(l, e, null), A(e, u), H(c, e, null), A(e, d), H(f, e, null), A(e, g), H(h, e, null), A(e, m), H(v, e, null), A(e, b), F && F.m(e, null), A(e, y), H(k, e, null), A(e, S), H(C, e, null), A(e, P), H(M, e, null), R = !0 }, p(N, O) { const B = {}; O & 131072 && (B.$$scope = { dirty: O, ctx: N }), t.$set(B); const U = {}; O & 131075 && (U.$$scope = { dirty: O, ctx: N }), l.$set(U); const K = {}; O & 8 && (K.translateFn = N[3].t), O & 4 && (K.user = N[2]), v.$set(K); const W = {}; O & 1 && (W.page = N[0]), M.$set(W), (!R || O & 8192) && J(e, "is-not-focused", !N[13]), (!R || O & 32768) && J(e, "is-refocused", N[15]), (!R || O & 1024) && J(e, "scroll-is-locked", N[10]), (!R || O & 2048) && J(e, "is-library-page", N[11]), (!R || O & 65536) && J(e, "is-footer-hidden", N[16]), (!R || O & 4096) && J(e, "needs-gdpr", N[12]), (!R || O & 16384) && J(e, "is-drawer-open", N[14]) }, i(N) { R || (w(t.$$.fragment, N), w(r.$$.fragment, N), w(o.$$.fragment, N), w(l.$$.fragment, N), w(c.$$.fragment, N), w(f.$$.fragment, N), w(h.$$.fragment, N), w(v.$$.fragment, N), w(F), w(k.$$.fragment, N), w(C.$$.fragment, N), w(M.$$.fragment, N), R = !0) }, o(N) { D(t.$$.fragment, N), D(r.$$.fragment, N), D(o.$$.fragment, N), D(l.$$.fragment, N), D(c.$$.fragment, N), D(f.$$.fragment, N), D(h.$$.fragment, N), D(v.$$.fragment, N), D(F), D(k.$$.fragment, N), D(C.$$.fragment, N), D(M.$$.fragment, N), R = !1 }, d(N) { N && _(e), $(t), $(r), $(o), $(l), $(c), $(f), $(h), $(v), F && F.d(), $(k), $(C), $(M) } } } function Y$e(n) { let e, t, i, r; return e = new L$e({ props: { language: n[5].language } }), i = new uh({ props: { $$slots: { default: [J$e, ({ scrollIsLocked: s, isLibraryPage: o, needsGDPR: a, isWindowInFocus: l, isOpenDrawer: u, didRefocus: c, isFooterHidden: d }) => ({ 10: s, 11: o, 12: a, 13: l, 14: u, 15: c, 16: d }), ({ scrollIsLocked: s, isLibraryPage: o, needsGDPR: a, isWindowInFocus: l, isOpenDrawer: u, didRefocus: c, isFooterHidden: d }) => (s ? 1024 : 0) | (o ? 2048 : 0) | (a ? 4096 : 0) | (l ? 8192 : 0) | (u ? 16384 : 0) | (c ? 32768 : 0) | (d ? 65536 : 0)] }, $$scope: { ctx: n } } }), { c() { V(e.$$.fragment), t = Y(), V(i.$$.fragment) }, l(s) { q(e.$$.fragment, s), t = X(s), q(i.$$.fragment, s) }, m(s, o) { H(e, s, o), I(s, t, o), H(i, s, o), r = !0 }, p(s, [o]) { const a = {}; o & 261135 && (a.$$scope = { dirty: o, ctx: s }), i.$set(a) }, i(s) { r || (w(e.$$.fragment, s), w(i.$$.fragment, s), r = !0) }, o(s) { D(e.$$.fragment, s), D(i.$$.fragment, s), r = !1 }, d(s) { s && _(t), $(e, s), $(i, s) } } } function X$e(n, e, t) { let i, r, s; var o; const a = ot(); ce(n, a, g => t(3, s = g)); const l = Tn(), { state: u } = xt(); ce(n, u, g => t(9, r = g)); const c = Oi.isAndroid(); let { page: d = new Promise(() => { }) } = e, { firstPage: f = !0 } = e; return Yt(() => { window.__MOTW = { version: Vs }; const g = document.createElement("meta"); g.setAttribute("name", "version"), g.setAttribute("content", Vs), document.head.appendChild(g); const h = new URLSearchParams(window.location.search); (h.get("ls") === "1" || h.get("app") === "itunes") && Ws(window.location.href, h.get("app")) }), n.$$set = g => { "page" in g && t(0, d = g.page), "firstPage" in g && t(1, f = g.firstPage) }, n.$$.update = () => { n.$$.dirty & 768 && t(2, i = { isSignedIn: r.user !== null, userStorefront: (t(8, o = r.user) === null || o === void 0 ? void 0 : o.subscriptionStorefront) || null }) }, [d, f, i, s, a, l, u, c, o, r] } class Z$e extends oe { constructor(e) { super(), se(this, e, X$e, Y$e, ye, { page: 0, firstPage: 1 }) } } const { HD: Bo, ONE: Kn, HERO: Q$e, UBER: j$e, ONE_THIRD: MKe, EDITORIAL_DEFAULT: G$e, HD_ASPECT_RATIO: Uo, VIDEO_TALL: LKe, THREE_QUARTERS: Gm, SUPER_HERO_WIDE: x$e } = GP, eVe = new Map([["artist-detail-header", [[1200], Uo, "mv"]], ["brick", [[340, 340, 290], Bo, "sr"]], ["brand-logo", [[80], Kn, "cc"]], ["video", [[340, 340, 290, 200], Bo, "mv"]], ["video-tall", [[340, 340, 290, 200], Bo, "bf"]], ["playlist-product", [[305, 270, 200], Kn, "cc"]], ["product", [[316, 316, 296], Kn, "bb"]], ["product-rectangle", [[316, 316, 296], Kn, "bf"]], ["product-center-crop", [[316, 316, 296], Kn, "cc"]], ["artwork-in-collage", [[200], Kn, "cc"]], ["episode", [[790, 525, 330, 295], Bo, "sr"]], ["episode-tall", [[790, 525, 330, 295], Bo, "bf"]], ["editorial-card", [[530, 480, 300], G$e, "sr"]], ["editorial-card-cover-artwork", [[60], Kn, "cc"]], ["editorial-card-video-art", [[88], Uo, "mv"]], ["hero", [[530, 600, 450], Q$e, "sr"]], ["uber", [[1200], j$e, "bb"]], ["episode-lockup", [[316, 316, 296], Kn, "cc"]], ["featured-episode-video", [[320, 260, 211, 176], Bo, "mv"]], ["horizontal-lockup-video", [[250], Uo, "sr"]], ["join-social-badge", [[38], Kn, "bb"]], ["top-search-result", [[110], Kn, "sr"]], ["top-search-result-video", [[196], Uo, "mv"]], ["top-search-result-poster", [[340, 340, 290, 200], Bo, "bf"]], ["ellipse-lockup", [[243, 220, 190, 160], Kn, "cc"]], ["standard", [[243, 220, 190, 160], Kn, "bb"]], ["powerswoosh", [[300], Kn, "bb"]], ["powerswooshTall", [[600, 450], Gm, "sr"]], ["facehole-uber", [[190], Kn, "cc"]], ["category-brick", [[520, 340, 290], Uo, "sr"]], ["track-lockup", [[48], Kn, "bb"]], ["track-list", [[40], Kn, "bb"]], ["track-list-decorated", [[32], Kn, "bb"]], ["music-video-tracklist", [[71], Uo, "mv"]], ["music-video-playback-queue", [[40], Uo, "mv"]], ["superHeroLockup", [[330, 305, 295], Gm, "bb"]], ["social-badge", [[40], Kn, "cc"]], ["superHeroTall", [[600, 450], Gm, "sr"]], ["superHeroWide", [[1200, 900, 600, 450], x$e, "sr"]], ["lyrics-fullscreen", [[600, 600, 450], Kn, "bb"]], ["credits-artwork", [[300, 208, 208, 180], Kn, "bb"]], ["miniplayer", [[40], Kn, "bb"]], ["miniplayer-radio", [[40], Kn, "cc"]]]); Df.set({ PROFILES: eVe }); async function tVe(n, e, t, i, r, s, o) { const a = n.loggerFor("bootstrap"), l = new Map, u = a_.load(n, l, t, i, r, s, o); x_e(l, n); const c = await u.routeUrl(e); c ? a.info("initial URL routed to:", c) : a.warn("initial URL was unroutable:", e); const d = lle(e), { intent: f = null, action: g = null, storefront: h = qr, language: m = Nu } = c || { ...d, ...xr.normalize(d) }, v = xr.load(l, h, m), b = await pge(l, n, m.toLowerCase()); return u.setLocale(b, h, m), { context: l, jet: u, initialAction: g, intent: f, storefront: h, language: m, locale: v, i18n: b } } function nVe(n) { const { jet: e, logger: t, localLibraryState: i, playback: r } = n, s = t.loggerFor("jet/action-handlers/catalog-action"); e.onAction("catalogAction", async o => { var a; s.info("received Catalog:", o); try { const { id: l, kind: u, items: c } = o; switch (o.type) { case Pn.AddToLibrary: i.set(l, u, { inLibrary: !0 }); break; case Pn.DeleteFromLibrary: if (i.set(l, u, { inLibrary: !1, inFavorites: !1, libraryId: void 0 }), (u === x.Album || u === x.Playlist) && c) for (const d of c) i.set(d.id, (a = d.contentDescriptor) == null ? void 0 : a.kind, { inLibrary: !1, inFavorites: !1, libraryId: void 0 }); u === x.Song && r.findAndRemoveQueueItems([l]); break; case Pn.Favorite: i.set(l, u, { inFavorites: !0, suggestLess: !1 }); break; case Pn.Unfavorite: i.set(l, u, { inFavorites: !1, suggestLess: !1 }); break; case Pn.SuggestLess: i.set(l, u, { suggestLess: !0, inFavorites: !1 }); break; case Pn.UndoSuggestLess: i.set(l, u, { suggestLess: !1, inFavorites: !1 }); break; default: throw new Error(`unhandleable Catalog Action Type: ${o.type}`) }return "performed" } catch (l) { throw s.error("Catalog Action Error:", l), new Error("an error occurred while handling Catalog") } }) } function iVe(n) { const { jet: e, logger: t, fullScreenPlayerState: i } = n, r = t.loggerFor("jet/action-handlers/close-full-screen-player-action"); e.onAction("closeFullScreenPlayerAction", async s => (r.info("received CloseFullScreenPlayer:", s), i.setVisibility(!1), "performed")) } function rVe(n) { const { jet: e, logger: t, commerce: i, playback: r } = n, s = t.loggerFor("jet/action-handlers/commerce-modal-action"); e.onAction("commerceModalAction", async o => { s.info("received CommerceModal:", o); const a = $t(np); switch (o.operation.activePath) { case fi.logout: await i.logout(); break; case fi.authenticate: if (Ci("media-user-token") && !await r.isAuthorized() && (r.updateUserTokenFromStorage(), await r.isAuthorized())) { r.me().catch(l => { }); break } default: if (!a) { await i.open(o.operation.activePath, o.operation.modalParams); break } }return "performed" }) } async function sVe(n) { const { jet: e, logger: t } = n, i = t.loggerFor("jet/action-handlers/compound-action"); e.onAction("compoundAction", async r => { i.info("received CompoundAction:", r); const { subactions: s = [] } = r; for (const o of s) await e.perform(o).catch(a => { throw new Error(`an error occurred while handling CompoundAction: ${a}`) }); return "performed" }) } const oVe = ["RefreshRecentlyPlayedIntent", "RefreshRecentlyPlayedRadioIntent"], aVe = ["SearchLandingPageIntent", "SearchResultsPageIntent"]; function lVe(n) { const { jet: e, logger: t, updateApp: i, perfkit: r } = n, s = new w$(t, { getScrollablePageElement() { return document.getElementById("scrollable-page-override") || document.getElementById("scrollable-page") } }), o = t.loggerFor("jet/action-handlers/flow-action"), a = t.loggerFor("invalidation-action"), l = new pne(t); let u, c = !0; e.onAction("flowAction", async h => { u && u.abort(), u = new AbortController; const m = u.signal; if (o.info("received FlowAction:", h), r.makeNewPageSpeedMetric().capturePageRequestTime(), h.destination.kind === "navigationControllerRootPage") return "performed"; const b = sO(h); aVe.includes(b.$kind) || aBe(); const y = c, k = await d(b, h); return m.aborted || (s.beforeTransition(), i({ page: k.promise.then(S => { var P, M; if (m.aborted) return { pageMetrics: { instructions: [], custom: {} }, sections: [] }; const C = { page: S, currentTab: $t(Cn) }; return r.setPageType(((M = (P = S.pageMetrics) == null ? void 0 : P.pageFields) == null ? void 0 : M.pageType) || "unknown"), y ? s.replaceState(C, S.canonicalURL) : s.pushState(C, S.canonicalURL), f(S), S }), firstPage: c }), c = !1, k.promise.then(S => { var C; m.aborted || (C = S == null ? void 0 : S.canonicalURL) != null && C.includes("home") && e.perform(tr({ kind: "playActivity" })) }).catch(S => { o.error("FlowAction on ListenNow canonicalURL check failed", S) })), "performed" }), s.onPopState(async (h, m) => { var k; if (m) { const { page: S, currentTab: C } = m; o.info("received popstate, so resetting page:", S, C), f(S), Cn.set(C), i({ page: S, firstPage: c }), (k = S == null ? void 0 : S.canonicalURL) != null && k.includes("home") && e.perform(tr({ kind: "playActivity" })); return } const v = await e.routeUrl(h); if (!v) { o.error("received popstate without data, but URL was unroutable:", h), f(null), i({ page: Promise.reject(new Error("404")), firstPage: c }); return } o.info("received popstate without data, so routing URL to:", v); const b = v.action.subactions.filter(ws)[0], [y] = await Promise.all([d(v.intent, b), g(v.action)]); i({ page: y.promise.then(S => (f(S), S)), firstPage: c }) }), e.onAction("invalidationAction", async h => { a.info("received", h); const { scope: m, kind: v, metadata: b } = h; return l.trigger({ scope: m, kind: v, metadata: b }), "performed" }), l.onChange(async (h, m) => { a.info("received Page Change:", h); try { const v = await (async () => { var S, C; let b; const y = (C = (S = h.intent) == null ? void 0 : S.metadata) == null ? void 0 : C.historyOperation, k = await e.dispatch(h.intent); if (a.info("Page Change resolved to:", k), y) { const P = k.instruction, { newPage: M } = P, { canonicalURL: R } = M, F = { page: M, currentTab: $t(Cn) }; b = M, s[y](F, R) } else s.updateState(P => { const M = P.page, R = m(M, k); return R ? (b = R, { ...P, page: R }) : P }); return b })(); v && (oVe.includes(h.intent.$kind) || f(v), i({ page: v, firstPage: c })) } catch (v) { a.error("onChange error: ", v) } }); async function d(h, m) { const v = (async () => { var b, y, k; try { const S = (y = (b = m == null ? void 0 : m.actionMetrics) == null ? void 0 : b.custom) == null ? void 0 : y.recoID; let C = await e.dispatch(h); return S && (C = { ...C, pageMetrics: { ...C == null ? void 0 : C.pageMetrics, custom: { ...(k = C == null ? void 0 : C.pageMetrics) == null ? void 0 : k.custom, recoID: S } } }), o.info("FlowAction destination resolved to:", C), C } catch (S) { throw o.error("FlowAction destination rejected:", S), (!S.userInfo || S.userInfo.status !== 404) && (S.retryFlowAction = m), S.isFirstPage = c, S } })(); return await Promise.race([v, new Promise(b => setTimeout(b, 500))]).catch(() => { }), { promise: v } } function f(h) { (async () => { try { h && l.monitorPage(h), await e.didEnterPage(h) } catch (m) { o.error("didEnterPage error:", m) } })() } async function g(h) { const m = h.subactions.filter(v => !ws(v)); for (const v of m) try { if (await e.perform(v) !== "performed") throw new Error("not performed") } catch (b) { o.error("onPopState: while performing non-FlowAction", v, "encountered error:", b) } } } function uVe(n) { const { jet: e, logger: t } = n, i = t.loggerFor("jet/action-handlers/open-external-url-action"); e.onAction("openExternalURLAction", async r => (i.info("received external URL:", r), "performed")) } function cVe(n) { const { jet: e, logger: t } = n, i = t.loggerFor("jet/action-handlers/open-finance-page-action"); e.onAction("openFinancePageAction", async r => { i.info("received OpenFinancePage:", r); const { searchParams: s } = new URL(r.url); return e.perform(vr({ type: ir.Open, activePath: fi.subscribe, modalParams: { contentId: s.get("adamId"), contentType: s.get("contentType") } })), "performed" }) } function dVe(n) { const { jet: e, logger: t } = n, i = t.loggerFor("jet/action-handlers/reorder-playlist-action"); e.onAction("reorderPlaylistAction", async r => { var s, o, a; i.info("received ReorderPlaylist:", r); try { if (!((o = (s = r.data) == null ? void 0 : s.indexedItems) != null && o.length)) return; const l = Pr(r.playlistDescriptor); if (Pr((a = r.data) == null ? void 0 : a.containerDescriptor) !== l) return; const u = await e.dispatch(jse(l)) || []; if ((u == null ? void 0 : u.length) > 0) { let c = r.dropIndex; const d = u.map(h => ({ id: h.id, type: h.type })), f = r.data.indexedItems.sort((h, m) => h.index - m.index), g = []; f.forEach(({ item: h, index: m }) => { const v = m - g.length, b = Pr(h), y = d[v]; y && y.id === b && (g.push(y), d.splice(v, 1), m <= c && c--) }), d.splice(c + 1, 0, ...g), i.info("Reorder playlist tracks", { newOrder: d }), await e.dispatch(Xse({ id: l, tracks: d })), e.perform(tr({ kind: "libraryItemsReordered", metadata: { order: d.map(h => h.id).join(",") } })) } return "performed" } catch (l) { throw i.error("Reorder Playlist Action Error:", l), new Error("an error occurred while handling Reorder Playlist") } }) } function fVe(n) { const { jet: e, logger: t } = n, i = t.loggerFor("jet/action-handlers/select-tab-action"); e.onAction("setActiveNavigationControllerAction", async r => { i.info("received action:", r); const { kind: s } = r.navigationControllerIdentifier; switch (s) { case bt.Home: Cn.set(c_); break; case bt.New: Cn.set(qs); break; case bt.Radio: Cn.set(gO); break; case bt.Search: Cn.set(hO); break; case bt.RecentlyAdded: Cn.set(mO); break; case bt.Artists: Cn.set(pO); break; case bt.Albums: Cn.set(_O); break; case bt.Songs: Cn.set(vO); break; case bt.MadeForYou: Cn.set(d_); break; case bt.Playlist: const a = r.navigationControllerIdentifier; Cn.set({ type: "playlist", resourceId: a.id }); break; case bt.Replay: Cn.set($le); break; default: i.warn("unsupported tab kind:", s) }return "performed" }) } function gVe(n) { const { jet: e, logger: t } = n, i = new mT(t), r = t.loggerFor("jet/action-handlers/set-persistence-item-action"); e.onAction("setPersistenceItemAction", async s => (r.info("received setPersistenceItemAction:", s), i.setValueForKey(s.key, s.item, s.scope), "performed")) } function hVe(n) { const { jet: e, logger: t, playback: i } = n, r = t.loggerFor("jet/action-handlers/share-social-action"); e.onAction("shareSocialAction", async s => { r.info("received ShareSocial:", s); try { const { url: o } = s; switch (s.type) { case Yu.Link: DP(o); break; case Yu.Embed: DP(await i.generateEmbedCode(o)); break }return "performed" } catch (o) { throw r.error("Share Social Action Error:", o), new Error("an error occurred while handling Share Social") } }) } function mVe(n) { const e = n || window.location.href, t = e.includes("/library"), i = e.includes("/replay"), r = e.includes("/onboarding"), s = e.includes("/search") && e.includes("searchIn=library"), o = e.includes("/account"); return t || s || i || r || o } function pVe(n) { const { jet: e, logger: t, playback: i, commerce: r, localLibraryState: s, sharePlay: o } = n, a = t.loggerFor("jet/action-handlers/sign-out-action"); e.onAction("signOutAction", async l => { a.info("received SignOut:", l); try { return Mr.clearPins(), await e.perform(vr({ type: ir.Open, activePath: fi.logout })), await i.unauthorize(), r.state.resetUser(), Er.reset(), s.clear(), Jg.set(!1), e.updateUserInfo(null), e.perform(tr({ kind: "subscriptionStatusChange" })), mVe() && e.perform(gr(ma({ storefront: null, language: null }), c_.type, "/home")), o.isSubscribed = !1, "performed" } catch (u) { throw a.error("Sign Out Action Error:", u), new Error("an error occurred while handling Sign Out") } }) } function _Ve(n) { const { jet: e, logger: t } = n, i = t.loggerFor("jet/action-handlers/update-favorites-action"); e.onAction("updateFavoritesAction", async r => { i.info("received UpdateFavorites:", r); try { const s = Wee({ id: r.id, type: r.type, isFavorited: r.isFavorited }); return await e.dispatch(s), "performed" } catch (s) { throw i.error("Update Favorites Action Error:", s), new Error("an error occurred while handling Update Favorites") } }) } function vVe(n) { const { jet: e, logger: t, playback: i } = n, r = t.loggerFor("jet/action-handlers/toggle-preview-action"); e.onAction("togglePreviewAction", async s => { r.info("received TogglePreviewAction:", s); try { const o = $t(i.queue).derivedStates.isPlaying, { itemId: a, itemPreviewUrl: l, state: u } = s; let c = u; if (!c) { const d = $t(Si).currentState, f = $t(Si).currentItemId; d && f === a ? c = d === "playing" ? "paused" : "playing" : c = "playing" } return c === "playing" || c === "resumed" ? (Si.update(d => { const f = Object.assign({}, d.suggestionsState), g = f[a] || {}; return f[a] = { ...g, previewed: !0 }, { ...d, currentItemId: a, currentItemPreviewUrl: l, currentState: c, lcdPlaybackInterrupted: o, suggestionsState: f } }), o && e.perform(xi())) : c === "paused" && ($t(Si).lcdPlaybackInterrupted && e.perform(Wi()), Si.update(f => ({ ...f, currentItemId: a, currentItemPreviewUrl: l, currentState: "paused", lcdPlaybackInterrupted: !1 }))), e.recordCustomMetricsEvent({ eventType: "click", targetType: "ShelfItem", targetId: a, actionType: ["playing", "resumed"].includes(c) ? "preview" : "pause" }), "performed" } catch (o) { throw console.error(o), new Error("an error occurred while handling TogglePreviewAction", o) } }) } function bVe(n) { const { jet: e, logger: t, playback: i } = n, r = t.loggerFor("jet/action-handlers/add-to-queue-action"); e.onAction("addToQueueAction", async s => { r.info("received AddToQueueAction:", s); try { return await i.playAt(s.position, s.items), "performed" } catch (o) { throw r.error("Add to Queue Action Error:", o), new Error("an error occurred while handling Add to Queue") } }) } async function bh(n, e) { let t = [], i = []; return Array.isArray(n) ? t = n : t.push({ contentDescriptor: n }), await Promise.all(t.map(async r => { const s = await e.dispatch(lae({ contentDescriptor: r == null ? void 0 : r.contentDescriptor })); i = i.concat(s) })), i } function yVe(n) { const { commerce: e, jet: t, logger: i, playback: r, sharePlay: s } = n, o = i.loggerFor("jet/action-handlers/play-action"); t.onAction("playAction", async a => { var l, u, c, d; o.info("received PlayAction:", a); try { const f = ((l = a == null ? void 0 : a.items) == null ? void 0 : l.length) > 0 ? a.items[0] : null, g = (u = f == null ? void 0 : f.contentDescriptor) == null ? void 0 : u.kind, h = $t(e.state).user, m = [x.RadioStation]; if (h === null && m.includes(g) && !s.inSession) return t.perform(vr({ type: ir.Open, activePath: fi.authenticate, modalParams: { contentId: (c = f == null ? void 0 : f.contentDescriptor.identifiers) == null ? void 0 : c.storeAdamID, contentType: g } })), "performed"; const y = [x.Album, x.Playlist, x.MusicVideo, x.Song].includes(g); if (s != null && s.inSession) { if (!f) throw new Error("item not present in action"); const k = r.getFeatureName(), S = b_(a), C = await bh(f == null ? void 0 : f.contentDescriptor, t); switch ((d = f == null ? void 0 : f.contentDescriptor) == null ? void 0 : d.kind) { case x.RadioStation: s == null || s.playRadio(k, C); break; case x.Song: s == null || s.playSong(k, C, S, a.containerItems); break; default: s == null || s.play(k, C, S); break } } else y && await r.setShuffle(!1), await r.play(a), t.perform(tr({ kind: "playActivity" })); return "performed" } catch (f) { o.error("error in playAction", f) } }) } function wVe(n) { const { jet: e, logger: t, playback: i } = n, r = t.loggerFor("jet/action-handlers/pause-action"); e.onAction("pausePlaybackAction", async s => { r.info("received PausePlaybackAction:", s); try { return await i.pause(s), "performed" } catch (o) { throw new Error("an error occurred while handling PausePlaybackAction", o) } }) } function kVe(n) { const { jet: e, logger: t, playback: i } = n, r = t.loggerFor("jet/action-handlers/stop-playback-action"); e.onAction("stopPlaybackAction", async s => { r.info("received StopPlaybackAction", s); try { return await i.stop(), "performed" } catch (o) { throw new Error("an error occurred while handling StopPlaybackAction", o) } }) } function DVe(n) { const { jet: e, logger: t, playback: i } = n, r = t.loggerFor("jet/action-handlers/resume-action"); e.onAction("resumePlaybackAction", async s => { r.info("received ResumePlaybackAction:", s); try { return await i.resume(), "performed" } catch (o) { throw new Error("an error occurred while handling ResumePlaybackAction") } }) } function SVe(n) { const { jet: e, logger: t, playback: i } = n, r = t.loggerFor("jet/action-handlers/play-now-action"); e.onAction("playNowAction", async s => { r.info("received PlayNow:", s); try { return await i.playNow(s.contentDescriptor), "performed" } catch (o) { throw r.error("Play Now Action Error:", o), new Error("an error occurred while handling Play Now") } }) } function CVe(n) { const { jet: e, logger: t, playback: i, sharePlay: r } = n, s = t.loggerFor("jet/action-handlers/play-later-action"); e.onAction("playLaterAction", async o => { s.info("received PlayLater:", o); try { if (r != null && r.inSession) { const a = i.getFeatureName(), l = await bh(o == null ? void 0 : o.contentDescriptor, e); r.playLater(a, l, []) } else await i.playLater(o); return "performed" } catch (a) { throw s.error("Play Later Action Error:", a), new Error("an error occurred while handling Play Later") } }) } function PVe(n) { const { jet: e, logger: t, playback: i, sharePlay: r } = n, s = t.loggerFor("jet/action-handlers/play-next-action"); e.onAction("playNextAction", async o => { s.info("received PlayNext:", o); try { if (r != null && r.inSession) { const a = i.getFeatureName(), l = await bh(o == null ? void 0 : o.contentDescriptor, e); r.playNext(a, l, []) } else await i.playNext(o); return "performed" } catch (a) { throw s.error("Play Next Action Error:", a), new Error("an error occurred while handling Play Next") } }) } function AVe(n) { const { jet: e, logger: t, playback: i, sharePlay: r } = n, s = t.loggerFor("jet/action-handlers/shuffle-action"); e.onAction("shuffleAction", async o => { var a; s.info("received ShuffleAction:", o); try { if (r != null && r.inSession) { const l = ((a = o == null ? void 0 : o.items) == null ? void 0 : a.length) > 0 ? o.items[0] : null, u = i.getFeatureName(), c = b_(o), d = await bh(l == null ? void 0 : l.contentDescriptor, e); r == null || r.shuffle(u, d, c) } else await i.setShuffle(!0), await i.play(o); return "performed" } catch (l) { throw new Error("an error occurred while handling ShuffleAction") } }) } function EVe(n) { const { jet: e, logger: t, playback: i, sharePlay: r } = n, s = t.loggerFor("jet/action-handlers/play-queue-item-action"); e.onAction("playQueueItemAction", async o => { s.info("received PlayQueueItemAction:", o); try { return r != null && r.inSession ? await r.changeToQueueItem(o.itemIndex) : await i.changeToQueueItem(o.itemId, o.itemIndex), "performed" } catch (a) { throw s.error("Play Queue Item Action Error:", a), new Error("an error occurred while playing queue item") } }) } function IVe(n) { const { jet: e, logger: t, playback: i } = n, r = t.loggerFor("jet/action-handlers/create-station-action"); e.onAction("createStationAction", async s => { r.info("received CreateStation:", s); try { const { id: o, kind: a } = s; return await i.createStation(o, a), "performed" } catch (o) { throw new Error("an error occurred while handling CreateStationAction") } }) } function MVe(n) { const { jet: e, logger: t, playback: i } = n, r = t.loggerFor("jet/action-handlers/clear-queue-action"); e.onAction("clearQueueAction", async s => { r.info("received ClearQueueAction:", s); try { return await i.clearQueue(), "performed" } catch (o) { throw r.error("Clear Queue Action Error:", o), new Error("an error occurred while clearing playback queue") } }) } function LVe(n) { const { jet: e, logger: t, playback: i, sharePlay: r } = n, s = t.loggerFor("jet/action-handlers/remove-queue-item-action"); e.onAction("removeQueueItemAction", async o => { s.info("received RemoveQueueItemAction:", o); try { return r != null && r.inSession ? await r.removeQueueItem(o.itemIndex) : o.itemIndex !== void 0 ? await i.removeQueueItem(o.itemId, o.itemIndex) : await i.findAndRemoveQueueItems([o.itemId]), "performed" } catch (a) { throw s.error("Remove Item From Queue Action Error:", a), new Error("an error occurred while removing an item from the queue") } }) } function TVe(n) { const { jet: e, logger: t, sharePlay: i } = n, r = t.loggerFor("jet/action-handlers/shareplay"); e.onAction("connectSharePlayAction", async s => { var o; r.info("received connect SharePlay Action:", s); try { return (o = i.connect) == null || o.call(i, s.profile), "performed" } catch (a) { r.error("error in connect SharePlayAction", a) } }) } function RVe(n) { const { jet: e, logger: t, sharePlay: i } = n, r = t.loggerFor("jet/action-handlers/shareplay"); e.onAction("endSharePlayAction", async s => { var o; r.info("received end SharePlay Action:", s); try { return (o = i.end) == null || o.call(i), "performed" } catch (a) { r.error("error in end SharePlay Action", a) } }) } function FVe(n) { const { jet: e, logger: t, sharePlay: i } = n, r = t.loggerFor("jet/action-handlers/shareplay"); e.onAction("joinSharePlayAction", async s => { var o; r.info("received Join SharePlay Action:", s); try { return await ((o = i.start) == null ? void 0 : o.call(i, s.p, s.v, s.h)), "performed" } catch (a) { r.error("error in Join SharePlay Action", a) } }) } function OVe(n) { const { jet: e, logger: t, sharePlay: i } = n, r = t.loggerFor("jet/action-handlers/shareplay"); e.onAction("approveSharePlayParticipantAction", async s => { r.info("received Approve SharePlay Participant Action:", s); try { return i.approveParticipant(s.identifier), "performed" } catch (o) { r.error("error in Approve SharePlay Participant Action", o) } }) } function NVe(n) { const { jet: e, logger: t, sharePlay: i } = n, r = t.loggerFor("jet/action-handlers/shareplay"); e.onAction("rejectSharePlayParticipantAction", async s => { r.info("received Reject SharePlay Participant Action:", s); try { return i.rejectParticipant(s.identifier), "performed" } catch (o) { r.error("error in Reject SharePlay Participant Action", o) } }) } function BVe(n) { const { jet: e, logger: t, songShift: i } = n, r = t.loggerFor("jet/action-handlers/songShift"); e.onAction("launchSongShiftAction", async s => { r.info("received Launch SongShift Action", s); try { if (s.launchAction === es.review) { const o = i.getSavedSession(); if (o) { i.openTransferMusicModal(); const a = await e.dispatch(jF({ sessionID: o })); i.updateSession(a), i == null || i.review() } } else s.launchAction === es.start && (i == null || i.start()); return "performed" } catch (o) { r.error("error in Launch SongShift Action", o) } }) } function UVe(n) { const { jet: e, logger: t, songShift: i } = n, r = t.loggerFor("jet/action-handlers/songShift"); e.onAction("UpdateSongShiftSessionAction", async s => { r.info("received Update SongShift Session Action", s); try { return i.updateSession(s.sessionStatus), "performed" } catch (o) { r.error("error in Update SongShift Session Action", o) } }) } function HVe(n) { const { jet: e, logger: t, songShift: i } = n, r = t.loggerFor("jet/action-handlers/songShift"); e.onAction("clearSavedSongShiftSessionAction", async s => { r.info("received Clear Saved SongShift Session Action", s); try { return i == null || i.clearSession(), "performed" } catch (o) { r.error("error in Clear Saved SongShift Session Action", o) } }) } function $Ve(n) { const { jet: e, logger: t, songShift: i } = n, r = t.loggerFor("jet/action-handlers/songShift"); e.onAction("closeSongShiftAction", async s => { r.info("received close SongShift Action", s); try { return i == null || i.close(), "performed" } catch (o) { r.error("error in Launch SongShift Action", o) } }) } function VVe(n) { const { jet: e, logger: t, songShift: i } = n, r = t.loggerFor("jet/action-handlers/songShift"); e.onAction("hideTransferMusicTip", async s => { r.info("received Launch SongShift Action", s); try { return i.hideBubbleTip(), "performed" } catch (o) { r.error("error in Hide transfer music bubble tip Action", o) } }) } function zVe(n) { const { jet: e, logger: t, songShift: i } = n, r = t.loggerFor("jet/action-handlers/transfer-music"); e.onAction("completeTransferMusicAuth", async s => { r.info("received Complete Transfer Music Auth Action", s); try { return i.completeOAuth(s.oauthData), "performed" } catch (o) { r.error("error in Complete Transfer Music Auth Action", o) } }) } function qVe(n) { const { jet: e, logger: t } = n, i = t.loggerFor("jet/action-handlers/report-a-concern-action"); e.onAction("reportAConcernAction", async r => { i.info("received Report A Concern Action:", r); const { concern: s, concernData: o, type: a } = r; try { return await e.dispatch(_ae({ concern: s, concernData: o, type: a })), "performed" } catch (l) { i.error("error in Report A Concern Action", l) } }) } var WVe = (n => (n.Name = "GetLibraryPinsIntent", n))(WVe || {}), KVe = (n => (n.Name = "AddLibraryPinsIntent", n))(KVe || {}), JVe = (n => (n.Name = "DeleteLibraryPinsIntent", n))(JVe || {}), YVe = (n => (n.Name = "UpdateLibraryPinsIntent", n))(YVe || {}), XVe = (n => (n.Name = "MoveLibraryPinIntent", n))(XVe || {}); function ZVe(n) { return { ...n, $kind: "GetLibraryPinsIntent" } } function QVe(n) { return { ...n, $kind: "AddLibraryPinsIntent" } } function jVe(n) { return { ...n, $kind: "DeleteLibraryPinsIntent" } } function GVe(n) { return { ...n, $kind: "UpdateLibraryPinsIntent" } } function xVe(n) { return { ...n, $kind: "MoveLibraryPinIntent" } } var vU = (n => (n.SUCCESS = "200", n.MAX_PINS = "40000", n))(vU || {}); function eze(n) { const { jet: e, logger: t, i18n: i } = n, r = t.loggerFor("jet/action-handlers/add-library-pin-action"); e.onAction("addLibraryPinAction", async s => { r.info("received AddLibraryPinAction:", s); try { const o = await e.dispatch(QVe({ itemId: s.itemId })); return (o == null ? void 0 : o.status) === vU.MAX_PINS && Ku.set({ currentWarning: { header: i.t("ASE.Web.Music.Pins.MaxPinsWarning.Header"), message: i.t("ASE.Web.Music.Pins.MaxPinsWarning.Body"), confirmText: i.t("ASE.Web.Music.OK"), resolveCb: () => { e.recordCustomMetricsEvent({ dialogId: "PinnedContent", dialogType: "Ok", eventType: "dialog", message: i.t("ASE.Web.Music.Pins.MaxPinsWarning.Body"), options: "OK", result: "button", subjectId: s.itemId, targetId: "Ok", title: "Maximum Pins Reached", userActions: [{ actionType: "Ok", responseTime: new Date().toString(), targetId: "OK" }] }) } } }), o != null && o.pins && Mr.setPins(o.pins), "performed" } catch (o) { throw r.error("Add Library Pin Action Error: ", o), new Error("an error occurred while handling AddLibraryPinAction") } }) } function tze(n) { const { jet: e, logger: t } = n, i = t.loggerFor("jet/action-handlers/delete-library-pin-action"); e.onAction("deleteLibraryPinAction", async r => { i.info("received DeleteLibraryPinAction:", r); try { Mr.removePin(r.itemId); const s = await e.dispatch(jVe({ itemId: r.itemId })); return s != null && s.pins && Mr.setPins(s.pins), "performed" } catch (s) { throw i.error("Delete Library Pin Action Error: ", s), new Error("an error occurred while handling DeleteLibraryPinAction") } }) } function nze(n) { const { jet: e, logger: t } = n, i = t.loggerFor("jet/action-handlers/get-library-pins-action"); e.onAction("getLibraryPinsAction", async r => { i.info("received GetLibraryPinsAction:", r); try { const s = await e.dispatch(ZVe({})); return s != null && s.pins && Mr.setPins(s.pins), "performed" } catch (s) { throw i.error("Get Library Pins Action Error: ", s), new Error("an error occurred while handling GetLibraryPinsAction") } }) } function ize(n) { const { jet: e, logger: t } = n, i = t.loggerFor("jet/action-handlers/move-library-pin-action"); e.onAction("moveLibraryPinAction", async r => { i.info("received MoveLibraryPinAction:", r); try { Mr.rearrangePin(r.itemId, r.after); const s = await e.dispatch(xVe({ itemId: r.itemId, after: r.after })); return s != null && s.pins && Mr.setPins(s.pins), "performed" } catch (s) { throw i.error("Move Library Pin Action Error: ", s), new Error("an error occurred while handling MoveLibraryPinAction") } }) } function rze(n) { const { jet: e, logger: t, i18n: i } = n, r = t.loggerFor("jet/action-handlers/open-smart-playlist-action"); e.onAction("openSmartPlaylistAction", async s => { r.info("received OpenSmartPlaylistAction:", s); try { return await io({ header: i.t("ASE.Web.Music.SmartPlaylistsWarning.Header"), message: i.t("ASE.Web.Music.SmartPlaylistsWarning.Body"), actionText: i.t("ASE.Web.Music.SmartPlaylistsWarning.OpenMusicButton"), confirmText: i.t("ASE.Web.Music.Cancel") }) && s.id && Ws("https://music.apple.com", bs), "performed" } catch (o) { throw r.error("Update Library Pin Action Error: ", o), new Error("an error occurred while handling OpenSmartPlaylistAction") } }) } function sze(n) { const { jet: e, logger: t } = n, i = t.loggerFor("jet/action-handlers/update-library-pin-action"); e.onAction("updateLibraryPinAction", async r => { i.info("received UpdateLibraryPinAction:", r); try { const s = await e.dispatch(GVe({ itemId: r.itemId, action: r.action })); return s != null && s.pins && Mr.setPins(s.pins), "performed" } catch (s) { throw i.error("Update Library Pin Action Error: ", s), new Error("an error occurred while handling UpdateLibraryPinAction") } }) } function oze(n) { ble(n), wle(n), nVe(n), iVe(n), rVe(n), sVe(n), lVe(n), L_e(n), uVe(n), cVe(n), dVe(n), fVe(n), gVe(n), hVe(n), pVe(n), vle(n), _Ve(n), vVe(n), bVe(n), yVe(n), wVe(n), kVe(n), DVe(n), SVe(n), CVe(n), PVe(n), AVe(n), EVe(n), LVe(n), MVe(n), IVe(n), FVe(n), TVe(n), RVe(n), OVe(n), NVe(n), qVe(n), BVe(n), UVe(n), HVe(n), $Ve(n), VVe(n), zVe(n), eze(n), tze(n), nze(n), ize(n), rze(n), sze(n), ole(n) } const aze = ["music", "beta"], lze = "onyx_music", uze = () => { const n = typeof window < "u" && window.location.host.split(".")[0]; return aze.includes(n) ? "prod" : "dev" }, cze = { project: lze, environment: uze(), release: Vs }; var Eu; (function (n) { n.Fatal = "fatal", n.Error = "error", n.Warning = "warning", n.Log = "log", n.Info = "info", n.Debug = "debug", n.Critical = "critical" })(Eu || (Eu = {})); const dze = (n, e) => { if (typeof window > "u") return; const t = e.loggerFor("errorkit"), r = !window.location.href.includes("multidev"), s = async () => { let o = null; if (r) try { const { createSentryConfig: a } = await ft(() => import("./index-86203540.js"), ["assets/index-86203540.js", "assets/version-0abb7ed5.js"]), l = await ft(() => import("./index-773f95b0.js"), ["assets/index-773f95b0.js", "assets/version-0abb7ed5.js"]); l.init(a(n)), o = { addBreadcrumb: l.addBreadcrumb, captureException: l.captureException, captureMessage: l.captureMessage } } catch (a) { t.error("something went wrong setting up errorKit", a) } return o }; return new fze(s(), t, r) }; class fze { constructor(e, t, i) { He(this, "sentry"); He(this, "logger"); He(this, "isErrorKitEnabled"); this.sentry = e, this.logger = t, this.isErrorKitEnabled = i, i || t.debug("errorkit is disabled") } async captureMessage(e) { if (!this.isErrorKitEnabled) return; const t = await this.sentry; t ? (t.addBreadcrumb({ category: "log.warn", level: Eu.Warning }), t.captureMessage(e, Eu.Warning)) : this.logger.warn(`${e} was not sent to errorKit`) } async captureException(e) { if (!this.isErrorKitEnabled) return; const t = await this.sentry; t ? (t.addBreadcrumb({ type: "error", category: "error", level: Eu.Error }), t.captureException(e)) : this.logger.warn("The following exception was not sent to errorKit:", e) } } const bU = { error: "error", error_warn: "error_warn" }; class gze { constructor(e, t) { He(this, "errorKit"); He(this, "reportLevel"); this.errorKit = e, this.reportLevel = t != null ? t : bU.error } loggerFor(e) { return new hze(e, this.errorKit, this.reportLevel) } } class hze { constructor(e, t, i) { He(this, "name"); He(this, "errorKit"); He(this, "reportLevel"); this.name = e, this.errorKit = t, this.reportLevel = i } stringifyConsoleArgs(...e) { return e.reduce((t, i) => { let r; switch (!0) { case i instanceof Error: { r = i.message; break } case typeof i == "object": { try { r = JSON.stringify(i) } catch (s) { r = `failed to stringify ${i}` } break } case (typeof i > "u" || i === null): { r = `${i}`; break } default: r = i }return `${t} ${r.toString()}` }, `[${this.name}]`) } debug(...e) { return "" } info(...e) { return "" } warn(...e) { return this.reportLevel === bU.error_warn && this.errorKit.captureMessage(this.stringifyConsoleArgs(...e)), "" } error(...e) { const t = e.filter(s => s instanceof Error), i = this.stringifyConsoleArgs(...e), r = t.length === 0 ? new Error(i) : t[0]; return r.message = i, this.errorKit.captureException(r), "" } } var mze = "https://buy.music.apple.com/account/v1/affiliation/association", _u = (n => (n[n.up = -1] = "up", n[n.down = 1] = "down", n))(_u || {}); function pze() { const n = Tt({ itemLists: new Map, allItems: [], currentMouseTarget: null, selectedItemsWithShiftArrows: [], selectedItems: [], shiftArrowDirection: void 0, lastSelectedItemNotByShiftClick: void 0 }), { subscribe: e, set: t, update: i } = n; function r(b) { let y = []; return b.forEach(k => { y = [...y, ...k] }), y } function s(b) { return { ...b, shiftArrowDirection: void 0, selectedItemsWithShiftArrows: [] } } function o(b) { const y = b.allItems; let k = y.findIndex(C => C === b.lastSelectedItemNotByShiftClick), S = y[k + b.shiftArrowDirection]; S && (b.selectedItems = l([...b.selectedItems, S], y), b.lastSelectedItemNotByShiftClick = S, b.selectedItemsWithShiftArrows.push(S)) } function a(b) { const y = b.allItems; let k = b.selectedItemsWithShiftArrows.pop(), S = b.selectedItemsWithShiftArrows[b.selectedItemsWithShiftArrows.length - 1]; if (S) b.lastSelectedItemNotByShiftClick = S; else { let C = y.findIndex(P => P === b.lastSelectedItemNotByShiftClick); b.lastSelectedItemNotByShiftClick = y[C - b.shiftArrowDirection], b.shiftArrowDirection = void 0 } b.selectedItems = b.selectedItems.filter(C => C !== k) } function l(b, y) { return b.slice().sort((k, S) => y.indexOf(k) - y.indexOf(S)) } const u = b => { i(y => s({ ...y, selectedItems: [b], lastSelectedItemNotByShiftClick: b })) }, c = b => { i(y => { const k = y.allItems; let S = k[k.indexOf(b) - 1]; return S ? s({ ...y, selectedItems: [S], lastSelectedItemNotByShiftClick: S }) : y }) }, d = b => { i(y => { const k = y.allItems; let S = y.allItems[k.indexOf(b) + 1]; return S ? s({ ...y, selectedItems: [S], lastSelectedItemNotByShiftClick: S }) : y }) }, f = b => i(y => { let S = y.selectedItems.includes(b) ? y.selectedItems.filter(C => C !== b) : l([...y.selectedItems, b], y.allItems); return s({ ...y, selectedItems: S, lastSelectedItemNotByShiftClick: b }) }), g = b => i(y => { let k = l([...y.selectedItems, ...b], y.allItems); return s({ ...y, selectedItems: k }) }), h = () => i(b => { let y = b.allItems; return s({ ...b, selectedItems: y }) }), m = b => i(y => { const k = y.allItems; let S = k.findIndex(F => F === y.lastSelectedItemNotByShiftClick); if (S === void 0) { u(b); return } let C = k.findIndex(F => F === b), P = y.selectedItems.includes(b), M; C > S ? M = k.slice(S, C + 1) : M = k.slice(C, S + 1); let R = [...y.selectedItems]; return P ? R = R.filter(F => M.includes(F)) : (M.forEach(F => { R.includes(F) || R.push(F) }), R = l(R, y.allItems)), s({ ...y, selectedItems: R }) }); return { subscribe: e, set: t, update: i, selectItem: u, selectPreviousItem: c, selectNextItem: d, selectMultiple: g, selectAll: h, clearSelection: () => { i(b => s({ ...b, selectedItems: [] })) }, setCurrentMouseTarget: b => { i(y => ({ ...y, currentMouseTarget: b })) }, addItems: (b, y) => { i(k => { const S = k.itemLists, P = [...S.get(b) || [], ...y]; S.set(b, P); const M = r(S); let R = M.find(N => "isProminent" in N && N.isProminent), F = k.selectedItems.length > 0 ? k.selectedItems : R ? [R] : []; return { ...k, itemLists: S, allItems: M, selectedItems: F } }) }, getItems: b => $t(n).itemLists.get(b) || [], handleClick: (b, y) => { y.shiftKey ? m(b) : y.metaKey ? f(b) : u(b) }, handleKeydown: b => { i(y => { const k = y.allItems; let S = k.findIndex(C => C === y.lastSelectedItemNotByShiftClick); switch (b.key) { case "ArrowDown": if (b.preventDefault(), b.shiftKey) return !y.shiftArrowDirection || y.shiftArrowDirection === _u.down ? (y.shiftArrowDirection = _u.down, o(y)) : a(y), { ...y }; { let C = k[S + 1]; return C && (y.lastSelectedItemNotByShiftClick = C, y.selectedItems = [C]), s(y) } case "ArrowUp": if (b.preventDefault(), b.shiftKey) return !y.shiftArrowDirection || y.shiftArrowDirection === _u.up ? (y.shiftArrowDirection = _u.up, o(y)) : a(y), { ...y }; { let C = k[S - 1]; return C && (y.lastSelectedItemNotByShiftClick = C, y.selectedItems = [C]), s(y) } default: return y } }) }, resetItems: b => { i(y => { const k = y.itemLists; k.delete(b); const S = r(k); return { itemLists: k, allItems: S, currentMouseTarget: null, selectedItemsWithShiftArrows: [], selectedItems: [], shiftArrowDirection: void 0, lastSelectedItemNotByShiftClick: void 0 } }) } } } const yU = "itemSelector"; function _ze(n) { const e = pze(); n.set(yU, e) } function TKe() { const n = gi(yU); if (!n) throw new Error("getItemSelector called before setupItemSelector"); return n } async function vze(n) { } async function bze() { var S; const n = await vze(), e = new f$, t = dze(cze, e), i = new a$([e, new gze(t), ...n ? [n.recordingLogger] : []]), r = await tle(window.location.href, ts, mze), s = RUe(ple, i), { context: o, jet: a, initialAction: l, storefront: u, language: c, locale: d, i18n: f } = await tVe(i, r, window.fetch.bind(window), { hasMediaUserToken() { return !!Ci("media-user-token") }, getUserStorefront() { return Ci("itua") } }, { getITFEValues() { var C; return (C = n == null ? void 0 : n.featureKit) == null ? void 0 : C.itfe } }, qu.fromDom(i), void 0); yUe(o, s, i), h$(o, i), ule(a, i), mge(c); const g = y_.load(o, i, a, n == null ? void 0 : n.featureKit, u, c), h = A_.load(o, a, i, g, f), m = f_.setup(o, i, g, a, h, { language: c, storefront: u }), v = await h_.setup(o, a, m, i, { language: c, storefront: u }, f); wCe.setup(o, i, m, a); const b = D_.setup(o, i); k_.setup(o, a, d, b, { shouldDisplayPrivacyLink: (S = g.shouldDisplayPrivacyLink) == null ? void 0 : S.bind(g) }, f, i, m, h), JNe(o), _ze(o); const y = document.querySelector(".body-container"), k = new Z$e({ target: y, context: o, hydrate: !0 }); oze({ jet: a, logger: i, updateApp: C => { k.$set(C) }, playback: g, i18n: f, commerce: m, fullScreenPlayerState: Er, localLibraryState: b, perfkit: s, sharePlay: h, songShift: v }), l ? await a.perform(l) : k.$set({ page: Promise.reject(new Error("404")), firstPage: !0 }) } ({ BASE_URL: "/", MODE: "production", DEV: !1, PROD: !0, SSR: !1, APP_SCOPE: '"external"', LEGACY: !1 }).VITEST || bze(); export { Ut as $, Io as A, $ze as B, x as C, KVe as D, JVe as E, vt as F, WVe as G, XVe as H, se as I, ye as J, uo as K, _$ as L, gt as M, ut as N, L as O, Op as P, Y as Q, T as R, oe as S, E as T, YVe as U, _ as V, X as W, p as X, Pt as Y, I as Z, A as _, wze as __vite_legacy_guard, lA as a, Gt as a$, Me as a0, Cr as a1, Gu as a2, te as a3, lr as a4, Ir as a5, ne as a6, w as a7, D as a8, Ot as a9, Le as aA, at as aB, Ie as aC, ji as aD, us as aE, Qn as aF, Qt as aG, le as aH, ue as aI, me as aJ, yn as aK, Tt as aL, zze as aM, ce as aN, _l as aO, fn as aP, ot as aQ, Tn as aR, xt as aS, $P as aT, tr as aU, Uze as aV, Qg as aW, ENe as aX, mh as aY, nH as aZ, Ol as a_, It as aa, Yt as ab, qSe as ac, mn as ad, wt as ae, j as af, We as ag, Je as ah, Ye as ai, Ke as aj, re as ak, Wr as al, V as am, q as an, H as ao, $ as ap, kn as aq, WSe as ar, G_ as as, Bt as at, J as au, Ft as av, ht as aw, fe as ax, ve as ay, be as az, Bi as b, FMe as b$, sn as b0, zn as b1, TKe as b2, O1 as b3, fr as b4, kR as b5, BB as b6, ls as b7, Ml as b8, Nc as b9, cle as bA, kve as bB, ln as bC, vCe as bD, kWe as bE, Pl as bF, oK as bG, YI as bH, DWe as bI, SWe as bJ, RP as bK, Vze as bL, jU as bM, Wg as bN, Bs as bO, rh as bP, CR as bQ, zB as bR, Tl as bS, oa as bT, yi as bU, Es as bV, _y as bW, vr as bX, ir as bY, fi as bZ, ni as b_, Bze as ba, pl as bb, WO as bc, Zg as bd, Hze as be, tl as bf, Ki as bg, so as bh, en as bi, Bc as bj, Js as bk, Ns as bl, al as bm, H_ as bn, bi as bo, Mc as bp, Do as bq, oBe as br, ya as bs, Oo as bt, _5e as bu, $r as bv, hke as bw, a9e as bx, ii as by, f1 as bz, Ne as c, Xe as c0, fl as c1, kN as c2, tv as c3, jt as c4, s3 as d, Wu as e, Hp as f, Dze as g, vU as h, rt as i, Vt as j, Tq as k, Pr as l, st as m, At as n, xte as o, UE as p, Tne as q, Xte as r, wb as s, DR as t, hJ as u, TE as v, je as w, yne as x, pt as y, hi as z };

